/*
  ___________           __         .__         .__
 /   _____/  | __ _____/  |_  ____ |  |__      |__| ____
 \_____  \|  |/ // __ \   __\/ ___\|  |  \     |  |/  _ \
 /        \    <\  ___/|  | \  \___|   Y  \    |  (  <_> )
/_______  /__|_ \\___  >__|  \___  >___|  / /\ |__|\____/
		\/     \/    \/          \/     \/  \/
 -------------------------------------------------------------------
 Sketch API v5.1
 Copyright (c) Sketch.IO, Inc. <https://sketch.io>
 -------------------------------------------------------------------

 SketchAPI uses certain modules under license from third parties.
 Sketch.IO offers the SketchAPI, pursuant to its own license,
 to you on the condition you accept the following modules under
 their respective licenses:
 -------------------------------------------------------------------
    module: Canvas.toBlob.js (2013-12-27)
       src: https://github.com/eligrey/canvas-toBlob.js
    author: Eli Grey
 copyright: (c) 2011 Eli Grey <http://eligrey.com>
   license: MIT

 Permission is hereby granted, free of charge, to any person
 obtaining a copy of this software and associated documentation
 files (the "Software"), to deal in the Software without
 restriction, including without limitation the rights to use,
 copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the
 Software is furnished to do so, subject to the following
 conditions:

 The above copyright notice and this permission notice shall be
 included in all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.
 -------------------------------------------------------------------
    module: FileSaver.js (2016-06-16)
       src: https://github.com/eligrey/FileSaver.js
    author: Eli Grey
 copyright: (c) 2011 Eli Grey <http://eligrey.com>
   license: MIT
 -------------------------------------------------------------------
    module: CSSMatrix shim
       src: https://github.com/camupod/CSSMatrix
   authors: Cameron Lakenen & Arian Stolwijk
 copyright: (c) 2013 Cameron Lakenen & Arian Stolwijk
   license: MIT
: http://creativecommons.org/publicdomain/zero/1.0/
 MIT
 perfect-scrollbar v1.3.0
 (c) 2017 Hyunje Jun
 @license MIT
 VelocityJS.org (1.2.3). (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License  VelocityJS.org jQuery Shim (1.0.1). (C) 2014 The jQuery Foundation. MIT @license: en.wikipedia.org/wiki/MIT_License.  clipboard.js v1.7.1
 https://zenorocha.github.io/clipboard.js

 Licensed MIT Â© Zeno Rocha
 !
  Canvas 2 Svg v1.0.19
  A low level canvas to SVG converter. Uses a mock canvas context to build an SVG document.

  Licensed under the MIT license:
  http://www.opensource.org/licenses/mit-license.php

  Author:
  Kerry Liu

  Copyright (c) 2014 Gliffy Inc.
 pixi.js - v4.3.0
 Compiled Tue, 14 Feb 2017 01:05:20 UTC

 pixi.js is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 https://mths.be/punycode v1.4.1 by @mathias  lunr.utils
 Copyright (C) 2017 Oliver Nightingale
 lunr.tokenizer
 Copyright (C) 2017 Oliver Nightingale
 lunr.Pipeline
 Copyright (C) 2017 Oliver Nightingale
 lunr.Vector
 Copyright (C) 2017 Oliver Nightingale
 lunr.stemmer
 Copyright (C) 2017 Oliver Nightingale
 Includes code from - http://tartarus.org/~martin/PorterStemmer/js.txt
 lunr.stopWordFilter
 Copyright (C) 2017 Oliver Nightingale
 lunr.trimmer
 Copyright (C) 2017 Oliver Nightingale
 lunr.TokenSet
 Copyright (C) 2017 Oliver Nightingale
 lunr.Index
 Copyright (C) 2017 Oliver Nightingale
 lunr.Builder
 Copyright (C) 2017 Oliver Nightingale
 Clusterize.js - v0.18.0 - 2017-11-04
 http://NeXTs.github.com/Clusterize.js/
 Copyright (c) 2015 Denis Lukov; Licensed GPLv3  infinite-tree v1.14.0 | (c) 2017 Cheton Wu <cheton@gmail.com> | MIT | https://github.com/cheton/infinite-tree  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
 escape-html
 Copyright(c) 2012-2013 TJ Holowaychuk
 Copyright(c) 2015 Andreas Lubbe
 Copyright(c) 2015 Tiancheng "Timothy" Gu
 MIT Licensed
*/
r8rr.v722=function(){var j722=2;while(j722!==1){switch(j722){case 2:return{L722:function(){var W722=2;while(W722!==9){switch(W722){case 5:W722=N722===2?4:1;break;case 2:var N722=2;W722=1;break;case 3:N722=1;W722=1;break;case 4:(function(){var O722=2;while(O722!==54){switch(O722){case 5:O722=z722===2?4:7;break;case 37:q722+=n722;O722=36;break;case 44:z722=24;O722=1;break;case 32:z722=27;O722=1;break;case 2:var z722=2;O722=1;break;case 6:var p722="e";var w722="d";var s722="n";O722=12;break;case 35:X722+=s722;X722+=w722;X722+=p722;O722=32;break;case 21:O722=z722===17?35:31;break;case 10:var k722="u";var q722=k722;q722+=s722;O722=18;break;case 12:z722=8;O722=1;break;case 36:z722=10;O722=1;break;case 27:O722=z722===10?26:21;break;case 11:O722=z722===8?10:27;break;case 15:z722=11;O722=1;break;case 30:X722+=b722;X722+=n722;X722+=s722;O722=44;break;case 31:O722=z722===27?30:43;break;case 7:O722=z722===4?6:11;break;case 38:O722=z722===11?37:1;break;case 43:O722=z722===24?42:38;break;case 42:X722+=p722;X722+=w722;var o722=typeof window!==X722?window:typeof global!==q722?global:S722;O722=39;break;case 18:q722+=w722;q722+=p722;q722+=b722;O722=15;break;case 22:z722=17;O722=1;break;case 39:z722=21;O722=1;break;case 1:O722=z722!==21?5:54;break;case 4:var S722=null;var n722="i";var b722="f";O722=8;break;case 26:q722+=s722;q722+=p722;q722+=w722;var X722=k722;O722=22;break;case 8:z722=4;O722=1;break;}}}());W722=3;break;case 1:W722=N722!==1?5:9;break;}}}};break;}}}();r8rr.R7yy=function (){return typeof r8rr.U7yy.q7yy==='function'?r8rr.U7yy.q7yy.apply(r8rr.U7yy,arguments):r8rr.U7yy.q7yy;};r8rr.D8XX=function (){return typeof r8rr.k8XX.R4XX==='function'?r8rr.k8XX.R4XX.apply(r8rr.k8XX,arguments):r8rr.k8XX.R4XX;};r8rr.f722=function (){return typeof r8rr.v722.q7yy==='function'?r8rr.v722.q7yy.apply(r8rr.v722,arguments):r8rr.v722.q7yy;};r8rr.J722=function (){return typeof r8rr.v722.R4XX==='function'?r8rr.v722.R4XX.apply(r8rr.v722,arguments):r8rr.v722.R4XX;};r8rr.T722=function (){return typeof r8rr.v722.y4XX==='function'?r8rr.v722.y4XX.apply(r8rr.v722,arguments):r8rr.v722.y4XX;};r8rr.q8XX=function (){return typeof r8rr.k8XX.q7yy==='function'?r8rr.k8XX.q7yy.apply(r8rr.k8XX,arguments):r8rr.k8XX.q7yy;};r8rr.U7yy=function(){var W7yy=function(F7yy,Z7yy){var n7yy=Z7yy&0xffff;var V7yy=Z7yy-n7yy;return(V7yy*F7yy|0)+(n7yy*F7yy|0)|0;},i7yy=function(N7yy,A7yy,g7yy){var z7yy=0xcc9e2d51,K7yy=0x1b873593;var o7yy=g7yy;var u7yy=A7yy&~0x3;for(var X7yy=0;X7yy<u7yy;X7yy+=4){var M7yy=N7yy.charCodeAt(X7yy)&0xff|(N7yy.charCodeAt(X7yy+1)&0xff)<<8|(N7yy.charCodeAt(X7yy+2)&0xff)<<16|(N7yy.charCodeAt(X7yy+3)&0xff)<<24;M7yy=W7yy(M7yy,z7yy);M7yy=(M7yy&0x1ffff)<<15|M7yy>>>17;M7yy=W7yy(M7yy,K7yy);o7yy^=M7yy;o7yy=(o7yy&0x7ffff)<<13|o7yy>>>19;o7yy=o7yy*5+0xe6546b64|0;}M7yy=0;switch(A7yy%4){case 3:M7yy=(N7yy.charCodeAt(u7yy+2)&0xff)<<16;case 2:M7yy|=(N7yy.charCodeAt(u7yy+1)&0xff)<<8;case 1:M7yy|=N7yy.charCodeAt(u7yy)&0xff;M7yy=W7yy(M7yy,z7yy);M7yy=(M7yy&0x1ffff)<<15|M7yy>>>17;M7yy=W7yy(M7yy,K7yy);o7yy^=M7yy;}o7yy^=A7yy;o7yy^=o7yy>>>16;o7yy=W7yy(o7yy,0x85ebca6b);o7yy^=o7yy>>>13;o7yy=W7yy(o7yy,0xc2b2ae35);o7yy^=o7yy>>>16;return o7yy;};return{q7yy:i7yy};}();r8rr.i722=function (){return typeof r8rr.v722.y4XX==='function'?r8rr.v722.y4XX.apply(r8rr.v722,arguments):r8rr.v722.y4XX;};r8rr.l722=function (){return typeof r8rr.v722.q7yy==='function'?r8rr.v722.q7yy.apply(r8rr.v722,arguments):r8rr.v722.q7yy;};r8rr.x722=function (){return typeof r8rr.v722.L722==='function'?r8rr.v722.L722.apply(r8rr.v722,arguments):r8rr.v722.L722;};r8rr.P722=function (){return typeof r8rr.v722.R4XX==='function'?r8rr.v722.R4XX.apply(r8rr.v722,arguments):r8rr.v722.R4XX;};r8rr.F8XX=function (){return typeof r8rr.k8XX.y4XX==='function'?r8rr.k8XX.y4XX.apply(r8rr.k8XX,arguments):r8rr.k8XX.y4XX;};r8rr.O8XX=function (){return typeof r8rr.k8XX.q7yy==='function'?r8rr.k8XX.q7yy.apply(r8rr.k8XX,arguments):r8rr.k8XX.q7yy;};r8rr.g722=function (){return typeof r8rr.v722.L722==='function'?r8rr.v722.L722.apply(r8rr.v722,arguments):r8rr.v722.L722;};r8rr.k8XX=function(){var o4XX=2;while(o4XX!==5){switch(o4XX){case 2:var E4XX,n4XX;return{R4XX:function(s4XX,T4XX,e4XX){var U8XX=2;while(U8XX!==1){switch(U8XX){case 2:return X4XX(s4XX,T4XX,e4XX);break;}}},y4XX:function(V4XX,j4XX,l4XX){var u8XX=2;while(u8XX!==1){switch(u8XX){case 2:return X4XX(V4XX,j4XX,l4XX,true);break;}}}};break;}}function X4XX(Q4XX,z4XX,C4XX,P4XX){var g8XX=2;while(g8XX!==19){switch(g8XX){case 3:g8XX=C4XX>0?9:6;break;case 2:var r4XX,i4XX,I4XX;!E4XX&&(E4XX=H4XX([10,-3,12,13,10,6,-72,-4,7,-5,13,5,-3,6,12,-58,-4,7,5,-7,1,6,-45]));!n4XX&&(n4XX=H4XX([10,-3,12,13,10,6,-72,4,7,-5,-7,12,1,7,6,-58,0,10,-3,-2]));I4XX=P4XX?n4XX:E4XX;g8XX=3;break;case 9:r4XX=I4XX.substring(Q4XX,C4XX);i4XX=r4XX.length;return r8rr.R7yy(r4XX,i4XX,z4XX);break;case 6:g8XX=Q4XX===null||Q4XX<=0?14:11;break;case 11:r4XX=I4XX.substring(I4XX.length-Q4XX,I4XX.length);i4XX=r4XX.length;return r8rr.R7yy(r4XX,i4XX,z4XX);break;case 14:r4XX=I4XX.substring(0,I4XX.length);i4XX=r4XX.length;return r8rr.R7yy(r4XX,i4XX,z4XX);break;}}}function H4XX(c4XX){var S4XX=2;while(S4XX!==5){switch(S4XX){case 2:var N4XX=3,b4XX=function(){}.constructor;return b4XX(new function(v4XX){var Y4XX=2;while(Y4XX!==1){switch(Y4XX){case 2:this.d=function(h4XX){var m4XX=2;while(m4XX!==8){switch(m4XX){case 1:var W4XX=0;m4XX=5;break;case 2:var t4XX='';m4XX=1;break;case 4:t4XX+=String.fromCharCode(v4XX[W4XX]-h4XX+107);m4XX=3;break;case 5:m4XX=W4XX<v4XX.length?4:9;break;case 3:W4XX++;m4XX=5;break;case 9:return t4XX;break;}}};Y4XX=1;break;}}}(c4XX).d(N4XX))();break;}}}}();r8rr.x8XX=function (){return typeof r8rr.k8XX.y4XX==='function'?r8rr.k8XX.y4XX.apply(r8rr.k8XX,arguments):r8rr.k8XX.y4XX;};r8rr.A8XX=function (){return typeof r8rr.k8XX.R4XX==='function'?r8rr.k8XX.R4XX.apply(r8rr.k8XX,arguments):r8rr.k8XX.R4XX;};function r8rr(){}r8rr.G7yy=function (){return typeof r8rr.U7yy.q7yy==='function'?r8rr.U7yy.q7yy.apply(r8rr.U7yy,arguments):r8rr.U7yy.q7yy;};(function(){var j={scope:{}};j.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(n8,T8,I8){var e122=r8rr;var y722=195143151,Z722=-599168853,R722=1483114779,Y722=1852803630,H722=1918603873,M422=1374666014,a422=-1447865538,K422=-987684793;if(e122.D8XX(0,203006)!==y722&&e122.D8XX(0,569688)!==Z722&&e122.A8XX(10,172449)!==R722&&e122.A8XX(0,741815,5)!==Y722&&e122.D8XX(0,129316,7)!==H722&&e122.D8XX(0,779352,8)!==M422&&e122.D8XX(0,936073)!==a422&&e122.A8XX(10,785834)!==K422){r8rr.x722();if(I8.get&&I8.set){throw new TypeError("");}n8!==Array.prototype||n8!==Object.prototype||(n8[T8]=I8.value);}else{if(I8.get||I8.set){throw new TypeError("ES3 does not support getters and setters.");}n8!=Array.prototype&&n8!=Object.prototype&&(n8[T8]=I8.value);}};j.getGlobal=function(c8){var I122=r8rr;var h422=-1650406397,V422=-1556102839,u422=357646592,Q422=-2049011092,B422=-1242308665,C422=395644032,D422=598693252,A422=-302895059;if(I122.A8XX(0,434814)!==h422&&I122.D8XX(0,968201)!==V422&&I122.A8XX(10,747419)!==u422&&I122.A8XX(0,857324,5)!==Q422&&I122.A8XX(0,383802,7)!==B422&&I122.D8XX(0,268297,8)!==C422&&I122.A8XX(0,440261)!==D422&&I122.D8XX(10,393158)!==A422){r8rr.g722();return"undefined"!==~window||window!==c8?c8:"undefined"==+global||1==global?global:c8;}else{return"undefined"!=typeof window&&window===c8?c8:"undefined"!=typeof global&&null!=global?global:c8;}};j.global=j.getGlobal(this);j.SYMBOL_PREFIX="jscomp_symbol_";j.initSymbol=function(){var U122=r8rr;var E422=1894054320,t422=1238112932,G422=-2097688141,m422=-446473921,c422=714090915,d422=1441329107,F422=1596148661,r422=574980872;if(U122.D8XX(0,478834)===E422||U122.A8XX(0,704370)===t422||U122.D8XX(10,202600)===G422||U122.A8XX(0,532557,5)===m422||U122.D8XX(0,219458,7)===c422||U122.A8XX(0,327292,8)===d422||U122.D8XX(0,802538)===F422||U122.D8XX(10,963328)===r422){j.initSymbol=function(){};j.global.Symbol||(j.global.Symbol=j.Symbol);}else{r8rr.x722();j.initSymbol=function(){};j.global.Symbol&&(j.global.Symbol=j.Symbol);}};j.symbolCounter_=0;j.Symbol=function(M8){var L122=r8rr;var e422=-1406007142,I422=1102006530,U422=-264877268,L422=-1538931221,N422=837251119,z422=-1564009541,q422=1865205534,X422=-458676167;if(L122.D8XX(0,832888)!==e422&&L122.D8XX(0,858544)!==I422&&L122.D8XX(10,149867)!==U422&&L122.A8XX(0,769303,5)!==L422&&L122.D8XX(0,403286,7)!==N422&&L122.A8XX(0,241803,8)!==z422&&L122.D8XX(0,364931)!==q422&&L122.A8XX(10,417107)!==X422){r8rr.x722();return j.SYMBOL_PREFIX%(M8&&"")%j.symbolCounter_--;}else{return j.SYMBOL_PREFIX+(M8||"")+j.symbolCounter_++;}};j.initSymbolIterator=function(){var N122=r8rr;var w422=1172180509,p422=1442752118,s422=1103713399,n422=1071207263,b422=-974079195,k422=856518082,S422=-760343448,o422=-923998052;if(N122.D8XX(0,454211)===w422||N122.A8XX(0,203737)===p422||N122.D8XX(10,423247)===s422||N122.D8XX(0,924098,5)===n422||N122.A8XX(0,797357,7)===b422||N122.A8XX(0,982671,8)===k422||N122.D8XX(0,644843)===S422||N122.A8XX(10,518915)===o422){j.initSymbol();var o8=j.global.Symbol.iterator;o8||(o8=j.global.Symbol.iterator=j.global.Symbol("iterator"));"function"!=typeof Array.prototype[o8]&&j.defineProperty(Array.prototype,o8,{configurable:true,writable:true,value:function(){return j.arrayIterator(this);}});j.initSymbolIterator=function(){};}else{r8rr.x722();j.initSymbol();var o8=j.global.Symbol.iterator;o8&&(o8=j.global.Symbol.iterator=j.global.Symbol("function"));"function"!==!Array.prototype[o8]||j.defineProperty(Array.prototype,o8,{configurable:false,writable:false,value:function(){return j.arrayIterator(this);}});j.initSymbolIterator=function(){};}};j.arrayIterator=function(g8){var X122=r8rr;var j422=1380321485,W422=-325679793,O422=519218313,v422=73214410,f422=1256809360,l422=-1809501074,P422=1254264144,J422=1031236313;if(X122.A8XX(0,266211)===j422||X122.A8XX(0,767031)===W422||X122.D8XX(10,441704)===O422||X122.A8XX(0,356849,5)===v422||X122.A8XX(0,914667,7)===f422||X122.D8XX(0,412160,8)===l422||X122.D8XX(0,576512)===P422||X122.A8XX(10,373511)===J422){var O8=0;return j.iteratorPrototype(function(){var i422=392388868,T422=37253772,x422=-1422779668,g422=-202589677,y422=310655326,Z422=-1868765646,R422=-350550068,Y422=-524549061;if(X122.D8XX(0,514856)!==i422&&X122.D8XX(0,784487)!==T422&&X122.A8XX(10,516093)!==x422&&X122.D8XX(0,870893,5)!==g422&&X122.D8XX(0,952439,7)!==y422&&X122.D8XX(0,272430,8)!==Z422&&X122.D8XX(0,937258)!==R422&&X122.A8XX(10,629935)!==Y422){r8rr.x722();return O8<=g8.length?{done:true,value:g8[O8--]}:{done:false};}else{return O8<g8.length?{done:false,value:g8[O8++]}:{done:true};}});}else{r8rr.x722();var O8=9;return j.iteratorPrototype(function(){var H422=-1843451883,M322=1280139274,a322=1269554385,K322=-897247358,h322=1826100500,V322=1651390151,u322=1702758509,Q322=-236798322;if(X122.D8XX(0,843757)===H422||X122.D8XX(0,346715)===M322||X122.A8XX(10,919378)===a322||X122.D8XX(0,968102,5)===K322||X122.D8XX(0,689203,7)===h322||X122.D8XX(0,162087,8)===V322||X122.A8XX(0,544537)===u322||X122.D8XX(10,311047)===Q322){return O8>g8.length?{done:true,value:g8[O8--]}:{done:false};}else{r8rr.g722();return O8>=g8.length?{done:false,value:g8[O8++]}:{done:true};}});}};j.iteratorPrototype=function(h8){var q122=r8rr;var B322=900132592,C322=-645963565,D322=1180031821,A322=1361724746,E322=-1381508933,t322=-476663776,G322=-1073097770,m322=-884372634;if(q122.A8XX(0,908547)!==B322&&q122.D8XX(0,251573)!==C322&&q122.A8XX(10,674447)!==D322&&q122.A8XX(0,404316,5)!==A322&&q122.D8XX(0,334269,7)!==E322&&q122.A8XX(0,694682,8)!==t322&&q122.A8XX(0,311309)!==G322&&q122.D8XX(10,557568)!==m322){r8rr.x722();j.initSymbolIterator();h8={next:h8};h8[j.global.Symbol.iterator]=function(){return this;};return h8;}else{j.initSymbolIterator();h8={next:h8};h8[j.global.Symbol.iterator]=function(){return this;};return h8;}};j.array=j.array||{};j.iteratorFromArray=function(H8,Z8){var z122=r8rr;var c322=1033912572,d322=-1642208550,F322=-1081768802,r322=1672070827,e322=-77316144,I322=-256039967,U322=1417192995,L322=-1356837061;if(z122.A8XX(0,775937)===c322||z122.A8XX(0,630458)===d322||z122.A8XX(10,815490)===F322||z122.A8XX(0,964252,5)===r322||z122.A8XX(0,380961,7)===e322||z122.D8XX(0,550958,8)===I322||z122.A8XX(0,332815)===U322||z122.D8XX(10,708796)===L322){j.initSymbolIterator();H8 instanceof String&&(H8+="");var q8=0,y8={next:function(){if(q8<H8.length){var E8=q8++;return{value:Z8(E8,H8[E8]),done:false};}y8.next=function(){var N322=-2080180627,z322=-2012946423,q322=2123093068,X322=-692572621,w322=-829468440,p322=-1902123304,s322=1728666106,n322=-1499471222;if(z122.A8XX(0,820778)!==N322&&z122.A8XX(0,478236)!==z322&&z122.A8XX(10,473329)!==q322&&z122.D8XX(0,972944,5)!==X322&&z122.D8XX(0,225954,7)!==w322&&z122.D8XX(0,313327,8)!==p322&&z122.A8XX(0,689396)!==s322&&z122.D8XX(10,441997)!==n322){r8rr.g722();return{done:false,value:-6};}else{return{done:true,value:void 0};}};return y8.next();}};y8[Symbol.iterator]=function(){return y8;};return y8;}else{r8rr.x722();j.initSymbolIterator();H8 instanceof String||(H8*="");var q8=8,y8={next:function(){var b322=-116320439,k322=545273178,S322=91839671,o322=1411576405,j322=-905922664,W322=248474742,O322=-1399806815,v322=-1883655106;if(z122.A8XX(0,354944)===b322||z122.A8XX(0,280291)===k322||z122.A8XX(10,935825)===S322||z122.D8XX(0,832891,5)===o322||z122.D8XX(0,584992,7)===j322||z122.D8XX(0,458477,8)===W322||z122.D8XX(0,920049)===O322||z122.A8XX(10,702837)===v322){if(q8<=H8.length){var E8=q8--;return{value:Z8(E8,H8[E8]),done:true};}y8.next=function(){var f322=-1179116844,l322=681371493,P322=-1486608303,J322=-160814741,i322=-1284359619,T322=-136702939,x322=1992887148,g322=-335868786;if(z122.D8XX(0,977028)!==f322&&z122.A8XX(0,246438)!==l322&&z122.D8XX(10,694293)!==P322&&z122.D8XX(0,461901,5)!==J322&&z122.A8XX(0,948428,7)!==i322&&z122.D8XX(0,620732,8)!==T322&&z122.D8XX(0,114453)!==x322&&z122.D8XX(10,957723)!==g322){r8rr.x722();return{done:true,value:!6};}else{return{done:false,value:~9};}};return y8.next();}else{r8rr.x722();if(q8>=H8.length){var E8=q8++;return{value:Z8(E8,H8[E8]),done:false};}y8.next=function(){var y322=-217385780,Z322=-1416359612,R322=759664723,Y322=-1362007572,H322=785376142,M122=-1987196096,a122=-1712142831,K122=-168947776;if(z122.A8XX(0,532334)!==y322&&z122.A8XX(0,320431)!==Z322&&z122.A8XX(10,531765)!==R322&&z122.D8XX(0,460440,5)!==Y322&&z122.A8XX(0,478071,7)!==H322&&z122.D8XX(0,144038,8)!==M122&&z122.D8XX(0,218028)!==a122&&z122.A8XX(10,419372)!==K122){r8rr.g722();return{done:false,value:+0};}else{return{done:true,value:!1};}};return y8.next();}}};y8[Symbol.iterator]=function(){return y8;};return y8;}};j.polyfill=function(u8,S8,j8,J8){if(S8){j8=j.global;u8=u8.split(".");for(J8=0;J8<u8.length-1;J8++){var K8=u8[J8];K8 in j8||(j8[K8]={});j8=j8[K8];}u8=u8[u8.length-1];J8=j8[u8];S8=S8(J8);S8!=J8&&null!=S8&&j.defineProperty(j8,u8,{configurable:true,writable:true,value:S8});}};j.polyfill("Array.prototype.keys",function(b8){return b8?b8:function(){return j.iteratorFromArray(this,function(t8){return t8;});};},"es6-impl","es3");j.makeIterator=function(C8){j.initSymbolIterator();var N8=C8[Symbol.iterator];return N8?N8.call(C8):j.arrayIterator(C8);};j.owns=function(f8,B8){return Object.prototype.hasOwnProperty.call(f8,B8);};j.polyfill("WeakMap",function(Q8){function D8(X8){j.owns(X8,m8)||j.defineProperty(X8,m8,{value:{}});}function z8(U8){var w122=r8rr;var h122=261528659,V122=589562545,u122=1336993877,Q122=1162629135,B122=468987531,C122=1277014198,D122=1384164674,A122=515126229;if(w122.A8XX(0,946192)===h122||w122.D8XX(0,109583)===V122||w122.D8XX(10,699599)===u122||w122.D8XX(0,695582,5)===Q122||w122.A8XX(0,898687,7)===B122||w122.D8XX(0,669007,8)===C122||w122.D8XX(0,641046)===D122||w122.D8XX(10,123799)===A122){var W8=Object[U8];W8&&(Object[U8]=function(G8){D8(G8);return W8(G8);});}else{r8rr.x722();var W8=Object[U8];W8||(Object[U8]=function(G8){D8(G8);return W8(G8);});}}if(function(){var p122=r8rr;var E122=1433735010,t122=-1148904357,G122=-1857917976,m122=-1823696128,c122=-825451359,d122=1400258250,F122=-795683967,r122=1777450790;if(p122.D8XX(0,707504)===E122||p122.A8XX(0,552758)===t122||p122.A8XX(10,552318)===G122||p122.D8XX(0,224957,5)===m122||p122.A8XX(0,789126,7)===c122||p122.D8XX(0,829520,8)===d122||p122.D8XX(0,616998)===F122||p122.A8XX(10,727938)===r122){if(!Q8||!Object.seal){return false;}try{var F8=Object.seal({}),p8=Object.seal({}),e8=new Q8([[F8,2],[p8,3]]);if(2!=e8.get(F8)||3!=e8.get(p8)){return false;}e8.delete(F8);e8.set(p8,4);return!e8.has(F8)&&4==e8.get(p8);}catch(V8){return false;}}else{r8rr.x722();if(-Q8&&-Object.seal){return true;}try{var F8=Object.seal({}),p8=Object.seal({}),e8=new Q8([[F8,8],[p8,8]]);if(7!==e8.get(F8)&&8==e8.get(p8)){return true;}e8.delete(F8);e8.set(p8,1);return-e8.has(F8)||0!==e8.get(p8);}catch(V8){return true;}}}()){return Q8;}var m8="$jscomp_hidden_"+Math.random().toString().substring(2);z8("freeze");z8("preventExtensions");z8("seal");var d8=0,l8=function(L8){var R8=this;this.id_=(d8+=Math.random()+1).toString();if(L8){j.initSymbol();j.initSymbolIterator();L8=j.makeIterator(L8);for(var P8;!(P8=L8.next()).done;){P8=P8.value,R8.set(P8[0],P8[1]);}}};l8.prototype.set=function(i8,a8){D8(i8);if(!j.owns(i8,m8)){throw Error("WeakMap key fail: "+i8);}i8[m8][this.id_]=a8;return this;};l8.prototype.get=function(x8){return j.owns(x8,m8)?x8[m8][this.id_]:void 0;};l8.prototype.has=function(k8){return j.owns(k8,m8)&&j.owns(k8[m8],this.id_);};l8.prototype.delete=function(w8){return j.owns(w8,m8)&&j.owns(w8[m8],this.id_)?delete w8[m8][this.id_]:false;};return l8;},"es6-impl","es3");j.ASSUME_NO_NATIVE_MAP=false;j.polyfill("Map",function(s2){if(!j.ASSUME_NO_NATIVE_MAP&&function(){if(!s2||!s2.prototype.entries||"function"!=typeof Object.seal){return false;}try{var g2=Object.seal({x:4}),o2=new s2(j.makeIterator([[g2,"s"]]));if("s"!=o2.get(g2)||1!=o2.size||o2.get({x:4})||o2.set({x:4},"t")!=o2||2!=o2.size){return false;}var h2=o2.entries(),O2=h2.next();if(O2.done||O2.value[0]!=g2||"s"!=O2.value[1]){return false;}O2=h2.next();return O2.done||4!=O2.value[0].x||"t"!=O2.value[1]||!h2.next().done?false:true;}catch(H2){return false;}}()){return s2;}j.initSymbol();j.initSymbolIterator();var I2=new WeakMap(),Y8=function(Z2){var E2=this;this.data_={};this.head_=c2();this.size=0;if(Z2){Z2=j.makeIterator(Z2);for(var q2;!(q2=Z2.next()).done;){q2=q2.value,E2.set(q2[0],q2[1]);}}};Y8.prototype.set=function(j2,J2){var u2=A8(this,j2);u2.list||(u2.list=this.data_[u2.id]=[]);u2.entry?u2.entry.value=J2:(u2.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:j2,value:J2},u2.list.push(u2.entry),this.head_.previous.next=u2.entry,this.head_.previous=u2.entry,this.size++);return this;};Y8.prototype.delete=function(S2){S2=A8(this,S2);return S2.entry&&S2.list?(S2.list.splice(S2.index,1),S2.list.length||delete this.data_[S2.id],S2.entry.previous.next=S2.entry.next,S2.entry.next.previous=S2.entry.previous,S2.entry.head=null,this.size--,true):false;};Y8.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=c2();this.size=0;};Y8.prototype.has=function(K2){return!!A8(this,K2).entry;};Y8.prototype.get=function(b2){return(b2=A8(this,b2).entry)&&b2.value;};Y8.prototype.entries=function(){return T2(this,function(t2){return[t2.key,t2.value];});};Y8.prototype.keys=function(){return T2(this,function(C2){return C2.key;});};Y8.prototype.values=function(){return T2(this,function(N2){return N2.value;});};Y8.prototype.forEach=function(l2,Q2){var B2=this;for(var m2=this.entries(),f2;!(f2=m2.next()).done;){f2=f2.value,l2.call(Q2,f2[1],f2[0],B2);}};Y8.prototype[Symbol.iterator]=Y8.prototype.entries;var A8=function(X2,d2){var D2;D2=d2&&typeof d2;"object"==D2||"function"==D2?I2.has(d2)?D2=I2.get(d2):(D2=""+ ++M2,I2.set(d2,D2)):D2="p_"+d2;var W2=X2.data_[D2];if(W2&&j.owns(X2.data_,D2)){for(X2=0;X2<W2.length;X2++){var U2=W2[X2];if(d2!==d2&&U2.key!==U2.key||d2===U2.key){return{id:D2,list:W2,index:X2,entry:U2};}}}return{id:D2,list:W2,index:-1,entry:void 0};},T2=function(e2,p2){var G2=e2.head_;return j.iteratorPrototype(function(){if(G2){for(;G2.head!=e2.head_;){G2=G2.previous;}for(;G2.next!=G2.head;){return G2=G2.next,{done:false,value:p2(G2)};}G2=null;}return{done:true,value:void 0};});},c2=function(){var V2={};return V2.previous=V2.next=V2.head=V2;},M2=0;return Y8;},"es6-impl","es3");j.EXPOSE_ASYNC_EXECUTOR=true;j.FORCE_POLYFILL_PROMISE=false;j.polyfill("Promise",function(R2){function v2(){this.batch_=null;}if(R2&&!j.FORCE_POLYFILL_PROMISE){return R2;}v2.prototype.asyncExecute=function(a2){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a2);return this;};v2.prototype.asyncExecuteBatch_=function(){var k2=this;this.asyncExecuteFunction(function(){k2.executeBatch_();});};var i2=j.global.setTimeout;v2.prototype.asyncExecuteFunction=function(w2){i2(w2,0);};v2.prototype.executeBatch_=function(){var A2=this;for(;this.batch_&&this.batch_.length;){var s0=A2.batch_;A2.batch_=[];for(var Y2=0;Y2<s0.length;++Y2){var n0=s0[Y2];delete s0[Y2];try{n0();}catch(I0){A2.asyncThrow_(I0);}}}this.batch_=null;};v2.prototype.asyncThrow_=function(T0){this.asyncExecuteFunction(function(){throw T0;});};var P2=function(M0){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var c0=this.createResolveAndReject_();try{M0(c0.resolve,c0.reject);}catch(o0){c0.reject(o0);}};P2.prototype.createResolveAndReject_=function(){function g0(H0){return function(q0){O0||(O0=true,H0.call(h0,q0));};}var h0=this,O0=false;return{resolve:g0(this.resolveTo_),reject:g0(this.reject_)};};P2.prototype.resolveTo_=function(Z0){if(Z0===this){this.reject_(new TypeError("A Promise cannot resolve to itself"));}else if(Z0 instanceof P2){this.settleSameAsPromise_(Z0);}else{var E0;a:switch(typeof Z0){case"object":E0=null!=Z0;break a;case"function":E0=true;break a;default:E0=false;}E0?this.resolveToNonPromiseObj_(Z0):this.fulfill_(Z0);}};P2.prototype.resolveToNonPromiseObj_=function(j0){var u0=void 0;try{u0=j0.then;}catch(J0){this.reject_(J0);return;}"function"==typeof u0?this.settleSameAsThenable_(u0,j0):this.fulfill_(j0);};P2.prototype.reject_=function(S0){this.settle_(2,S0);};P2.prototype.fulfill_=function(K0){this.settle_(1,K0);};P2.prototype.settle_=function(b0,t0){if(0!=this.state_){throw Error("Cannot settle("+b0+", "+t0|"): Promise already settled in state"+this.state_);}this.state_=b0;this.result_=t0;this.executeOnSettledCallbacks_();};P2.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var N0=this.onSettledCallbacks_,C0=0;C0<N0.length;++C0){N0[C0].call(),N0[C0]=null;}this.onSettledCallbacks_=null;}};var L2=new v2();P2.prototype.settleSameAsPromise_=function(B0){var f0=this.createResolveAndReject_();B0.callWhenSettled_(f0.resolve,f0.reject);};P2.prototype.settleSameAsThenable_=function(l0,Q0){var m0=this.createResolveAndReject_();try{l0.call(Q0,m0.resolve,m0.reject);}catch(D0){m0.reject(D0);}};P2.prototype.then=function(G0,e0){function W0(F0,V0){return"function"==typeof F0?function(P0){try{d0(F0(P0));}catch(v0){X0(v0);}}:V0;}var d0,X0,U0=new P2(function(L0,R0){d0=L0;X0=R0;});this.callWhenSettled_(W0(G0,d0),W0(e0,X0));return U0;};P2.prototype.catch=function(i0){return this.then(void 0,i0);};P2.prototype.callWhenSettled_=function(w0,Y0){function k0(){switch(a0.state_){case 1:w0(a0.result_);break;case 2:Y0(a0.result_);break;default:throw Error("Unexpected state: "+a0.state_);}}var a0=this;null==this.onSettledCallbacks_?L2.asyncExecute(k0):this.onSettledCallbacks_.push(function(){L2.asyncExecute(k0);});};P2.resolve=function(A0){return A0 instanceof P2?A0:new P2(function(r3,s3){r3(A0);});};P2.reject=function(I3){return new P2(function(c3,T3){T3(I3);});};P2.race=function(M3){return new P2(function(g3,h3){for(var O3=j.makeIterator(M3),o3=O3.next();!o3.done;o3=O3.next()){P2.resolve(o3.value).callWhenSettled_(g3,h3);}});};P2.all=function(E3){var Z3=j.makeIterator(E3),H3=Z3.next();return H3.done?P2.resolve([]):new P2(function(J3,S3){function K3(b3){return function(t3){u3[b3]=t3;j3--;0==j3&&J3(u3);};}var u3=[],j3=0;do{u3.push(void 0),j3++,P2.resolve(H3.value).callWhenSettled_(K3(u3.length-1),S3),H3=Z3.next();}while(!H3.done);});};j.EXPOSE_ASYNC_EXECUTOR&&(P2.$jscomp$new$AsyncExecutor=function(){return new v2();});return P2;},"es6-impl","es3");j.polyfill("Array.from",function(C3){return C3?C3:function(f3,B3,Q3){j.initSymbolIterator();B3=null!=B3?B3:function(z3){return z3;};var m3=[],N3=f3[Symbol.iterator];if("function"==typeof N3){for(f3=N3.call(f3);!(N3=f3.next()).done;){m3.push(B3.call(Q3,N3.value));}}else{for(var N3=f3.length,l3=0;l3<N3;l3++){m3.push(B3.call(Q3,f3[l3]));}}return m3;};},"es6-impl","es3");j.polyfill("Number.isFinite",function(D3){return D3?D3:function(d3){return"number"!==typeof d3?false:!isNaN(d3)&&Infinity!==d3&&-Infinity!==d3;};},"es6-impl","es3");j.checkStringArgs=function(X3,U3,W3){if(null==X3){throw new TypeError("The 'this' value for String.prototype."+W3+" must not be null or undefined");}if(U3 instanceof RegExp){throw new TypeError("First argument to String.prototype."+W3+" must not be a regular expression");}return X3+"";};j.polyfill("String.prototype.endsWith",function(G3){return G3?G3:function(F3,e3){var p3=j.checkStringArgs(this,F3,"endsWith");F3+="";void 0===e3&&(e3=p3.length);e3=Math.max(0,Math.min(e3|0,p3.length));for(var V3=F3.length;0<V3&&0<e3;){if(p3[--e3]!=F3[--V3]){return false;}}return 0>=V3;};},"es6-impl","es3");j.polyfill("String.prototype.startsWith",function(P3){return P3?P3:function(v3,L3){var R3=j.checkStringArgs(this,v3,"startsWith");v3+="";var k3=R3.length,a3=v3.length;L3=Math.max(0,Math.min(L3|0,R3.length));for(var i3=0;i3<a3&&L3<k3;){if(R3[L3++]!=v3[i3++]){return false;}}return i3>=a3;};},"es6-impl","es3");j.polyfill("String.prototype.includes",function(w3){return w3?w3:function(Y3,A3){return-1!==j.checkStringArgs(this,Y3,"includes").indexOf(Y3,A3||0);};},"es6-impl","es3");j.polyfill("Object.assign",function(r5){return r5?r5:function(T5,c5){for(var n5=1;n5<arguments.length;n5++){var s5=arguments[n5];if(s5){for(var I5 in s5){j.owns(s5,I5)&&(T5[I5]=s5[I5]);}}}return T5;};},"es6-impl","es3");j.findInternal=function(M5,h5,y5){M5 instanceof String&&(M5=String(M5));for(var g5=M5.length,o5=0;o5<g5;o5++){var O5=M5[o5];if(h5.call(y5,O5,o5,M5)){return{i:o5,v:O5};}}return{i:-1,v:void 0};};j.polyfill("Array.prototype.find",function(H5){return H5?H5:function(q5,Z5){return j.findInternal(this,q5,Z5).v;};},"es6-impl","es3");j.polyfill("Array.prototype.fill",function(E5){return E5?E5:function(K5,j5,u5){var S5=this;var J5=this.length||0;0>j5&&(j5=Math.max(0,J5+j5));if(null==u5||u5>J5){u5=J5;}u5=Number(u5);0>u5&&(u5=Math.max(0,J5+u5));for(j5=Number(j5||0);j5<u5;j5++){S5[j5]=K5;}return this;};},"es6-impl","es3");j.polyfill("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;},"es6-impl","es3");j.polyfill("Number.MIN_SAFE_INTEGER",function(){return-9007199254740991;},"es6-impl","es3");j.polyfill("Number.isNaN",function(b5){return b5?b5:function(t5){return"number"===typeof t5&&isNaN(t5);};},"es6-impl","es3");j.polyfill("String.prototype.repeat",function(C5){return C5?C5:function(N5){var f5=j.checkStringArgs(this,null,"repeat");if(0>N5||1342177279<N5){throw new RangeError("Invalid count value");}N5|=0;for(var B5="";N5;){if(N5&1&&(B5+=f5),N5>>>=1){f5+=f5;}}return B5;};},"es6-impl","es3");j.polyfill("Array.prototype.values",function(m5){return m5?m5:function(){return j.iteratorFromArray(this,function(Q5,l5){return l5;});};},"es6","es3");j.polyfill("Array.prototype.entries",function(z5){return z5?z5:function(){return j.iteratorFromArray(this,function(D5,d5){return[D5,d5];});};},"es6-impl","es3");j.ASSUME_NO_NATIVE_SET=false;j.polyfill("Set",function(W5){if(!j.ASSUME_NO_NATIVE_SET&&function(){if(!W5||!W5.prototype.entries||"function"!=typeof Object.seal){return false;}try{var e5=Object.seal({x:4}),U5=new W5(j.makeIterator([e5]));if(!U5.has(e5)||1!=U5.size||U5.add(e5)!=U5||1!=U5.size||U5.add({x:4})!=U5||2!=U5.size){return false;}var F5=U5.entries(),G5=F5.next();if(G5.done||G5.value[0]!=e5||G5.value[1]!=e5){return false;}G5=F5.next();return G5.done||G5.value[0]==e5||4!=G5.value[0].x||G5.value[1]!=G5.value[0]?false:F5.next().done;}catch(p5){return false;}}()){return W5;}j.initSymbol();j.initSymbolIterator();var X5=function(V5){var P5=this;this.map_=new Map();if(V5){V5=j.makeIterator(V5);for(var v5;!(v5=V5.next()).done;){P5.add(v5.value);}}this.size=this.map_.size;};X5.prototype.add=function(L5){this.map_.set(L5,L5);this.size=this.map_.size;return this;};X5.prototype.delete=function(R5){R5=this.map_.delete(R5);this.size=this.map_.size;return R5;};X5.prototype.clear=function(){this.map_.clear();this.size=0;};X5.prototype.has=function(i5){return this.map_.has(i5);};X5.prototype.entries=function(){return this.map_.entries();};X5.prototype.values=function(){return this.map_.values();};X5.prototype.keys=X5.prototype.values;X5.prototype[Symbol.iterator]=X5.prototype.values;X5.prototype.forEach=function(x5,k5){var a5=this;this.map_.forEach(function(w5){return x5.call(k5,w5,w5,a5);});};return X5;},"es6-impl","es3");j.polyfill("Math.sign",function(Y5){return Y5?Y5:function(A5){A5=Number(A5);return 0===A5||isNaN(A5)?A5:0<A5?1:-1;};},"es6-impl","es3");j.polyfill("Math.trunc",function(r9){return r9?r9:function(s9){s9=Number(s9);if(isNaN(s9)||Infinity===s9||-Infinity===s9||0===s9){return s9;}var n9=Math.floor(Math.abs(s9));return 0>s9?-n9:n9;};},"es6-impl","es3");j.polyfill("Object.getOwnPropertySymbols",function(I9){return I9?I9:function(){return[];};},"es6-impl","es5");j.polyfill("Array.prototype.findIndex",function(T9){return T9?T9:function(c9,M9){return j.findInternal(this,c9,M9).i;};},"es6-impl","es3");window&&window.process&&window.process.versions&&window.process.versions.electron&&delete global.module;(function(o9){o9.global||(Object.defineProperty?Object.defineProperty(o9,"global",{configurable:true,enumerable:false,value:o9,writable:true}):o9.global=o9);}("object"===typeof this?this:Function("return this;")()));!function(g9){if("object"==typeof exports&&"undefined"!=typeof module){module.exports=g9();}else if("function"==typeof define&&define.amd){define([],g9);}else{var O9;"undefined"!=typeof window?O9=window:"undefined"!=typeof global?O9=global:"undefined"!=typeof self&&(O9=self);O9.Promise=g9();}}(function(){return function h9(y9,H9,Z9){function E9(j9,J9){if(!H9[j9]){if(!y9[j9]){var S9="function"==typeof _dereq_&&_dereq_;if(!J9&&S9){return S9(j9,true);}if(u9){return u9(j9,true);}J9=Error("Cannot find module '"+j9+"'");throw J9.code="MODULE_NOT_FOUND",J9;}J9=H9[j9]={exports:{}};y9[j9][0].call(J9.exports,function(b9){var K9=y9[j9][1][b9];return E9(K9?K9:b9);},J9,J9.exports,h9,y9,H9,Z9);}return H9[j9].exports;}for(var u9="function"==typeof _dereq_&&_dereq_,q9=0;q9<Z9.length;q9++){E9(Z9[q9]);}return E9;}({1:[function(C9,t9,N9){t9.exports=function(f9){function B9(l9){l9=new m9(l9);var Q9=l9.promise();return l9.setHowMany(1),l9.setUnwrap(),l9.init(),Q9;}var m9=f9._SomePromiseArray;f9.any=function(z9){return B9(z9);};f9.prototype.any=function(){return B9(this);};};},{}],2:[function(X9,G9,V9){function D9(){this._isTickUsed=this._customScheduler=false;this._lateQueue=new W9(16);this._normalQueue=new W9(16);this._haveDrainedQueues=false;this._trampolineEnabled=true;var P9=this;this.drainQueues=function(){P9._drainQueues();};this._schedule=p9;}function U9(v9,L9,R9){this._lateQueue.push(v9,L9,R9);this._queueTick();}function e9(i9,a9,x9){this._normalQueue.push(i9,a9,x9);this._queueTick();}function F9(k9){this._normalQueue._pushOne(k9);this._queueTick();}try{throw Error();}catch(w9){V9=w9;}var p9=X9("./schedule"),W9=X9("./queue"),d9=X9("./util");D9.prototype.setScheduler=function(A9){var Y9=this._schedule;return this._schedule=A9,this._customScheduler=true,Y9;};D9.prototype.hasCustomScheduler=function(){return this._customScheduler;};D9.prototype.enableTrampoline=function(){this._trampolineEnabled=true;};D9.prototype.disableTrampolineIfNecessary=function(){d9.hasDevTools&&(this._trampolineEnabled=false);};D9.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues;};D9.prototype.fatalError=function(s1,I1){I1?(process.stderr.write("Fatal "+(s1 instanceof Error?s1.stack:s1)+"\n"),process.exit(2)):this.throwLater(s1);};D9.prototype.throwLater=function(T1,c1){if(1===arguments.length&&(c1=T1,T1=function(){throw c1;}),"undefined"!=typeof setTimeout){setTimeout(function(){T1(c1);},0);}else{try{this._schedule(function(){T1(c1);});}catch(M1){throw Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n");}}};d9.hasDevTools?(D9.prototype.invokeLater=function(o1,O1,g1){this._trampolineEnabled?U9.call(this,o1,O1,g1):this._schedule(function(){setTimeout(function(){o1.call(O1,g1);},100);});},D9.prototype.invoke=function(h1,H1,q1){this._trampolineEnabled?e9.call(this,h1,H1,q1):this._schedule(function(){h1.call(H1,q1);});},D9.prototype.settlePromises=function(Z1){this._trampolineEnabled?F9.call(this,Z1):this._schedule(function(){Z1._settlePromises();});}):(D9.prototype.invokeLater=U9,D9.prototype.invoke=e9,D9.prototype.settlePromises=F9);D9.prototype._drainQueue=function(E1){for(;0<E1.length();){var u1=E1.shift();if("function"==typeof u1){var j1=E1.shift(),J1=E1.shift();u1.call(j1,J1);}else{u1._settlePromises();}}};D9.prototype._drainQueues=function(){this._drainQueue(this._normalQueue);this._reset();this._haveDrainedQueues=true;this._drainQueue(this._lateQueue);};D9.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=true,this._schedule(this.drainQueues));};D9.prototype._reset=function(){this._isTickUsed=false;};G9.exports=D9;G9.exports.firstLineError=V9;},{"./queue":26,"./schedule":29,"./util":36}],3:[function(K1,S1,b1){S1.exports=function(t1,f1,D1,B1){var C1=false,N1=function(X1,d1){this._reject(d1);},m1=function(U1,W1){W1.promiseRejectionQueued=true;W1.bindingPromise._then(N1,N1,null,this,U1);},l1=function(e1,G1){0===(50397184&this._bitField)&&this._resolveCallback(G1.target);},Q1=function(V1,P1){P1.promiseRejectionQueued||this._reject(V1);};t1.prototype.bind=function(L1){C1||(C1=true,t1.prototype._propagateFrom=B1.propagateFromFunction(),t1.prototype._boundValue=B1.boundValueFunction());L1=D1(L1);var v1=new t1(f1);v1._propagateFrom(this,1);var R1=this._target();if(v1._setBoundTo(L1),L1 instanceof t1){var i1={promiseRejectionQueued:false,promise:v1,target:R1,bindingPromise:L1};R1._then(f1,m1,void 0,v1,i1);L1._then(l1,Q1,void 0,v1,i1);v1._setOnCancel(L1);}else{v1._resolveCallback(R1);}return v1;};t1.prototype._setBoundTo=function(a1){void 0!==a1?(this._bitField|=2097152,this._boundTo=a1):this._bitField&=-2097153;};t1.prototype._isBound=function(){return 2097152===(2097152&this._bitField);};t1.bind=function(w1,Y1){return t1.resolve(Y1).bind(w1);};};},{}],4:[function(s4,n4,I4){var r4;"undefined"!=typeof Promise&&(r4=Promise);var A1=s4("./promise")();A1.noConflict=function(){try{Promise===A1&&(Promise=r4);}catch(T4){}return A1;};n4.exports=A1;},{"./promise":22}],5:[function(o4,O4,M4){var c4=Object.create;c4&&(M4=c4(null),c4=c4(null),M4[" size"]=c4[" size"]=0);O4.exports=function(h4){function q4(E4){var u4=this.pop(),j4;if(null!=E4&&(j4=E4[u4]),"function"!=typeof j4){throw E4="Object "+g4.classString(E4)+" has no method '"+g4.toString(u4)+"'",new h4.TypeError(E4);}return j4.apply(E4,this);}function y4(J4){return J4[this];}function Z4(K4){var S4=+this;return 0>S4&&(S4=Math.max(0,S4+K4.length)),K4[S4];}var g4=o4("./util"),H4=g4.canEvaluate;g4.isIdentifier;h4.prototype.call=function(t4){var b4=[].slice.call(arguments,1);return b4.push(t4),this._then(q4,void 0,void 0,b4,void 0);};h4.prototype.get=function(N4){var C4;"number"==typeof N4?C4=Z4:H4?(C4=(void 0)(N4),C4=null!==C4?C4:y4):C4=y4;return this._then(C4,void 0,void 0,N4,void 0);};};},{"./util":36}],6:[function(f4,B4,m4){B4.exports=function(l4,W4,U4,X4){var Q4=f4("./util"),D4=Q4.tryCatch,d4=Q4.errorObj,z4=l4._async;l4.prototype["break"]=l4.prototype.cancel=function(){if(!X4.cancellation()){return this._warn("cancellation is disabled");}for(var G4=this,e4=G4;G4._isCancellable();){if(!G4._cancelBy(e4)){e4._isFollowing()?e4._followee().cancel():e4._cancelBranched();break;}var F4=G4._cancellationParent;if(null==F4||!F4._isCancellable()){G4._isFollowing()?G4._followee().cancel():G4._cancelBranched();break;}G4._isFollowing()&&G4._followee().cancel();G4._setWillBeCancelled();e4=G4;G4=F4;}};l4.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--;};l4.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||0>=this._branchesRemainingToCancel;};l4.prototype._cancelBy=function(p4){return p4===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),true):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),true):false);};l4.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel();};l4.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),z4.invoke(this._cancelPromises,this,void 0));};l4.prototype._cancelPromises=function(){0<this._length()&&this._settlePromises();};l4.prototype._unsetOnCancel=function(){this._onCancelField=void 0;};l4.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled();};l4.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled();};l4.prototype._doInvokeOnCancel=function(V4,v4){var L4=this;if(Q4.isArray(V4)){for(var P4=0;P4<V4.length;++P4){L4._doInvokeOnCancel(V4[P4],v4);}}else{void 0!==V4&&("function"==typeof V4?v4||(V4=D4(V4).call(this._boundValue()),V4===d4&&(this._attachExtraTrace(V4.e),z4.throwLater(V4.e))):V4._resultCancelled(this));}};l4.prototype._invokeOnCancel=function(){var R4=this._onCancel();this._unsetOnCancel();z4.invoke(this._doInvokeOnCancel,this,R4);};l4.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),true),this._unsetOnCancel());};l4.prototype._resultCancelled=function(){this.cancel();};};},{"./util":36}],7:[function(i4,a4,x4){a4.exports=function(r7){var w4=i4("./util"),Y4=i4("./es5").keys,k4=w4.tryCatch,A4=w4.errorObj;return function(n7,s7,I7){return function(c7){var M7=I7._boundValue(),o7=0;a:for(;o7<n7.length;++o7){var T7=n7[o7];if(T7===Error||null!=T7&&T7.prototype instanceof Error){if(c7 instanceof T7){return k4(s7).call(M7,c7);}}else if("function"==typeof T7){T7=k4(T7).call(M7,c7);if(T7===A4){return T7;}if(T7){return k4(s7).call(M7,c7);}}else if(w4.isObject(c7)){for(var g7=Y4(T7),O7=0;O7<g7.length;++O7){var h7=g7[O7];if(T7[h7]!=c7[h7]){continue a;}}return k4(s7).call(M7,c7);}}return r7;};};};},{"./es5":13,"./util":36}],8:[function(H7,y7,q7){y7.exports=function(Z7){function E7(){this._trace=new E7.CapturedTrace(J7());}function J7(){var S7=u7.length-1;return 0<=S7?u7[S7]:void 0;}var j7=false,u7=[];return Z7.prototype._promiseCreated=function(){},Z7.prototype._pushContext=function(){},Z7.prototype._popContext=function(){return null;},Z7._peekContext=Z7.prototype._peekContext=function(){},E7.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,u7.push(this._trace));},E7.prototype._popContext=function(){if(void 0!==this._trace){var K7=u7.pop(),b7=K7._promiseCreated;return K7._promiseCreated=null,b7;}return null;},E7.CapturedTrace=null,E7.create=function(){return j7?new E7():void 0;},E7.deactivateLongStackTraces=function(){},E7.activateLongStackTraces=function(){var t7=Z7.prototype._pushContext,C7=Z7.prototype._popContext,N7=Z7._peekContext,f7=Z7.prototype._peekContext,B7=Z7.prototype._promiseCreated;E7.deactivateLongStackTraces=function(){Z7.prototype._pushContext=t7;Z7.prototype._popContext=C7;Z7._peekContext=N7;Z7.prototype._peekContext=f7;Z7.prototype._promiseCreated=B7;j7=false;};j7=true;Z7.prototype._pushContext=E7.prototype._pushContext;Z7.prototype._popContext=E7.prototype._popContext;Z7._peekContext=Z7.prototype._peekContext=J7;Z7.prototype._promiseCreated=function(){var m7=this._peekContext();m7&&null==m7._promiseCreated&&(m7._promiseCreated=this);};},E7;};},{}],9:[function(l7,Q7,z7){Q7.exports=function(D7,A7){function G7(z6,Q6){return{promise:Q6};}function J6(){return false;}function l6(d6,X6,W6){var D6=this;try{d6(X6,W6,function(U6){if("function"!=typeof U6){throw new TypeError("onCancel must be a function, got: "+d7.toString(U6));}D6._attachCancellationCallback(U6);});}catch(G6){return G6;}}function m6(F6){if(!this._isCancellable()){return this;}var e6=this._onCancel();void 0!==e6?d7.isArray(e6)?e6.push(F6):this._setOnCancel([e6,F6]):this._setOnCancel(F6);}function B6(){return this._onCancelField;}function f6(p6){this._onCancelField=p6;}function N6(){this._onCancelField=this._cancellationParent=void 0;}function E6(V6,v6){if(0!==(1&v6)){this._cancellationParent=V6;var P6=V6._branchesRemainingToCancel;void 0===P6&&(P6=0);V6._branchesRemainingToCancel=P6+1;}0!==(2&v6)&&V6._isBound()&&this._setBoundTo(V6._boundTo);}function C6(){var L6=this._boundTo;return void 0!==L6&&L6 instanceof D7?L6.isFulfilled()?L6.value():void 0:L6;}function t6(){this._trace=new U7(this._peekContext());}function b6(R6,a6){if(h6(R6)){var i6=this._trace;(void 0!==i6&&a6&&(i6=i6._parent),void 0!==i6)?i6.attachExtraTrace(R6):R6.__stackCleaned__||(a6=a7(R6),d7.notEnumerableProp(R6,"stack",a6.message+"\n"+a6.stack.join("\n")),d7.notEnumerableProp(R6,"__stackCleaned__",true));}}function Y7(x6,k6,Y6){if(X7.warnings){var w6;x6=new O6(x6);k6?Y6._attachExtraTrace(x6):X7.longStackTraces&&(w6=D7._peekContext())?w6.attachExtraTrace(x6):(k6=a7(x6),x6.stack=k6.message+"\n"+k6.stack.join("\n"));V7("warning",x6)||S6(x6,"",true);}}function K6(s8r,r8r){for(var A6=0;A6<r8r.length-1;++A6){r8r[A6].push("From previous event:"),r8r[A6]=r8r[A6].join("\n");}return A6<r8r.length&&(r8r[A6]=r8r[A6].join("\n")),s8r+"\n"+r8r.join("\n");}function x7(M8r){for(var T8r=[],I8r=0;I8r<M8r.length;++I8r){var n8r=M8r[I8r],c8r="    (No stack trace)"===n8r||p7.test(n8r),o8r=c8r&&L7(n8r);c8r&&!o8r&&(I6&&" "!==n8r.charAt(0)&&(n8r="    "+n8r),T8r.push(n8r));}return T8r;}function a7(y8r){var g8r=y8r.stack,q8r=y8r.toString(),O8r;if("string"==typeof g8r&&0<g8r.length){var h8r=y8r.stack.replace(/\s+$/g,"").split("\n");for(O8r=0;O8r<h8r.length;++O8r){var H8r=h8r[O8r];if("    (No stack trace)"===H8r||p7.test(H8r)){break;}}O8r=(0<O8r&&"SyntaxError"!=y8r.name&&(h8r=h8r.slice(O8r)),h8r);}else{O8r=["    (No stack trace)"];}return g8r=O8r,{message:q8r,stack:"SyntaxError"==y8r.name?g8r:x7(g8r)};}function S6(Z8r,E8r,u8r){"undefined"!=typeof console&&(Z8r=d7.isObject(Z8r)?E8r+e7(Z8r.stack,Z8r):E8r+String(Z8r),"function"==typeof P7?P7(Z8r,u8r):("function"==typeof console.log||"object"==typeof console.log)&&console.log(Z8r));}function o6(j8r,S8r,K8r,J8r){var b8r=false;try{"function"==typeof S8r&&(b8r=true,"rejectionHandled"===j8r?S8r(J8r):S8r(K8r,J8r));}catch(t8r){W7.throwLater(t8r);}"unhandledRejection"===j8r?V7(j8r,K8r,J8r)||b8r||S6(K8r,"Unhandled rejection "):V7(j8r,J8r);}function g6(N8r){var C8r;if("function"==typeof N8r){C8r="[function "+(N8r.name||"anonymous")+"]";}else{C8r=N8r&&"function"==typeof N8r.toString?N8r.toString():d7.toString(N8r);if(/\[object [a-zA-Z0-9$_]+\]/.test(C8r)){try{C8r=JSON.stringify(N8r);}catch(f8r){}}0===C8r.length&&(C8r="(empty array)");}return"(<"+(41>C8r.length?C8r:C8r.substr(0,38)+"...")+">, no stack trace)";}function i7(){return"function"==typeof T6;}function M6(B8r){return(B8r=B8r.match(Z6))?{fileName:B8r[1],line:parseInt(B8r[2],10)}:void 0;}function U7(m8r){this._parent=m8r;this._promisesCreated=0;m8r=this._length=void 0===m8r?1:1+m8r._length;T6(this,U7);32<m8r&&this.uncycle();}var u6,y6,P7,w7=D7._getDomain,W7=D7._async,O6=l7("./errors").Warning,d7=l7("./util"),h6=d7.canAttachTrace,r6=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,H6=/\((?:timers\.js):\d+:\d+\)/,q6=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,p7=null,e7=null,I6=false,F7=!(0==d7.env("BLUEBIRD_DEBUG")||!d7.env("BLUEBIRD_DEBUG")&&"development"!==d7.env("NODE_ENV")),c6=!(0==d7.env("BLUEBIRD_WARNINGS")||!F7&&!d7.env("BLUEBIRD_WARNINGS")),F7=!(0==d7.env("BLUEBIRD_LONG_STACK_TRACES")||!F7&&!d7.env("BLUEBIRD_LONG_STACK_TRACES")),v7=0!=d7.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(c6||!!d7.env("BLUEBIRD_W_FORGOTTEN_RETURN"));D7.prototype.suppressUnhandledRejections=function(){var l8r=this._target();l8r._bitField=-1048577&l8r._bitField|524288;};D7.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),W7.invokeLater(this._notifyUnhandledRejection,this,void 0));};D7.prototype._notifyUnhandledRejectionIsHandled=function(){o6("rejectionHandled",u6,void 0,this);};D7.prototype._setReturnedNonUndefined=function(){this._bitField|=268435456;};D7.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField);};D7.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var Q8r=this._settledValue();this._setUnhandledRejectionIsNotified();o6("unhandledRejection",y6,Q8r,this);}};D7.prototype._setUnhandledRejectionIsNotified=function(){this._bitField|=262144;};D7.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField&=-262145;};D7.prototype._isUnhandledRejectionNotified=function(){return 0<(262144&this._bitField);};D7.prototype._setRejectionIsUnhandled=function(){this._bitField|=1048576;};D7.prototype._unsetRejectionIsUnhandled=function(){this._bitField&=-1048577;this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled());};D7.prototype._isRejectionUnhandled=function(){return 0<(1048576&this._bitField);};D7.prototype._warn=function(z8r,D8r,d8r){return Y7(z8r,D8r,d8r||this);};D7.onPossiblyUnhandledRejection=function(X8r){var W8r=w7();y6="function"==typeof X8r?null===W8r?X8r:d7.domainBind(W8r,X8r):void 0;};D7.onUnhandledRejectionHandled=function(U8r){var G8r=w7();u6="function"==typeof U8r?null===G8r?U8r:d7.domainBind(G8r,U8r):void 0;};var k7=function(){};D7.longStackTraces=function(){if(W7.haveItemsQueued()&&!X7.longStackTraces){throw Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");}if(!X7.longStackTraces&&i7()){var e8r=D7.prototype._captureStackTrace,F8r=D7.prototype._attachExtraTrace;X7.longStackTraces=true;k7=function(){if(W7.haveItemsQueued()&&!X7.longStackTraces){throw Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");}D7.prototype._captureStackTrace=e8r;D7.prototype._attachExtraTrace=F8r;A7.deactivateLongStackTraces();W7.enableTrampoline();X7.longStackTraces=false;};D7.prototype._captureStackTrace=t6;D7.prototype._attachExtraTrace=b6;A7.activateLongStackTraces();W7.disableTrampolineIfNecessary();}};D7.hasLongStackTraces=function(){return X7.longStackTraces&&i7();};var R7=function(){try{if("function"==typeof CustomEvent){var p8r=new CustomEvent("CustomEvent");return d7.global.dispatchEvent(p8r),function(V8r,P8r){V8r=new CustomEvent(V8r.toLowerCase(),{detail:P8r,cancelable:true});return!d7.global.dispatchEvent(V8r);};}if("function"==typeof Event){return p8r=new Event("CustomEvent"),d7.global.dispatchEvent(p8r),function(v8r,L8r){v8r=new Event(v8r.toLowerCase(),{cancelable:true});return v8r.detail=L8r,!d7.global.dispatchEvent(v8r);};}p8r=document.createEvent("CustomEvent");return p8r.initCustomEvent("testingtheevent",false,true,{}),d7.global.dispatchEvent(p8r),function(i8r,a8r){var R8r=document.createEvent("CustomEvent");return R8r.initCustomEvent(i8r.toLowerCase(),false,true,a8r),!d7.global.dispatchEvent(R8r);};}catch(x8r){}return function(){return false;};}(),s6=function(){return d7.isNode?function(){return process.emit.apply(process,arguments);}:d7.global?function(w8r){var k8r="on"+w8r.toLowerCase();return(k8r=d7.global[k8r])?(k8r.apply(d7.global,[].slice.call(arguments,1)),true):false;}:function(){return false;};}(),j6={promiseCreated:G7,promiseFulfilled:G7,promiseRejected:G7,promiseResolved:G7,promiseCancelled:G7,promiseChained:function(r2r,Y8r,A8r){return{promise:Y8r,child:A8r};},warning:function(n2r,s2r){return{warning:s2r};},unhandledRejection:function(c2r,I2r,T2r){return{reason:I2r,promise:T2r};},rejectionHandled:G7},V7=function(O2r){var M2r=false;try{M2r=s6.apply(null,arguments);}catch(g2r){W7.throwLater(g2r),M2r=true;}var o2r=false;try{o2r=R7(O2r,j6[O2r].apply(null,arguments));}catch(h2r){W7.throwLater(h2r),o2r=true;}return o2r||M2r;};D7.config=function(y2r){if(y2r=Object(y2r),"longStackTraces"in y2r&&(y2r.longStackTraces?D7.longStackTraces():!y2r.longStackTraces&&D7.hasLongStackTraces()&&k7()),"warnings"in y2r){var H2r=y2r.warnings;X7.warnings=!!H2r;v7=X7.warnings;d7.isObject(H2r)&&"wForgottenReturn"in H2r&&(v7=!!H2r.wForgottenReturn);}if("cancellation"in y2r&&y2r.cancellation&&!X7.cancellation){if(W7.haveItemsQueued()){throw Error("cannot enable cancellation after promises are in use");}D7.prototype._clearCancellationData=N6;D7.prototype._propagateFrom=E6;D7.prototype._onCancel=B6;D7.prototype._setOnCancel=f6;D7.prototype._attachCancellationCallback=m6;D7.prototype._execute=l6;n6=E6;X7.cancellation=true;}return"monitoring"in y2r&&(y2r.monitoring&&!X7.monitoring?(X7.monitoring=true,D7.prototype._fireEvent=V7):!y2r.monitoring&&X7.monitoring&&(X7.monitoring=false,D7.prototype._fireEvent=J6)),D7;};D7.prototype._fireEvent=J6;D7.prototype._execute=function(q2r,Z2r,E2r){try{q2r(Z2r,E2r);}catch(u2r){return u2r;}};D7.prototype._onCancel=function(){};D7.prototype._setOnCancel=function(j2r){};D7.prototype._attachCancellationCallback=function(J2r){};D7.prototype._captureStackTrace=function(){};D7.prototype._attachExtraTrace=function(){};D7.prototype._clearCancellationData=function(){};D7.prototype._propagateFrom=function(S2r,K2r){};var n6=function(b2r,t2r){0!==(2&t2r)&&b2r._isBound()&&this._setBoundTo(b2r._boundTo);},L7=function(){return false;},Z6=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;d7.inherits(U7,Error);A7.CapturedTrace=U7;U7.prototype.uncycle=function(){var l2r=this;var N2r=this._length;if(!(2>N2r)){for(var B2r=[],f2r={},C2r=0,N2r=this;void 0!==N2r;++C2r){B2r.push(N2r),N2r=N2r._parent;}N2r=this._length=C2r;for(C2r=N2r-1;0<=C2r;--C2r){var m2r=B2r[C2r].stack;void 0===f2r[m2r]&&(f2r[m2r]=C2r);}for(C2r=0;N2r>C2r;++C2r){if(m2r=f2r[B2r[C2r].stack],void 0!==m2r&&m2r!==C2r){0<m2r&&(B2r[m2r-1]._parent=void 0,B2r[m2r-1]._length=1);B2r[C2r]._parent=void 0;B2r[C2r]._length=1;f2r=0<C2r?B2r[C2r-1]:l2r;N2r-1>m2r?(f2r._parent=B2r[m2r+1],f2r._parent.uncycle(),f2r._length=f2r._parent._length+1):(f2r._parent=void 0,f2r._length=1);N2r=f2r._length+1;for(C2r-=2;0<=C2r;--C2r){B2r[C2r]._length=N2r,N2r++;}break;}}}};U7.prototype.attachExtraTrace=function(W2r){if(!W2r.__stackCleaned__){this.uncycle();for(var z2r=a7(W2r),e2r=z2r.message,z2r=[z2r.stack],Q2r=this;void 0!==Q2r;){z2r.push(x7(Q2r.stack.split("\n"))),Q2r=Q2r._parent;}for(var Q2r=z2r[0],X2r=1;X2r<z2r.length;++X2r){for(var d2r=z2r[X2r],U2r=Q2r.length-1,F2r=Q2r[U2r],G2r=-1,D2r=d2r.length-1;0<=D2r;--D2r){if(d2r[D2r]===F2r){G2r=D2r;break;}}for(D2r=G2r;0<=D2r&&Q2r[U2r]===d2r[D2r];--D2r){Q2r.pop(),U2r--;}Q2r=d2r;}for(Q2r=0;Q2r<z2r.length;++Q2r){(0===z2r[Q2r].length||Q2r+1<z2r.length&&z2r[Q2r][0]===z2r[Q2r+1][0])&&(z2r.splice(Q2r,1),Q2r--);}d7.notEnumerableProp(W2r,"stack",K6(e2r,z2r));d7.notEnumerableProp(W2r,"__stackCleaned__",true);}};var T6=function(){var P2r=/^\s*at\s*/,p2r=function(i2r,R2r){return"string"==typeof i2r?i2r:void 0!==R2r.name&&void 0!==R2r.message?R2r.toString():g6(R2r);};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6;p7=P2r;e7=p2r;var v2r=Error.captureStackTrace;return L7=function(a2r){return r6.test(a2r);},function(x2r,k2r){Error.stackTraceLimit+=6;v2r(x2r,k2r);Error.stackTraceLimit-=6;};}var V2r=Error();if("string"==typeof V2r.stack&&0<=V2r.stack.split("\n")[0].indexOf("stackDetection@")){return p7=/@/,e7=p2r,I6=true,function(w2r){w2r.stack=Error().stack;};}var L2r;try{throw Error();}catch(Y2r){L2r="stack"in Y2r;}return"stack"in V2r||!L2r||"number"!=typeof Error.stackTraceLimit?(e7=function(r0r,A2r){return"string"==typeof r0r?r0r:"object"!=typeof A2r&&"function"!=typeof A2r||void 0===A2r.name||void 0===A2r.message?g6(A2r):A2r.toString();},null):(p7=P2r,e7=p2r,function(s0r){Error.stackTraceLimit+=6;try{throw Error();}catch(n0r){s0r.stack=n0r.stack;}Error.stackTraceLimit-=6;});}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(P7=function(I0r){console.warn(I0r);},d7.isNode&&process.stderr.isTTY?P7=function(T0r,c0r){console.warn((c0r?"\u001b[33m":"\u001b[31m")+T0r+"\u001b[0m\n");}:d7.isNode||"string"!=typeof Error().stack||(P7=function(M0r,o0r){console.warn("%c"+M0r,o0r?"color: darkorange":"color: red");}));var X7={warnings:c6,longStackTraces:false,cancellation:false,monitoring:false};return F7&&D7.longStackTraces(),{longStackTraces:function(){return X7.longStackTraces;},warnings:function(){return X7.warnings;},cancellation:function(){return X7.cancellation;},monitoring:function(){return X7.monitoring;},propagateFromFunction:function(){return n6;},boundValueFunction:function(){return C6;},checkForgottenReturns:function(H0r,q0r,Z0r,u0r,h0r){if(void 0===H0r&&null!==q0r&&v7&&!(void 0!==h0r&&h0r._returnedNonUndefined()||0===(65535&u0r._bitField))){Z0r&&(Z0r+=" ");h0r=H0r="";if(q0r._trace){for(var y0r=q0r._trace.stack.split("\n"),g0r=x7(y0r),O0r=g0r.length-1;0<=O0r;--O0r){var E0r=g0r[O0r];if(!H6.test(E0r)){(O0r=E0r.match(q6))&&(H0r="at "+O0r[1]+":"+O0r[2]+":"+O0r[3]+" ");break;}}if(0<g0r.length){for(g0r=g0r[0],O0r=0;O0r<y0r.length;++O0r){if(y0r[O0r]===g0r){0<O0r&&(h0r="\n"+y0r[O0r-1]);break;}}}}u0r._warn("a promise was created in a "+Z0r+"handler "+H0r+"but was not returned from it, see http://goo.gl/rRqMUw"+h0r,true,q0r);}},setBounds:function(b0r,t0r){if(i7()){var C0r,N0r;b0r=b0r.stack.split("\n");t0r=t0r.stack.split("\n");for(var S0r=-1,K0r=-1,j0r=0;j0r<b0r.length;++j0r){var J0r=M6(b0r[j0r]);if(J0r){C0r=J0r.fileName;S0r=J0r.line;break;}}for(j0r=0;j0r<t0r.length;++j0r){if(J0r=M6(t0r[j0r])){N0r=J0r.fileName;K0r=J0r.line;break;}}0>S0r||0>K0r||!C0r||!N0r||C0r!==N0r||S0r>=K0r||(L7=function(f0r){return r6.test(f0r)?true:(f0r=M6(f0r))&&f0r.fileName===C0r&&S0r<=f0r.line&&f0r.line<=K0r?true:false;});}},warn:Y7,deprecated:function(B0r,m0r){B0r+=" is deprecated and will be removed in a future version.";return m0r&&(B0r+=" Use "+m0r+" instead."),Y7(B0r);},CapturedTrace:U7,fireDomEvent:R7,fireGlobalEvent:s6};};},{"./errors":12,"./util":36}],10:[function(Q0r,l0r,z0r){l0r.exports=function(D0r){function d0r(){return this.value;}function X0r(){throw this.reason;}D0r.prototype["return"]=D0r.prototype.thenReturn=function(W0r){return W0r instanceof D0r&&W0r.suppressUnhandledRejections(),this._then(d0r,void 0,void 0,{value:W0r},void 0);};D0r.prototype["throw"]=D0r.prototype.thenThrow=function(U0r){return this._then(X0r,void 0,void 0,{reason:U0r},void 0);};D0r.prototype.catchThrow=function(G0r){if(1>=arguments.length){return this._then(void 0,X0r,void 0,{reason:G0r},void 0);}var e0r=arguments[1];return this.caught(G0r,function(){throw e0r;});};D0r.prototype.catchReturn=function(F0r){if(1>=arguments.length){return F0r instanceof D0r&&F0r.suppressUnhandledRejections(),this._then(void 0,d0r,void 0,{value:F0r},void 0);}var p0r=arguments[1];p0r instanceof D0r&&p0r.suppressUnhandledRejections();return this.caught(F0r,function(){return p0r;});};};},{}],11:[function(P0r,V0r,v0r){V0r.exports=function(L0r,R0r){function a0r(){return x0r(this);}var i0r=L0r.reduce,x0r=L0r.all;L0r.prototype.each=function(k0r){return i0r(this,k0r,R0r,0)._then(a0r,void 0,void 0,this,void 0);};L0r.prototype.mapSeries=function(w0r){return i0r(this,w0r,R0r,R0r);};L0r.each=function(Y0r,A0r){return i0r(Y0r,A0r,R0r,0)._then(a0r,void 0,void 0,Y0r,void 0);};L0r.mapSeries=function(r3r,s3r){return i0r(r3r,s3r,R0r,R0r);};};},{}],12:[function(T3r,j3r,h3r){function M3r(S3r,K3r){function J3r(b3r){return this instanceof J3r?(I3r(this,"message","string"==typeof b3r?b3r:K3r),I3r(this,"name",S3r),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new J3r(b3r);}return y3r(J3r,Error),J3r;}function O3r(t3r){return this instanceof O3r?(I3r(this,"name","OperationalError"),I3r(this,"message",t3r),this.cause=t3r,this.isOperational=true,void(t3r instanceof Error?(I3r(this,"message",t3r.message),I3r(this,"stack",t3r.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new O3r(t3r);}var H3r,q3r;h3r=T3r("./es5");var E3r=h3r.freeze;T3r=T3r("./util");var y3r=T3r.inherits,I3r=T3r.notEnumerableProp;T3r=M3r("Warning","warning");var u3r=M3r("CancellationError","cancellation error"),Z3r=M3r("TimeoutError","timeout error"),c3r=M3r("AggregateError","aggregate error");try{H3r=TypeError,q3r=RangeError;}catch(C3r){H3r=M3r("TypeError","type error"),q3r=M3r("RangeError","range error");}for(var n3r="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),o3r=0;o3r<n3r.length;++o3r){"function"==typeof Array.prototype[n3r[o3r]]&&(c3r.prototype[n3r[o3r]]=Array.prototype[n3r[o3r]]);}h3r.defineProperty(c3r.prototype,"length",{value:0,configurable:false,writable:true,enumerable:true});c3r.prototype.isOperational=true;var g3r=0;c3r.prototype.toString=function(){var f3r=Array(4*g3r+1).join(" "),l3r="\n"+f3r+"AggregateError of:\n";g3r++;for(var f3r=Array(4*g3r+1).join(" "),B3r=0;B3r<this.length;++B3r){for(var N3r=this[B3r]===this?"[Circular AggregateError]":this[B3r]+"",N3r=N3r.split("\n"),m3r=0;m3r<N3r.length;++m3r){N3r[m3r]=f3r+N3r[m3r];}N3r=N3r.join("\n");l3r+=N3r+"\n";}return g3r--,l3r;};y3r(O3r,Error);(n3r=Error.__BluebirdErrorTypes__)||(n3r=E3r({CancellationError:u3r,TimeoutError:Z3r,OperationalError:O3r,RejectionError:O3r,AggregateError:c3r}),h3r.defineProperty(Error,"__BluebirdErrorTypes__",{value:n3r,writable:false,enumerable:false,configurable:false}));j3r.exports={Error:Error,TypeError:H3r,RangeError:q3r,CancellationError:n3r.CancellationError,OperationalError:n3r.OperationalError,TimeoutError:n3r.TimeoutError,AggregateError:n3r.AggregateError,Warning:T3r};},{"./es5":13,"./util":36}],13:[function(Q3r,D3r,z3r){if(Q3r=function(){return void 0===this;}()){D3r.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:Q3r,propertyIsWritable:function(U3r,G3r){U3r=Object.getOwnPropertyDescriptor(U3r,G3r);return!(U3r&&!U3r.writable&&!U3r.set);}};}else{var d3r={}.hasOwnProperty,X3r={}.toString,W3r={}.constructor.prototype;z3r=function(p3r){var e3r=[],F3r;for(F3r in p3r){d3r.call(p3r,F3r)&&e3r.push(F3r);}return e3r;};D3r.exports={isArray:function(V3r){try{return"[object Array]"===X3r.call(V3r);}catch(P3r){return false;}},keys:z3r,names:z3r,defineProperty:function(v3r,L3r,R3r){return v3r[L3r]=R3r.value,v3r;},getDescriptor:function(i3r,a3r){return{value:i3r[a3r]};},freeze:function(x3r){return x3r;},getPrototypeOf:function(k3r){try{return Object(k3r).constructor.prototype;}catch(w3r){return W3r;}},isES5:Q3r,propertyIsWritable:function(){return true;}};}},{}],14:[function(A3r,Y3r,r5r){Y3r.exports=function(s5r,I5r){var n5r=s5r.map;s5r.prototype.filter=function(T5r,c5r){return n5r(this,T5r,c5r,I5r);};s5r.filter=function(M5r,o5r,O5r){return n5r(M5r,o5r,O5r,I5r);};};},{}],15:[function(g5r,h5r,y5r){h5r.exports=function(H5r,N5r,S5r){function j5r(f5r,B5r,m5r){this.promise=f5r;this.type=B5r;this.handler=m5r;this.called=false;this.cancelPromise=null;}function K5r(l5r){this.finallyHandler=l5r;}function E5r(Q5r,z5r){return null!=Q5r.cancelPromise?(1<arguments.length?Q5r.cancelPromise._reject(z5r):Q5r.cancelPromise._cancel(),Q5r.cancelPromise=null,true):false;}function t5r(){return Z5r.call(this,this.promise._target()._settledValue());}function C5r(D5r){return E5r(this,D5r)?void 0:(q5r.e=D5r,q5r);}function Z5r(W5r){var X5r=this.promise,d5r=this.handler;if(!this.called){this.called=true;d5r=this.isFinallyHandler()?d5r.call(X5r._boundValue()):d5r.call(X5r._boundValue(),W5r);if(d5r===S5r){return d5r;}if(void 0!==d5r&&(X5r._setReturnedNonUndefined(),d5r=N5r(d5r,X5r),d5r instanceof H5r)){if(null!=this.cancelPromise){if(d5r._isCancelled()){return W5r=new b5r("late cancellation observer"),X5r._attachExtraTrace(W5r),q5r.e=W5r,q5r;}d5r.isPending()&&d5r._attachCancellationCallback(new K5r(this));}return d5r._then(t5r,C5r,void 0,this,void 0);}}return X5r.isRejected()?(E5r(this),q5r.e=W5r,q5r):(E5r(this),W5r);}var u5r=g5r("./util"),b5r=H5r.CancellationError,q5r=u5r.errorObj,J5r=g5r("./catch_filter")(S5r);return j5r.prototype.isFinallyHandler=function(){return 0===this.type;},K5r.prototype._resultCancelled=function(){E5r(this.finallyHandler);},H5r.prototype._passThrough=function(U5r,G5r,e5r,F5r){return"function"!=typeof U5r?this.then():this._then(e5r,F5r,void 0,new j5r(this,G5r,U5r),void 0);},H5r.prototype.lastly=H5r.prototype["finally"]=function(p5r){return this._passThrough(p5r,0,Z5r,Z5r);},H5r.prototype.tap=function(V5r){return this._passThrough(V5r,1,Z5r);},H5r.prototype.tapCatch=function(a5r){var v5r=arguments.length;if(1===v5r){return this._passThrough(a5r,1,void 0,Z5r);}var P5r,L5r=Array(v5r-1),i5r=0;for(P5r=0;v5r-1>P5r;++P5r){var R5r=arguments[P5r];if(!u5r.isObject(R5r)){return H5r.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+u5r.classString(R5r)));}L5r[i5r++]=R5r;}L5r.length=i5r;return this._passThrough(J5r(L5r,arguments[P5r],this),1,void 0,Z5r);},j5r;};},{"./catch_filter":7,"./util":36}],16:[function(x5r,k5r,w5r){k5r.exports=function(Y5r,g9r,c9r,o9r,O9r,M9r){function A5r(q9r,Z9r,y9r,E9r){if(M9r.cancellation()){var h9r=new Y5r(c9r),H9r=this._finallyPromise=new Y5r(c9r);this._promise=h9r.lastly(function(){return H9r;});h9r._captureStackTrace();h9r._setOnCancel(this);}else{(this._promise=new Y5r(c9r))._captureStackTrace();}this._stack=E9r;this._generatorFunction=q9r;this._receiver=Z9r;this._generator=void 0;this._yieldHandlers="function"==typeof y9r?[y9r].concat(n9r):n9r;this._yieldedPromise=null;this._cancellationPhase=false;}var T9r=x5r("./errors").TypeError,s9r=x5r("./util"),I9r=s9r.errorObj,r9r=s9r.tryCatch,n9r=[];s9r.inherits(A5r,O9r);A5r.prototype._isResolved=function(){return null===this._promise;};A5r.prototype._cleanup=function(){this._promise=this._generator=null;M9r.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null);};A5r.prototype._promiseCancelled=function(){if(!this._isResolved()){var u9r;"undefined"!=typeof this._generator["return"]?(this._promise._pushContext(),u9r=r9r(this._generator["return"]).call(this._generator,void 0)):(u9r=new Y5r.CancellationError("generator .return() sentinel"),Y5r.coroutine.returnSentinel=u9r,this._promise._attachExtraTrace(u9r),this._promise._pushContext(),u9r=r9r(this._generator["throw"]).call(this._generator,u9r));this._promise._popContext();this._cancellationPhase=true;this._yieldedPromise=null;this._continue(u9r);}};A5r.prototype._promiseFulfilled=function(j9r){this._yieldedPromise=null;this._promise._pushContext();j9r=r9r(this._generator.next).call(this._generator,j9r);this._promise._popContext();this._continue(j9r);};A5r.prototype._promiseRejected=function(J9r){this._yieldedPromise=null;this._promise._attachExtraTrace(J9r);this._promise._pushContext();J9r=r9r(this._generator["throw"]).call(this._generator,J9r);this._promise._popContext();this._continue(J9r);};A5r.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof Y5r){var S9r=this._yieldedPromise;this._yieldedPromise=null;S9r.cancel();}};A5r.prototype.promise=function(){return this._promise;};A5r.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver);this._receiver=this._generatorFunction=void 0;this._promiseFulfilled(void 0);};A5r.prototype._continue=function(b9r){var K9r=this._promise;if(b9r===I9r){return this._cleanup(),this._cancellationPhase?K9r.cancel():K9r._rejectCallback(b9r.e,false);}var t9r=b9r.value;if(true===b9r.done){return this._cleanup(),this._cancellationPhase?K9r.cancel():K9r._resolveCallback(t9r);}b9r=o9r(t9r,this._promise);if(K9r=!(b9r instanceof Y5r)){a:{for(var N9r=b9r,B9r=this._yieldHandlers,K9r=this._promise,f9r=0;f9r<B9r.length;++f9r){K9r._pushContext();var C9r=r9r(B9r[f9r])(N9r);if(K9r._popContext(),C9r===I9r){K9r._pushContext();N9r=Y5r.reject(I9r.e);K9r=(K9r._popContext(),N9r);break a;}C9r=o9r(C9r,K9r);if(C9r instanceof Y5r){K9r=C9r;break a;}}K9r=null;}K9r=(b9r=K9r,null===b9r);}if(K9r){return void this._promiseRejected(new T9r("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(t9r))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));}b9r=b9r._target();t9r=b9r._bitField;0===(50397184&t9r)?(this._yieldedPromise=b9r,b9r._proxy(this,null)):0!==(33554432&t9r)?Y5r._async.invoke(this._promiseFulfilled,this,b9r._value()):0!==(16777216&t9r)?Y5r._async.invoke(this._promiseRejected,this,b9r._reason()):this._promiseCancelled();};Y5r.coroutine=function(m9r,z9r){if("function"!=typeof m9r){throw new T9r("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");}var l9r=Object(z9r).yieldHandler,Q9r=Error().stack;return function(){var d9r=m9r.apply(this,arguments),D9r=new A5r(void 0,void 0,l9r,Q9r),X9r=D9r.promise();return D9r._generator=d9r,D9r._promiseFulfilled(void 0),X9r;};};Y5r.coroutine.addYieldHandler=function(W9r){if("function"!=typeof W9r){throw new T9r("expecting a function but got "+s9r.classString(W9r));}n9r.push(W9r);};Y5r.spawn=function(U9r){if(M9r.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof U9r){return g9r("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");}U9r=new A5r(U9r,this);var G9r=U9r.promise();return U9r._run(Y5r.spawn),G9r;};};},{"./errors":12,"./util":36}],17:[function(e9r,F9r,p9r){F9r.exports=function(P9r,v9r,V9r,L9r,R9r,i9r){V9r=e9r("./util");V9r.canEvaluate;V9r.tryCatch;V9r.errorObj;P9r.join=function(){var x9r,a9r=arguments.length-1;0<a9r&&"function"==typeof arguments[a9r]&&(x9r=arguments[a9r]);a9r=[].slice.call(arguments);x9r&&a9r.pop();a9r=new v9r(a9r).promise();return void 0!==x9r?a9r.spread(x9r):a9r;};};},{"./util":36}],18:[function(k9r,w9r,Y9r){w9r.exports=function(s1r,y1r,h1r,g1r,O1r,o1r){function A9r(H1r,q1r,Z1r,E1r){this.constructor$(H1r);this._promise._captureStackTrace();H1r=T1r();this._callback=null===H1r?q1r:r1r.domainBind(H1r,q1r);this._preservedValues=E1r===O1r?Array(this.length()):null;this._limit=Z1r;this._inFlight=0;this._queue=[];I1r.invoke(this._asyncInit,this,void 0);}function c1r(S1r,J1r,j1r,K1r){if("function"!=typeof J1r){return h1r("expecting a function but got "+r1r.classString(J1r));}var u1r=0;if(void 0!==j1r){if("object"!=typeof j1r||null===j1r){return s1r.reject(new TypeError("options argument must be an object but it is "+r1r.classString(j1r)));}if("number"!=typeof j1r.concurrency){return s1r.reject(new TypeError("'concurrency' must be a number but it is "+r1r.classString(j1r.concurrency)));}u1r=j1r.concurrency;}return u1r="number"==typeof u1r&&isFinite(u1r)&&1<=u1r?u1r:0,new A9r(S1r,J1r,u1r,K1r).promise();}var T1r=s1r._getDomain,r1r=k9r("./util"),n1r=r1r.tryCatch,M1r=r1r.errorObj,I1r=s1r._async;r1r.inherits(A9r,y1r);A9r.prototype._asyncInit=function(){this._init$(void 0,-2);};A9r.prototype._init=function(){};A9r.prototype._promiseFulfilled=function(b1r,C1r){var N1r=this._values,l1r=this.length(),f1r=this._preservedValues,B1r=this._limit;if(0>C1r){if(C1r=-1*C1r-1,N1r[C1r]=b1r,1<=B1r&&(this._inFlight--,this._drainQueue(),this._isResolved())){return true;}}else{if(1<=B1r&&this._inFlight>=B1r){return N1r[C1r]=b1r,this._queue.push(C1r),false;}null!==f1r&&(f1r[C1r]=b1r);var t1r=this._promise,m1r=this._callback,Q1r=t1r._boundValue();t1r._pushContext();b1r=n1r(m1r).call(Q1r,b1r,C1r,l1r);m1r=t1r._popContext();if(o1r.checkForgottenReturns(b1r,m1r,null!==f1r?"Promise.filter":"Promise.map",t1r),b1r===M1r){return this._reject(b1r.e),true;}t1r=g1r(b1r,this._promise);if(t1r instanceof s1r){t1r=t1r._target();b1r=t1r._bitField;if(0===(50397184&b1r)){return 1<=B1r&&this._inFlight++,N1r[C1r]=t1r,t1r._proxy(this,-1*(C1r+1)),false;}if(0===(33554432&b1r)){return 0!==(16777216&b1r)?(this._reject(t1r._reason()),true):(this._cancel(),true);}b1r=t1r._value();}N1r[C1r]=b1r;}return++this._totalResolved>=l1r?(null!==f1r?this._filter(N1r,f1r):this._resolve(N1r),true):false;};A9r.prototype._drainQueue=function(){var d1r=this;for(var z1r=this._queue,X1r=this._limit,W1r=this._values;0<z1r.length&&this._inFlight<X1r&&!this._isResolved();){var D1r=z1r.pop();d1r._promiseFulfilled(W1r[D1r],D1r);}};A9r.prototype._filter=function(V1r,p1r){for(var e1r=p1r.length,G1r=Array(e1r),F1r=0,U1r=0;e1r>U1r;++U1r){V1r[U1r]&&(G1r[F1r++]=p1r[U1r]);}G1r.length=F1r;this._resolve(G1r);};A9r.prototype.preservedValues=function(){return this._preservedValues;};s1r.prototype.map=function(P1r,v1r){return c1r(this,P1r,v1r,null);};s1r.map=function(L1r,R1r,i1r,a1r){return c1r(L1r,R1r,i1r,a1r);};};},{"./util":36}],19:[function(x1r,k1r,w1r){k1r.exports=function(Y1r,n4r,T4r,I4r,s4r){var A1r=x1r("./util"),r4r=A1r.tryCatch;Y1r.method=function(c4r){if("function"!=typeof c4r){throw new Y1r.TypeError("expecting a function but got "+A1r.classString(c4r));}return function(){var M4r=new Y1r(n4r);M4r._captureStackTrace();M4r._pushContext();var o4r=r4r(c4r).apply(this,arguments),O4r=M4r._popContext();return s4r.checkForgottenReturns(o4r,O4r,"Promise.method",M4r),M4r._resolveFromSyncValue(o4r),M4r;};};Y1r.attempt=Y1r["try"]=function(y4r){if("function"!=typeof y4r){return I4r("expecting a function but got "+A1r.classString(y4r));}var h4r=new Y1r(n4r);h4r._captureStackTrace();h4r._pushContext();var g4r;if(1<arguments.length){s4r.deprecated("calling Promise.try with more than 1 argument");g4r=arguments[1];var H4r=arguments[2];g4r=A1r.isArray(g4r)?r4r(y4r).apply(H4r,g4r):r4r(y4r).call(H4r,g4r);}else{g4r=r4r(y4r)();}H4r=h4r._popContext();return s4r.checkForgottenReturns(g4r,H4r,"Promise.try",h4r),h4r._resolveFromSyncValue(g4r),h4r;};Y1r.prototype._resolveFromSyncValue=function(q4r){q4r===A1r.errorObj?this._rejectCallback(q4r.e,false):this._resolveCallback(q4r,true);};};},{"./util":36}],20:[function(Z4r,K4r,b4r){var E4r=Z4r("./util"),j4r=E4r.maybeWrapAsError,J4r=Z4r("./errors").OperationalError,u4r=Z4r("./es5"),S4r=/^(?:name|message|stack|cause)$/;K4r.exports=function(t4r,C4r){return function(Q4r,z4r){if(null!==t4r){if(Q4r){var N4r;N4r=j4r(Q4r);var f4r;if(N4r instanceof Error&&u4r.getPrototypeOf(N4r)===Error.prototype){f4r=new J4r(N4r);f4r.name=N4r.name;f4r.message=N4r.message;f4r.stack=N4r.stack;for(var l4r=u4r.keys(N4r),B4r=0;B4r<l4r.length;++B4r){var m4r=l4r[B4r];S4r.test(m4r)||(f4r[m4r]=N4r[m4r]);}N4r=f4r;}else{N4r=(E4r.markAsOriginatingFromRejection(N4r),N4r);}t4r._attachExtraTrace(N4r);t4r._reject(N4r);}else{C4r?(N4r=[].slice.call(arguments,1),t4r._fulfill(N4r)):t4r._fulfill(z4r);}t4r=null;}};};},{"./errors":12,"./es5":13,"./util":36}],21:[function(D4r,d4r,X4r){d4r.exports=function(F4r){function V4r(v4r,L4r){if(!U4r.isArray(v4r)){return p4r.call(this,v4r,L4r);}v4r=W4r(L4r).apply(this._boundValue(),[null].concat(v4r));v4r===e4r&&G4r.throwLater(v4r.e);}function p4r(R4r,a4r){var i4r=this._boundValue();R4r=void 0===R4r?W4r(a4r).call(i4r,null):W4r(a4r).call(i4r,null,R4r);R4r===e4r&&G4r.throwLater(R4r.e);}function P4r(x4r,w4r){if(!x4r){var k4r=Error(x4r+"");k4r.cause=x4r;x4r=k4r;}x4r=W4r(w4r).call(this._boundValue(),x4r);x4r===e4r&&G4r.throwLater(x4r.e);}var U4r=D4r("./util"),G4r=F4r._async,W4r=U4r.tryCatch,e4r=U4r.errorObj;F4r.prototype.asCallback=F4r.prototype.nodeify=function(A4r,r7r){if("function"==typeof A4r){var Y4r=p4r;void 0!==r7r&&Object(r7r).spread&&(Y4r=V4r);this._then(Y4r,P4r,void 0,this,A4r);}return this;};};},{"./util":36}],22:[function(s7r,n7r,I7r){n7r.exports=function(){function S7r(){}function T7r(d7r){if(d7r!==M7r){if(null==this||this.constructor!==T7r){throw new Z7r("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");}if("function"!=typeof d7r){throw new Z7r("expecting a function but got "+c7r.classString(d7r));}}this._bitField=0;this._receiver0=this._promise0=this._rejectionHandler0=this._fulfillmentHandler0=void 0;this._resolveFromExecutor(d7r);this._promiseCreated();this._fireEvent("promiseCreated",this);}function D7r(X7r){this.promise._resolveCallback(X7r);}function z7r(W7r){this.promise._rejectCallback(W7r,false);}function q7r(G7r){var U7r=new T7r(M7r);U7r._fulfillmentHandler0=G7r;U7r._rejectionHandler0=G7r;U7r._promise0=G7r;U7r._receiver0=G7r;}var t7r,j7r=function(){return new Z7r("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n");},J7r=function(){return new T7r.PromiseInspection(this._target());},h7r=function(e7r){return T7r.reject(new Z7r(e7r));},b7r={},c7r=s7r("./util");t7r=c7r.isNode?function(){var F7r=process.domain;return void 0===F7r&&(F7r=null),F7r;}:function(){return null;};c7r.notEnumerableProp(T7r,"_getDomain",t7r);var O7r=s7r("./es5"),C7r=s7r("./async"),H7r=new C7r();O7r.defineProperty(T7r,"_async",{value:H7r});var O7r=s7r("./errors"),Z7r=T7r.TypeError=O7r.TypeError;T7r.RangeError=O7r.RangeError;var f7r=T7r.CancellationError=O7r.CancellationError;T7r.TimeoutError=O7r.TimeoutError;T7r.OperationalError=O7r.OperationalError;T7r.RejectionError=O7r.OperationalError;T7r.AggregateError=O7r.AggregateError;var M7r=function(){},N7r={},K7r={},g7r=s7r("./thenables")(T7r,M7r),y7r=s7r("./promise_array")(T7r,M7r,g7r,h7r,S7r),O7r=s7r("./context")(T7r),B7r=O7r.create,o7r=s7r("./debuggability")(T7r,O7r),l7r=(o7r.CapturedTrace,s7r("./finally")(T7r,g7r,K7r)),Q7r=s7r("./catch_filter")(K7r),m7r=s7r("./nodeback"),E7r=c7r.errorObj,u7r=c7r.tryCatch;return T7r.prototype.toString=function(){return"[object Promise]";},T7r.prototype.caught=T7r.prototype["catch"]=function(L7r){var V7r=arguments.length;if(1<V7r){var p7r,P7r=Array(V7r-1),R7r=0;for(p7r=0;V7r-1>p7r;++p7r){var v7r=arguments[p7r];if(!c7r.isObject(v7r)){return h7r("Catch statement predicate: expecting an object but got "+c7r.classString(v7r));}P7r[R7r++]=v7r;}return P7r.length=R7r,L7r=arguments[p7r],this.then(void 0,Q7r(P7r,L7r,this));}return this.then(void 0,L7r);},T7r.prototype.reflect=function(){return this._then(J7r,J7r,void 0,this,void 0);},T7r.prototype.then=function(i7r,a7r){if(o7r.warnings()&&0<arguments.length&&"function"!=typeof i7r&&"function"!=typeof a7r){var x7r=".then() only accepts functions but was passed: "+c7r.classString(i7r);1<arguments.length&&(x7r+=", "+c7r.classString(a7r));this._warn(x7r);}return this._then(i7r,a7r,void 0,void 0,void 0);},T7r.prototype.done=function(k7r,w7r){this._then(k7r,w7r,void 0,void 0,void 0)._setIsFinal();},T7r.prototype.spread=function(Y7r){return"function"!=typeof Y7r?h7r("expecting a function but got "+c7r.classString(Y7r)):this.all()._then(Y7r,void 0,void 0,N7r,void 0);},T7r.prototype.toJSON=function(){var A7r={isFulfilled:false,isRejected:false,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(A7r.fulfillmentValue=this.value(),A7r.isFulfilled=true):this.isRejected()&&(A7r.rejectionReason=this.reason(),A7r.isRejected=true),A7r;},T7r.prototype.all=function(){return 0<arguments.length&&this._warn(".all() was passed arguments but it does not take any"),new y7r(this).promise();},T7r.prototype.error=function(r6r){return this.caught(c7r.originatesFromRejection,r6r);},T7r.getNewLibraryCopy=n7r.exports,T7r.is=function(s6r){return s6r instanceof T7r;},T7r.fromNode=T7r.fromCallback=function(T6r){var n6r=new T7r(M7r);n6r._captureStackTrace();var I6r=1<arguments.length?!!Object(arguments[1]).multiArgs:false,I6r=u7r(T6r)(m7r(n6r,I6r));return I6r===E7r&&n6r._rejectCallback(I6r.e,true),n6r._isFateSealed()||n6r._setAsyncGuaranteed(),n6r;},T7r.all=function(c6r){return new y7r(c6r).promise();},T7r.cast=function(o6r){var M6r=g7r(o6r);return M6r instanceof T7r||(M6r=new T7r(M7r),M6r._captureStackTrace(),M6r._setFulfilled(),M6r._rejectionHandler0=o6r),M6r;},T7r.resolve=T7r.fulfilled=T7r.cast,T7r.reject=T7r.rejected=function(g6r){var O6r=new T7r(M7r);return O6r._captureStackTrace(),O6r._rejectCallback(g6r,true),O6r;},T7r.setScheduler=function(h6r){if("function"!=typeof h6r){throw new Z7r("expecting a function but got "+c7r.classString(h6r));}return H7r.setScheduler(h6r);},T7r.prototype._then=function(K6r,S6r,y6r,j6r,H6r){var q6r=void 0!==H6r;H6r=q6r?H6r:new T7r(M7r);y6r=this._target();var u6r=y6r._bitField;q6r||(H6r._propagateFrom(this,3),H6r._captureStackTrace(),void 0===j6r&&0!==(2097152&this._bitField)&&(j6r=0!==(50397184&u6r)?this._boundValue():y6r===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,H6r));q6r=t7r();if(0!==(50397184&u6r)){var Z6r,E6r,J6r=y6r._settlePromiseCtx;0!==(33554432&u6r)?(E6r=y6r._rejectionHandler0,Z6r=K6r):0!==(16777216&u6r)?(E6r=y6r._fulfillmentHandler0,Z6r=S6r,y6r._unsetRejectionIsUnhandled()):(J6r=y6r._settlePromiseLateCancellationObserver,E6r=new f7r("late cancellation observer"),y6r._attachExtraTrace(E6r),Z6r=S6r);H7r.invoke(J6r,y6r,{handler:null===q6r?Z6r:"function"==typeof Z6r&&c7r.domainBind(q6r,Z6r),promise:H6r,receiver:j6r,value:E6r});}else{y6r._addCallbacks(K6r,S6r,H6r,j6r,q6r);}return H6r;},T7r.prototype._length=function(){return 65535&this._bitField;},T7r.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField);},T7r.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField);},T7r.prototype._setLength=function(b6r){this._bitField=-65536&this._bitField|65535&b6r;},T7r.prototype._setFulfilled=function(){this._bitField|=33554432;this._fireEvent("promiseFulfilled",this);},T7r.prototype._setRejected=function(){this._bitField|=16777216;this._fireEvent("promiseRejected",this);},T7r.prototype._setFollowing=function(){this._bitField|=67108864;this._fireEvent("promiseResolved",this);},T7r.prototype._setIsFinal=function(){this._bitField|=4194304;},T7r.prototype._isFinal=function(){return 0<(4194304&this._bitField);},T7r.prototype._unsetCancelled=function(){this._bitField&=-65537;},T7r.prototype._setCancelled=function(){this._bitField|=65536;this._fireEvent("promiseCancelled",this);},T7r.prototype._setWillBeCancelled=function(){this._bitField|=8388608;},T7r.prototype._setAsyncGuaranteed=function(){H7r.hasCustomScheduler()||(this._bitField|=134217728);},T7r.prototype._receiverAt=function(t6r){t6r=0===t6r?this._receiver0:this[4*t6r-4+3];return t6r===b7r?void 0:void 0===t6r&&this._isBound()?this._boundValue():t6r;},T7r.prototype._promiseAt=function(C6r){return this[4*C6r-4+2];},T7r.prototype._fulfillmentHandlerAt=function(N6r){return this[4*N6r-4+0];},T7r.prototype._rejectionHandlerAt=function(f6r){return this[4*f6r-4+1];},T7r.prototype._boundValue=function(){},T7r.prototype._migrateCallback0=function(B6r){var m6r=(B6r._bitField,B6r._fulfillmentHandler0),l6r=B6r._rejectionHandler0,Q6r=B6r._promise0;B6r=B6r._receiverAt(0);void 0===B6r&&(B6r=b7r);this._addCallbacks(m6r,l6r,Q6r,B6r,null);},T7r.prototype._migrateCallbackAt=function(z6r,D6r){var d6r=z6r._fulfillmentHandlerAt(D6r),X6r=z6r._rejectionHandlerAt(D6r),W6r=z6r._promiseAt(D6r);z6r=z6r._receiverAt(D6r);void 0===z6r&&(z6r=b7r);this._addCallbacks(d6r,X6r,W6r,z6r,null);},T7r.prototype._addCallbacks=function(e6r,F6r,V6r,P6r,U6r){var G6r=this._length();if(65531<=G6r&&(G6r=0,this._setLength(0)),0===G6r){this._promise0=V6r,this._receiver0=P6r,"function"==typeof e6r&&(this._fulfillmentHandler0=null===U6r?e6r:c7r.domainBind(U6r,e6r)),"function"==typeof F6r&&(this._rejectionHandler0=null===U6r?F6r:c7r.domainBind(U6r,F6r));}else{var p6r=4*G6r-4;this[p6r+2]=V6r;this[p6r+3]=P6r;"function"==typeof e6r&&(this[p6r+0]=null===U6r?e6r:c7r.domainBind(U6r,e6r));"function"==typeof F6r&&(this[p6r+1]=null===U6r?F6r:c7r.domainBind(U6r,F6r));}return this._setLength(G6r+1),G6r;},T7r.prototype._proxy=function(v6r,L6r){this._addCallbacks(void 0,void 0,L6r,v6r,null);},T7r.prototype._resolveCallback=function(R6r,i6r){var x6r=this;if(0===(117506048&this._bitField)){if(R6r===this){return this._rejectCallback(j7r(),false);}var a6r=g7r(R6r,this);if(!(a6r instanceof T7r)){return this._fulfill(R6r);}i6r&&this._propagateFrom(a6r,2);R6r=a6r._target();if(R6r===this){return void this._reject(j7r());}i6r=R6r._bitField;if(0===(50397184&i6r)){i6r=this._length();0<i6r&&R6r._migrateCallback0(this);for(a6r=1;i6r>a6r;++a6r){R6r._migrateCallbackAt(x6r,a6r);}this._setFollowing();this._setLength(0);this._setFollowee(R6r);}else{0!==(33554432&i6r)?this._fulfill(R6r._value()):0!==(16777216&i6r)?this._reject(R6r._reason()):(i6r=new f7r("late cancellation observer"),R6r._attachExtraTrace(i6r),this._reject(i6r));}}},T7r.prototype._rejectCallback=function(k6r,r8R,w6r){var Y6r=c7r.ensureErrorObject(k6r),A6r=Y6r===k6r;A6r||w6r||!o7r.warnings()||(w6r="a promise was rejected with a non-error: "+c7r.classString(k6r),this._warn(w6r,true));this._attachExtraTrace(Y6r,r8R?A6r:false);this._reject(k6r);},T7r.prototype._resolveFromExecutor=function(s8R){if(s8R!==M7r){var n8R=this;this._captureStackTrace();this._pushContext();var I8R=true;s8R=this._execute(s8R,function(T8R){n8R._resolveCallback(T8R);},function(c8R){n8R._rejectCallback(c8R,I8R);});I8R=false;this._popContext();void 0!==s8R&&n8R._rejectCallback(s8R,true);}},T7r.prototype._settlePromiseFromHandler=function(g8R,y8R,O8R,o8R){var h8R=o8R._bitField;if(0===(65536&h8R)){o8R._pushContext();var M8R;y8R===N7r?O8R&&"number"==typeof O8R.length?M8R=u7r(g8R).apply(this._boundValue(),O8R):(M8R=E7r,M8R.e=new Z7r("cannot .spread() a non-array: "+c7r.classString(O8R))):M8R=u7r(g8R).call(y8R,O8R);g8R=o8R._popContext();h8R=o8R._bitField;0===(65536&h8R)&&(M8R===K7r?o8R._reject(O8R):M8R===E7r?o8R._rejectCallback(M8R.e,false):(o7r.checkForgottenReturns(M8R,g8R,"",o8R,this),o8R._resolveCallback(M8R)));}},T7r.prototype._target=function(){for(var H8R=this;H8R._isFollowing();){H8R=H8R._followee();}return H8R;},T7r.prototype._followee=function(){return this._rejectionHandler0;},T7r.prototype._setFollowee=function(q8R){this._rejectionHandler0=q8R;},T7r.prototype._settlePromise=function(Z8R,j8R,E8R,u8R){var J8R=Z8R instanceof T7r,S8R=this._bitField,K8R=0!==(134217728&S8R);0!==(65536&S8R)?(J8R&&Z8R._invokeInternalOnCancel(),E8R instanceof l7r&&E8R.isFinallyHandler()?(E8R.cancelPromise=Z8R,u7r(j8R).call(E8R,u8R)===E7r&&Z8R._reject(E7r.e)):j8R===J7r?Z8R._fulfill(J7r.call(E8R)):E8R instanceof S7r?E8R._promiseCancelled(Z8R):J8R||Z8R instanceof y7r?Z8R._cancel():E8R.cancel()):"function"==typeof j8R?J8R?(K8R&&Z8R._setAsyncGuaranteed(),this._settlePromiseFromHandler(j8R,E8R,u8R,Z8R)):j8R.call(E8R,u8R,Z8R):E8R instanceof S7r?E8R._isResolved()||(0!==(33554432&S8R)?E8R._promiseFulfilled(u8R,Z8R):E8R._promiseRejected(u8R,Z8R)):J8R&&(K8R&&Z8R._setAsyncGuaranteed(),0!==(33554432&S8R)?Z8R._fulfill(u8R):Z8R._reject(u8R));},T7r.prototype._settlePromiseLateCancellationObserver=function(b8R){var C8R=b8R.handler,t8R=b8R.promise,N8R=b8R.receiver;b8R=b8R.value;"function"==typeof C8R?t8R instanceof T7r?this._settlePromiseFromHandler(C8R,N8R,b8R,t8R):C8R.call(N8R,b8R,t8R):t8R instanceof T7r&&t8R._reject(b8R);},T7r.prototype._settlePromiseCtx=function(f8R){this._settlePromise(f8R.promise,f8R.handler,f8R.receiver,f8R.value);},T7r.prototype._settlePromise0=function(l8R,Q8R,B8R){B8R=this._promise0;var m8R=this._receiverAt(0);this._receiver0=this._promise0=void 0;this._settlePromise(B8R,l8R,m8R,Q8R);},T7r.prototype._clearCallbackDataAtIndex=function(z8R){z8R=4*z8R-4;this[z8R+2]=this[z8R+3]=this[z8R+0]=this[z8R+1]=void 0;},T7r.prototype._fulfill=function(D8R){var d8R=this._bitField;if(!((117506048&d8R)>>>16)){if(D8R===this){return D8R=j7r(),this._attachExtraTrace(D8R),this._reject(D8R);}this._setFulfilled();this._rejectionHandler0=D8R;0<(65535&d8R)&&(0!==(134217728&d8R)?this._settlePromises():H7r.settlePromises(this));}},T7r.prototype._reject=function(W8R){var X8R=this._bitField;if(!((117506048&X8R)>>>16)){return this._setRejected(),this._fulfillmentHandler0=W8R,this._isFinal()?H7r.fatalError(W8R,c7r.isNode):void(0<(65535&X8R)?H7r.settlePromises(this):this._ensurePossibleRejectionHandled());}},T7r.prototype._fulfillPromises=function(V8R,P8R){var G8R=this;for(var U8R=1;V8R>U8R;U8R++){var e8R=G8R._fulfillmentHandlerAt(U8R),F8R=G8R._promiseAt(U8R),p8R=G8R._receiverAt(U8R);G8R._clearCallbackDataAtIndex(U8R);G8R._settlePromise(F8R,e8R,p8R,P8R);}},T7r.prototype._rejectPromises=function(x8R,k8R){var L8R=this;for(var v8R=1;x8R>v8R;v8R++){var R8R=L8R._rejectionHandlerAt(v8R),i8R=L8R._promiseAt(v8R),a8R=L8R._receiverAt(v8R);L8R._clearCallbackDataAtIndex(v8R);L8R._settlePromise(i8R,R8R,a8R,k8R);}},T7r.prototype._settlePromises=function(){var Y8R=this._bitField,A8R=65535&Y8R;if(0<A8R){if(0!==(16842752&Y8R)){var w8R=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,w8R,Y8R);this._rejectPromises(A8R,w8R);}else{w8R=this._rejectionHandler0,this._settlePromise0(this._fulfillmentHandler0,w8R,Y8R),this._fulfillPromises(A8R,w8R);}this._setLength(0);}this._clearCancellationData();},T7r.prototype._settledValue=function(){var r2R=this._bitField;return 0!==(33554432&r2R)?this._rejectionHandler0:0!==(16777216&r2R)?this._fulfillmentHandler0:void 0;},T7r.defer=T7r.pending=function(){o7r.deprecated("Promise.defer","new Promise");return{promise:new T7r(M7r),resolve:D7r,reject:z7r};},c7r.notEnumerableProp(T7r,"_makeSelfResolutionError",j7r),s7r("./method")(T7r,M7r,g7r,h7r,o7r),s7r("./bind")(T7r,M7r,g7r,o7r),s7r("./cancel")(T7r,y7r,h7r,o7r),s7r("./direct_resolve")(T7r),s7r("./synchronous_inspection")(T7r),s7r("./join")(T7r,y7r,g7r,M7r,H7r,t7r),T7r.Promise=T7r,T7r.version="3.5.0",s7r("./map.js")(T7r,y7r,h7r,g7r,M7r,o7r),s7r("./call_get.js")(T7r),s7r("./using.js")(T7r,h7r,g7r,B7r,M7r,o7r),s7r("./timers.js")(T7r,M7r,o7r),s7r("./generators.js")(T7r,h7r,M7r,g7r,S7r,o7r),s7r("./nodeify.js")(T7r),s7r("./promisify.js")(T7r,M7r),s7r("./props.js")(T7r,y7r,g7r,h7r),s7r("./race.js")(T7r,M7r,g7r,h7r),s7r("./reduce.js")(T7r,y7r,h7r,g7r,M7r,o7r),s7r("./settle.js")(T7r,y7r,o7r),s7r("./some.js")(T7r,y7r,h7r),s7r("./filter.js")(T7r,M7r),s7r("./each.js")(T7r,M7r),s7r("./any.js")(T7r),c7r.toFastProperties(T7r),c7r.toFastProperties(T7r.prototype),q7r({a:1}),q7r({b:2}),q7r({c:3}),q7r(1),q7r(function(){}),q7r(void 0),q7r(false),q7r(new T7r(M7r)),o7r.setBounds(C7r.firstLineError,c7r.lastLineError),T7r;};},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(s2R,n2R,I2R){n2R.exports=function(c2R,O2R,o2R,g2R,h2R){function y2R(H2R){switch(H2R){case-2:return[];case-3:return{};case-6:return new Map();}}function T2R(q2R){var Z2R=this._promise=new c2R(O2R);q2R instanceof c2R&&Z2R._propagateFrom(q2R,3);Z2R._setOnCancel(this);this._values=q2R;this._totalResolved=this._length=0;this._init(void 0,-2);}var M2R=s2R("./util");M2R.isArray;return M2R.inherits(T2R,h2R),T2R.prototype.length=function(){return this._length;},T2R.prototype.promise=function(){return this._promise;},T2R.prototype._init=function E2R(u2R,j2R){u2R=o2R(this._values,this._promise);if(u2R instanceof c2R){u2R=u2R._target();var J2R=u2R._bitField;if(this._values=u2R,0===(50397184&J2R)){return this._promise._setAsyncGuaranteed(),u2R._then(E2R,this._reject,void 0,this,j2R);}if(0===(33554432&J2R)){return 0!==(16777216&J2R)?this._reject(u2R._reason()):this._cancel();}u2R=u2R._value();}return(u2R=M2R.asArray(u2R),null===u2R)?(j2R=g2R("expecting an array or an iterable object but got "+M2R.classString(u2R)).reason(),void this._promise._rejectCallback(j2R,false)):0===u2R.length?void(-5===j2R?this._resolveEmptyArray():this._resolve(y2R(j2R))):void this._iterate(u2R);},T2R.prototype._iterate=function(B2R){var t2R=this;var N2R=this.getActualLength(B2R.length);this._length=N2R;this._values=this.shouldCopyValues()?Array(N2R):this._values;for(var f2R=this._promise,C2R=false,b2R=null,K2R=0;N2R>K2R;++K2R){var S2R=o2R(B2R[K2R],f2R);S2R instanceof c2R?(S2R=S2R._target(),b2R=S2R._bitField):b2R=null;C2R?null!==b2R&&S2R.suppressUnhandledRejections():null!==b2R?0===(50397184&b2R)?(S2R._proxy(t2R,K2R),t2R._values[K2R]=S2R):C2R=0!==(33554432&b2R)?t2R._promiseFulfilled(S2R._value(),K2R):0!==(16777216&b2R)?t2R._promiseRejected(S2R._reason(),K2R):t2R._promiseCancelled(K2R):C2R=t2R._promiseFulfilled(S2R,K2R);}C2R||f2R._setAsyncGuaranteed();},T2R.prototype._isResolved=function(){return null===this._values;},T2R.prototype._resolve=function(m2R){this._values=null;this._promise._fulfill(m2R);},T2R.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel());},T2R.prototype._reject=function(l2R){this._values=null;this._promise._rejectCallback(l2R,false);},T2R.prototype._promiseFulfilled=function(Q2R,z2R){this._values[z2R]=Q2R;return++this._totalResolved>=this._length?(this._resolve(this._values),true):false;},T2R.prototype._promiseCancelled=function(){return this._cancel(),true;},T2R.prototype._promiseRejected=function(D2R){return this._totalResolved++,this._reject(D2R),true;},T2R.prototype._resultCancelled=function(){if(!this._isResolved()){var d2R=this._values;if(this._cancel(),d2R instanceof c2R){d2R.cancel();}else{for(var X2R=0;X2R<d2R.length;++X2R){d2R[X2R]instanceof c2R&&d2R[X2R].cancel();}}}},T2R.prototype.shouldCopyValues=function(){return true;},T2R.prototype.getActualLength=function(W2R){return W2R;},T2R;};},{"./util":36}],24:[function(U2R,G2R,e2R){G2R.exports=function(R2R,s0R){function r0R(T0R){return!Y2R.test(T0R);}function i2R(c0R){try{return true===c0R.__isPromisified__;}catch(M0R){return false;}}function n0R(o0R,u0R,E0R,g0R){for(var h0R=F2R.inheritedDataKeys(o0R),O0R=[],Z0R=0;Z0R<h0R.length;++Z0R){var H0R=h0R[Z0R],y0R=o0R[H0R],j0R=g0R===P2R?true:P2R(H0R,y0R,o0R),q0R;(q0R="function"!=typeof y0R||i2R(y0R))||(q0R=(q0R=F2R.getDataPropertyOrDefault(o0R,H0R+u0R,w2R))?i2R(q0R):false);q0R||!g0R(H0R,y0R,o0R,j0R)||O0R.push(H0R,y0R);}for(o0R=0;o0R<O0R.length;o0R+=2){if(g0R=O0R[o0R],E0R.test(g0R)){for(g0R=g0R.replace(E0R,""),h0R=0;h0R<O0R.length;h0R+=2){if(O0R[h0R]===g0R){throw new v2R("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",u0R));}}}}return O0R;}function I0R(S0R,K0R,f0R,C0R,B0R,N0R){function b0R(){var l0R=K0R;K0R===V2R&&(l0R=this);var m0R=new R2R(s0R);m0R._captureStackTrace();var Q0R="string"==typeof J0R&&this!==t0R?this[J0R]:S0R,z0R=a2R(m0R,N0R);try{Q0R.apply(l0R,k2R(arguments,z0R));}catch(D0R){m0R._rejectCallback(A2R(D0R),true,true);}return m0R._isFateSealed()||m0R._setAsyncGuaranteed(),m0R;}var t0R=function(){return this;}(),J0R=S0R;return"string"==typeof J0R&&(S0R=C0R),F2R.notEnumerableProp(b0R,"__isPromisified__",true),b0R;}function L2R(G0R,W0R,U0R,v0R,P0R){var d0R=new RegExp(W0R.replace(/([$])/,"\\$")+"$");U0R=n0R(G0R,W0R,d0R,U0R);for(var d0R=0,V0R=U0R.length;V0R>d0R;d0R+=2){var X0R=U0R[d0R],e0R=U0R[d0R+1],F0R=X0R+W0R;if(v0R===p2R){G0R[F0R]=p2R(X0R,V2R,X0R,e0R,W0R,P0R);}else{var p0R=v0R(e0R,function(){return p2R(X0R,V2R,X0R,e0R,W0R,P0R);});F2R.notEnumerableProp(p0R,"__isPromisified__",true);G0R[F0R]=p0R;}}return F2R.toFastProperties(G0R),G0R;}var V2R={},F2R=U2R("./util"),a2R=U2R("./nodeback"),k2R=F2R.withAppended,A2R=F2R.maybeWrapAsError,x2R=F2R.canEvaluate,v2R=U2R("./errors").TypeError,w2R={__isPromisified__:true},Y2R=/^(?:arity|length|name|arguments|caller|callee|prototype|__isPromisified__)$/,P2R=function(L0R){return F2R.isIdentifier(L0R)&&"_"!==L0R.charAt(0)&&"constructor"!==L0R;},p2R=x2R?void 0:I0R;R2R.promisify=function(i0R,R0R){if("function"!=typeof i0R){throw new v2R("expecting a function but got "+F2R.classString(i0R));}if(i2R(i0R)){return i0R;}R0R=Object(R0R);R0R=p2R(i0R,void 0===R0R.context?V2R:R0R.context,void 0,i0R,null,!!R0R.multiArgs);return F2R.copyDescriptors(i0R,R0R,r0R),R0R;};R2R.promisifyAll=function(w0R,a0R){if("function"!=typeof w0R&&"object"!=typeof w0R){throw new v2R("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");}a0R=Object(a0R);var A0R=!!a0R.multiArgs,x0R=a0R.suffix;"string"!=typeof x0R&&(x0R="Async");var k0R=a0R.filter;"function"!=typeof k0R&&(k0R=P2R);a0R=a0R.promisifier;if("function"!=typeof a0R&&(a0R=p2R),!F2R.isIdentifier(x0R)){throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");}for(var r3R=F2R.inheritedDataKeys(w0R),Y0R=0;Y0R<r3R.length;++Y0R){var s3R=w0R[r3R[Y0R]];"constructor"!==r3R[Y0R]&&F2R.isClass(s3R)&&(L2R(s3R.prototype,x0R,k0R,a0R,A0R),L2R(s3R,x0R,k0R,a0R,A0R));}return L2R(w0R,x0R,k0R,a0R,A0R);};};},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(n3R,I3R,T3R){I3R.exports=function(M3R,E3R,Z3R,q3R){function c3R(J3R){var j3R,S3R=false;if(void 0!==o3R&&J3R instanceof o3R){j3R=H3R(J3R),S3R=true;}else{var b3R=h3R.keys(J3R),K3R=b3R.length;j3R=Array(2*K3R);for(var u3R=0;K3R>u3R;++u3R){var t3R=b3R[u3R];j3R[u3R]=J3R[t3R];j3R[u3R+K3R]=t3R;}}this.constructor$(j3R);this._isMap=S3R;this._init$(void 0,S3R?-6:-3);}function g3R(C3R){var N3R;C3R=Z3R(C3R);return y3R(C3R)?(N3R=C3R instanceof M3R?C3R._then(M3R.props,void 0,void 0,void 0,void 0):new c3R(C3R).promise(),C3R instanceof M3R&&N3R._propagateFrom(C3R,2),N3R):q3R("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n");}var o3R,O3R=n3R("./util"),y3R=O3R.isObject,h3R=n3R("./es5");"function"==typeof Map&&(o3R=Map);var H3R=function(){function m3R(l3R,Q3R){this[f3R]=l3R;this[f3R+B3R]=Q3R;f3R++;}var f3R=0,B3R=0;return function(z3R){B3R=z3R.size;f3R=0;var D3R=Array(2*z3R.size);return z3R.forEach(m3R,D3R),D3R;};}();O3R.inherits(c3R,E3R);c3R.prototype._init=function(){};c3R.prototype._promiseFulfilled=function(d3R,U3R){var G3R=this;this._values[U3R]=d3R;if(++this._totalResolved>=this._length){if(this._isMap){d3R=this._values;U3R=new o3R();for(var X3R=d3R.length/2|0,W3R=0;X3R>W3R;++W3R){U3R.set(d3R[X3R+W3R],d3R[W3R]);}d3R=U3R;}else{for(d3R={},U3R=this.length(),X3R=0,W3R=this.length();W3R>X3R;++X3R){d3R[G3R._values[X3R+U3R]]=G3R._values[X3R];}}return this._resolve(d3R),true;}return false;};c3R.prototype.shouldCopyValues=function(){return false;};c3R.prototype.getActualLength=function(e3R){return e3R>>1;};M3R.prototype.props=function(){return g3R(this);};M3R.props=function(F3R){return g3R(F3R);};};},{"./es5":13,"./util":36}],26:[function(P3R,V3R,v3R){function p3R(L3R){this._capacity=L3R;this._front=this._length=0;}p3R.prototype._willBeOverCapacity=function(R3R){return this._capacity<R3R;};p3R.prototype._pushOne=function(a3R){var i3R=this.length();this._checkCapacity(i3R+1);this[this._front+i3R&this._capacity-1]=a3R;this._length=i3R+1;};p3R.prototype.push=function(Y3R,A3R,r5R){var x3R=this.length()+3;if(this._willBeOverCapacity(x3R)){return this._pushOne(Y3R),this._pushOne(A3R),void this._pushOne(r5R);}var k3R=this._front+x3R-3;this._checkCapacity(x3R);var w3R=this._capacity-1;this[k3R+0&w3R]=Y3R;this[k3R+1&w3R]=A3R;this[k3R+2&w3R]=r5R;this._length=x3R;};p3R.prototype.shift=function(){var s5R=this._front,n5R=this[s5R];return this[s5R]=void 0,this._front=s5R+1&this._capacity-1,this._length--,n5R;};p3R.prototype.length=function(){return this._length;};p3R.prototype._checkCapacity=function(I5R){this._capacity<I5R&&this._resizeTo(this._capacity<<1);};p3R.prototype._resizeTo=function(M5R){var c5R=this;var o5R=this._capacity;this._capacity=M5R;M5R=this._front+this._length&o5R-1;for(var T5R=0;M5R>T5R;++T5R){c5R[T5R+o5R]=c5R[T5R+0],c5R[T5R+0]=void 0;}};V3R.exports=p3R;},{}],27:[function(O5R,g5R,h5R){g5R.exports=function(y5R,E5R,u5R,j5R){function H5R(S5R,b5R){var J5R=u5R(S5R);if(J5R instanceof y5R){return Z5R(J5R);}if(S5R=q5R.asArray(S5R),null===S5R){return j5R("expecting an array or an iterable object but got "+q5R.classString(S5R));}J5R=new y5R(E5R);void 0!==b5R&&J5R._propagateFrom(b5R,3);b5R=J5R._fulfill;for(var C5R=J5R._reject,K5R=0,N5R=S5R.length;N5R>K5R;++K5R){var t5R=S5R[K5R];(void 0!==t5R||K5R in S5R)&&y5R.cast(t5R)._then(b5R,C5R,void 0,J5R,null);}return J5R;}var q5R=O5R("./util"),Z5R=function(f5R){return f5R.then(function(B5R){return H5R(B5R,f5R);});};y5R.race=function(m5R){return H5R(m5R,void 0);};y5R.prototype.race=function(){return H5R(this,void 0);};};},{"./util":36}],28:[function(l5R,Q5R,z5R){Q5R.exports=function(d5R,R5R,L5R,v5R,G5R,V5R){function D5R(a5R,x5R,i5R,k5R){this.constructor$(a5R);a5R=W5R();this._fn=null===a5R?x5R:X5R.domainBind(a5R,x5R);void 0!==i5R&&(i5R=d5R.resolve(i5R),i5R._attachCancellationCallback(this));this._initialValue=i5R;this._currentCancellable=null;k5R===G5R?this._eachValues=Array(this._length):0===k5R?this._eachValues=null:this._eachValues=void 0;this._promise._captureStackTrace();this._init$(void 0,-5);}function p5R(w5R,Y5R){this.isFulfilled()?Y5R._resolve(w5R):Y5R._reject(w5R);}function e5R(r9R,A5R,s9R,n9R){return"function"!=typeof A5R?L5R("expecting a function but got "+X5R.classString(A5R)):new D5R(r9R,A5R,s9R,n9R).promise();}function P5R(I9R){this.accum=I9R;this.array._gotAccum(I9R);I9R=v5R(this.value,this.array._promise);return I9R instanceof d5R?(this.array._currentCancellable=I9R,I9R._then(U5R,void 0,void 0,this,void 0)):U5R.call(this,I9R);}function U5R(T9R){var c9R=this.array,M9R=c9R._promise,o9R=F5R(c9R._fn);M9R._pushContext();T9R=void 0!==c9R._eachValues?o9R.call(M9R._boundValue(),T9R,this.index,this.length):o9R.call(M9R._boundValue(),this.accum,T9R,this.index,this.length);T9R instanceof d5R&&(c9R._currentCancellable=T9R);o9R=M9R._popContext();return V5R.checkForgottenReturns(T9R,o9R,void 0!==c9R._eachValues?"Promise.each":"Promise.reduce",M9R),T9R;}var W5R=d5R._getDomain,X5R=l5R("./util"),F5R=X5R.tryCatch;X5R.inherits(D5R,R5R);D5R.prototype._gotAccum=function(O9R){void 0!==this._eachValues&&null!==this._eachValues&&O9R!==G5R&&this._eachValues.push(O9R);};D5R.prototype._eachComplete=function(g9R){return null!==this._eachValues&&this._eachValues.push(g9R),this._eachValues;};D5R.prototype._init=function(){};D5R.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue);};D5R.prototype.shouldCopyValues=function(){return false;};D5R.prototype._resolve=function(h9R){this._promise._resolveCallback(h9R);this._values=null;};D5R.prototype._resultCancelled=function(y9R){return y9R===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof d5R&&this._currentCancellable.cancel(),this._initialValue instanceof d5R&&this._initialValue.cancel()));};D5R.prototype._iterate=function(Z9R){var u9R=this;this._values=Z9R;var H9R,q9R,E9R=Z9R.length;if(void 0!==this._initialValue?(H9R=this._initialValue,q9R=0):(H9R=d5R.resolve(Z9R[0]),q9R=1),this._currentCancellable=H9R,!H9R.isRejected()){for(;E9R>q9R;++q9R){H9R=H9R._then(P5R,void 0,void 0,{accum:null,value:Z9R[q9R],index:q9R,length:E9R,array:u9R},void 0);}}void 0!==this._eachValues&&(H9R=H9R._then(this._eachComplete,void 0,void 0,this,void 0));H9R._then(p5R,p5R,void 0,H9R,this);};d5R.prototype.reduce=function(j9R,J9R){return e5R(this,j9R,J9R,null);};d5R.reduce=function(S9R,K9R,b9R,t9R){return e5R(S9R,K9R,b9R,t9R);};};},{"./util":36}],29:[function(C9R,Q9R,f9R){C9R=C9R("./util");f9R=function(){throw Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n");};var N9R=C9R.getNativePromise();if(C9R.isNode&&"undefined"==typeof MutationObserver){var B9R=global.setImmediate,m9R=process.nextTick;C9R=C9R.isRecentNode?function(z9R){B9R.call(global,z9R);}:function(D9R){m9R.call(process,D9R);};}else if("function"==typeof N9R&&"function"==typeof N9R.resolve){var l9R=N9R.resolve();C9R=function(d9R){l9R.then(d9R);};}else{C9R="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof setImmediate?function(X9R){setImmediate(X9R);}:"undefined"!=typeof setTimeout?function(W9R){setTimeout(W9R,0);}:f9R:function(){var G9R=document.createElement("div"),e9R={attributes:true},U9R=false,F9R=document.createElement("div");new MutationObserver(function(){G9R.classList.toggle("foo");U9R=false;}).observe(F9R,e9R);return function(V9R){var p9R=new MutationObserver(function(){p9R.disconnect();V9R();});p9R.observe(G9R,e9R);U9R||(U9R=true,F9R.classList.toggle("foo"));};}();}Q9R.exports=C9R;},{"./util":36}],30:[function(P9R,v9R,L9R){v9R.exports=function(i9R,x9R,k9R){function R9R(w9R){this.constructor$(w9R);}var a9R=i9R.PromiseInspection;P9R("./util").inherits(R9R,x9R);R9R.prototype._promiseResolved=function(Y9R,A9R){this._values[Y9R]=A9R;return++this._totalResolved>=this._length?(this._resolve(this._values),true):false;};R9R.prototype._promiseFulfilled=function(s1R,n1R){var r1R=new a9R();return r1R._bitField=33554432,r1R._settledValueField=s1R,this._promiseResolved(n1R,r1R);};R9R.prototype._promiseRejected=function(T1R,c1R){var I1R=new a9R();return I1R._bitField=16777216,I1R._settledValueField=T1R,this._promiseResolved(c1R,I1R);};i9R.settle=function(M1R){return k9R.deprecated(".settle()",".reflect()"),new R9R(M1R).promise();};i9R.prototype.settle=function(){return i9R.settle(this);};};},{"./util":36}],31:[function(o1R,O1R,g1R){O1R.exports=function(y1R,S1R,J1R){function h1R(K1R){this.constructor$(K1R);this._howMany=0;this._initialized=this._unwrap=false;}function Z1R(b1R,t1R){if((0|t1R)!==t1R||0>t1R){return J1R("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");}b1R=new h1R(b1R);var C1R=b1R.promise();return b1R.setHowMany(t1R),b1R.init(),C1R;}var q1R=o1R("./util"),j1R=o1R("./errors").RangeError,u1R=o1R("./errors").AggregateError,E1R=q1R.isArray,H1R={};q1R.inherits(h1R,S1R);h1R.prototype._init=function(){if(this._initialized){if(0===this._howMany){return void this._resolve([]);}this._init$(void 0,-5);var N1R=E1R(this._values);!this._isResolved()&&N1R&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()));}};h1R.prototype.init=function(){this._initialized=true;this._init();};h1R.prototype.setUnwrap=function(){this._unwrap=true;};h1R.prototype.howMany=function(){return this._howMany;};h1R.prototype.setHowMany=function(f1R){this._howMany=f1R;};h1R.prototype._promiseFulfilled=function(B1R){return this._addFulfilled(B1R),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),true):false;};h1R.prototype._promiseRejected=function(m1R){return this._addRejected(m1R),this._checkOutcome();};h1R.prototype._promiseCancelled=function(){return this._values instanceof y1R||null==this._values?this._cancel():(this._addRejected(H1R),this._checkOutcome());};h1R.prototype._checkOutcome=function(){var z1R=this;if(this.howMany()>this._canPossiblyFulfill()){for(var Q1R=new u1R(),l1R=this.length();l1R<this._values.length;++l1R){z1R._values[l1R]!==H1R&&Q1R.push(z1R._values[l1R]);}return 0<Q1R.length?this._reject(Q1R):this._cancel(),true;}return false;};h1R.prototype._fulfilled=function(){return this._totalResolved;};h1R.prototype._rejected=function(){return this._values.length-this.length();};h1R.prototype._addRejected=function(D1R){this._values.push(D1R);};h1R.prototype._addFulfilled=function(d1R){this._values[this._totalResolved++]=d1R;};h1R.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected();};h1R.prototype._getRangeError=function(X1R){return new j1R("Input array must contain at least "+this._howMany+" items but contains only "+X1R+" items");};h1R.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0));};y1R.some=function(W1R,U1R){return Z1R(W1R,U1R);};y1R.prototype.some=function(G1R){return Z1R(this,G1R);};y1R._SomePromiseArray=h1R;};},{"./errors":12,"./util":36}],32:[function(F1R,e1R,p1R){e1R.exports=function(V1R){function P1R(k1R){void 0!==k1R?(k1R=k1R._target(),this._bitField=k1R._bitField,this._settledValueField=k1R._isFateSealed()?k1R._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0);}P1R.prototype._settledValue=function(){return this._settledValueField;};var v1R=P1R.prototype.value=function(){if(!this.isFulfilled()){throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");}return this._settledValue();},L1R=P1R.prototype.error=P1R.prototype.reason=function(){if(!this.isRejected()){throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");}return this._settledValue();},R1R=P1R.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField);},i1R=P1R.prototype.isRejected=function(){return 0!==(16777216&this._bitField);},a1R=P1R.prototype.isPending=function(){return 0===(50397184&this._bitField);},x1R=P1R.prototype.isResolved=function(){return 0!==(50331648&this._bitField);};P1R.prototype.isCancelled=function(){return 0!==(8454144&this._bitField);};V1R.prototype.__isCancelled=function(){return 65536===(65536&this._bitField);};V1R.prototype._isCancelled=function(){return this._target().__isCancelled();};V1R.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField);};V1R.prototype.isPending=function(){return a1R.call(this._target());};V1R.prototype.isRejected=function(){return i1R.call(this._target());};V1R.prototype.isFulfilled=function(){return R1R.call(this._target());};V1R.prototype.isResolved=function(){return x1R.call(this._target());};V1R.prototype.value=function(){return v1R.call(this._target());};V1R.prototype.reason=function(){var w1R=this._target();return w1R._unsetRejectionIsUnhandled(),L1R.call(w1R);};V1R.prototype._value=function(){return this._settledValue();};V1R.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue();};V1R.PromiseInspection=P1R;};},{}],33:[function(Y1R,A1R,r4R){A1R.exports=function(n4R,T4R){function o4R(g4R,q4R,h4R){var O4R=new n4R(T4R),H4R=O4R;h4R&&h4R._pushContext();O4R._captureStackTrace();h4R&&h4R._popContext();var y4R=true;g4R=I4R.tryCatch(q4R).call(g4R,function(Z4R){O4R&&(O4R._resolveCallback(Z4R),O4R=null);},function(E4R){O4R&&(O4R._rejectCallback(E4R,y4R,true),O4R=null);});return y4R=false,O4R&&g4R===s4R&&(O4R._rejectCallback(g4R.e,true,true),O4R=null),H4R;}var I4R=Y1R("./util"),s4R=I4R.errorObj,c4R=I4R.isObject,M4R={}.hasOwnProperty;return function(j4R,J4R){if(c4R(j4R)){if(j4R instanceof n4R){return j4R;}var u4R;try{u4R=j4R.then;}catch(K4R){u4R=(s4R.e=K4R,s4R);}if(u4R===s4R){return J4R&&J4R._pushContext(),u4R=n4R.reject(u4R.e),J4R&&J4R._popContext(),u4R;}if("function"==typeof u4R){var S4R;try{S4R=M4R.call(j4R,"_promise0");}catch(b4R){S4R=false;}return S4R?(u4R=new n4R(T4R),j4R._then(u4R._fulfill,u4R._reject,void 0,u4R,null),u4R):o4R(j4R,u4R,J4R);}}return j4R;};};},{"./util":36}],34:[function(t4R,C4R,N4R){C4R.exports=function(f4R,W4R,m4R){function l4R(U4R){this.handle=U4R;}function z4R(G4R){return clearTimeout(this.handle),G4R;}function D4R(e4R){throw clearTimeout(this.handle),e4R;}var d4R=t4R("./util"),Q4R=f4R.TimeoutError;l4R.prototype._resultCancelled=function(){clearTimeout(this.handle);};var X4R=function(F4R){return B4R(+this).thenReturn(F4R);},B4R=f4R.delay=function(P4R,V4R){var p4R,v4R;return void 0!==V4R?(p4R=f4R.resolve(V4R)._then(X4R,null,null,P4R,void 0),m4R.cancellation()&&V4R instanceof f4R&&p4R._setOnCancel(V4R)):(p4R=new f4R(W4R),v4R=setTimeout(function(){p4R._fulfill();},+P4R),m4R.cancellation()&&p4R._setOnCancel(new l4R(v4R)),p4R._captureStackTrace()),p4R._setAsyncGuaranteed(),p4R;};f4R.prototype.delay=function(L4R){return B4R(L4R,this);};f4R.prototype.timeout=function(i4R,a4R){var R4R,x4R;i4R=new l4R(setTimeout(function(){if(R4R.isPending()){var w4R=R4R,Y4R=x4R,k4R;k4R="string"!=typeof a4R?a4R instanceof Error?a4R:new Q4R("operation timed out"):new Q4R(a4R);d4R.markAsOriginatingFromRejection(k4R);w4R._attachExtraTrace(k4R);w4R._reject(k4R);null!=Y4R&&Y4R.cancel();}},+i4R));return m4R.cancellation()?(x4R=this.then(),R4R=x4R._then(z4R,D4R,void 0,i4R,void 0),R4R._setOnCancel(i4R)):R4R=this._then(z4R,D4R,void 0,i4R,void 0),R4R;};};},{"./util":36}],35:[function(A4R,r7R,s7R){r7R.exports=function(n7R,q7R,c7R,S7R,j7R,u7R){function g7R(K7R){setTimeout(function(){throw K7R;},0);}function E7R(b7R,B7R){function t7R(){if(C7R>=f7R){return N7R._fulfill();}var m7R;m7R=b7R[C7R++];var l7R=c7R(m7R);m7R=(l7R!==m7R&&"function"==typeof m7R._isDisposable&&"function"==typeof m7R._getDisposer&&m7R._isDisposable()&&l7R._setDisposable(m7R._getDisposer()),l7R);if(m7R instanceof n7R&&m7R._isDisposable()){try{m7R=c7R(m7R._getDisposer().tryDispose(B7R),b7R.promise);}catch(Q7R){return g7R(Q7R);}if(m7R instanceof n7R){return m7R._then(t7R,g7R,null,null,null);}}t7R();}var C7R=0,f7R=b7R.length,N7R=new n7R(j7R);return t7R(),N7R;}function I7R(z7R,D7R,d7R){this._data=z7R;this._promise=D7R;this._context=d7R;}function o7R(X7R,W7R,U7R){this.constructor$(X7R,W7R,U7R);}function J7R(G7R){return I7R.isDisposer(G7R)?(this.resources[this.index]._setDisposable(G7R),G7R.promise()):G7R;}function h7R(e7R){this.length=e7R;this.promise=null;this[e7R-1]=null;}var T7R=A4R("./util"),y7R=A4R("./errors").TypeError,H7R=A4R("./util").inherits,O7R=T7R.errorObj,Z7R=T7R.tryCatch,M7R={};I7R.prototype.data=function(){return this._data;};I7R.prototype.promise=function(){return this._promise;};I7R.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():M7R;};I7R.prototype.tryDispose=function(p7R){var V7R=this.resource(),F7R=this._context;void 0!==F7R&&F7R._pushContext();p7R=V7R!==M7R?this.doDispose(V7R,p7R):null;return void 0!==F7R&&F7R._popContext(),this._promise._unsetDisposable(),this._data=null,p7R;};I7R.isDisposer=function(P7R){return null!=P7R&&"function"==typeof P7R.resource&&"function"==typeof P7R.tryDispose;};H7R(o7R,I7R);o7R.prototype.doDispose=function(v7R,L7R){return this.data().call(v7R,v7R,L7R);};h7R.prototype._resultCancelled=function(){var a7R=this;for(var x7R=this.length,R7R=0;x7R>R7R;++R7R){var i7R=a7R[R7R];i7R instanceof n7R&&i7R.cancel();}};n7R.using=function(){var k7R=arguments.length;if(2>k7R){return q7R("you must pass at least 2 arguments to Promise.using");}var r6R=arguments[k7R-1];if("function"!=typeof r6R){return q7R("expecting a function but got "+T7R.classString(r6R));}var I6R,c6R=true;2===k7R&&Array.isArray(arguments[0])?(I6R=arguments[0],k7R=I6R.length,c6R=false):(I6R=arguments,k7R--);for(var A7R=new h7R(k7R),w7R=0;k7R>w7R;++w7R){var Y7R=I6R[w7R];if(I7R.isDisposer(Y7R)){var n6R=Y7R,Y7R=Y7R.promise();Y7R._setDisposable(n6R);}else{n6R=c7R(Y7R),n6R instanceof n7R&&(Y7R=n6R._then(J7R,null,null,{resources:A7R,index:w7R},void 0));}A7R[w7R]=Y7R;}k7R=Array(A7R.length);for(w7R=0;w7R<k7R.length;++w7R){k7R[w7R]=n7R.resolve(A7R[w7R]).reflect();}var T6R=n7R.all(k7R).then(function(M6R){for(var o6R=0;o6R<M6R.length;++o6R){var O6R=M6R[o6R];if(O6R.isRejected()){return O7R.e=O6R.error(),O7R;}if(!O6R.isFulfilled()){return void T6R.cancel();}M6R[o6R]=O6R.value();}s6R._pushContext();r6R=Z7R(r6R);M6R=c6R?r6R.apply(void 0,M6R):r6R(M6R);o6R=s6R._popContext();return u7R.checkForgottenReturns(M6R,o6R,"Promise.using",s6R),M6R;}),s6R=T6R.lastly(function(){var g6R=new n7R.PromiseInspection(T6R);return E7R(A7R,g6R);});return A7R.promise=s6R,s6R._setOnCancel(A7R),s6R;};n7R.prototype._setDisposable=function(h6R){this._bitField|=131072;this._disposer=h6R;};n7R.prototype._isDisposable=function(){return 0<(131072&this._bitField);};n7R.prototype._getDisposer=function(){return this._disposer;};n7R.prototype._unsetDisposable=function(){this._bitField&=-131073;this._disposer=void 0;};n7R.prototype.disposer=function(y6R){if("function"==typeof y6R){return new o7R(y6R,this,S7R());}throw new y7R();};};},{"./errors":12,"./util":36}],36:[function(q6R,z6R,N6R){function D6R(){try{var d6R=J6R;return J6R=null,d6R.apply(this,arguments);}catch(X6R){return E6R.e=X6R,E6R;}}function j6R(W6R){return null==W6R||true===W6R||false===W6R||"string"==typeof W6R||"number"==typeof W6R;}function t6R(U6R,G6R,e6R){return j6R(U6R)?U6R:(H6R.defineProperty(U6R,G6R,{value:e6R,configurable:true,enumerable:false,writable:true}),U6R);}function b6R(F6R){return null!==F6R&&"object"==typeof F6R&&"string"==typeof F6R.message&&"string"==typeof F6R.name;}function S6R(p6R){return b6R(p6R)&&H6R.propertyIsWritable(p6R,"stack");}function B6R(V6R){return{}.toString.call(V6R);}var H6R=q6R("./es5");q6R="undefined"==typeof navigator;var E6R={e:{}},J6R;N6R="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null;var f6R=function(){var P6R=[Array.prototype,Object.prototype,Function.prototype],v6R=function(a6R){for(var i6R=0;i6R<P6R.length;++i6R){if(P6R[i6R]===a6R){return true;}}return false;};if(H6R.isES5){var R6R=Object.getOwnPropertyNames;return function(x6R){for(var A6R=[],r8h=Object.create(null);null!=x6R&&!v6R(x6R);){var s8h;try{s8h=R6R(x6R);}catch(n8h){break;}for(var w6R=0;w6R<s8h.length;++w6R){var k6R=s8h[w6R];if(!r8h[k6R]){r8h[k6R]=true;var Y6R=Object.getOwnPropertyDescriptor(x6R,k6R);null!=Y6R&&null==Y6R.get&&null==Y6R.set&&A6R.push(k6R);}}x6R=H6R.getPrototypeOf(x6R);}return A6R;};}var L6R={}.hasOwnProperty;return function(c8h){if(v6R(c8h)){return[];}var M8h=[],I8h;a:for(I8h in c8h){if(!L6R.call(c8h,I8h)){for(var T8h=0;T8h<P6R.length;++T8h){if(L6R.call(P6R[T8h],I8h)){continue a;}}}M8h.push(I8h);}return M8h;};}(),K6R=/this\s*\.\s*\S+\s*=/,m6R=/^[a-z$_][a-z$_0-9]*$/i,l6R=function(){return"stack"in Error()?function(o8h){return S6R(o8h)?o8h:Error(o8h+"");}:function(O8h){if(S6R(O8h)){return O8h;}try{throw Error(O8h+"");}catch(g8h){return g8h;}};}(),Z6R=function(h8h){return H6R.isArray(h8h)?h8h:null;};j.initSymbol();j.initSymbol();j.initSymbolIterator();if("undefined"!=typeof Symbol&&Symbol.iterator){var Q6R="function"==typeof Array.from?function(y8h){return Array.from(y8h);}:function(H8h){j.initSymbol();j.initSymbolIterator();for(var q8h=[],Z8h=H8h[Symbol.iterator]();!(H8h=Z8h.next()).done;){q8h.push(H8h.value);}return q8h;},Z6R=function(E8h){j.initSymbol();j.initSymbolIterator();return H6R.isArray(E8h)?E8h:null!=E8h&&"function"==typeof E8h[Symbol.iterator]?Q6R(E8h):null;};}var C6R="undefined"!=typeof process&&"[object process]"===B6R(process).toLowerCase(),u6R="undefined"!=typeof process&&"undefined"!=typeof process.env;q6R={isClass:function(j8h){try{if("function"==typeof j8h){var u8h=H6R.names(j8h.prototype),J8h=H6R.isES5&&1<u8h.length,S8h=0<u8h.length&&!(1===u8h.length&&"constructor"===u8h[0]),K8h=K6R.test(j8h+"")&&0<H6R.names(j8h).length;if(J8h||S8h||K8h){return true;}}return false;}catch(b8h){return false;}},isIdentifier:function(t8h){return m6R.test(t8h);},inheritedDataKeys:f6R,getDataPropertyOrDefault:function(C8h,N8h,f8h){if(!H6R.isES5){return{}.hasOwnProperty.call(C8h,N8h)?C8h[N8h]:void 0;}C8h=Object.getOwnPropertyDescriptor(C8h,N8h);return null!=C8h?null==C8h.get&&null==C8h.set?C8h.value:f8h:void 0;},thrower:function(B8h){throw B8h;},isArray:H6R.isArray,asArray:Z6R,notEnumerableProp:t6R,isPrimitive:j6R,isObject:function(m8h){return"function"==typeof m8h||"object"==typeof m8h&&null!==m8h;},isError:b6R,canEvaluate:q6R,errorObj:E6R,tryCatch:function(l8h){return J6R=l8h,D6R;},inherits:function(z8h,Q8h){function D8h(){var W8h=this;this.constructor=z8h;this.constructor$=Q8h;for(var X8h in Q8h.prototype){d8h.call(Q8h.prototype,X8h)&&"$"!==X8h.charAt(X8h.length-1)&&(W8h[X8h+"$"]=Q8h.prototype[X8h]);}}var d8h={}.hasOwnProperty;return D8h.prototype=Q8h.prototype,z8h.prototype=new D8h(),z8h.prototype;},withAppended:function(F8h,p8h){var U8h,e8h=F8h.length,G8h=Array(e8h+1);for(U8h=0;e8h>U8h;++U8h){G8h[U8h]=F8h[U8h];}return G8h[U8h]=p8h,G8h;},maybeWrapAsError:function(V8h){return j6R(V8h)?Error(V8h+""):V8h;},toFastProperties:function(P8h){function v8h(){}v8h.prototype=P8h;for(var L8h=8;L8h--;){new v8h();}return P8h;},filledRange:function(a8h,x8h,k8h){for(var i8h=Array(a8h),R8h=0;a8h>R8h;++R8h){i8h[R8h]=x8h+R8h+k8h;}return i8h;},toString:function(w8h){return w8h+"";},canAttachTrace:S6R,ensureErrorObject:l6R,originatesFromRejection:function(Y8h){return null==Y8h?false:Y8h instanceof Error.__BluebirdErrorTypes__.OperationalError||true===Y8h.isOperational;},markAsOriginatingFromRejection:function(A8h){try{t6R(A8h,"isOperational",true);}catch(r2h){}},classString:B6R,copyDescriptors:function(T2h,c2h,M2h){for(var I2h=H6R.names(T2h),s2h=0;s2h<I2h.length;++s2h){var n2h=I2h[s2h];if(M2h(n2h)){try{H6R.defineProperty(c2h,n2h,H6R.getDescriptor(T2h,n2h));}catch(o2h){}}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:C6R,hasEnvVariables:u6R,env:function(O2h){return u6R?process.env[O2h]:void 0;},global:N6R,getNativePromise:function(){if("function"==typeof Promise){try{var g2h=new Promise(function(){});if("[object Promise]"==={}.toString.call(g2h)){return Promise;}}catch(h2h){}}},domainBind:function(y2h,H2h){return y2h.bind(H2h);}};q6R.isRecentNode=q6R.isNode&&function(){var q2h=process.versions.node.split(".").map(Number);return 0===q2h[0]&&10<q2h[1]||0<q2h[0];}();q6R.isNode&&q6R.toFastProperties(process);try{throw Error();}catch(Z2h){q6R.lastLineError=Z2h;}z6R.exports=q6R;},{"./es5":13}]},{},[4])(4);});"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise);Promise.config({cancellation:true,longStackTraces:true,monitoring:true});void function(){self.CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.setLineDash||void function(){CanvasRenderingContext2D.prototype.setLineDash=function(){};}());navigator.temporaryStorage=navigator.temporaryStorage||navigator.webkitTemporaryStorage;navigator.persistentStorage=navigator.persistentStorage||navigator.webkitPersistentStorage;self.requestFileSystem=self.requestFileSystem||self.webkitRequestFileSystem;self.resolveLocalFileSystemURL=self.resolveLocalFileSystemURL||self.webkitResolveLocalFileSystemURL;navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;self.URL=self.URL||self.webkitURL||self.mozURL||self.msURL||self.oURL;self.Blob=self.Blob||self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder;}();window._shimContext2D=function(E2h){function u2h(l2h){Object.defineProperty(l2h,"_transformMatrix",{value:{a:1,b:0,c:0,d:1,e:0,f:0},configurable:true,writable:true});return l2h._transformMatrix;}function t2h(Q2h){Object.defineProperty(Q2h,"_transformStack",{value:[],configurable:true,writable:true});return Q2h._transformStack;}function j2h(D2h,d2h,z2h){Object.defineProperty(D2h,d2h,{get:z2h.get||function(){},set:z2h.set||function(){},enumerable:true,configurable:true});}function m2h(){j2h(E2h,"mozCurrentTransform",{get:function(){var X2h=this._transformMatrix||u2h(this);return[X2h.a,X2h.b,X2h.c,X2h.d,X2h.e,X2h.f];}});j2h(E2h,"mozCurrentTransformInverse",{get:function(){var W2h=this.a,U2h=this.b,G2h=this.c,e2h=this.d,V2h=this.e,P2h=this.f,F2h=W2h*e2h-U2h*G2h,p2h=U2h*G2h-W2h*e2h;return[e2h/F2h,U2h/p2h,G2h/p2h,W2h/F2h,(e2h*V2h-G2h*P2h)/p2h,(U2h*V2h-W2h*P2h)/F2h];}});}"resetTransform"in E2h||(E2h.resetTransform=function(){this.setTransform(1,0,0,1,0,0);});if(!("getTransform"in E2h)){if(E2h.getTransform=function(){return this.currentTransform;},"mozCurrentTransform"in E2h){Object.defineProperty(E2h,"currentTransform",{get:function(){var v2h=this.mozCurrentTransform;return{a:v2h[0],b:v2h[1],c:v2h[2],d:v2h[3],e:v2h[4],f:v2h[5]};},enumerable:true,configurable:true});}else{m2h();j2h(E2h,"currentTransform",{get:function(){return this._transformMatrix||u2h(this);}});var b2h=E2h.translate;E2h.translate=function(R2h,i2h){var L2h=this._transformMatrix||u2h(this);L2h.e=L2h.a*R2h+L2h.c*i2h+L2h.e;L2h.f=L2h.b*R2h+L2h.d*i2h+L2h.f;b2h.call(this,R2h,i2h);};var J2h=E2h.scale;E2h.scale=function(x2h,k2h){var a2h=this._transformMatrix||u2h(this);a2h.a*=x2h;a2h.b*=x2h;a2h.c*=k2h;a2h.d*=k2h;J2h.call(this,x2h,k2h);};var C2h=E2h.rotate;E2h.rotate=function(r0h){var Y2h=Math.cos(r0h),A2h=Math.sin(r0h),w2h=this._transformMatrix||u2h(this);this._transformMatrix={a:w2h.a*Y2h+w2h.c*A2h,b:w2h.b*Y2h+w2h.d*A2h,c:w2h.a*-A2h+w2h.c*Y2h,d:w2h.b*-A2h+w2h.d*Y2h,e:w2h.e,f:w2h.f};C2h.call(this,r0h);};var N2h=E2h.transform;E2h.transform=function(n0h,I0h,T0h,c0h,M0h,o0h){var s0h=this._transformMatrix||u2h(this);this._transformMatrix={a:s0h.a*n0h+s0h.c*I0h,b:s0h.b*n0h+s0h.d*I0h,c:s0h.a*T0h+s0h.c*c0h,d:s0h.b*T0h+s0h.d*c0h,e:s0h.a*M0h+s0h.c*o0h+s0h.e,f:s0h.b*M0h+s0h.d*o0h+s0h.f};N2h.call(this,n0h,I0h,T0h,c0h,M0h,o0h);};var f2h=E2h.setTransform;E2h.setTransform=function(O0h,g0h,h0h,y0h,H0h,q0h){this._transformMatrix={a:O0h,b:g0h,c:h0h,d:y0h,e:H0h,f:q0h};f2h.call(this,O0h,g0h,h0h,y0h,H0h,q0h);};var B2h=E2h.resetTransform;E2h.resetTransform=function(){this._transformMatrix={a:1,b:0,c:0,d:1,e:0,f:0};B2h.call(this);};var K2h=E2h.save;E2h.save=function(){var Z0h=this._transformMatrix||u2h(this);(this._transformStack||t2h(this)).push(Z0h);this._transformMatrix={a:Z0h.a,b:Z0h.b,c:Z0h.c,d:Z0h.d,e:Z0h.e,f:Z0h.f};K2h.call(this);};var S2h=E2h.restore;E2h.restore=function(){var E0h=(this._transformStack||t2h(this)).pop();E0h&&(this._transformMatrix=E0h);S2h.call(this);};}}"currentTransform"in E2h||j2h(E2h,"currentTransform",{get:function(){return this.getTransform();}});};window._shimContext2D(CanvasRenderingContext2D.prototype);(function(j0h){var J0h=j0h.Uint8Array,u0h=(j0h=j0h.HTMLCanvasElement)&&j0h.prototype,K0h=/\s*;\s*base64\s*(?:;|$)/i,S0h="toDataURL",b0h;J0h&&(b0h=new J0h([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]));!j0h||u0h.toBlob&&u0h.toBlobHD||(u0h.toBlob||(u0h.toBlob=function(X0h,B0h){B0h||(B0h="image/png");if(this.mozGetAsFile){X0h(this.mozGetAsFile("canvas",B0h));}else if(this.msToBlob&&/^\s*image\/png\s*(?:$|;)/i.test(B0h)){X0h(this.msToBlob());}else{var C0h=Array.prototype.slice.call(arguments,1),t0h=this[S0h].apply(this,C0h),N0h=t0h.indexOf(","),C0h=t0h.substring(N0h+1),t0h=K0h.test(t0h.substring(0,N0h)),f0h;if(Blob.fake){f0h=new Blob(),f0h.encoding=t0h?"base64":"URI",f0h.data=C0h,f0h.size=C0h.length;}else if(J0h){if(t0h){f0h=Blob;for(var t0h=C0h.length,N0h=new J0h(t0h/4*3|0),W0h=0,z0h=0,m0h=[0,0],D0h=0,l0h=0,Q0h,d0h;t0h--;){d0h=C0h.charCodeAt(W0h++),Q0h=b0h[d0h-43],255!==Q0h&&void 0!==Q0h&&(m0h[1]=m0h[0],m0h[0]=d0h,l0h=l0h<<6|Q0h,D0h++,4===D0h&&(N0h[z0h++]=l0h>>>16,61!==m0h[1]&&(N0h[z0h++]=l0h>>>8),61!==m0h[0]&&(N0h[z0h++]=l0h),D0h=0));}f0h=new f0h([N0h],{type:B0h});}else{f0h=new Blob([decodeURIComponent(C0h)],{type:B0h});}}X0h(f0h);}}),u0h.toBlobHD=!u0h.toBlobHD&&u0h.toDataURLHD?function(){S0h="toDataURLHD";var U0h=this.toBlob();S0h="toDataURL";return U0h;}:u0h.toBlob);j0h&&(u0h._toBlob=u0h.toBlob,u0h.toBlob=function(G0h,e0h,F0h){"function"!==typeof G0h&&(F0h=e0h=G0h,G0h=null);var p0h=this;return new Promise(function(V0h){p0h._toBlob(function(P0h){G0h&&G0h(P0h);V0h(P0h);},e0h,F0h);});},u0h.toBlobURL=function(v0h,L0h,R0h){"function"!==typeof v0h&&(R0h=L0h=v0h,v0h=null);var i0h=this;return new Promise(function(a0h){i0h._toBlob(function(x0h){x0h=URL.createObjectURL(x0h);v0h&&v0h(x0h);a0h(x0h);},L0h,R0h);});},u0h.toArrayBuffer=function(k0h,w0h,Y0h){"function"!==typeof k0h&&(Y0h=w0h=k0h,k0h=null);var A0h=this;return new Promise(function(r3h){A0h._toBlob(function(n3h){var s3h=new FileReader();s3h.onload=function(){var I3h=this.result;k0h&&k0h(I3h);r3h(I3h);};s3h.readAsArrayBuffer(n3h);},w0h,Y0h);});});}("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||this.content||this));if(!window.chrome||!window.chrome.fileSystem){var r8=r8||function(T3h){if(!("undefined"===typeof T3h||"undefined"!==typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var M3h=T3h.document.createElementNS("http://www.w3.org/1999/xhtml","a"),q3h="download"in M3h,H3h=/constructor/i.test(T3h.HTMLElement)||T3h.safari,g3h=/CriOS\/[\d]+/.test(navigator.userAgent),y3h=function(Z3h){(T3h.setImmediate||T3h.setTimeout)(function(){throw Z3h;},0);},h3h=function(E3h){setTimeout(function(){"string"===typeof E3h?(T3h.URL||T3h.webkitURL||T3h).revokeObjectURL(E3h):E3h.remove();},4E4);},O3h=function(u3h){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u3h.type)?new Blob([String.fromCharCode(65279),u3h],{type:u3h.type}):u3h;},o3h=function(S3h,t3h,C3h){C3h||(S3h=O3h(S3h));var j3h=this,b3h="application/octet-stream"===S3h.type,J3h,K3h=function(){for(var N3h=["writestart","progress","write","writeend"],N3h=[].concat(N3h),f3h=N3h.length;f3h--;){var B3h=j3h["on"+N3h[f3h]];if("function"===typeof B3h){try{B3h.call(j3h,j3h);}catch(m3h){y3h(m3h);}}}};j3h.readyState=j3h.INIT;q3h?(J3h=(T3h.URL||T3h.webkitURL||T3h).createObjectURL(S3h),setTimeout(function(){M3h.href=J3h;M3h.download=t3h;var l3h=new MouseEvent("click");M3h.dispatchEvent(l3h);K3h();h3h(J3h);j3h.readyState=j3h.DONE;})):function(){if((g3h||b3h&&H3h)&&T3h.FileReader){var Q3h=new FileReader();Q3h.onloadend=function(){var z3h=g3h?Q3h.result:Q3h.result.replace(/^data:[^;]*;/,"data:attachment/file;");T3h.open(z3h,"_blank")||(T3h.location.href=z3h);j3h.readyState=j3h.DONE;K3h();};Q3h.readAsDataURL(S3h);j3h.readyState=j3h.INIT;}else{J3h||(J3h=(T3h.URL||T3h.webkitURL||T3h).createObjectURL(S3h)),b3h?T3h.location.href=J3h:T3h.open(J3h,"_blank")||(T3h.location.href=J3h),j3h.readyState=j3h.DONE,K3h(),h3h(J3h);}}();},c3h=o3h.prototype;if("undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob){return function(D3h,d3h,X3h){d3h=d3h||D3h.name||"download";X3h||(D3h=O3h(D3h));return navigator.msSaveOrOpenBlob(D3h,d3h);};}c3h.abort=function(){};c3h.readyState=c3h.INIT=0;c3h.WRITING=1;c3h.DONE=2;c3h.error=c3h.onwritestart=c3h.onprogress=c3h.onwrite=c3h.onabort=c3h.onerror=c3h.onwriteend=null;return function(W3h,U3h,G3h){return new o3h(W3h,U3h||W3h.name||"download",G3h);};}}("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||this.content);"undefined"!==typeof module&&module.exports?module.exports.saveAs=r8:"undefined"!==typeof define&&null!==define&&null!==define.amd?define("FileSaver.js",function(){return r8;}):window.saveAs=r8;}void function(){function c5h(h5h,O5h,y5h){var g5h=O5h.length;if(Number.isFinite(g5h)){for(var o5h=0,H5h;o5h<g5h;o5h++){if(H5h=x3h(h5h,O5h[o5h],y5h)){return H5h;}}}else{return x3h(h5h,O5h,y5h);}}function x3h(Z5h,u5h,J5h){function S5h(N5h,B5h){var t5h=u5h[N5h];if("string"===typeof t5h){var C5h=t5h,f5h={};-1<C5h.indexOf(":optional")&&(C5h=C5h.replace(":optional",""),f5h.optional=true);f5h.type=C5h;t5h=f5h;}if("undefined"===typeof t5h?false:"object"===V3h(t5h)){var m5h=t5h.type,C5h=t5h.validate,f5h=t5h.defaultValue,l5h=t5h.optional,t5h=t5h.error;"string"===typeof m5h&&(m5h=-1<m5h.indexOf("|")?m5h.split("|"):m5h);if(Galactic.is(B5h,m5h)){if(C5h){if("function"===typeof C5h){if(C5h(B5h)){return E5h[N5h]=B5h,true;}}else{if("function"===typeof C5h.test&&C5h.test(B5h)){return E5h[N5h]=B5h,true;}}}else{return E5h[N5h]=B5h,true;}}if(void 0!==f5h){return E5h[N5h]=f5h,true;}if(l5h){return true;}N5h={message:"Invalid argument for "+N5h+": ",argument:B5h};J5h&&J5h(N5h);if(t5h){if("function"===typeof t5h){t5h(N5h);}else if("log"===t5h){console.error(N5h);}else{throw N5h;}}return false;}}var E5h={},q5h=Z5h[0];if("undefined"===typeof q5h?false:"object"===V3h(q5h)){if(Galactic.is(q5h,"arrayLike")){for(var K5h in u5h){S5h(K5h,q5h[0])&&(Z5h=q5h);break;}}else{for(var b5h in u5h){if(q5h[b5h]){Z5h=q5h;break;}}}}q5h=0;Z5h=function(Q5h){if(Galactic.is(Q5h,"arrayLike")){return function(D5h){return Q5h[D5h];};}var z5h=Object.keys(Q5h);return function(d5h){return Q5h[z5h[d5h]];};}(Z5h);for(var j5h in u5h){if(u5h.hasOwnProperty(j5h)){if(!S5h(j5h,Z5h(q5h))){return;}q5h++;}}return E5h;}function i3h(){function G5h(p5h,F5h){if("function"!==typeof F5h){console.error(p5h+" listener is undefined");}else{return F5h=F5h._emitterId||(F5h._emitterId=I5h++),p5h+"."+F5h;}}function e5h(v5h){function P5h(){var L5h=false,R5h;for(R5h in V5h){V5h[R5h].apply(X5h,arguments)&&(L5h=true);}return L5h;}var V5h={};P5h.attach=function(a5h){var i5h=G5h(v5h,a5h);!V5h[i5h]&&a5h&&(V5h[i5h]=a5h);return{attach:function(){V5h[i5h]=a5h;},detach:function(){delete V5h[i5h];}};};P5h.detach=function(k5h){var x5h=G5h(v5h,k5h);V5h[x5h]&&k5h&&delete V5h[x5h];};P5h.stack=V5h;return P5h;}var X5h=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(X5h.on||X5h.off||X5h.emit){return X5h;}var U5h={},W5h={};X5h.on=function(w5h,Y5h){U5h[w5h]&&Y5h.apply(void 0,n5h(U5h[w5h]));w5h=(W5h[w5h]?W5h[w5h]:W5h[w5h]=e5h(w5h)).attach(Y5h);Y5h=this.then?this.on&&this.off&&this.emit?this:EventEmitter(this):{};Y5h.add=w5h.attach;Y5h.remove=w5h.detach;Y5h.attach=w5h.attach;Y5h.detach=w5h.detach;Y5h.on=this.on;Y5h.off=this.off;Y5h.emit=this.emit;return Y5h;};X5h.on.once=function(r9h,s9h){var A5h=void 0;return A5h=X5h.on(r9h,function(){s9h.apply(void 0,arguments);A5h.detach();});};X5h.on.handlers=W5h;X5h.off=function(n9h,I9h){I9h?(W5h[n9h]?W5h[n9h]:W5h[n9h]=e5h(n9h)).detach(I9h):delete W5h[n9h];};X5h.emit=function(M9h){var T9h=W5h[M9h];if(T9h){var c9h=Array.prototype.slice.call(arguments).slice(1);return T9h.apply(X5h,c9h);}};X5h.emit.andNotifyNewHandlers=function(o9h){U5h[o9h]=arguments;X5h.emit.apply(X5h,arguments);};X5h.emit.promiseRequest=function(O9h){return new Promise(function(g9h,h9h){return X5h.emit(O9h,g9h,h9h);});};return X5h;}function Y3h(y9h){var H9h=sketch.string;if(y9h instanceof Y3h){return y9h;}if("string"===typeof y9h&&y9h.length){y9h="/"+H9h.trimLeft(y9h,"/");var q9h=y9h.endsWith("/");this.isFile=!q9h;this.isFolder=q9h;this.full=y9h;this.dir=H9h.dirpath(y9h)+"/";this.file=H9h.filename(y9h);}else{throw"Path is invalid: "+y9h;}}function e3h(u9h,Z9h){if(Z9h){"string"!==typeof Z9h&&(Z9h=F3h(Z9h));if(-1!==Z9h.indexOf("|")){var j9h=false;Z9h=Z9h.split("|");for(var E9h=0,J9h=Z9h.length;E9h<J9h;E9h++){if(A3h(u9h,Z9h[E9h])){j9h=true;break;}}return j9h;}return A3h(u9h,Z9h);}return F3h(u9h);}function A3h(K9h,S9h){return e3h[S9h]?e3h[S9h](K9h):a3h(K9h,S9h);}function F3h(b9h){b9h=Object.prototype.toString.call(b9h);return b9h.slice(b9h.indexOf(" ")+1,-1);}function a3h(t9h,C9h){var N9h=e3h[C9h];if(N9h){return N9h(t9h);}t9h=F3h(t9h);return t9h===C9h||t9h.toLowerCase()===C9h;}function R3h(f9h,B9h){return null!=v3h(f9h,B9h);}function v3h(m9h,l9h,D9h){"string"===typeof m9h&&(D9h=l9h,l9h=m9h,m9h=global);try{m9h||(m9h=global);var d9h=l9h.split("."),X9h=d9h.length;for(l9h=0;l9h<X9h;l9h++){var z9h=d9h[l9h],Q9h=m9h[z9h];D9h&&(l9h+1===X9h?m9h[z9h]=Q9h=D9h:void 0===Q9h&&(m9h[z9h]=Q9h={}));m9h=Q9h;}return m9h;}catch(W9h){}}function M5h(U9h){return U9h.reduce(function(G9h,e9h){return G9h+e9h;},0);}function k3h(){}function w3h(){}j.initSymbol();j.initSymbol();j.initSymbolIterator();var V3h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(F9h){return typeof F9h;}:function(p9h){j.initSymbol();j.initSymbol();j.initSymbol();return p9h&&"function"===typeof Symbol&&p9h.constructor===Symbol&&p9h!==Symbol.prototype?"symbol":typeof p9h;},P3h=function(V9h,P9h){if(!(V9h instanceof P9h)){throw new TypeError("Cannot call a class as a function");}},r5h=function(){function v9h(a9h,i9h){for(var R9h=0;R9h<i9h.length;R9h++){var L9h=i9h[R9h];L9h.enumerable=L9h.enumerable||false;L9h.configurable=true;"value"in L9h&&(L9h.writable=true);Object.defineProperty(a9h,L9h.key,L9h);}}return function(x9h,k9h,w9h){k9h&&v9h(x9h.prototype,k9h);w9h&&v9h(x9h,w9h);return x9h;};}(),s5h=function(A9h,Y9h){if("function"!==typeof Y9h&&null!==Y9h){throw new TypeError("Super expression must either be null or a function, not "+typeof Y9h);}A9h.prototype=Object.create(Y9h&&Y9h.prototype,{constructor:{value:A9h,enumerable:false,writable:true,configurable:true}});Y9h&&(Object.setPrototypeOf?Object.setPrototypeOf(A9h,Y9h):A9h.__proto__=Y9h);},n5h=function(r1h){if(Array.isArray(r1h)){for(var s1h=0,n1h=Array(r1h.length);s1h<r1h.length;s1h++){n1h[s1h]=r1h[s1h];}return n1h;}return Array.from(r1h);},I5h=1,T5h=Object.freeze({Path:Y3h});e3h.boolean=function(I1h){return"boolean"===typeof I1h;};e3h.number=function(T1h){return"number"===typeof T1h;};e3h.numberLike=function(c1h){return isFinite(c1h);};e3h.string=function(M1h){return"string"===typeof M1h;};e3h.int=e3h.integer=function(o1h){return 0===o1h%1;};e3h.float=e3h.finite=function(O1h){return Number.isFinite(O1h);};e3h.date=function(g1h){return g1h&&"Date"===F3h(g1h);};e3h.function=function(h1h){return h1h&&"function"===typeof h1h;};e3h.array=function(y1h){return y1h&&isFinite(y1h.length)&&Array.isArray(y1h);};e3h.object=function(H1h){return"undefined"===typeof H1h?false:"object"===V3h(H1h);};e3h.element=function(q1h){return q1h&&1===q1h.nodeType&&-1<F3h(q1h).indexOf("Element");};e3h.register=function(E1h,Z1h){if(null==Z1h){throw Error("is.register(): `validator` must be defined.");}return"function"===typeof Z1h?e3h[E1h]=Z1h:"string"===typeof Z1h?e3h[E1h]=function(u1h){return a3h(u1h,Z1h);}:Z1h instanceof RegExp?e3h[E1h]=function(j1h){return"string"!==typeof j1h?false:null!==j1h.match(Z1h);}:e3h[E1h]=function(J1h){return J1h instanceof Z1h;};};e3h.register("arrayLike",function(S1h){var K1h=S1h.length;return"number"===typeof K1h&&-1<K1h&&0===K1h%1?(S1h=F3h(S1h),"Arguments"===S1h||"Array"===S1h||"NodeList"===S1h):false;});e3h.register("svgString",function(b1h){if("string"!==typeof b1h){return false;}b1h.startsWith("\x3c!--")&&(b1h=b1h.replace(/\x3c!--.*--\x3e/,""));b1h.startsWith(" ")&&(b1h=b1h.trim());return b1h.startsWith("data:image/svg")||b1h.startsWith("<?xml")&&b1h.includes("<svg")||b1h.startsWith("<svg");});var p3h=function(){function t1h(){P3h(this,t1h);this.isRequested=false;this.reason="";this.id=Date.now();}r5h(t1h,[{key:"throwIfRequested",value:function(){if(this.isRequested){throw new L3h(this.reason);}}},{key:"request",value:function(C1h){this.isRequested=true;this.reason=C1h;}}]);return t1h;}(),L3h=function(f1h){function N1h(){var m1h;P3h(this,N1h);for(var B1h=arguments.length,Q1h=Array(B1h),l1h=0;l1h<B1h;l1h++){Q1h[l1h]=arguments[l1h];}B1h=(m1h=N1h.__proto__||Object.getPrototypeOf(N1h)).call.apply(m1h,[this].concat(Q1h));if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}m1h=!B1h||"object"!==typeof B1h&&"function"!==typeof B1h?this:B1h;m1h.isCancelError=true;return m1h;}s5h(N1h,f1h);return N1h;}(Error);global.Galactic||(global.Galactic={});Galactic.args=function(z1h,D1h){return{parse:function(d1h){return c5h(d1h,z1h,1<arguments.length&&void 0!==arguments[1]?arguments[1]:D1h);},wrap:function(W1h){var X1h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:D1h;return function(){var U1h=c5h(arguments,z1h,X1h);return W1h.call(this,U1h);};}};};Galactic.deduper=function(){function e1h(V1h,P1h,v1h){var p1h=(3<arguments.length&&void 0!==arguments[3]?arguments[3]:{}).onProgress,F1h=void 0;if(F1h=G1h[V1h]){if(F1h.on("resolve",P1h),F1h.on("reject",v1h),p1h){F1h.on("onProgress",p1h);}}else{return F1h=G1h[V1h]=i3h(),{onProgress:function(){var L1h;p1h&&p1h.apply(void 0,arguments);(L1h=F1h).emit.apply(L1h,["onProgress"].concat(Array.prototype.slice.call(arguments)));},resolve:function(){var R1h;P1h.apply(void 0,arguments);(R1h=F1h).emit.apply(R1h,["resolve"].concat(Array.prototype.slice.call(arguments)));delete G1h[V1h];},reject:function(){var i1h;v1h.apply(void 0,arguments);(i1h=F1h).emit.apply(i1h,["reject"].concat(Array.prototype.slice.call(arguments)));delete G1h[V1h];}};}}var G1h={};e1h.request=function(a1h,x1h){return new Promise(function(k1h,w1h){(k1h=e1h(a1h,k1h,w1h))&&x1h().then(k1h.resolve).catch(k1h.reject);});};return e1h;};Galactic.emitter=i3h;Galactic.getProperty=function(Y1h,A1h){return v3h(Y1h,A1h);};Galactic.setProperty=function(r4h,s4h,n4h){return v3h(r4h,s4h,n4h);};Galactic.fsUtils=T5h;Galactic.is=e3h;Galactic.isDefined=R3h;Galactic.perf=function(){function T4h(Z4h){var E4h=performance.now(),q4h=Math.round(E4h-T4h.startTime);if(Z4h){if(o4h){var H4h=document.createElement("div");H4h.innerHTML=Z4h+" "+q4h+"ms";o4h.appendChild(H4h);}else{("undefined"===typeof global?0:global.chrome)?(H4h=[],H4h.push("%c"+Z4h+"%c"+q4h+"ms"),H4h.push("background: #46575f; color: #ffeb3b; padding: 0 3px; margin-right: 3px; border-radius: 3px;"),H4h.push("background: #607d8b; color: #ffeb3b; padding: 0 3px; margin-right: 3px; border-radius: 3px;"),console.log.apply(console,H4h)):console.log(Z4h+" "+q4h+"ms");}}y4h&&(T4h.startTime=E4h);return q4h;}function g4h(){-1<--c4h?M4h(g4h):console.log(T4h()+"ms",O4h);}var I4h=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};"number"===typeof I4h&&(I4h={amount:I4h});"function"===typeof I4h&&(I4h={handler:I4h});I4h.nodeName&&(I4h={element:I4h});var o4h=I4h.element,h4h=!!I4h.async,y4h=false!==I4h.elapsed,O4h=I4h.title||"",c4h=I4h.amount;Number.isFinite(c4h)||(c4h=arguments[1]);Number.isFinite(c4h)||(c4h=1);var M4h=I4h.handler;if("function"===typeof M4h){if(T4h(),h4h){g4h();}else{for(;-1<--c4h;){M4h();}console.log(T4h()+"ms",O4h);}}T4h.startTime=performance.now();T4h.reset=function(){return T4h.startTime=performance.now();};T4h.getTimeElapsed=function(){return Math.round(performance.now()-T4h.startTime);};return T4h;};Galactic.DelimitedFile=function(j4h){function b4h(C4h){return C4h.split(K4h).reduce(function(N4h,B4h,f4h){f4h in u4h&&(N4h[u4h[f4h]]=B4h);return N4h;},{});}function t4h(m4h){return u4h.map(function(l4h){return m4h[l4h];}).join(K4h);}var J4h=j4h.rowDelimiter,S4h=j4h.columnDelimiter,K4h=void 0===S4h?"\n":S4h,u4h=j4h.columnNames;return{read:function(Q4h){return Q4h.split(J4h).map(b4h);},write:function(z4h){return z4h.map(t4h).join(J4h);},toObject:b4h,toString:t4h};};Galactic.chunkedAccumulator=function(){function d4h(){var U4h=M5h(D4h)/D4h.length;W4h(U4h);return U4h;}var X4h=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).onProgress,W4h=void 0===X4h?k3h:X4h,D4h=[];d4h.getChunk=function(){var G4h=D4h.length;D4h.push(0);return function(e4h){e4h&&(D4h[G4h]=e4h);return d4h();};};d4h.asTaskOptions=function(){return{onProgress:d4h};};return d4h;};Galactic.steppedAccumulator=function(){function p4h(i4h){i4h&&(V4h=i4h);i4h=L4h+V4h*v4h;R4h(i4h);return i4h;}var F4h=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},P4h=F4h.steps,F4h=F4h.onProgress,R4h=void 0===F4h?k3h:F4h,v4h=void 0===P4h?1:1/P4h,L4h=0,V4h=0;p4h.step=function(){L4h+=v4h;V4h=0;return p4h();};p4h.asTaskOptions=function(){return{onProgress:p4h};};return p4h;};Galactic.CancelToken=p3h;Galactic.CancelError=L3h;Galactic.taskOptions=function(){return{onProgress:w3h,cancel:new p3h()};};Galactic.fillTaskOptions=function(a4h){if(a4h&&(R3h(a4h,"onProgress")||(a4h.onProgress=w3h),!R3h(a4h,"cancel"))){var x4h=void 0;Object.defineProperty(a4h,"cancel",{get:function(){x4h||(x4h=new p3h());return x4h;}});}};Galactic.partition=function(A4h){for(var Y4h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,w4h=[],k4h=0;k4h<A4h.length;k4h+=Y4h){w4h[w4h.length]=A4h.slice(k4h,k4h+Y4h);}return w4h;};}();(function(r7h,y7h){function O7h(u7h){delete M7h[u7h];}function n7h(K7h){if(o7h){setTimeout(n7h,0,K7h);}else{var S7h=M7h[K7h];if(S7h){o7h=true;try{var J7h=S7h.callback,j7h=S7h.args;switch(j7h.length){case 0:J7h();break;case 1:J7h(j7h[0]);break;case 2:J7h(j7h[0],j7h[1]);break;case 3:J7h(j7h[0],j7h[1],j7h[2]);break;default:J7h.apply(y7h,j7h);}}finally{O7h(K7h),o7h=false;}}}}function H7h(){I7h=function(b7h){process.nextTick(function(){n7h(b7h);});};}function q7h(){if(r7h.postMessage&&!r7h.importScripts){var t7h=true,C7h=r7h.onmessage;r7h.onmessage=function(){t7h=false;};r7h.postMessage("","*");r7h.onmessage=C7h;return t7h;}}function Z7h(){var N7h="setImmediate$"+Math.random()+"$",f7h=function(B7h){B7h.source===r7h&&"string"===typeof B7h.data&&0===B7h.data.indexOf(N7h)&&n7h(+B7h.data.slice(N7h.length));};r7h.addEventListener?r7h.addEventListener("message",f7h,false):r7h.attachEvent("onmessage",f7h);I7h=function(m7h){r7h.postMessage(N7h+m7h,"*");};}function E7h(){var l7h=new MessageChannel();l7h.port1.onmessage=function(Q7h){n7h(Q7h.data);};I7h=function(z7h){l7h.port2.postMessage(z7h);};}function g7h(){var D7h=T7h.documentElement;I7h=function(X7h){var d7h=T7h.createElement("script");d7h.onreadystatechange=function(){n7h(X7h);d7h.onreadystatechange=null;D7h.removeChild(d7h);d7h=null;};D7h.appendChild(d7h);};}function h7h(){I7h=function(W7h){setTimeout(n7h,0,W7h);};}if(!r7h.setImmediate){var c7h=1,M7h={},o7h=false,T7h=r7h.document,I7h,s7h=Object.getPrototypeOf&&Object.getPrototypeOf(r7h),s7h=s7h&&s7h.setTimeout?s7h:r7h;"[object process]"==={}.toString.call(r7h.process)?H7h():q7h()?Z7h():r7h.MessageChannel?E7h():T7h&&"onreadystatechange"in T7h.createElement("script")?g7h():h7h();s7h.setImmediate=function(G7h){"function"!==typeof G7h&&(G7h=new Function(""+G7h));for(var e7h=Array(arguments.length-1),U7h=0;U7h<e7h.length;U7h++){e7h[U7h]=arguments[U7h+1];}M7h[c7h]={callback:G7h,args:e7h};I7h(c7h);return c7h++;};s7h.clearImmediate=O7h;}}("undefined"===typeof self?"undefined"===typeof global?this:global:self));void function(){global.sketch||(global.sketch={},global.sketch._noRendering=false);global.sk||(global.sk=global.sketch);Galactic.emitter(sketch);sketch.version="5.1.309";sketch.agent||(sketch.agent={});sketch.assets||(sketch.assets={});sketch.attrs||(sketch.attrs={});sketch.convert||(sketch.convert={});sketch.detect||(sketch.detect={});sketch.share||(sketch.share={});sketch.doc||(sketch.doc={});sketch.doc.render||(sketch.doc.render={});sketch.doc.selection||(sketch.doc.selection={});sketch.docs||(sketch.docs=[]);sketch.dom||(sketch.dom={});sketch.flags||(sketch.flags={});sketch.generate||(sketch.generate={});sketch.feature||(sketch.feature={});sketch.globals||(sketch.globals={});sketch.lang||(sketch.lang={locale:{}});sketch.loc||(sketch.loc={});sketch.bboxUtils||(sketch.bboxUtils={});sketch.paintUtils||(sketch.paintUtils={});sketch.layerUtils||(sketch.layerUtils={});sketch.math||(sketch.math={});sketch.module||(sketch.module={});sketch.net||(sketch.net={});sketch.io||(sketch.io={});sketch.io.json||(sketch.io.json={});sketch.save||(sketch.save={});sketch.tools||(sketch.tools={});sketch.canvasUtils||(sketch.canvasUtils={});sketch.server||(sketch.server={});sketch.sidebar||(sketch.sidebar={});sketch.style||(sketch.style={});sketch.util||(sketch.util={});sketch.vector||(sketch.vector={});sketch.windows||(sketch.windows={});sketch.ui||(sketch.ui={});sketch.ui.colorpicker||(sketch.ui.colorpicker={});sketch.ui.icons||(sketch.ui.icons={});sketch.ui.dataTypes||(sketch.ui.dataTypes={});sketch.user={};sketch.user.color="blue";sketch.user.id="you";}();void function(){var p7h=sketch.module,F7h=new function(){var V7h=[];this.add=function(P7h){sketch.docs.forEach(P7h);V7h.push(P7h);};this.integrate=function(v7h){V7h.forEach(function(L7h){return L7h(v7h);});};}();p7h.add=F7h.add;p7h.integrate=F7h.integrate;F7h=new function(){var R7h=[],i7h=false;this.add=function(a7h){i7h?a7h():R7h.push(a7h);};this.integrate=function(){i7h=true;for(var x7h;x7h=R7h.shift();){x7h();}};}();p7h.addOnce=F7h.add;p7h.integrateOnce=F7h.integrate;}();(function(w7h){for(var k7h,Y7h={},A7h=function(){},r6h=["memory"],s6h="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profiles profileEnd show table time timeEnd timeline timelineEnd timeStamp trace warn".split(" ");k7h=r6h.pop();){w7h[k7h]||(w7h[k7h]=Y7h);}for(;k7h=s6h.pop();){w7h[k7h]||(w7h[k7h]=A7h);}}(self.console=self.console||{}));console.log=console.log.bind(console);console.error=console.error.bind(console);"function"===typeof self.WebKitCSSMatrix?self.CSSMatrix=WebKitCSSMatrix:function(){function n6h(H6h){if(null==H6h||"none"===H6h){return M6h(this);}if(H6h instanceof n6h){return c6h(H6h);}var y6h=arguments;if(y6h.length){if(16===y6h.length){return O6h(this,y6h);}if(6===y6h.length){return o6h(this,y6h);}}return this.setMatrixValue(H6h);}function c6h(Z6h){var q6h=new n6h();q6h.m11=q6h.a=Z6h.m11;q6h.m12=q6h.b=Z6h.m12;q6h.m13=Z6h.m13;q6h.m14=Z6h.m14;q6h.m21=q6h.c=Z6h.m21;q6h.m22=q6h.d=Z6h.m22;q6h.m23=Z6h.m23;q6h.m24=Z6h.m24;q6h.m31=Z6h.m31;q6h.m32=Z6h.m32;q6h.m33=Z6h.m33;q6h.m34=Z6h.m34;q6h.m41=q6h.e=Z6h.m41;q6h.m42=q6h.f=Z6h.m42;q6h.m43=Z6h.m43;q6h.m44=Z6h.m44;return q6h;}function T6h(u6h,E6h){return E6h instanceof n6h?new n6h(E6h.m11*u6h.m11+E6h.m12*u6h.m21+E6h.m13*u6h.m31+E6h.m14*u6h.m41,E6h.m11*u6h.m12+E6h.m12*u6h.m22+E6h.m13*u6h.m32+E6h.m14*u6h.m42,E6h.m11*u6h.m13+E6h.m12*u6h.m23+E6h.m13*u6h.m33+E6h.m14*u6h.m43,E6h.m11*u6h.m14+E6h.m12*u6h.m24+E6h.m13*u6h.m34+E6h.m14*u6h.m44,E6h.m21*u6h.m11+E6h.m22*u6h.m21+E6h.m23*u6h.m31+E6h.m24*u6h.m41,E6h.m21*u6h.m12+E6h.m22*u6h.m22+E6h.m23*u6h.m32+E6h.m24*u6h.m42,E6h.m21*u6h.m13+E6h.m22*u6h.m23+E6h.m23*u6h.m33+E6h.m24*u6h.m43,E6h.m21*u6h.m14+E6h.m22*u6h.m24+E6h.m23*u6h.m34+E6h.m24*u6h.m44,E6h.m31*u6h.m11+E6h.m32*u6h.m21+E6h.m33*u6h.m31+E6h.m34*u6h.m41,E6h.m31*u6h.m12+E6h.m32*u6h.m22+E6h.m33*u6h.m32+E6h.m34*u6h.m42,E6h.m31*u6h.m13+E6h.m32*u6h.m23+E6h.m33*u6h.m33+E6h.m34*u6h.m43,E6h.m31*u6h.m14+E6h.m32*u6h.m24+E6h.m33*u6h.m34+E6h.m34*u6h.m44,E6h.m41*u6h.m11+E6h.m42*u6h.m21+E6h.m43*u6h.m31+E6h.m44*u6h.m41,E6h.m41*u6h.m12+E6h.m42*u6h.m22+E6h.m43*u6h.m32+E6h.m44*u6h.m42,E6h.m41*u6h.m13+E6h.m42*u6h.m23+E6h.m43*u6h.m33+E6h.m44*u6h.m43,E6h.m41*u6h.m14+E6h.m42*u6h.m24+E6h.m43*u6h.m34+E6h.m44*u6h.m44):null;}function M6h(j6h){j6h.m11=j6h.a=1;j6h.m12=j6h.b=0;j6h.m13=0;j6h.m14=0;j6h.m21=j6h.c=0;j6h.m22=j6h.d=1;j6h.m23=0;j6h.m24=0;j6h.m31=0;j6h.m32=0;j6h.m33=1;j6h.m34=0;j6h.m41=j6h.e=0;j6h.m42=j6h.f=0;j6h.m43=0;j6h.m44=1;return j6h;}function o6h(J6h,S6h){J6h.m11=J6h.a=S6h[0];J6h.m12=J6h.b=S6h[1];J6h.m41=J6h.e=S6h[4];J6h.m21=J6h.c=S6h[2];J6h.m22=J6h.d=S6h[3];J6h.m42=J6h.f=S6h[5];return J6h;}function O6h(K6h,b6h){K6h.m11=K6h.a=b6h[0];K6h.m12=K6h.b=b6h[1];K6h.m13=b6h[2];K6h.m14=b6h[3];K6h.m21=K6h.c=b6h[4];K6h.m22=K6h.d=b6h[5];K6h.m23=b6h[6];K6h.m24=b6h[7];K6h.m31=b6h[8];K6h.m32=b6h[9];K6h.m33=b6h[10];K6h.m34=b6h[11];K6h.m41=K6h.e=b6h[12];K6h.m42=K6h.f=b6h[13];K6h.m43=b6h[14];K6h.m44=b6h[15];return K6h;}var I6h=n6h.prototype,g6h=/^matrix\((.*)\)/,h6h=/^matrix3d\((.*)\)/;I6h.setMatrixValue=function(t6h){if("string"===typeof t6h){M6h(this);t6h=t6h.trim();if("none"===t6h){return this;}for(var C6h=t6h.replace(/^.*\((.*)\)$/g,"$1").split(/\s*,\s*/),N6h=C6h.length;N6h--;){C6h[N6h]=parseFloat(C6h[N6h]);}if(6===C6h.length&&g6h.test(t6h)){return o6h(this,C6h);}if(16===C6h.length&&h6h.test(t6h)){return O6h(this,C6h);}}throw Error("Failed to execute 'setMatrixValue' on 'CSSMatrix': Failed to parse '"+t6h+"'");};I6h.multiply=function(f6h){return T6h(this,f6h);};I6h.inverse=function(){var B6h;(B6h=this.m14*this.m23*this.m32*this.m41-this.m13*this.m24*this.m32*this.m41-this.m14*this.m22*this.m33*this.m41+this.m12*this.m24*this.m33*this.m41+this.m13*this.m22*this.m34*this.m41-this.m12*this.m23*this.m34*this.m41-this.m14*this.m23*this.m31*this.m42+this.m13*this.m24*this.m31*this.m42+this.m14*this.m21*this.m33*this.m42-this.m11*this.m24*this.m33*this.m42-this.m13*this.m21*this.m34*this.m42+this.m11*this.m23*this.m34*this.m42+this.m14*this.m22*this.m31*this.m43-this.m12*this.m24*this.m31*this.m43-this.m14*this.m21*this.m32*this.m43+this.m11*this.m24*this.m32*this.m43+this.m12*this.m21*this.m34*this.m43-this.m11*this.m22*this.m34*this.m43-this.m13*this.m22*this.m31*this.m44+this.m12*this.m23*this.m31*this.m44+this.m13*this.m21*this.m32*this.m44-this.m11*this.m23*this.m32*this.m44-this.m12*this.m21*this.m33*this.m44+this.m11*this.m22*this.m33*this.m44)?B6h=new n6h((this.m23*this.m34*this.m42-this.m24*this.m33*this.m42+this.m24*this.m32*this.m43-this.m22*this.m34*this.m43-this.m23*this.m32*this.m44+this.m22*this.m33*this.m44)/B6h,(this.m14*this.m33*this.m42-this.m13*this.m34*this.m42-this.m14*this.m32*this.m43+this.m12*this.m34*this.m43+this.m13*this.m32*this.m44-this.m12*this.m33*this.m44)/B6h,(this.m13*this.m24*this.m42-this.m14*this.m23*this.m42+this.m14*this.m22*this.m43-this.m12*this.m24*this.m43-this.m13*this.m22*this.m44+this.m12*this.m23*this.m44)/B6h,(this.m14*this.m23*this.m32-this.m13*this.m24*this.m32-this.m14*this.m22*this.m33+this.m12*this.m24*this.m33+this.m13*this.m22*this.m34-this.m12*this.m23*this.m34)/B6h,(this.m24*this.m33*this.m41-this.m23*this.m34*this.m41-this.m24*this.m31*this.m43+this.m21*this.m34*this.m43+this.m23*this.m31*this.m44-this.m21*this.m33*this.m44)/B6h,(this.m13*this.m34*this.m41-this.m14*this.m33*this.m41+this.m14*this.m31*this.m43-this.m11*this.m34*this.m43-this.m13*this.m31*this.m44+this.m11*this.m33*this.m44)/B6h,(this.m14*this.m23*this.m41-this.m13*this.m24*this.m41-this.m14*this.m21*this.m43+this.m11*this.m24*this.m43+this.m13*this.m21*this.m44-this.m11*this.m23*this.m44)/B6h,(this.m13*this.m24*this.m31-this.m14*this.m23*this.m31+this.m14*this.m21*this.m33-this.m11*this.m24*this.m33-this.m13*this.m21*this.m34+this.m11*this.m23*this.m34)/B6h,(this.m22*this.m34*this.m41-this.m24*this.m32*this.m41+this.m24*this.m31*this.m42-this.m21*this.m34*this.m42-this.m22*this.m31*this.m44+this.m21*this.m32*this.m44)/B6h,(this.m14*this.m32*this.m41-this.m12*this.m34*this.m41-this.m14*this.m31*this.m42+this.m11*this.m34*this.m42+this.m12*this.m31*this.m44-this.m11*this.m32*this.m44)/B6h,(this.m12*this.m24*this.m41-this.m14*this.m22*this.m41+this.m14*this.m21*this.m42-this.m11*this.m24*this.m42-this.m12*this.m21*this.m44+this.m11*this.m22*this.m44)/B6h,(this.m14*this.m22*this.m31-this.m12*this.m24*this.m31-this.m14*this.m21*this.m32+this.m11*this.m24*this.m32+this.m12*this.m21*this.m34-this.m11*this.m22*this.m34)/B6h,(this.m23*this.m32*this.m41-this.m22*this.m33*this.m41-this.m23*this.m31*this.m42+this.m21*this.m33*this.m42+this.m22*this.m31*this.m43-this.m21*this.m32*this.m43)/B6h,(this.m12*this.m33*this.m41-this.m13*this.m32*this.m41+this.m13*this.m31*this.m42-this.m11*this.m33*this.m42-this.m12*this.m31*this.m43+this.m11*this.m32*this.m43)/B6h,(this.m13*this.m22*this.m41-this.m12*this.m23*this.m41-this.m13*this.m21*this.m42+this.m11*this.m23*this.m42+this.m12*this.m21*this.m43-this.m11*this.m22*this.m43)/B6h,(this.m12*this.m23*this.m31-this.m13*this.m22*this.m31+this.m13*this.m21*this.m32-this.m11*this.m23*this.m32-this.m12*this.m21*this.m33+this.m11*this.m22*this.m33)/B6h):(console.error(this),B6h=false);return B6h;};I6h.translate=function(Q6h,z6h,l6h){l6h=l6h||0;var m6h=c6h(this);m6h.m41=m6h.e=m6h.m11*Q6h+m6h.m21*z6h+m6h.m31*l6h+m6h.m41;m6h.m42=m6h.f=m6h.m12*Q6h+m6h.m22*z6h+m6h.m32*l6h+m6h.m42;m6h.m43=m6h.m13*Q6h+m6h.m23*z6h+m6h.m33*l6h+m6h.m43;m6h.m44=m6h.m14*Q6h+m6h.m24*z6h+m6h.m34*l6h+m6h.m44;return m6h;};I6h.scale=function(W6h,d6h,X6h){d6h!==+d6h&&(d6h=W6h);X6h!==+X6h&&(X6h=1);var D6h=new n6h();D6h.m11=D6h.a=W6h;D6h.m22=D6h.d=d6h;D6h.m33=X6h;return T6h(this,D6h);};I6h.rotate=function(G6h,F6h,e6h){G6h!==+G6h&&(G6h=0);F6h!==+F6h&&e6h!==+e6h&&(e6h=G6h,F6h=G6h=0);F6h!==+F6h&&(F6h=0);e6h!==+e6h&&(e6h=0);var p6h,V6h;G6h*=Math.PI/180;p6h=Math.PI/180*F6h;V6h=Math.PI/180*e6h;e6h=Math.cos(G6h);G6h=-Math.sin(G6h);F6h=Math.cos(p6h);p6h=-Math.sin(p6h);var P6h=Math.cos(V6h);V6h=-Math.sin(V6h);var U6h=new n6h();U6h.m11=U6h.a=F6h*P6h;U6h.m12=U6h.b=-F6h*V6h;U6h.m13=p6h;U6h.m21=U6h.c=G6h*p6h*P6h+e6h*V6h;U6h.m22=U6h.d=e6h*P6h-G6h*p6h*V6h;U6h.m23=-G6h*F6h;U6h.m31=G6h*V6h-e6h*p6h*P6h;U6h.m32=G6h*P6h+e6h*p6h*V6h;U6h.m33=e6h*F6h;return T6h(this,U6h);};I6h.rotateAxisAngle=function(i6h,L6h,R6h,a6h){L6h!==+L6h&&(L6h=i6h);R6h!==+R6h&&(R6h=i6h);var x6h;x6h=Math.PI/360*a6h;a6h=Math.sin(x6h);x6h=Math.cos(x6h);var k6h=a6h*a6h,w6h=Math.sqrt(i6h*i6h+L6h*L6h+R6h*R6h);0===w6h?(L6h=i6h=0,R6h=1):(i6h/=w6h,L6h/=w6h,R6h/=w6h);var w6h=i6h*i6h,Y6h=L6h*L6h,A6h=R6h*R6h,v6h=new n6h();v6h.m11=v6h.a=1-2*(Y6h+A6h)*k6h;v6h.m12=v6h.b=2*(i6h*L6h*k6h+R6h*a6h*x6h);v6h.m13=2*(i6h*R6h*k6h-L6h*a6h*x6h);v6h.m21=v6h.c=2*(L6h*i6h*k6h-R6h*a6h*x6h);v6h.m22=v6h.d=1-2*(A6h+w6h)*k6h;v6h.m23=2*(L6h*R6h*k6h+i6h*a6h*x6h);v6h.m31=2*(R6h*i6h*k6h+L6h*a6h*x6h);v6h.m32=2*(R6h*L6h*k6h-i6h*a6h*x6h);v6h.m33=1-2*(w6h+Y6h)*k6h;v6h.m14=v6h.m24=v6h.m34=0;v6h.m41=v6h.e=v6h.m42=v6h.f=v6h.m43=0;v6h.m44=1;return T6h(this,v6h);};I6h.toString=function(){var r8A=function(n8A){return n8A.toFixed(6);},s8A;s8A=this.m13||this.m14||this.m23||this.m24||this.m31||this.m32||1!==this.m33||this.m34||this.m43||1!==this.m44?false:true;return s8A?"matrix("+[this.a,this.b,this.c,this.d,this.e,this.f].map(r8A).join(", ")+")":"matrix3d("+[this.m11,this.m12,this.m13,this.m14,this.m21,this.m22,this.m23,this.m24,this.m31,this.m32,this.m33,this.m34,this.m41,this.m42,this.m43,this.m44].map(r8A).join(", ")+")";};I6h.skewX=function(T8A){T8A*=Math.PI/180;var I8A=new n6h();I8A.m21=I8A.c=Math.tan(T8A);return T6h(I8A,this);};I6h.skewY=function(M8A){M8A*=Math.PI/180;var c8A=new n6h();c8A.m12=c8A.b=Math.tan(M8A);return T6h(c8A,this);};self.CSSMatrix=n6h;}();self.CSSMatrix.prototype.point3d=function(o8A){return{x:this.m11*o8A.x+this.m21*o8A.y+this.m31*o8A.z+this.m41,y:this.m12*o8A.x+this.m22*o8A.y+this.m32*o8A.z+this.m42,z:this.m13*o8A.x+this.m23*o8A.y+this.m33*o8A.z+this.m43,w:this.m14*o8A.x+this.m24*o8A.y+this.m34*o8A.z+this.m44};};void function(){function y2A(){var S2A=void 0,K2A=false,C2A=document.createElement("fakeelement"),b2A={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"},t2A;for(t2A in b2A){if(void 0!==C2A.style[t2A]){S2A=b2A[t2A];K2A=true;break;}}return{type:S2A,supported:K2A};}function g8A(N2A){if(this instanceof g8A){this.target=N2A;}else{return new g8A(N2A);}}function A8A(m2A,f2A){f2A||(f2A={bubbles:false,cancelable:false,detail:void 0});var B2A=document.createEvent("CustomEvent");B2A.initCustomEvent(m2A,f2A.bubbles,f2A.cancelable,f2A.detail);return B2A;}function q8A(Q2A,l2A,d2A){var z2A=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},X2A=arguments[4];"boolean"===typeof z2A&&(z2A={capture:z2A});if("[object Object]"===Object.prototype.toString.call(l2A)){return Z2A(Q2A,l2A,X2A);}if(Q2A&&l2A&&d2A){if("string"===typeof Q2A){var D2A=document.querySelectorAll(Q2A);if(D2A.length){Q2A=D2A;}else{N8A("The target '"+Q2A+"' does not exist.",arguments);return;}}if(0<Q2A.length&&Q2A!==window){if(1!==Q2A.length){for(var D2A={},W2A=0,G2A=Q2A.length;W2A<G2A;W2A++){var U2A=q8A(Q2A[W2A],l2A,d2A,j8A(z2A),X2A);U2A&&(D2A[W2A]=U2A);}return JSEvent.Group(D2A);}Q2A=Q2A[0];}"string"===typeof l2A&&(l2A=l2A.toLowerCase().split(/[|, ]/),1===l2A.length&&(l2A=l2A.shift()));if("string"!==typeof l2A){return E2A(Q2A,l2A,d2A,z2A,X2A);}0===l2A.indexOf("on")&&(l2A=l2A.substr(2));if("undefined"===typeof Q2A?true:"object"!==E8A(Q2A)){return N8A("target must be an element",arguments);}if("function"!==typeof d2A){return N8A("listener must be a function",arguments);}D2A=!!Gesture.handlers[l2A]||!X8A.once;if(z2A.once&&D2A){delete z2A.once;var e2A=d2A;d2A=function(F2A){F2A.END&&F2A.detach();e2A.apply(this,arguments);};}return Gesture.handlers[l2A]?j2A(X2A,Q2A,l2A,d2A,z2A):J2A(X2A,Q2A,l2A,d2A,z2A);}N8A("Target, type and listener are required.",arguments);}function J2A(i2A,V2A,p2A,P2A,v2A){var L2A=X8A.capture?v2A:!!v2A.capture,R2A=Gesture._lookupDomEventEquivalencies(p2A,v2A.strict);p2A=new JSEvent({type:p2A,listener:P2A,target:V2A,attach:function(a2A){R2A.forEach(function(x2A){a2A&&!x2A.startsWith(a2A)||V2A.addEventListener(x2A,P2A,L2A);});},detach:function(k2A){R2A.forEach(function(w2A){k2A&&!w2A.startsWith(k2A)||V2A.removeEventListener(w2A,P2A,L2A);});}});p2A[i2A]();return p2A;}function j2A(Y2A,A2A,s0A,I0A,n0A){var r0A=!!n0A.capture,r0A=s0A+"."+c2A(A2A)+"."+c2A(I0A)+"."+Number(r0A);if("attach"===Y2A){if(Y2A=A2A[r0A]){return Y2A.attach(),Y2A;}Y2A=new u2A(n0A);Y2A.uid=r0A;Y2A.type=s0A;Y2A.target=A2A;Y2A.listener=I0A;Y2A.options=n0A;return A2A[r0A]=Gesture.handlers[s0A](Y2A);}if(A2A=A2A[r0A]){return A2A.detach(),A2A;}}function u2A(T0A){Object.assign(this,T0A);}function E2A(H0A,o0A,M0A,q0A,y0A){var h0A,O0A={};if(Array.isArray(o0A)){for(var c0A=0,Z0A=o0A.length;c0A<Z0A;c0A++){var g0A=o0A[c0A];g0A&&(h0A=q8A(H0A,g0A,M0A,j8A(q0A),y0A))&&(O0A[g0A]=h0A);}return JSEvent.Group(O0A);}for(c0A in o0A){(M0A=o0A[c0A])&&(h0A=M0A.listener?q8A(H0A,c0A,M0A.listener,j8A(M0A),y0A):q8A(H0A,c0A,M0A,j8A(q0A),y0A))&&(O0A[c0A]=h0A);}return JSEvent.Group(O0A);}function Z2A(t0A,u0A,N0A){function C0A(l0A,Q0A){for(var m0A in l0A){var f0A=l0A[m0A],B0A="undefined"===typeof f0A?"undefined":E8A(f0A);if("string"===B0A||"number"===B0A||"boolean"===B0A){Q0A[m0A]=f0A;}}return Q0A;}var E0A=u0A.type,J0A=u0A.listener;if(J0A&&E0A){return q8A(t0A,E0A,J0A,u0A,N0A);}var E0A=C0A(u0A,{}),b0A={},S0A;for(S0A in u0A){var j0A=u0A[S0A],K0A=void 0;if("function"===typeof j0A){J0A=j0A,K0A=E0A;}else if("function"===typeof j0A.listener){J0A=j0A.listener,K0A=C0A(j0A,E0A);}else{continue;}b0A[S0A]=Gesture.on(t0A,S0A,J0A,K0A,N0A);}return JSEvent.Group(b0A);}function N8A(z0A,D0A){"undefined"!==typeof console&&"undefined"!==typeof console.error&&console.error(z0A,D0A);}function j8A(d0A){if(!d0A||d0A.nodeName||("undefined"===typeof d0A?true:"object"!==E8A(d0A))){return d0A;}var W0A=new d0A.constructor(),X0A;for(X0A in d0A){!d0A[X0A]||d0A[X0A].nodeName||"object"!==E8A(d0A[X0A])?W0A[X0A]=d0A[X0A]:W0A[X0A]=j8A(d0A[X0A]);}return W0A;}function c2A(U0A){return U0A===window?"#window":U0A===document?"#document":U0A._ejsId||(U0A._ejsId=O2A++);}function h8A(G0A){this.env={};this._listenerStack=[];Object.assign(this,G0A);}function q2A(e0A,F0A){e0A.attached=true;e0A.paused=false;void function(){var p0A=["_pointerStart","_pointerChange","_pointerEnd","_pointerOver","_pointerOut"];e0A.attach=function(){if(!e0A.attached){return e0A.attached=true,e0A.paused=false,m8A(F0A,p0A,"attach"),e0A.target[e0A.uid]=e0A;}};e0A.detach=function(){e0A.attached&&(e0A.attached=false,e0A.paused=false,e0A.resetPointers(),m8A(F0A,p0A,"detach"),delete e0A.target[e0A.uid]);};}();void function(){var V0A=["_pointerChange","_pointerEnd"],P0A=e0A.fingers;e0A.pause=function(){e0A.attached=false;e0A.paused=true;P0A=e0A.fingers;e0A.fingers=0;m8A(F0A,V0A,"detach");};e0A.resume=function(){e0A.attached=true;e0A.paused=false;e0A.fingers=P0A;m8A(F0A,V0A,"attach");};}();}function m8A(v0A,L0A,R0A){L0A.forEach(function(i0A){if(i0A=v0A[i0A]){i0A[R0A]();}});}function o2A(x0A,a0A,k0A){x0A.pointerType=k0A;x0A.isMouse="mouse"===k0A;x0A.isPen="pen"===k0A;x0A.isPrimary=a0A.isPrimary;x0A.isTouch="touch"===k0A;x0A.clientX=a0A.clientX;x0A.clientY=a0A.clientY;x0A.pageX=a0A.pageX;x0A.pageY=a0A.pageY;x0A.screenX=a0A.screenX;x0A.screenY=a0A.screenY;x0A.width=a0A.width||2*(a0A.radiusX||a0A.webkitRadiusX)||0;x0A.height=a0A.height||2*(a0A.radiusY||a0A.webkitRadiusY)||0;k0A="pressure"in a0A?a0A.pressure:"force"in a0A?a0A.force:"webkitForce"in a0A?a0A.webkitForce:.5;var w0A;w0A="tangentialPressure"in a0A?a0A.tangentialPressure:2*k0A-1;x0A.pressure=k0A;x0A.tangentialPressure=w0A;x0A.tiltX=a0A.tiltX||0;x0A.tiltY=a0A.tiltY||0;x0A.altitudeAngle=a0A.altitudeAngle||0;x0A.azimuthAngle=a0A.azimuthAngle||0;x0A.rotationAngle=a0A.rotationAngle||a0A.webkitRotationAngle||0;x0A.twist=a0A.twist||0;}function g2A(A0A,r3A){var Y0A=f8A[r3A],s3A=Gesture._toDomEventSuffix[A0A.type];if("start"===s3A||!Y0A){if(!Y0A||Y0A.event!==A0A){return f8A[r3A]={pointerId:++S8A,bubbles:1,event:A0A},S8A;}Y0A.bubbles++;return Y0A.pointerId;}if("change"===s3A){return Y0A.pointerId;}--Y0A.bubbles||delete f8A[r3A];return Y0A.pointerId;}function l8A(n3A,I3A){n3A=parseFloat(n3A.getPropertyValue(I3A));return Number.isFinite(n3A)?n3A:0;}function H2A(o3A,O3A,g3A){var T3A=O3A[0];if(T3A){var c3A=T3A.pointerType,T3A=T3A.isPrimary,M3A=o3A.gevent;Gesture.isMouse=M3A.isMouse="mouse"===c3A;Gesture.isTouch=M3A.isTouch="touch"===c3A;Gesture.isPen=M3A.isPen="pen"===c3A;Gesture.isPrimary=M3A.isPrimary=T3A;o3A.domEventTypePrefix=g3A;}else{(c3A=console).error.apply(c3A,["recordPointerType"].concat(Array.prototype.slice.call(arguments)));}}function s2A(H3A,h3A){var y3A=H3A.bbox;switch(H3A.position){case"differenceFromLast":case"difference":h3A.offsetX=h3A.startX;h3A.offsetY=h3A.startY;break;case"move":h3A.offsetX=h3A.startX-y3A.x1;h3A.offsetY=h3A.startY-y3A.y1;break;default:h3A.offsetX=0,h3A.offsetY=0;}}function n2A(q3A){function K3A(){clearTimeout(J3A);E3A=u3A=0;}q3A.type||(q3A.type="dbltap");q3A.maxFingers=q3A.maxFingers||q3A.fingers||1;var E3A=void 0,u3A=void 0,J3A=void 0,S3A=void 0,j3A=void 0;q3A.onPointerStart=function(b3A){var t3A=Gesture._getChangedPointers(b3A,q3A).shift();E3A||u3A?(j3A=t3A,u3A=performance.now()-E3A):(S3A=t3A,E3A=performance.now(),u3A=0,clearTimeout(J3A),J3A=setTimeout(function(){return E3A=0;},700));Gesture._pointerStart(b3A,q3A)&&(q3A._pointerChange=Gesture.on(q3A.doc,"mousemove",q3A.onPointerChange),q3A._pointerChange.listener.call(Z3A.target,b3A),q3A._pointerEnd=Gesture.on(q3A.doc,"mouseup",q3A.onPointerEnd));};q3A.onPointerChange=function(C3A){j3A=Gesture._getChangedPointers(C3A,q3A).shift();C3A=q3A.bbox;var N3A=j3A.pageX-C3A.x1,f3A=j3A.pageY-C3A.y1;0<N3A&&N3A<C3A.width&&0<f3A&&f3A<C3A.height&&25>=Math.abs(j3A.pageX-S3A.pageX)&&25>=Math.abs(j3A.pageY-S3A.pageY)||(q3A._pointerChange.detach(),K3A());};q3A.onPointerEnd=function(m3A){Gesture._allPointersReleased(m3A,q3A)&&(q3A._pointerChange.detach(),q3A._pointerEnd.detach());if(E3A&&u3A){if(700<u3A){return K3A();}m3A=q3A.pointers;for(var B3A in m3A){B3A=m3A[B3A];Z3A.x=B3A.start.x;Z3A.y=B3A.start.y;break;}Z3A.state=q3A.type;Z3A.listener.call(Z3A.target,Z3A);K3A();}};q3A._pointerStart=Gesture.on(q3A.target,"mousedown",q3A.onPointerStart);var Z3A=Gesture._create(q3A);return Z3A;}function I2A(d3A,X3A){var z3A=0,D3A=0,l3A=0,W3A;for(W3A in X3A){var Q3A=X3A[W3A];true!==Q3A.up&&(z3A+=Q3A.end.x,D3A+=Q3A.end.y,l3A++);}d3A.x=z3A/l3A;d3A.y=D3A/l3A;}function T2A(U3A,G3A){return function(V3A){var p3A=U3A.bbox;V3A=Gesture._getChangedPointers(V3A,U3A);for(var R3A=V3A.length,P3A=0;P3A<R3A;P3A++){var F3A=V3A[P3A],e3A=U3A.pointers[F3A.id];if(e3A){var v3A=F3A.pageX-p3A.x1,F3A=F3A.pageY-p3A.y1,L3A=e3A.end.x-e3A.start.x,e3A=e3A.end.y-e3A.start.y,e3A=Math.sqrt(L3A*L3A+e3A*e3A)<=U3A.driftDeviance;if(!(0<=v3A&&v3A<=p3A.width&&0<=F3A&&F3A<=p3A.height&&e3A)){G3A(U3A);break;}}}};}function d8A(i3A){i3A._pointerChange&&i3A._pointerChange.detach();i3A._pointerEnd&&i3A._pointerEnd.detach();}function p8A(w3A,Y3A,A3A){for(var a3A in w3A){var x3A=parseInt(a3A);x3A!=a3A&&(x3A=a3A);var k3A=w3A[a3A];A3A&&(k3A=k3A.toLowerCase());Y3A[k3A]=x3A;}}function V8A(){var s5A=w8A.apply(null,arguments);if(s5A){var I5A=s5A.listener,o5A=s5A.targetId,r5A=s5A.command,n5A=s5A.target;if(Array.isArray(r5A)){return JSEvent.Group(r5A.map(function(O5A){return V8A(n5A,O5A,I5A);}));}if(Galactic.is(n5A,"arrayLike")){return Array.isArray(n5A)||(n5A=Array.from(n5A)),JSEvent.Group(n5A.map(function(g5A){return V8A(g5A,r5A,I5A);}));}s5A=false;"*"===r5A[0]&&"+"!==r5A[1]&&(r5A=r5A.substr(1),s5A=true);var T5A=[],c5A={},M5A=new JSEvent({captureAllModifiers:s5A,listener:I5A,target:n5A,command:r5A,detach:function(){P8A(n5A,r5A,I5A);}});Y8A(r5A,function(y5A,h5A){b8A[h5A]?c5A[h5A]=true:T5A.push(h5A);Z8A(h5A).handlers[y5A+"."+o5A]={gevent:M5A,keys:T5A,modifiers:c5A};});return M5A;}}function P8A(){var H5A=w8A.apply(null,arguments);if(H5A){var Z5A=H5A.target,E5A=H5A.targetId,q5A=H5A.command,u5A=H5A.listener;Array.isArray(q5A)?q5A.forEach(function(j5A){return P8A(Z5A,j5A,u5A);}):Y8A(q5A,function(J5A,S5A){delete Z8A(S5A).handlers[J5A+"."+E5A];});}}function w8A(b5A,K5A,t5A){2===arguments.length&&(t5A=K5A,K5A=b5A,b5A=window);if("string"===typeof K5A||Array.isArray(K5A)){if("function"!==typeof t5A){console.error("Listener must be a Function.",arguments);}else{return{targetId:r2A(b5A)+"."+r2A(t5A),target:b5A,command:K5A,listener:t5A};}}else{console.error("Query must be a String or Array.",arguments);}}function Y8A(C5A,Q5A){C5A=String(C5A);C5A=C5A.replace(/ /g,"");C5A=C5A.split("+");for(var f5A=[],B5A=0;B5A<C5A.length;B5A++){var m5A=C5A[B5A]||"+",N5A=B8A[m5A];null==N5A&&(N5A=v8A(m5A));H8A[N5A]&&(N5A=J8A);f5A.push(N5A);}var l5A=f5A.join(",");f5A.forEach(function(z5A){Q5A(l5A,z5A);});}function v8A(D5A){return 1===D5A.length?(D5A=D5A.toUpperCase(),D5A.charCodeAt(0)):D5A=z8A[D5A]||R8A[D5A];}function r2A(d5A){return d5A===window?"#window":d5A===document?"#document":d5A._keysterId||(d5A._keysterId=k8A++);}function D8A(v5A,U5A,w5A){GEvent.setState(w5A,U5A);var W5A=document.activeElement,W5A=(W5A&&W5A.classList&&!W5A.classList.contains("keyster-ignore")?W5A:false)||document.body,L5A=U5A.handlers,p5A=U5A.DOWN,x5A=U5A.UP,i5A=U5A.START,F5A=false,R5A;a:for(R5A in L5A){var X5A=L5A[R5A],P5A=X5A.keys,a5A=X5A.modifiers,X5A=X5A.gevent,e5A=X5A.target;if(e5A===W5A||e5A===window&&W5A===document.body){if(p5A){for(var k5A=P5A.length,G5A=0;G5A<k5A;G5A++){if(Z8A(P5A[G5A]).UP){continue a;}}if(!X5A.captureAllModifiers){for(var V5A in b8A){if(!!a5A[V5A]!==Z8A(V5A).DOWN){continue a;}}}}if(!x5A||X5A.dispatching){X5A.dispatching=p5A,X5A.originalEvent=v5A,i5A&&(X5A.env={}),GEvent.setState(w5A,X5A),false===X5A.listener.call(e5A,X5A)&&(F5A=true,v5A.preventDefault());}}}h2A(U5A,v5A);return F5A;}function h2A(Y5A,s9A){var A5A=Y5A.timeoutId;A5A&&(clearTimeout(A5A),Y5A.timeoutId=null);if(!Y5A.UP&&!b8A[Y5A.code]&&!Z8A(J8A).UP){var r9A=Y5A.timestamp;Y5A.timeoutId=setTimeout(function(){Y5A.timestamp===r9A&&D8A(s9A,Y5A,"end");},600);}}function Z8A(I9A){var n9A=C8A[I9A];if(n9A){return n9A;}n9A=C8A[I9A]={};n9A.handlers={};n9A.code=I9A;GEvent.END(n9A);return n9A;}global.JSEvent=function(T9A){this.env={};Object.assign(this,T9A);};void function(){var c9A=JSEvent.prototype;c9A.copy=function(){return Object.assign({},this);};c9A.stop=function(){Gesture.stop(this.originalEvent);};c9A.prevent=function(){Gesture.prevent(this.originalEvent);};c9A.cancel=function(){Gesture.cancel(this.originalEvent);};}();void function(){JSEvent.Group=function(o9A){var M9A=new JSEvent({attach:function(){M9A.attached=true;Gesture.bulk(o9A,"attach");},detach:function(){M9A.attached=false;Gesture.bulk(o9A,"detach");},pause:function(){M9A.attached=false;Gesture.bulk(o9A,"pause");},resume:function(){M9A.attached=true;Gesture.bulk(o9A,"resume");}});return M9A;};}();var t8A=void 0;JSEvent.onTransitionEnd=function(O9A){t8A||(t8A=y2A());return new Promise(function(H9A){function g9A(){g9A.fired||(g9A.fired=true,y9A.detach(),H9A());}var h9A=t8A.type;setTimeout(g9A,1E3);var y9A=JSEvent.on(O9A,h9A,g9A);});};j.initSymbol();j.initSymbol();j.initSymbolIterator();var E8A="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(q9A){return typeof q9A;}:function(Z9A){j.initSymbol();j.initSymbol();j.initSymbol();return Z9A&&"function"===typeof Symbol&&Z9A.constructor===Symbol&&Z9A!==Symbol.prototype?"symbol":typeof Z9A;};window.Gesture=g8A;g8A.stop=function(E9A){E9A&&(E9A.originalEvent&&(E9A=E9A.originalEvent),E9A.stopPropagation&&E9A.stopPropagation(),E9A._stopped=true);};g8A.prevent=function(u9A){u9A&&(u9A.originalEvent&&(u9A=u9A.originalEvent),u9A.preventDefault&&u9A.preventDefault(),u9A.preventManipulation&&u9A.preventManipulation(),u9A._prevented=true);};g8A.cancel=function(j9A){j9A&&(j9A.originalEvent&&(j9A=j9A.originalEvent),g8A.stop(j9A),g8A.prevent(j9A));};g8A.blur=function(){var J9A=document.activeElement;J9A.blur&&J9A.blur();};g8A.forward=function(S9A,K9A,b9A){g8A.on(S9A,b9A,function(t9A){g8A.dispatchEvent(K9A,t9A);});};g8A.dispatchEvent=function(f9A,C9A){var N9A=g8A._getChangedPointers(C9A)[0];C9A.touches&&(N9A.touches=C9A.touches);C9A.changedTouches&&(N9A.changedTouches=C9A.changedTouches);f9A.dispatchEvent(Object.assign(new CustomEvent(C9A.type,{bubbles:!!C9A.bubbles,cancelable:!!C9A.cancelable}),N9A));};g8A.supports=function(m9A){var B9A=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window;m9A="on"+m9A;if(m9A in B9A){return true;}B9A.setAttribute||(B9A=document.createElement("div"));if(B9A.setAttribute&&B9A.removeAttribute){B9A.setAttribute(m9A,"");var l9A="function"===typeof B9A[m9A];void 0!==B9A[m9A]&&(B9A[m9A]=null);B9A.removeAttribute(m9A);return l9A;}return false;};g8A.bulk=function(Q9A,z9A){if(Q9A instanceof JSEvent){if(Q9A&&Q9A[z9A]){Q9A[z9A]();}}else{Object.keys(Q9A).forEach(function(D9A){if((D9A=Q9A[D9A])&&D9A[z9A]){D9A[z9A]();}});}};g8A.handlers=g8A.handlers||{};g8A.register=function(d9A,X9A){X9A||console.error(d9A);var W9A=d9A.toLowerCase();g8A.handlers[W9A]=X9A;g8A[d9A]=function(U9A,G9A,e9A){if(!U9A){throw Error("Gesture."+d9A+"() - $target must be defined");}if("function"===typeof G9A){return g8A.on(U9A,d9A,G9A,e9A);}if("undefined"===typeof G9A?false:"object"===E8A(G9A)){return g8A.on(U9A,d9A,function(){},G9A);}U9A.type=d9A;return g8A.on(U9A,d9A);};};try{new self.CustomEvent("test");}catch(F9A){A8A.prototype=self.Event.prototype,self.CustomEvent=A8A;}Gesture.attach=Gesture.on=function(p9A,V9A,P9A,v9A){return q8A(p9A,V9A,P9A,v9A,"attach");};Gesture.prototype.on=function(L9A,R9A,i9A){return q8A(this.target,L9A,R9A,i9A,"attach");};Gesture.detach=Gesture.off=function(a9A,x9A,k9A,w9A){return q8A(a9A,x9A,k9A,w9A,"detach");};Gesture.prototype.off=function(Y9A,A9A,r1A){return q8A(this.target,Y9A,A9A,r1A,"detach");};var X8A=function(){function s1A(I1A){var n1A=false;try{window.addEventListener("test",null,Object.defineProperty({},I1A,{get:function(){n1A=true;}}));}catch(T1A){}return n1A;}return{once:s1A("once"),capture:s1A("capture"),passive:s1A("passive")};}(),O2A=1;JSEvent.on=Gesture.on;JSEvent.off=Gesture.off;h8A.prototype=Object.create(JSEvent.prototype);void function(){var c1A=h8A.prototype;c1A.START=false;c1A.CHANGE=false;c1A.CHANGED=false;c1A.END=false;c1A.DOWN=false;c1A.UP=true;}();void function(){h8A.START=function(){var M1A=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new h8A();M1A.state="start";M1A.START=true;M1A.CHANGE=false;M1A.CHANGED=false;M1A.END=false;M1A.DOWN=true;M1A.UP=false;return M1A;};h8A.CHANGE=function(){var o1A=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new h8A();o1A.state="change";o1A.START=false;o1A.CHANGE=true;o1A.CHANGED=!!o1A.DOWN;o1A.END=false;return o1A;};h8A.END=function(){var O1A=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new h8A();O1A.state="end";O1A.START=false;O1A.CHANGE=false;O1A.END=true;O1A.DOWN=false;O1A.UP=true;return O1A;};h8A.setState=function(g1A,h1A){if("start"===g1A){return h8A.START(h1A);}if("change"===g1A){return h8A.CHANGE(h1A);}if("end"===g1A){return h8A.END(h1A);}};}();global.GEvent=h8A;var W8A=void 0,U8A=void 0;Gesture.asClientXY=function(y1A){y1A.originalEvent&&(y1A=y1A.originalEvent);var H1A=y1A.changedTouches;return H1A?H1A.length?(y1A=Gesture._getCentroid(H1A,"clientX","clientY"),{x:W8A=y1A.x,y:U8A=y1A.y}):{x:W8A,y:U8A}:{x:y1A.clientX,y:y1A.clientY};};var G8A=void 0,e8A=void 0;Gesture.asPageXY=function(q1A){q1A.originalEvent&&(q1A=q1A.originalEvent);var Z1A=q1A.changedTouches;return Z1A?Z1A.length?(q1A=Gesture._getCentroid(Z1A),{x:G8A=q1A.x,y:e8A=q1A.y}):{x:G8A,y:e8A}:{x:q1A.pageX,y:q1A.pageY};};Gesture.pointInNode=function(u1A,E1A){E1A=Gesture._getElementMetrics(E1A);return Gesture._getProjectedPoint(u1A,{bbox:E1A});};Gesture.convertPointFromNode=function(K1A,j1A,J1A){var S1A=j1A.parentNode;j1A=Gesture._getElementMatrix(j1A,S1A).inverse();J1A=Gesture._getElementMatrix(J1A,S1A);var S1A=K1A.x,b1A=K1A.y;K1A=S1A*J1A.m11+b1A*J1A.m21+J1A.m31;J1A=S1A*J1A.m12+b1A*J1A.m22+J1A.m32;j1A=j1A.point3d({x:K1A,y:J1A,z:-(K1A*j1A.m13+J1A*j1A.m23+j1A.m43)/j1A.m33});return{x:j1A.x/j1A.w,y:j1A.y/j1A.w};};var F8A="env pointerId pointerType originalEvent DOWN END CHANGE CHANGED START UP identifier fingers state x y".split(" ");Gesture.copyEvent=function(B1A){for(var C1A=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t1A=0,f1A=F8A.length;t1A<f1A;t1A++){var N1A=F8A[t1A];C1A[N1A]=B1A[N1A];}return C1A;};Gesture._getCentroid=function(d1A){var X1A=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"pageX",W1A=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"pageY",m1A=0,l1A=0,Q1A=d1A.length;if(0===Q1A){return{x:0,y:0};}for(var z1A=0;z1A<Q1A;z1A++){var D1A=d1A[z1A],m1A=m1A+D1A[X1A],l1A=l1A+D1A[W1A];}return{x:m1A/Q1A,y:l1A/Q1A};};var S8A=65535,f8A=Gesture._pointers={};Object.defineProperty(Gesture,"pointerId",{get:function(){return S8A;},set:function(U1A){0<=U1A&&(S8A=U1A);}});Gesture._getChangedPointers=function(G1A,e1A){var F1A=G1A.changedTouches;if(F1A){for(var p1A=[],P1A=F1A.length,v1A=0;v1A<P1A;v1A++){var L1A=F1A[v1A],R1A=g2A(G1A,L1A.identifier),V1A=Gesture._getProjectedPoint(L1A,e1A);o2A(V1A,L1A,"touch");V1A.id=R1A;V1A.pointerId=R1A;p1A.push(V1A);}return p1A;}F1A=parseInt(G1A.pointerId)||1;p1A=G1A.pointerType||"mouse";P1A=g2A(G1A,F1A);e1A=Gesture._getProjectedPoint(G1A,e1A);o2A(e1A,G1A,p1A);e1A.id=P1A;e1A.pointerId=F1A;return[e1A];};var u8A=null;Gesture._getElementMatrix=function(A1A,I4A){if(null===u8A){var a1A;a:{a1A=void 0;a1A=document.documentElement;a1A=getComputedStyle(a1A,"");for(var k1A=["","-moz-","-webkit-","-ms-","-o-"],Y1A=0;Y1A<k1A.length;Y1A++){for(var w1A=k1A[Y1A],x1A=0;x1A<a1A.length;x1A++){if(a1A[x1A]===w1A+"transform"){a1A=w1A;break a;}}}a1A=void 0;}u8A=a1A||"";}for(a1A=new CSSMatrix();A1A&&A1A!==I4A&&A1A!==document;){k1A=getComputedStyle(A1A);if((x1A=k1A.getPropertyValue(u8A+"perspective"))&&"none"!==x1A){w1A=k1A.getPropertyValue(u8A+"perspective-origin").split(" ");Y1A=parseFloat(w1A[0])||0;w1A=parseFloat(w1A[1])||0;x1A=-1/parseFloat(x1A);Number.isFinite(x1A)||(x1A=0);var i1A=new CSSMatrix().translate(Y1A,w1A),i1A=i1A.multiply(new CSSMatrix("matrix3d(1,0,0,0, 0,1,0,0, 0,0,1,"+x1A+", 0,0,0,1)")),i1A=i1A.translate(-Y1A,-w1A);a1A=i1A.multiply(a1A);}var s4A=i1A=0,Y1A=k1A.getPropertyValue("position");"static"!==Y1A&&(i1A+=A1A.offsetLeft||0,s4A+=A1A.offsetTop||0);w1A=A1A===document.body;false===w1A&&(i1A-=A1A.scrollLeft||0,s4A-=A1A.scrollTop||0);if((x1A=k1A.getPropertyValue(u8A+"transform"))&&"none"!==x1A){var r4A=k1A.getPropertyValue(u8A+"transform-origin").split(" "),k1A=parseFloat(r4A[0])||0,n4A=parseFloat(r4A[1])||0,r4A=parseFloat(r4A[2])||0,i1A=new CSSMatrix().translate(k1A+i1A,n4A+s4A,r4A),i1A=i1A.multiply(new CSSMatrix(x1A)),i1A=i1A.translate(-k1A,-n4A,-r4A);a1A=i1A.multiply(a1A);}else{a1A=new CSSMatrix().translate(i1A,s4A).multiply(a1A);}if(w1A){break;}if("fixed"===Y1A){break;}A1A=A1A.parentNode;}return a1A;};Gesture._getElementMetrics=function(o4A){if(o4A===window||o4A===document){o4A=document.body;}var T4A={},M4A=o4A.getBoundingClientRect();T4A.width=M4A.width;T4A.height=M4A.height;T4A.x1=M4A.left;T4A.y1=M4A.top;var c4A=getComputedStyle(o4A);if("border-box"===c4A.getPropertyValue("box-sizing")===false){var M4A=l8A(c4A,"border-left-width"),O4A=l8A(c4A,"border-right-width"),g4A=l8A(c4A,"border-bottom-width"),c4A=l8A(c4A,"border-top-width");T4A.border=[M4A,O4A,c4A,g4A];T4A.x1+=M4A;T4A.y1+=c4A;T4A.width-=O4A+M4A;T4A.height-=g4A+c4A;}T4A.x2=T4A.x1+T4A.width;T4A.y2=T4A.y1+T4A.height;T4A.matrix=Gesture._getElementMatrix(o4A).inverse();T4A.pageXOffset=window.pageXOffset;T4A.pageYOffset=window.pageYOffset;return T4A;};var K8A=Gesture.device={};K8A.mouse=Gesture.supports("mousedown");K8A.pointer=Gesture.supports("pointerdown");K8A.touch=Gesture.supports("touchstart");Gesture._toDomEventSuffix={pointerdown:"start",pointermove:"change",pointerup:"end",touchstart:"start",touchmove:"change",touchend:"end",mousedown:"start",mousemove:"change",mouseup:"end"};Gesture._toDomEventPrefix={pointerdown:"pointer",pointermove:"pointer",pointerup:"pointer",touchstart:"touch",touchmove:"touch",touchend:"touch",mousedown:"mouse",mousemove:"mouse",mouseup:"mouse"};var L8A={pointer:{start:"pointerdown",change:"pointermove",end:"pointerup"},touch:{start:"touchstart",change:"touchmove",end:"touchend"},mouse:{start:"mousedown",change:"mousemove",end:"mouseup"}};Gesture._lookupDomEventType=function(h4A,y4A){if(h4A=L8A[h4A]){return h4A[y4A];}};Gesture._lookupDomEventEquivalencies=function(H4A,E4A){var q4A=Gesture._toDomEventSuffix[H4A];if(q4A&&!E4A){H4A=[];for(var Z4A in K8A){H4A.push(L8A[Z4A][q4A]);}return H4A;}return[H4A];};Gesture._getProjectedPoint=function(J4A,u4A){var j4A=Gesture.asPageXY(J4A);J4A=j4A.x;j4A=j4A.y;if(!u4A){return{x:J4A,y:j4A};}var S4A=u4A.position;if("absolute"===S4A||"page"===S4A){return{x:J4A,y:j4A};}u4A=(u4A.bbox||(u4A.bbox=Gesture._getElementMetrics(u4A.target))).matrix;u4A=u4A.point3d({x:J4A,y:j4A,z:-(J4A*u4A.m13+j4A*u4A.m23+u4A.m43)/u4A.m33});J4A=u4A.x/u4A.w;j4A=u4A.y/u4A.w;0>u4A.x/J4A&&(J4A=0>u4A.x?-16777215:16777215);0>u4A.y/j4A&&(j4A=0>u4A.y?-16777215:16777215);return{x:J4A,y:j4A};};var O8A=h8A.prototype;O8A.intercept=function(K4A){if(null===K4A){K4A=function(){};}else{if("function"!==typeof K4A){return console.error("gevent.intercept(...) `listener` must be a Function or Null."),this;}if(this.listener===K4A){return console.error("gevent.intercept(...) `listener` is already set."),this;}}var b4A=this._listenerStack;b4A[b4A.length-1]!==this.listener&&b4A.push(this.listener);this.listener=K4A;this.listener.call(this.target,this);return this;};O8A.unintercept=function(){var t4A=this._listenerStack;t4A.length&&(this.listener=t4A.pop());};h8A.prototype.isClick=function(){var C4A=0<arguments.length&&void 0!==arguments[0]?arguments[0]:25;return this.END&&this.distance()<=C4A;};h8A.prototype.isDblClick=function(B4A,m4A){var N4A=this._stateDblClick||(this._stateDblClick={});Number.isFinite(B4A)||(B4A=25);Number.isFinite(m4A)||(m4A=500);if(!this.END){return false;}var f4A=N4A.isDblClick,l4A=this.originalEvent;if(l4A===N4A.originalEvent){return f4A;}f4A&&(N4A=this._stateDblClick={});var Q4A=Date.now(),z4A=N4A.start,D4A=N4A.time;N4A.time=Q4A;N4A.start=this.start;N4A.originalEvent=l4A;if(!(f4A||!z4A||Q4A-D4A>m4A)){if(f4A=this.distance(z4A)<=B4A){N4A.isDblClick=true;}return f4A;}};h8A.prototype.isLongPress=function(){var d4A=0<arguments.length&&void 0!==arguments[0]?arguments[0]:12,X4A=1<arguments.length&&void 0!==arguments[1]?arguments[1]:500;return this.distance()<=d4A&&performance.now()-this.startTime>X4A;};O8A=h8A.prototype;O8A.hasMoved=function(W4A,G4A){if(Number.isFinite(W4A+G4A)){var U4A=this.delta(this.start);return Math.abs(U4A.x)>=W4A&&Math.abs(U4A.y)>=G4A;}null==W4A&&(W4A=1);return this.distance()>=W4A;};O8A.delta=function e4A(F4A){var p4A=this.x,V4A=this.y;if(F4A){return{x:p4A-F4A.x,y:V4A-F4A.y};}this.START&&(e4A.x=p4A,e4A.y=V4A);F4A=p4A-e4A.x;var P4A=V4A-e4A.y;e4A.x=p4A;e4A.y=V4A;return{x:F4A,y:P4A};};O8A.getAngle=function(v4A){v4A||(v4A=this.start);return Math.atan2(v4A.y-this.y,v4A.x-this.x);};O8A.distance=function(L4A){L4A||(L4A=this.start);var R4A=L4A.x-this.x;L4A=L4A.y-this.y;return Math.sqrt(R4A*R4A+L4A*L4A);};O8A.signedDistance=function(){var a4A=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,i4A=this.start,k4A=this.start,Y4A=a4A+Math.atan2(i4A.y-this.y,i4A.x-this.x),w4A=2*Math.PI,x4A=Math.cos(a4A)+k4A.x-i4A.x,a4A=Math.sin(a4A)+k4A.y-i4A.y,k4A=((this.x-i4A.x)*x4A+(this.y-i4A.y)*a4A)/(x4A*x4A+a4A*a4A),x4A=this.x-(i4A.x+x4A*k4A),i4A=this.y-(i4A.y+a4A*k4A);return(0>Y4A-w4A*Math.floor((Y4A+w4A/2)/w4A)?-1:1)*Math.sqrt(x4A*x4A+i4A*i4A);};O8A=h8A.prototype;O8A.waitFor=function(M7A){function T7A(q7A){if(q7A){var Z7A=A4A.fingers;Gesture.copyEvent(q7A,A4A);A4A.replaying=true;A4A.listener(A4A);A4A.replaying=false;A4A.fingers=Z7A;}}function H7A(E7A,u7A){E7A&&E7A[u7A]&&T7A(E7A);}function y7A(J7A){var S7A=arguments,j7A=A4A.waitForCleanup();if(j7A.length){return n7A.promise=Promise.all(j7A).then(function(){return y7A.apply(void 0,S7A);});}if(g7A){return A4A.listener=o7A,c7A?I7A.forEach(function(K7A,b7A,t7A){c7A(K7A,b7A,t7A)&&T7A(K7A);}):I7A.forEach(T7A),J7A;}A4A.listener=O7A;H7A(I7A.shift(),"START");T7A(I7A.pop());return J7A;}function h7A(C7A){"function"===typeof C7A?o7A=C7A:("undefined"===typeof C7A?false:"object"===E8A(C7A))&&("function"===typeof C7A.filter&&(c7A=C7A.filter),"function"===typeof C7A.handler&&(o7A=C7A.handler));g7A=true;return r7A;}var A4A=this,n7A=A4A._stateWaitFor||(A4A._stateWaitFor={pending:[],promise:null}),s7A=void 0,r7A=void 0;if("function"===typeof M7A){s7A=M7A,r7A=new Promise(function(N7A){return s7A.resolve=N7A;});}else if(M7A.then){r7A=M7A;}else{return r7A=Promise.reject("waitFor(condition) `condition` must be a Promise or Function."),r7A.thenReplay=h7A,r7A;}if(n7A.promise){return n7A.pending.push(r7A),n7A.promise;}var I7A=[],O7A=A4A.listener,g7A=false,c7A=null,o7A=O7A;A4A.intercept(function(f7A){f7A.prevent();I7A.push(Gesture.copyEvent(f7A));(f7A=s7A&&s7A(f7A))&&(f7A.then?f7A.then(s7A.resolve):s7A.resolve());});r7A=r7A.then(y7A);r7A.thenReplay=h7A;return n7A.promise=r7A;};O8A.waitForCleanup=function(){var B7A=this._stateWaitFor;if(!B7A){return[];}B7A.promise=null;return B7A.pending.splice(0);};Gesture._create=function(m7A){var l7A=new h8A();m7A.doc=m7A.target.ownerDocument||m7A.target;m7A.maxFingers=m7A.maxFingers||m7A.fingers||Infinity;m7A.minFingers=m7A.minFingers||m7A.fingers||1;m7A.position=m7A.position||"element";m7A.target=m7A.target||window;m7A.pointers={};m7A.gevent=l7A;l7A.listener=m7A.listener;l7A.target=m7A.target;l7A.fingers=0;m7A.type&&(l7A.type=m7A.type);m7A.uid&&(l7A.uid=m7A.uid);q2A(l7A,m7A);l7A.asClientXY=function(){return Gesture.asClientXY(l7A.originalEvent);};l7A.asPageXY=function(){return Gesture.asPageXY(l7A.originalEvent);};l7A.elementFromPoint=function(Q7A){return sketch.dom.elementFromPoint(l7A.asClientXY(),Q7A);};l7A.resetPointer=function(D7A){var z7A=m7A.pointers||{};z7A[D7A]&&(delete z7A[D7A],l7A.fingers--);};l7A.resetPointers=function(){m7A.pointers={};l7A.fingers=0;};l7A.resetBoundingBox=function(){l7A.bbox=m7A.bbox=Gesture._getElementMetrics(l7A.target);var d7A=m7A.pointers||{},X7A;for(X7A in d7A){s2A(m7A,d7A[X7A]);}};m7A.getEventType=function(W7A){return Gesture._lookupDomEventType(m7A.domEventTypePrefix,W7A);};return l7A;};Gesture._pointerStart=function(R7A,G7A){var U7A=G7A.gevent;U7A.originalEvent=R7A;U7A.startTime=performance.now();var p7A,F7A=Gesture._toDomEventPrefix[R7A.type],v7A=U7A.fingers;if(v7A){var e7A;p7A=(e7A=Gesture)._getChangedPointers.apply(e7A,arguments);}else{var V7A;U7A.env={};U7A.fingers=0;U7A.listener=G7A.listener;U7A._listenerStack=[];U7A.resetBoundingBox();p7A=(V7A=Gesture)._getChangedPointers.apply(V7A,arguments);G7A.pointers={};H2A(G7A,p7A,F7A);}if(G7A.domEventTypePrefix!==F7A){return null;}F7A=G7A.pointers;e7A=0;for(V7A=p7A.length;e7A<V7A;e7A++){var L7A=p7A[e7A],P7A=L7A.id;F7A[P7A]||U7A.fingers>=G7A.maxFingers||(U7A.fingers++,G7A.pointers[P7A]={},Gesture._startPointer(G7A,L7A,P7A));}U7A.id=Object.keys(G7A.pointers).join(",");U7A.waitForCleanup();return!v7A&&U7A.fingers;};Gesture.isMouse=false;Gesture.isTouch=false;Gesture.isPen=false;Gesture._startPointer=function(a7A,x7A,i7A){var w7A=a7A.gevent;i7A=a7A.pointers[i7A];var k7A=i7A.startX=x7A.x;x7A=i7A.startY=x7A.y;s2A(a7A,i7A);k7A-=i7A.offsetX;x7A-=i7A.offsetY;a7A=w7A.startTime;i7A.rotation=0;i7A.scale=1;i7A.end={x:k7A,y:x7A,time:a7A};i7A.start={x:k7A,y:x7A,time:a7A};return i7A;};Gesture._allPointersReleased=function(A7A,I6A,g6A){for(var r6A=I6A.gevent,s6A=I6A.pointers,Y7A=A7A.touches||[],c6A=Y7A.length,M6A={},n6A=0;n6A<c6A;n6A++){var O6A=Y7A[n6A].identifier,T6A=Gesture._pointers[O6A];T6A?M6A[T6A.pointerId]=true:console.warn(O6A);}for(var o6A in s6A){Y7A=s6A[o6A],Y7A.up||M6A[o6A]||(g6A&&g6A(A7A,"end"),Y7A.up=true,r6A.fingers--);}if(c6A){return false;}A7A=Object.keys(s6A);r6A.fingers=0;I6A.gestureFingers=A7A.length;r6A.id=A7A.join(",");return true;};var M2A={capture:true,passive:false,strict:true};Gesture.register("click",function(h6A){function H6A(Z6A){Gesture._pointerStart(Z6A,h6A)&&(h6A._pointerEnd=Gesture.on(window,h6A.getEventType("end"),q6A,M2A));}function q6A(E6A){y6A.isTouch&&y6A.isClick()&&y6A.prevent();if(Gesture._allPointersReleased(E6A,h6A)){h6A._pointerEnd.detach();var u6A=Gesture._getChangedPointers(E6A,h6A).shift();E6A=h6A.bbox;var J6A=Gesture._getElementMetrics(h6A.target),j6A=u6A.pageY-J6A.pageYOffset,u6A=u6A.pageX-J6A.pageXOffset;if(u6A>E6A.x1&&j6A>E6A.y1&&u6A<E6A.x2&&j6A<E6A.y2){E6A=h6A.pointers;for(var S6A in E6A){if(j6A=E6A[S6A]){y6A.x=j6A.start.x;y6A.y=j6A.start.y;break;}}y6A.state="click";y6A.listener.call(y6A.target,y6A);}}}h6A.type="click";h6A.maxFingers=h6A.maxFingers||h6A.fingers||1;h6A.onPointerStart=H6A;h6A.onPointerEnd=q6A;h6A._pointerStart=Gesture.on(h6A.target,"mousedown",H6A);var y6A=Gesture._create(h6A);return y6A;});Gesture.register("dblclick",n2A);Gesture.register("dbltap",n2A);var i8A={capture:true,passive:false,strict:true};Gesture.register("drag",function(b6A){function C6A(W6A){K6A.originalEvent=W6A;var d6A=K6A.isTouch;false!==b6A.preventDefault?d6A?K6A.START||K6A.END?K6A.prevent():K6A.cancel():K6A.prevent():d6A&&K6A.isClick()&&K6A.prevent();W6A=Gesture._getChangedPointers(W6A,b6A);for(var d6A=0,G6A=W6A.length;d6A<G6A;d6A++){var U6A=W6A[d6A],X6A=b6A.pointers[U6A.id];X6A&&(Object.assign(K6A,U6A),K6A.start=X6A.start,K6A.x=U6A.x-X6A.offsetX,K6A.y=U6A.y-X6A.offsetY,K6A.HOVER=t6A&&!K6A.CHANGED&&!K6A.DOWN&&!K6A.END,Q6A&&(X6A.offsetX=x,X6A.offsetY=y),b6A.listenerProxy?b6A.listenerProxy.call(K6A.target,K6A):K6A.listener.call(K6A.target,K6A));}}function z6A(F6A){var e6A=Gesture._pointerStart(F6A,b6A);null!==e6A&&(e6A&&(b6A._pointerChange&&b6A._pointerChange.detach(),b6A._pointerChange=Gesture.on(window,b6A.getEventType("change"),N6A,i8A),b6A._pointerEnd=Gesture.on(window,b6A.getEventType("end"),D6A,i8A)),C6A(F6A));}function l6A(){K6A.attached&&(b6A._pointerChange=Gesture.on(B6A,"mousemove",N6A,b6A.options));}function f6A(p6A){K6A.UP&&(GEvent.START(K6A),t6A&&(K6A.resetPointer(b6A.hoverId),b6A.hoverId=void 0),z6A(p6A));}function N6A(V6A){GEvent.CHANGE(K6A);K6A.fingers?C6A(V6A):t6A&&(z6A(V6A),b6A.hoverId=K6A.id);}function D6A(P6A){GEvent.END(K6A);Gesture._allPointersReleased(P6A,b6A,C6A)&&(b6A._pointerChange.detach(),b6A._pointerEnd.detach(),t6A&&l6A());}var B6A=b6A.target,K6A=Gesture._create(b6A),m6A=b6A.event,t6A=!!b6A.monitor,Q6A="differenceFromLast"===b6A.position;b6A.type="drag";b6A.onPointerStart=f6A;b6A.onPointerChange=N6A;b6A.onPointerEnd=D6A;t6A&&l6A();m6A?f6A(m6A):b6A._pointerStart=Gesture.on(B6A,"mousedown",f6A,b6A.options);K6A.updateScrollAndEmitUpdate=function(){K6A.resetBoundingBox();C6A(K6A.originalEvent);};return K6A;});Gesture.register("dragOrScaleRotate",function(v6A){var x6A=v6A.drag,k6A=v6A.gesture,L6A=v6A.target,R6A=[];v6A=null;var a6A={};if(Gesture.device.touch){v6A=JSEvent.Group(a6A);v6A.target=L6A;v6A.type="dragOrScaleRotate";var i6A=a6A.drag=Gesture.on(L6A,Object.assign({},x6A,{type:"drag",listenerProxy:function(Y6A){Y6A.START&&(R6A=[]);if(Y6A.env.isDrag||10<=Y6A.distance()||Y6A.END){Y6A.env.isDrag=true;w6A.detach();var r8M=R6A.length;if(r8M){for(var s8M=Gesture.copyEvent(Y6A),A6A=0;A6A<r8M;A6A++){Gesture.copyEvent(R6A[A6A],Y6A),i6A.listener.call(L6A,Y6A);}Gesture.copyEvent(s8M,Y6A);R6A=[];}i6A.listener.call(L6A,Y6A);}else{R6A.push(Gesture.copyEvent(Y6A));}Y6A.END&&w6A.attach();}})),w6A=a6A.gesture=Gesture.on(L6A,Object.assign({},k6A,{type:"gesture",listener:function(n8M){n8M.START&&i6A.detach();n8M.END&&i6A.attach();k6A.listener.call(n8M.target,n8M);}}));return v6A;}v6A=new JSEvent(x6A);v6A.target=L6A;return Gesture.handlers.drag(v6A);});var a8A={capture:true,passive:false,strict:true},x8A=Math.PI/180;Gesture.register("gesture",function(T8M){function c8M(O8M){var g8M=I8M.fingers;O8M=Gesture._pointerStart(O8M,T8M);null!==O8M&&(O8M&&(T8M._pointerChange=Gesture.on(window,T8M.getEventType("change"),M8M,a8A),T8M._pointerEnd=Gesture.on(window,T8M.getEventType("end"),o8M,a8A)),I8M.fingers!==g8M&&I8M.fingers===T8M.minFingers&&(GEvent.START(I8M),I2A(I8M,T8M.pointers),g8M=I8M.fingers,I8M.fingers=T8M.minFingers,I8M.id=Object.keys(T8M.pointers).join(","),I8M.rotation=0,I8M.scale=1,I8M.listener.call(I8M.target,I8M),I8M.fingers=g8M));}function M8M(E8M){var u8M=T8M.pointers;E8M=Gesture._getChangedPointers(E8M,T8M);for(var H8M=0,j8M=E8M.length;H8M<j8M;H8M++){var h8M=E8M[H8M],y8M=u8M[h8M.id];y8M&&(y8M.end.x=h8M.x-y8M.offsetX,y8M.end.y=h8M.y-y8M.offsetY);}if(!(I8M.fingers<T8M.minFingers)){I2A(I8M,u8M);E8M=j8M=0;var H8M=[],J8M;for(J8M in u8M){if(h8M=u8M[J8M],!h8M.up&&(y8M=h8M.start,y8M.x!==I8M.x||y8M.y!==I8M.y)){if(null==y8M.distance){var q8M=y8M.x-I8M.x,Z8M=y8M.y-I8M.y;y8M.distance=Math.sqrt(q8M*q8M+Z8M*Z8M);y8M.angle=Math.atan2(q8M,Z8M)/x8A;}q8M=h8M.end.x-I8M.x;Z8M=h8M.end.y-I8M.y;j8M+=Math.sqrt(q8M*q8M+Z8M*Z8M)/y8M.distance;y8M=(y8M.angle-Math.atan2(q8M,Z8M)/x8A+360)%360-180;h8M.DEG2=h8M.DEG1;h8M.DEG1=0<y8M?y8M:-y8M;h8M.DEG2===+h8M.DEG2&&(h8M.rotation=0<y8M?h8M.rotation+(h8M.DEG1-h8M.DEG2):h8M.rotation-(h8M.DEG1-h8M.DEG2),E8M+=h8M.rotation);H8M.push(h8M.end);}}GEvent.CHANGE(I8M);u8M=j8M/I8M.fingers;I8M.rotation=.8*I8M.rotation+E8M/I8M.fingers*0.19999999999999996;I8M.scale=.8*I8M.scale+0.19999999999999996*u8M;I8M.touches=H8M;I8M.listener.call(I8M.target,I8M);}}function o8M(S8M){Gesture._allPointersReleased(S8M,T8M)&&(T8M._pointerChange.detach(),T8M._pointerEnd.detach());!I8M.UP&&I8M.fingers<T8M.minFingers&&(GEvent.END(I8M),I8M.listener.call(I8M.target,I8M));}T8M.type="gesture";T8M.minFingers=Math.max(T8M.minFingers||T8M.fingers||2,2);T8M.onPointerStart=c8M;T8M.onPointerChange=M8M;T8M.onPointerEnd=o8M;T8M._pointerStart=Gesture.on(T8M.target,"mousedown",c8M);var I8M=Gesture._create(T8M);return I8M;});Gesture.register("hover",function(K8M){function t8M(){clearTimeout(C8M);global.clearInterval(N8M);}function f8M(){var m8M=performance.now()-b8M.startTime;m8M>K8M.timeout?t8M():(b8M.state="hover",b8M.iteration=B8M++,b8M.lapse=m8M,b8M.listener.call(b8M.target,b8M));}K8M.type="hover";K8M.maxFingers=K8M.maxFingers||K8M.fingers||1;K8M.delay=0<=K8M.delay?K8M.delay:150;K8M.interval=K8M.interval||0;K8M.timeout=K8M.timeout||1E4;var C8M=void 0,N8M=void 0,B8M=0;K8M.onPointerOver=function(l8M){Gesture._pointerStart(l8M,K8M)&&(K8M._pointerOut=Gesture.on(K8M.target,"mouseout",K8M.onPointerOut),t8M(),C8M=setTimeout(function(){K8M.interval?N8M=global.setInterval(f8M,K8M.interval):f8M();},K8M.delay));};K8M.onPointerOut=function(Q8M){Gesture._allPointersReleased(Q8M,K8M)&&(K8M._pointerOut.detach(),t8M());};K8M._pointerOver=Gesture.on(K8M.target,"mouseover",K8M.onPointerOver);var b8M=Gesture._create(K8M);return b8M;});Gesture.register("shake",function(X8M){function p8M(P8M){P8M=P8M.accelerationIncludingGravity;D8M.x=.8*D8M.x+0.19999999999999996*P8M.x;D8M.y=.8*D8M.y+0.19999999999999996*P8M.y;D8M.z=.8*D8M.z+0.19999999999999996*P8M.z;z8M.accelerationIncludingGravity=D8M;z8M.acceleration.x=P8M.x-D8M.x;z8M.acceleration.y=P8M.y-D8M.y;z8M.acceleration.z=P8M.z-D8M.z;if("devicemotion"===X8M.type){z8M.listener.call(z8M.target,z8M);}else{P8M=performance.now();for(var R8M=0;3>R8M;R8M++){var V8M="xyz"[R8M],v8M=z8M.acceleration[V8M],V8M=U8M[V8M],L8M=Math.abs(v8M);!(P8M-d8M<G8M)&&L8M>W8M&&(v8M=P8M*v8M/L8M,L8M=Math.abs(v8M+V8M.value),V8M.value&&L8M<e8M?(V8M.value=v8M,V8M.count++,V8M.count===F8M&&(z8M.listener.call(z8M.target,z8M),d8M=P8M,V8M.value=0,V8M.count=0)):(V8M.value=v8M,V8M.count=1));}}}var z8M=new JSEvent({gesture:"devicemotion",acceleration:{},accelerationIncludingGravity:{},target:X8M.target,listener:X8M.listener,attach:function(){},detach:function(){global.removeEventListener("devicemotion",p8M,false);}}),d8M=performance.now(),W8M=4,G8M=1E3,e8M=200,F8M=3,D8M={x:0,y:0,z:0},U8M={x:{count:0,value:0},y:{count:0,value:0},z:{count:0,value:0}};if(global.addEventListener){return global.addEventListener("devicemotion",p8M,false),z8M;}});Gesture.register("swipe",function(i8M){function w8M(r2M){Gesture._pointerStart(r2M,i8M)&&(i8M._pointerChange=Gesture.on(A8M,"mousemove",x8M,k8M),i8M._pointerEnd=Gesture.on(window,"mouseup",Y8M,k8M),x8M(r2M));}function x8M(n2M){var c2M=performance.now();n2M=Gesture._getChangedPointers(n2M,i8M);for(var I2M=0,M2M=n2M.length;I2M<M2M;I2M++){var T2M=n2M[I2M],s2M=i8M.pointers[T2M.id];s2M&&(s2M.end.x=T2M.x-s2M.offsetX,s2M.end.y=T2M.y-s2M.offsetY,s2M.end.time=c2M,s2M.timeOfLastPointerChange=c2M);}}function Y8M(y2M){if(Gesture._allPointersReleased(y2M,i8M)){i8M._pointerChange.detach();i8M._pointerEnd.detach();y2M=void 0;var q2M=null,o2M={x:0,y:0},u2M=0,E2M=0,J2M=performance.now(),S2M=i8M.pointers,h2M;for(h2M in S2M){var O2M=S2M[h2M],Z2M=O2M.end.time-O2M.start.time;if(150<J2M-O2M.timeOfLastPointerChange){return;}var g2M=O2M.end.x,j2M=O2M.end.y,u2M=u2M+g2M,E2M=E2M+j2M,H2M=O2M.start.x,O2M=O2M.start.y;o2M.x+=H2M;o2M.y+=O2M;g2M-=H2M;H2M=j2M-O2M;j2M=Math.sqrt(g2M*g2M+H2M*H2M);g2M=180*Math.atan2(g2M,H2M)/Math.PI;Z2M=Z2M?j2M/Z2M:0;if(null===q2M){q2M=g2M,y2M=Z2M;}else if(15>=Math.abs(g2M-q2M)){q2M=(q2M+g2M)/2,y2M=(y2M+Z2M)/2;}else{return;}}h2M=i8M.gestureFingers;!(h2M<i8M.minFingers||h2M>i8M.maxFingers)&&y2M>i8M.threshold&&(J2M=a8M.fingers,o2M.x/=h2M,o2M.y/=h2M,a8M.start=o2M,a8M.x=u2M/h2M,a8M.y=E2M/h2M,o2M=i8M.angleSnap,o2M=Math.abs(o2M||1),o2M=1/o2M,a8M.angle=Math.round(q2M*o2M)/o2M,a8M.velocity=y2M,a8M.fingers=h2M,a8M.state="swipe",a8M.listener.call(a8M.target,a8M),a8M.fingers=J2M);}}var a8M=Gesture._create(i8M),A8M=i8M.doc,k8M={capture:true,passive:false};i8M.type="swipe";i8M.angleSnap=i8M.angleSnap||90;i8M.threshold=Number.isFinite(i8M.threshold)?i8M.threshold:.75;i8M.onPointerStart=w8M;i8M.onPointerChange=x8M;i8M.onPointerEnd=Y8M;i8M._pointerStart=Gesture.on(i8M.target,"mousedown",w8M);return a8M;});var Q8A={capture:true,passive:false};Gesture.register("taphold",function(K2M){function Q2M(z2M){Gesture._allPointersReleased(z2M,K2M)&&f2M();}function l2M(){N2M();K2M.interval&&(C2M=global.setInterval(N2M,K2M.interval));}function N2M(){var D2M=0,d2M=void 0,X2M=K2M.pointers,W2M;for(W2M in X2M){d2M=X2M[W2M];if(d2M.up){return;}D2M++;}D2M<K2M.minFingers||D2M>K2M.maxFingers||(X2M=b2M.fingers,b2M.state="taphold",b2M.fingers=D2M,b2M.iteration=m2M++,b2M.x=d2M.start.x,b2M.y=d2M.start.y,b2M.originalEvent=event,b2M.listener.call(b2M.target,b2M),b2M.fingers=X2M);}function f2M(){global.clearInterval(C2M);clearTimeout(t2M);d8A(K2M);}K2M.type="taphold";K2M.delay=0<=K2M.delay?K2M.delay:500;K2M.interval=K2M.interval||0;K2M.driftDeviance=K2M.driftDeviance||12;K2M._pointerStart=Gesture.on(K2M.target,"mousedown",function(U2M){Gesture._pointerStart(U2M,K2M)&&(t2M=setTimeout(l2M,K2M.delay),K2M._pointerEnd=Gesture.on(window,"mouseup",Q2M,Q8A),K2M._pointerChange=Gesture.on(window,"mousemove",B2M,Q8A),K2M._pointerChange.listener.call(b2M.target,U2M));});var t2M=void 0,C2M=void 0,m2M=0,B2M=T2A(K2M,f2M),b2M=Gesture._create(K2M);return b2M;});Gesture.register("tap",function(G2M){function V2M(v2M){if(Gesture._allPointersReleased(v2M,G2M)&&(d8A(G2M),!(performance.now()-F2M>G2M.timeout))){var P2M=G2M.gestureFingers;P2M<G2M.minFingers||P2M>G2M.maxFingers||(P2M=e2M.fingers,e2M.state="tap",e2M.fingers=G2M.gestureFingers,e2M.originalEvent=v2M,e2M.listener.call(e2M.target,e2M),e2M.fingers=P2M);}}G2M.type="tap";G2M.driftDeviance=G2M.driftDeviance||12;G2M.timeout=G2M.timeout||250;G2M._pointerStart=Gesture.on(G2M.target,"mousedown",function(L2M){Gesture._pointerStart(L2M,G2M)&&(F2M=performance.now(),G2M._pointerEnd=Gesture.on(G2M.doc,"mouseup",V2M,true),G2M._pointerChange=Gesture.on(G2M.doc,"mousemove",p2M,true),G2M._pointerChange.listener.call(e2M.target,L2M));});var F2M=void 0,p2M=T2A(G2M,d8A),e2M=Gesture._create(G2M);return e2M;});Gesture.register("wheel",function(a2M){function w2M(s0M){GEvent.setState(Y2M++?"change":"start",R2M);var n0M=s0M.deltaX,I0M=s0M.deltaY,T0M=s0M.deltaZ;Number.isFinite(n0M+I0M+T0M)?(R2M.deltaX=n0M,R2M.deltaY=I0M,R2M.deltaZ=T0M):(R2M.deltaX=-s0M.wheelDeltaX/3,R2M.deltaY=-s0M.wheelDeltaY/3,R2M.deltaZ=0);R2M.deltaMode=s0M.deltaMode||0;R2M.originalEvent=s0M;R2M.listener.call(i2M,R2M);clearTimeout(A2M);A2M=setTimeout(function(){GEvent.END(R2M);Y2M=0;R2M.deltaX=0;R2M.deltaY=0;R2M.deltaZ=0;R2M.listener.call(i2M,R2M);},r0M);}var i2M=a2M.target,x2M=Gesture.supports("mousewheel")?"mousewheel":"DOMMouseScroll",r0M=a2M.timeout||150,k2M=!!a2M.capture,Y2M=0,A2M=void 0,R2M=new JSEvent({gesture:"wheel",deltaX:0,deltaY:0,deltaZ:0,deltaMode:0,target:i2M,listener:a2M.listener,asPageXY:function(){return Gesture.asPageXY(R2M.originalEvent);},asClientXY:function(){return Gesture.asClientXY(R2M.originalEvent);},attach:function(){i2M.addEventListener(x2M,w2M,k2M);return R2M;},detach:function(){i2M.removeEventListener(x2M,w2M,k2M);}});i2M.addEventListener(x2M,w2M,k2M);return R2M;});window.Keyster={};for(var C8A={},b8A={16:true,17:true,18:true},B8A={"\u21e7":16,"\u2318":91,"\u2325":18,alt:18,cmd:91,command:91,control:17,ctrl:17,meta:91,opt:18,option:18,shift:16},z8A={},R8A={},y8A={8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"PauseBreak",20:"CapsLock",27:"Escape",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Delete",91:"LeftWindow",92:"RightWindow",93:"Select",106:"Multiply",107:"Add",109:"Subtract",110:"DecimalPoint",111:"Divide",144:"NumLock",145:"ScrollLock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},O8A=47;95>=O8A;O8A++){y8A[O8A]=String.fromCharCode(O8A);}for(O8A=96;105>=O8A;O8A++){y8A[O8A]="Numpad"+(O8A-96);}for(O8A=112;123>=O8A;O8A++){y8A[O8A]="F"+(O8A-111);}p8A(y8A,z8A);p8A(y8A,R8A,true);p8A(B8A,{});var H8A={},J8A=void 0;void function(){var M0M=navigator.userAgent.toLowerCase(),o0M=-1!==M0M.indexOf("macintosh");o0M&&-1!==M0M.indexOf("khtml")?(H8A[91]=true,H8A[93]=true):o0M&&-1!==M0M.indexOf("firefox")?(H8A[224]=true,y8A[173]=y8A[189],y8A[61]=y8A[187],y8A[59]=y8A[186],delete y8A[189],delete y8A[187],delete y8A[186]):H8A[17]=true;for(var c0M in H8A){c0M=parseInt(c0M),y8A[c0M]="Meta",B8A.meta=c0M,b8A[c0M]=true,J8A=c0M;}}();var k8A=1;Keyster.status=Z8A;Keyster.isDown=function(O0M){return Z8A(v8A(O0M)).DOWN;};Keyster.isUp=function(g0M){return Z8A(v8A(g0M)).UP;};Keyster.on=V8A;Keyster.off=P8A;Keyster.reset=function(){Keyster.alt=false;Keyster.ctrl=false;Keyster.meta=false;Keyster.shift=false;};Keyster.track=function(y0M){var Z0M="keydown"===y0M.type,H0M=y0M.keyCode;Keyster.alt=y0M.altKey;Keyster.ctrl=y0M.ctrlKey;Keyster.shift=y0M.shiftKey;H8A[H0M]&&(Keyster.meta=Z0M,H0M=J8A);var E0M=Date.now(),h0M=Z8A(H0M),q0M="end";Z0M&&(h0M.START&&Keyster.meta&&500>=E0M-h0M.timestamp?(D8A(y0M,h0M,"end"),q0M="start"):q0M=h0M.END?"start":"change");h0M.id=y8A[H0M]||String.fromCharCode(H0M);h0M.originalEvent=y0M;h0M.timestamp=E0M;D8A(y0M,h0M,q0M);};Keyster.alt=false;Keyster.ctrl=false;Keyster.meta=false;Keyster.shift=false;Keyster._metaKeys=H8A;Keyster._state=C8A;Keyster.keyCodeToName=function(u0M){return y8A[u0M]||String.fromCharCode(u0M);};Keyster.isInputFocused=function(){var j0M=document.activeElement;if(!j0M){return false;}var J0M=j0M.nodeName;return"INPUT"===J0M||"TEXTAREA"===J0M||"true"===j0M.contentEditable?j0M.classList.contains("keyster-ignore")?false:j0M:false;};}();void function(){function t0M(N0M){return N0M.replace(/[\s\S]/g,function(f0M){f0M=f0M.charCodeAt().toString(16);var B0M=2<f0M.length;return(B0M?'\\u':'\\x')+("0000"+f0M).slice(B0M?-4:-2);});}function S0M(m0M){return m0M.replace(/([^:]\/)\/+/g,"$1").replace(/\/[^\/]*$/,"");}function K0M(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").replace(/^.*[\\\/]/,"");}var b0M={rxAlphaNumeric:/[^A-Z0-9]+/gi,rxFile:/[^\w\s-.]+/g},C0M=Object.freeze({invalid:function(){return!!(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").match(b0M[arguments[1]]);},toID:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").replace(/[^a-z0-9]/g,function(Q0M){var l0M=Q0M.charCodeAt(0);return 32===l0M?"-":65<=l0M&&90>=l0M?"_"+Q0M.toLowerCase():t0M(Q0M).replace("\\","_");});},escape:t0M,replaceAll:function(){var z0M=arguments[2];return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").split(arguments[1]).join(z0M);},toAlphaNumeric:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").replace(b0M.rxAlphaNumeric,"");},decamelize:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z])([a-z])/g," $1$2").replace(/\ +/g," ").trim();},camelize:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").replace(/[- ]([a-zA-Z])/g,function(D0M){return D0M[1].toUpperCase();});},dasherize:function(d0M){return d0M.trim().replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase();},enquote:function(X0M){return"&ldquo;"+X0M+"&rdquo;";},hellip:function(W0M,U0M){return W0M<=U0M?W0M:W0M.substr(0,U0M-3)+String.fromCharCode(8230);},lcfirst:function(){var G0M=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return G0M.length?G0M[0].toLowerCase()+G0M.substr(1):G0M;},ucfirst:function(){var e0M=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return e0M[0]?e0M[0].toUpperCase()+e0M.substr(1):e0M;},ucwords:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").replace(/^(.)|\s(.)/g,function(F0M){return F0M.toUpperCase();});},addslashes:function(p0M){return p0M.replace(/([\\"'])/g,"\\$1").replace(/\0/g,"\\0");},stripslashes:function(V0M){return V0M.replace(/\0/g,"0").replace(/\\([\\'"])/g,"$1");},dirpath:S0M,dirparent:function(P0M){return S0M(P0M.replace(/\/+$/,""));},dirname:function(v0M){return K0M(S0M(v0M));},filename:K0M,filenameSansExtension:function(L0M){L0M=K0M(L0M).split(".");L0M.pop();return L0M.join(".");},extension:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").split(".").pop().toLowerCase();},trimLeft:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").replace(new RegExp(1<arguments.length&&void 0!==arguments[1]?"^["+arguments[1]+"]+":'^[s]+',"g"),"");},trimRight:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").replace(new RegExp(1<arguments.length&&void 0!==arguments[1]?"["+arguments[1]+"]+$":'[s]+$',"g"),"");},trim:function(){var R0M=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"s";return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").replace(new RegExp("^["+R0M+"]+|["+R0M+"]+$","g"),"");},lpad:function(i0M,a0M,x0M){for(;i0M.length<x0M;){i0M=a0M+i0M;}return i0M;},rpad:function(k0M,w0M,Y0M){for(;k0M.length<Y0M;){k0M+=w0M;}return k0M;}});sketch.string=C0M;}();void function(){function T3M(){function g3M(H3M,y3M){if("function"!==typeof y3M){console.error(H3M+" listener is undefined");}else{return y3M=y3M._emitterId||(y3M._emitterId=n3M++),H3M+"."+y3M;}}function h3M(E3M){function Z3M(){var u3M=false,j3M;for(j3M in q3M){q3M[j3M].apply(M3M,arguments)&&(u3M=true);}return u3M;}var q3M={};Z3M.attach=function(S3M){var J3M=g3M(E3M,S3M);!q3M[J3M]&&S3M&&(q3M[J3M]=S3M);return{attach:function(){q3M[J3M]=S3M;},detach:function(){delete q3M[J3M];}};};Z3M.detach=function(b3M){var K3M=g3M(E3M,b3M);q3M[K3M]&&b3M&&delete q3M[K3M];};Z3M.stack=q3M;return Z3M;}var M3M=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(M3M.on||M3M.off||M3M.emit){return M3M;}var O3M={},o3M={};M3M.on=function(t3M,C3M){O3M[t3M]&&C3M.apply(void 0,s3M(O3M[t3M]));t3M=(o3M[t3M]?o3M[t3M]:o3M[t3M]=h3M(t3M)).attach(C3M);C3M=this.then?this.on&&this.off&&this.emit?this:EventEmitter(this):{};C3M.add=t3M.attach;C3M.remove=t3M.detach;C3M.attach=t3M.attach;C3M.detach=t3M.detach;C3M.on=this.on;C3M.off=this.off;C3M.emit=this.emit;return C3M;};M3M.on.once=function(f3M,B3M){var N3M=void 0;return N3M=M3M.on(f3M,function(){B3M.apply(void 0,arguments);N3M.detach();});};M3M.on.handlers=o3M;M3M.off=function(m3M,l3M){l3M?(o3M[m3M]?o3M[m3M]:o3M[m3M]=h3M(m3M)).detach(l3M):delete o3M[m3M];};M3M.emit=function(D3M){var Q3M=o3M[D3M];if(Q3M){var z3M=Array.prototype.slice.call(arguments).slice(1);return Q3M.apply(M3M,z3M);}};M3M.emit.andNotifyNewHandlers=function(d3M){O3M[d3M]=arguments;M3M.emit.apply(M3M,arguments);};M3M.emit.promiseRequest=function(X3M){return new Promise(function(W3M,U3M){return M3M.emit(X3M,W3M,U3M);});};return M3M;}function A0M(G3M){if(G3M){return"string"===typeof G3M&&(G3M=[G3M]),G3M.reduce(function(e3M,F3M){return Galactic.isDefined(F3M)?e3M:false;},true);}}function c3M(P3M,L3M,R3M,i3M,a3M,x3M){function v3M(){if(!V3M){var k3M=p3M.readyState;if(!k3M||/loaded|complete/.test(k3M)){V3M=true,a3M(),p3M.onload=p3M.onreadystatechange=null;}}}var V3M=false,p3M=P3M.createElement("script");p3M.src=L3M;p3M.async=i3M;p3M.type=R3M;p3M.onerror=x3M;p3M.onload=v3M;p3M.onreadystatechange=v3M;P3M.head.appendChild(p3M);}function r3M(Y3M,A3M,r5M,s5M,n5M){var w3M=Y3M.createElement("link");w3M.href=A3M;w3M.setAttribute("crossorigin","anonymous");w3M.setAttribute("rel","stylesheet");w3M.setAttribute("type",r5M);w3M.addEventListener("error",n5M);w3M.addEventListener("load",function(){return s5M();});Y3M.head.appendChild(w3M);}var s3M=function(I5M){if(Array.isArray(I5M)){for(var T5M=0,c5M=Array(I5M.length);T5M<I5M.length;T5M++){c5M[T5M]=I5M[T5M];}return c5M;}return Array.from(I5M);},n3M=1,I3M=function(){function o5M(h5M,y5M,H5M){var g5M=(3<arguments.length&&void 0!==arguments[3]?arguments[3]:{}).onProgress,O5M=void 0;if(O5M=M5M[h5M]){if(O5M.on("resolve",y5M),O5M.on("reject",H5M),g5M){O5M.on("onProgress",g5M);}}else{return O5M=M5M[h5M]=T3M(),{onProgress:function(){var q5M;g5M&&g5M.apply(void 0,arguments);(q5M=O5M).emit.apply(q5M,["onProgress"].concat(Array.prototype.slice.call(arguments)));},resolve:function(){var Z5M;y5M.apply(void 0,arguments);(Z5M=O5M).emit.apply(Z5M,["resolve"].concat(Array.prototype.slice.call(arguments)));delete M5M[h5M];},reject:function(){var E5M;H5M.apply(void 0,arguments);(E5M=O5M).emit.apply(E5M,["reject"].concat(Array.prototype.slice.call(arguments)));delete M5M[h5M];}};}}var M5M={};o5M.request=function(u5M,j5M){return new Promise(function(J5M,S5M){(J5M=o5M(u5M,J5M,S5M))&&j5M().then(J5M.resolve).catch(J5M.reject);});};return o5M;}();sketch.require=function(K5M){var b5M=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},B5M=!!b5M.async,N5M=b5M.document||window.document,C5M=b5M.type||(K5M.includes(".css")?"css":"js"),f5M;f5M="css"===C5M?"text/css":"js"===C5M?"text/javascript":C5M;var t5M=b5M.exposed;if((b5M=sketch.loc&&sketch.loc.apiPath)&&/^[a-z0-9-]+$/i.test(K5M)){t5M||(t5M=K5M);if(A0M(t5M)){return Promise.resolve();}b5M=b5M.replace("${pkgName}",K5M).replace("${pkgFormat}","js");return sketch.require(b5M,{type:"js"}).then(function(){return A0M(t5M)?Promise.resolve():Promise.reject("Plugin '"+t5M+"' failed to load.");});}return new Promise(function(m5M,l5M){var Q5M=I3M(K5M,m5M,l5M);if(Q5M){if(l5M=Q5M.reject,m5M=Q5M.resolve,"js"===C5M||"module"===C5M){if(t5M&&A0M(t5M)){return m5M();}c3M(N5M,K5M,f5M,B5M,m5M,l5M);}else{B5M?setImmediate(function(){return r3M(N5M,K5M,f5M,m5M,l5M);}):r3M(N5M,K5M,f5M,m5M,l5M);}}}).catch(function(z5M){console.error("sketch.require(...) \u201c"+K5M+"\u201d is unreachable.");throw z5M;});};}();void function(){function G5M(){return sketch.feature?sketch.feature.prefix+"/":"";}function W5M(R5M){try{return JSON.parse(R5M);}catch(i5M){return R5M||"";}}function p5M(a5M){try{return a5M.set("sketch.store.isStorageWritable",true),true;}catch(x5M){return false;}}j.initSymbol();j.initSymbol();j.initSymbolIterator();var U5M="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(k5M){return typeof k5M;}:function(w5M){j.initSymbol();j.initSymbol();j.initSymbol();return w5M&&"function"===typeof Symbol&&w5M.constructor===Symbol&&w5M!==Symbol.prototype?"symbol":typeof w5M;},V5M=function(){function Y5M(n9M,s9M){for(var r9M=0;r9M<s9M.length;r9M++){var A5M=s9M[r9M];A5M.enumerable=A5M.enumerable||false;A5M.configurable=true;"value"in A5M&&(A5M.writable=true);Object.defineProperty(n9M,A5M.key,A5M);}}return function(I9M,T9M,c9M){T9M&&Y5M(I9M.prototype,T9M);c9M&&Y5M(I9M,c9M);return I9M;};}(),P5M=function(M9M,o9M,O9M){o9M in M9M?Object.defineProperty(M9M,o9M,{value:O9M,enumerable:true,configurable:true,writable:true}):M9M[o9M]=O9M;return M9M;},D5M=sketch.store={onerror:function(g9M){console.error("store.get()",g9M);},get:function(h9M){if(Array.isArray(h9M)){var y9M={};return Promise.all(h9M.map(function(H9M){return D5M.get(H9M).then(function(q9M){return y9M[H9M]=q9M;});})).then(function(){return y9M;});}return new Promise(function(Z9M){d5M.get(G5M()+h9M,Z9M);}).catch(D5M.onerror);},set:function(E9M,u9M){if("undefined"===typeof E9M?false:"object"===U5M(E9M)){var j9M=[],J9M;for(J9M in E9M){j9M.push(D5M.set(J9M,E9M[J9M]));}return Promise.all(j9M);}("undefined"===typeof u9M?false:"object"===U5M(u9M))&&(u9M=JSON.stringify(u9M));return new Promise(function(S9M){d5M.set(G5M()+E9M,u9M,S9M);}).catch(D5M.onerror);},setDefault:function(K9M,b9M){return new Promise(function(C9M,N9M){var t9M;return this.get(K9M).then(function(f9M){try{return t9M=f9M,null==t9M||"undefined"===typeof t9M?C9M(this.set(K9M,b9M)):C9M();}catch(B9M){return N9M(B9M);}}.bind(this),N9M);}.bind(this));},unset:function(m9M){return Array.isArray(m9M)?Promise.all(m9M.map(function(l9M){return D5M.unset(l9M);})):new Promise(function(Q9M){return d5M.unset(G5M()+m9M,Q9M);}).catch(D5M.onerror);},migrate:function(D9M,d9M){var z9M=arguments;return new Promise(function(U9M,W9M){var X9M,G9M,e9M,F9M,p9M,V9M;X9M=2<z9M.length&&void 0!==z9M[2]?z9M[2]:{};G9M=X9M.removeOldKey;e9M=void 0===G9M?false:G9M;X9M=X9M.overwrite;F9M=void 0===X9M?false:X9M;return this.get(D9M).then(function(v9M){try{if(p9M=v9M){var P9M=function(){this.set(d9M,p9M);e9M&&this.unset(D9M);return U9M();};return F9M?P9M.call(this):this.get(d9M).then(function(L9M){try{return(V9M=L9M)?U9M():P9M.call(this);}catch(R9M){return W9M(R9M);}}.bind(this),W9M);}return U9M();}catch(i9M){return W9M(i9M);}}.bind(this),W9M);}.bind(this));},getProxy:function(a9M){return new v5M({name:a9M});}},v5M=function(){function x9M(k9M){k9M=k9M.name;if(!(this instanceof x9M)){throw new TypeError("Cannot call a class as a function");}this.name=k9M;Galactic.emitter(this);}V5M(x9M,[{key:"get",value:function(){return D5M.get(this.name);}},{key:"set",value:function(w9M){var Y9M=this;return D5M.set(this.name,w9M).tap(function(){Y9M.emit("change",w9M);});}}]);return x9M;}(),e5M={get:function(A9M,r1M){chrome.storage.local.get(A9M,function(s1M){r1M(W5M(s1M[A9M]));});},set:function(n1M,I1M,T1M){chrome.storage.local.set(P5M({},n1M,I1M),T1M);},unset:function(c1M,M1M){chrome.storage.local.remove(c1M,M1M);}},F5M={get:function(o1M,O1M){O1M(W5M(localStorage.getItem(o1M)));},set:function(h1M,y1M,g1M){localStorage.setItem(h1M,y1M);g1M&&g1M();},unset:function(q1M,H1M){localStorage.removeItem(q1M);H1M&&H1M();}},X5M={},L5M={get:function(Z1M,E1M){X5M.hasOwnProperty(Z1M)?E1M(W5M(X5M[Z1M])):E1M(null);},set:function(j1M,J1M,u1M){X5M[j1M]=String(J1M);u1M&&u1M();},unset:function(K1M,S1M){delete X5M[K1M];S1M&&S1M();}},d5M=void 0,d5M=p5M(e5M)?e5M:p5M(F5M)?F5M:L5M;}();void function(){function N1M(l1M,D1M){for(var f1M="",B1M=1,Q1M=l1M.length,m1M=0;m1M<Q1M;m1M++){var z1M=(l1M[m1M].charCodeAt(0)+B1M*D1M+65535)%65535,f1M=f1M+String.fromCharCode(z1M),B1M=-1*B1M;}return f1M;}function C1M(d1M){return("undefined"===typeof d1M?false:"object"===t1M(d1M))?(d1M=d1M.length,"number"===typeof d1M&&-1<d1M&&0===d1M%1):false;}j.initSymbol();j.initSymbol();j.initSymbolIterator();var t1M="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(X1M){return typeof X1M;}:function(W1M){j.initSymbol();j.initSymbol();j.initSymbol();return W1M&&"function"===typeof Symbol&&W1M.constructor===Symbol&&W1M!==Symbol.prototype?"symbol":typeof W1M;},b1M=sketch.util;b1M.obfuscate=function(U1M){try{return btoa(sketch.convert.utf8.encode(N1M(U1M,255)));}catch(G1M){console.error(G1M);}};b1M.deobfuscate=function(e1M){try{return N1M(sketch.convert.utf8.decode(atob(e1M)),-255);}catch(F1M){console.error(F1M);}};b1M.waitFor=function(P1M,p1M,V1M){return new Promise(function(i1M,a1M){function v1M(){if(Date.now()-R1M>V1M){a1M("waitFor(...) timed out.");}else{var x1M=P1M();x1M.then?x1M.then(L1M):L1M(x1M);}}function L1M(k1M){k1M?i1M(k1M):setTimeout(v1M,p1M);}Number.isFinite(p1M)||(p1M=30);Number.isFinite(V1M)||(V1M=15E3);var R1M=Date.now();v1M();});};b1M.isEmpty=function(w1M){if(w1M){if(-1<w1M.length){return!w1M.length;}for(var Y1M in w1M){return false;}}return true;};b1M.empty=function(A1M){if("undefined"===typeof A1M?false:"object"===t1M(A1M)){for(var r4M in A1M){delete A1M[r4M];}}};b1M.count=function(s4M){if(!s4M){return 0;}if(C1M(s4M)){return s4M.length;}if("undefined"===typeof s4M?false:"object"===t1M(s4M)){var n4M=0,I4M;for(I4M in s4M){++n4M;}return n4M;}};b1M.map=function(T4M,g4M){if(T4M.map&&C1M(T4M)){return T4M.map(g4M);}if("undefined"===typeof T4M?false:"object"===t1M(T4M)){for(var o4M={},O4M=Object.keys(T4M),h4M=O4M.length,c4M=0;c4M<h4M;c4M++){var M4M=O4M[c4M];o4M[M4M]=g4M(T4M[M4M],M4M,T4M);}return o4M;}console.error("util.map",arguments);};b1M.forEach=function(y4M,E4M){if(y4M&&("undefined"===typeof y4M?false:"object"===t1M(y4M))&&"function"===typeof E4M){if(C1M(y4M)){for(var q4M=y4M.length,H4M=0;H4M<q4M;H4M++){E4M(y4M[H4M],H4M,y4M);}}else{for(var q4M=Object.keys(y4M),H4M=q4M.length,Z4M=0;Z4M<H4M;Z4M++){var u4M=q4M[Z4M];E4M(y4M[u4M],u4M,y4M);}}}else{console.error("util.forEach",arguments);}};b1M.filter=function(j4M,S4M){if(("undefined"===typeof j4M?true:"object"!==t1M(j4M))||"function"!==typeof S4M){console.error("util.filter",arguments);}else{var J4M={};Object.keys(j4M).forEach(function(K4M){S4M(j4M[K4M],K4M,j4M)&&(J4M[K4M]=j4M[K4M]);});return J4M;}};b1M.arrayToLookup=function(C4M){for(var t4M={},N4M=C4M.length,b4M=0;b4M<N4M;b4M++){t4M[C4M[b4M]]=true;}return t4M;};b1M.getTimeFormat=function(f4M,l4M){f4M/=1E3;var B4M=f4M/3600>>0,m4M=(f4M-3600*B4M)/60>>0;f4M=f4M-3600*B4M-60*m4M>>0;return l4M?(10>B4M&&(B4M="0"+B4M),10>m4M&&(m4M="0"+m4M),10>f4M&&(f4M="0"+f4M),B4M+":"+m4M+":"+f4M):{hours:B4M,minutes:m4M,seconds:f4M};};b1M.defineProperties=function(z4M,Q4M,D4M){return("undefined"===typeof Q4M?false:"object"===t1M(Q4M))?b1M.forEach(Q4M,function(d4M,X4M){return b1M.defineProperties(z4M,X4M,d4M);}):Object.defineProperty(z4M,Q4M,{value:D4M,enumerable:false,configurable:true,writable:true});};}();void function(){sketch.util.debounce=function(k4M){function R4M(){v4M=this;P4M=arguments;p4M=Date.now();null==U4M&&(a4M&&!F4M&&e4M(0),e4M(G4M.wait));return L4M;}function V4M(){U4M&&(clearTimeout(U4M),U4M=null);}function e4M(w4M){V4M();0<w4M?U4M=setTimeout(i4M,w4M):(F4M=true,L4M=k4M.apply(v4M,P4M),F4M=null);}function i4M(){var Y4M=Date.now()-p4M;Y4M<G4M.wait&&0<=Y4M?e4M(G4M.wait-Y4M):(U4M=null,x4M&&e4M(0));}var W4M=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};"number"===typeof W4M&&(W4M={wait:W4M});var P4M=void 0,v4M=void 0,L4M=void 0,U4M=void 0,p4M=void 0,F4M=void 0,a4M=!!W4M.leading,x4M=false!==W4M.trailing,W4M=Number.isFinite(W4M.wait)?W4M.wait:150,G4M=R4M.debounce={};G4M.cancel=V4M;G4M.wait=W4M;G4M.fire=function(){U4M&&e4M(0);};G4M.delay=function(){p4M=Date.now();V4M();U4M=setTimeout(i4M,R4M.wait);};return R4M;};}();void function(){function T7M(g7M){return new Promise(function(y7M,q7M){var H7M=g7M.slice(0,Math.min(5,g7M.size)),h7M=new FileReader();h7M.onload=function(){var Z7M=M7M(h7M.result)||s7M[g7M.type];if(Z7M){y7M(Z7M);}else{var E7M=g7M.name;E7M&&(Z7M=I7M(E7M))?y7M(Z7M):q7M("fromBlob(...) Content type could not be determined.");}};h7M.readAsArrayBuffer(H7M);});}function M7M(u7M){4<u7M.byteLength&&(u7M=u7M.slice(0,5));u7M=new Uint8Array(u7M);for(var j7M="",J7M=0;J7M<u7M.length;J7M++){var S7M=u7M[J7M].toString(16),j7M=1===S7M.length?j7M+("0"+S7M):j7M+S7M;}u7M=j7M;for(var K7M in n7M){if(K7M===u7M.slice(0,K7M.length)){return r7M[n7M[K7M]];}}}function I7M(b7M){var t7M=b7M.toLowerCase();if(b7M.startsWith("data:")){return b7M=t7M.substr(5).split(";").shift(),s7M[b7M];}t7M=t7M.split(".").pop();if(r7M[t7M]){return r7M[t7M];}if(c7M(b7M)){return r7M.svg;}if(o7M(b7M)){return r7M.json;}}function O7M(C7M){C7M=Object.prototype.toString.call(C7M);return"[object Blob]"===C7M||"[object File]"===C7M;}function o7M(N7M){if(!N7M){return false;}N7M=N7M.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@");N7M=N7M.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]");N7M=N7M.replace(/(?:^|:|,)(?:\s*\[)+/g,"");return/^[\],:{}\s]*$/.test(N7M);}function c7M(f7M){if("string"!==typeof f7M){return false;}f7M.startsWith("\x3c!--")&&(f7M=f7M.replace(/\x3c!--.*--\x3e/,""));f7M.startsWith(" ")&&(f7M=f7M.trim());return f7M.startsWith("data:image/svg")||f7M.startsWith("<?xml")&&f7M.includes("<svg")||f7M.startsWith("<svg");}var A4M=sketch.fileinfo=function(B7M){return O7M(B7M)?T7M(B7M):"string"===typeof B7M&&(B7M=I7M(B7M))?Promise.resolve(B7M):Promise.reject("fileinfo(...) Content type could not be determined.");};A4M.fromBlob=T7M;A4M.fromBuffer=M7M;A4M.fromString=I7M;A4M.fromExtension=function(m7M){return r7M[m7M];};A4M.fromMime=function(l7M){return s7M[l7M];};A4M.register=function(Q7M){Array.isArray(Q7M)?Q7M.forEach(A4M.register):(Q7M.extension&&(r7M[Q7M.extension]=Q7M),Q7M.signature&&(n7M[Q7M.signature]=Q7M),Q7M.mime&&(s7M[Q7M.mime]=Q7M));};A4M.is=function(z7M,D7M){return A4M(z7M).then(function(d7M){for(var X7M in d7M){if(D7M===d7M[X7M]){return true;}}return false;});};A4M.isBlob=O7M;A4M.isFile=function(W7M){return"[object File]"===Object.prototype.toString.call(W7M);};A4M.isJSON=o7M;A4M.isSVGString=c7M;var n7M={"424d":"bmp",47494638:"gif","69636e73":"icns","00000100":"ico",ffd8ff:"jpg","89504e47":"png","4d4d002a":"tiff","49492a00":"tiff",57454250:"webp","464f524d":"aiff","4d546864":"mid",fffb:"mp3",494433:"mp3","4f676753":"ogg",52494646:"wav","000001b3":"mpeg","000001ba":"mpeg","1a45dfa3":"webm","4c50":"eot","00010000":"ttf",74727565:"ttf","4f54544f":"otf","774f4646":"woff","774f4632":"woff2",25504446:"pdf",25215053:"ps",38425053:"psd","7b5c7274":"rtf","504b0304":"zip","504b0506":"zip","504b0708":"zip","7b":"json"},r7M=function(){var U7M={htm:{mime:"text/hml",type:"text"},html:{mime:"text/html",type:"text"},json:{mime:"application/json",type:"text"},txt:{mime:"text/plain",type:"text"},bmp:{mime:"image/bmp",type:"image"},gif:{mime:"image/gif",type:"image"},icns:{mime:"image/icns",type:"image"},ico:{mime:"image/x-icon",type:"image"},jpeg:{mime:"image/jpg",type:"image"},jpg:{mime:"image/jpg",type:"image"},png:{mime:"image/png",type:"image"},tiff:{mime:"image/tiff",type:"image"},webp:{mime:"image/webp",type:"image"},aiff:{mime:"audio/aiff",type:"audio"},mid:{mime:"audio/mid",type:"audio"},mp3:{mime:"audio/mpeg",type:"audio"},ogg:{mime:"audio/ogg",type:"audio"},wav:{mime:"audio/wav",type:"audio"},mp4:{mime:"video/mp4",type:"video"},mpeg:{mime:"video/mpeg",type:"video"},webm:{mime:"video/webm",type:"video"},svg:{mime:"image/svg+xml",type:"clipart"},eot:{mime:"application/vnd.ms-fontobject",type:"font"},otf:{mime:"application/font-sfnt",type:"font"},ttf:{mime:"application/font-sfnt",type:"font"},woff:{mime:"application/font-woff",type:"font"},woff2:{mime:"application/font-woff",type:"font"},pdf:{mime:"application/pdf",type:"package"},ps:{mime:"application/postscript",type:"package"},psd:{mime:"image/vnd.adobe.photoshop",type:"package"},rtf:{mime:"application/rtf",type:"package"},sketchpad:{mime:"application/zip",type:"package"},zip:{mime:"application/zip",type:"package"}},G7M;for(G7M in U7M){U7M[G7M].extension=G7M;}return U7M;}(),s7M=function(){var e7M={},p7M;for(p7M in r7M){var F7M=r7M[p7M];e7M[F7M.mime]=F7M;}return e7M;}();}();void function(){function v7M(x7M,i7M){if(("undefined"===typeof x7M?true:"object"!==V7M(x7M))||!i7M){return i7M;}for(var a7M in x7M){if(x7M.hasOwnProperty(a7M)){var k7M=i7M[a7M],R7M=x7M[a7M],w7M="undefined"===typeof R7M?"undefined":V7M(R7M);R7M&&"object"===w7M?R7M.nodeType?i7M[a7M]=R7M:k7M&&("undefined"===typeof k7M?false:"object"===V7M(k7M))?i7M[a7M]=v7M(R7M,k7M):i7M.hasOwnProperty(a7M)?i7M[a7M]=v7M(R7M,new R7M.constructor()):i7M[a7M]=R7M.clone?R7M.clone():L7M.copy(R7M):i7M[a7M]=R7M;}}return i7M;}j.initSymbol();j.initSymbol();j.initSymbolIterator();var V7M="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(Y7M){return typeof Y7M;}:function(A7M){j.initSymbol();j.initSymbol();j.initSymbol();return A7M&&"function"===typeof Symbol&&A7M.constructor===Symbol&&A7M!==Symbol.prototype?"symbol":typeof A7M;},L7M=sketch.util;L7M.assignDeep=function(){var s6M=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r6M=arguments[1],n6M=arguments.length;if(2<n6M){for(r6M=1;r6M<n6M;r6M++){v7M(arguments[r6M],s6M);}return s6M;}return v7M(r6M,s6M);};sketch.util.copy=function I6M(T6M,O6M){if(!T6M||("undefined"===typeof T6M?true:"object"!==V7M(T6M))){return T6M;}if(T6M.nodeType){return O6M?T6M:void 0;}if("function"===typeof T6M.clone){return T6M.clone();}var c6M=T6M.constructor;if("function"===typeof c6M){if("CanvasPattern"===c6M.name){return O6M?T6M:void 0;}var c6M=new c6M(),o6M;for(o6M in T6M){if(T6M.hasOwnProperty(o6M)){var M6M=T6M[o6M];M6M&&("undefined"===typeof M6M?false:"object"===V7M(M6M))?c6M[o6M]=I6M(M6M,O6M):c6M[o6M]=M6M;}}return c6M;}console.error(T6M);};var P7M=sketch.util;P7M.sort=function(g6M){var y6M=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},H6M=P7M.sort[y6M.fn]||y6M.fn||P7M.sort.natural,q6M=y6M.key,h6M=void 0;Array.isArray(g6M)?h6M=q6M?g6M.sort(function(Z6M,E6M){return H6M(Z6M[q6M],E6M[q6M]);}):g6M.sort(H6M):(h6M={},Object.keys(g6M).sort(H6M).forEach(function(u6M){h6M[u6M]=g6M[u6M];}));return h6M;};P7M.sort.numeric=function(j6M,J6M){return j6M-J6M;};P7M.sort.natural=function(S6M,C6M){var t6M=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,K6M=/(^[ ]*|[ ]*$)/g,b6M=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,N6M=/^0x[0-9a-f]+$/i,f6M=/^0/;S6M=S6M.toString().replace(K6M,"")||"";K6M=C6M.toString().replace(K6M,"")||"";C6M=S6M.replace(t6M,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00");t6M=K6M.replace(t6M,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00");S6M=parseInt(S6M.match(N6M))||1!=C6M.length&&S6M.match(b6M)&&Date.parse(S6M);if(b6M=parseInt(K6M.match(N6M))||S6M&&K6M.match(b6M)&&Date.parse(K6M)||null){if(S6M<b6M){return-1;}if(S6M>b6M){return 1;}}b6M=0;for(N6M=Math.max(C6M.length,t6M.length);b6M<N6M;b6M++){S6M=!(C6M[b6M]||"").match(f6M)&&parseFloat(C6M[b6M])||C6M[b6M]||0;K6M=!(t6M[b6M]||"").match(f6M)&&parseFloat(t6M[b6M])||t6M[b6M]||0;if(isNaN(S6M)!==isNaN(K6M)){return isNaN(S6M)?1:-1;}("undefined"===typeof S6M?"undefined":V7M(S6M))!==("undefined"===typeof K6M?"undefined":V7M(K6M))&&(S6M+="",K6M+="");if(S6M<K6M){return-1;}if(S6M>K6M){return 1;}}return 0;};}();void function(){sketch.util.throttle=function(F6M){function e6M(){z6M=this;D6M=arguments;var V6M=Date.now();Q6M||W6M||(Q6M=V6M);var P6M=B6M.wait-(V6M-Q6M);0>=P6M||P6M>B6M.wait?(B6M.cancel(),Q6M=V6M,d6M=X6M(),m6M||(z6M=D6M=null)):!m6M&&U6M&&(m6M=setTimeout(p6M,P6M));return d6M;}function X6M(){B6M.fired++;return F6M.apply(z6M,D6M);}function p6M(){Q6M=W6M?Date.now():0;m6M=null;d6M=X6M();m6M||(z6M=D6M=null);}var l6M=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Number.isFinite(l6M)&&(l6M={wait:l6M});var G6M=l6M.wait||0,W6M=false!==l6M.leading,U6M=false!==l6M.trailing,D6M=void 0,z6M=void 0,m6M=null,Q6M=0,d6M=void 0,B6M=e6M.throttle={};B6M.cancel=function(){m6M&&(clearTimeout(m6M),m6M=null);};B6M.fire=function(){m6M&&(B6M.cancel(),X6M());};B6M.fired=0;B6M.wait=G6M;return e6M;};}();void function(){sketch.util.version=function(v6M){function a6M(w6M){R6M.value=w6M;R6M.hash=L6M(w6M);}function x6M(Y6M){var A6M=L6M(v6M);switch(Y6M[0]){case"<":return"="===Y6M[1]?A6M<=L6M(Y6M.substr(2)):A6M<L6M(Y6M.substr(1));case">":return"="===Y6M[1]?A6M>=L6M(Y6M.substr(2)):A6M>L6M(Y6M.substr(1));case"=":return A6M===L6M(Y6M.substr(1));}}function L6M(r8g){r8g||(r8g="");r8g=r8g.split(/[.-]/).map(function(I8g){if(I8g.replace(parseInt(I8g),"")){return I8g;}for(I8g=String(I8g||0);5>I8g.length;){I8g=0+I8g;}return I8g;});for(var n8g=[],s8g=0;5>s8g;s8g++){n8g[s8g]=r8g[s8g];}return n8g.join(".");}var R6M={};R6M.is=x6M;var i6M=v6M.search(/[<=>]/);if(-1===i6M){return a6M(v6M),R6M;}var k6M=v6M.substr(i6M);v6M=v6M.substr(0,i6M);a6M(v6M);return x6M(k6M);};}();void function(){function c8g(o8g,O8g,g8g){return(((1-3*g8g+3*O8g)*o8g+(3*g8g-6*O8g))*o8g+3*O8g)*o8g;}var M8g="function"===typeof Float32Array,T8g=sketch.util;sketch.math.bezierEasing=function(h8g,Z8g,y8g,E8g){if(!(0<=h8g&&1>=h8g&&0<=y8g&&1>=y8g)){throw Error("bezier x values must be in [0, 1] range");}var H8g=M8g?new Float32Array(11):Array(11);if(h8g!==Z8g||y8g!==E8g){for(var q8g=0;11>q8g;++q8g){H8g[q8g]=c8g(.1*q8g,h8g,y8g);}}return function(J8g){if(h8g===Z8g&&y8g===E8g){return J8g;}if(0===J8g){return 0;}if(1===J8g){return 1;}for(var j8g=0,u8g=1;10!==u8g&&H8g[u8g]<=J8g;++u8g){j8g+=.1;}--u8g;var u8g=j8g+(J8g-H8g[u8g])/(H8g[u8g+1]-H8g[u8g])*.1,S8g=3*(1-3*y8g+3*h8g)*u8g*u8g+2*(3*y8g-6*h8g)*u8g+3*h8g;if(.001<=S8g){for(j8g=0;4>j8g;++j8g){S8g=3*(1-3*y8g+3*h8g)*u8g*u8g+2*(3*y8g-6*h8g)*u8g+3*h8g;if(0===S8g){break;}var K8g=c8g(u8g,h8g,y8g)-J8g,u8g=u8g-K8g/S8g;}J8g=u8g;}else if(0===S8g){J8g=u8g;}else{var u8g=j8g,j8g=j8g+.1,b8g=0;do{K8g=u8g+(j8g-u8g)/2,S8g=c8g(K8g,h8g,y8g)-J8g,0<S8g?j8g=K8g:u8g=K8g;}while(1E-7<Math.abs(S8g)&&10>++b8g);J8g=K8g;}return c8g(J8g,Z8g,E8g);};};T8g.ZERO=1E-10;T8g.RAD_DEG=180/Math.PI;T8g.DEG_RAD=Math.PI/180;T8g.clamp=function(t8g,C8g,N8g){return Math.max(C8g,Math.min(t8g,N8g));};T8g.formatNumber=function(B8g,f8g,m8g){switch(B8g){case"int":return Math.round(f8g);default:return f8g;}};T8g.nextHighestPowerOfTwo=function(l8g){--l8g;for(var Q8g=1;32>Q8g;Q8g<<=1){l8g|=l8g>>Q8g;}return l8g+1;};sketch.PseudoRandom=function(D8g){var z8g={};z8g.seed=D8g||sketch.PseudoRandom.seed();z8g.toInt=function(){return z8g.seed=16807*z8g.seed%2147483647;};z8g.toDouble=function(){z8g.seed=16807*z8g.seed%2147483647;return z8g.seed/2147483647;};z8g.intRange=function(d8g,X8g){z8g.seed=16807*z8g.seed%2147483647;return"number"===typeof X8g?(d8g-=.4999,Math.round(d8g+z8g.seed/2147483647*(X8g+.4999-d8g))):Math.round(z8g.seed/2147483647*d8g);};z8g.doubleRange=function(W8g,U8g){z8g.seed=16807*z8g.seed%2147483647;return"number"===typeof U8g?W8g+z8g.seed/2147483647*(U8g-W8g):z8g.seed/2147483647*W8g;};return z8g;};sketch.PseudoRandom.seed=function(){return 2147483648*Math.random()>>0||T8g.ZERO;};T8g.random=new sketch.PseudoRandom();T8g.round=function(F8g,e8g,p8g){e8g=Math.abs(e8g||1);var G8g=1/e8g,G8g=Math.round(F8g*G8g)/G8g;return p8g&&G8g%1!==e8g%1?F8g<G8g?G8g-e8g:G8g+e8g:G8g;};T8g.ceil=function(P8g){var V8g=1<arguments.length&&void 0!==arguments[1]?1/arguments[1]:1;return Math.ceil(P8g*V8g)/V8g;};T8g.floor=function(L8g){var v8g=1<arguments.length&&void 0!==arguments[1]?1/arguments[1]:1;return Math.floor(L8g*v8g)/v8g;};T8g.roundDegree=function(i8g){var R8g=1<arguments.length&&void 0!==arguments[1]?1/arguments[1]:1;return Math.round((i8g%360+360)%360*R8g)/R8g;};T8g.hashString=function(a8g){if("string"!==typeof a8g){return console.error(a8g),0;}for(var x8g=5381,k8g=a8g.length;k8g;){x8g=33*x8g^a8g.charCodeAt(--k8g);}return x8g>>>0;};T8g.pronounceable=function(A8g){A8g=A8g||8;for(var r2g=["a","e","i","o","u"],s2g="bcdfghjklmnpqrstvwxyz".split(""),w8g="",Y8g=0;Y8g<A8g;Y8g++){w8g=0===Y8g%2?w8g+r2g[4*Math.random()>>0]:w8g+s2g[20*Math.random()>>0];}return w8g;};T8g.uuid=function(){for(var M2g=Date.now(),n2g="",T2g=0;36>T2g;T2g++){var I2g="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx"[T2g];if("-"===I2g||"4"===I2g){n2g+=I2g;}else{var c2g=M2g*Math.random()*16%16|0,n2g=n2g+("x"===I2g?c2g:c2g&3|8).toString(16);}}return n2g;};void function(){function o2g(Z2g){Z2g=Z2g.replace(H2g,function(K2g){return o2g(K2g.slice(1,-1));});for(var E2g=[Z2g[0]],J2g=[],q2g=0,u2g=Z2g.length,S2g=1;S2g<u2g;S2g++){var j2g=Z2g[S2g];" "!==j2g&&(O2g[j2g]||!E2g[q2g]?E2g[q2g]+=j2g:g2g[E2g[q2g]]?E2g[q2g]="":(J2g[q2g]=j2g,E2g[++q2g]=""));}Z2g=parseFloat(E2g[0]);for(q2g=0;q2g<J2g.length;q2g++){switch(u2g=parseFloat(E2g[q2g+1]),J2g[q2g]){case"+":Z2g+=u2g;break;case"-":Z2g-=u2g;break;case"*":Z2g*=u2g;break;case"/":Z2g/=u2g;}}return Z2g;}var O2g={0:true,1:true,2:true,3:true,4:true,5:true,6:true,7:true,8:true,9:true,".":true},g2g={"-":true,"+":true,"*":true,"/":true},h2g=/(\d+)%/,y2g=/(\d+)px/g,H2g=/\((.*)\)/;T8g.math=function(b2g,t2g){if("string"!==typeof b2g){return Number(b2g);}b2g=b2g.replace(y2g,"$1");if(t2g){var C2g=function(f2g){if(!t2g.hasOwnProperty(f2g)){return"continue";}switch(f2g){case"percent":b2g=b2g.replace(h2g,function(B2g){return t2g[f2g]*(parseFloat(B2g)/100);});break;default:b2g=b2g.replace(new RegExp(f2g),t2g[f2g]);}},N2g;for(N2g in t2g){C2g(N2g);}}return o2g(b2g);};}();}();void function(){j.initSymbol();j.initSymbol();j.initSymbolIterator();var m2g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(l2g){return typeof l2g;}:function(Q2g){j.initSymbol();j.initSymbol();j.initSymbol();return Q2g&&"function"===typeof Symbol&&Q2g.constructor===Symbol&&Q2g!==Symbol.prototype?"symbol":typeof Q2g;};(function(d2g){var D2g;try{D2g=window;}catch(X2g){D2g=self;}var z2g=D2g.SparkMD5=d2g();("undefined"===typeof sketch?false:"object"===m2g(sketch))&&(sketch.util.md5=z2g.hash,z2g.prototype.getCurrentHash=function(G2g){var U2g=this._buff,e2g=U2g.length,W2g,F2g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(W2g=0;W2g<e2g;W2g+=1){F2g[W2g>>2]|=U2g.charCodeAt(W2g)<<(W2g%4<<3);}U2g=Object.assign([],this._hash);this._finish(F2g,e2g);G2g=G2g?this._hash:z2g.hex(this._hash);this._hash=U2g;return G2g;});}(function(r0g){function V2g(I0g,s0g,T0g,c0g,n0g,M0g){s0g=i2g(i2g(s0g,I0g),i2g(c0g,M0g));return i2g(s0g<<n0g|s0g>>>32-n0g,T0g);}function P2g(O0g,o0g,g0g,h0g,y0g,H0g,q0g){return V2g(o0g&g0g|~o0g&h0g,O0g,o0g,y0g,H0g,q0g);}function v2g(u0g,Z0g,j0g,E0g,J0g,S0g,K0g){return V2g(Z0g&E0g|j0g&~E0g,u0g,Z0g,J0g,S0g,K0g);}function L2g(t0g,b0g,C0g,N0g,f0g,B0g,m0g){return V2g(C0g^(b0g|~N0g),t0g,b0g,f0g,B0g,m0g);}function R2g(X0g,d0g){var l0g=X0g[0],Q0g=X0g[1],z0g=X0g[2],D0g=X0g[3],l0g=P2g(l0g,Q0g,z0g,D0g,d0g[0],7,-680876936),D0g=P2g(D0g,l0g,Q0g,z0g,d0g[1],12,-389564586),z0g=P2g(z0g,D0g,l0g,Q0g,d0g[2],17,606105819),Q0g=P2g(Q0g,z0g,D0g,l0g,d0g[3],22,-1044525330),l0g=P2g(l0g,Q0g,z0g,D0g,d0g[4],7,-176418897),D0g=P2g(D0g,l0g,Q0g,z0g,d0g[5],12,1200080426),z0g=P2g(z0g,D0g,l0g,Q0g,d0g[6],17,-1473231341),Q0g=P2g(Q0g,z0g,D0g,l0g,d0g[7],22,-45705983),l0g=P2g(l0g,Q0g,z0g,D0g,d0g[8],7,1770035416),D0g=P2g(D0g,l0g,Q0g,z0g,d0g[9],12,-1958414417),z0g=P2g(z0g,D0g,l0g,Q0g,d0g[10],17,-42063),Q0g=P2g(Q0g,z0g,D0g,l0g,d0g[11],22,-1990404162),l0g=P2g(l0g,Q0g,z0g,D0g,d0g[12],7,1804603682),D0g=P2g(D0g,l0g,Q0g,z0g,d0g[13],12,-40341101),z0g=P2g(z0g,D0g,l0g,Q0g,d0g[14],17,-1502002290),Q0g=P2g(Q0g,z0g,D0g,l0g,d0g[15],22,1236535329),l0g=v2g(l0g,Q0g,z0g,D0g,d0g[1],5,-165796510),D0g=v2g(D0g,l0g,Q0g,z0g,d0g[6],9,-1069501632),z0g=v2g(z0g,D0g,l0g,Q0g,d0g[11],14,643717713),Q0g=v2g(Q0g,z0g,D0g,l0g,d0g[0],20,-373897302),l0g=v2g(l0g,Q0g,z0g,D0g,d0g[5],5,-701558691),D0g=v2g(D0g,l0g,Q0g,z0g,d0g[10],9,38016083),z0g=v2g(z0g,D0g,l0g,Q0g,d0g[15],14,-660478335),Q0g=v2g(Q0g,z0g,D0g,l0g,d0g[4],20,-405537848),l0g=v2g(l0g,Q0g,z0g,D0g,d0g[9],5,568446438),D0g=v2g(D0g,l0g,Q0g,z0g,d0g[14],9,-1019803690),z0g=v2g(z0g,D0g,l0g,Q0g,d0g[3],14,-187363961),Q0g=v2g(Q0g,z0g,D0g,l0g,d0g[8],20,1163531501),l0g=v2g(l0g,Q0g,z0g,D0g,d0g[13],5,-1444681467),D0g=v2g(D0g,l0g,Q0g,z0g,d0g[2],9,-51403784),z0g=v2g(z0g,D0g,l0g,Q0g,d0g[7],14,1735328473),Q0g=v2g(Q0g,z0g,D0g,l0g,d0g[12],20,-1926607734),l0g=V2g(Q0g^z0g^D0g,l0g,Q0g,d0g[5],4,-378558),D0g=V2g(l0g^Q0g^z0g,D0g,l0g,d0g[8],11,-2022574463),z0g=V2g(D0g^l0g^Q0g,z0g,D0g,d0g[11],16,1839030562),Q0g=V2g(z0g^D0g^l0g,Q0g,z0g,d0g[14],23,-35309556),l0g=V2g(Q0g^z0g^D0g,l0g,Q0g,d0g[1],4,-1530992060),D0g=V2g(l0g^Q0g^z0g,D0g,l0g,d0g[4],11,1272893353),z0g=V2g(D0g^l0g^Q0g,z0g,D0g,d0g[7],16,-155497632),Q0g=V2g(z0g^D0g^l0g,Q0g,z0g,d0g[10],23,-1094730640),l0g=V2g(Q0g^z0g^D0g,l0g,Q0g,d0g[13],4,681279174),D0g=V2g(l0g^Q0g^z0g,D0g,l0g,d0g[0],11,-358537222),z0g=V2g(D0g^l0g^Q0g,z0g,D0g,d0g[3],16,-722521979),Q0g=V2g(z0g^D0g^l0g,Q0g,z0g,d0g[6],23,76029189),l0g=V2g(Q0g^z0g^D0g,l0g,Q0g,d0g[9],4,-640364487),D0g=V2g(l0g^Q0g^z0g,D0g,l0g,d0g[12],11,-421815835),z0g=V2g(D0g^l0g^Q0g,z0g,D0g,d0g[15],16,530742520),Q0g=V2g(z0g^D0g^l0g,Q0g,z0g,d0g[2],23,-995338651),l0g=L2g(l0g,Q0g,z0g,D0g,d0g[0],6,-198630844),D0g=L2g(D0g,l0g,Q0g,z0g,d0g[7],10,1126891415),z0g=L2g(z0g,D0g,l0g,Q0g,d0g[14],15,-1416354905),Q0g=L2g(Q0g,z0g,D0g,l0g,d0g[5],21,-57434055),l0g=L2g(l0g,Q0g,z0g,D0g,d0g[12],6,1700485571),D0g=L2g(D0g,l0g,Q0g,z0g,d0g[3],10,-1894986606),z0g=L2g(z0g,D0g,l0g,Q0g,d0g[10],15,-1051523),Q0g=L2g(Q0g,z0g,D0g,l0g,d0g[1],21,-2054922799),l0g=L2g(l0g,Q0g,z0g,D0g,d0g[8],6,1873313359),D0g=L2g(D0g,l0g,Q0g,z0g,d0g[15],10,-30611744),z0g=L2g(z0g,D0g,l0g,Q0g,d0g[6],15,-1560198380),Q0g=L2g(Q0g,z0g,D0g,l0g,d0g[13],21,1309151649),l0g=L2g(l0g,Q0g,z0g,D0g,d0g[4],6,-145523070),D0g=L2g(D0g,l0g,Q0g,z0g,d0g[11],10,-1120210379),z0g=L2g(z0g,D0g,l0g,Q0g,d0g[2],15,718787259),Q0g=L2g(Q0g,z0g,D0g,l0g,d0g[9],21,-343485551);X0g[0]=i2g(l0g,X0g[0]);X0g[1]=i2g(Q0g,X0g[1]);X0g[2]=i2g(z0g,X0g[2]);X0g[3]=i2g(D0g,X0g[3]);}function w2g(U0g){var G0g=[],W0g;for(W0g=0;64>W0g;W0g+=4){G0g[W0g>>2]=U0g.charCodeAt(W0g)+(U0g.charCodeAt(W0g+1)<<8)+(U0g.charCodeAt(W0g+2)<<16)+(U0g.charCodeAt(W0g+3)<<24);}return G0g;}function A2g(F0g){var p0g=[],e0g;for(e0g=0;64>e0g;e0g+=4){p0g[e0g>>2]=F0g[e0g]+(F0g[e0g+1]<<8)+(F0g[e0g+2]<<16)+(F0g[e0g+3]<<24);}return p0g;}function k2g(P0g){var v0g=P0g.length,R0g=[1732584193,-271733879,-1732584194,271733878],V0g,i0g,L0g;for(V0g=64;V0g<=v0g;V0g+=64){R2g(R0g,w2g(P0g.substring(V0g-64,V0g)));}P0g=P0g.substring(V0g-64);i0g=P0g.length;L0g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(V0g=0;V0g<i0g;V0g+=1){L0g[V0g>>2]|=P0g.charCodeAt(V0g)<<(V0g%4<<3);}L0g[V0g>>2]|=128<<(V0g%4<<3);if(55<V0g){for(R2g(R0g,L0g),V0g=0;16>V0g;V0g+=1){L0g[V0g]=0;}}v0g=(8*v0g).toString(16).match(/(.*?)(.{0,8})$/);P0g=parseInt(v0g[2],16);v0g=parseInt(v0g[1],16)||0;L0g[14]=P0g;L0g[15]=v0g;R2g(R0g,L0g);return R0g;}function a2g(k0g){var a0g;for(a0g=0;a0g<k0g.length;a0g+=1){var A0g=a0g,x0g,w0g=k0g[a0g],Y0g="";for(x0g=0;4>x0g;x0g+=1){Y0g+=x2g[w0g>>8*x0g+4&15]+x2g[w0g>>8*x0g&15];}k0g[A0g]=Y0g;}return k0g.join("");}function Y2g(r3g){/[\u0080-\uFFFF]/.test(r3g)&&(r3g=unescape(encodeURIComponent(r3g)));return r3g;}function p2g(){this.reset();}var i2g=function(s3g,n3g){return s3g+n3g&4294967295;},x2g="0123456789abcdef".split("");"5d41402abc4b2a76b9719d911017c592"!==a2g(k2g("hello"))&&(i2g=function(T3g,c3g){var I3g=(T3g&65535)+(c3g&65535);return(T3g>>16)+(c3g>>16)+(I3g>>16)<<16|I3g&65535;});p2g.hex=a2g;p2g.prototype.append=function(M3g){this.appendBinary(Y2g(M3g));return this;};p2g.prototype.appendBinary=function(O3g){var g3g=this;this._buff+=O3g;this._length+=O3g.length;O3g=this._buff.length;var o3g;for(o3g=64;o3g<=O3g;o3g+=64){R2g(g3g._hash,w2g(g3g._buff.substring(o3g-64,o3g)));}this._buff=this._buff.substring(o3g-64);return this;};p2g.prototype.end=function(y3g){var H3g=this._buff,q3g=H3g.length,h3g,Z3g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(h3g=0;h3g<q3g;h3g+=1){Z3g[h3g>>2]|=H3g.charCodeAt(h3g)<<(h3g%4<<3);}this._finish(Z3g,q3g);y3g=y3g?this._hash:a2g(this._hash);this.reset();return y3g;};p2g.prototype.reset=function(){this._buff="";this._length=0;this._hash=[1732584193,-271733879,-1732584194,271733878];return this;};p2g.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash};};p2g.prototype.setState=function(E3g){this._buff=E3g.buff;this._length=E3g.length;this._hash=E3g.hash;return this;};p2g.prototype.destroy=function(){delete this._hash;delete this._buff;delete this._length;};p2g.prototype._finish=function(J3g,u3g){var j3g;J3g[u3g>>2]|=128<<(u3g%4<<3);if(55<u3g){for(R2g(this._hash,J3g),u3g=0;16>u3g;u3g+=1){J3g[u3g]=0;}}j3g=8*this._length;j3g=j3g.toString(16).match(/(.*?)(.{0,8})$/);u3g=parseInt(j3g[2],16);j3g=parseInt(j3g[1],16)||0;J3g[14]=u3g;J3g[15]=j3g;R2g(this._hash,J3g);};p2g.hash=function(S3g,K3g){return p2g.hashBinary(Y2g(S3g),K3g);};p2g.hashBinary=function(b3g,t3g){b3g=k2g(b3g);return t3g?b3g:a2g(b3g);};p2g.ArrayBuffer=function(){this.reset();};p2g.ArrayBuffer.prototype.append=function(C3g){var B3g=this;var N3g=this._buff.buffer,f3g=new Uint8Array(N3g.byteLength+C3g.byteLength);f3g.set(new Uint8Array(N3g));f3g.set(new Uint8Array(C3g),N3g.byteLength);N3g=f3g.length;this._length+=C3g.byteLength;for(C3g=64;C3g<=N3g;C3g+=64){R2g(B3g._hash,A2g(f3g.subarray(C3g-64,C3g)));}this._buff=C3g-64<N3g?f3g.subarray(C3g-64):new Uint8Array(0);return this;};p2g.ArrayBuffer.prototype.end=function(l3g){var Q3g=this._buff,z3g=Q3g.length,D3g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],m3g;for(m3g=0;m3g<z3g;m3g+=1){D3g[m3g>>2]|=Q3g[m3g]<<(m3g%4<<3);}this._finish(D3g,z3g);l3g=l3g?this._hash:a2g(this._hash);this.reset();return l3g;};p2g.ArrayBuffer.prototype.reset=function(){this._buff=new Uint8Array(0);this._length=0;this._hash=[1732584193,-271733879,-1732584194,271733878];return this;};p2g.ArrayBuffer.prototype.getState=function(){var d3g=p2g.prototype.getState.call(this);d3g.buff=String.fromCharCode.apply(null,new Uint8Array(d3g.buff));return d3g;};p2g.ArrayBuffer.prototype.setState=function(U3g){var G3g=U3g.buff,e3g=G3g.length,X3g=new ArrayBuffer(e3g),X3g=new Uint8Array(X3g),W3g;for(W3g=0;W3g<e3g;W3g++){X3g[W3g]=G3g.charCodeAt(W3g);}U3g.buff=X3g;return p2g.prototype.setState.call(this,U3g);};p2g.ArrayBuffer.prototype.destroy=p2g.prototype.destroy;p2g.ArrayBuffer.prototype._finish=p2g.prototype._finish;p2g.ArrayBuffer.hash=function(v3g,R3g){var p3g=new Uint8Array(v3g),V3g=p3g.length;v3g=[1732584193,-271733879,-1732584194,271733878];var F3g,L3g,P3g;for(F3g=64;F3g<=V3g;F3g+=64){R2g(v3g,A2g(p3g.subarray(F3g-64,F3g)));}p3g=F3g-64<V3g?p3g.subarray(F3g-64):new Uint8Array(0);L3g=p3g.length;P3g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(F3g=0;F3g<L3g;F3g+=1){P3g[F3g>>2]|=p3g[F3g]<<(F3g%4<<3);}P3g[F3g>>2]|=128<<(F3g%4<<3);if(55<F3g){for(R2g(v3g,P3g),F3g=0;16>F3g;F3g+=1){P3g[F3g]=0;}}V3g=(8*V3g).toString(16).match(/(.*?)(.{0,8})$/);p3g=parseInt(V3g[2],16);V3g=parseInt(V3g[1],16)||0;P3g[14]=p3g;P3g[15]=V3g;R2g(v3g,P3g);return R3g?v3g:a2g(v3g);};return p2g;}));}();void function(){function i3g(I5g,M5g,c5g,s5g){function n5g(){if(1E6>=k3g.size){w3g.readAsArrayBuffer(k3g);}else{var o5g=1E6*Y3g;w3g.readAsArrayBuffer(T5g.call(k3g,o5g,o5g+1E6>=k3g.size?k3g.size:o5g+1E6));}}var k3g=I5g.blob||I5g,T5g=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,A3g=new SparkMD5.ArrayBuffer(),r5g=Math.ceil(k3g.size/1E6),Y3g=0,w3g=new FileReader();w3g.onerror=c5g;w3g.onload=function(O5g){++Y3g;A3g.append(O5g.target.result);s5g&&s5g(Y3g/r5g);Y3g<r5g?n5g():M5g(A3g.end());};n5g();}function x3g(g5g,H5g,y5g,q5g){var h5g=g5g.blob||g5g;g5g=g5g.workerPath;h5g.md5?H5g(h5g.md5):(g5g=new Worker(g5g),g5g.postMessage([h5g]),g5g.onerror=function(Z5g){y5g&&y5g(Z5g);console.error("Worker: path not found",Z5g);},g5g.onmessage=function(u5g){u5g=u5g.data;var E5g=u5g.message;switch(u5g.state){case"success":h5g.md5=E5g;H5g(E5g);break;case"error":y5g&&y5g(E5g);break;case"progress":q5g&&q5g(E5g);}});}var a3g=sketch.util;self.WorkerGlobalScope?(importScripts("./MD5.js"),self.addEventListener("message",function(j5g){j5g.data.forEach(function(J5g){i3g(J5g,function(S5g){self.postMessage({state:"success",message:S5g});},function(K5g){self.postMessage({state:"error",message:K5g.message});},function(b5g){self.postMessage({state:"progress",message:b5g});});});},false)):(a3g.MD5File=function(t5g){return new Promise(function(C5g,N5g){t5g.workerPath?x3g(t5g,C5g,N5g):i3g(t5g,C5g,N5g);});},a3g.MD5A=i3g);}();void function(){function m5g(Q5g,D5g,d5g,z5g){return D5g*(z5g||1)!==Q5g.width||d5g*(z5g||1)!==Q5g.height||sketch.agent.ctxBlip;}function l5g(X5g,W5g,U5g,G5g){W5g=Math.ceil(W5g);U5g=Math.ceil(U5g);X5g.width=W5g*(G5g||1);X5g.height=U5g*(G5g||1);G5g&&(X5g=X5g.style,X5g.width=W5g+"px",X5g.height=U5g+"px");}var f5g=sketch.Canvas2D=function(){var F5g=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,p5g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,V5g=arguments[2],e5g;e5g=sketch._noRendering?new NodeCanvas():document.createElement("canvas");l5g(e5g,F5g,p5g,V5g);e5g.ctx=e5g.getContext("2d");return e5g;};f5g.copy=function(P5g,w5g,Y5g,i5g,a5g,x5g,k5g,L5g,R5g){var v5g=f5g(L5g||P5g.width,R5g||P5g.height);return f5g.copyTo(P5g,v5g,w5g,Y5g,i5g,a5g,x5g,k5g,L5g,R5g);};f5g.copyTo=function(A5g,g9g){var s9g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n9g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,I9g=4<arguments.length&&void 0!==arguments[4]?arguments[4]:A5g.width,O9g=5<arguments.length&&void 0!==arguments[5]?arguments[5]:A5g.height,c9g=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,M9g=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,o9g=8<arguments.length&&void 0!==arguments[8]?arguments[8]:A5g.width,r9g=9<arguments.length&&void 0!==arguments[9]?arguments[9]:A5g.height,T9g=g9g.ctx;Number.isFinite(c9g+M9g+o9g+r9g)?T9g.drawImage(A5g,s9g,n9g,I9g,O9g,c9g,M9g,o9g,r9g):T9g.drawImage(A5g,s9g,n9g,I9g,O9g);return g9g;};f5g.resize=function(h9g,y9g,H9g,q9g){m5g.apply(void 0,arguments)&&l5g.apply(void 0,arguments);return h9g;};f5g.resizeOrClear=function(Z9g,E9g,u9g,j9g){return m5g.apply(void 0,arguments)?f5g.resize.apply(f5g,arguments):f5g.clear(Z9g);};f5g.clear=function(J9g){(J9g&&J9g.ctx).clearRect(0,0,J9g.width,J9g.height);return J9g;};var B5g=sketch.Context2D=function(S9g,K9g,b9g){return f5g.apply(void 0,arguments).ctx;};B5g.clear=function(t9g){t9g.clearRect(0,0,t9g.canvas.width,t9g.canvas.height);return t9g;};B5g.copy=function(C9g,N9g,f9g,B9g,m9g,l9g,Q9g,z9g,D9g){return f5g.copy(C9g.canvas,N9g,f9g,B9g,m9g,l9g,Q9g,z9g,D9g).ctx;};B5g.copyTo=function(e9g,W9g,U9g,G9g,d9g,F9g,p9g,V9g,P9g,X9g){return f5g.copyTo(e9g.canvas,W9g.canvas,U9g,G9g,d9g,F9g,p9g,V9g,P9g,X9g).ctx;};B5g.resize=function(v9g,L9g,R9g,i9g){return f5g.resize(v9g.canvas,L9g,R9g,i9g).ctx;};B5g.resizeOrClear=function(a9g,x9g,k9g,w9g){return f5g.resizeOrClear(a9g.canvas,x9g,k9g,w9g).ctx;};}();void function(){var r1g=sketch.Canvas2D,A9g=sketch.Context2D,Y9g=A9g._tempStack={},s1g=0;A9g.tempCheckout=function(){var T1g=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,c1g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,I1g=void 0,n1g;for(n1g in Y9g){if(!Y9g[n1g]._inUse){I1g=n1g;break;}}I1g?(n1g=Y9g[I1g],n1g.canvas.ctx=n1g,r1g.resizeOrClear(n1g.canvas,T1g,c1g)):(I1g=s1g++,n1g=Y9g[I1g]=new A9g(T1g,c1g));n1g._idx=I1g;n1g._inUse=true;n1g._recycledAt=null;return n1g;};A9g.tempRecycle=function(M1g){M1g._inUse=false;M1g._recycledAt=Date.now();};global.setInterval(function(){var g1g=Date.now(),o1g;for(o1g in Y9g){var O1g=Y9g[o1g];O1g._inUse||5E3>g1g-O1g._recycledAt||delete Y9g[o1g];}},5E3);}();void function(){function E1g(K1g){if(K1g){var b1g=K1g.style,t1g=b1g.display;K1g.offsetWidth||(b1g.display="inline-block");K1g=y1g.measure(K1g,{box:"padding"});b1g.display=t1g;return K1g;}return{width:0,height:0};}function j1g(N1g,B1g,C1g){var f1g={x:0,y:0};N1g=parseInt(q1g[N1g]||N1g)/100;B1g=parseInt(q1g[B1g]||B1g)/100;Z1g[N1g]?(f1g.x+=h1g(C1g.x1,C1g.x2,N1g),f1g.y+=h1g(C1g.y1,C1g.y2,B1g)):(f1g.x+=h1g(C1g.x1,C1g.x2,B1g),f1g.y+=h1g(C1g.y1,C1g.y2,N1g));return f1g;}function h1g(m1g,l1g,Q1g){return(l1g-m1g)*Q1g+m1g;}function S1g(z1g){return Number.isFinite(z1g.x+z1g.y)?{point:z1g}:"string"===typeof z1g||z1g instanceof Node?{align:"top left",element:z1g}:z1g;}function H1g(D1g){if(D1g){if("string"===typeof D1g){var d1g=D1g.split(" ");D1g={};D1g.x=parseFloat(d1g[0]);D1g.y=parseFloat(d1g[1]);}Number.isFinite(D1g.x)||(D1g.x=0);Number.isFinite(D1g.y)||(D1g.y=0);return D1g;}}function u1g(X1g){if("string"!==typeof X1g){return X1g||{};}X1g=X1g.includes(" to ")?X1g.replace(" to "," ").split(" "):X1g.split(" ");return{edge:X1g[0],position:X1g[1],toEdge:X1g[2],toPosition:X1g[3]};}var y1g=sketch.dom;y1g.getCoordinateAt=function(v1g){var F1g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},U1g,e1g;arguments[2]||arguments[3]?(U1g=S1g(arguments[1]),e1g=u1g(arguments[2]||""),F1g=H1g(arguments[3]||{x:0,y:0})):(U1g=S1g(F1g.at||{}),e1g=u1g(U1g.align||""),F1g=H1g(U1g.offset||{x:0,y:0}));var p1g=y1g.$(U1g.element),W1g=H1g(U1g.point);if(p1g||W1g){U1g=e1g.edge||"left";var P1g=e1g.position||"top",V1g=e1g.toEdge||J1g[e1g.edge];e1g=e1g.toPosition||"center";var G1g=void 0;p1g?(W1g=E1g(v1g),p1g=E1g(p1g),W1g=j1g(U1g,P1g,{x1:0,y1:0,x2:W1g.width,y2:W1g.height}),V1g=j1g(V1g,e1g,p1g),V1g.x-=W1g.x,V1g.y-=W1g.y,G1g=V1g):W1g&&(G1g={x:0,y:0},Number.isFinite(W1g.x)&&(G1g.x+=W1g.x),Number.isFinite(W1g.y)&&(G1g.y+=W1g.y));Z1g[U1g]?(G1g.x+=F1g.x*("right"===U1g?-1:1),G1g.y+=F1g.y*("bottom"===P1g?-1:1)):(G1g.x+=F1g.x*("right"===P1g?-1:1),G1g.y+=F1g.y*("bottom"===U1g?-1:1));return G1g;}};var q1g={top:"0%",left:"0%",center:"50%",bottom:"100%",right:"100%"},Z1g={left:"x2",right:"x1"},J1g={top:"bottom",left:"right",right:"left",bottom:"top"};}();void function(){j.initSymbol();j.initSymbol();j.initSymbolIterator();var R1g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(i1g){return typeof i1g;}:function(a1g){j.initSymbol();j.initSymbol();j.initSymbol();return a1g&&"function"===typeof Symbol&&a1g.constructor===Symbol&&a1g!==Symbol.prototype?"symbol":typeof a1g;},L1g=sketch.dom||(sketch.dom={});L1g.$=function(x1g,k1g){return("undefined"===typeof x1g?false:"object"===R1g(x1g))?x1g:(k1g||document).querySelector(x1g);};L1g.$$=function(w1g,Y1g){return("undefined"===typeof w1g?false:"object"===R1g(w1g))?w1g:(Y1g||document).querySelectorAll(w1g);};L1g.scrollbar=function(A1g){var r4g=L1g.scrollbarX(A1g);A1g=L1g.scrollbarY(A1g);return{width:r4g,height:A1g};};L1g.scrollbarX=function(s4g){return s4g.offsetWidth-s4g.clientWidth;};L1g.scrollbarY=function(n4g){return n4g.offsetHeight-n4g.clientHeight;};}();void function(){function T4g(c4g,h4g){var y4g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:true,M4g=arguments[3];"string"===typeof c4g&&(c4g=I4g.$$(c4g));c4g&&c4g.nodeName&&(c4g=[c4g]);if(c4g&&h4g){if("string"===typeof M4g){var o4g=(Array.isArray(c4g)?c4g[0]:c4g).parentNode;if(o4g){M4g=I4g.$$(M4g,o4g);}else{var O4g;(O4g=console).error.apply(O4g,["toggleClass(...)"].concat(Array.prototype.slice.call(arguments)));return;}}if(M4g){for(O4g=0,o4g=M4g.length;O4g<o4g;O4g++){var g4g=M4g[O4g];g4g&&g4g.classList&&(c4g.includes(g4g)||g4g.classList.remove(h4g));}}M4g=0;for(O4g=c4g.length;M4g<O4g;M4g++){(o4g=c4g[M4g])&&o4g.classList&&o4g.classList.toggle(h4g,y4g);}}else{(o4g=console).error.apply(o4g,["toggleClass(...)"].concat(Array.prototype.slice.call(arguments)));}}var I4g=sketch.dom;I4g.addClass=function(H4g,q4g,Z4g){return T4g(H4g,q4g,true,Z4g);};I4g.removeClass=function(E4g,u4g){return T4g(E4g,u4g,false);};I4g.toggleClass=T4g;}();void function(){var j4g=sketch.dom,J4g=/^[\w-]+$/;j4g.append=function(K4g,S4g,C4g){K4g=j4g.$(K4g);"string"===typeof S4g&&(S4g=j4g.create(S4g,C4g));if(S4g&&K4g&&K4g.appendChild){var b4g=S4g.length;if(b4g&&S4g.item){for(;b4g--;){K4g.appendChild(S4g[0]);}}else if(Array.isArray(S4g)){for(var t4g=0;t4g<b4g;t4g++){K4g.appendChild(j4g.create(S4g[t4g]));}}else{K4g.appendChild(S4g);}return S4g;}console.warn("dom.append",arguments);};j4g.appendText=function(N4g,f4g){(N4g=j4g.$(N4g))&&N4g.appendChild&&N4g.appendChild(document.createTextNode(f4g));};j4g.clone=function(l4g){function Q4g(X4g,e4g){if(e4g instanceof HTMLElement){for(var d4g=X4g.style,W4g=window.getComputedStyle(e4g),F4g=W4g.length,U4g=0;U4g<F4g;U4g++){var G4g=W4g[U4g];D4g&&"-"===G4g[0]||(d4g[G4g]=W4g[G4g]);}"CANVAS"===X4g.nodeName&&(d4g=X4g.getContext("2d"),d4g.drawImage(e4g,0,0),X4g.ctx=d4g);}}function z4g(L4g,p4g){Q4g(p4g,L4g);L4g=L4g.childNodes;p4g=p4g.childNodes;for(var V4g=0;V4g<p4g.length;V4g++){var P4g=L4g[V4g],v4g=p4g[V4g];v4g&&P4g&&(Q4g(v4g,P4g),v4g.childNodes.length&&P4g.childNodes&&z4g(P4g,v4g));}}var B4g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},m4g=B4g.id,D4g=B4g.sansPrefixedCSS,B4g=l4g.cloneNode(true);z4g(l4g,B4g);m4g&&(B4g.id=m4g);m4g=B4g.style;m4g.pointerEvents="none";m4g.position="absolute";m4g.opacity=1;m4g.zIndex=9999999;m4g.display="block";return B4g;};j4g.create=function(R4g,x4g){if(null!=R4g){if(null==R4g.nodeName){if(-1!==R4g.indexOf("<")){var i4g=document.createElement("div");i4g.innerHTML=R4g.trim();R4g=i4g.childNodes;if(i4g=R4g.length){R4g=1===i4g?R4g[0]:R4g;}else{return;}}else{R4g=J4g.test(R4g)?"canvas"===R4g?sketch.Canvas2D():document.createElement(R4g):document.createTextNode(R4g);}}if(x4g){var i4g=R4g,a4g;for(a4g in x4g){if(x4g.hasOwnProperty(a4g)){var k4g=x4g[a4g];if("function"!==typeof k4g||0!==a4g.indexOf("on")&&!Gesture.handlers[a4g]){i4g.setAttribute(a4g,k4g);}else{Gesture.on(i4g,a4g,k4g);}}}}return R4g;}};j4g.createFocusNode=function(){var w4g=document.createElement(sketch.agent.mobile?"a":"input");w4g.className="ui-focus-element";w4g.href="#";return w4g;};}();void function(){function Y4g(r7g,s7g){r7g=r7g.getPropertyValue(s7g);r7g=parseFloat(r7g,10);return Number.isFinite(r7g)?r7g:0;}var A4g=sketch.dom;A4g.measure=function(T7g){var n7g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c7g=n7g.box||"border",I7g=!!n7g.sansScale;"string"===typeof T7g&&(T7g=A4g.$(T7g));if(!(T7g=T7g||this.selection&&this.selection[0])){return{width:0,height:0};}if(T7g===window||T7g===document){T7g=document.body;}var n7g={},M7g=T7g.getBoundingClientRect();n7g.x1=M7g.left;n7g.y1=M7g.top;n7g.scrollLeft=0;n7g.scrollTop=0;I7g?(n7g.width=T7g.offsetWidth,n7g.height=T7g.offsetHeight):(n7g.width=M7g.width,n7g.height=M7g.height,n7g.scaleX=M7g.width/T7g.offsetWidth||1,n7g.scaleY=M7g.height/T7g.offsetHeight||1);var I7g=getComputedStyle(T7g),M7g=n7g.margin={top:Y4g(I7g,"margin-top"),right:Y4g(I7g,"margin-right"),bottom:Y4g(I7g,"margin-bottom"),left:Y4g(I7g,"margin-left")},o7g=n7g.border={top:Y4g(I7g,"border-top-width"),right:Y4g(I7g,"border-right-width"),bottom:Y4g(I7g,"border-bottom-width"),left:Y4g(I7g,"border-left-width")};n7g.padding={top:Y4g(I7g,"padding-top"),right:Y4g(I7g,"padding-right"),bottom:Y4g(I7g,"padding-bottom"),left:Y4g(I7g,"padding-left")};"border"!==c7g&&"padding"!==c7g&&(n7g.x1-=M7g.left,n7g.y1-=M7g.top,n7g.width+=M7g.right+M7g.left,n7g.height+=M7g.bottom+M7g.top);"padding"===c7g&&(n7g.x1+=o7g.left,n7g.y1+=o7g.top,n7g.width-=o7g.right+o7g.left,n7g.height-=o7g.bottom+o7g.top);n7g.x2=n7g.x1+n7g.width;n7g.y2=n7g.y1+n7g.height;n7g.position=I7g.getPropertyValue("position");for(c7g=T7g;null!==c7g&&c7g!==document.body&&void 0!==c7g.scrollTop;){I7g=getComputedStyle(c7g).getPropertyValue("position");if("absolute"!==I7g){if("fixed"===I7g){n7g.scrollTop=c7g.scrollLeft;n7g.scrollLeft=c7g.scrollTop;break;}else{n7g.scrollLeft+=c7g.scrollLeft,n7g.scrollTop+=c7g.scrollTop;}}c7g=c7g.parentNode;}n7g.pageXOffset=window.pageXOffset;n7g.pageYOffset=window.pageYOffset;n7g.scrollLeft-=n7g.pageXOffset;n7g.scrollTop-=n7g.pageYOffset;return n7g;};}();void function(){var O7g=sketch.dom;O7g.empty=function(g7g){"string"===typeof g7g&&(g7g=O7g.$(g7g));if(!g7g){return null;}for(;g7g.firstChild;){g7g.firstChild.remove();}return g7g;};O7g.remove=function(h7g){var q7g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};q7g.duration||(q7g.duration=150);h7g=O7g.$(h7g);if(null==h7g){return console.error("The selector '"+h7g+"' could not be found."),Promise.resolve();}var y7g=h7g.style,Z7g=y7g.display,E7g=y7g.opacity,H7g=global.Velocity(h7g,"fadeOut",q7g).then(function(){H7g.cancelled||h7g.remove();});H7g.cancel=function(){H7g.cancelled=true;global.Velocity(h7g,"stop");y7g.display=Z7g;y7g.opacity=E7g;};return H7g;};}();void function(){function J7g(N7g,C7g){for(var t7g in C7g){C7g.hasOwnProperty(t7g)&&S7g(N7g.style,t7g,C7g[t7g]);}}function S7g(f7g,m7g,Q7g){if(m7g in f7g){f7g[m7g]=Q7g;}else{for(var B7g=0,z7g=j7g.length;B7g<z7g;B7g++){var l7g=""+j7g[B7g]+m7g;if(l7g in f7g){f7g[l7g]=Q7g;break;}}}}function K7g(F7g){for(var W7g=document.styleSheets,d7g=0,G7g=W7g.length;d7g<G7g;d7g++){var D7g=W7g[d7g];try{var X7g=D7g.cssRules;if(X7g){for(var D7g=0,e7g=X7g.length;D7g<e7g;D7g++){var U7g=X7g[D7g];if(F7g(U7g)){return U7g;}}}}catch(p7g){}}}j.initSymbol();j.initSymbol();j.initSymbolIterator();var b7g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(V7g){return typeof V7g;}:function(P7g){j.initSymbol();j.initSymbol();j.initSymbol();return P7g&&"function"===typeof Symbol&&P7g.constructor===Symbol&&P7g!==Symbol.prototype?"symbol":typeof P7g;},u7g=sketch.dom,j7g=["-webkit-","-moz-","-ms-","-o-"];u7g.css=function(v7g,R7g,i7g){if(v7g=u7g.$$(v7g)){if(1===v7g.nodeType&&(v7g=[v7g]),"undefined"===typeof R7g?false:"object"===b7g(R7g)){if(Array.isArray(R7g)){var x7g=getComputedStyle(v7g[0],null),a7g={};properties.forEach(function(w7g){a7g[w7g]=x7g[w7g];});return a7g;}i7g=0;for(var L7g=v7g.length;i7g<L7g;i7g++){J7g(v7g[i7g],R7g);}}else if(i7g){for(var L7g=0,k7g=v7g.length;L7g<k7g;L7g++){S7g(v7g[L7g].style,R7g,i7g);}}else{return getComputedStyle(v7g[0],null)[R7g];}}};u7g.stylesheet=function(r6g,A7g){var Y7g=[];K7g(function(s6g){r6g===s6g.selectorText&&(A7g?J7g(s6g,A7g):Y7g.push(s6g));});return Y7g;};u7g.findStyleSheetRule=K7g;}();void function(){sketch.util.prefixCSS=function(I6g,M6g,T6g){T6g||(T6g=document.documentElement);var o6g=T6g.style,n6g=window.getComputedStyle(T6g,"");T6g=["","-moz-","-webkit-","-ms-","-o-"];a:{for(var c6g=0;c6g<T6g.length;c6g++){for(var O6g=T6g[c6g],h6g=O6g+I6g,g6g=0;g6g<n6g.length;g6g++){if(n6g[g6g]===h6g){n6g=O6g;break a;}}}n6g=void 0;}if(null!=n6g){I6g=n6g+I6g;if(null==M6g){return I6g;}a:{for(n6g=0;n6g<T6g.length;n6g++){if(c6g=T6g[n6g]+M6g,O6g=o6g[I6g],o6g[I6g]=c6g,o6g[I6g]===c6g){o6g[I6g]=O6g;M6g=c6g;break a;}}M6g=void 0;}return{key:I6g,value:M6g};}};}();void function(){var y6g=sketch.dom,H6g=sketch.util.prefixCSS("pointer-events")?"pointerEvents":"display";y6g.elementFromPoint=function(J6g,j6g){var Z6g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{index:0},q6g=document.elementFromPoint(J6g.x,J6g.y);if(!q6g||!q6g.parentNode||!q6g.parentNode.ownerDocument){return null;}if(j6g){if("function"===typeof j6g){if(j6g(q6g,Z6g.index)){return q6g;}}else{var E6g=q6g.nodeName.toLowerCase();if("string"===typeof j6g){if(j6g===E6g){return q6g;}}else{for(var u6g=0,S6g=j6g.length;u6g<S6g;u6g++){if(j6g[u6g]===E6g){return q6g;}}}}}else{return q6g;}E6g=H6g;u6g=q6g.style[E6g];if(q6g===Z6g.element){if("display"===E6g||"none"!==u6g){return null;}E6g="display";u6g=Z6g.value;}q6g.style[E6g]="none";Z6g.index++;Z6g.element=q6g;Z6g.value=u6g;Z6g=y6g.elementFromPoint(J6g,j6g,Z6g);q6g.style[E6g]=u6g;return Z6g;};}();void function(){sketch.dom.scrollTo=function(C6g){var K6g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},B6g=K6g.y,m6g=K6g.x,D6g=0<=K6g.duration?K6g.duration:250,Q6g=!!K6g.relative,f6g=K6g.handler,t6g=C6g.scrollTop,b6g=C6g.scrollLeft,K6g=t6g,N6g=b6g;Number.isFinite(B6g)&&(K6g=Q6g?t6g+B6g:B6g);Number.isFinite(m6g)&&(N6g=Q6g?b6g+m6g:m6g);if(t6g===K6g&&b6g===N6g){return Promise.resolve();}if(0===D6g){return C6g.scrollLeft=N6g,C6g.scrollTop=K6g,f6g&&f6g(N6g-b6g,K6g-t6g),Promise.resolve();}var l6g=C6g.dataset,e6g=Date.now(),G6g=sketch.math.bezierEasing(.38,.63,.5,.95),W6g=K6g-t6g,U6g=N6g-b6g,X6g=false,d6g=t6g,z6g=b6g;return new Promise(function(F6g,V6g,p6g){l6g.scrolling="yes";p6g(function(){return X6g=true;});new function P6g(){if(X6g){l6g.scrolling="",F6g();}else{var v6g=Date.now()-e6g,v6g=G6g(Math.min(1,v6g/D6g)),L6g=b6g+v6g*U6g,R6g=t6g+v6g*W6g;f6g?(f6g(L6g-z6g,R6g-d6g),d6g=R6g,z6g=L6g):(C6g.scrollLeft=L6g,C6g.scrollTop=R6g);1===v6g?(l6g.scrolling="",F6g()):requestAnimationFrame(P6g);}}();});};}();void function(){function A6g(I8i){var n8i=window.getSelection();n8i.removeAllRanges();n8i.addRange(I8i);}function r8i(T8i){T8i=T8i||window.getSelection();T8i.rangeCount&&(T8i=T8i.getRangeAt(0),T8i.deleteContents());return T8i;}function k6g(c8i){return i6g.text.getSelection(c8i).end;}function w6g(o8i,M8i,O8i){Number.isFinite(M8i)&&(O8i&&(M8i+=k6g(o8i)),i6g.text.select(o8i,M8i,M8i));}function s8i(g8i,h8i,H8i){var y8i=g8i.tagName;"INPUT"===y8i||"TEXTAREA"===y8i?g8i.value!==h8i&&(g8i.value=h8i,w6g(g8i,H8i)):g8i.innerHTML!==h8i&&(g8i.innerHTML=h8i,w6g(g8i,H8i));}function x6g(Z8i){var q8i=window.getSelection().focusNode;return Z8i.contains(q8i);}var a6g=sketch.dom;a6g.editContent=function(E8i){var u8i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(N8i,B8i){function S8i(){S8i.ed||(S8i.ed=true,t8i.remove(),E8i.style.visibility="",Gesture.bulk(J8i,"detach"));}function f8i(){B8i();S8i();}function C8i(){var m8i=j8i.innerHTML;b8i?N8i(m8i.trim()):N8i(m8i);S8i();}var b8i=!!u8i.plainText,t8i=a6g.append(document.body,"sketch-text-input");E8i.style.visibility="hidden";var K8i=a6g.measure(E8i),j8i=a6g.clone(E8i,{sansPrefixedCSS:true});j8i.setAttribute("contentEditable",true);j8i.setAttribute("tabIndex",1);a6g.css(j8i,{color:"",background:"",cursor:"text",position:"absolute","pointer-events":"",textOverflow:"",top:K8i.y1+"px",left:K8i.x1+"px",visibility:""});t8i.appendChild(j8i);a6g.text.selectAll(j8i);var J8i={};J8i.mousedown=Gesture.on(j8i,"mousedown",Gesture.stop);J8i.blur=Gesture.on(j8i,"blur",C8i);b8i&&(J8i.escape=Keyster.on(j8i,"escape",f8i),J8i.enter=Keyster.on(j8i,"enter",C8i),Gesture.on(j8i,"input",function(){a6g.text.setValue(j8i,a6g.text.getPlainText(j8i));}));});};var Y6g=sketch.dom;Y6g.text||(Y6g.text={});Y6g.text.getPlainText=function(Q8i){function z8i(U8i){var X8i=U8i.currentStyle||U8i.ownerDocument.defaultView.getComputedStyle(U8i,null),F8i=X8i.whiteSpace.includes("pre"),W8i=U8i.tagName,X8i="SCRIPT"===W8i?"none":X8i.display?"block"===X8i.display&&"TD"===W8i?"feaux-inline":X8i.display:"LI,P,TR".includes(W8i)?"block":"feaux-inline";if("none"===X8i){return"";}U8i===Q8i?X8i="":(X8i="table-row,block,list-item".includes(X8i)?"\n":" ",W8i=l8i.slice(-1),"\n"!==W8i&&""!==W8i&&W8i!==X8i&&(l8i+=X8i));for(var W8i=U8i.childNodes,e8i=0;e8i<W8i.length;e8i++){var G8i=W8i[e8i];3===G8i.nodeType?l8i=F8i?l8i+G8i.nodeValue:l8i+G8i.nodeValue.replace(D8i," ").replace(d8i," "):"BR"===G8i.nodeName?l8i+="\n":G8i.childNodes.length&&z8i(G8i);}l8i.slice(-1)!==X8i&&(l8i+=X8i);"P"===U8i.nodeName&&(l8i+=X8i);return l8i;}var D8i=/[\r\n]/g,d8i=/ +/g,l8i="";z8i(Q8i);return l8i;};var i6g=sketch.dom;i6g.text||(i6g.text={});i6g.text.selectAll=function(V8i){var p8i;if(document.body.createTextRange){return p8i=document.body.createTextRange(),p8i.moveToElementText(V8i),p8i.select(),p8i;}if(window.getSelection){return p8i=document.createRange(),p8i.selectNodeContents(V8i),A6g(p8i),p8i;}};i6g.text.hasFocus=function(P8i){return x6g(P8i);};i6g.text.hasSelection=function(v8i){return x6g(v8i)&&(v8i=i6g.text.getRange(v8i))?v8i.endOffset!==v8i.startOffset:false;};i6g.text.getRange=function(L8i){var R8i=window.getSelection();if(null===R8i){return L8i=k6g(L8i),{startOffset:L8i,endOffset:L8i};}if(x6g(L8i)&&(L8i=R8i.focusNode)){return 3===L8i.nodeType?R8i.getRangeAt(0):L8i.firstChild?(L8i=L8i.firstChild,{startOffset:0,endOffset:L8i.data&&L8i.data.length||0}):{startOffset:0,endOffset:0};}};i6g.text.cut=function(i8i){if(x6g(i8i)){try{document.execCommand("cut",false,null);}catch(a8i){r8i();}}};i6g.text.paste=function(k8i,x8i){if(x6g(k8i)){try{document.execCommand("insertHTML",false,x8i);}catch(w8i){r8i().insertNode(document.createTextNode(x8i)),w6g(k8i,x8i.length,true);}}};i6g.text.select=function(r2i,I2i,T2i){if(r2i.setSelectionRange){r2i.setSelectionRange(I2i,T2i);}else{var s2i=void 0,n2i=void 0,Y8i=0;r2i=r2i.childNodes;for(var c2i=0;c2i<r2i.length;c2i++){var M2i=r2i[c2i],A8i=M2i.nodeValue;if(A8i){A8i=A8i.length;if(null==s2i||null==n2i){null==s2i&&I2i<=Y8i+A8i&&(s2i=M2i,I2i-=Y8i),null==n2i&&T2i<=Y8i+A8i&&(n2i=M2i,T2i-=Y8i);}else{break;}Y8i+=A8i;}}s2i&&n2i&&(Y8i=document.createRange(),Y8i.setStart(s2i,I2i),Y8i.setEnd(n2i,T2i),A6g(Y8i));}};i6g.text.getCursorPosition=k6g;i6g.text.setCursorPosition=w6g;i6g.text.getSelection=function(O2i){var o2i=O2i.selectionDirection;if(o2i){return"backward"===o2i?{start:O2i.selectionEnd,end:O2i.selectionStart}:{start:O2i.selectionStart,end:O2i.selectionEnd};}if("true"===O2i.contentEditable&&(o2i=window.getSelection(),o2i.rangeCount)){var o2i=o2i.getRangeAt(0),g2i=o2i.cloneRange();g2i.selectNodeContents(O2i);g2i.setEnd(o2i.startContainer,o2i.startOffset);O2i=g2i.toString().length;g2i.setEnd(o2i.endContainer,o2i.endOffset);return{start:O2i,end:g2i.toString().length};}return{start:0,end:0};};i6g.text.setValue=function(h2i,y2i){y2i=String(y2i);document.activeElement===h2i?s8i(h2i,y2i,k6g(h2i)):s8i(h2i,y2i);};}();void function(){function u2i(j2i){j2i=j2i.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?/);if("data:"===j2i[1]||"blob:"===j2i[1]||"filesystem:"===j2i[1]){return true;}}var q2i=!!("crossOrigin"in document.createElement("img")),Z2i="undefined"!==typeof global&&"FormData"in global,H2i={};sketch.requestImage=function J2i(S2i){var b2i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!S2i){return Promise.reject("requestImage(...) Source must be defined.");}var t2i;(t2i=b2i.image)||(t2i="undefined"===typeof document?new Canvas.Image():new Image());var K2i=t2i,C2i=b2i.onProgress,b2i=new Promise(function(l2i,m2i){function Q2i(){sketch.request(S2i,{as:"blob",dedupe:true,onProgress:C2i}).then(function(z2i){H2i[f2i()]=2;S2i=URL.createObjectURL(z2i);N2i(0);}).catch(function(D2i){N2i(3);});}function N2i(d2i){K2i.onload=function(){return l2i(K2i);};K2i.onerror=function(X2i){1===d2i?N2i(3):m2i("requestImage(...) URL could not be loaded.");};switch(d2i){case 0:K2i.src=S2i;break;case 1:if(q2i){K2i.crossOrigin="anonymous";K2i.src=S2i;break;}case 2:Q2i();break;case 3:J2i.proxyUrl?(H2i[f2i()]=3,S2i=J2i.proxyUrl+S2i,N2i(0,"orFail")):m2i("requestImage(...) URL requires an image proxy.");}return K2i;}function f2i(){return new global.URL(S2i,global.location.href).host;}if(Galactic.is(S2i,"Uint8Array")||u2i(S2i)){return N2i(0);}if(C2i){return N2i(2);}if(E2i(S2i)){return N2i(0);}var B2i=H2i[f2i()];return"undefined"!==typeof B2i?N2i(B2i):q2i?N2i(1):Z2i?N2i(2):N2i(3);});b2i.image=K2i;return b2i;};var E2i=function(){var W2i=/^([!#$&-;=?-\[\]_a-z~ ]|%[0-9a-fA-F]{2}|)+$/,U2i=/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?/,G2i={"http:":/:(80)?$/,"https:":/:(443)?$/};return function(F2i){if("string"!==typeof F2i){console.error(F2i);}else{var e2i=F2i.match(U2i);return e2i[1]&&e2i[1].toLowerCase()!==location.protocol||e2i[2]&&e2i[2].replace(G2i[location.protocol],"")!==location.host||e2i[1]&&!e2i[2]?false:W2i.test(F2i);}};}();}();void function(){function V2i(){return new Promise(function(L2i){if(document.body){L2i();}else{var R2i=window.setInterval(function(){document.body&&(window.clearInterval(R2i),L2i());},1);}});}function P2i(a2i){function k2i(r0i){Y2i.setProgress(r0i);w2i&&w2i(r0i);}function A2i(n0i){var s0i={};n0i.forEach(function(I0i,T0i){s0i[a2i[T0i].url]=I0i;});return s0i;}var i2i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!Array.isArray(a2i)){return sketch.debug&&console.error(a2i),Promise.resolve();}var i2i=i2i.onProgress,w2i=void 0===i2i?Function:i2i,x2i=[],Y2i=sketch.timer||(sketch.timer=new sketch.ui.Timer({parentNode:document.body,format:"percent",size:120,progress:0}));return Promise.all(a2i.map(function(c0i,O0i){var o0i=c0i,M0i=0;("undefined"===typeof c0i?false:"object"===p2i(c0i))&&(o0i=c0i.url,M0i=c0i.bytes);x2i.push({progress:0,bytes:M0i});return sketch.request(o0i,{totalBytes:M0i,onProgress:function(H0i,q0i){var g0i=x2i[O0i];g0i.progress=H0i;g0i.bytes||(g0i.bytes=q0i.total);var h0i=0,y0i=0;x2i.forEach(function(Z0i){y0i+=Z0i.bytes;h0i+=Z0i.progress*Z0i.bytes>>0;});k2i(Math.min(.99,h0i/y0i));}}).catch(function(E0i){console.error(E0i);});})).then(function(u0i){k2i(.99);window.setTimeout(function(){return k2i(1);},250);return A2i(u0i);}).catch(function(j0i){Y2i.hide();throw j0i;});}function v2i(b0i){for(var S0i in b0i){var K0i=b0i[S0i];if(S0i.includes(".js")){var J0i=document.createElement("script");J0i.innerHTML=K0i;document.head.appendChild(J0i);J0i.remove();}else{J0i=document.createElement("style"),J0i.innerHTML=K0i.split("../").join("./"),document.head.appendChild(J0i);}}}j.initSymbol();j.initSymbol();j.initSymbolIterator();var p2i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t0i){return typeof t0i;}:function(C0i){j.initSymbol();j.initSymbol();j.initSymbol();return C0i&&"function"===typeof Symbol&&C0i.constructor===Symbol&&C0i!==Symbol.prototype?"symbol":typeof C0i;};window.AppLoader=function(N0i,f0i){return V2i().then(function(){return P2i(N0i,f0i);}).then(v2i);};}();void function(){function l0i(){var Q0i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({as:"text",dedupe:false,headers:{},method:Q0i.data?"POST":"GET",withCredentials:false,totalBytes:0},Q0i);}var B0i=void 0,m0i=["arraybuffer","blob","document"];sketch.requestXHR=function(p0i){var W0i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},z0i=l0i(W0i),U0i=z0i.as,d0i=z0i.data,F0i=z0i.dedupe,X0i=z0i.headers,V0i=z0i.method,G0i=z0i.mimeType,D0i=z0i.onProgress,e0i=z0i.totalBytes,P0i=z0i.withCredentials;return new Promise(function(R0i,i0i){function x0i(k0i){k0i.lengthComputable&&(e0i=k0i.total);D0i(Math.min(1,k0i.loaded/e0i),k0i,v0i);}if(F0i){B0i||(B0i=Galactic.deduper());var L0i=JSON.stringify([p0i,W0i]),L0i=B0i(L0i,R0i,i0i,{onProgress:D0i});if(!L0i){return;}i0i=L0i.reject;R0i=L0i.resolve;D0i=L0i.onprogress;}var v0i=new XMLHttpRequest();v0i.open(V0i,p0i,true);if(X0i){for(var a0i in X0i){v0i.setRequestHeader(a0i,X0i[a0i]);}}else{d0i&&v0i.setRequestHeader("Content-type","application/x-www-form-urlencoded");}G0i&&v0i.overrideMimeType(G0i);m0i.includes(U0i)&&(v0i.responseType=U0i);P0i&&(v0i.withCredentials=true);"onerror"in v0i&&(v0i.onerror=i0i);D0i&&v0i.upload&&"onprogress"in v0i.upload&&(d0i?v0i.upload.onprogress=x0i:v0i.addEventListener("progress",x0i,false));v0i.onreadystatechange=function(){4===v0i.readyState&&R0i(v0i);};v0i.send(d0i);});};sketch.request=function(w0i){var Y0i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},A0i=Y0i.as,r3i=void 0===A0i?"text":A0i;return sketch.requestXHR(w0i,Y0i).then(function(s3i){var n3i=s3i.status;if(200===n3i||304===n3i||308===n3i||0===n3i){switch(r3i){case"json":try{return JSON.parse(s3i.response);}catch(I3i){throw Error('JSON invalid: "'+w0i+'"');}case"xml":return s3i.responseXML;case"text":return s3i.responseText;default:return s3i.response;}}throw Error("URL inaccessible: \u201c"+w0i+"\u201d");});};sketch.requestJSON=function(T3i){return sketch.request(T3i,Object.assign({},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},{as:"json",method:"GET"}));};}();void function(){function j3i(Q3i,z3i,D3i){var l3i=sketch.detect,d3i="allTools"===Q3i,X3i="tools"===Q3i,W3i=l3i.tool[Q3i],l3i=l3i.toolkit[Q3i];if(X3i||d3i||W3i||l3i){return sketch.docs.forEach(function(U3i){U3i=U3i.toolkit;if(d3i){for(var e3i in U3i.config){U3i.setConfig(e3i,z3i,D3i);}}else if(X3i){for(var G3i in z3i){U3i.setConfig(G3i,z3i[G3i],D3i);}}else{U3i.setConfig(Q3i,z3i,D3i);}}),true;}}function E3i(){E3i=function(){return Promise.resolve();};S3i();"production"===H3i.env&&t3i();global.C2S&&global._shimContext2D(C2S.prototype);return K3i().then(function(){return sketch.emit.andNotifyNewHandlers("init");});}function S3i(){if(global.navigator){var F3i=M3i.helloMessage;if(F3i){var p3i=F3i.name,F3i=F3i.url,V3i=sketch.version;y3i.chrome?console.log.apply(console,["\n %c  %c "+p3i+" "+V3i+"  %c %c "+F3i+"  %c \n\n","background: #1CD1FF; padding:5px 0;","color: #1CD1FF; background: #030307; padding:5px 0;","background: #1CD1FF; padding:5px 0;","background: #a0ecff; padding:5px 0;","background: #1CD1FF; padding:5px 0;"]):console.log(p3i+" "+V3i+" - "+F3i);}}}function K3i(){return 0!==Galactic.getProperty("glfx.presets.length")?Promise.resolve():new Promise(function(P3i){return glfx.loadFilters(P3i);});}function b3i(){(function(){var v3i=H3i.search;v3i&&(v3i.pixelRatio&&(M3i.adhereToPixelRatio=false,M3i.doc.pixelRatio=parseFloat(v3i.pixelRatio)),v3i.zoom&&(M3i.zoom.value=parseFloat(v3i.zoom)),"boolean"===typeof v3i.ignoreUpgradeNotice&&(M3i.ignoreUpgradeNotice=v3i.ignoreUpgradeNotice),Object.keys(v3i).forEach(function(L3i){"boolean"===typeof M3i[L3i]&&(v3i[L3i]="false"!==v3i[L3i]);}),sketch.config("feature",v3i));}());(function(){sketch.debug&&(global.LiveReload&&(LiveReload.console.log=g3i.debounce(function(){var R3i=sketch.themify;R3i.init();R3i.set();},50)),document.body.style.overflow="auto");}());(function(){var a3i=o3i.ThemeDefault(),i3i=Galactic.getProperty(M3i,"tools.allTools.controls");i3i?i3i.extendPreset&&("DefaultControls"===i3i.extendPreset?i3i=g3i.assignDeep(a3i,i3i):console.error("The theme '"+i3i.extendPreset+"' does not exist.")):i3i=a3i;Galactic.setProperty(M3i,"tools.allTools.controls",i3i);}());}function t3i(){"undefined"!==typeof Raven&&(Raven.limiter={},Raven.setShouldSendCallback(function(x3i){x3i=x3i.message;return x3i in Raven.limiter?false:Raven.limiter[x3i]=true;}),console.error=function(k3i){if(k3i instanceof Error){Raven.captureException(k3i);}else{try{throw k3i;}catch(w3i){Raven.captureException(w3i);}}});}function u3i(Y3i,A3i){return Y3i&&!(A3i instanceof Y3i);}function N3i(r5i){var n5i=sketch.ui;Gesture.bulk(sketch.attachedEvents,"detach");var s5i=sketch.attachedEvents={};r5i.events&&Gesture.bulk(r5i.events,"detach");r5i.events={};s5i.onResize=Gesture.on(window,"resize",g3i.debounce(f3i,{wait:100}));n5i.initToolbar&&n5i.initToolbar();y3i.chromeApp||(s5i.onBeforeUnload=Gesture.on(window,"beforeunload",J3i));Gesture.on(sketch.$container,"contextmenu",function(I5i){q3i.elementFromPoint(I5i,["input","textarea"])||Gesture.prevent(I5i);});Gesture.on(r5i.$element,"mousedown",B3i);Gesture.on(r5i.$inputPointer,"mouseup",function(){document.activeElement!==document.body&&document.activeElement&&document.activeElement.blur();});s5i.onFocusWindow=Gesture.on(window,"focus",C3i);s5i.onBlurWindow=Gesture.on(window,"blur",m3i);}function f3i(){sketch.emit("beforeresize");sketch.emit("resize",sketch.doc.viewport);}function B3i(){document.body.focus();}function m3i(){Keyster.reset();}function C3i(){Keyster.reset();var T5i=sketch.doc.scene.clipboard;T5i&&T5i.restore();}function J3i(O5i){function o5i(g5i){return"function"===typeof g5i?g5i():g5i;}if(!M3i.bypassUnloadPrompt){var c5i=M3i.beforeUnloadPrompt,M5i=void 0;("undefined"===typeof c5i?false:"object"===h3i(c5i))?(M5i=o5i(c5i.message),setTimeout(c5i.oncancel,250)):M5i=o5i(c5i);if(M5i){return(O5i||window.event).returnValue=M5i;}}}j.initSymbol();j.initSymbol();j.initSymbolIterator();var h3i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(h5i){return typeof h5i;}:function(y5i){j.initSymbol();j.initSymbol();j.initSymbol();return y5i&&"function"===typeof Symbol&&y5i.constructor===Symbol&&y5i!==Symbol.prototype?"symbol":typeof y5i;},Z3i=function(H5i,q5i,Z5i){q5i in H5i?Object.defineProperty(H5i,q5i,{value:Z5i,enumerable:true,configurable:true,writable:true}):H5i[q5i]=Z5i;return H5i;};sketch.boot=function(E5i){return new Promise(function(u5i,j5i){sketch.config("feature",E5i);sketch.config("hosts",E5i.hosts||E5i.host&&Z3i({},location.host,E5i.host));sketch.config("assets",E5i.assets);sketch.config("theme",E5i.theme);return u5i(Promise.resolve());}.bind(this));};sketch.config=function(J5i,K5i){if("string"===typeof J5i){var S5i=sketch.config[J5i];if(S5i){return S5i(K5i);}j3i.apply(void 0,arguments)||console.error('sketch.config(...) "'+J5i+'" handler not found.');}};sketch.config.assets=function(b5i){if("undefined"===typeof b5i?false:"object"===h3i(b5i)){var t5i=sketch.resources;b5i.clipart&&t5i.setCollection("clipart",b5i.clipart);b5i.color&&t5i.setCollection("color",b5i.color);b5i.font&&t5i.setCollection("font",b5i.font);b5i.gradient&&t5i.setCollection("gradient",b5i.gradient);b5i.pattern&&t5i.setCollection("pattern",b5i.pattern);b5i.shape&&t5i.setCollection("shape",b5i.shape);b5i.stamp&&t5i.setCollection("stamp",b5i.stamp);b5i.tileBrush&&t5i.setCollection("tileBrush",b5i.tileBrush);}};sketch.config.feature=function(N5i){function C5i(z5i,m5i){if(z5i){for(var B5i in z5i){var l5i=m5i[B5i],Q5i="undefined"===typeof l5i?"undefined":h3i(l5i),f5i=z5i[B5i];null==f5i||null==l5i?m5i[B5i]=f5i:"string"===Q5i?m5i[B5i]=f5i:"boolean"===Q5i?m5i[B5i]=true===f5i||"true"===f5i||""===f5i:"number"===Q5i?Number.isFinite(f5i=parseFloat(f5i))&&(m5i[B5i]=f5i):"object"===Q5i&&(Array.isArray(f5i)&&Array.isArray(l5i)?m5i[B5i]=f5i:C5i(f5i,l5i));}}}C5i(N5i,sketch.feature);};sketch.config.hosts=function(D5i){sketch.loc.setHost(D5i);};sketch.config.theme=function(d5i){if(d5i){sketch.on("init",function(){d5i=Object.assign({},d5i);for(var X5i in d5i){var W5i=d5i[X5i];"number"===typeof W5i&&(d5i[X5i]=sketch.color.space(W5i,"HEX32>RGBA>W3"));}sketch.themify.set(d5i);});}};sketch.PATH_SIMPLIFY={};sketch.PATH_SIMPLIFY.LANG=0;sketch.PATH_SIMPLIFY.RADIAL_DISTANCE=1;sketch.PATH_SMOOTHING={};sketch.PATH_SMOOTHING.CATMULL_ROM=0;sketch.PATH_SPACING={};sketch.PATH_SPACING.ADAPTIVE=0;sketch.PATH_SPACING.ADAPTIVE_THRESHOLD=1;sketch.PATH_SPACING.EVEN=2;var O3i=sketch.util,c3i=sketch.feature;c3i.appName="Sketchpad";c3i.element="body";c3i.lang="auto";c3i.suppressWheelScroll=false;c3i.preventTouchScroll=true;c3i.prefix="sketch";c3i.restoreSettings=false;c3i.ignoreUpgradeNotice=false;c3i.hotkeys=[];c3i.theme={};c3i.paths={};c3i.paths.pdf="$HOST/workers/pdf/pdf.worker.js";c3i.paths.zip="$HOST/workers/zip/";c3i.debug=false;c3i.debugBoundingBox=false;c3i.debugCache=false;c3i.debugControls=false;c3i.debugGestureBoundingBox=false;c3i.debugInBounds=false;c3i.debugLanguage=false;c3i.debugMobile=false;c3i.debugRender=false;c3i.debugStats=false;c3i.perf=false;c3i.bypassUnloadPrompt=false;c3i.helloMessage={name:"SketchAPI",url:"https://sketch.io/"};c3i.cache2DPadding=1;c3i.hiRes=false;c3i.hiResCache=false;c3i.forcePIXIRenderer=false;c3i.forceCanvasRenderer=false;c3i.paintWithMultipleFingers=false;c3i.keepLayersInBounds=false;c3i.adhereToPixelRatio=true;c3i.ifSlowLowerResolution=false;c3i.glfx=false;c3i.glfxPixelData=false;c3i.suppressScrollX=false;c3i.suppressScrollY=false;c3i.grid={visible:true,dividers:[{type:"xy",every:15,stroke:"#ddd"}]};c3i.guides={visible:true,locked:false,stroke:{color:"#0e479e",lineDash:[1.5,1.5],shadowColor:"rgba(0,0,0,0.5)",shadowOffsetX:1,shadowOffsetY:1}};c3i.history={};c3i.history.autoSelect=false;c3i.history.canUndo=true;c3i.history.canRedo=true;c3i.history.limit=-1;c3i.gesturePan=true;c3i.gestureZoom=true;c3i.gestureRotate=true;c3i.interactable=true;c3i.doc={};c3i.doc.clipPath={};c3i.doc.clipPath.enabled=true;c3i.doc.title="My Drawing";c3i.doc.description="Made with sketch.io";c3i.doc.units="%";c3i.doc.width=100;c3i.doc.height=100;c3i.doc.pixelRatio=void 0;c3i.doc.exportDPI=72;c3i.doc.exportFormat="png";c3i.doc.exportQuality=.95;c3i.doc.globalTools=true;c3i.viewportPadding={};c3i.viewportPadding.top=0;c3i.viewportPadding.right=0;c3i.viewportPadding.bottom=0;c3i.viewportPadding.left=0;c3i.tools={};c3i.tools.allTools={};c3i.tools.allTools.flippable=true;c3i.tools.allTools.units="userSpaceOnUse";c3i.tools.allTools.defaultHeight=50;c3i.tools.allTools.defaultWidth=50;c3i.tools.allTools.useAddByClick=true;c3i.tools.allTools.useAddByDrag=true;c3i.tools.allTools.showBBox=true;c3i.tools.allTools.showCenterPoint=true;c3i.tools.allTools.showGhostPath=false;c3i.tools.allTools.minWidth=3;c3i.tools.allTools.minHeight=3;c3i.tools.allTools.maxWidth=8192;c3i.tools.allTools.maxHeight=8192;c3i.tools.allTools.usePointInImageData=true;c3i.tools.allTools.usePointInPath=false;c3i.tools.allTools.usePointNearest=false;c3i.tools.allTools.enableLiveCursor=true;c3i.tools.allTools.useHoverAsFocus=true;c3i.tools.allTools.units="userSpaceOnUse";c3i.tools.select={};c3i.tools.select.useConfigure=true;c3i.tools.select.clickToDeselect=false;c3i.tools.text={};c3i.tools.text.alwaysEditInPlace=false;c3i.tools.text.defaultContent="type-something";c3i.tools.text.defaultHeight=100;c3i.tools.text.defaultWidth=300;c3i.tools.text.minHeight=15;c3i.tools.text.minWidth=40;c3i.tools.text.returnToCommitChanges=false;c3i.tools.text.useAutoHeight=false;c3i.tools.text.useClipBounds=false;c3i.tools.text.usePointNearest=true;c3i.tools.text.useResize=true;c3i.tools.text.searchParam={selected:true};c3i.tools.camera={};c3i.tools.camera.searchParam={selected:true};c3i.tools.clipart={};c3i.tools.clipart.searchParam={selected:true};c3i.tools.image={};c3i.tools.image.searchParam={selected:true};c3i.tools.group={};c3i.tools.group.useKeyboardShortcuts=true;c3i.tools.group.hideSideControls=true;c3i.tools.pointer={};c3i.tools.pointer.vibrate=false;c3i.tools.polygon={};c3i.tools.polygon.useAddPointAtDistanceOnDrag=10;c3i.tools.polygon.useBendable=false;c3i.tools.polyline={};c3i.tools.polyline.useAddPointAtDistanceOnDrag=10;c3i.tools.polyline.useBendable=false;c3i.tools.lineSegment={};c3i.tools.lineSegment.useBendable=false;c3i.zoom={};c3i.zoom.dragMode="default";c3i.zoom.enabled=true;c3i.zoom.defaultValue=1;c3i.zoom.increment=.1;c3i.zoom.max=100;c3i.zoom.min=.25;c3i.zoom.value=1;c3i.ui={};c3i.ui.addToLibrary=true;c3i.ui.customRangeBar=false;c3i.ui.dynamicCursor=true;c3i.ui.listText="list";c3i.ui.quickSelect=false;c3i.ui.quickZoom=true;c3i.ui.scrollerCategories=true;c3i.ui.scrollerShadow=false;c3i.uploader={};c3i.uploader.DnD=true;c3i.uploader.DnDArea=void 0;c3i.uploader.DnDMessage=void 0;c3i.beforeUnloadPrompt=false;c3i.showTransparency=false;c3i.palette={};c3i.palette.hexInput=false;c3i.palette.closeButton=false;c3i.palette.colorPicker=null;c3i.palette.eyeDropper=false;c3i.palette.grid=false;c3i.palette.header="";c3i.palette.version=2;c3i.io={};c3i.io.exportDrop=true;c3i.io.incrementX=0;c3i.io.incrementY=0;c3i.style={};c3i.style.setGlobalsFromSelection=true;c3i.style.globalized="yes";c3i.style.blend=false;c3i.style.composite=false;c3i.style.colorMode=false;c3i.style.colorNoise=false;c3i.placement={};c3i.placement.mediaClick=false;c3i.placement.mediaDblClick=false;c3i.placement.mediaDrag=false;c3i.fs={};c3i.fs.bundle={};c3i.fs.thumb={};c3i.stream={};c3i.stream.api="RTCDataChannel";c3i.stream.audio=false;c3i.stream.realtime=false;c3i.stream.sketch=false;c3i.stream.syncServer=true;c3i.stream.video=false;c3i.session={};c3i.session.userId=O3i.random.intRange(0,4294967295);c3i.session.userName=O3i.pronounceable();c3i.social={};c3i.social.autoLogout=false;c3i.social.autoLogoutTimeout=false;c3i.social.setCookie=true;c3i.defaults={};c3i.defaults.tool="calligraphy";c3i.defaults.fill="black";c3i.defaults.stroke="black";c3i.defaults.background="yellow";c3i.defaults.color="";c3i.defaults.gradient="";c3i.defaults.pattern="";c3i.defaults.clipart="";c3i.defaults.font="Arial";c3i.defaults.stamp="";c3i.syncId=function(){return location.hash.substr(1);};sketch.flags.interactable=true;O3i=sketch.globals;O3i.autosave=true;O3i.blend="normal";O3i.highRes=false;O3i.paintIntoShapes=false;O3i.snapToGrid=15;O3i.snapToGuides=15;O3i.snapToObjects=15;O3i.snapToPixels=true;var y3i=sketch.agent,q3i=sketch.dom,M3i=sketch.feature,H3i=sketch.loc,o3i=sketch.module,g3i=sketch.util;void function(){["selection"].forEach(function(U5i){Object.defineProperty(sketch,U5i,{get:function(){return sketch.doc.scene[U5i];}});});}();void function(){["debug"].forEach(function(G5i){Object.defineProperty(sketch,G5i,{get:function(){return sketch.feature[G5i];},set:function(e5i){return sketch.feature[G5i]=e5i;}});});}();sketch.attachedEvents={};sketch.setFeature=function(F5i){g3i.assignDeep(M3i,F5i);};sketch.Document=function(){var p5i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},V5i=p5i.background||M3i.doc.background,P5i=p5i.onBeforeRestore,v5i=p5i.onBrowserSupport;return E3i().then(function(){var a5i=sketch.lang;sketch.style.boot();sketch.tools.boot();b3i();var R5i=Object.assign({},M3i.doc,p5i),L5i=new o3i.Document(R5i);L5i.config(R5i);var i5i=!sketch._noRendering;return function(){return i5i?y3i.init().then(function(){return a5i.set(M3i.lang);}).catch(function(x5i){}):Promise.resolve();}().then(function(){return v5i?v5i(L5i)||Promise.resolve():Promise.resolve();}).then(function(){sketch.vector.PolygonLib&&(sketch.vector.clipper=new sketch.vector.PolygonLib());sketch._noRendering||(u3i(o3i.UIVortex,sketch.vortex)&&(sketch.vortex=new o3i.UIVortex(document.body)),u3i(o3i.Keyboard,sketch.keyboard)&&(sketch.keyboard=new o3i.Keyboard()),sketch.keyboard&&sketch.keyboard.transferArea.enable(L5i));o3i.Recorder&&!L5i.recorder&&(L5i.recorder=new o3i.Recorder(L5i));o3i.Player&&!L5i.player&&(L5i.player=new o3i.Player(L5i));sketch._noRendering||"undefined"===typeof Stats||sketch.stats||!M3i.debugStats||(sketch.stats=new Stats(),sketch.stats.setMode(0),sketch.stats.domElement.style.zIndex=99999,sketch.stats.domElement.style.position="fixed",sketch.stats.domElement.style.bottom="0px",sketch.stats.domElement.style.left="0px",document.body.appendChild(sketch.stats.domElement));o3i.PathFinder&&new o3i.PathFinder(L5i);o3i.ZoomControls&&o3i.ZoomControls(L5i);L5i.toolkit.init();o3i.integrateOnce();o3i.integrate(L5i);i5i&&(M3i.adhereToPixelRatio&&L5i.setPixelRatioToDefault(),N3i(L5i),L5i.setViewportSize(),L5i.render.start());V5i&&L5i.setBackground(V5i,{recordHistory:false});M3i.tools&&sketch.config("tools",M3i.tools);sketch.ready=true;return Promise.resolve();}).then(function(){P5i&&P5i(L5i);var k5i;p5i.width&&p5i.height&&L5i.setSize(p5i.width,p5i.height,p5i.units);k5i=M3i.restoreSettings?L5i.restoreSettings():Promise.resolve();return k5i;}).then(function(){L5i.emit("ready");return L5i;});});};sketch._getPluginPath=function(Y5i){var w5i=H3i.HOST.slice(0,-1);return Y5i.replace("$HOST",w5i);};sketch.getSupportedFormats=function(){var r9i=sketch.convert,n9i=sketch.feature,s9i=sketch.io,A5i=["jpg","jpeg","gif","png","svg"];s9i.json&&A5i.push("json");s9i.zip&&A5i.push("zip");s9i.json&&s9i.zip&&A5i.push("sketchpad");n9i.io.pdf&&A5i.push("pdf");n9i.io.psd&&A5i.push("psd");r9i.abr&&A5i.push("abr");r9i.gbr&&A5i.push("gbr");r9i.arrayFromGGR&&A5i.push("ggr");r9i.arrayFromGPL&&A5i.push("gpl");return A5i;};sketch.getEventId=function(I9i){return I9i?I9i.env&&I9i.env.pointerId?I9i.env.pointerId:I9i.originalEvent?sketch.user.id+"_"+I9i.id:I9i.id?String(I9i.id):"":sketch.user.id+"_"+ ++Gesture.pointerId;};sketch.isSupported=function(){return!!(sketch.agent.canvas&&global.FileReader&&global.ArrayBuffer&&global.Blob&&document.documentElement.classList);};sketch.on("cursor:show",function(T9i){q3i.cursor(sketch.doc.$inputPointer,T9i);});}();void function(){function K9i(A9i,s1i){var r1i=g9i[A9i];if("boolean"===typeof r1i){return r1i;}if(document.fonts&&v9i.chrome){if(document.fonts.check("1em '"+A9i+"'")){return g9i[A9i]=true;}}else if("Verdana"===A9i){return g9i[A9i]=true;}return Y9i.apply(void 0,arguments);}function Y9i(T1i,n1i){null==H9i&&(H9i=b9i(130,20),y9i=H9i.ctx,o9i.font="16px Verdana",o9i.nothing=q9i(""));var I1i=o9i.arial,c1i=o9i.nothing;n1i?(o9i.font="16px Verdana",I1i=q9i(n1i)):(n1i="TheQuickBrownFox",null==o9i.arial&&(o9i.font="16px Verdana",o9i.arial=I1i=q9i(n1i)));o9i.font='16px "'+T1i+'", Verdana';n1i=q9i(n1i);return n1i!==c1i&&n1i!==I1i?g9i[T1i]=true:false;}function q9i(M1i){b9i.clear(H9i);y9i.font=o9i.font;y9i.textBaseline="top";y9i.fillText(M1i,0,0);return y9i.canvas.toDataURL();}function w9i(o1i,O1i){return new Promise(function(u1i,j1i){function q1i(J1i){clearInterval(H1i);g9i[o1i]=false;g1i&&g1i.setAttribute("data-error","timeout");j1i('The font "'+o1i+'" could not be loaded.');}var Z1i=O1i.timeout||15E3,g1i=O1i.link,h1i=O1i.filepath,E1i=Date.now(),y1i=void 0,H1i=setInterval(function(){if(K9i(o1i)){clearInterval(H1i),g9i[o1i]=true,u1i({loaded:true});}else{var S1i=Date.now()-E1i;S1i>Z1i?q1i():h1i&&2E3<S1i&&!y1i&&(y1i=sketch.request(h1i,{method:"HEAD"}).catch(q1i));}},10);});}function k9i(K1i){var C1i=K1i.src,N1i=K1i.blob,t1i=K1i.targetId;K1i=K1i.onProgress;var b1i=void 0,b1i=t1i?t9i.unprefixed(t1i):C1i;return M9i.load(b1i,{blob:N1i,onProgress:K1i}).then(function(f1i){return{created:true,type:"font",id:t9i.prefixed(b1i),content:f1i};});}function x9i(B1i){var m1i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l1i=m1i.blob,Q1i=function(D1i){if(D1i){return D1i;}if(D1i=m1i.resource||sketch.resources.get(B1i)){return sketch.resources.getUrl(D1i,"woff");}}(m1i.path),z1i=M9i.get(B1i);return z1i?Promise.resolve(z1i):l1i||Q1i?l1i?sketch.convert.blob(l1i,"arrayBuffer").then(function(d1i){d1i=opentype.parse(d1i);return h9i[B1i]=d1i;}):new Promise(function(X1i,W1i){opentype.load(Q1i,function(U1i,G1i){U1i?(console.error(U1i),W1i(U1i)):(h9i[B1i]=G1i,X1i(G1i));});}):Promise.reject("loadForCanvas(...) The font '"+B1i+"' could not be found.");}function a9i(e1i){var F1i=e1i.src,p1i=e1i.targetId,V1i=e1i.onProgress;e1i=e1i.blob||V9i.getMediaUrl(F1i);return sketch.thumbnailer(e1i,{onProgress:V1i}).then(function(P1i){P1i.title="assetCanvas";return{created:true,type:"image",id:p9i._createId(P1i,p1i),content:P1i};});}function i9i(v1i){var a1i=v1i.src,L1i=v1i.blob,R1i=v1i.targetId,i1i=v1i.onProgress;return L1i?B9i.blob(L1i,"string").then(function(x1i){return G9i(x1i,R1i,i1i);}):G9i(a1i,R1i,i1i);}function G9i(k1i,w1i,A1i){if(k1i.startsWith("<svg")||k1i.startsWith("<?xml")){k1i="data:image/svg+xml;base64,"+global.btoa(B9i.utf8.encode(k1i));}if(k1i.startsWith("data:image/svg")){var Y1i=u9i._createId(k1i,w1i);return(w1i=u9i.getContent(Y1i))&&!u9i.isMissing(w1i)?Promise.resolve({created:false,type:"clipart",id:Y1i,content:w1i}):P9i.createSVG({src:k1i,onProgress:A1i}).then(function(r4i){return{created:true,type:"clipart",id:Y1i,content:r4i};});}return Promise.reject();}function O9i(s4i){if(s4i=c9i.get(s4i)){return s4i.content;}}function l9i(I4i){var T4i=I4i.id,M4i=I4i.type,o4i=I4i.blob,c4i=I4i.content,O4i=I4i.missing,g4i=I4i.resourceType;I4i=I4i.temporary;var n4i=c9i._byId[T4i]||(c9i._byId[T4i]={referenceIds:[]});D9i(n4i);I4i&&z9i(n4i);n4i.id=T4i;n4i.type=M4i;n4i.blob=o4i;n4i.content=c4i;n4i.missing=!!O4i;n4i.resourceType=g4i;n4i.temporary=I4i;c4i.assetId=T4i;c4i.assetType=M4i;return n4i;}function Q9i(h4i){h4i=h4i.assetId;var y4i=c9i._urlFromAssetId[h4i];delete c9i._byId[h4i];delete c9i._urlFromAssetId[h4i];delete c9i._urlToAssetId[y4i];}function z9i(H4i){var q4i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:15E3;D9i(H4i);0===q4i?Q9i(H4i.content):H4i.selfDestructTimeoutID=setTimeout(function(){H4i.referenceIds.length||Q9i(H4i.content);},q4i);}function D9i(E4i){var Z4i=E4i.selfDestructTimeoutID;Z4i&&(clearTimeout(Z4i),E4i.selfDestructTimeoutID=null);}function d9i(u4i){var j4i=u4i.id,S4i=u4i.content,K4i=u4i.created,J4i=c9i._byId[j4i];l9i(u4i);K4i&&(L9i(j4i),(u4i=J4i&&J4i.missing)&&sketch.docs.forEach(function(t4i){var b4i=false;t4i.scene.traverse(function(C4i){C4i.src===j4i&&(b4i=true,C4i.dirtyCache=true,C4i.load().catch(console.error));});b4i&&t4i.render.scene();}),c9i.emit("add",S4i,u4i));}function R9i(B4i){var N4i=S9i(1,1);N4i.assetId=B4i;N4i.className="sk-missing-asset";var f4i=N4i.ctx;f4i.fillStyle="rgba(127,127,127,0.5)";f4i.fillRect(0,0,1,1);l9i({id:B4i,type:"image",content:N4i,missing:true});return N4i;}function W9i(m4i){return Galactic.is(m4i,"File")?new Blob([m4i],{type:m4i.type}):m4i;}function J9i(l4i){return"string"===typeof l4i?c9i.getContent(l4i):l4i;}function e9i(){return sketch.save.canvas({layers:sketch.doc.selection.layers(),clipToSelection:true});}function L9i(Q4i){var z4i=sketch.net.client;if(z4i){var D4i=O9i(Q4i),d4i=z4i.magnets[Q4i];d4i?D4i.magnetURI=d4i.uri:c9i.getBlob(Q4i).then(function(X4i){X4i.name=Q4i;return z4i.seed([X4i],Q4i).then(function(W4i){D4i.magnetURI=W4i;});});}}var N9i=function(U4i,G4i,e4i){G4i in U4i?Object.defineProperty(U4i,G4i,{value:e4i,enumerable:true,configurable:true,writable:true}):U4i[G4i]=e4i;return U4i;},m9i=function(){return function(F4i,R4i){if(Array.isArray(F4i)){return F4i;}j.initSymbol();j.initSymbolIterator();if(Symbol.iterator in Object(F4i)){var p4i=[],V4i=true,v4i=false,L4i=void 0;try{j.initSymbol();j.initSymbolIterator();for(var P4i=F4i[Symbol.iterator](),i4i;!(V4i=(i4i=P4i.next()).done)&&(p4i.push(i4i.value),!R4i||p4i.length!==R4i);V4i=true){;}}catch(a4i){v4i=true,L4i=a4i;}finally{try{if(!V4i&&P4i["return"]){P4i["return"]();}}finally{if(v4i){throw L4i;}}}return p4i;}throw new TypeError("Invalid attempt to destructure non-iterable instance");};}(),v9i=sketch.agent,b9i=sketch.Canvas2D,g9i={},o9i={},H9i=void 0,y9i=void 0,t9i=sketch.assets,U9i=sketch.feature,M9i=sketch.font={},h9i={},F9i=Galactic.deduper();M9i.load=function(x4i){var k4i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return F9i.request(x4i,function(){var w4i=void 0;return M9i.loadForCSS(x4i,k4i).then(function(Y4i){w4i=Y4i;return x9i(x4i,k4i);}).then(function(A4i){w4i.fontObject=A4i;return w4i;});});};M9i.loadForCSS=function(r7i){var s7i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(K9i(r7i)){return Promise.resolve({detected:true});}var T7i=function(){var M7i;M7i=s7i.path;var o7i=s7i.blob;M7i=M7i?M7i:o7i?o7i._blobURL||(o7i._blobURL=URL.createObjectURL(o7i)):void 0;if(M7i){return M7i.endsWith(".woff")||M7i.startsWith("blob:")||(M7i+=".woff"),'url("'+M7i+'") format("woff")';}M7i=sketch.resources;if(o7i=s7i.resource||M7i.get(r7i)){return o7i=M7i.getValue(o7i),'url("'+M7i._toAbsoluteURL(o7i.woff)+'") format("woff")';}}();if(!T7i){return Promise.reject("font.loadForCSS(...) The font '"+r7i+"' could not be found.");}var I7i=document.createElement("style");I7i.type="text/css";I7i.innerHTML="\n\t\t@font-face {\n\t\t\tfont-family: '"+r7i+"';\n\t\t\tfont-style: normal;\n\t\t\tfont-weight: normal;\n\t\t\tsrc: "+T7i+";\n\t\t}\n\t";document.head.appendChild(I7i);var c7i=document.body,n7i=document.createElement("div");n7i.innerHTML=r7i;n7i.style.cssText="font-family: "+r7i+"; visibility: hidden";c7i.appendChild(n7i);return w9i(r7i,s7i).finally(function(){c7i.removeChild(n7i);});};M9i._loaded=h9i;M9i.isLoaded=K9i;M9i.get=function(O7i){var g7i=h9i[O7i];if(g7i){return g7i;}O7i=O7i.toLowerCase();for(var h7i in h9i){if(h7i.toLowerCase()===O7i){return h9i[h7i];}}};M9i.getOrDefault=function(y7i){return M9i.get(y7i)||M9i.get(U9i.defaults.font);};var p9i=sketch.assets,V9i=sketch.loc,u9i=sketch.assets,B9i=sketch.convert,P9i=sketch.vector,c9i=Galactic.emitter(sketch.assets),E9i=sketch.convert,Z9i=sketch.loc,j9i=function(q7i){function j7i(K7i){var t7i=K7i.key,b7i=Z7i[t7i];b7i?K7i.type.forEach(function(C7i){b7i.type.includes(C7i)||b7i.type.push(C7i);}):(Z7i[t7i]=K7i,E7i.push(S7i.copy(K7i)));}function u7i(N7i){if(N7i&&N7i.startsWith){return N7i.startsWith(q7i._prefix)?q7i._urlFromAssetId[N7i]:/^(http|https|blob|data|filesystem)\:/i.test(N7i)?N7i:J7i.MEDIA+N7i;}}var J7i=sketch.loc,H7i=sketch.resources={},S7i=sketch.util,E7i=H7i._entries=[],Z7i=H7i._keys={};H7i.setCollection=function(l7i,Q7i){for(var B7i=E7i.length;B7i--;){var f7i=E7i[B7i],m7i=f7i.type.indexOf(l7i);-1!==m7i&&(f7i.type.splice(m7i,1),0===f7i.type.length&&(delete Z7i[f7i.key],E7i.splice(B7i,1)));}Q7i.forEach(j7i);};H7i.getCollection=function(z7i){return E7i.filter(function(D7i){return D7i.type.includes(z7i);});};H7i.add=function(d7i){if(d7i){if(Array.isArray(d7i)){d7i.forEach(H7i.add);}else{var X7i=d7i.key;X7i&&d7i.type&&d7i.value&&d7i.preview&&(Z7i[X7i]||j7i(d7i));}}};H7i.get=function(W7i){W7i=q7i.unprefixed(W7i);return Z7i[W7i];};H7i.load=function(U7i){var G7i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},p7i=U7i.type[0],e7i,F7i;G7i.asPreview?(F7i=H7i.getPreviewUrl(U7i),e7i=q7i.prefixed("preview-"+U7i.key)):(F7i=H7i.getUrl(U7i),e7i=q7i.prefixed(U7i.key));return q7i.load(F7i,Object.assign({targetId:e7i,type:p7i},G7i));};H7i.getUrl=function(V7i,v7i){var P7i=V7i.type||"clipart";V7i=H7i.getValue(V7i);return P7i.includes("font")?u7i(V7i[v7i||"woff"]):u7i(V7i.url||V7i);};H7i.getValue=function(L7i){var i7i=L7i.defaultVariant,R7i=L7i.value;return(L7i.type||"clipart").includes("font")?R7i[i7i]:R7i;};H7i.getPreview=function(a7i,w7i){var k7i=a7i.type||"clipart",x7i=a7i.preview;a7i=a7i.defaultVariant;return k7i.includes("font")?x7i[w7i||a7i]:k7i.includes("gradient")?x7i[w7i||a7i||"linearGradient"]:x7i;};H7i.getPreviewUrl=function(A7i,r6i){var Y7i=H7i.getPreview.apply(H7i,arguments);return Y7i?u7i(Y7i.url):u7i(A7i.value);};H7i.getPreviewCSS=function(s6i,n6i){return s6i.type.includes("color")?"background: "+s6i.value+";":"background-image: url('"+H7i.getPreviewUrl.apply(H7i,arguments)+"');";};H7i.addAssetEntry=function(o6i){function O6i(h6i,H6i){h6i=H6i.assetId;var y6i=q7i.unprefixed(h6i);return Z7i[y6i]?Promise.resolve(H6i):g6i(y6i,h6i);}function g6i(E6i,j6i){if("font"===I6i){var q6i=sketch.Canvas2D(c6i,80,M6i),Z6i=q6i.ctx;Z6i.textAlign="center";Z6i.textBaseline="middle";Z6i.font='60px "'+E6i+'", Arial, Helvetica';var u6i=Z6i.measureText(E6i).width,J6i=sketch.vector.text.lineHeight(Z6i.font),u6i=Math.min(q6i.width/(u6i+40),q6i.height/(J6i+20));1>u6i&&(Z6i.font=60*u6i+'px "'+E6i+'", Arial, Helvetica');Z6i.fillStyle="black";Z6i.fillText(E6i,q6i.width/2,q6i.height/2);j7i({key:E6i,type:[I6i],tags:["Your Files"],defaultVariant:"normal 400",variants:["normal 400"],value:N9i({},"normal 400",{style:"normal",weight:"400",woff:j6i}),preview:N9i({},"normal 400",{url:q6i.toDataURL(),width:q6i.width,height:q6i.height})});return Promise.resolve(q6i);}return sketch.thumbnailer(T6i,{crop:"contain",center:true,pixelRatio:M6i,width:c6i,height:80}).then(function(S6i){j7i({key:E6i,type:[I6i],tags:["Your Files"],value:{url:j6i,width:T6i.width,height:T6i.height},preview:{url:S6i.toDataURL(),width:S6i.width,height:S6i.height}});return S6i;});}var T6i=o6i.content,I6i=o6i.resourceType;"image"===I6i&&(I6i="clipart");var c6i="font"===I6i?190:80,M6i=global.devicePixelRatio;return q7i.isMissing(T6i)?Promise.reject("addFromAssetEntry(...) Asset is missing."):"clipart"===I6i?O6i("clipart",T6i):O6i(I6i,T6i);};H7i._toAbsoluteURL=u7i;return H7i;}(c9i),C9i=sketch.util,S9i=sketch.Canvas2D,X9i=["svg","clipart","font"];c9i._byId={};c9i._urlFromAssetId={};c9i._urlToAssetId={};c9i.get=function(K6i){return c9i._byId[c9i.prefixed(K6i)];};c9i.load=function(t6i){function e6i(){var F6i=c9i._createId(t6i,N6i);return c9i.isLoaded(F6i)?m6i(O9i(F6i)):Q6i({created:true,id:F6i,type:"image",content:t6i});}function G6i(){if("string"===typeof t6i&&t6i.startsWith(c9i._prefix)){var p6i=t6i;if(c9i.isLoaded(p6i)){return m6i(O9i(p6i));}if(t6i=c9i._urlFromAssetId[p6i]){N6i=p6i;}else{var V6i=j9i.get(p6i);if(!V6i||!(t6i=j9i.getUrl(V6i))){return m6i(R9i(p6i));}N6i=c9i.prefixed(V6i.key);}}p6i=c9i._urlToAssetId[t6i];if(c9i.isLoaded(p6i)){return m6i(O9i(p6i));}var P6i={onProgress:d6i,blob:b6i,src:t6i,targetId:N6i},p6i=Z9i.isDataUrl(t6i),V6i=Z9i.isValidXhrUrl(t6i);!p6i&&!V6i||f6i||(f6i=t6i);if(V6i&&X9i.includes(B6i)||!B6i){if(b6i){return U6i(b6i,P6i);}if(V6i){return sketch.request(Z9i.getMediaUrl(t6i),{as:"blob",dedupe:true,onProgress:d6i}).then(function(v6i){return W6i(v6i).then(function(L6i){b6i=P6i.blob=new Blob([v6i],{type:L6i.mime});return D6i(P6i);});});}p6i&&(b6i=P6i.blob=E9i.dataURL.toBlob(t6i));return U6i(t6i,P6i);}return D6i(P6i);}function U6i(R6i,i6i){return W6i(R6i).then(function(){return D6i(i6i);});}function W6i(a6i){return sketch.fileinfo(a6i).then(function(x6i){B6i=x6i.type;return x6i;});}function D6i(k6i){switch(B6i){case"clipart":return i9i(k6i).then(Q6i);case"image":case"stamp":case"tileBrush":return a9i(k6i).then(Q6i);case"font":case"text":return k9i(k6i).then(Q6i);default:return Promise.reject("assets.add(...) "+B6i+" unsupported");}}function Q6i(w6i){var A6i=w6i.id,Y6i=w6i.content;w6i.created&&(Y6i.lastModified=l6i,b6i&&(b6i.lastModified!==l6i&&(b6i=W9i(b6i),b6i.lastModified=l6i),w6i.blob=Y6i.blob=b6i),f6i&&(c9i._urlToAssetId[f6i]=A6i,c9i._urlFromAssetId[A6i]=f6i));w6i.originalUrl=f6i;w6i.resourceType=B6i||w6i.type;w6i.temporary=X6i;d9i(w6i);return m6i(Y6i);}function m6i(s83){if(z6i){var r83=c9i.get(s83.assetId);r83&&(r83=r83.referenceIds,r83.includes(z6i)||r83.push(z6i));}return Promise.resolve(s83);}var C6i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d6i=C6i.onProgress,z6i=C6i.referenceId,X6i=false!==C6i.temporary,B6i=C6i.type,f6i=C6i.originalUrl,N6i=C6i.targetId,b6i=void 0,C6i=Galactic.is(t6i),l6i=Date.now();return c9i.isLoaded(N6i)?m6i(O9i(N6i)):"Blob"===C6i||"File"===C6i?(b6i=t6i,b6i.lastModified&&(l6i=b6i.lastModified),t6i=b6i._blobURL||(b6i._blobURL=URL.createObjectURL(b6i)),G6i()):"HTMLCanvasElement"===C6i||"HTMLImageElement"===C6i?e6i():"String"===C6i?G6i():Promise.reject("assets.load(...) Could not add asset.");};c9i.add=function(T83){var n83=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},I83=!!n83.placeIntoResources;return c9i.load(T83,Object.assign({temporary:false},n83)).then(function(c83){if(I83){var M83=c9i.get(c83.assetId);return j9i.addAssetEntry(M83).return(c83);}return c83;});};c9i.fork=function(o83){if(o83=J9i(o83)){var g83=o83.assetId.split("-"),O83=m9i(g83,3),g83=O83[0],O83=O83[1];o83=o83.clone?o83.clone():S9i.copy(o83);d9i({created:true,type:o83.assetType,id:g83+"-"+O83+"-"+Date.now(),content:o83});return o83;}};c9i.destroy=function(Z83){var h83=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},q83=h83.delayDestroy,h83=h83.referenceId,H83=J9i(Z83);if(H83){var y83=H83.blob;y83&&y83._blobURL&&(URL.revokeObjectURL(y83._blobURL),delete y83._blobURL);if(H83=c9i.get(H83.assetId)){y83=H83.referenceIds,h83&&(h83=y83.indexOf(h83),0<=h83&&y83.splice(h83,1)),y83.length||z9i(H83,q83);}}};c9i.getContent=function(E83){if(E83=c9i.getId(E83)){return O9i(E83);}};c9i.getId=function(u83){if(c9i._urlToAssetId[u83]){return c9i._urlToAssetId[u83];}if(O9i(u83)||O9i(u83=c9i.prefixed(u83))){return u83;}};c9i.getAs=function(j83,J83,S83,K83){return c9i.getBlob(j83,S83,K83).then(function(b83){return E9i.blob(b83,J83);});};c9i.getBlob=function(N83,f83,B83){N83=c9i.getId(N83);if(!N83){return Promise.reject("getBlob(...) invalid asset");}var t83=c9i.get(N83),C83=t83.content;if(N83=t83.blob||C83.blob){if(N83.lastModified===C83.lastModified){return Promise.resolve(N83);}delete t83.blob;delete C83.blob;}switch(t83.type){case"image":return C83.toBlob(f83,B83).then(function(m83){m83=W9i(m83);m83.lastModified=C83.lastModified;return t83.blob=C83.blob=m83;});case"clipart":return f83=new Blob([C83.sourceXML],{type:"image/svg+xml"}),f83.lastModified=C83.lastModified,Promise.resolve(t83.blob=C83.blob=f83);case"font":return t83.blob||console.error(t83),Promise.resolve(t83.blob);}};c9i.getDataURL=function(D83,d83,X83){var l83,Q83=c9i.get(D83);if(Q83){if(l83=Q83.blob){return E9i.blob(l83,"dataURL");}l83=void 0;var z83=Q83.content;switch(Q83.resourceType){case"image":l83=sketch.thumbnailer(z83,{asap:true}).toDataURL(d83,X83);break;case"clipart":l83="data:image/svg+xml;base64,"+global.btoa(z83.sourceXML);}return Promise.resolve(l83);}sketch.debug&&(l83=console).error.apply(l83,["assets.getDataURL(...)"].concat(Array.prototype.slice.call(arguments)));return Promise.reject("assets.getDataURL(...) Request could not be handled.");};c9i.exists=function(W83){return!!c9i.get(W83);};c9i.isMissing=function(U83){if(U83=J9i(U83)){return"sk-missing-asset"===U83.className;}};c9i.isLoaded=function(G83){return(G83=J9i(G83))?!c9i.isMissing(G83):false;};c9i._createId=function(e83,F83){if(F83){return F83;}if("string"===typeof e83){return 25E4<e83.length&&(e83=e83.substr(0,25E4)),c9i.prefixed(C9i.md5(e83));}if(e83.assetId){return e83.assetId;}F83=e83.width;var V83=e83.height,P83=Math.min(F83,64),v83=Math.min(V83,64),p83=f9i||(f9i=S9i());p83.width=P83;p83.height=v83;p83.ctx.drawImage(e83,0,0,F83,V83,0,0,P83,v83);e83.assetId=c9i.prefixed(C9i.md5(p83.toDataURL()));return e83.assetId;};var f9i=void 0;c9i._prefix="#asset-";c9i.prefixed=function(L83){if(L83){var R83=c9i._prefix;return L83.startsWith(R83)?L83:""+R83+L83;}};c9i.unprefixed=function(i83){if(i83){var a83=c9i._prefix;return i83.startsWith(a83)?i83.substr(a83.length):i83;}};c9i.forEach=function(w83){var x83=c9i._byId,k83;for(k83 in x83){w83(x83[k83],k83);}};c9i._createImageFromSelection=function(){var Y83=sketch.doc;return e9i().then(function(A83){return A83.toBlobURL();}).then(function(r23){return Y83.scene.add({centerOnPoint:true,type:"image",src:r23});});};c9i._createStampFromSelection=function(){var s23=sketch.doc;return e9i().then(function(n23){return c9i.add(n23,{type:"stamp",placeIntoResources:true});}).then(function(I23){sketch.config("stamp",{src:I23.assetId,stroke:{color:"passthrough"}});return s23.setTool("stamp");}).then(function(){s23.configSelection("passthrough");});};}();void function(){function M23(h23){for(var O23=0;O23<T23.length;O23++){var g23=T23[O23];if(g23.uuid===h23||g23.idx===h23){return O23;}}}var c23=sketch.docs=new function(){}(),o23=0,T23=[];c23.items=T23;c23.map=T23.map.bind(T23);c23.forEach=T23.forEach.bind(T23);c23.get=function(y23){y23=M23(y23);if(-1<y23){return T23[y23];}};c23.register=function(H23){H23 instanceof sketch.module.Document&&(H23.idx=o23++,T23.push(H23));};c23.unregister=function(q23){q23=M23(q23);-1<q23&&T23.splice(q23,1);};c23.focus=function(Z23){var u23=sketch.doc,E23=c23.get(Z23);E23?E23.idx!==u23.idx&&((Z23=E23.scene.clipboard)&&Z23.restore(),Z23=E23.tool.type,E23.toolkit.setConfig(Z23,u23.toolkit.config[Z23]),E23.focus()):console.error('The docId "'+Z23+'" does not exist.');};Object.defineProperties(c23,{length:{get:function(){return T23.length;}}});}();void function(){function a23(o03,H03){var y03=o03.attachedEvents={},h03=j23.$(H03.element)||document.body;h03.classList.add("sketch-api");h03.classList.toggle("sk-mobile",!!v23.mobile);var O03=h03.querySelector("sketch-document")||j23.append(h03,'\n\t\t<sketch-document tabindex="0"></sketch-document>\n\t');j23.empty(O03);j23.append(O03,"\n\t\t<sketch-viewport>\n\t\t\t<sketch-composite></sketch-composite>\n\t\t</sketch-viewport>\n\t\t<sketch-scrollarea>\n\t\t\t<sketch-doc-margin>\n\t\t\t\t<sketch-doc-layout></sketch-doc-layout>\t\t\t\n\t\t\t</sketch-doc-margin>\n\t\t</sketch-scrollarea>\n\t");var g03=O03.querySelector("sketch-scrollarea");o03.$composite=O03.querySelector("sketch-composite");o03.$document=O03;o03.$element=h03;o03.$inputKeys=j23.$(H03.focusElement||document.body);o03.$inputPointer=g03;o03.$layout=O03.querySelector("sketch-doc-layout");o03.$margin=O03.querySelector("sketch-doc-margin");o03.$scroll=g03;o03.$viewport=O03.querySelector("sketch-viewport");o03.uuid=d23.uuid();sketch.$container||(sketch.$container=j23.$(".sketch-api"));(function(){function Z03(){sketch.doc._interacting||V23.focus(o03.idx);}var q03=o03.contexts;d23.forEach(q03,function(J03,u03){var E03=q03[u03]=R23(),j03=E03.style;j03&&(j03.cssText=J03,E03.setAttribute("data-layer",u03),"overlay"===u03&&(Gesture.on(E03,"mousedown",Z03,true),Gesture.on(E03,"mouseover",Z03),E03.ctx.isOverlay=true));});}());(function(){N23.suppressWheelScroll&&(y03.suppressWheelScroll=Gesture.on(h03,"wheel",Gesture.cancel));(y03.scroll=JSEvent.Group({panOnScroll:Gesture.on(g03,["ps-scroll-x","ps-scroll-y"],function(){!g03.dataset.scrolling&&o03.render&&(o03.orient.setPan({x:-g03.scrollLeft,y:-g03.scrollTop}),o03.orient.render());}),perfectScroll:{attach:function(){o03.perfectScrollbar||(o03.perfectScrollbar=new PerfectScrollbar(g03,{handlers:["click-rail","drag-thumb","wheel"],suppressScrollX:N23.suppressScrollX,suppressScrollY:N23.suppressScrollY}));},detach:function(){o03.perfectScrollbar&&(o03.perfectScrollbar.destroy(g03),o03.perfectScrollbar=null);}}})).attach();}());}function M03(S03){S03.config=function(){var K03=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t03=void 0,C03=void 0,b03=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).storeAs;b03?(t03=S03.config.json(),z23(K03,S03,true),C03=S03.config.json()):z23(K03,S03,true);var N03=K03.width,f03=K03.height;if(Number.isFinite(N03+f03)&&S03.pages&&1===S03.pages.length){var B03=S03.pages.data[0];B03.width=N03;B03.height=f03;}S03.orient&&!sketch._noRendering&&(D23(K03,C23)&&S03.setOrientation(K03),(D23(K03,C23)||D23(K03,Q23))&&S03.orient.render());b03&&S03.history.store("config-doc",{name:b03,data:{from:t03,to:C03}});};S03.config.json=function(){return z23(S03,{});};}function z23(D03,d03){for(var m03 in D03){var l03=D03[m03],z03="undefined"===typeof l03?"undefined":J23(l03),Q03=p23[m03];Q03&&(Q03===z03||Q03.includes(z03))&&(d03[m03]=l03);}return d03;}function D23(W03,U03){for(var X03 in W03){if(U03[X03]){return true;}}}function c03(G03){function R03(T33,c33,M33){var I33=JSON.stringify([].concat(Array.prototype.slice.call(arguments)));R03.hash!==I33&&(R03.hash=I33);return true;}function n33(h33,O33){var g33=s33(h33,O33);h33=new PIXI.Container();var y33=new PIXI.Container();h33.addChild(y33);g33.backgroundColor="white";O33=g33.view;O33.className="pixi";O33=O33.style;O33.pointerEvents="none";O33.zIndex=2;G03.$viewport.appendChild(g33.view);var o33=G03.pixi={};o33.renderer=g33;o33.container=y33;o33.stage=h33;o33.groups={};o33.getComposite=function(){return g33.view;};o33.destroy=function(){y33.removeChildren();};o33.render=function(){o33.renderer.render(o33.stage);};return o33;}function s33(q33,Z33){var H33={preserveDrawingBuffer:true,transparent:true,resolution:G03.pixelRatio,antialias:true};return v03.forceCanvasRenderer?new PIXI.CanvasRenderer(q33,Z33,H33):PIXI.autoDetectRenderer(q33,Z33,H33);}function P03(){var E33=!F03.equals(p03,P03.scroll||new F03());F03.equals(e03,P03.viewport||new F03())||(P03.viewport=new F03(e03),L03());E33&&(P03.scroll=new F03(p03),A03());}function A03(){var u33=G03.$scroll;Number.isFinite(p03.x)&&(--u33.scrollLeft,u33.scrollLeft=Math.round(p03.x));Number.isFinite(p03.y)&&(--u33.scrollTop,u33.scrollTop=Math.round(p03.y));u33=new F03(-u33.scrollLeft,-u33.scrollTop);G03.orient.setPan(u33);G03.orient.render();}function x03(){if(!G03.noUI){var J33=Math.max(1,G03.zoom),j33=G03.viewport,b33=Math.min(Math.max(G03.pixelHeight,j33.height)*J33,j33.height),S33=G03.$scroll,K33=S33.style;K33.width=Math.min(Math.max(G03.pixelWidth,j33.width)*J33,j33.width)+"px";K33.height=b33+"px";A03();G03.perfectScrollbar&&G03.perfectScrollbar.update(S33);}}function L03(){if(!G03.noUI){var N33=G03.$layout.style,t33=G03.zoom,C33=G03.pixelWidth*t33;N33.height=G03.pixelHeight*t33+"px";N33.width=C33+"px";G03.noUI||(t33=G03.zoom,N33=Math.max(0,e03.width-G03.pixelWidth*t33)/2,t33=Math.max(0,e03.height-G03.pixelHeight*t33)/2,C33=v03.viewportPadding,G03.$margin.style.margin=t33+C33.top+"px "+(N33+C33.right)+"px "+(t33+C33.bottom)+"px "+(N33+C33.left)+"px");}}function r33(){var f33=V03.ratio(G03.units+" to px");G03.pixelWidth=G03.width*f33;G03.pixelHeight=G03.height*f33;}function k03(){r33();L03();x03();var B33=sketch.layerUtils,l33=G03.scene;l33&&l33.traverse(function(Q33){B33.clampBoundingBox(Q33,G03.pixelWidth,G03.pixelHeight);B33.stretchBoundingBox(Q33,G03.pixelWidth,G03.pixelHeight);});}var a03=G03.contexts,V03=sketch.convert.cssUnits,w03=sketch.dom,v03=sketch.feature,p03=G03.scroll,e03=G03.viewport,i03=Galactic.is,Y03=sketch.Canvas2D,F03=sketch.Point;G03.addPage=function(){var z33=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},D33=z33.width,z33=z33.height;Number.isFinite(D33+z33)&&(G03.pages.length++,G03.pages.data.push({width:D33,height:z33}),G03.height+=z33,G03.render.dirtyDocSize=true);};G03.removePage=function(d33){Number.isFinite(d33)&&G03.pages.data[d33]&&(d33=G03.pages.data.splice(d33,1)[0])&&(G03.pages.length--,G03.height-=d33.height,G03.render.dirtyDocSize=true);};G03.scrollToPageNumber=function(W33,G33){var X33=G03.pages,e33=X33.data;if(G33){G33=0;for(var F33=p03.y+e03.height,U33=0;U33<e33.length;U33++){if(G33+=e33[U33].height,F33<=G33){W33=U33+W33;break;}}}W33=Math.min(X33.length-1,Math.max(0,W33));for(X33=0;X33<W33;X33++){;}return G03.setScroll({y:top,duration:0});};G03.setSize=function(V33,P33,v33){var p33=G03._parseSizeQuery.apply(G03,arguments);V33=p33.width;P33=p33.height;v33=p33.units;if(R03(V33,P33,v33)){G03.width=V33;G03.height=P33;G03.units=v33;if(p33=G03.pages.data[0]){p33.width=V33,p33.height=P33;}G03.emit("resize",V33,P33,v33);}};G03._parseSizeQuery=function(L33,R33){function a33(k33){return k33/100*e03.width||0;}function x33(w33){return w33/100*e03.height||0;}var i33=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"px";G03.setViewportSize();if(0<L33&&0<R33){return L33="%"===i33?a33(L33):V03(L33+i33,"px"),R33="%"===i33?x33(R33):V03(R33+i33,"px"),{width:L33,height:R33,units:"px"};}if(i03.string(L33)&&i03.string(R33)){return L33=L33.endsWith("%")?a33(parseFloat(L33)):V03(L33,"px"),R33=R33.endsWith("%")?x33(parseFloat(R33)):V03(R33,"px"),{width:L33,height:R33,units:"px"};}throw"parseSizeQuery(...) invalid arguments.";};G03.setViewportSize=function Y33(n53,I53){if(!(0<n53&&0<I53)){var r53=w03.measure(G03.$document.parentNode),A33=r53.padding;n53=r53.height-A33.top-A33.bottom;e03.width=Math.round((r53.width-A33.left-A33.right)/r53.scaleX);e03.height=Math.round(n53/r53.scaleY);n53=e03.width;I53=e03.height;}if(Y33.width!==n53||Y33.height!==I53){e03.width=n53;e03.height=I53;k03();var A33=G03.pixelRatio,r53=n53*A33,A33=I53*A33,s53;for(s53 in a03){var T53=a03[s53];if("background"===s53){G03.$composite.appendChild(T53);}else{var c53=T53.style;c53.width=n53+"px";c53.height=I53+"px";T53._hashOfRender=null;Y03.resizeOrClear(T53,r53,A33);G03.$viewport.appendChild(T53);}}s53=G03.render;s53.dirtyClipPath=true;s53.dirtyLayerTransforms=true;v03.forcePIXIRenderer&&!sketch.globals.highRes&&(s53=(G03.pixi||n33(r53,A33)).renderer,s53.resize(r53,A33),s53=s53.view.style,s53.width=r53+"px",s53.height=A33+"px",G03.renderingEngine="pixi");}};sketch._noRendering||(G03.on("resize",k03),G03.on("scroll",P03),G03.on("zoom",function(){L03();x03();}));}function T03(M53){function y53(Z53){if(!(0<Z53)||M53.pixelRatio===Z53){return false;}M53.pixelRatio=Z53;M53.setViewportSize();M53.render.dirtyLayerCaches=true;M53.render.scene();return true;}function g53(E53){return function(){var u53;(u53=M53.scene)[E53].apply(u53,arguments);M53.render.scene();return M53.scene;};}function o53(j53){return function(){var J53;(J53=M53.orient)[j53].apply(J53,arguments);M53.orient.render();};}var H53=sketch.dom,O53=M53.orient,h53=M53.scroll,q53=sketch.Point;M53.getOrientation=function(){return{units:M53.units,width:M53.width,height:M53.height,zoom:M53.zoom,scroll:{x:h53.x,y:h53.y}};};M53.setOrientation=function(S53){var b53=S53.scroll,K53=S53.zoom;M53.setSize(S53.width,S53.height,S53.units);K53&&b53?(O53.setZoom(K53),O53.setPan(new q53(-b53.x,-b53.y))):K53&&O53.setZoom(K53);M53.centerDocInView({ifDocHasMargin:true});};M53.setPixelRatio=function(t53){return y53(t53);};M53.setPixelRatioToDefault=function(){return y53(global.devicePixelRatio);};M53.setScale=function(N53){var C53=M53.render;N53===M53.scale||0>=N53||(M53.scale=N53,C53.scene(),C53.dirtyLayerTransforms=true,C53.dirtyLayerCaches=true);};M53.setScroll=function(){return H53.scrollTo(M53.$scroll,W23({},0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{handler:function(f53,B53){M53.alterPanBy({x:f53,y:B53});}}));};M53.deselectAll=g53("deselectAll");M53.selectAll=g53("selectAll");M53.selectInverse=g53("selectInverse");M53.getCenterOfDoc=O53.getCenterOfDoc;M53.getCenterOfViewport=O53.getCenterOfViewport;M53.getOrigin=O53.getOrigin;M53.setOrigin=O53.setOrigin;M53.setOriginToDocCenter=O53.setOriginToDocCenter;M53.setOriginToViewportCenter=O53.setOriginToViewportCenter;M53.alterFlipBy=o53("alterFlipBy");M53.alterPanBy=o53("alterPanBy");M53.alterRotationBy=o53("alterRotationBy");M53.alterZoomBy=o53("alterZoomBy");M53.centerDocInView=o53("centerDocInView");M53.setFlip=o53("setFlip");M53.setPan=o53("setPan");M53.setRotation=o53("setRotation");M53.setZoom=o53("setZoom");M53.zoomIn=o53("zoomIn");M53.zoomOut=o53("zoomOut");M53.zoomToFit=o53("zoomToFit");}function I03(m53){function l53(P53,U53,G53){var e53=G53.get,F53=G53.set,p53=G53.validate,V53=G53.transform;Object.defineProperty(m53,P53,{get:function(){return e53?e53(U53):U53;},set:function(v53){if(!p53||p53(v53)){V53&&(v53=V53(v53)),v53!==U53&&(U53=v53,F53?F53(U53):m53.emit(P53,U53));}}});}var W53=sketch.Point,D53=sketch.feature,Q53=D53.zoom,D53=D53.doc.pixelRatio||1,z53=Galactic.is,d53=z53.boolean,X53=z53.register("positiveInteger",function(L53){return Number.isFinite(L53)&&0<L53;}),z53=z53.register("uuid",/^[0-9a-f]{8}-?[0-9a-f]{4}-?[1-5][0-9a-f]{3}-?[89ab][0-9a-f]{3}-?[0-9a-f]{12}$/i);l53("_editing",false,{validate:d53});l53("_preloading",false,{validate:d53});l53("_rendering",false,{validate:d53});l53("_interacting",false,{validate:d53});m53.renderingEngine="sketchpad";m53.lastModified=-1;m53.lastSynced=-1;m53.title="My Drawing";m53.description="";m53.defaultTool="select";m53.metadata={};m53.clipPath={};m53.exportDPI=72;m53.exportFormat="png";m53.exportQuality=1;l53("scroll",new W53(0,0),{validate:W53.exists});l53("pixelRatio",D53,{validate:X53});l53("scale",1,{validate:X53});l53("zoom",Q53.value||1,{validate:X53,transform:function(R53){return Math.max(Q53.min,Math.min(Q53.max,R53));}});m53.units="px";m53.width=0;m53.height=0;m53.pages={};m53.pages.length=1;m53.pages.data=[{width:0,height:0}];m53.contexts={background:"z-index: 0;",overlay:"z-index: 2;"};sketch.debug&&(m53.contexts.debug="z-index: 4;");m53.viewport={x:0,y:0,width:0,height:0,paddingLeft:0,paddingRight:0,paddingBottom:0,paddingTop:0};m53.visibleRect={x:0,y:0,width:0,height:0};m53.orient=new sketch.module.Orientation(m53,{rotate:{value:0,min:0,max:0},zoom:{value:Q53.value,min:Q53.min,max:Q53.max,increment:Q53.increment}});l53("prZoom",1,{get:function(){return m53.pixelRatio*m53.zoom;}});l53("uuid",m53.uuid,{validate:z53,set:function(a53){var i53=m53.$document;i53&&i53.setAttribute("data-uuid",a53);}});}function n03(x53){var k53=sketch.assets,w53=sketch.style;x53.setBackground=function(A53){function g93(){function Z93(){return c93({src:y93.toDataURL()});}var h93=x53.pixelRatio,y93=sketch.Canvas2D(x53.pixelWidth*h93,x53.pixelHeight*h93),H93=r93();if(H93){var q93=y93.ctx;q93.scale(h93,h93);return sketch.render(H93,{ctx:q93}).then(Z93);}return Z93();}function c93(E93){"string"===typeof E93&&(E93={src:E93});return k53.load(E93.src,{onProgress:I93}).then(function(J93){var S93=J93.width||J93.vob.width,K93=J93.height||J93.vob.height,j93=Object.assign({bbox:{}},E93,{type:"clipart"}),u93=j93.bbox,b93=x53.pixelWidth,t93=x53.pixelHeight;S93/K93<b93/t93?(j93.clampToDocX=true,u93.y=0,u93.width=b93,u93.height=K93/S93*b93):(j93.clampToDocY=true,u93.x=0,u93.width=S93/K93*t93,u93.height=t93);j93.src=J93.assetId;return n93(j93);});}function O93(C93){var N93=w53.validate(C93);if(!N93){return Promise.reject("setBackground(...) invalid paint");}C93=new sketch.Fill(C93);if("transparent"===C93[N93].src){C93=r93();if(!C93){return Promise.resolve();}N93=sketch.copyConfig(C93,{},{compress:true});Y53.remove(C93,{recordHistory:false});T93([N93],null);M93.dirty=true;return Promise.resolve();}return n93({type:"rectangle",fill:C93,width:x53.pixelWidth,height:x53.pixelHeight,stretchTo:"edge",clampToDoc:true});}function n93(B93){function l93(z93){return z93.load().then(function(D93){T93([m93],[D93]);sketch.layerUtils.clampBoundingBox(D93,x53.pixelWidth,x53.pixelHeight);Y53.render();return D93;});}B93.name="background";B93.stickTo="back";B93.selectable=false;sketch.copyRules(A53,B93);var m93=null,f93=r93();if(!f93){return f93=Y53._insertChild(B93,0),l93(f93);}var Q93=f93.type;if(Q93===B93.type&&"rectangle"===Q93){return m93=sketch.copyConfig(f93,{},{compress:true}),sketch.copyConfig(B93,f93),l93(f93);}m93=Y53.remove(f93,{recordHistory:false,receiveHistory:true});f93=Y53._insertChild(B93,0);return l93(f93);}function r93(){return Y53.find(function(d93){return"background"===d93.name;});}function T93(X93,W93){o93&&x53.history.store("update",{name:"set-background",data:{from:X93,to:W93}});}var s93=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},M93=x53.render,Y53=x53.scene,I93=s93.onProgress,o93=false!==s93.recordHistory;return A53?"blank-image"===A53.type?g93(A53):"image"===A53.type?c93(A53):O93(A53):Promise.reject("setBackground(...) invalid input.");};}function s03(U93){var F93=sketch.feature,p93=sketch.layerUtils,V93=sketch.resources,G93=sketch.store,e93=sketch.style,P93=U93.toolkit;U93.setBlend=function(v93){U93.configSelection({blend:e93.toBlendInternal(v93)});};U93.setFont=function(){var L93=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};"string"===typeof L93&&(L93={fontFamily:L93});var i93=L93.onProgress,a93=L93.layers,R93=L93.fontFamily;if(!R93){return Promise.reject({message:"doc.setFont(...) fontFamily is null",args:arguments});}var x93=U93.tools.text;return sketch.font.load(R93,{onProgress:i93}).then(function(){var k93=sketch.copyAttributes(x93.attributes,L93);U93.configSelection(k93,{layers:a93});});};U93.saveSettings=function(){G93.set("globals",sketch.copyAttributes(sketch.attrs.__globals,sketch.globals,void 0,{compress:true}));var w93=U93.tool.type;if(w93&&(w93=P93.getConfig(w93))){var Y93=p93.getAssetsAttachedToLayers([].concat(l23(U93.scene.copied),[w93]),"resource");G93.set("currentResources",Y93);G93.set("currentTool",w93.toSerializable(true));}};U93.restoreSettings=function(){return G93.get(["globals","currentResources","currentTool"]).then(function(A93){var I13=F93.defaults.tool,r13=void 0,s13=void 0;if(A93){A93.globals&&sketch.copyAttributes(sketch.attrs.__globals,A93.globals,sketch.globals,{compress:true});var n13=A93.currentResources;n13&&n13.length&&V93.add(n13);if(A93=A93.currentTool){try{r13=new U93.Layer(A93,true),r13.paintIntoShapes=sketch.globals.paintIntoShapes,s13=r13.type,e93.setGlobalFromLayer(r13);}catch(T13){console.error(T13),s13=I13;}}}return U93.setTool(s13||I13);}).catch(function(c13){console.error(c13);});};}function i23(O13,M13){function o13(g13){Object.defineProperties(M13,F23({},g13,{get:function(){return this.bbox[g13];},set:function(h13){this.bbox[g13]=h13;},enumerable:false,configurable:true}));}M13.doc=null;M13.parent=null;M13.isCreating=false;M13.isEditing=false;M13.isEditingPath=false;M13.isLiveCursor=false;M13.exportable=true;M13.findable=true;M13.selectable=true;M13.visible=true;M13.hovered=false;M13.selected=false;M13.dirtyCache=false;M13.dirtyHash=false;M13.dirtyIndex=false;M13.dirtyBoundingBox=false;M13.dirtyTransform=false;M13.blend="source-over";M13.opacity=1;o13("x");o13("y");o13("width");o13("height");o13("scale");o13("skew");o13("rotation");}function A23(q13,y13){function Z13(S13,K13,b13){return{type:"objectGuide",layerId:S13,snapTo:K13,line:b13};}var E13=sketch.detect,u13=sketch.layerUtils,j13=sketch.style,J13=sketch.util,H13=sketch.Point;y13.load=function(C13){var t13=this.tool;return t13.loadLayer?t13.loadLayer(this,C13):Promise.resolve(this);};y13.toCompressedPlainObject=function(){return sketch.copyConfig(this,{},{compress:true});};y13.toPlainObject=function(){return sketch.copyConfig(this,{});};y13.stringify=function(f13){var N13=this;f13&&(N13=N13.toCompressedPlainObject());return JSON.stringify(N13);};y13.clone=function(){return new q13.Layer(this);};y13.destroy=function(B13){q13.scene._destroyChild(this,B13);};y13.getOuterAxisAlignedBounds=function(){return this.bbox.toAxisAligned(this.getOuterPadding());};y13.getOuterPadding=function(){return u13.getOuterPadding(this);};y13.supports=function(l13){return!!E13[l13];};y13.updateBoundingBox=function(){var Q13=this.tool.updateBoundingBox;Q13&&Q13(this);return this.bbox;};y13.draw=function(z13,D13,d13){return q13.render.layer(z13,this,D13,d13);};y13.setCtxStyle=function(X13){X13.globalAlpha=E13.useLocalAlpha[this.type]?1:this.opacity;X13.globalCompositeOperation=j13.getCtxBlendMode(this,false);if(false===this.imageSmoothing||"background"===this.name){X13.imageSmoothingEnabled=false;}};y13.setCtxTransform=function(U13){var W13=this.parent;W13&&W13.getCurrentTransform&&((W13.matrix2D||W13.getCurrentTransform()).applyInverseTransform(U13),W13=q13.render.cache.padding/q13.pixelRatio,U13.translate(W13,W13));(this.matrix2D||this.getCurrentTransform()).applyTransform(U13);};y13.resetScaleCache=function(){delete this.bbox.scaleCache;this.dirtyHash=true;};y13.getCurrentTransform=function(){return!this.matrix2D||this.dirtyTransform?u13.updateTransform(this):this.matrix2D;};J13.forEach({rotateAt:2,scaleAt:3,flip:2,flipX:0,flipY:0,translate:2,transform:0},function(G13,e13){y13[e13]=function(){var p13=Array.prototype.slice.call(arguments),F13=p13[G13]||(p13[G13]={});F13.layers=[this];F13.origin=this.bbox.pointAt(.5,.5);F13=q13.selection.instance();return F13[e13].apply(F13,l23(p13));};});y13.toGuides=function(){var L13=this.id,V13=this.bbox.toAxisAligned(),R13=V13.x1,i13=V13.y1,P13=V13.x2,v13=V13.y2,a13=V13.width/2,V13=V13.height/2;return[Z13(L13,"left",[new H13(R13,i13),new H13(R13,v13)]),Z13(L13,"horizontal",[new H13(P13-a13,i13),new H13(P13-a13,v13)]),Z13(L13,"right",[new H13(P13,i13),new H13(P13,v13)]),Z13(L13,"top",[new H13(R13,i13),new H13(P13,i13)]),Z13(L13,"vertical",[new H13(R13,v13-V13),new H13(P13,v13-V13)]),Z13(L13,"bottom",[new H13(R13,v13),new H13(P13,v13)])];};y13.config=function(x13){return q13.configSelection(x13,{layers:[this],setGlobals:false});};}function Y23(w13,k13){k13.getPaintAt=function(n43){var s43=this;var A13=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"fill";if(this.svg){for(var r43=this._svgGetNodes(n43);r43.length;){var Y13=r43.pop().style[A13];if(Y13){return G23.paintFromSVG(s43.svg.defs[Y13]||Y13);}}}else{return this[A13];}};}function w23(T43,M43){var I43=sketch.style,c43=sketch.Point;M43.setPaintAt=function(){function H43(j43){var u43=g43.state,J43=O43._nodes||(O43._nodes=j43._svgGetNodes(O43.at,q43)),u43="end"!==u43;j43.highRes=u43;j43.isEditing=u43;return j43._svgStyleNodesAndRecord(T43,J43,{gevent:g43,fill:h43,stroke:y43,recursive:true});}var o43=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},h43=o43.fill?I43.create(o43.fill):void 0,q43=o43.fillMode,g43=o43.gevent||GEvent.END(),Z43=o43.point,E43=o43.rect,y43=o43.stroke?I43.create(o43.stroke):void 0,O43=g43.env;if(this.svg){return O43.at||(O43.at=E43||new c43(Z43)),(o43=this._svgEnsureClone())?o43.then(H43):H43(this);}o43={};h43&&(o43.fill=h43);y43&&(o43.stroke=y43);return T43.configSelection(o43,{gevent:g43,layers:[this]});};}function k23(b43,S43){function t43(C43,B43,N43,l43,f43){if(!(C43 instanceof b23.Paint)){return C43;}C43=C43.svgify(B43,l43);if(!C43){return"black";}if("string"===typeof C43){return C43;}f43&&(C43.id=f43);return(N43=N43.addDef(C43))?N43.id:"black";}var K43=sketch.Point;S43._copyFillToSVG=function(Q43,z43,D43,d43,X43){Q43.fill=t43(z43,this,D43,d43,X43);Q43.fillOpacity=z43.opacity;Q43.fillRule="nonzero";return Q43;};S43._copyStrokeToSVG=function(W43,U43,e43,F43,p43){var G43=5<arguments.length&&void 0!==arguments[5]?arguments[5]:1;W43.stroke=t43(U43,this,e43,F43,p43);W43.strokeAlignment="center";W43.strokeDasharray=U43.lineDash;W43.strokeDashoffset=U43.lineDashOffset;W43.strokeLinecap=U43.lineCap;W43.strokeLinejoin=U43.lineJoin;W43.strokeMiterlimit=U43.miterLimit;W43.strokeOpacity=U43.opacity;W43.strokeWidth=U43.lineWidth*G43;return W43;};S43._svgEnsureClone=function(){var V43=this,P43=V43.svg;if(P43.cloneId!==V43.id){return new Promise(function(v43){V43.svg=P43.clone(function(L43){L43.cloneId=V43.id;v43(V43);});});}};S43._svgGetNodes=function(x43){function w43(Y43){for(;Y43;){if("g"===Y43.type){return Y43;}var A43=Y43.parentNode;if("svg"===A43.type){return Y43;}Y43=A43;}}function k43(r73,T73){var s73=r73.bbox,n73=r73.svg,I73=s73.width/n73.viewBox[2];r73=r73.getCurrentTransform().clone();r73.rotate(-s73.rotation);r73.scale(I73,I73);r73.e=0;r73.f=0;T73.matrix=r73;return n73.hitTest(T73);}var R43=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"*";if(!x43){var a43=[];this.svg.walk(function(c73){return a43.push(c73);});return a43;}var i43=function(o73,M73){if(Number.isFinite(M73.x+M73.y)){return k43(o73,{point:b43.pointInLayerFromCanvas(M73,o73)});}M73=b43.pointsIn("pointInLayerFromCanvas",[new K43(M73.x1,M73.y1),new K43(M73.x2,M73.y1),new K43(M73.x2,M73.y2),new K43(M73.x1,M73.y2)],o73);var O73=o73.bbox.scale;0>O73.x*O73.y&&M73.reverse();return k43(o73,{rect:sketch.Polygon.clone(M73)});}(this,x43);return i43.length?"g"===R43?(R43=w43(i43.pop()),R43.childNodes||[R43]):"node"===R43?[i43.pop()]:i43:i43;};S43._svgStyleNodes=function(j73){var H73=this;for(var g73=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},q73=!!g73.recursive,Z73=X23(g73.fill),g73=X23(g73.stroke),h73={},y73={},E73=j73.length;E73--;){var u73=j73[E73];Z73&&t23(y73,h73,H73,u73,"fill",Z73,q73);g73&&t23(y73,h73,H73,u73,"stroke",g73,q73);}return{defs:h73,patches:y73};};S43._svgStyleNodesAndRecord=function(Q73,N73,J73){var K73=J73.gevent,t73=K73.env||{};t73.hasOwnProperty("_layer")||(t73._layer=this.toPlainObject());var S73=this._svgStyleNodes(N73,J73);N73=f23.count(S73.patches);if(!S73||!N73){return 0;}e23(this);J73=this.svgPatch||(this.svgPatch={});var b73=J73.defs||(J73.defs={}),C73=J73.patches||(J73.patches={});f23.assignDeep(b73,S73.defs);f23.assignDeep(C73,S73.patches);var S73=this.svg,b73={},C73=J73.patches,f73;for(f73 in C73){var l73=C73[f73];b73[l73.fill]=true;b73[l73.stroke]=true;}f73=J73.defs;J73=J73.defs={};for(var B73 in f73){b73[B73]&&(J73[B73]=f73[B73]);}for(var m73 in S73.defs){S73.defs[m73]._usageTally||b73[m73]||S73.removeDef(m73);}Q73.render.dirty=true;K73=K73.state;if(!K73||"end"===K73){return delete this.svgPatch.now,K73=this.id,(t73=jsondiffpatch.diff(t73._layer,this.toPlainObject()))&&t73.svgPatch&&Q73.history.store("VOBNodeList",{name:"update-clipart-color",data:[{id:K73,deltas:{svgPatch:t73.svgPatch}}]}),N73;}this.ctx&&1<this.ctx.copies&&(this.svgPatch||(this.svgPatch={}),this.svgPatch.now=Date.now());return N73;};S43._svgApplyPatch=function(){function W73(){D73&&U23(z73);d73&&x23(z73);}var z73=this,D73=z73.svgPatched,d73=z73.svg&&z73.svgPatch&&z73.svgPatch.patches;if(d73||D73){var X73=z73._svgEnsureClone();return X73?X73.then(W73):W73();}return Promise.resolve();};}function X23(U73){if(U73){return b23.create(U73);}}function x23(e73){function i73(x73){var a73=Object.assign({},p73[x73]);return b23.loadPattern(a73).then(function(k73){a73.pattern=k73;V73.addDef(p73[x73]=new sketch.SVG.Pattern(a73));});}e23(e73);var V73=e73.svg,G73=e73.svgPatch,p73=G73.defs,G73=G73.patches,F73;for(F73 in G73){var L73=G73[F73],R73=V73.getNodeBy("uid",F73);if(R73){for(var v73 in L73){t23({},{},e73,R73,v73,L73[v73]);}}else{console.warn("Could not locate node index",F73);}}e73=[];for(var P73 in p73){F73=p73[P73],"pattern"===F73.type?e73.push(i73(P73)):V73.addDef(F73);}return Promise.all(e73);}function U23(w73){function A73(I63,T63,c63,r63,M63,n63){var s63=(r63=r63[n63])&&r63.id||r63;t23(T63,{},w73,M63,n63,s63,true);c63[n63]=s63;("undefined"===typeof r63?false:"object"===J23(r63))&&(I63[s63]=r63);}var Y73=[];if(!w73.svgPatched){return Y73;}w73.dirtyCache=true;w73.svgPatched=false;w73.svg.walk(function(y63){var o63=y63._originalStyle;if(o63){var O63={},g63={},h63={};o63.hasOwnProperty("fill")&&A73(g63,h63,O63,o63,y63,"fill");o63.hasOwnProperty("stroke")&&A73(g63,h63,O63,o63,y63,"stroke");O63.id=w73.id;O63.svgPatch={patches:h63,defs:g63};Y73.push(O63);}});return Y73;}function t23(K63,C63,Z63,u63,H63,q63,t63){function f63(B63){if(B63=B63.childNodes){for(var m63=0;m63<B63.length;m63++){var l63=B63[m63];l63.childNodes?t23(K63,C63,Z63,l63,H63,q63,t63):N63(l63);}}}function N63(Q63){var d63;d63=u63.uid;d63=K63[d63]||(K63[d63]={});var D63=Q63.style;var X63=D63[H63],U63=E63.defs[X63],W63=Q63._originalStyle||(Q63._originalStyle={});W63.hasOwnProperty(H63)||(W63[H63]=U63||X63);if(b63){X63={};Q63=J63?Z63._copyStrokeToSVG(X63,q63,E63,Q63.matrix,null,j63):Z63._copyFillToSVG(X63,q63,E63,Q63.matrix);for(var z63 in Q63){d63[z63]=D63[z63],D63[z63]=Q63[z63];}J63&&S63!==D63.strokeWidth&&(Z63.dirtyBoundingBox=true);}else{D63[H63]=q63;}z63=D63[H63];(Q63=E63.defs[z63])&&(C63[z63]=Q63);d63[H63]=z63;}if(u63){var E63=Z63.svg,b63=q63 instanceof b23.Paint,J63=void 0,j63=void 0,S63=void 0;b63&&(J63="stroke"===q63.method,j63=1/(Z63.bbox.width/E63.viewBox[2]),S63=q63.lineWidth*j63);N63(u63);t63&&f63(u63);}}function e23(G63){G63.svgPatched=true;G63.dirtyHash=true;G63.dirtyCache=true;}function r03(e63){function R63(a63){var i63=false;Object.defineProperties(a63,{isEditing:{get:function(){return i63;},set:function(x63){var k63="undefined"===typeof i63?"undefined":J23(i63);"boolean"===k63?i63=x63:"string"===k63&&"string"===typeof x63&&(i63=x63.includes(":start"));}},getProperty:{value:function(w63,Y63){var A63=this.env;if(Y63||null==A63[w63]){Y63=S23.getProperty[w63];if(!Y63){throw w63+" is not a value parameter.";}return A63[w63]=Y63(this);}return A63[w63];}}});}var V63=e63.scene,F63=e63.toolkit,P63=e63.viewport;e63.Layer=function(n8b){var s8b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:false,r8b=Object.defineProperties(this,L63);r8b.doc=e63;r8b.env={};r8b.precomputed={};R63(r8b);n8b?(s8b&&(n8b=V63.decompress(n8b)),sketch.copyConfig(n8b,r8b,{decompress:s8b}),r8b.bbox=new sketch.LayerBBox(n8b.bbox)):r8b.bbox=new sketch.LayerBBox();s8b=r8b.type;if(!s8b){return console.error("Layer(...) 'type' is not defined"),r8b;}var I8b=F63.get(s8b);if(!I8b){return console.error("Layer(...) '"+s8b+"' is not a valid tool"),r8b;}r8b.id||(r8b.id=V63.createId());r8b.seed||(r8b.seed=sketch.PseudoRandom.seed());r8b.tool=I8b;r8b.toolkitId=I8b.toolkitId;r8b.children&&(r8b.dirtyBoundingBox=true,sketch.module.LayerContainer(e63,r8b));return r8b;};var v63={image:"clipart",svg:"clipart",text:"fancyText"};e63.createLayerConfig=function(q8b){function j8b(){var J8b=T8b.data||T8b.path;if("string"!==typeof J8b&&!Array.isArray(J8b)){return Promise.reject("createLayerConfig(...) Brush requires a 'path'!");}T8b.data=J8b;var J8b=F63.get(T8b.type).clipPathToBoundingBox(T8b),S8b=T8b.bbox;S8b.width=J8b.width;S8b.height=J8b.height;S8b.padding=J8b.padding;return o8b();}function H8b(){var K8b=e63.pixelRatio,b8b=T8b.src;return P23.load(b8b).then(function(t8b){T8b.src=t8b.assetId;var N8b;"clipart"===t8b.assetType?(t8b=t8b.viewBox,N8b=t8b[2]-t8b[0],t8b=t8b[3]-t8b[1]):(N8b=t8b.width/K8b,t8b=t8b.height/K8b);var C8b=O8b(),m8b=C8b.width,C8b=C8b.height,f8b=g8b.maxWidth||Number.MAX_SAFE_INTEGER,B8b=g8b.maxHeight||Number.MAX_SAFE_INTEGER;m8b&&C8b||(f8b=Math.min(f8b,P63.width,e63.pixelWidth),B8b=Math.min(B8b,P63.height,e63.pixelHeight));N8b=L23.fitSize(N8b,t8b,{width:m8b||"auto",height:C8b||"auto",maxWidth:f8b,maxHeight:B8b});t8b=T8b.bbox;t8b.width=N8b.width;t8b.height=N8b.height;return o8b();}).catch(function(l8b){console.error(l8b);return Promise.reject("createLayerConfig(...) Could not load the clipart '"+b8b+"'!");});}function u8b(){if(T8b.src){return H8b();}var Q8b=T8b.bbox,z8b=O8b();z8b.width||(Q8b.width=h8b.defaultWidth);z8b.height||(Q8b.height=h8b.defaultHeight);return o8b();}function E8b(){if("string"!==typeof T8b.content){return Promise.reject("createLayerConfig(...) Text requires a 'content' string!");}var D8b=T8b.fontFamily;return sketch.font.load(D8b).then(function(){var X8b=O8b(),U8b=T8b.trimPaddingToTightFit,G8b=T8b.textBaseline,d8b,W8b=void 0;if(G8b||U8b||!X8b.width||!X8b.height){d8b=B23.text.getFontStyle(T8b);var W8b=B23.text.measureText(T8b.content,d8b),e8b=B23.text.width("M",d8b);d8b=T8b.bbox;U8b?(U8b=W8b.width+e8b,d8b.x=X8b.x+X8b.width-U8b,d8b.width=U8b,d8b.height=W8b.height):(X8b.width||(d8b.width=W8b.width+e8b),X8b.height||(d8b.height=W8b.height));}G8b&&(y8b.y=X8b.y+Z8b(G8b,0,W8b.height));return o8b();}).catch(function(F8b){console.error(F8b);return Promise.reject("createLayerConfig(...) Could not load the font '"+D8b+"'!");});}function o8b(){var p8b=T8b.bbox=O8b();return p8b&&Number.isFinite(p8b.x+p8b.y)?Promise.resolve(new e63.Layer(T8b,true)):Promise.reject("createLayerConfig(...) '"+c8b+"' requires a bbox!");}function O8b(){var P8b=e63.getCenterOfViewport(),V8b=Object.assign({},T8b.bbox);V8b.units=M8b("units",g8b.units||"userSpaceOnUse");V8b.x=M8b("x",Math.round(P8b.x));V8b.y=M8b("y",Math.round(P8b.y));V8b.width=M8b("width",0);V8b.height=M8b("height",0);var P8b=S23.getBoundingBoxFromOptions(V8b),v8b=S23.getBoundingBoxFromOptions(T8b);V8b.scale=P8b.scale||v8b.scale||new sketch.Point(1,1);V8b.rotation=P8b.rotation||v8b.rotation||0;V8b=new sketch.LayerBBox(V8b);if((P8b=T8b.centerOnPoint)||"objectBoundingBox"===V8b.units&&false!==P8b){P8b=V8b.pointAt(.5,.5).subtract(V8b),V8b.x-=P8b.x,V8b.y-=P8b.y;}return V8b;}function Z8b(i8b){var L8b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,R8b=arguments[2];switch(i8b){case"bottom":L8b-=R8b;break;case"alphabetic":L8b-=R8b;break;case"middle":L8b-=R8b/2;}return L8b;}function M8b(a8b,x8b){var k8b="undefined"===typeof x8b?"undefined":J23(x8b);return T8b.bbox&&J23(T8b.bbox[a8b])===k8b?T8b.bbox[a8b]:J23(T8b[a8b])===k8b?T8b[a8b]:x8b;}var T8b=Object.assign({},q8b),y8b=T8b.bbox||(T8b.bbox={scale:{}}),c8b=T8b.type;v63[c8b]&&(c8b=T8b.type=v63[c8b]);if(!F63.exists(c8b)){return Promise.reject("createLayerConfig(...) '"+c8b+"' toolkit not found!");}var h8b=F63.get(c8b),g8b=S23.getFeatures(h8b);V63.decompress(T8b);(function(w8b){return sketch.copyConfig(F63.config[w8b.type],w8b,{filter:function(r2b,Y8b,A8b){return"name"===A8b||"undefined"!==typeof Y8b?false:true;}});}(T8b));return K23.brush[c8b]?j8b():K23.media[c8b]?H8b():K23.shape[c8b]?u8b():K23.text[c8b]?E8b():o8b();};var p63=e63.Layer.prototype;i23(e63,p63);A23(e63,p63);Y23(e63,p63);w23(e63,p63);k23(e63,p63);var L63=function(){return"brush ctx dirtyBoundingBox dirtyCache dirtyHash dirtyIndex dirtyPointerCache dirtyTransform doc env error hash hovered inBounds isCreating isEditing isEditingPath isLiveCursor matrix2D matrix2DMouse parent precomputed render selected sprite svg tool toolkitId".split(" ").reduce(function(s2b,n2b){s2b[n2b]={enumerable:false,configurable:true,writable:true};return s2b;},{});}();}var v23=sketch.agent,V23=sketch.docs,j23=sketch.dom,N23=sketch.feature,d23=sketch.util,R23=sketch.Canvas2D;j.initSymbol();j.initSymbol();j.initSymbolIterator();var J23="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(I2b){return typeof I2b;}:function(T2b){j.initSymbol();j.initSymbol();j.initSymbol();return T2b&&"function"===typeof Symbol&&T2b.constructor===Symbol&&T2b!==Symbol.prototype?"symbol":typeof T2b;},F23=function(c2b,M2b,o2b){M2b in c2b?Object.defineProperty(c2b,M2b,{value:o2b,enumerable:true,configurable:true,writable:true}):c2b[M2b]=o2b;return c2b;},W23=Object.assign||function(y2b){for(var O2b=1;O2b<arguments.length;O2b++){var g2b=arguments[O2b],h2b;for(h2b in g2b){Object.prototype.hasOwnProperty.call(g2b,h2b)&&(y2b[h2b]=g2b[h2b]);}}return y2b;},l23=function(H2b){if(Array.isArray(H2b)){for(var q2b=0,Z2b=Array(H2b.length);q2b<H2b.length;q2b++){Z2b[q2b]=H2b[q2b];}return Z2b;}return Array.from(H2b);},Q23={pages:"object",clipPath:"object"},C23={units:"string",width:"number",height:"number",scale:"number"},p23=Object.assign({},{uuid:"string",title:"string",description:"string",metadata:"object",exportDPI:"number",exportFormat:"string",exportQuality:"number"},Q23,C23),G23=sketch.style,b23=sketch.style,f23=sketch.util;sketch.vector.revertAllSVGPatches=function(){var u2b=sketch.doc,E2b=[];u2b.scene.traverse(function(j2b){j2b.svgPatched&&(E2b=E2b.concat(U23(j2b)));});E2b.length&&u2b.history.store("VOBNodeList",{name:"reset-clipart-color",data:E2b});};sketch.module.add(function(J2b){J2b.history.register("VOBNodeList",{apply:function(K2b){var C2b=K2b.data;K2b=K2b.undo;for(var b2b=0;b2b<C2b.length;b2b++){var t2b=C2b[b2b],S2b=J2b.scene.getById(t2b.id);S2b&&S2b.svg&&(K2b?jsondiffpatch.unpatch(S2b,t2b.deltas):jsondiffpatch.patch(S2b,t2b.deltas),S2b._svgApplyPatch());}}});});var P23=sketch.assets,K23=sketch.detect,S23=sketch.layerUtils,L23=sketch.util,B23=sketch.vector;sketch.Layer=function(N2b){return sketch.doc.createLayerConfig(N2b).then(function(f2b){return f2b.load();});};sketch.LayerCollection=function(B2b){return Promise.all(B2b.map(sketch.Layer));};sketch.module.Document=function(){function P2b(){m2b.getUnusedAssetKeys().forEach(function(v2b){W2b.destroy(v2b);});}function p2b(){sketch.flags.interactable=false;e2b();}function F2b(){sketch.flags.interactable=true;m2b.tool.enable&&m2b.tool.enable();sketch.keyboard&&sketch.keyboard.transferArea.enable(m2b);Gesture.bulk(sketch.attachedEvents,"attach");Gesture.bulk(m2b.attachedEvents,"attach");}function e2b(){m2b.tool.disable&&m2b.tool.disable();sketch.keyboard&&sketch.keyboard.transferArea.disable(m2b);Gesture.bulk(sketch.attachedEvents,"detach");Gesture.bulk(m2b.attachedEvents,"detach");}var d2b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},m2b=Galactic.emitter(this),W2b=sketch.assets,D2b=sketch.docs,z2b=sketch.layerUtils,l2b=sketch.module,G2b=sketch.style,Q2b=sketch.ui,X2b=sketch.util,V2b=sketch.Matrix2D;m2b.toolkit=new l2b.Toolkit(m2b);m2b.toolkit.config=new l2b.Configure(m2b);I03(m2b);M03(m2b);c03(m2b);T03(m2b);n03(m2b);s03(m2b);m2b.tool={};m2b.hovered={};m2b.selection={};m2b.focus=function(){sketch.doc=m2b;sketch.emit("focus",m2b);};m2b.setClip=function(L2b,R2b){L2b?L2b.path?m2b.setClipPath(L2b,R2b):m2b.setClipRect(L2b,R2b):(m2b.clipPath={},m2b.render.dirtyClipPath=true);};m2b.setClipPath=function(i2b,x2b){var a2b=new V2b();a2b.scale(x2b,x2b);a2b.flatten(i2b.path);m2b.clipPath={};m2b.clipPath.path=i2b.path;m2b.clipPath.style=i2b.style;};m2b.setClipRect=function(k2b){m2b.clipPath=k2b;};m2b.reset=function(){m2b.gesture.reset();m2b.history.reset();m2b.orient.reset();m2b.scene.reset({recordHistory:false});m2b.tool.resetUI&&m2b.tool.resetUI();m2b.render.scene();m2b.emit("reset");};m2b.recycleAsNew=function(){m2b.reset();m2b.history.store("new");m2b.lastSynced=m2b.lastModified;m2b.uuid=X2b.uuid();return Promise.resolve();};m2b.resetCache=function(){P2b();sketch.SVG.resetCache();G2b.Gradient.emptyCache();G2b.Pattern.emptyCache();m2b.render.cache.reset();m2b.pixi&&m2b.pixi.destroy();};m2b.destroy=function(){e2b();D2b.unregister(m2b.uuid);sketch.ui.destroy();m2b.$element!==document.body&&m2b.$element.remove();};m2b.needsSync=function(){return m2b.lastSynced<m2b.lastModified;};m2b.timestamp=function(){return m2b.recorder?m2b.recorder.currentTime:m2b.player?m2b.player.currentTime:Date.now();};m2b.defaultProgressHandler=function(w2b){if(Q2b.timer||Q2b.Timer){Q2b.timer||(Q2b.timer=new Q2b.Timer()),Q2b.timer.progress=w2b;}};m2b.getAssetUsage=function(r0b){var Y2b=void 0;"string"===typeof r0b&&(Y2b=r0b);r0b&&r0b.assetId&&(Y2b=r0b.assetId);var A2b={};z2b.getAssetsAttachedToLayers(m2b.scene.children,"src").forEach(function(s0b){Y2b&&Y2b!==s0b||(A2b[s0b]?A2b[s0b]++:A2b[s0b]=1);});return Y2b?A2b[Y2b]||0:A2b;};m2b.getUsedAssetKeys=function(){var n0b=z2b.getAssetsAttachedToLayers(m2b.scene.children,"src");return n0b.filter(function(I0b,T0b){return n0b.indexOf(I0b)===T0b;});};m2b.getUnusedAssetKeys=function(){var M0b=m2b.getAssetUsage(),c0b=[];W2b.forEach(function(O0b,o0b){M0b[o0b]||c0b.push(o0b);});return c0b;};m2b.createHash=function(y0b){var g0b=m2b.toolkit.getTool(y0b);if(g0b){var h0b=""+m2b.pixelRatio+m2b.scale,g0b=z2b.getHash(y0b,g0b.attributes);return""+h0b+g0b;}(h0b=console).error.apply(h0b,arguments);};m2b.getComposite=function(H0b){return"pixi"===m2b.renderingEngine?m2b.pixi.getComposite():m2b.drawComposite.apply(m2b,arguments);};m2b.drawComposite=function(q0b){var E0b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,u0b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,Z0b=m2b.pixelRatio;if(!q0b){var j0b=m2b.viewport,J0b=m2b.zoom;q0b=sketch.Context2D(Math.min(j0b.width,m2b.pixelWidth*J0b)*Z0b,Math.min(j0b.height,m2b.pixelHeight*J0b)*Z0b);}"pixi"===m2b.renderingEngine?q0b.drawImage(m2b.pixi.getComposite(),E0b,u0b):m2b.render.contexts.forEach(function(K0b){var S0b=K0b._bbox;q0b.drawImage(K0b.canvas,S0b.x*Z0b+E0b,S0b.y*Z0b+u0b);});return q0b.canvas;};m2b.freeze=function(){p2b();m2b.render.stop();};m2b.unfreeze=function(){F2b();m2b.render.start();};m2b.freezeUserInput=p2b;m2b.unfreezeUserInput=F2b;var U2b=!!d2b.noUI||sketch._noRendering;U2b?m2b.noUI=U2b:a23(m2b,d2b);m2b.focus();D2b.register(m2b);l2b.UICursor&&l2b.UICursor(m2b);l2b.Scene&&(m2b.scene=new l2b.Scene(m2b),m2b.render=new l2b.SceneRenderer(m2b),m2b.hovered=m2b.scene.hovered,m2b.selection=m2b.scene.selection,r03(m2b),l2b.AddMedia&&l2b.AddMedia(m2b),l2b.SceneAdd&&l2b.SceneAdd(m2b),l2b.SceneReplicate&&(l2b.SceneReplicate(m2b),m2b.scene.clipboard.restore()),l2b.SceneBBox&&l2b.SceneBBox(m2b),l2b.SceneFind&&l2b.SceneFind(m2b),l2b.SceneGuides&&l2b.SceneGuides(m2b));l2b.History&&(m2b.history=new l2b.History(m2b),m2b.history.setRecording({recording:"new"}));l2b.Control&&l2b.ControlEvent&&(new l2b.Control(m2b),new l2b.ControlEvent(m2b));l2b.Theme&&(m2b.theme=new l2b.Theme(m2b));m2b.inSelectTool=function(){return sketch.detect.isEssentiallySelectTool[m2b.tool.type];};m2b.pingAutoSave=X2b.debounce(function(){return new Promise(function(b0b,t0b){if(!sketch.globals.autosave||m2b.pingAutoSave.uuid!==m2b.uuid){return b0b();}if(m2b._interacting){return m2b.pingAutoSave(),b0b();}m2b.emit("autosave");return b0b();}.bind(this));},1E3);};}();void function(){function l0b(){return new Promise(function(d0b){sketch.doc.inSelectTool()?d0b():C0b.setTool("select");});}var C0b=void 0,N0b=void 0,B0b=sketch.feature,Q0b=sketch.lang,z0b=sketch.util,D0b=sketch.vector,m0b=sketch.exec=function X0b(W0b){for(var U0b=arguments.length,e0b=Array(1<U0b?U0b-1:0),G0b=1;G0b<U0b;G0b++){e0b[G0b-1]=arguments[G0b];}return W0b?W0b.includes("+")?(U0b=W0b.split("+"),Promise.each(U0b,function(F0b){return X0b.apply(void 0,[F0b].concat(e0b));})):f0b[W0b]?(C0b=sketch.doc,N0b=C0b.scene,Promise.resolve(f0b[W0b].apply(null,e0b))):B0b.doc.globalTools?Promise.all(sketch.docs.map(function(p0b){return p0b.setTool(W0b);})):Promise.resolve(sketch.doc.setTool(W0b)):(console.warn("invalid type",arguments),Promise.resolve());};m0b.register=function(V0b,P0b){f0b[V0b]=P0b;};m0b.unregister=function(v0b){delete f0b[v0b];};var f0b={downloadLayers:function(){sketch.download.selection();},groupLayers:function(){C0b.scene.group();},ungroupLayers:function(){C0b.scene.ungroup();},debugLayers:function(R0b,i0b){i0b||(i0b=C0b.selection.layers());for(R0b=0;R0b<i0b.length;R0b++){var L0b=i0b[R0b];console.log("id:",L0b.id,"idx:",L0b.idx,"type:",L0b.type);console.log("layer:",L0b);console.log("bbox:",L0b.bbox);}},zoomIn:function(){C0b.zoomIn();},zoomOut:function(){C0b.zoomOut();},zoomTo:function(x0b,a0b){C0b.setZoom(a0b);},zoomToFit:function(){C0b.zoomToFit();},zoomReset:function(){C0b.setZoom(B0b.zoom.defaultValue);C0b.centerDocInView();},copyStyles:function(){var k0b=N0b.getFocalObject();k0b&&(N0b.copiedStyles=sketch.style.copyStyles(k0b,{}));},pasteStyles:function(){var w0b=N0b.getFocalObject();if(w0b){var Y0b=sketch.style,n3b=z0b.copy(w0b);Y0b.copyStyles(N0b.copiedStyles,w0b);var A0b=Y0b.paintMethods,r3b;for(r3b in A0b){if(A0b.hasOwnProperty(r3b)){var s3b=w0b[r3b];s3b&&Y0b.cachePaint(w0b,s3b);}}w0b.dirtyHash=true;C0b.history.store("update",{name:"paste-styles",data:{from:[n3b],to:[w0b]}});C0b.render.scene();}},convertLayersToStamp:function(){sketch.assets._createStampFromSelection();},mergeLayers:function(){sketch.assets._createImageFromSelection();},mergePaths:function(){var I3b=N0b.selection.layers();C0b.selection.remove({recordHistory:true});D0b.mergeLayers(I3b);},sendLayersForwards:function(){N0b.sendForwards&&C0b.selection.length&&(N0b.sendForwards({recordHistory:true}),C0b.render.scene());},sendLayersToFront:function(){N0b.sendForwards&&C0b.selection.length&&(N0b.sendForwards({recordHistory:true,toFront:true}),C0b.render.scene());},sendLayerBackwards:function(){N0b.sendBackwards&&C0b.selection.length&&(N0b.sendBackwards({recordHistory:true}),C0b.render.scene());},sendLayersToBack:function(){N0b.sendBackwards&&C0b.selection.length&&(N0b.sendBackwards({recordHistory:true,toBack:true}),C0b.render.scene());},deleteLayers:function(){C0b.selection.length&&(C0b.selection.remove({recordHistory:true}),C0b.render.scene());},copyAllLayers:function(){C0b.scene.selectAll();sketch.exec("copyLayers");},copyLayers:function(){N0b.copy&&C0b.selection.length&&(N0b.copy(),C0b.render.scene());},cutAllLayers:function(){C0b.scene.selectAll();sketch.exec("cutLayers");},cutLayers:function(){N0b.cut&&C0b.selection.length&&(N0b.cut(),C0b.render.scene());},pasteLayers:function(){N0b.paste&&N0b.paste().then(function(){C0b.render.scene();C0b.setTool("select");});},duplicateLayers:function(){N0b.duplicate&&(N0b.duplicate(),C0b.render.scene());},selectAll:function(){return l0b().then(function(){C0b.selectAll();});},selectInverse:function(){return l0b().then(function(){C0b.selectInverse();});},deselectAll:function(){C0b.deselectAll();},undo:function(c3b,T3b){C0b.history.undo(T3b);},redo:function(o3b,M3b){C0b.history.redo(M3b);},print:function(){return sketch.print();},save:function(){return sketch.save.command();},download:function(){var O3b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return sketch.download[O3b.format](O3b);},downloadJPEG:function(){console.warn('DEPRECATED: use sketch.exec("download", {format: "jpeg"})');return sketch.download.jpeg();},downloadPNG:function(){console.warn('DEPRECATED: use sketch.exec("download", {format: "png"})');return sketch.download.png();},downloadWebP:function(){return sketch.download.webp();},downloadJSON:function(){return sketch.download.json();},downloadPDF:function(){return sketch.download.pdf();},downloadSVG:function(){return sketch.download.svg();},downloadSketch:function(){return sketch.download.zip();},new:function(){return C0b.recycleAsNew();},newConfirm:function(){return sketch.save.confirm().then(function(){sketch.ui.log(Q0b.translate("new-doc-created"));return C0b.recycleAsNew();});}};}();void function(){sketch.module.Keyboard=function(){function q3b(){return sketch.doc._editing||Keyster.isInputFocused();}function b3b(t3b){var C3b=sketch.doc,B3b=q3b();if(!Keyster.track(t3b)&&!Keyster.isInputFocused()){var N3b=t3b.keyCode,f3b=Keyster._state[N3b]||{},m3b=Keyster.shift;Keyster._metaKeys[N3b]&&!B3b&&Z3b.transferArea.focus(C3b);switch(N3b){case 219:if(!Keyster.meta){return;}g3b["meta+["](t3b);return;case 221:if(!Keyster.meta){return;}g3b["meta+]"](t3b);return;case 80:if(!Keyster.meta){return;}g3b["meta+p"](t3b);return;case 83:if(!Keyster.meta){return;}g3b["meta+s"](t3b);return;case 27:if(C3b.keyboard.emit("escape",t3b,"escape",f3b)){return;}g3b.escape(t3b);return;}if(!B3b&&!E3b(t3b)){switch(N3b){case 46:case 8:g3b["delete"](t3b);break;case 71:if(!h3b.betaGroup){break;}if(!Keyster.meta){break;}if(Keyster.shift){g3b["meta+shift+g"](t3b);break;}g3b["meta+g"](t3b);break;case 18:g3b.alt(t3b);break;case 73:g3b.i(t3b);break;case 67:if(!Keyster.meta){break;}g3b["meta+c"](t3b);break;case 86:if(!Keyster.meta){break;}g3b["meta+v"](t3b);break;case 88:if(!Keyster.meta){break;}g3b["meta+x"](t3b);break;case 90:if(!Keyster.meta){break;}Gesture.cancel(t3b);if(C3b._interacting){break;}if(m3b){if(C3b.keyboard.emit("redo",t3b,"redo",f3b)){break;}sketch.exec("redo");break;}if(C3b.keyboard.emit("undo",t3b,"undo",f3b)){break;}sketch.exec("undo");break;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:if(Keyster.shift){g3b["shift+9"](t3b);}else{a:if(h3b.hotkeys){switch(t3b=h3b.hotkeys[N3b-49],t3b){case"brush":case"shape":if((C3b=u3b.$(".sketch-select-"+t3b))&&C3b.id){sketch.exec(C3b.id.replace("tool-",""));break a;}default:sketch.exec(t3b);}}}break;case 48:if(!Keyster.shift){break;}g3b["shift+0"](t3b);break;case 173:case 189:if(!Keyster.shift){break;}g3b["shift+-"](t3b);break;case 61:case 187:if(!Keyster.shift){break;}g3b["shift++"](t3b);break;case 32:g3b.space(t3b);}}}}function K3b(Q3b){if(!Keyster.track(Q3b)&&!Keyster.isInputFocused()){var l3b=Q3b.keyCode;if(91===l3b&&y3b.mac){for(var D3b in Keyster._state){var z3b=Keyster._state[D3b];"end"!==z3b.state&&(z3b.state="end",z3b.originalEvent.state="end",E3b(z3b.originalEvent));}}if(!E3b(Q3b)){switch(l3b){case 18:if(!h3b.ui.quickSelect){break;}case 32:h3b.ui.quickZoom&&(Q3b=H3b.toolId)&&(l3b=sketch.doc,l3b.tools.zoom.inQuickZoomState=false,l3b.setTool(Q3b),H3b.toolId=null);}}}}function E3b(X3b){var U3b,d3b=Keyster._state[X3b.keyCode]||{},W3b=S3b.lcfirst(d3b.id);X3b=[W3b,X3b,W3b,d3b];d3b=(U3b=sketch.doc.keyboard).emit.apply(U3b,X3b);if(null==d3b){var G3b,d3b=(G3b=sketch.keyboard).emit.apply(G3b,X3b);}return d3b;}var Z3b=Galactic.emitter(this),y3b=sketch.agent,j3b=sketch.detect,u3b=sketch.dom,h3b=sketch.feature,S3b=sketch.string,J3b=sketch.doc,H3b={};Z3b.enable=function(e3b,F3b){sketch.flags.interactable&&(F3b.keydown=Gesture.on(e3b.$inputKeys,"keydown",b3b),F3b.keyup=Gesture.on(e3b.$inputKeys,"keyup",K3b));};void function(){function V3b(P3b){P3b=Galactic.emitter(P3b.keyboard||(P3b.keyboard={}));return P3b.events||(P3b.events={});}var p3b=Z3b.transferArea={};p3b.focus=function(v3b){if(v3b=v3b.$editable){v3b.focus(),v3b.textContent=" ",u3b.text.selectAll(v3b);}};p3b.enable=function(L3b){var i3b=V3b(L3b);if(y3b.clipboard=false===sketch.flags.interactable||false===y3b.clipboard||y3b.safari||!Gesture.supports("paste",L3b.$editable)?false:!!(L3b.scene&&L3b.scene.paste&&L3b.addMedia)){if(!L3b.$editable){var R3b=document.createElement("div");R3b.className="keyster-ignore";R3b.setAttribute("contentEditable",true);R3b.style.cssText="opacity: 0; position: fixed; top: 0px; left: 0px;";R3b.style.marginLeft="-20px";L3b.$editable=R3b;L3b.$element.appendChild(R3b);}i3b.paste=Gesture.on(L3b.$editable,"paste",L3b.scene.onPasteNative);i3b.copy=Gesture.on(L3b.$editable,"copy",L3b.scene.onCopyNative);i3b.cut=Gesture.on(L3b.$editable,"cut",L3b.scene.onCutNative);}};p3b.disable=function(a3b){a3b=V3b(a3b);Gesture.bulk(a3b,"detach");};}();var g3b={"meta+[":function(x3b){Gesture.cancel(x3b);Keyster.alt?sketch.exec("sendLayersToBack"):sketch.exec("sendLayersBackwards");},"meta+]":function(k3b){Gesture.cancel(k3b);Keyster.alt?sketch.exec("sendLayersToFront"):sketch.exec("sendLayersForwards");},"meta+p":function(w3b){Gesture.cancel(w3b);sketch.print();},"meta+s":function(Y3b){Gesture.cancel(Y3b);Keyster.alt?sketch.download.image():Keyster.shift&&J3b.tools.screenshot?sketch.exec("screenshot"):sketch.save.command();},escape:function(A3b){Gesture.cancel(A3b);if(sketch.windows.hasFocus&&sketch.windows.hasFocus()){sketch.windows.hideFocused();}else if(global.alertify&&alertify.isVisible()){alertify.hide("*");}else{A3b=sketch.doc;var r5b=A3b.scene.selection.layer;r5b&&r5b.tool.stopEditing?r5b.tool.stopEditing():A3b.deselectAll();}},"shift+0":function(s5b){h3b.zoom.enabled&&!q3b()&&(Gesture.cancel(s5b),sketch.exec("zoomToFit"));},"shift+9":function(n5b){h3b.zoom.enabled&&!q3b()&&(Gesture.cancel(n5b),sketch.exec("zoomReset"));},"shift+-":function(I5b){h3b.zoom.enabled&&!q3b()&&(Gesture.cancel(I5b),sketch.exec("zoomOut"));},"shift++":function(T5b){h3b.zoom.enabled&&!q3b()&&(Gesture.cancel(T5b),sketch.exec("zoomIn"));},space:function(c5b){Gesture.cancel(c5b);if(h3b.ui.quickZoom&&!H3b.toolId){c5b=sketch.doc;var M5b=c5b.tools.zoom;M5b!==c5b.tool&&(H3b.toolId=c5b.tool.id,M5b.inQuickZoomState=true,c5b.setTool("zoom"));}},"delete":function(o5b){Gesture.cancel(o5b);sketch.exec("deleteLayers");},"meta+g":function(O5b){h3b.tools.group.useKeyboardShortcuts&&(Gesture.cancel(O5b),sketch.exec("groupLayers"));},"meta+shift+g":function(g5b){h3b.tools.group.useKeyboardShortcuts&&(Gesture.cancel(g5b),sketch.exec("ungroupLayers"));},alt:function(){if(h3b.ui.quickSelect&&!H3b.toolId){var h5b=sketch.doc,y5b=h5b.tool;h5b.inSelectTool()||j3b.usePathEditor[y5b.type]||(H3b.toolId=y5b.id,h5b.setTool("select"));}},i:function(){sketch.exec("debugLayers");},"meta+x":function(H5b){y3b.clipboard||(Gesture.cancel(H5b),sketch.exec("cutLayers"));},"meta+c":function(q5b){y3b.clipboard||(Gesture.cancel(q5b),sketch.exec("copyLayers"));},"meta+v":function(Z5b){sketch.doc._rendering||y3b.clipboard||(Gesture.cancel(Z5b),sketch.exec("pasteLayers"));},"meta+z":function(E5b){},"meta+shift+z":function(u5b){},left:function(j5b){},right:function(J5b){},up:function(S5b){},down:function(K5b){}};};}();void function(){function C5b(z5b){var Q5b=void 0,l5b=void 0;Object.defineProperty(b5b,z5b,{get:function(){var D5b=t5b[z5b];if(l5b&&D5b===Q5b){return l5b;}Q5b=D5b;D5b="?"+D5b.slice(1);return l5b=b5b.parseURL(D5b).parseQuery();}});}j.initSymbol();j.initSymbol();j.initSymbolIterator();var N5b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(d5b){return typeof d5b;}:function(X5b){j.initSymbol();j.initSymbol();j.initSymbol();return X5b&&"function"===typeof Symbol&&X5b.constructor===Symbol&&X5b!==Symbol.prototype?"symbol":typeof X5b;},b5b=sketch.loc,f5b=sketch.util,t5b=global.location||{};C5b("search");C5b("hash");b5b.setHash=function(U5b,G5b){if(null==U5b){var W5b={};W5b[G5b]=null;b5b.setHash(W5b);}else if("string"===typeof U5b){W5b=b5b.hash,W5b[U5b]=G5b,b5b.setHash(W5b);}else if("undefined"===typeof U5b?false:"object"===N5b(U5b)){G5b=[];U5b=U5b||b5b.hash;for(W5b in U5b){var e5b=U5b[W5b];e5b?G5b.push(W5b+"="+e5b):G5b.push(W5b);}W5b="#"+G5b.join("&");t5b.hash!==W5b&&(t5b.hash=W5b);}};b5b.setHost=function(){function w5b(A5b){F5b={};F5b[p5b]=A5b;}function Y5b(){var n9b=void 0,I9b;for(I9b in F5b){var r9b=F5b[I9b],s9b=r9b.hardlink;if(s9b&&i5b(s9b,r9b,P5b)||(s9b=r9b.alias)&&i5b(s9b,r9b,a5b)){return true;}r9b.defaultHost&&(n9b=r9b);}if(n9b){return a5b(n9b,p5b),true;}}function i5b(T9b,c9b,M9b){if(T9b.includes(V5b)){return M9b(c9b,V5b),true;}if(T9b.includes(p5b)){return M9b(c9b,p5b),true;}}function a5b(O9b,h9b){var g9b=b5b.parseURL(h9b);h9b=g9b.host;g9b=g9b.protocol+"//";O9b=f5b.copy(O9b);for(var y9b in O9b){var o9b=O9b[y9b];if(o9b.replace){var H9b=b5b.parseURL(o9b),q9b=H9b.protocol+"//",o9b=o9b.replace(H9b.host,h9b),o9b=o9b.replace(q9b,g9b);O9b[y9b]=o9b;}}P5b(O9b);}function P5b(Z9b){x5b(R5b(Z9b.pathWeb||Z9b.HOST||t5b.host+sketch.string.dirpath(t5b.pathname)));b5b.env="prod"===Z9b.env||"production"===Z9b.env?"production":"development";b5b.apiPath=k5b(Z9b.apiPath);b5b.MEDIA=L5b(Z9b.MEDIA||b5b.HOST+"media/");b5b.POST=L5b(Z9b.pathPost||Z9b.POST||"");b5b.socketIO=Z9b.socketIO||"";}function x5b(E9b){b5b.host=E9b;b5b.protocol=t5b.protocol;b5b.HOST=L5b(E9b);}function k5b(u9b){if(!u9b){return"";}u9b.includes("://")||u9b.startsWith("./")||u9b.startsWith("/")||(u9b=v5b+u9b);return u9b;}function L5b(j9b){return j9b?R5b(k5b(j9b)):"";}function R5b(J9b){var S9b=J9b[J9b.length-1];return"="===S9b||"?"===S9b||"/"===S9b?J9b:J9b+"/";}var F5b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},v5b=t5b.protocol+"//",p5b=t5b.host,V5b=v5b+p5b;F5b.HOST&&w5b(F5b);(function(){var K9b=F5b[V5b]||F5b[p5b];if(K9b){return P5b(K9b,p5b),true;}}()||Y5b()||(x5b(R5b(t5b.host+sketch.string.dirpath(t5b.pathname))),b5b.env="development",b5b.MEDIA=b5b.HOST+"media/",b5b.POST=""));};b5b.getMediaUrl=function(b9b){if("string"!==typeof b9b){console.error("Invalid URL",b9b);}else{return b5b.isInternalUrl(b9b)?b9b:b9b.startsWith("http")||b9b.startsWith("./")||b9b.startsWith("/")||b9b.startsWith("#asset-")||b9b.startsWith(b5b.MEDIA)?b9b:b5b.MEDIA+b9b;}};b5b.isLocalUrl=function(N9b,t9b){if("string"!==typeof N9b){return false;}t9b||(t9b=b5b.parseURL(N9b));var C9b=t9b.host;t9b=t9b.protocol;return"blob:"===t9b||"data:"===t9b||"filesystem:"===t9b?true:t9b&&t9b.toLowerCase()!==t5b.protocol||C9b&&C9b.replace(m5b[t5b.protocol],"")!==t5b.host||t9b&&!C9b?false:B5b.test(N9b);};var B5b=/^([!#$&-;=?-\[\]_a-z~ ]|%[0-9a-fA-F]{2}|)+$/,m5b={"http:":/:(80)?$/,"https:":/:(443)?$/};b5b.isRemoteUrl=function(f9b,B9b){return"string"===typeof f9b&&(f9b.startsWith("http:")||f9b.startsWith("https:"))?!b5b.isLocalUrl(f9b,B9b):false;};b5b.isBlobUrl=function(m9b){return"string"===typeof m9b?m9b.startsWith("blob:"):false;};b5b.isDataUrl=function(l9b){return"string"===typeof l9b?l9b.startsWith("data:"):false;};b5b.isFileUrl=function(Q9b){return"string"===typeof Q9b?Q9b.startsWith("filesystem:"):false;};b5b.isInternalUrl=function(z9b){return"string"===typeof z9b?b5b.isBlobUrl(z9b)||b5b.isDataUrl(z9b)||b5b.isFileUrl(z9b):false;};b5b.isValidXhrUrl=function(D9b){if("string"===typeof D9b){var d9b=b5b.parseURL(D9b);return"data:"===d9b.protocol?false:b5b.isLocalUrl(D9b,d9b)||b5b.isRemoteUrl(D9b,d9b);}return false;};b5b.parseURL=function(){var X9b=new global.URL(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",global.location.href);X9b.parseQuery=function(){var G9b={};if(Galactic.isDefined(X9b,"searchParams")){var W9b=true,e9b=false,F9b=void 0;try{j.initSymbol();j.initSymbolIterator();for(var U9b=X9b.searchParams[Symbol.iterator](),V9b;!(W9b=(V9b=U9b.next()).done);W9b=true){var p9b=V9b.value;G9b[p9b[0]]=p9b[1];}}catch(P9b){e9b=true,F9b=P9b;}finally{try{!W9b&&U9b.return&&U9b.return();}finally{if(e9b){throw F9b;}}}}return G9b;};return X9b;};"string"===typeof t5b.protocol&&b5b.setHost();}();void function(){function T1b(){function o1b(h1b,y1b){var g1b=false;y1b.forEach(function(H1b){c1b.globalCompositeOperation=H1b;c1b.globalCompositeOperation===H1b||"normal"===H1b?(g1b=true,M1b[H1b]=true):M1b[H1b]=false;});M1b["__"+h1b]=g1b;}var c1b=i9b().ctx,M1b=v9b.gco={};o1b("composite","source-over source-in source-out source-atop destination-over destination-in destination-out destination-atop lighter copy xor".split(" "));o1b("blend","normal multiply screen overlay darken lighten color-dodge color-burn hard-light soft-light difference exclusion hue saturation color luminosity".split(" "));if(v9b.safari){var O1b=document.createElement("canvas");["hue","saturation","color","luminosity"].forEach(function(Z1b){c1b.fillStyle="red";c1b.fillRect(0,0,1,1);c1b.globalCompositeOperation=Z1b;c1b.drawImage(O1b,0,0);var q1b=c1b.getImageData(0,0,1,1).data;M1b[Z1b]="255,0,0"===q1b[0]+","+q1b[1]+","+q1b[2];});}}function A9b(E1b){E1b="image/"+E1b;return 0===i9b().toDataURL(E1b).indexOf("data:"+E1b);}function I1b(u1b){if(Array.isArray(u1b)){var j1b={};return Promise.all(u1b.map(function(J1b){return I1b(J1b).then(function(S1b){j1b[J1b]=S1b;});})).then(function(){return j1b;});}return(u1b=v9b.getSync(u1b))&&u1b.then?u1b:Promise.resolve(u1b);}function n1b(K1b,b1b){return K1b[b1b]?K1b[b1b]:K1b[w9b(K1b,b1b)];}function w9b(C1b,t1b){var N1b=t1b[0].toUpperCase()+t1b.substr(1);if(t1b in C1b||(t1b="webkit"+N1b)in C1b||(t1b="moz"+N1b)in C1b||(t1b="ms"+N1b)in C1b||(t1b="o"+N1b)in C1b){return t1b;}}j.initSymbol();j.initSymbol();j.initSymbolIterator();var a9b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(f1b){return typeof f1b;}:function(B1b){j.initSymbol();j.initSymbol();j.initSymbol();return B1b&&"function"===typeof Symbol&&B1b.constructor===Symbol&&B1b!==Symbol.prototype?"symbol":typeof B1b;},v9b=sketch.agent,k9b=sketch.feature,i9b=sketch.Canvas2D,R9b={},r1b={},x9b=global.navigator||{userAgent:"",appVersion:""},L9b=x9b.userAgent||x9b.vendor||global.opera;v9b.userAgent=L9b;Object.defineProperty(v9b,"cordova",{get:function(){return Galactic.isDefined("cordova");}});v9b.phantom=/PhantomJS/.test(L9b);v9b.chromeApp=Galactic.isDefined("chrome.storage.local");a9b=(("undefined"===typeof process?false:"object"===a9b(process))?process.versions:null)||{};v9b.node=!!a9b.node;v9b.nodewebkit=!!a9b["node-webkit"];var a9b=v9b.electron=!!a9b.electron,Y9b=v9b.edge=/Edge\/\d+/i.test(L9b);v9b.firefox="undefined"!==typeof InstallTrigger;v9b.ie=!!document.documentMode;var s1b=v9b.opera=!!global.opera||/Opera|OPR/i.test(L9b),Y9b=v9b.chrome=!!global.chrome&&!s1b&&!Y9b;v9b.safari=/Safari/i.test(L9b)&&!s1b&&!Y9b&&!a9b;if(v9b.ios=/iPhone|iPad|iPod/i.test(L9b)){v9b.iosVersion=parseFloat(x9b.appVersion.match(/OS (\d)/)[1]);}v9b.blackberry=/Blackberry/i.test(L9b);v9b.mac=!v9b.ios&&/Mac/.test(L9b);v9b.windows=/Windows/.test(L9b);v9b.linux=/Linux/.test(L9b);v9b.android=/Android/i.test(L9b);v9b._mobile=!!(/Opera Mini|IEMobile|Symbian|WebOS/i.test(L9b)||v9b.ios||v9b.android||v9b.blackberry);Object.defineProperties(v9b,{mobile:{get:function(){return!(!v9b._mobile&&!k9b.debugMobile);}}});v9b.init=function(){if("boolean"===typeof v9b.canvas){return Promise.resolve();}if(v9b.canvas=!!i9b().ctx){var m1b=document.createElement("div");v9b.cssBackgroundBlendMode=w9b(m1b.style,"backgroundBlendMode");v9b.cssBackgroundClip=w9b(m1b.style,"backgroundClip");v9b.cssFilter=w9b(m1b.style,"filter");v9b.cssTextFillColor=w9b(m1b.style,"textFillColor");v9b.cssTransform=w9b(m1b.style,"transform");v9b.cssTransformOrigin=w9b(m1b.style,"transformOrigin");m1b=i9b().ctx;v9b.ctxImageSmoothing="boolean"===typeof m1b.imageSmoothingEnabled;v9b.ctxLineDash=/\{\s*\[native code\]\s*\}/.test(""+m1b.setLineDash);m1b.fillRect(0,0,1,1);m1b.canvas.width=1;v9b.ctxBlip=0===m1b.getImageData(0,0,1,1).data[3];T1b();var m1b=i9b(),Q1b=m1b.ctx,l1b;l1b=n1b(Q1b,"backingStorePixelRatio")||1;l1b=v9b.pixelRatio=v9b.pixelRatio=(global.devicePixelRatio||1)/l1b;if(1!==l1b){if(k9b.adhereToPixelRatio){if(v9b.ios&&8>v9b.iosVersion){v9b.pixelRatio=1;}else{var z1b=performance.now();m1b.width=global.innerWidth*l1b;m1b.height=global.innerHeight*l1b;Q1b.drawImage(m1b,0,0);36<performance.now()-z1b&&(v9b.pixelRatio=1);m1b.width=m1b.height=1;}}else{v9b.pixelRatio=1;}}}v9b.opera&&v9b.windows&&(v9b.gco.__blend=false);k9b.style&&(k9b.style.composite=k9b.style.composite&&false!==v9b.gco.__composite,k9b.style.blend=k9b.style.blend&&false!==v9b.gco.__blend);return v9b.get(["chrome64DrawImageBug","incognito","io.blob"]);};v9b.lang=((x9b.languages?x9b.languages[0]:x9b.language||x9b.userLanguage)||"en").toLowerCase();v9b.history=!(!global.history||!global.history.pushState);v9b.chooseEntry=!!global.FileReader&&(Galactic.isDefined("chrome.fileSystem.chooseEntry")||Galactic.isDefined("navigator.camera.getPicture"));R9b.chrome64DrawImageBug=function(){function d1b(U1b,G1b){D1b.width=D1b.height=G1b;G1b=D1b.getContext("2d");U1b=U1b.getContext("2d");G1b.putImageData(G1b.createImageData(1,1),0,0);U1b.setTransform(.5,0,0,.5,0,0);U1b.drawImage(D1b,0,0);U1b.fillRect(0,0,2,2);return U1b.getImageData(1,1,1,1).data.toString();}var D1b=i9b(),X1b=i9b(2,2),W1b=i9b(2,2);return d1b(X1b,256)!==d1b(W1b,257);};R9b.webgl=function(){try{var e1b=document.createElement("canvas");return!(!e1b.getContext("webgl")&&!e1b.getContext("experimental-webgl"));}catch(F1b){return false;}};R9b.getUserMedia=function(){return!!n1b(x9b,"getUserMedia");};R9b.RTCDataChannel=function(){try{var p1b=sketch.net;new RTCPeerConnection(p1b.iceServers,p1b.dataChannelConfig).createDataChannel("supportCheck",{reliable:true}).close();return true;}catch(V1b){return false;}};R9b.io_bmp=function(){return A9b("bmp");};R9b.io_jpeg=function(){return A9b("jpeg");};R9b.io_png=function(){return A9b("png");};R9b.io_webp=function(){return A9b("webp");};R9b.io_svg=function(){return true;};r1b.io_blob=function(){return new Promise(function(v1b,P1b){i9b().toBlob(function(R1b){var L1b=new Image();L1b.src=URL.createObjectURL(R1b);L1b.onload=function(){var i1b=!(0===L1b.width&&0===L1b.height);URL.revokeObjectURL(L1b.src);i1b?v1b(true):P1b(false);};L1b.onerror=function(){URL.revokeObjectURL(L1b.src);P1b(false);};});});};r1b.incognito=function(){return new Promise(function(w1b){function a1b(){w1b(true);}function x1b(){w1b(false);}var k1b=void 0;if(window.webkitRequestFileSystem){webkitRequestFileSystem(window.TEMPORARY,1,x1b,a1b);}else if("MozAppearance"in document.documentElement.style){k1b=indexedDB.open("test"),k1b.onerror=a1b,k1b.onsuccess=x1b;}else if(/constructor/i.test(window.HTMLElement)){try{localStorage.length||(localStorage.x=1,localStorage.removeItem("x")),x1b();}catch(Y1b){a1b();}}else{window.indexedDB||!window.PointerEvent&&!window.MSPointerEvent?x1b():a1b();}});};v9b.getSync=function(r4b){function s4b(n4b){return v9b[r4b]=n4b;}r4b=r4b.replace(/\./g,"_");var A1b=Galactic.getProperty(v9b,r4b);if("boolean"===typeof A1b){return A1b;}if(A1b=R9b[r4b]){return s4b(A1b());}A1b=r1b[r4b]();return A1b.then(s4b);};v9b.get=function(I4b){return Array.isArray(I4b)?Promise.all(I4b.map(v9b.get)):I1b(I4b);};}();void function(){function H4b(q4b){try{return decodeURIComponent(q4b);}catch(Z4b){return q4b;}}function o4b(E4b){"auto"===E4b&&(E4b=sketch.agent.lang);return c4b[E4b]||g4b[E4b]?E4b:-1!==E4b.indexOf("-")?o4b(E4b.split("-")[0]):"en";}var T4b=sketch.lang,M4b=sketch.util,O4b=["he","ar","ur"];T4b.ltr=false;T4b.rtl=false;T4b.direction="ltr";T4b.locale="en";var c4b=T4b.locales||(T4b.locales={en:{}}),g4b=T4b.available={de:"Deutsch",en:"English",es:"Espa\u00f1ol",fr:"Fran\u00e7ais",it:"Italiano",nl:"Nederlands",pl:"Polski",pt:"Portugu\u00eas",sv:"Svenska",ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",ko:"\ud55c\uad6d\uc5b4",ja:"\u65e5\u672c\u8a9e",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439 \u042f\u0437\u044b\u043a",zh:"\u4e2d\u6587"};T4b.translate=function(u4b){if(u4b){"number"===typeof u4b&&(u4b=""+u4b);if("string"===typeof u4b){var j4b=c4b[T4b.locale][u4b];j4b||(j4b=c4b.en[u4b]||u4b,sketch.feature.debugLanguage&&console.error("lang.translate('"+u4b+"')"));1<arguments.length&&(j4b=y4b(j4b,Array.prototype.slice.call(arguments,1)));return H4b(j4b);}M4b.forEach(u4b.querySelectorAll("[data-translate]"),function(S4b){var J4b=S4b.getAttribute("data-translate");""===J4b&&(J4b=S4b.innerHTML,S4b.setAttribute("data-translate",J4b));S4b.innerHTML=T4b.translate(J4b);});}};T4b.hasTranslation=function(K4b){return!!c4b[T4b.locale][K4b];};T4b.set=function(b4b){function t4b(B4b){var N4b=O4b.includes(B4b),f4b=N4b?"rtl":"ltr";T4b.locale=B4b;T4b.ltr=!N4b;T4b.rtl=N4b;T4b.direction=f4b;document.body.setAttribute("dir",f4b);}function C4b(){return sketch.requestJSON(sketch.loc.MEDIA+"locales/"+b4b+".json").then(function(m4b){return c4b[b4b]=m4b;});}b4b=o4b(b4b||"auto");return function(l4b){if(c4b[l4b]||l4b in c4b){return Promise.resolve();}c4b[l4b]={};return C4b();}(b4b).then(function(){t4b(b4b);sketch.emit("lang",b4b);}).catch(function(){console.error(b4b+".json could not be loaded");t4b("en");return T4b.set("en");});};var h4b=M4b.sprintf=function(W4b){if("string"!==typeof W4b){throw"sprintf: The first arguments need to be a valid format string.";}for(var X4b=new RegExp(/%(\+)?([0 ]|'(.))?(-)?([0-9]+)?(\.([0-9]+))?([%bcdfosxX])/g),D4b,z4b=[],Q4b=1;D4b=X4b.exec(W4b);){if(Q4b>=arguments.length&&"%"!==D4b[8]){throw"sprintf: At least one argument was missing.";}z4b[z4b.length]={begin:D4b.index,end:D4b.index+D4b[0].length,sign:"+"==D4b[1],negative:0>parseFloat(arguments[Q4b])?true:false,padding:void 0==D4b[2]?" ":"'"==D4b[2].substring(0,1)?D4b[3]:D4b[2],alignLeft:"-"==D4b[4],width:void 0!=D4b[5]?D4b[5]:false,precision:void 0!=D4b[7]?D4b[7]:false,type:D4b[8],data:"%"!=D4b[8]?String(arguments[Q4b++]):false};}X4b="";for(Q4b=D4b=0;Q4b<z4b.length;++Q4b){X4b+=W4b.substring(D4b,z4b[Q4b].begin);D4b=z4b[Q4b].end;var d4b;switch(z4b[Q4b].type){case"%":d4b="%";break;case"b":d4b=Math.abs(parseInt(z4b[Q4b].data)).toString(2);break;case"c":d4b=String.fromCharCode(Math.abs(parseInt(z4b[Q4b].data)));break;case"d":d4b=String(Math.abs(parseInt(z4b[Q4b].data)));break;case"f":d4b=false===z4b[Q4b].precision?String(Math.abs(parseFloat(z4b[Q4b].data))):Math.abs(parseFloat(z4b[Q4b].data)).toFixed(z4b[Q4b].precision);break;case"o":d4b=Math.abs(parseInt(z4b[Q4b].data)).toString(8);break;case"s":d4b=z4b[Q4b].data.substring(0,z4b[Q4b].precision?z4b[Q4b].precision:z4b[Q4b].data.length);break;case"x":d4b=Math.abs(parseInt(z4b[Q4b].data)).toString(16).toLowerCase();break;case"X":d4b=Math.abs(parseInt(z4b[Q4b].data)).toString(16).toUpperCase();break;default:throw"sprintf: Unknown type \u201c"+z4b[Q4b].type+"\u201d detected. This should never happen. Maybe the regex is wrong.";}if("%"!=z4b[Q4b].type){if(0!=z4b[Q4b].width&&z4b[Q4b].width>d4b.length){for(var G4b=d4b.length,U4b=0;U4b<z4b[Q4b].width-G4b;++U4b){d4b=1==z4b[Q4b].alignLeft?d4b+z4b[Q4b].padding:z4b[Q4b].padding+d4b;}}if("b"==z4b[Q4b].type||"d"==z4b[Q4b].type||"o"==z4b[Q4b].type||"f"==z4b[Q4b].type||"x"==z4b[Q4b].type||"X"==z4b[Q4b].type){1==z4b[Q4b].negative?d4b="-"+d4b:1==z4b[Q4b].sign&&(d4b="+"+d4b);}}X4b+=d4b;}return X4b+=W4b.substring(D4b,W4b.length);},y4b=M4b.vsprintf=function(F4b,p4b,e4b){e4b=p4b.slice(0);e4b.splice(0,0,F4b);return h4b.apply(null,e4b);};}();void function(){sketch.util.assignDeep(sketch.lang.locales,{en:{title:"Sketchpad %s - Draw, Create, Share!",description:"Sketchpad: Free online drawing application for all ages. Create digital artwork to share online and export to popular image formats JPEG, PNG, SVG, and PDF.","service-local-connect":"Files will be stored in your browser","service-local-disconnect":"Files will not be stored in your browser","service-local-control-label":"In your browser","service-gdrive-connect":"Files will be stored in Google Drive","service-gdrive-disconnect":"Files will not be stored in Google Drive","service-gdrive-control-label":"In Google Drive","service-gdrive-label":"Google Drive","fs-fullsync":"Syncing your files. This might take a while. You can <span class='sk-button' action='dismiss'>dismiss</span> this message, or <span class='sk-button sk-attention' action='cancel'>cancel syncing</span>.","fs-settings-header":"Store files","fs-autosave":"Autosave","fs-manage-connections":"Manage FileSystems","fs-manage-connections-popup-title":"FileSystems","fs-warning-no-filesystems":"You have not connected any FileSystems","fs-warning-cannot-open-bundle":"Unable to open sketch '%s'","fs-signed-in-as":"Signed in as %s","doc-could-not-be-loaded":"We could not open that document","bundle-dup":"%s duplicated as %s","bundle-rename":"%s renamed to %s","bundle-delete":"deleted %s","error-filename-alphanumeric":"<i>Filename</i> must be alpha-numeric","error-filename-invalid-start":"<i>Filename</i> cannot start with a period","error-filename-exists":"<i>Filename</i> already exists","error-bundle-delete":"Could not delete %s","error-bundle-dup":"Could not duplicate %s","error-bundle-rename":"Could not rename %s","error-service-connect":"Unable to connect %s","fs-save-authorization":"%s needs your permission to <a href='javascript:'>enable saving</a> to the app.","fs-save-destination":"Would you like to <a href='javascript:'>save</a> to the app, or <a href='javascript:'>download</a> to your computer?","about-version":"[?] SketchAPI %s","browser-outdated":"Your browser is out of date.<p>SketchPad will not work properly in this browser.","browser-outdated-ignore":"Not now","browser-outdated-upgrade":"Upgrade browser","change-doc-confirm":"Save current image?","delete-doc-confirm":"Are you sure?","exit-without-saving":"You\u2019re about to exit without saving, are you sure?","load-fail-restore":"Last time your image did not load properly.<br>Do you want to re-attempt to load your image?","share-message":"Once you click \u201cshare\u201d your image will be publicly available.<br>Do you wish to continue?","notification-enable-popups":"Please enable popups and try again","welcome-message-title":"<h1>Hello!</h1><h2>Welcome to Sketchpad. Your digital makerspace.</h2>","welcome-message-get-started-button":"Get Started","welcome-message-get-started-text":"Jump right in! Get started with your digital makerspace.","welcome-message-user-guide-button":"User Guide","welcome-message-user-guide-text":"Need help? Check out the user guide for tips and tricks.","welcome-message-buy-now-button":"Buy Now","welcome-message-buy-now-text":"Use Sketchpad offline on your Mac or PC for just $4.95!","welcome-message-custom-solutions-button":"Custom Apps","welcome-message-custom-solutions-text":"Unique Sketchpad Solutions for Business and Education.","move-tool-message":"The <span class='icon-move'></span> Move tool allows you to adjust the framing of the objects within your image. Simply click and drag!","scissor-tool-message":"Use the Scissor tool <span class='icon-scissors'></span> to slice polygons into pieces by drawing a line through the polygon.","screenshot-tool-message":"The Screenshot tool <span class='icon-screenshot'></span> allows you to download a portion of your image.","select-tool-message":"The Select tool <span class='icon-select'></span> allows you to Move, Rotate, Scale, Delete and reorganize the layers of your design.","zoom-tool-message":"Use the Zoom tool <span class='icon-zoom'></span> to fine tune the details in your image.","fork-or-overwrite":"This image already exists in your files!<p>Would you like to Overwrite, or create a Fork?",fork:"Fork",overwrite:"Overwrite","changes-saved":"All changes saved!","copy-to-clipboard":"Copy to Clipboard","could-not-authorize":"%s could not authorize","image-ready-to-share":"Your image is ready to be shared!","place-into":"Place into\u2026","share-link-copied":"Share link copied!","still-uploading-to":"Still uploading to %s",upload:"Upload","upload-as-new":"Import\u2026","upload-complete":"%s upload complete!","upload-failed":"%s upload failed!","upload-invalid":"Invalid format uploaded","uploading-to":"Uploading to %s","drop-files-here":"Drop files here!","user-entered":"%s has entered the room.","user-exited":"%s has left the room.",history:"History",undo:"Undo",redo:"Redo","add-object":"Add Object",background:"Background","change-media":"Change Media","cut-objects":"Cut Selection","merge-objects":"Merge Objects","merge-paths":"Merge Paths","new-doc-created":"New Document Created!","paste-objects":"Paste Selection","remove-objects":"Remove Selection","reset-clipart-color":"Reset Clipart Color","split-path":"Split Path","update-clipart-color":"Change Clipart Color","update-style":"Update Style","update-text":"Update Text",black:"Black",blank:"Blank",blueprint:"Blueprint",custom:"Custom",graphPaper:"Graph Paper",grid:"Grid",lined:"Lined",looseLeaf:"Loose Leaf",notebook:"Notebook",paper:"Paper",transparent:"Transparent",white:"White","set-blend-mode":"Set Blend Mode","color-burn":"Color Burn","color-dodge":"Color Dodge",darken:"Darken","destination-over":"Paint Behind",difference:"Difference",disco:"Disco",erase:"Erase",exclusion:"Exclusion","hard-light":"Hard Light",lighten:"Lighten",multiply:"Multiply",normal:"Normal",overlay:"Overlay",screen:"Screen","soft-light":"Soft Light","source-atop":"Paint Atop",enabled:"Enabled",disabled:"Disabled","set-fill":"Set Fill","set-fill-opacity":"Set Fill Opacity","set-stroke":"Set Stroke","set-stroke-opacity":"Set Stroke Opacity",opacity:"Opacity",border:"Border",fill:"Fill",stroke:"Outline",dropShadow:"Drop Shadow",innerShadow:"Inner Shadow",color:"Color",cycle:"Color Cycle",gradient:"Gradient",linear:"Linear",pattern:"Pattern",radial:"Radial",angle:"Angle",antialias:"Antialias",anticlockwise:"Anticlockwise",bristles:"Bristles",coils:"Coils",colorMode:"Type",colorNoise:"Noise",composite:"Composite",constrain:"Constrain Ratio",content:"Content",contract:"Contract",curved:"Curved",cutout:"Cutout",diameter:"Size",distance:"Distance",imperfection:"Imperfection",increment:"Increment",lookback:"Lookback",palette:"Palette",points:"Points",radius:"Radius",ratio:"Ratio",reset:"Reset",roundness:"Roundness",sides:"Sides",slope:"Slope",pathSpacing:"Spacing",tipAngle:"Tip Angle",speed:"Speed",spread:"Spread",whirl:"Whirl","aspect-ratio":"Aspect Ratio","constrain-values":"Constrain Values","flip-values":"Flip Values","choose-aspect-ratio":"Set Aspect Ratio","choose-constrain":"Constrain Proportions",crop:"Crop & Resize","crop-draw":"Update crop region","apply-crop":"Apply Crop",landscape:"Landscape",portrait:"Portrait","%":"%25","choose-units":"Set Units",cm:"cm",mm:"mm",eyedropper:"Eyedropper",move:"Move","move-left":"Move Left","move-right":"Move Right","move-up":"Move Up","move-down":"Move Down","screenshot-log":"Click & drag to create your screenshot.",screenshot:"Screenshot","take-snapshot":"Take Picture","add-to-selection":"Add to Selection","click-to-edit":"Click to Edit","click-to-select":"Click to Select","dblclick-to-edit":"Double Click to Edit","dblclick-to-crop":"Double Click to Crop","drag-to-create-crop-region":"Drag to create your crop region.","drag-to-move":"Drag to Move","drag-to-resize":"Drag to Resize","drag-to-rotate":"Drag to Rotate","quick-selection":"Quick Selection","select-all":"Select all","select-inverse":"Select inverse","select-tool-count":"%s layers selected",selection:"Selection",select:"Select","subtract-from-selection":"Subtract from Selection",unselect:"Unselect",zoom:"Zoom","zoom-in":"Zoom in","zoom-out":"Zoom out","zoom-to-fit":"Zoom to fit","zoom-to-default":"Zoom to actual size","choose-brush":"Choose Brush",paintIntoShapes:"Paint Into Layer",arrow:"Arrow",calligraphy:"Calligraphy",chrome:"Chrome",crayon:"Crayon",eraser:"Eraser",fur:"Fur",highlighter:"Highlighter",magicBrush:"Magic Brush",mirrorBrush:"Mirror Brush",oil:"Oil",paintbrush:"Paintbrush",pen:"Pen",pencil:"Pencil",polyarrow:"Arrow",scissor:"Scissor",shader:"Shader",sketchy:"Sketchy",spirograph:"Spirograph",spraypaint:"Spraypaint",streamer:"Streamer",textBrush:"Text Brush",web:"Web",lineSegment:"Line Segment",path:"Path",polygon:"Polygon",polyline:"Line","path-temp-altered":"Path Altered","alter-tension":"Alter Tension","append-point":"Add Point","bend-curve":"Bend Curve","bend-line":"Bend Line","close-path":"Close Path","insert-point":"Insert Point","move-curve":"Move Curve","move-handle":"Move Handle","move-handles":"Move Handle Mirrored","move-line":"Move Line","move-point":"Move Point","move-point-without-handles":"Move Point Without Handles","remove-handle":"Remove Handle","remove-point":"Remove Point",lineCap:"Cap",lineJoin:"Corner",lineWidth:"Line Width",bevel:"Bevel",miter:"Miter",round:"Round","choose-stamp":"Set stamp category","convert-to-stamp":"Convert to Stamp",stamp:"Stamp",butterflies:"Butterflies",doodles:"Doodles",flowers:"Flowers",footprints:"Footprints",leafs:"Leafs",retro:"Retro","simple smudges":"Simple Smudges",tizzape:"Tizzape",typogrunge:"Typogrunge","water colors":"Water colors","choose-shape":"Choose Shape",burst:"Burst",circle:"Circle",ellipse:"Ellipse",gear:"Gear",heart:"Heart",pie:"Pie",radialBurst:"Radial Burst",rectangle:"Rectangle",regularPolygon:"Regular Polygon",ring:"Ring",spiral:"Spiral",square:"Square",star:"Star",triangle:"Triangle","choose-clipart":"Choose Graphic",clipart:"Clipart","load-your-own-image":"Load your own image",animals:"Animals",people:"People",plants:"Plants",contiguous:"Contiguous",floodfill:"Pixel Fill",paintApplicator:"Vector Fill","choose-fill-editor":"Choose Fill Editor",tolerance:"Tolerance",image:"Image",blend:"Blend",blur:"Blur",brightness:"Brightness","camera-error":"There was an error loading the camera, please check your browser permissions.",camera:"Camera",contrast:"Contrast",exposure:"Exposure",hue:"Hue",luminosity:"Luminosity",pixelSize:"Pixel Size",saturation:"Saturation",temperature:"Temperature",tint:"Tint",sepia:"Sepia","choose-font":"Choose Font","type-something":"Type something",font:"Font",fontFamily:"Font Family",fontSize:"Font Size",fontStyle:"Font Style",fontVariant:"Font Variant",fontWeight:"Font Weight",letterSpacing:"Letter Spacing",lineHeight:"Line Height",text:"Text",textAlign:"Text Align",textDecoration:"Text Decoration",textTransform:"Text Transform",whiteSpace:"White Space",wordSpacing:"Word Spacing",htmlText:"HTML Text",fancyText:"Fancy Text",center:"Align Center",justify:"Justify",left:"Align Left",right:"Align Right",display:"Display",handwriting:"Handwriting","sans serif":"Sans Serif",serif:"Serif",bold:"Bold",italic:"Italic","line-through":"Strikethrough",underline:"Underline",copy:"Copy","copy-all":"Copy all",cut:"Cut","cut-all":"Cut all","delete":"Delete","delete-file":"Delete",duplicate:"Duplicate","duplicate-file":"Duplicate",layers:"Layers","no-history":"No history added","no-layers":"No layers added","layer-backwards":"Send Backwards","layer-forwards":"Send Forwards","layer-order":"Layer Order","layer-to-back":"Send to Back","layer-to-front":"Send to Front",paste:"Paste","rename-file":"Rename","hide-layer":"Hide layer","show-layer":"Show layer",rotate:"Rotate",scale:"Scale",transform:"Transform",jitterOffset:"Offset",jitterRotation:"Rotation",jitterScale:"Scale",alignment:"Alignment","align-left":"Align Left","align-right":"Align Right","align-horizontal":"Align Horizontal","align-vertical":"Align Vertical","align-top":"Align Top","align-bottom":"Align Bottom",distribution:"Distribution","distribute-left":"Distribute Left","distribute-right":"Distribute Right","distribute-horizontal":"Distribute Horizontal","distribute-vertical":"Distribute Vertical","distribute-top":"Distribute Top","distribute-bottom":"Distribute Bottom","primary-color":"Primary","selected-color":"Selected","attention-color":"Attention","theme-preset-blue-orange":"Blue Orange","theme-preset-chocolate":"Chocolate","theme-preset-dark-gray":"Dark Gray","theme-preset-dark-blue":"Dark Blue","theme-preset-deep-purple":"Deep Purple","theme-preset-forest":"Forest","theme-preset-grape":"Grape","theme-preset-light-blue":"Light Blue","theme-preset-light-gray":"Light Gray","theme-preset-orange-cappuccino":"Orange Cappuccino","theme-preset-pink":"Pink",cancel:"Cancel","continue":"Continue","delete-doc":"Delete",ok:"Ok",quit:"Quit",download:"Download","download-format":"Download %s","download-format-sketchpad":"The Sketchpad format allows you to reload your layers and vectors.",save:"Save",saving:"Saving","save-format":"Save %s",dontSave:"Don\u2019t Save","keyboard-shortcuts":"Keyboard Shortcuts",shortcuts:"Shortcuts","ask-question":"Ask Question","community-page":"Community","draw-with-friend":"Draw with a friend","report-an-issue":"Report an issue...","request-feature":"Request Feature",connecting:"Connecting","decoding-format":"Decoding %s",downloading:"Downloading",loading:"Loading","loading-error":"Error loading","opening-format":"Opening %s","reading-files":"Reading files","reading-format":"Reading %s",rendering:"Rendering",syncing:"Syncing","choose-preset-size":"Choose Preset Size","convert-format":"Convert to %s","update-format":"Update %s",utilities:"Utilities",brushes:"Brushes",shapes:"Shapes",group:"Group",ungroup:"Ungroup",language:"Language",theme:"Theme",upgrade:"Upgrade","old-version":"Old Version",attachment:"Attachment",configure:"Configure","export":"Export",file:"File","new":"New",open:"Open",print:"Print",document:"Document",help:"Help","size-of-screen":"Size of Screen","size-of-viewport":"Size of Viewport","social-media":"Social Media","crop-377x197":"377 x 197 (Facebook)","crop-640x640":"640 x 640 (Instagram)","digital-ads":"Digital Ads","crop-180x150":"180 x 150 (Rectangle)","crop-200x250":"300 x 250 (Medium Rectangle)","crop-728x90":"728 x 90 (Leaderboard)","crop-550x250":"550 x 250 (Wide Skyscraper)","digital-screens":"Digital Screens","crop-640x480":"640 x 480","crop-800x600":"800 x 600","crop-1024x768":"1024 x 768","crop-1280x800":"1280 x 800","crop-1680x1050":"1680 x 1050","crop-1920x1200":"1920 x 1200","crop-2x3":"2 x 3","crop-3x5":"3 x 5 (Index Card)","crop-4x6":"4 x 6 (Postcard)","crop-5x7":"5 x 7 (L, 2L)","crop-8x10":"8 x 10 (Photo)","crop-8.5x11":"8.5 x 11 (Letter)","crop-11x14":"11 x 14 (Legal)","crop-11x17":"11 x 17 (Tabloid)","crop-16x20":"16 x 20 (Poster)","crop-20x30":"20 x 30 (Poster)",apparel:"Apparel","crop-12x14":"12 x 14 (T-Shirt - Men's)","crop-10x12":"12 x 14 (T-Shirt - Women's)",other:"Other","custom-size":"Custom Size",projects:"Files",quality:"Quality",fileFormat:"Format",sizeTo:"Size To",size:"Size",share:"Share",settings:"Settings",tool:"Tool",percent:"Percent",dpi:"DPI",width:"Width",height:"Height",x:"X",y:"Y","150dpi":"150: Draft Printing","300dpi":"300: High-Res Printing","72dpi":"72: Web",fitWithin:"Fit Within",dimensions:"Dimensions",resize:"Resize","save-region":"Save Region","copy-styles":"Copy Style(s)","paste-styles":"Paste Style(s)","finish-editing":"Finish Editing",apply:"Apply",create:"Create","set-background":"Set Background","snap-to-guides":"Snap To Guides",filter:"Filter","find-wildcard":"Find %s",layer:"Layer",back:"Back","in":"in",px:"px",device:"Device","text-preview-settings":"This is a preview of your text settings...",presets:"Presets","add-preset":"Add Preset","user-guide":"User Guide",tools:"Tools","choose-media":"Choose Media Tool",hybridBrush:"Hybrid Brush",tileBrush:"Tile Brush",tileMode:"Tile Mode",stretch:"Stretch",repeat:"Repeat","repeat-mirrored":"Mirrored Repeat","align-layers":"Align Layers","distribute-layers":"Distribute Layers",edit:"Editing",close:"Close",helpdesk:"Help Desk",inches:"inches",library:"Library","my-docs":"My Files",octopus:"Octopus","open-doc":"Open",pixels:"pixels","video-tutorials":"Video Tutorials","made-with-sketchpad":"Made with Sketchpad","color-matrix":"Color FX",mirrorInSector:"Mirrored",autosaving:"Autosaving",author:"Author",license:"License"}});}();void function(){function w4b(o7b,M7b){o7b.transform(M7b.a,M7b.b,M7b.c,M7b.d,M7b.e,M7b.f);}function x4b(g7b,O7b){O7b=L4b(O7b);g7b.transform(O7b.a,O7b.b,O7b.c,O7b.d,O7b.e,O7b.f);}function T7b(y7b,h7b){y7b.setTransform(h7b.a,h7b.b,h7b.c,h7b.d,h7b.e,h7b.f);}function R4b(H7b,q7b){return H7b.a===q7b.a&&H7b.b===q7b.b&&H7b.c===q7b.c&&H7b.d===q7b.d&&H7b.e===q7b.e&&H7b.f===q7b.f;}function L4b(Z7b){var E7b=1/(Z7b.a*Z7b.d-Z7b.c*Z7b.b);return{a:Z7b.d*E7b,b:-Z7b.b*E7b,c:-Z7b.c*E7b,d:Z7b.a*E7b,e:(Z7b.c*Z7b.f-Z7b.d*Z7b.e)*E7b,f:(Z7b.b*Z7b.e-Z7b.a*Z7b.f)*E7b};}function a4b(u7b){return{a:u7b.a,b:u7b.b,c:u7b.c,d:u7b.d,e:u7b.e,f:u7b.f};}function v4b(){return{a:1,b:0,c:0,d:1,e:0,f:0};}function k4b(j7b){return R4b(j7b,c7b);}function i4b(K7b,S7b){var J7b=new P4b();J7b.translate(S7b.x,S7b.y);J7b.rotate(K7b);J7b.translate(-S7b.x,-S7b.y);return J7b;}function Y4b(N7b,f7b,t7b,C7b){var b7b=new P4b();b7b.translate(t7b.x,t7b.y);C7b?(b7b.rotate(-C7b),b7b.scale(N7b,f7b),b7b.rotate(C7b)):b7b.scale(N7b,f7b);b7b.translate(-t7b.x,-t7b.y);return b7b;}function A4b(l7b,Q7b,m7b){var B7b=new P4b();B7b.translate(m7b.x,m7b.y);B7b.skew(l7b,Q7b);B7b.translate(-m7b.x,-m7b.y);return B7b;}function r7b(W7b){var X7b=0,e7b=0,d7b=0,z7b=W7b.a,D7b=W7b.b,U7b=W7b.c,G7b=W7b.d,F7b=z7b*G7b-D7b*U7b;F7b&&(X7b=Math.sqrt(z7b*z7b+D7b*D7b),z7b/=X7b,D7b/=X7b,d7b=z7b*U7b+D7b*G7b,U7b-=z7b*d7b,G7b-=D7b*d7b,e7b=Math.sqrt(U7b*U7b+G7b*G7b),d7b/=e7b,0>F7b&&(z7b=-z7b,D7b=-D7b,d7b=-d7b,X7b=-X7b));return{rotation:Math.atan2(D7b,z7b),skew:{x:d7b,y:0},scale:{x:X7b,y:e7b},translate:{x:W7b.e,y:W7b.f}};}function s7b(p7b){return p7b&&Number.isFinite(p7b[0]+p7b[1]+p7b[2]+p7b[3]+p7b[4]+p7b[5]);}function n7b(V7b,P7b){return{a:V7b.a*P7b.a+V7b.c*P7b.b,b:V7b.b*P7b.a+V7b.d*P7b.b,c:V7b.a*P7b.c+V7b.c*P7b.d,d:V7b.b*P7b.c+V7b.d*P7b.d,e:V7b.a*P7b.e+V7b.c*P7b.f+V7b.e,f:V7b.b*P7b.e+V7b.d*P7b.f+V7b.f};}j.initSymbol();j.initSymbol();j.initSymbolIterator();var I7b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(v7b){return typeof v7b;}:function(L7b){j.initSymbol();j.initSymbol();j.initSymbol();return L7b&&"function"===typeof Symbol&&L7b.constructor===Symbol&&L7b!==Symbol.prototype?"symbol":typeof L7b;},P4b=sketch.Matrix2D=function(R7b){return R7b?"string"===typeof R7b?this.fromString(R7b):R7b&&Number.isFinite(R7b.a+R7b.b+R7b.c+R7b.d+R7b.e+R7b.f)?this.set(R7b):s7b(R7b)?this.fromArray(R7b):this.reset():this.reset();},c7b=v4b(),V4b=P4b.prototype;V4b.set=function(i7b){this.a=i7b.a;this.b=i7b.b;this.c=i7b.c;this.d=i7b.d;this.e=i7b.e;this.f=i7b.f;return this;};V4b.fromArray=function(a7b){this.a=a7b[0];this.b=a7b[1];this.c=a7b[2];this.d=a7b[3];this.e=a7b[4];this.f=a7b[5];return this;};V4b.fromString=function(x7b){x7b=x7b.split(",").map(function(k7b){return parseFloat(k7b);});return s7b(x7b)?this.fromArray(x7b):this;};V4b.clone=function(){return new P4b(this);};V4b.toArray=function(){return[this.a,this.b,this.c,this.d,this.e,this.f];};V4b.toString=function(){return this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f;};V4b.decompose=function(){return r7b(this);};V4b.matrices=[];V4b.save=function(){this.matrices.push(a4b(this));return this;};V4b.restore=function(){return this.set(this.matrices.pop()||v4b());};V4b.point2d=function(w7b,Y7b,r6b){var A7b;("undefined"===typeof w7b?false:"object"===I7b(w7b))?(A7b=w7b.x,w7b=w7b.y,Y7b=Y7b||{}):(A7b=w7b,w7b=Y7b,Y7b=r6b||{});Y7b.x=this.a*A7b+this.c*w7b+this.e;Y7b.y=this.b*A7b+this.d*w7b+this.f;return Y7b;};V4b.flattenPoint=function(T6b){var I6b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:T6b,h6b=this.a,c6b=this.b,M6b=this.c,o6b=this.d,O6b=this.e,g6b=this.f;I6b.cmd=T6b.cmd;var s6b=T6b.x,n6b=T6b.y;null!=s6b&&null!=T6b.y&&(I6b.x=h6b*s6b+M6b*n6b+O6b,I6b.y=c6b*s6b+o6b*n6b+g6b);s6b=T6b.x1;n6b=T6b.y1;null!=s6b&&null!=n6b&&(I6b.x1=h6b*s6b+M6b*n6b+O6b,I6b.y1=c6b*s6b+o6b*n6b+g6b);s6b=T6b.x2;n6b=T6b.y2;null!=s6b&&null!=n6b&&(I6b.x2=h6b*s6b+M6b*n6b+O6b,I6b.y2=c6b*s6b+o6b*n6b+g6b);return I6b;};V4b.flatten=function(y6b,H6b){var Z6b=this;if(!y6b||!y6b.length){return y6b;}H6b&&(y6b=sketch.vector.copyPath(y6b));if(k4b(this)){return y6b;}H6b=0;for(var E6b=y6b.length;H6b<E6b;H6b++){var q6b=y6b[H6b];q6b&&Z6b.flattenPoint(q6b);}return y6b;};V4b.translate=function(j6b,u6b){null==u6b&&(u6b=0);this.e+=this.a*j6b+this.c*u6b;this.f+=this.b*j6b+this.d*u6b;return this;};V4b.rotate=function(J6b){var S6b=Math.cos(J6b);J6b=Math.sin(J6b);var K6b=this.a,b6b=this.b,t6b=this.c,C6b=this.d;this.a=K6b*S6b+t6b*J6b;this.b=b6b*S6b+C6b*J6b;this.c=K6b*-J6b+t6b*S6b;this.d=b6b*-J6b+C6b*S6b;return this;};V4b.rotateAt=function(N6b,f6b){return this.prepend(i4b(N6b,f6b));};V4b.scale=function(m6b,B6b){null==B6b&&(B6b=m6b);this.a*=m6b;this.b*=m6b;this.c*=B6b;this.d*=B6b;return this;};V4b.scaleAt=function(l6b,Q6b,z6b,D6b){return this.prepend(Y4b(l6b,Q6b,z6b,D6b));};V4b.skew=function(X6b,d6b){null==d6b&&(d6b=0);var W6b=this.a,U6b=this.b,G6b=this.d;X6b=Math.tan(X6b);d6b=Math.tan(d6b);this.a+=this.c*d6b;this.b+=G6b*d6b;this.c+=W6b*X6b;this.d+=U6b*X6b;return this;};V4b.skewAt=function(e6b,F6b,p6b){return this.prepend(A4b(e6b,F6b,p6b));};V4b.invert=function(){return this.set(L4b(this));};V4b.transform=function(V6b,P6b,v6b,L6b,R6b,i6b){this.set({a:this.a*V6b+this.c*P6b,b:this.b*V6b+this.d*P6b,c:this.a*v6b+this.c*L6b,d:this.b*v6b+this.d*L6b,e:this.a*R6b+this.c*i6b+this.e,f:this.b*R6b+this.d*i6b+this.f});return this;};V4b.setTransform=function(a6b,x6b,k6b,w6b,Y6b,A6b){this.a=a6b;this.b=x6b;this.c=k6b;this.d=w6b;this.e=Y6b;this.f=A6b;return this;};V4b.multiply=function(){for(var r8c=this,n8c=arguments.length,s8c=0;s8c<n8c;s8c++){r8c=n7b(r8c,arguments[s8c]);}this.set(r8c);return this;};V4b.prepend=function(I8c){this.set(n7b(I8c,this));return this;};V4b.reset=function(){this.set(v4b());return this;};V4b.applyTransform=function(T8c){w4b(T8c,this);return this;};V4b.applyInverseTransform=function(c8c){x4b(c8c,this);return this;};V4b.applySetTransform=function(M8c){T7b(M8c,this);return this;};P4b.applyTransform=w4b;P4b.applyInverseTransform=x4b;P4b.applySetTransform=T7b;P4b.equals=R4b;P4b.invert=L4b;P4b.copy=a4b;P4b.getIdentity=v4b;P4b.isIdentity=k4b;P4b.rotateAt=i4b;P4b.scaleAt=Y4b;P4b.skewAt=A4b;P4b.decompose=r7b;P4b.test=function(){function g8c(h8c){h8c.rotate(3.8);h8c.translate(100,100);h8c.scale(1,.5);h8c.rotate(-3.8);h8c.translate(100,100);h8c.scale(1,.5);h8c.rotate(123.8);h8c.translate(100,100);h8c.scale(1,.5);}var O8c=new P4b(),o8c=document.createElement("canvas").getContext("2d");g8c(O8c);g8c(o8c);o8c=o8c.currentTransform;O8c=O8c.a.toPrecision(3)+", "+O8c.b.toPrecision(3)+", "+O8c.c.toPrecision(3)+", "+O8c.d.toPrecision(3)+", "+O8c.e.toPrecision(3)+", "+O8c.f.toPrecision(3);o8c=o8c.a.toPrecision(3)+", "+o8c.b.toPrecision(3)+", "+o8c.c.toPrecision(3)+", "+o8c.d.toPrecision(3)+", "+o8c.e.toPrecision(3)+", "+o8c.f.toPrecision(3);console.log(O8c);console.log(o8c);console.log(O8c===o8c);};}();void function(){function Z8c(j8c){return function(J8c,S8c,K8c){"number"===typeof S8c?"number"===typeof K8c?(J8c.x=j8c(J8c.x,S8c),J8c.y=j8c(J8c.y,K8c)):(J8c.x=j8c(J8c.x,S8c),J8c.y=j8c(J8c.y,S8c)):(J8c.x=j8c(J8c.x,S8c.x),J8c.y=j8c(J8c.y,S8c.y));return J8c;};}j.initSymbol();j.initSymbol();j.initSymbolIterator();var E8c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b8c){return typeof b8c;}:function(t8c){j.initSymbol();j.initSymbol();j.initSymbol();return t8c&&"function"===typeof Symbol&&t8c.constructor===Symbol&&t8c!==Symbol.prototype?"symbol":typeof t8c;},q8c=sketch.util,u8c=180/Math.PI,y8c=sketch.Point=function(C8c,N8c){if(null==C8c){return this.y=this.x=0,this;}if(null==N8c){if(C8c.length){return this.x=C8c[0]||0,this.y=C8c[1]||0,this;}C8c.cmd&&(this.cmd=C8c.cmd);this.x=C8c.x||0;this.y=C8c.y||0;return this;}this.x=C8c||0;this.y=N8c||0;return this;},H8c=y8c.prototype;H8c.clone=function(){return new y8c(this);};H8c.set=function(f8c){return y8c.apply(this,arguments);};H8c.equals=function(B8c){return this.x===B8c.x&&this.y===B8c.y;};H8c.multiply=H8c.mult=function(m8c){"number"===typeof m8c?(this.x*=m8c,this.y*=m8c):(this.x*=m8c.x,this.y*=m8c.y);return this;};H8c.divide=H8c.div=function(l8c){"number"===typeof l8c?(this.x/=l8c,this.y/=l8c):(this.x/=l8c.x,this.y/=l8c.y);return this;};H8c.subtract=H8c.sub=function(Q8c,z8c){"number"===typeof Q8c?(this.x-=Q8c,this.y-="number"===typeof z8c?z8c:Q8c):(this.x-=Q8c.x,this.y-=Q8c.y);return this;};H8c.add=function(D8c,d8c){"number"===typeof D8c?(this.x+=D8c,this.y+="number"===typeof d8c?d8c:D8c):(this.x+=D8c.x,this.y+=D8c.y);return this;};H8c.distance=function(X8c){return y8c.distance(this,X8c);};H8c.rotate=function(W8c){return y8c.rotateAt(this,new y8c(0,0),W8c);};H8c.rotateAt=function(U8c,G8c){return y8c.rotateAt(this,U8c,G8c);};H8c.min=function(e8c,F8c){return y8c.min(this,e8c,F8c);};H8c.max=function(p8c,V8c){return y8c.max(this,p8c,V8c);};H8c.round=function(P8c,v8c){return y8c.round(this,P8c,v8c);};y8c.max=Z8c(Math.max);y8c.min=Z8c(Math.min);y8c.abs=function(L8c){L8c.x=Math.abs(L8c.x);L8c.y=Math.abs(L8c.y);return L8c;};y8c.round=function(R8c,i8c,a8c){R8c.x=q8c.round(R8c.x,i8c,a8c);R8c.y=q8c.round(R8c.y,i8c,a8c);return R8c;};y8c.equals=function(x8c,k8c){return x8c.x===k8c.x&&x8c.y===k8c.y;};y8c.exists=function(w8c){return w8c&&Number.isFinite(w8c.x+w8c.y);};y8c.add=function(Y8c,A8c,r2c){r2c&&(Y8c=new y8c(Y8c));Y8c.x+=A8c.x;Y8c.y+=A8c.y;return Y8c;};y8c.sub=function(s2c,n2c){s2c.x-=n2c.x;s2c.y-=n2c.y;return s2c;};y8c.dot=function(I2c,T2c){return I2c.x*T2c.x+I2c.y*T2c.y;};y8c.distance=function(c2c,o2c){var M2c=c2c.x-o2c.x;c2c=c2c.y-o2c.y;return Math.sqrt(M2c*M2c+c2c*c2c);};y8c.distanceToLine=function(Z2c,g2c,O2c,E2c){var h2c=O2c.x-g2c.x;O2c=O2c.y-g2c.y;var y2c=h2c*h2c+O2c*O2c,H2c,q2c;0===y2c?(H2c=g2c.x,q2c=g2c.y):(H2c=(Z2c.x-g2c.x)*h2c,q2c=(Z2c.y-g2c.y)*O2c,y2c=(H2c+q2c)/y2c,E2c&&(y2c=Math.max(0,Math.min(1,y2c))),H2c=g2c.x+y2c*h2c,q2c=g2c.y+y2c*O2c);h2c=Z2c.x-H2c;O2c=Z2c.y-q2c;return Math.sqrt(h2c*h2c+O2c*O2c);};y8c.distanceToRect=function(j2c,u2c,S2c,K2c,b2c,J2c){u2c=j2c.x-u2c;j2c=j2c.y-S2c;J2c&&(u2c=u2c*Math.cos(-J2c)-j2c*Math.sin(-J2c),j2c=u2c*Math.sin(-J2c)+j2c*Math.cos(-J2c));0>u2c&&(u2c=-u2c);0>j2c&&(u2c=-j2c);u2c-=K2c/2;j2c-=b2c/2;0>u2c&&(u2c=0);0>j2c&&(j2c=0);return Math.sqrt(u2c*u2c+j2c*j2c);};y8c.nearestOnLine=function(N2c,C2c,t2c,l2c){var f2c=t2c.x-C2c.x;t2c=t2c.y-C2c.y;var m2c=f2c*f2c+t2c*t2c;N2c=(N2c.x-C2c.x)*f2c+(N2c.y-C2c.y)*t2c;var B2c=N2c/m2c;l2c&&(B2c=Math.max(0,Math.min(1,N2c/m2c)));return{time:B2c,x:C2c.x+f2c*B2c,y:C2c.y+t2c*B2c};};y8c.atAngleOnEllipse=function(Q2c,z2c,D2c,d2c,X2c){return new y8c(z2c+d2c*Math.cos(Q2c),D2c-X2c*Math.sin(Q2c));};y8c.ellipseBounding=function(W2c,F2c,p2c,U2c,V2c){var G2c=U2c*Math.cos(W2c);U2c*=Math.sin(W2c);var e2c=V2c*Math.cos(W2c+Math.PI/2);W2c=V2c*Math.sin(W2c+Math.PI/2);G2c=Math.sqrt(G2c*G2c+e2c*e2c);U2c=Math.sqrt(U2c*U2c+W2c*W2c);return[{x:F2c-G2c,y:p2c-U2c},{x:F2c+G2c,y:p2c+U2c}];};y8c.nearestOnEllipse=function(R2c,L2c,v2c,i2c){var a2c=L2c.x;L2c=L2c.y;var P2c=a2c-R2c.x,x2c=L2c-R2c.y,k2c=Math.sqrt(v2c*v2c*x2c*x2c+i2c*i2c*P2c*P2c),P2c=Math.abs(v2c*i2c*P2c/k2c);R2c.x<a2c&&(P2c=-P2c);v2c=Math.abs(v2c*i2c*x2c/k2c);R2c.y<L2c&&(v2c=-v2c);return new y8c(a2c+P2c,L2c+v2c);};y8c.angle=function(w2c,Y2c,A2c){w2c=Math.atan2(Y2c.y-w2c.y,Y2c.x-w2c.x);return A2c?w2c*u8c:w2c;};y8c.rotateAt=function(r0c,n0c,s0c){var I0c=r0c.x-n0c.x,T0c=r0c.y-n0c.y,c0c=Math.cos(s0c);s0c=Math.sin(s0c);r0c.x=c0c*I0c-s0c*T0c+n0c.x;r0c.y=s0c*I0c+c0c*T0c+n0c.y;return r0c;};y8c.atAngleDistance=function(g0c,h0c,M0c){var o0c=M0c,O0c=M0c;("undefined"===typeof M0c?false:"object"===E8c(M0c))&&(o0c=M0c.x,O0c=M0c.y);return new y8c(Math.cos(h0c)*o0c+g0c.x,Math.sin(h0c)*O0c+g0c.y);};y8c.toLine=function(H0c,q0c,y0c){y0c||(y0c=1);var Z0c=Math.cos(q0c);return[{x:Z0c*-y0c+H0c.x,y:Math.sin(q0c)*-y0c+H0c.y},{x:Z0c*y0c+H0c.x,y:Math.sin(q0c)*y0c+H0c.y}];};y8c.atRadianToTime=function(E0c,S0c,K0c,b0c,u0c,t0c){var j0c=E0c-K0c,J0c=S0c-b0c;u0c*=Math.sqrt(j0c*j0c+J0c*J0c);E0c=Math.atan2(b0c-S0c,K0c-E0c);t0c&&(E0c+=t0c);return new y8c(Math.cos(E0c)*u0c,Math.sin(E0c)*u0c);};y8c.atTimeToRadius=function(N0c,C0c,m0c,l0c){var f0c=C0c.x-N0c.x;C0c=C0c.y-N0c.y;var B0c=Math.atan2(C0c,f0c)-1.57079632;return new y8c(N0c.x+f0c*m0c+Math.cos(B0c)*l0c,N0c.y+C0c*m0c+Math.sin(B0c)*l0c);};y8c.atTimeOnLine=function(Q0c,z0c,D0c){return new y8c(Q0c.x+(z0c.x-Q0c.x)*D0c,Q0c.y+(z0c.y-Q0c.y)*D0c);};y8c.atTimeOnQuadratic=function(U0c,G0c,e0c,X0c){var d0c=1-X0c,W0c=d0c*d0c,d0c=2*d0c*X0c;X0c*=X0c;return new y8c(W0c*U0c.x+d0c*G0c.x+X0c*e0c.x,W0c*U0c.y+d0c*G0c.y+X0c*e0c.y);};y8c.reflect=function(v0c,p0c,P0c){var F0c=P0c.x-p0c.x,V0c=P0c.y-p0c.y,L0c=F0c*F0c+V0c*V0c;P0c=(F0c*F0c-V0c*V0c)/L0c;F0c=2*F0c*V0c/L0c;return new y8c(P0c*(v0c.x-p0c.x)+F0c*(v0c.y-p0c.y)+p0c.x,F0c*(v0c.x-p0c.x)-P0c*(v0c.y-p0c.y)+p0c.y);};y8c.inBBox=function(R0c,i0c){return R0c.x>i0c.x1&&R0c.y>i0c.y1&&R0c.x<i0c.x2&&R0c.y<i0c.y2;};y8c.inRect=function(x0c,a0c){return x0c.x>a0c.x&&x0c.y>a0c.y&&x0c.x<a0c.x+a0c.width&&x0c.y<a0c.y+a0c.height;};y8c.inRotatedRect=function(k0c,w0c,Y0c,A0c){var r3c=Y0c.x-w0c.x,s3c=Y0c.y-w0c.y,n3c=A0c.x-Y0c.x;A0c=A0c.y-Y0c.y;w0c=r3c*(k0c.x-w0c.x)+s3c*(k0c.y-w0c.y);k0c=n3c*(k0c.x-Y0c.x)+A0c*(k0c.y-Y0c.y);return 0<w0c&&w0c<r3c*r3c+s3c*s3c&&0<k0c&&k0c<n3c*n3c+A0c*A0c;};y8c.inPolygon=function(O3c,h3c,c3c){for(var M3c=false,g3c=O3c.length,o3c=0,I3c=g3c-1;o3c<g3c;I3c=o3c++){var T3c=O3c[o3c],I3c=O3c[I3c];(T3c.y<=c3c&&c3c<I3c.y||I3c.y<=c3c&&c3c<T3c.y)&&h3c<(I3c.x-T3c.x)*(c3c-T3c.y)/(I3c.y-T3c.y)+T3c.x&&(M3c=!M3c);}return M3c;};y8c.inPolygonChain=function(q3c,E3c,u3c){for(var H3c=0,y3c=0,Z3c=q3c.length;y3c<Z3c;y3c++){y8c.inPolygon(q3c[y3c],E3c,u3c)&&H3c++;}return 1===(H3c&1);};y8c.inEllipse=function(j3c,S3c,K3c,b3c){var J3c=j3c.x-S3c.x;j3c=j3c.y-S3c.y;return 1>=J3c*J3c/(K3c*K3c)+j3c*j3c/(b3c*b3c);};}();void function(){var t3c=sketch.Point;sketch.vector.langSimplify=function(m3c,D3c,z3c){D3c=D3c||3;z3c=z3c||1;var C3c=m3c.length-1;if(0>=C3c){return m3c;}var B3c=0,f3c,N3c=Math.min(D3c,C3c);f3c=0+N3c;for(var C3c=C3c-N3c,d3c=[m3c[B3c]];N3c;){var W3c=m3c[B3c],l3c=m3c[f3c];if("Z"===l3c.cmd||"M"===l3c.cmd){B3c=f3c,d3c.push(l3c),N3c=Math.min(1,C3c),f3c+=N3c,C3c-=N3c;}else{for(var Q3c=0,X3c=B3c+1;X3c!==f3c;){var U3c=t3c.distanceToLine(m3c[X3c],W3c,l3c),Q3c=Math.max(Q3c,U3c);if(Q3c>z3c){break;}X3c++;}Q3c<z3c?(B3c=f3c,d3c.push(l3c),N3c=Math.min(D3c,C3c),f3c+=N3c,C3c-=N3c):(f3c--,C3c++);}}return d3c;};}();void function(){sketch.vector.mcMasterSmooth=function(e3c,F3c){F3c=Math.round(F3c||0);0===F3c%2&&F3c++;var P3c=e3c.length;if(P3c<F3c){return e3c;}for(var v3c=0,V3c=0,G3c=0;G3c<F3c;G3c++){var L3c=e3c[G3c],v3c=v3c+L3c.x,V3c=V3c+L3c.y;}for(var G3c=Math.floor(F3c/2),L3c=P3c-G3c,P3c=e3c.slice(L3c,P3c),i3c=e3c.slice(0,G3c),p3c=G3c;p3c<L3c;p3c++){p3c>G3c&&(v3c-=e3c[p3c-G3c-1].x,V3c-=e3c[p3c-G3c-1].y,v3c+=e3c[p3c+G3c].x,V3c+=e3c[p3c+G3c].y);var R3c=e3c[p3c];"L"===R3c.cmd?i3c.push({cmd:"L",x:(R3c.x+v3c/F3c)/2,y:(R3c.y+V3c/F3c)/2}):i3c.push(R3c);}return i3c.concat(P3c);};}();void function(){sketch.vector.roundPath=function(x3c,k3c){var a3c=Math.pow(10,k3c||0);x3c.forEach(function(w3c){for(var Y3c in w3c){var A3c=w3c[Y3c];Number.isFinite(A3c)&&(w3c[Y3c]=Math.round(A3c*a3c)/a3c);}});return x3c;};}();void function(){(function(s5c,r5c){"undefined"!==typeof module?module.exports=r5c.apply():"function"===typeof define&&define.amd?define(s5c,[],r5c):window[s5c]=r5c.apply();}("simplify2",function(){function I5c(T5c,c5c){var M5c=T5c[T5c.length-1];M5c.x==c5c.x&&M5c.y==c5c.y||T5c.push(c5c);}function n5c(o5c,H5c,q5c,Z5c,E5c){var h5c=q5c,y5c=o5c[Z5c],O5c=o5c[E5c],S5c=y5c.x,y5c=y5c.y,j5c=O5c.x-S5c,O5c=O5c.y-y5c,K5c,J5c,g5c,u5c;if(0===j5c&&0===O5c){E5c>Z5c+1&&(h5c=Z5c+E5c>>1,n5c(o5c,H5c,q5c,Z5c,h5c),I5c(H5c,o5c[h5c]),n5c(o5c,H5c,q5c,h5c,E5c));}else{K5c=1/(j5c*j5c+O5c*O5c);for(u5c=Z5c;u5c<=E5c;u5c++){g5c=o5c[u5c],g5c=j5c*(y5c-g5c.y)+O5c*(g5c.x-S5c),g5c=g5c*g5c*K5c,g5c>h5c&&(J5c=u5c,h5c=g5c);}h5c>q5c&&(n5c(o5c,H5c,q5c,Z5c,J5c),H5c.push(o5c[J5c]),n5c(o5c,H5c,q5c,J5c,E5c));}}return{radialDistance:function(t5c,B5c){if(t5c&&1<t5c.length&&0<B5c){var C5c=[];B5c*=B5c;var Q5c=t5c.length,m5c,N5c=t5c[0],b5c,f5c,l5c;C5c.push(N5c);for(m5c=1;m5c<Q5c;m5c++){b5c=t5c[m5c],f5c=N5c.x-b5c.x,l5c=B5c-f5c*f5c,0<=l5c?(f5c=N5c.y-b5c.y,0>l5c-f5c*f5c&&(C5c.push(b5c),N5c=b5c)):(C5c.push(b5c),N5c=b5c);}I5c(C5c,b5c);t5c=C5c;}return t5c;},douglasPeucker:function(z5c,d5c){if(z5c&&1<z5c.length&&0<d5c){var D5c=[];D5c.push(z5c[0]);n5c(z5c,D5c,d5c*d5c,0,z5c.length-1);I5c(D5c,z5c[z5c.length-1]);return D5c;}return z5c;},radialDistanceAndDouglasPeucker:function(W5c,X5c){return this.douglasPeucker(this.radialDistance(W5c,X5c),X5c);}};}));}();void function(){function U5c(G5c){}U5c.delta=function(F5c,p5c){var e5c=Math.PI;return((F5c-p5c)%e5c+2*e5c)%e5c;};U5c.clamp=function(P5c){var V5c=2*Math.PI;return(P5c%V5c+V5c)%V5c;};U5c.flip=function(v5c,L5c,R5c){return 0>L5c&&0>R5c?180+v5c:0>L5c?360-v5c:0>R5c?540-v5c:v5c;};sketch.Angle=U5c;}();void function(){function w5c(o9c,c9c,s9c,T9c,n9c){var A5c,I9c=3*c9c-9*T9c+9*n9c-3*s9c,r9c=6*T9c-12*n9c+6*s9c;A5c=3*n9c-3*s9c;if(1E-10>=Math.abs(I9c)){if(1E-10>Math.abs(r9c)){return;}A5c=-A5c/r9c;}else{A5c=r9c*r9c-4*I9c*A5c;if(1E-10>A5c){return;}var M9c=Math.sqrt(A5c);A5c=(-r9c+M9c)/(2*I9c);1E-10<A5c&&1>A5c&&o9c.extendTo(Y5c(A5c,c9c,s9c,T9c,n9c));A5c=(-r9c-M9c)/(2*I9c);}1E-10<A5c&&1>A5c&&o9c.extendTo(Y5c(A5c,c9c,s9c,T9c,n9c));}function Y5c(O9c,h9c,y9c,H9c,q9c){var g9c=1-O9c;return O9c*O9c*O9c*h9c+3*O9c*O9c*g9c*H9c+3*O9c*g9c*g9c*q9c+g9c*g9c*g9c*y9c;}function x5c(){this.min=Number.MAX_SAFE_INTEGER;this.max=Number.MIN_SAFE_INTEGER;}var k5c=sketch.Matrix2D,a5c=sketch.PathBBox=function(Z9c){this.reset();if(!Z9c){return this;}var E9c=Z9c.as,u9c=Z9c.expand,j9c=Z9c.matrix,J9c=Z9c.path||Z9c;this.tightBezierFit=false!==Z9c.tightBezierFit;j9c&&this.setMatrix(j9c);J9c&&this.addPath(J9c);u9c&&this.expand(u9c);if(E9c){switch(E9c){case"rect":return this.asRect();case"diagonal":return this.asDiagonal();}}},i5c=a5c.prototype;i5c.setMatrix=function(S9c){if(k5c.isIdentity(S9c)){return this;}this.matrix=new k5c(S9c);return this;};i5c.addPath=function(K9c){var t9c=this;if(Array.isArray(K9c)){if(Array.isArray(K9c[0])){for(var b9c=0,C9c=K9c.length;b9c<C9c;b9c++){t9c._addPath(K9c[b9c]);}}else{this._addPath(K9c);}}return this;};i5c._addPath=function(X9c){var m9c=this;for(var z9c=this.matrix,B9c=0,f9c=0,l9c=0,d9c=X9c.length;l9c<d9c;l9c++){var N9c=X9c[l9c];z9c&&(N9c=z9c.point2d(N9c));switch(N9c.cmd||"L"){case"M":case"L":m9c.extendTo(N9c.x,N9c.y);break;case"C":m9c._addBezierCurveTo(B9c,f9c,N9c.x1,N9c.y1,N9c.x2,N9c.y2,N9c.x,N9c.y);break;case"Q":var Q9c=B9c+0.6666666666666666*(N9c.x1-B9c),D9c=f9c+0.6666666666666666*(N9c.y1-f9c);m9c._addBezierCurveTo(B9c,f9c,Q9c,D9c,Q9c+(N9c.x-B9c)/3,D9c+(N9c.y-f9c)/3,N9c.x,N9c.y);}B9c=N9c.x;f9c=N9c.y;}};i5c._addBezierCurveTo=function(v9c,L9c,e9c,F9c,G9c,p9c,V9c,P9c){var U9c=this.x,W9c=this.y;this.extendTo(V9c,P9c);this.tightBezierFit?(U9c.contains(e9c)&&U9c.contains(G9c)||w5c(U9c,v9c,V9c,e9c,G9c),W9c.contains(F9c)&&W9c.contains(p9c)||w5c(W9c,L9c,P9c,F9c,p9c)):(this.extendTo(e9c,F9c),this.extendTo(G9c,p9c));};i5c.reset=function(){this.x=new x5c();this.y=new x5c();return this;};i5c.expand=function(R9c){this.x.expand(R9c);this.y.expand(R9c);return this;};i5c.extendTo=function(x9c,k9c){var i9c=this.x,a9c=this.y;x9c<i9c.min&&(i9c.min=x9c);x9c>i9c.max&&(i9c.max=x9c);k9c<a9c.min&&(a9c.min=k9c);k9c>a9c.max&&(a9c.max=k9c);return this;};i5c.extendToPoint=function(w9c){var Y9c=w9c.x;w9c=w9c.y;var A9c=this.x,r1c=this.y;Y9c<A9c.min&&(A9c.min=Y9c);Y9c>A9c.max&&(A9c.max=Y9c);w9c<r1c.min&&(r1c.min=w9c);w9c>r1c.max&&(r1c.max=w9c);return this;};i5c.asDiagonal=function(){return{x1:this.x.min===Number.MIN_SAFE_INTEGER?0:this.x.min,x2:this.x.max===Number.MAX_SAFE_INTEGER?0:this.x.max,y1:this.y.min===Number.MIN_SAFE_INTEGER?0:this.y.min,y2:this.y.max===Number.MAX_SAFE_INTEGER?0:this.y.max};};i5c.asPolygon=function(){return a5c.toPolygon(this.asDiagonal());};i5c.asRect=function(){var s1c=this.asDiagonal();return{x:s1c.x1,y:s1c.y1,width:s1c.x2-s1c.x1,height:s1c.y2-s1c.y1};};i5c.centroid=function(){var n1c=this.x,I1c=this.y;return{x:(n1c.max-n1c.min)/2+n1c.min,y:(I1c.max-I1c.min)/2+I1c.min};};x5c.prototype={extendTo:function(T1c){T1c<this.min&&(this.min=T1c);T1c>this.max&&(this.max=T1c);},contains:function(c1c){return this.min<=c1c&&c1c<=this.max;},expand:function(M1c){this.min-=M1c;this.max+=M1c;}};a5c.toPolygon=function(o1c){return[{cmd:"M",x:o1c.x1,y:o1c.y1},{cmd:"L",x:o1c.x2,y:o1c.y1},{cmd:"L",x:o1c.x2,y:o1c.y2},{cmd:"L",x:o1c.x1,y:o1c.y2}];};}();void function(){function O1c(h1c,y1c,H1c,q1c,Z1c,E1c){h1c=new g1c(h1c,y1c);h1c.cp1=new g1c(H1c,q1c);h1c.cp2=new g1c(Z1c,E1c);return h1c;}var g1c=sketch.Point;O1c.fromArray=function(u1c){return{cmd:"C",x1:u1c[0],y1:u1c[1],x2:u1c[2],y2:u1c[3],x:u1c[4],y:u1c[5]};};O1c.fromLineSegment=function(J1c,S1c,j1c){var K1c=g1c.atTimeOnLine(J1c,S1c,0.3333333333333333);J1c=g1c.atTimeOnLine(J1c,S1c,0.6666666666666666);j1c=j1c||new g1c(S1c);j1c.cmd="C";j1c.x1=K1c.x;j1c.y1=K1c.y;j1c.x2=J1c.x;j1c.y2=J1c.y;return j1c;};O1c.pointAtTime=function(m1c,D1c,d1c,f1c,B1c,z1c,l1c,Q1c,t1c){var b1c=1-t1c,N1c=b1c*b1c*b1c,C1c=3*t1c*b1c*b1c,b1c=3*t1c*t1c*b1c;t1c*=t1c*t1c;return new g1c(N1c*m1c+C1c*d1c+b1c*B1c+t1c*l1c,N1c*D1c+C1c*f1c+b1c*z1c+t1c*Q1c);};O1c.split=function(R1c,L1c,G1c,e1c,F1c,p1c,a1c,i1c,X1c){var V1c=R1c+(G1c-R1c)*X1c,P1c=L1c+(e1c-L1c)*X1c,U1c=G1c+(F1c-G1c)*X1c,W1c=e1c+(p1c-e1c)*X1c;F1c+=(a1c-F1c)*X1c;p1c+=(i1c-p1c)*X1c;e1c=V1c+(U1c-V1c)*X1c;G1c=P1c+(W1c-P1c)*X1c;var U1c=U1c+(F1c-U1c)*X1c,W1c=W1c+(p1c-W1c)*X1c,v1c=e1c+(U1c-e1c)*X1c;X1c=G1c+(W1c-G1c)*X1c;return[[R1c,L1c,V1c,P1c,e1c,G1c,v1c,X1c],[v1c,X1c,U1c,W1c,F1c,p1c,a1c,i1c]];};O1c.isFlat=function(x1c,k1c){return O1c.flatness1(x1c)<=(k1c||1);};O1c.flatness1=function(w1c){var Y1c=g1c.distanceToLine(w1c[1],w1c[0],w1c[3]);w1c=g1c.distanceToLine(w1c[2],w1c[0],w1c[3]);return Y1c>w1c?Y1c:w1c;};O1c.nearestTimeOnCurve=function(){function A1c(T4c,r4c,c4c,O4c,s4c){if(1E-5>s4c){return c4c;}var M4c=c4c-s4c,o4c=c4c+s4c,n4c=O1c.pointAtTime(r4c[0].x,r4c[0].y,r4c[1].x,r4c[1].y,r4c[2].x,r4c[2].y,r4c[3].x,r4c[3].y,M4c),I4c=O1c.pointAtTime(r4c[0].x,r4c[0].y,r4c[1].x,r4c[1].y,r4c[2].x,r4c[2].y,r4c[3].x,r4c[3].y,o4c),n4c=g1c.distance(T4c,n4c),I4c=g1c.distance(T4c,I4c);return 0<=M4c&&n4c<O4c?A1c(T4c,r4c,M4c,n4c,s4c):1>=o4c&&I4c<O4c?A1c(T4c,r4c,o4c,I4c,s4c):A1c(T4c,r4c,c4c,O4c,s4c/2);}return function(Z4c,g4c){for(var q4c=0,H4c=Number.MAX_SAFE_INTEGER,y4c=0;10>y4c;y4c++){var h4c=O1c.pointAtTime(g4c[0].x,g4c[0].y,g4c[1].x,g4c[1].y,g4c[2].x,g4c[2].y,g4c[3].x,g4c[3].y,y4c/10),h4c=g1c.distance(Z4c,h4c);h4c<H4c&&(H4c=h4c,q4c=y4c/10);}return A1c(Z4c,g4c,q4c,H4c,0.09900990099009901);};}();O1c.nearestPointOnCurve=function(u4c,E4c){var j4c=O1c.nearestTimeOnCurve(u4c,E4c);E4c=O1c.pointAtTime(E4c[0].x,E4c[0].y,E4c[1].x,E4c[1].y,E4c[2].x,E4c[2].y,E4c[3].x,E4c[3].y,j4c);u4c=g1c.distance(u4c,E4c);return{point:E4c,distance:u4c,time:j4c};};O1c.toPolyline=function(b4c){function K4c(C4c,N4c,f4c,B4c,m4c){if(O1c.isFlat(C4c,N4c)||10<++f4c){J4c=C4c[3],S4c.push({x:J4c.x,y:J4c.y,t:m4c});}else{C4c=O1c.split(C4c[0].x,C4c[0].y,C4c[1].x,C4c[1].y,C4c[2].x,C4c[2].y,C4c[3].x,C4c[3].y,.5);var l4c=B4c+(m4c-B4c)/2;K4c(O1c.fromArray2(C4c[0]),N4c,f4c,B4c,l4c);K4c(O1c.fromArray2(C4c[1]),N4c,f4c,l4c,m4c);}}var t4c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.33,S4c=[],J4c=b4c[0];S4c.push({x:J4c.x,y:J4c.y,t:0});K4c(b4c,t4c,0,0,1);return S4c;};O1c.fromArray2=function(Q4c){return[{x:Q4c[0],y:Q4c[1]},{x:Q4c[2],y:Q4c[3]},{x:Q4c[4],y:Q4c[5]},{x:Q4c[6],y:Q4c[7]}];};void function(){var z4c=[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],D4c=[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872];O1c.distance=function(X4c){var W4c,d4c,G4c=0,V4c=z4c.length,e4c=[];for(d4c=0;3>d4c;d4c++){e4c.push({x:3*(X4c[d4c+1].x-X4c[d4c].x),y:3*(X4c[d4c+1].y-X4c[d4c].y)});}for(X4c=0;X4c<V4c;X4c++){W4c=.5*z4c[X4c]+.5;var U4c=1-W4c;d4c=e4c;var F4c=U4c*U4c,U4c=U4c*W4c*2,p4c=W4c*W4c;W4c=F4c*d4c[0].x+U4c*d4c[1].x+p4c*d4c[2].x;d4c=F4c*d4c[0].y+U4c*d4c[1].y+p4c*d4c[2].y;G4c+=D4c[X4c]*Math.sqrt(W4c*W4c+d4c*d4c);}return.5*G4c;};}();sketch.CubicBezier=O1c;}();void function(){function P4c(L4c,R4c,i4c,a4c){L4c=new v4c(L4c,R4c);L4c.cp1=new v4c(i4c,a4c);return L4c;}var v4c=sketch.Point;P4c.fromArray=function(x4c){return{x1:x4c[0],y1:x4c[1],x:x4c[2],y:x4c[3]};};P4c.distance=function(k4c,r7c,s7c,Y4c,w4c,A4c){w4c=k4c-2*s7c+w4c;A4c=r7c-2*Y4c+A4c;k4c=2*s7c-2*k4c;Y4c=2*Y4c-2*r7c;r7c=4*(w4c*w4c+A4c*A4c);w4c=4*(w4c*k4c+A4c*Y4c);Y4c=k4c*k4c+Y4c*Y4c;A4c=2*Math.sqrt(r7c+w4c+Y4c);k4c=Math.sqrt(r7c);s7c=2*r7c*k4c;var n7c=2*Math.sqrt(Y4c),I7c=w4c/k4c;return(s7c*A4c+k4c*w4c*(A4c-n7c)+(4*Y4c*r7c-w4c*w4c)*Math.log((2*k4c+I7c+A4c)/(I7c+n7c)))/(4*s7c);};sketch.QuadraticBezier=P4c;}();void function(){function T7c(o7c,O7c){return[new c7c(o7c),new c7c(O7c)];}var M7c=sketch.Angle,c7c=sketch.Point;T7c.angle=function(g7c){return c7c.angle(g7c[0],g7c[1]);};T7c.toRect=function(E7c){var q7c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,h7c=new c7c(E7c[0]),Z7c=new c7c(E7c[1]),H7c=c7c.angle(h7c,Z7c),y7c=c7c.rotateAt(h7c,h7c,-H7c),h7c=c7c.rotateAt(Z7c,h7c,-H7c);return{x:y7c.x,y:y7c.y,width:h7c.x-y7c.x+q7c,height:h7c.y-y7c.y+q7c,angle:H7c};};T7c.toRectIntersection=function(u7c,j7c,S7c){var J7c=M7c.clamp(c7c.angle(u7c[0],u7c[1])),K7c=Math.PI/4,b7c=3*K7c,t7c=5*K7c,C7c=7*K7c;J7c>=K7c&&J7c<=b7c?(J7c=T7c.toLineIntersection(u7c[0],u7c[1],j7c[0],j7c[1],S7c),u7c=T7c.toLineIntersection(u7c[0],u7c[1],j7c[3],j7c[2],S7c)):J7c>=b7c&&J7c<=t7c?(J7c=T7c.toLineIntersection(u7c[0],u7c[1],j7c[2],j7c[1],S7c),u7c=T7c.toLineIntersection(u7c[0],u7c[1],j7c[0],j7c[3],S7c)):J7c>=t7c&&J7c<=C7c?(J7c=T7c.toLineIntersection(u7c[0],u7c[1],j7c[3],j7c[2],S7c),u7c=T7c.toLineIntersection(u7c[0],u7c[1],j7c[0],j7c[1],S7c)):(J7c=T7c.toLineIntersection(u7c[0],u7c[1],j7c[0],j7c[3],S7c),u7c=T7c.toLineIntersection(u7c[0],u7c[1],j7c[2],j7c[1],S7c));j7c=[];J7c&&j7c.push(J7c);u7c&&j7c.push(u7c);return j7c;};T7c.toLineIntersection=function(B7c,m7c,N7c,l7c,d7c){var Q7c=m7c.y-B7c.y;m7c=m7c.x-B7c.x;var f7c=l7c.x-N7c.x,z7c=l7c.y-N7c.y;if(l7c=m7c*z7c-Q7c*f7c){var D7c=B7c.x-N7c.x;N7c=B7c.y-N7c.y;f7c=(f7c*N7c-z7c*D7c)/l7c;N7c=(m7c*N7c-Q7c*D7c)/l7c;if(!d7c||!(0>f7c||1<f7c||0>N7c||1<N7c)){return new c7c(B7c.x+f7c*m7c,B7c.y+f7c*Q7c);}}};sketch.Line=T7c;}();void function(){function X7c(p7c){}function F7c(a7c,w7c,Y7c){for(var x7c=a7c.length,v7c=0;v7c<x7c;v7c++){var V7c=a7c[v7c],P7c=a7c[(v7c+1)%x7c],R7c=V7c.x-P7c.x,V7c=V7c.y-P7c.y;Y7c?R7c=-R7c:V7c=-V7c;a:{for(var k7c=w7c.length,L7c=0;L7c<k7c;L7c++){var i7c=w7c[L7c];if(0>V7c*(i7c.x-P7c.x)+R7c*(i7c.y-P7c.y)){P7c=false;break a;}}P7c=true;}if(P7c){return false;}}return true;}function U7c(A7c,r6c,s6c){A7c.fillStyle=s6c;A7c.fillRect(r6c.x-5,r6c.y-5,10,10);}var G7c=sketch.Line,W7c=sketch.Point,e7c=Math.PI/180;X7c.clone=function(c6c){for(var T6c=[],M6c=c6c.length,n6c=0;n6c<M6c;n6c++){var I6c=c6c[n6c];T6c.push({cmd:I6c.cmd||(0===n6c?"M":"L"),x:I6c.x,y:I6c.y});}return T6c;};X7c.distance=function(O6c,g6c){var h6c=0,y6c=O6c.length;g6c=y6c-(g6c?1:0);for(var o6c=0;o6c<g6c;o6c++){h6c+=W7c.distance(O6c[o6c],O6c[(o6c+1)%y6c]);}return h6c;};X7c.collision=function(Z6c,E6c){for(var u6c=Z6c.length,H6c=0;H6c<u6c;H6c++){var q6c=Z6c[H6c];if(W7c.inPolygon(E6c,q6c.x,q6c.y)){return true;}}u6c=E6c.length;for(H6c=0;H6c<u6c;H6c++){if(q6c=E6c[H6c],W7c.inPolygon(Z6c,q6c.x,q6c.y)){return true;}}return!!X7c.toPolygonIntersects(Z6c,E6c);};X7c.toPolygonIntersects=function(j6c,J6c){return!!X7c.toPolygonIntersection.apply(X7c,Array.prototype.slice.call(arguments).concat([{bestMatch:true}])).point;};X7c.toPolygonIntersection=function(m6c,l6c){var N6c=!!(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).bestMatch,S6c=m6c.length,K6c=l6c.length,X6c=S6c,d6c=K6c;2===S6c&&(S6c=1);2===K6c&&(K6c=1);var D6c;D6c=N6c?null:[];for(var b6c=0;b6c<S6c;b6c++){for(var Q6c=m6c[b6c],z6c=m6c[(b6c+1)%X6c],t6c=0;t6c<K6c;t6c++){var B6c=l6c[t6c],f6c=l6c[(t6c+1)%d6c],C6c=G7c.toLineIntersection(Q6c,z6c,B6c,f6c,true);if(C6c){if(N6c){return{point:C6c,line0:[Q6c,z6c],line1:[B6c,f6c]};}D6c.push(C6c);}}}return N6c?{}:D6c;};X7c.SAT=function(W6c,U6c){return F7c(W6c,U6c)&&F7c(U6c,W6c)?true:false;};X7c.arcSpline=function(G6c,i6c,x6c){for(var P6c=i6c.length-1,p6c=0;p6c<P6c;p6c++){var F6c=i6c[p6c%P6c],e6c=i6c[(p6c+1)%P6c],v6c=i6c[(p6c+2)%P6c],V6c=atTimeOnLine(F6c,e6c,.5),L6c=atTimeOnLine(e6c,v6c,.5),R6c=W7c.atAngleDistance(V6c,W7c.angle(F6c,e6c)+90*e7c,1E4),a6c=W7c.atAngleDistance(L6c,W7c.angle(e6c,v6c)+90*e7c,1E4),F6c=W7c.distance(V6c,L6c)/2;if(R6c=G7c.toLineIntersection(V6c,R6c,L6c,a6c,true)){G6c.fillStyle="#f00",G6c.fillRect(R6c.x-10,R6c.y-10,20,20);}0===p6c&&G6c.moveTo(V6c.x,V6c.y);U7c(G6c,e6c,"#f0f");U7c(G6c,V6c,"#fff");U7c(G6c,L6c,"#ff0");G6c.arcTo(e6c.x,e6c.y,v6c.x,v6c.y,x6c>F6c?F6c:x6c);}G6c.closePath();};X7c.isClockwise=function(Y6c){for(var k6c=0,A6c=Y6c.length,w6c=0;w6c<A6c;w6c++){var r8O=Y6c[w6c],s8O=Y6c[(w6c+1)%A6c],k6c=k6c+(s8O.x-r8O.x)*(s8O.y+r8O.y);}return 0>=k6c;};sketch.Polygon=X7c;}();void function(){function c8O(z8O,d8O,D8O,m8O,N8O,f8O,Q8O,X8O){Math.abs(f8O-N8O)>=I8O&&(f8O=N8O+I8O-1E-10);var B8O,l8O;Q8O?(B8O=Math.max(N8O,f8O),l8O=Math.min(N8O,f8O)):(B8O=Math.min(N8O,f8O),l8O=Math.max(N8O,f8O));N8O=d8O+m8O*Math.cos(B8O);f8O=D8O+m8O*Math.sin(B8O);d8O+=m8O*Math.cos(l8O);D8O+=m8O*Math.sin(l8O);B8O=.5<=Math.abs((B8O-l8O)/T8O/2)?1:0;Q8O=Q8O?0:1;X8O?z8O.moveTo(N8O,f8O):z8O.lineTo(N8O,f8O);sketch.SVG.arcToBezier(N8O,f8O,m8O,m8O,0,B8O,Q8O,d8O,D8O,z8O);}function t8O(V8O,e8O,G8O,v8O,L8O,W8O,P8O,o2O,M2O){0>v8O&&(e8O-=v8O=Math.abs(v8O));0>L8O&&(G8O-=L8O=Math.abs(L8O));var i8O,R8O,w8O,x8O,k8O,a8O;"number"===typeof W8O?(Number.isFinite(P8O)||(P8O=W8O),i8O=v8O/2,R8O=L8O/2,W8O>i8O&&(W8O=i8O),P8O>R8O&&(P8O=R8O),i8O=R8O=w8O=x8O=W8O,P8O=k8O=a8O=W8O=P8O):(Array.isArray(W8O)?4===W8O.length&&(W8O=[W8O[0],W8O[0],W8O[1],W8O[1],W8O[2],W8O[2],W8O[3],W8O[3]]):W8O=[10,10,10,10,10,10,10,10],i8O=W8O[0],R8O=W8O[2],w8O=W8O[4],x8O=W8O[6],P8O=W8O[1],k8O=W8O[3],a8O=W8O[5],W8O=W8O[7]);var U8O=h8O/4,F8O=U8O/2,p8O=Math.cos(F8O),Y8O=-h8O/2,n2O=Y8O+U8O,I2O=Y8O+2*U8O,T2O=Y8O+3*U8O,c2O=Y8O+4*U8O,r2O=Y8O+5*U8O,A8O=Y8O+6*U8O,s2O=Y8O+7*U8O;V8O.moveTo(e8O+i8O,G8O);o2O?(U8O*=-1,F8O*=-1,V8O.quadraticCurveTo(e8O+i8O+Math.cos(Y8O+F8O)*i8O/p8O,G8O+P8O+Math.sin(Y8O+F8O)*P8O/p8O,e8O+i8O+Math.cos(Y8O+U8O)*i8O,G8O+P8O+Math.sin(Y8O+U8O)*P8O),V8O.quadraticCurveTo(e8O+i8O+Math.cos(s2O+F8O)*i8O/p8O,G8O+P8O+Math.sin(s2O+F8O)*P8O/p8O,e8O+i8O+Math.cos(s2O+U8O)*i8O,G8O+P8O+Math.sin(s2O+U8O)*P8O),V8O.lineTo(e8O,G8O+L8O-P8O),V8O.quadraticCurveTo(e8O+x8O+Math.cos(A8O+F8O)*x8O/p8O,G8O+L8O-W8O+Math.sin(A8O+F8O)*W8O/p8O,e8O+x8O+Math.cos(A8O+U8O)*x8O,G8O+L8O-W8O+Math.sin(A8O+U8O)*W8O),V8O.quadraticCurveTo(e8O+x8O+Math.cos(r2O+F8O)*x8O/p8O,G8O+L8O-W8O+Math.sin(r2O+F8O)*W8O/p8O,e8O+x8O+Math.cos(r2O+U8O)*x8O,G8O+L8O-W8O+Math.sin(r2O+U8O)*W8O),V8O.lineTo(e8O+v8O-x8O,G8O+L8O),V8O.quadraticCurveTo(e8O+v8O-w8O+Math.cos(c2O+F8O)*w8O/p8O,G8O+L8O-a8O+Math.sin(c2O+F8O)*a8O/p8O,e8O+v8O-w8O+Math.cos(c2O+U8O)*w8O,G8O+L8O-a8O+Math.sin(c2O+U8O)*a8O),V8O.quadraticCurveTo(e8O+v8O-w8O+Math.cos(T2O+F8O)*w8O/p8O,G8O+L8O-a8O+Math.sin(T2O+F8O)*a8O/p8O,e8O+v8O-w8O+Math.cos(T2O+U8O)*w8O,G8O+L8O-a8O+Math.sin(T2O+U8O)*a8O),V8O.lineTo(e8O+v8O,G8O+a8O),V8O.quadraticCurveTo(e8O+v8O-R8O+Math.cos(I2O+F8O)*R8O/p8O,G8O+k8O+Math.sin(I2O+F8O)*k8O/p8O,e8O+v8O-R8O+Math.cos(I2O+U8O)*R8O,G8O+k8O+Math.sin(I2O+U8O)*k8O),V8O.quadraticCurveTo(e8O+v8O-R8O+Math.cos(n2O+F8O)*R8O/p8O,G8O+k8O+Math.sin(n2O+F8O)*k8O/p8O,e8O+v8O-R8O+Math.cos(n2O+U8O)*R8O,G8O+k8O+Math.sin(n2O+U8O)*k8O),V8O.lineTo(e8O+R8O,G8O)):(V8O.lineTo(e8O+v8O-R8O,G8O),V8O.quadraticCurveTo(e8O+v8O-R8O+Math.cos(Y8O+F8O)*R8O/p8O,G8O+k8O+Math.sin(Y8O+F8O)*k8O/p8O,e8O+v8O-R8O+Math.cos(Y8O+U8O)*R8O,G8O+k8O+Math.sin(Y8O+U8O)*k8O),V8O.quadraticCurveTo(e8O+v8O-R8O+Math.cos(n2O+F8O)*R8O/p8O,G8O+k8O+Math.sin(n2O+F8O)*k8O/p8O,e8O+v8O-R8O+Math.cos(n2O+U8O)*R8O,G8O+k8O+Math.sin(n2O+U8O)*k8O),V8O.lineTo(e8O+v8O,G8O+L8O-a8O),V8O.quadraticCurveTo(e8O+v8O-w8O+Math.cos(I2O+F8O)*w8O/p8O,G8O+L8O-a8O+Math.sin(I2O+F8O)*a8O/p8O,e8O+v8O-w8O+Math.cos(I2O+U8O)*w8O,G8O+L8O-a8O+Math.sin(I2O+U8O)*a8O),V8O.quadraticCurveTo(e8O+v8O-w8O+Math.cos(T2O+F8O)*w8O/p8O,G8O+L8O-a8O+Math.sin(T2O+F8O)*a8O/p8O,e8O+v8O-w8O+Math.cos(T2O+U8O)*w8O,G8O+L8O-a8O+Math.sin(T2O+U8O)*a8O),V8O.lineTo(e8O+x8O,G8O+L8O),V8O.quadraticCurveTo(e8O+x8O+Math.cos(c2O+F8O)*x8O/p8O,G8O+L8O-W8O+Math.sin(c2O+F8O)*W8O/p8O,e8O+x8O+Math.cos(c2O+U8O)*x8O,G8O+L8O-W8O+Math.sin(c2O+U8O)*W8O),V8O.quadraticCurveTo(e8O+x8O+Math.cos(r2O+F8O)*x8O/p8O,G8O+L8O-W8O+Math.sin(r2O+F8O)*W8O/p8O,e8O+x8O+Math.cos(r2O+U8O)*x8O,G8O+L8O-W8O+Math.sin(r2O+U8O)*W8O),V8O.lineTo(e8O,G8O+P8O),V8O.quadraticCurveTo(e8O+i8O+Math.cos(A8O+F8O)*i8O/p8O,G8O+P8O+Math.sin(A8O+F8O)*P8O/p8O,e8O+i8O+Math.cos(A8O+U8O)*i8O,G8O+P8O+Math.sin(A8O+U8O)*P8O),V8O.quadraticCurveTo(e8O+i8O+Math.cos(s2O+F8O)*i8O/p8O,G8O+P8O+Math.sin(s2O+F8O)*P8O/p8O,e8O+i8O+Math.cos(s2O+U8O)*i8O,G8O+P8O+Math.sin(s2O+U8O)*P8O));M2O||V8O.closePath();}function g8O(J2O,S2O,b2O,t2O,q2O,E2O,K2O,C2O){var j2O=-y8O/2;E2O=E2O/q2O*H8O;for(var H2O=void 0,Z2O=void 0,y2O=0;y2O<=q2O;y2O++){var g2O=K2O?q2O-y2O:y2O,O2O=Math.pow(t2O,g2O/q2O),h2O=g2O*E2O+j2O,g2O=Math.cos(h2O)*O2O+S2O,O2O=Math.sin(h2O)*O2O+b2O,h2O=g2O-H2O,u2O=O2O-Z2O;if(null==H2O||1<Math.sqrt(h2O*h2O+u2O*u2O)){0!==y2O||C2O?J2O.lineTo(g2O,O2O):J2O.moveTo(g2O,O2O),H2O=g2O,Z2O=O2O;}}}function o8O(N2O,m2O,l2O,f2O,B2O,Q2O,z2O){N2O.moveTo(m2O,l2O);Q2O?(N2O.lineTo(m2O,B2O),N2O.lineTo(f2O,B2O),N2O.lineTo(f2O,l2O)):(N2O.lineTo(f2O,l2O),N2O.lineTo(f2O,B2O),N2O.lineTo(m2O,B2O));z2O||N2O.closePath();}var T8O=Math.PI,I8O=2*T8O,M8O=Math.PI,b8O=2*M8O,O8O=Math.PI,j8O=2*O8O,u8O=Math.PI,K8O=2*u8O,h8O=Math.PI,y8O=Math.PI,H8O=2*y8O,q8O=Math.PI,S8O=2*q8O,Z8O=function(D2O){if(Array.isArray(D2O)){for(var d2O=0,X2O=Array(D2O.length);d2O<D2O.length;d2O++){X2O[d2O]=D2O[d2O];}return X2O;}return Array.from(D2O);},E8O=sketch.vector||(sketch.vector={}),n8O=E8O.Shape||(E8O.Shape={}),C8O=2*Math.PI,J8O=Math.PI/180;n8O.arc=c8O;n8O.burst=function(R2O,V2O,p2O,F2O,a2O,W2O,e2O,k2O,w2O){var U2O=k2O?-1:1;e2O=b8O/a2O;var i2O=e2O/2*U2O,L2O=e2O/4*U2O,x2O=3*L2O,G2O=Math.cos(e2O/4);1>W2O&&(F2O*=W2O);var v2O=F2O/W2O,G2O=v2O/G2O,P2O=(e2O-M8O)/2;1<W2O&&(P2O+=M8O);W2O=-e2O*U2O+P2O;R2O.moveTo(Math.cos(W2O)*F2O+V2O,Math.sin(W2O)*F2O+p2O);for(U2O=0;U2O<a2O;U2O++){W2O=e2O*(k2O?a2O-U2O:U2O)+P2O,R2O.quadraticCurveTo(Math.cos(W2O-x2O)*G2O+V2O,Math.sin(W2O-x2O)*G2O+p2O,Math.cos(W2O-i2O)*v2O+V2O,Math.sin(W2O-i2O)*v2O+p2O),R2O.quadraticCurveTo(Math.cos(W2O-L2O)*G2O+V2O,Math.sin(W2O-L2O)*G2O+p2O,Math.cos(W2O)*F2O+V2O,Math.sin(W2O)*F2O+p2O);}w2O||R2O.closePath();};n8O.gear=function(s0O,M0O,o0O,r0O,H0O,Y2O,h0O,Z0O){Y2O=1-Y2O;1>Y2O&&(r0O*=Y2O);var T0O=j8O/H0O,c0O=T0O/4*(h0O?-1:1);Y2O=r0O/Y2O;var g0O=(T0O-O8O)/2+T0O/8;h0O&&(g0O+=c0O);for(var n0O=0;n0O<H0O;n0O++){var I0O=T0O*(h0O?H0O-n0O:n0O)+g0O,A2O=I0O-3*c0O,q0O=I0O-2*c0O,y0O=I0O-c0O,O0O=Math.cos(A2O)*Y2O+M0O,A2O=Math.sin(A2O)*Y2O+o0O;0===n0O?s0O.moveTo(O0O,A2O):s0O.lineTo(O0O,A2O);s0O.lineTo(Math.cos(q0O)*Y2O+M0O,Math.sin(q0O)*Y2O+o0O);s0O.lineTo(Math.cos(y0O)*r0O+M0O,Math.sin(y0O)*r0O+o0O);s0O.lineTo(Math.cos(I0O)*r0O+M0O,Math.sin(I0O)*r0O+o0O);}Z0O||s0O.closePath();};n8O.heart=function(S0O,E0O,u0O,j0O,J0O,K0O,t0O){E0O-=j0O/2;u0O-=J0O/2;K0O=.5*j0O;var b0O=.35*J0O;S0O.moveTo(E0O+K0O,u0O+.26*J0O);S0O.bezierCurveTo(E0O+K0O,u0O+.11*J0O,E0O+.42*j0O,u0O,E0O+.25*j0O,u0O);S0O.bezierCurveTo(E0O,u0O,E0O,u0O+b0O,E0O,u0O+b0O);S0O.bezierCurveTo(E0O,u0O+.55*J0O,E0O+.15*j0O,u0O+.75*J0O,E0O+K0O,u0O+J0O);S0O.bezierCurveTo(E0O+.85*j0O,u0O+.75*J0O,E0O+j0O,u0O+.55*J0O,E0O+j0O,u0O+b0O);S0O.bezierCurveTo(E0O+j0O,u0O+b0O,E0O+j0O,u0O,E0O+.75*j0O,u0O);S0O.bezierCurveTo(E0O+.58*j0O,u0O,E0O+K0O,u0O+.11*J0O,E0O+K0O,u0O+.26*J0O);t0O||S0O.closePath();};n8O.pie=function(C0O,m0O,l0O,Q0O,N0O,f0O,z0O,D0O){var B0O=-T8O/2;N0O+=B0O;f0O+=B0O;Math.abs((N0O+I8O)%I8O)===Math.abs((f0O+I8O)%I8O)||C0O.moveTo(m0O,l0O);c8O(C0O,m0O,l0O,Q0O,N0O,f0O,z0O);D0O||C0O.closePath();};n8O.radialBurst=function(W0O,v0O,L0O,k0O,p0O,x0O,P0O,Y0O,w0O){var e0O=K8O/x0O,G0O=4*P0O,a0O=e0O/4*G0O,G0O=e0O/8*G0O;P0O=-u8O/2+e0O*P0O/2;for(var F0O=0;F0O<x0O;F0O++){var d0O=e0O*F0O+P0O,U0O=d0O-a0O,X0O=d0O-G0O,V0O=Math.cos(X0O)*k0O+v0O,X0O=Math.sin(X0O)*k0O+L0O,R0O=Math.cos(U0O)*p0O+v0O,U0O=Math.sin(U0O)*p0O+L0O,i0O=Math.cos(d0O)*p0O+v0O,d0O=Math.sin(d0O)*p0O+L0O;0===F0O&&W0O.moveTo(V0O,X0O);Y0O?(W0O.lineTo(V0O,X0O),W0O.lineTo(i0O,d0O),W0O.lineTo(R0O,U0O)):(W0O.lineTo(R0O,U0O),W0O.lineTo(i0O,d0O),W0O.lineTo(V0O,X0O));}w0O||W0O.closePath();};n8O.ring=function(r3O,c3O,M3O,I3O,A0O,s3O,n3O,o3O,O3O){var T3O=-T8O/2;s3O+=T3O;n3O+=T3O;c8O(r3O,c3O,M3O,A0O,s3O,n3O,o3O,true);A0O=n3O;Math.abs((s3O+I8O)%I8O)===Math.abs((A0O+I8O)%I8O)&&r3O.moveTo(c3O+I3O*Math.cos(A0O),M3O+I3O*Math.sin(A0O));c8O(r3O,c3O,M3O,I3O,n3O,s3O,!o3O);O3O||r3O.closePath();};n8O.roundRect=t8O;n8O.roundRect2=function(H3O,g3O,h3O,q3O,Z3O,y3O,E3O,u3O){q3O<2*y3O&&(y3O=q3O/2);Z3O<2*y3O&&(y3O=Z3O/2);E3O?(H3O.moveTo(g3O+q3O-y3O,h3O),H3O.arcTo(g3O,h3O,g3O,h3O+y3O,y3O),H3O.arcTo(g3O,h3O+Z3O,g3O+y3O,h3O+Z3O,y3O),H3O.arcTo(g3O+q3O,h3O+Z3O,g3O+q3O,h3O+Z3O-y3O,y3O),H3O.arcTo(g3O+q3O,h3O,g3O+q3O-y3O,h3O,y3O)):(H3O.moveTo(g3O+y3O,h3O),H3O.arcTo(g3O+q3O,h3O,g3O+q3O,h3O+Z3O,y3O),H3O.arcTo(g3O+q3O,h3O+Z3O,g3O,h3O+Z3O,y3O),H3O.arcTo(g3O,h3O+Z3O,g3O,h3O,y3O),H3O.arcTo(g3O,h3O,g3O+q3O,h3O,y3O));u3O||H3O.closePath();};n8O.roundRectangle=function(S3O,j3O,J3O,K3O,b3O,t3O,C3O,N3O,f3O){t8O(S3O,j3O,J3O,K3O-j3O,b3O-J3O,t3O,C3O,N3O,f3O);};n8O.spiral=g8O;n8O.spirals=function(B3O,m3O,l3O,d3O,X3O,z3O,U3O,W3O){for(var D3O=X3O;D3O--;){B3O.save();B3O.translate(m3O,l3O);B3O.rotate(D3O*H8O/X3O);B3O.translate(-m3O,-l3O);var Q3O=100*z3O;g8O(B3O,m3O,l3O,d3O*U3O,Q3O,z3O,!!W3O);g8O(B3O,m3O,l3O,d3O,Q3O,z3O,!W3O,true);B3O.closePath();B3O.restore();}};n8O.star=function(V3O,x3O,w3O,P3O,i3O,G3O,F3O,Y3O,A3O){F3O=F3O||0;G3O=1-G3O;1>G3O&&(P3O*=G3O);var v3O=S8O/ i3O,R3O=v3O/2*(Y3O?-1:1);G3O=P3O/G3O;for(var k3O=(v3O-q8O)/2,e3O=0;e3O<i3O;e3O++){var p3O=v3O*(Y3O?i3O-e3O:e3O)+k3O,L3O=Math.cos(p3O-R3O+F3O/2)*G3O+x3O,a3O=Math.sin(p3O-R3O+F3O/2)*G3O+w3O;0===e3O?V3O.moveTo(L3O,a3O):V3O.lineTo(L3O,a3O);V3O.lineTo(Math.cos(p3O-F3O/2)*P3O+x3O,Math.sin(p3O-F3O/2)*P3O+w3O);}A3O||V3O.closePath();};n8O.supershape=function(O5O,H5O,y5O,h5O,c5O,T5O,o5O,M5O,g5O,q5O,Z5O){T5O||(T5O=.001);o5O||(o5O=-.001);M5O||(M5O=.001);g5O||(g5O=.001);for(var s5O=0;s5O<=c5O;s5O++){var r5O=(q5O?c5O-s5O:s5O)*PI2/c5O,I5O=Math.pow(Math.pow(Math.abs(Math.cos(T5O*r5O/4)),M5O)+Math.pow(Math.abs(Math.sin(T5O*r5O/4)),g5O),1/o5O),n5O;0===I5O?r5O=n5O=0:(n5O=1/I5O*Math.cos(r5O)*h5O,r5O=1/I5O*Math.sin(r5O)*h5O);0===s5O?O5O.moveTo(n5O+H5O,r5O+y5O):O5O.lineTo(n5O+H5O,r5O+y5O);}Z5O||O5O.closePath();};n8O.line=function(E5O,u5O,j5O,J5O,S5O){E5O.moveTo(u5O,j5O);E5O.lineTo(J5O,S5O);};n8O.circle=function(b5O,t5O,C5O,K5O,N5O,f5O){n8O.ellipse(b5O,t5O,C5O,K5O,K5O,N5O,f5O);};n8O.ellipse=function(z5O,B5O,m5O,l5O,Q5O,G5O,U5O){var D5O=.5522847498307936*l5O,d5O=.5522847498307936*Q5O,W5O=B5O-l5O,X5O=m5O-Q5O;l5O=B5O+l5O;Q5O=m5O+Q5O;z5O.moveTo(B5O,X5O);G5O?(z5O.bezierCurveTo(B5O-D5O,X5O,W5O,m5O-d5O,W5O,m5O),z5O.bezierCurveTo(W5O,m5O+d5O,B5O-D5O,Q5O,B5O,Q5O),z5O.bezierCurveTo(B5O+D5O,Q5O,l5O,m5O+d5O,l5O,m5O),z5O.bezierCurveTo(l5O,m5O-d5O,B5O+D5O,X5O,B5O,X5O)):(z5O.bezierCurveTo(B5O+D5O,X5O,l5O,m5O-d5O,l5O,m5O),z5O.bezierCurveTo(l5O,m5O+d5O,B5O+D5O,Q5O,B5O,Q5O),z5O.bezierCurveTo(B5O-D5O,Q5O,W5O,m5O+d5O,W5O,m5O),z5O.bezierCurveTo(W5O,m5O-d5O,B5O-D5O,X5O,B5O,X5O));U5O||z5O.closePath();};n8O.SVGPath=function(e5O,F5O){sketch.drawPath(e5O,sketch.SVG.toVOBPath(F5O));};n8O.cross=function(p5O,V5O,P5O,L5O,v5O){null==v5O&&(v5O=L5O);p5O.moveTo(V5O,P5O-v5O/2);p5O.lineTo(V5O,P5O+v5O/2);p5O.moveTo(V5O-L5O/2,P5O);p5O.lineTo(V5O+L5O/2,P5O);};n8O.exmark=function(a5O,x5O,k5O,R5O){var i5O=(4<arguments.length&&void 0!==arguments[4]?arguments[4]:{}).rotation||0;if(i5O){var w5O=Math.cos(i5O),Y5O=Math.cos(i5O+Math.PI/2),A5O=Math.sin(i5O),i5O=Math.sin(i5O+Math.PI/2);a5O.moveTo(w5O*R5O+x5O,A5O*R5O+k5O);a5O.lineTo(w5O*-R5O+x5O,A5O*-R5O+k5O);a5O.moveTo(Y5O*R5O+x5O,i5O*R5O+k5O);a5O.lineTo(Y5O*-R5O+x5O,i5O*-R5O+k5O);}else{a5O.moveTo(x5O+R5O,k5O-R5O),a5O.lineTo(x5O-R5O,k5O+R5O),a5O.moveTo(x5O+R5O,k5O+R5O),a5O.lineTo(x5O-R5O,k5O-R5O);}};n8O.square=function(I9O,s9O,n9O,r9O,T9O,c9O){o8O(I9O,s9O-r9O,n9O-r9O,s9O+r9O,n9O+r9O,T9O,c9O);};n8O.rect=function(O9O,M9O,o9O,g9O,h9O,y9O,H9O){o8O(O9O,M9O,o9O,M9O+g9O,o9O+h9O,y9O,H9O);};n8O.rectangle=o8O;n8O.triangle=function(q9O,Z9O,E9O,u9O,j9O){n8O.regularPolygon(q9O,Z9O,E9O,u9O,3,j9O);};n8O.regularPolygon=function(t9O,Q9O,l9O,N9O,C9O){for(var J9O=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{},f9O=!!J9O.anticlockwise,B9O=!!J9O.leavePathOpen,J9O=(J9O.rotation||0)*J8O,m9O=C8O/C9O,K9O=0;K9O<C9O;K9O++){var S9O=J9O+m9O*(f9O?C9O-K9O:K9O),b9O=Math.sin(S9O)*N9O+Q9O,S9O=-Math.cos(S9O)*N9O+l9O;0===K9O?t9O.moveTo(b9O,S9O):t9O.lineTo(b9O,S9O);}B9O||t9O.closePath();};n8O.clearPath=function(z9O,X9O,W9O){var D9O,d9O=z9O.globalCompositeOperation;z9O.beginPath();z9O.globalCompositeOperation="destination-out";(D9O=shape)[X9O].apply(D9O,[z9O].concat(Z8O(W9O)));z9O.fill();z9O.globalCompositeOperation=d9O;z9O.beginPath();};n8O.clipPath=function(U9O,e9O,F9O){var G9O;U9O.beginPath();(G9O=shape)[e9O].apply(G9O,[U9O].concat(Z8O(F9O)));U9O.clip();};}();void function(){function V9O(){var x9O=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],a9O=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof V9O)){return a9O.returnPieces=true,new V9O(x9O,a9O);}this.curveFlatness=a9O.curveFlatness||1;this.splitAt=a9O.splitAt.slice(0);this.resetPath();this.currentPoint={x:0,y:0};this.originPoint={x:0,y:0};this.priorPoint={x:0,y:0};sketch.drawPath(this,x9O);return a9O.returnPieces?this.flush():this;}var v9O=sketch.Point,P9O=sketch.CubicBezier,L9O=sketch.Point,R9O=sketch.vector,i9O=sketch.Point,p9O=V9O.prototype;p9O.moveTo=function(k9O,w9O){this.originPoint.x=this.currentPoint.x=this.priorPoint.x=k9O;this.originPoint.y=this.currentPoint.y=this.priorPoint.y=w9O;this.push({cmd:"M",distance:0,x:k9O,y:w9O});};p9O.lineTo=function(r1O,s1O){var A9O=this.priorPoint,Y9O=this.currentPoint;A9O.x=Y9O.x;A9O.y=Y9O.y;Y9O.x=r1O;Y9O.y=s1O;this.push({cmd:"L",distance:L9O.distance(A9O,Y9O),x:r1O,y:s1O});};p9O.quadraticCurveTo=function(I1O,T1O,c1O,M1O){var n1O=this.currentPoint;I1O=n1O.x+0.6666666666666666*(I1O-n1O.x);T1O=n1O.y+0.6666666666666666*(T1O-n1O.y);this.bezierCurveTo(I1O,T1O,I1O+(c1O-n1O.x)/3,T1O+(M1O-n1O.y)/3,c1O,M1O);};p9O.bezierCurveTo=function(Z1O,J1O,j1O,u1O,E1O,q1O){for(var o1O=this.currentPoint,g1O=this.priorPoint,y1O=P9O.toPolyline(P9O.fromArray2([o1O.x,o1O.y,Z1O,J1O,j1O,u1O,E1O,q1O]),this.curveFlatness),h1O=0,O1O=0,S1O=y1O.length;O1O<S1O;O1O++){var H1O=y1O[O1O];g1O.x=o1O.x;g1O.y=o1O.y;o1O.x=H1O.x;o1O.y=H1O.y;0<O1O&&(h1O+=v9O.distance(g1O,o1O));}this.push({cmd:"C",distance:h1O,x1:Z1O,y1:J1O,x2:j1O,y2:u1O,x:E1O,y:q1O});};p9O.closePath=function(){var K1O=this.originPoint;this.lineTo(K1O.x,K1O.y);};p9O.resetPath=function(){this.distance=0;this.pathToProcess=[];this.pieces=[];};p9O.flush=function(){function X1O(G1O,F1O,e1O){G1O=t1O.slice(G1O,F1O);C1O&&"M"!==C1O.cmd&&G1O.unshift({cmd:"M",x:C1O.x,y:C1O.y});e1O&&G1O.push(e1O);D1O.push(G1O);C1O=G1O[G1O.length-1];}for(var N1O=this,t1O=N1O.pathToProcess,D1O=N1O.pieces,W1O=N1O.splitAt.map(function(p1O){return 0>p1O?p1O+N1O.distance:p1O;}).sort(),m1O=0,l1O=0,f1O=0,C1O=void 0,b1O=0,d1O=t1O.length;b1O<d1O;b1O++){var Q1O=t1O[b1O].distance,B1O=W1O[m1O];if(B1O<l1O+Q1O){var U1O=t1O[b1O-1]||t1O[b1O],z1O=t1O[b1O];"L"===z1O.cmd&&i9O.atTimeOnLine(U1O,z1O,B1O);X1O(f1O,b1O,void 0);f1O=b1O;m1O++;}l1O+=Q1O;}X1O(f1O,t1O.length);return D1O;};p9O.push=function(V1O){this.distance+=V1O.distance;this.pathToProcess.push(V1O);};R9O.PathSplitter=V9O;}();void function(){function L1O(){var x1O=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.ctx=x1O.ctx;this.preserveBezierCurves=!!x1O.preserveBezierCurves;this.curveFlatness=x1O.curveFlatness||1;this.recordPath=x1O.recordPath||!x1O.ctx;this.splitAt=x1O.splitAt;this.splitClamp=x1O.splitClamp;this.splitPattern=x1O.splitPattern;this.distanceSinceLastPoint=this.distance=this.dashLengthToProcess=this.dashIdx=0;this.path=[];this.currentPoint={x:0,y:0};this.originPoint={x:0,y:0};this.priorPoint={x:0,y:0};this.sourcePathIndex=0;(x1O=x1O.path)&&sketch.drawPath(this,x1O);}var R1O=sketch.Point,v1O=sketch.CubicBezier,i1O=sketch.Point,P1O=sketch.vector,a1O=sketch.Point;P1O.PathSegmenter=L1O;P1O.PathSegmenter.segment=function(k1O,w1O){k1O=new L1O(Object.assign({path:k1O},w1O));k1O._pushFinalPoint();return k1O.path;};P1O=L1O.prototype;P1O.moveTo=function(Y1O,A1O){var r4O=this.ctx,s4O=this.recordPath,n4O="endCapsOnly"===s4O;r4O&&r4O.moveTo(Y1O,A1O);s4O&&this._pushPoint(n4O?"L":"M",{x:Y1O,y:A1O});this.dashLengthToProcess=this._getNextDashLength();this.originPoint.x=this.currentPoint.x=this.priorPoint.x=Y1O;this.originPoint.y=this.currentPoint.y=this.priorPoint.y=A1O;this.sourcePathIndex++;};P1O.lineTo=function(M4O,g4O){var o4O=this;var O4O=this.priorPoint,I4O=this.currentPoint;if(this._justRecordPoint()){O4O.x=I4O.x,O4O.y=I4O.y,I4O.x=M4O,I4O.y=g4O,this._pushPoint("L",I4O),this.distance+=i1O.distance(O4O,I4O);}else{var H4O="endCapsOnly"===this.recordPath,J4O=H4O?"L":"M",j4O=this.splitClamp,E4O=this.splitPattern||this._getSplitClampAsPattern(),u4O=E4O.length;M4O-=I4O.x;var c4O=g4O-I4O.y;g4O=Math.atan2(c4O,M4O);M4O=Math.sqrt(M4O*M4O+c4O*c4O);for(var c4O=this.dashIdx,h4O=false,Z4O,T4O,q4O=M4O;.01<q4O;){T4O=o4O.dashLengthToProcess;0<T4O?(Z4O=false,o4O.dashLengthToProcess=0):(Z4O=true,T4O=E4O[++c4O%u4O]||.1);var y4O=T4O-q4O;0<y4O&&(h4O=true,T4O-=y4O,o4O.dashLengthToProcess=y4O);O4O.x=I4O.x;O4O.y=I4O.y;I4O.x+=Math.cos(g4O)*T4O;I4O.y+=Math.sin(g4O)*T4O;q4O-=T4O;o4O.distanceSinceLastPoint+=T4O;j4O?h4O||o4O._pushPoint("L",I4O):c4O%2&&(Z4O&&o4O._pushPoint(J4O,O4O),(H4O&&!h4O||!H4O)&&o4O._pushPoint("L",I4O));if(h4O){break;}}this._pushPointIfSpacingIsMet();this.dashIdx=c4O;this.distance+=M4O;}this.sourcePathIndex++;};P1O.quadraticCurveTo=function(K4O,b4O,t4O,C4O){var S4O=this.currentPoint;K4O=S4O.x+0.6666666666666666*(K4O-S4O.x);b4O=S4O.y+0.6666666666666666*(b4O-S4O.y);this.bezierCurveTo(K4O,b4O,K4O+(t4O-S4O.x)/3,b4O+(C4O-S4O.y)/3,t4O,C4O);};P1O.bezierCurveTo=function(W4O,D4O,e4O,U4O,i4O,F4O){var Q4O=this;var G4O=this.ctx,B4O=this.currentPoint,z4O=this.priorPoint;D4O=[B4O.x,B4O.y,W4O,D4O,e4O,U4O,i4O,F4O];W4O=v1O.toPolyline(v1O.fromArray2(D4O),this.curveFlatness);if(this._justRecordPoint()){D4O=G4O=0;for(e4O=W4O.length;D4O<e4O;D4O++){U4O=W4O[D4O],z4O.x=B4O.x,z4O.y=B4O.y,B4O.x=U4O.x,B4O.y=U4O.y,Q4O._pushPoint("L",B4O),0<D4O&&(G4O+=R1O.distance(z4O,B4O));}this.distance+=G4O;}else{e4O=this.splitPattern||this._getSplitClampAsPattern();U4O=e4O.length;i4O="endCapsOnly"===this.recordPath;F4O=this.preserveBezierCurves;for(var s7O=this.recordPath,r7O=this.sourcePathIndex,Y4O=this.path,R4O=this.dashIdx,l4O,N4O,p4O=0,v4O=0,L4O=0,X4O=0,V4O=0,w4O=W4O.length;V4O<w4O;V4O++){l4O=W4O[V4O];for(var m4O=W4O[V4O-1]||l4O,x4O=Math.atan2(l4O.y-m4O.y,l4O.x-m4O.x),d4O=l4O.x-m4O.x,m4O=l4O.y-m4O.y,d4O=Math.sqrt(d4O*d4O+m4O*m4O),m4O=v4O,A4O=l4O.t,a4O=false,k4O=0,X4O=X4O+d4O,p4O=p4O+d4O;.01<X4O;){N4O=Q4O.dashLengthToProcess;0<N4O?(l4O=false,Q4O.dashLengthToProcess=0):(l4O=true,N4O=e4O[++R4O%U4O]||.1);var f4O=N4O-X4O;0<f4O&&(Q4O.dashLengthToProcess=f4O,N4O-=f4O,a4O=true);X4O-=N4O;k4O+=N4O;Q4O.distanceSinceLastPoint+=N4O;z4O.x=B4O.x;z4O.y=B4O.y;B4O.x+=Math.cos(x4O)*N4O;B4O.y+=Math.sin(x4O)*N4O;F4O&&(L4O=Math.min(m4O+k4O/d4O*(A4O-m4O),1));if(R4O%2){if(F4O&&!i4O&&5<N4O){var f4O=D4O,P4O=v4O;N4O=L4O;N4O=0+(N4O-P4O)/(1-P4O)*1;f4O=v1O.split(f4O[0],f4O[1],f4O[2],f4O[3],f4O[4],f4O[5],f4O[6],f4O[7],P4O)[1];N4O=v1O.split(f4O[0],f4O[1],f4O[2],f4O[3],f4O[4],f4O[5],f4O[6],f4O[7],N4O)[0];l4O&&Q4O._pushPoint("M",z4O);G4O&&G4O.bezierCurveTo(N4O[2],N4O[3],N4O[4],N4O[5],N4O[6],N4O[7]);s7O&&Y4O.push({cmd:"C",sourcePathIndex:r7O,x1:N4O[2],y1:N4O[3],x2:N4O[4],y2:N4O[5],x:N4O[6],y:N4O[7]});}else{i4O?(l4O&&Q4O._pushPoint("L",z4O),a4O||Q4O._pushPoint("L",B4O)):(l4O&&Q4O._pushPoint("M",z4O),Q4O._pushPoint("L",B4O));}}F4O&&(v4O=L4O);if(a4O){break;}}}this._pushPointIfSpacingIsMet();this.dashIdx=R4O;this.distance+=p4O;}this.sourcePathIndex++;};P1O.closePath=function(){var I7O=this.originPoint,n7O=!!this.recordPath,n7O=n7O&&"endCapsOnly"!==n7O,T7O=this.sourcePathIndex,c7O=this.path;this.lineTo(I7O.x,I7O.y);n7O&&c7O.push({cmd:"Z",sourcePathIndex:T7O,x:I7O.x,y:I7O.y});this._resetDashIndex();};P1O._pushPoint=function(O7O,M7O){this.recordPath&&this.path.push({cmd:O7O,sourcePathIndex:this.sourcePathIndex,x:M7O.x,y:M7O.y});var o7O=this.ctx;o7O&&("L"===O7O?o7O.lineTo(M7O.x,M7O.y):o7O.moveTo(M7O.x,M7O.y));this.distanceSinceLastPoint=0;};P1O._pushPointIfSpacingIsMet=function(){var g7O=this.splitClamp;if(g7O){var h7O=g7O.min,g7O=g7O.max||Number.MAX_SAFE_INTEGER,y7O=this.distanceSinceLastPoint;h7O&&h7O>y7O||g7O&&g7O<y7O||(this._pushPoint("L",this.currentPoint),this.dashLengthToProcess=0);}};P1O._pushFinalPoint=function(){var H7O=this.currentPoint;this.dashLengthToProcess&&a1O.distance(H7O,this.priorPoint)&&this._pushPoint("L",H7O);};P1O._resetDashIndex=function(){this.dashLengthToProcess=this.dashIdx=0;};P1O.resetPath=function(){this.distance=0;this.path=[];this._resetDashIndex();};P1O._getNextDashLength=function(){var q7O=this.splitPattern||this._getSplitClampAsPattern();return q7O?q7O[++this.dashIdx%q7O.length]||.1:.1;};P1O._getSplitClampAsPattern=function(){var Z7O=this.splitClamp;if(Z7O){return[Z7O.max||Number.MAX_SAFE_INTEGER];}};P1O._justRecordPoint=function(){return!this.splitClamp&&!this.splitPattern;};}();void function(){function E7O(j7O,J7O,u7O,S7O){(u7O=u7O[0])&&"M"!==u7O.cmd&&(S7O&&J7O.push({cmd:"M",x:u7O.x,y:u7O.y}),j7O&&j7O.moveTo(u7O.x,u7O.y));}sketch.vector.catmullRomSpline=function(B7O){var l7O=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.5,d7O=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},m7O=d7O.ctx||void 0,d7O=d7O.getResult||!m7O;if(-1===l7O){return B7O;}if(0===l7O){l7O=[];E7O(m7O,l7O,B7O,d7O);var U7O=B7O.length;if(2>=U7O){m7O=B7O;}else{for(var z7O=0;z7O<U7O-1;z7O++){var f7O=B7O[z7O-1]||B7O[z7O],b7O=B7O[z7O],C7O=B7O[z7O+1],N7O=B7O[z7O+2]||C7O,K7O="M"===b7O.cmd,t7O="Z"===b7O.cmd;K7O||t7O?(d7O&&l7O.push({cmd:b7O.cmd,x:b7O.x,y:b7O.y}),m7O&&(K7O?m7O.moveTo(b7O.x,b7O.y):m7O.closePath())):(K7O=b7O.x+(C7O.x-f7O.x)/6,f7O=b7O.y+(C7O.y-f7O.y)/6,t7O=C7O.x+(b7O.x-N7O.x)/6,b7O=C7O.y+(b7O.y-N7O.y)/6,N7O=C7O.x,C7O=C7O.y,d7O&&l7O.push({cmd:"C",x1:K7O,y1:f7O,x2:t7O,y2:b7O,x:N7O,y:C7O}),m7O&&m7O.bezierCurveTo(K7O,f7O,t7O,b7O,N7O,C7O));}m7O=l7O;}return m7O;}U7O=[];E7O(m7O,U7O,B7O,d7O);z7O=B7O.length;if(2>=z7O){return B7O;}for(C7O=0;C7O<z7O-1;C7O++){var f7O=0===C7O?B7O[0]:B7O[C7O-1],K7O=B7O[C7O],b7O=B7O[C7O+1],N7O=C7O+2<z7O?B7O[C7O+2]:b7O,t7O="M"===K7O.cmd,D7O="Z"===K7O.cmd;if(t7O||D7O){d7O&&U7O.push({cmd:K7O.cmd,x:K7O.x,y:K7O.y}),m7O&&(t7O?m7O.moveTo(K7O.x,K7O.y):m7O.closePath());}else{var Q7O,X7O;if("C"===K7O.cmd){D7O=K7O.x1,f7O=K7O.y1,Q7O=K7O.x2,N7O=K7O.y2,t7O=K7O.x,X7O=K7O.y;}else{Q7O=Math.sqrt(Math.pow(f7O.x-K7O.x,2)+Math.pow(f7O.y-K7O.y,2));t7O=Math.sqrt(Math.pow(K7O.x-b7O.x,2)+Math.pow(K7O.y-b7O.y,2));X7O=Math.sqrt(Math.pow(b7O.x-N7O.x,2)+Math.pow(b7O.y-N7O.y,2));D7O=Math.pow(Q7O,l7O);Q7O=Math.pow(Q7O,2*l7O);var W7O=Math.pow(t7O,l7O),t7O=Math.pow(t7O,2*l7O),e7O=Math.pow(X7O,l7O);X7O=Math.pow(X7O,2*l7O);var F7O=2*Q7O+3*D7O*W7O+t7O,p7O=2*X7O+3*e7O*W7O+t7O,G7O=3*D7O*(D7O+W7O);0<G7O&&(G7O=1/G7O);W7O=3*e7O*(e7O+W7O);0<W7O&&(W7O=1/W7O);D7O=(-t7O*f7O.x+F7O*K7O.x+Q7O*b7O.x)*G7O;f7O=(-t7O*f7O.y+F7O*K7O.y+Q7O*b7O.y)*G7O;Q7O=(X7O*K7O.x+p7O*b7O.x-t7O*N7O.x)*W7O;N7O=(X7O*K7O.y+p7O*b7O.y-t7O*N7O.y)*W7O;t7O=b7O.x;X7O=b7O.y;0===D7O&&0===f7O&&(D7O=K7O.x,f7O=K7O.y);0===Q7O&&0===N7O&&(Q7O=b7O.x,N7O=b7O.y);}d7O&&U7O.push({cmd:"C",x1:D7O,y1:f7O,x2:Q7O,y2:N7O,x:t7O,y:X7O});m7O&&m7O.bezierCurveTo(D7O,f7O,Q7O,N7O,t7O,X7O);}}return U7O;};}();void function(){function P7O(a7O,x7O){if(a7O){var k7O=a7O.x,w7O=a7O.y;x7O=a7O.cmd||a7O.type||(0===x7O?"M":"L");if("M"===x7O||"L"===x7O){return{cmd:x7O,x:k7O,y:w7O};}if("Q"===x7O){return{cmd:x7O,x1:a7O.x1,y1:a7O.y1,x:k7O,y:w7O};}if("C"===x7O){return{cmd:x7O,x1:a7O.x1,y1:a7O.y1,x2:a7O.x2,y2:a7O.y2,x:k7O,y:w7O};}if("A"===x7O){return{cmd:x7O,x1:a7O.x1,y1:a7O.y1,x2:a7O.x2,y2:a7O.y2,radius:a7O.radius};}if("Z"===x7O){return{cmd:x7O};}}}var v7O=sketch.vector,L7O=sketch.Point;sketch.vector.Debug=function(Y7O){function n6O(I6O,T6O,c6O,M6O){Y7O.strokeStyle="black";Y7O.moveTo(I6O,T6O);Y7O.lineTo(c6O,M6O);}function r6O(y6O,H6O){var h6O=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"red",o6O=3<arguments.length&&void 0!==arguments[3]?arguments[3]:5,o6O=o6O/(Y7O.currentTransform.d/global.devicePixelRatio),O6O={x:y6O,y:H6O};Y7O.save();Y7O.beginPath();Y7O.lineWidth=1/Y7O.currentTransform.d;var g6O=new sketch.Matrix2D();g6O.rotateAt(L7O.angle(A7O,O6O)+Math.PI/4,O6O);g6O.applyTransform(Y7O);v7O.Shape.exmark(Y7O,O6O.x,O6O.y,o6O);Y7O.strokeStyle=h6O;Y7O.stroke();Y7O.restore();}if(!Y7O){throw"Debug(...) Context2D is required.";}var A7O={},s6O=0;this.fill=function(){};this.stroke=function(){};this.beginPath=function(){};this.closePath=function(){};this.point=function(q6O,Z6O,E6O){r6O(q6O.x,q6O.y,Z6O,E6O);};this.moveTo=function(u6O,j6O){r6O(u6O,j6O,"Gold",3);A7O.x=u6O;A7O.y=j6O;s6O++;};this.lineTo=function(J6O,S6O){r6O(J6O,S6O,"Salmon",3);A7O.x=J6O;A7O.y=S6O;s6O++;};this.quadraticCurveTo=function(K6O,b6O,t6O,C6O){Y7O.beginPath();n6O(K6O,b6O,A7O.x,A7O.y);n6O(K6O,b6O,t6O,C6O);Y7O.stroke();r6O(t6O,C6O,"Salmon",3);r6O(K6O,b6O,"MediumAquamarine",2);A7O.x=t6O;A7O.y=C6O;s6O++;};this.bezierCurveTo=function(B6O,m6O,l6O,Q6O,N6O,f6O){Y7O.beginPath();n6O(B6O,m6O,A7O.x,A7O.y);n6O(l6O,Q6O,N6O,f6O);Y7O.stroke();r6O(N6O,f6O,"Salmon",3);r6O(B6O,m6O,"MediumAquamarine",2);r6O(l6O,Q6O,"MediumAquamarine",2);A7O.x=N6O;A7O.y=f6O;s6O++;};};var R7O=sketch.vector,i7O=sketch.Point;sketch.vector.Record=function(){function D6O(){z6O||(z6O=new sketch.Matrix2D());}var X6O=[],z6O=void 0,d6O=new i7O(0,0);this.path=[];this.paths=[this.path];this.fill=function(){};this.stroke=function(){};this.save=function(){X6O.push(z6O);z6O&&(z6O=z6O.clone());};this.restore=function(){z6O=X6O.pop();};this.setTransform=function(W6O,U6O,G6O,e6O,F6O,p6O){D6O();z6O.setTransform(W6O,U6O,G6O,e6O,F6O,p6O);};this.transform=function(V6O,P6O,v6O,L6O,R6O,i6O){D6O();z6O.transform(V6O,P6O,v6O,L6O,R6O,i6O);};this.translate=function(a6O,x6O){D6O();z6O.translate(a6O,x6O);};this.rotate=function(k6O){D6O();z6O.rotate(k6O);};this.scale=function(w6O,Y6O){D6O();z6O.scale(w6O,Y6O);};this.beginPath=function(){this.path=[];this.paths.push(this.path);};this.moveTo=function(A6O,r89){A6O={cmd:"M",x:A6O,y:r89};z6O&&z6O.flattenPoint(A6O);this.path.push(d6O=A6O);};this.lineTo=function(s89,n89){s89={cmd:"L",x:s89,y:n89};z6O&&z6O.flattenPoint(s89);this.path.push(s89);};this.quadraticCurveTo=function(I89,T89,c89,M89){I89={cmd:"Q",x1:I89,y1:T89,x:c89,y:M89};z6O&&z6O.flattenPoint(I89);this.path.push(I89);};this.bezierCurveTo=function(o89,O89,g89,h89,y89,H89){o89={cmd:"C",x1:o89,y1:O89,x2:g89,y2:h89,x:y89,y:H89};z6O&&z6O.flattenPoint(o89);this.path.push(o89);};this.arcTo=function(q89,Z89,E89,u89,j89){q89={cmd:"A",x1:q89,y1:Z89,x2:E89,y2:u89,radius:j89};z6O&&z6O.flattenPoint(q89);this.path.push(q89);};this.closePath=function(){var J89={cmd:"Z",x:d6O.x,y:d6O.y};z6O&&z6O.flattenPoint(J89);this.path.push(J89);};this.rect=function(){};this.arc=function(S89,K89,b89,t89,C89,N89){R7O.Shape.arc(this,S89,K89,b89,t89,C89,N89);};this.stringify=function(){return sketch.SVG.svgPathFromVOB(this.path);};};var V7O=sketch.vector;V7O.copyPath=function(l89){for(var B89=[],Q89=l89.length,f89=0;f89<Q89;f89++){var m89=P7O(l89[f89],f89);m89&&B89.push(m89);}return B89;};V7O.copyPoint=P7O;V7O.toPath=function(d89,D89){var z89=new V7O.Record();D89.unshift(z89);d89.apply(null,D89);return z89.path;};V7O.toPolyline=function(i89,a89){for(var G89=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},e89=G89.flatness,v89=G89.matrix,G89=G89.split,F89=V7O.toPath(i89,a89),X89=[],V89=0;V89<F89.length;V89++){var W89=F89[V89],U89=W89.cmd,p89="C"===U89,U89="Q"===U89;if(p89||U89){var U89=F89[V89-1],R89,P89,L89;p89?(p89=W89.x1,R89=W89.y1,P89=W89.x2,L89=W89.y2):(p89=U89.x+0.6666666666666666*(W89.x1-U89.x),R89=U89.y+0.6666666666666666*(W89.y1-U89.y),P89=W89.x+0.6666666666666666*(W89.x1-W89.x),L89=W89.y+0.6666666666666666*(W89.y1-W89.y));X89.push.apply(X89,sketch.CubicBezier.toPolyline([{x:U89.x,y:U89.y},{x:p89,y:R89},{x:P89,y:L89},{x:W89.x,y:W89.y}],e89));}else{X89.push(W89);}}G89&&(e89=X89,X89=new V7O.PathSegmenter(),X89.recordPath=true,Array.isArray(G89)?X89.splitPattern=G89:Number.isFinite(G89)&&(F89=sketch.Polygon.distance(e89,true),X89.splitPattern=[F89/(G89-1)]),sketch.drawPath(X89,e89),X89=X89.path,"number"===typeof G89&&G89>X89.length&&X89.push(e89.pop()));v89&&(X89=v89.flatten(X89));return X89;};sketch.VOBNode=function(k89,x89){switch(x89.type){case"image":k89.drawImage(x89.image,x89.x,x89.y,x89.width,x89.height);break;case"line":k89.moveTo(x89.x1,x89.y1);k89.lineTo(x89.x2,x89.y2);break;case"polyline":case"polygon":case"path":sketch.drawPath(k89,x89.data);break;case"ellipse":V7O.Shape.ellipse(k89,x89.cx,x89.cy,x89.rx,x89.ry);break;case"circle":V7O.Shape.ellipse(k89,x89.cx,x89.cy,x89.r,x89.r);break;case"rect":Number.isFinite(x89.rx)?V7O.Shape.roundRect(k89,x89.x,x89.y,x89.width,x89.height,x89.rx,x89.ry):V7O.Shape.rect(k89,x89.x,x89.y,x89.width,x89.height);}};sketch.drawPaths=function(r29,Y89,s29,n29,I29){for(var w89=0,A89=Y89.length;w89<A89;w89++){sketch.drawPath(r29,Y89[w89],s29,n29,I29);}};sketch.drawPath=function(O29,H29){var M29=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o29=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,q29=4<arguments.length&&void 0!==arguments[4]?arguments[4]:false;if(H29){for(var Z29=H29.length,g29=0;g29<Z29;g29++){var T29=H29[g29];if(T29){var h29=T29.x+M29,y29=T29.y+o29,c29=T29.cmd||T29.type||(0===g29?"M":"L");"M"===c29?(q29&&O29.closePath(),O29.moveTo(h29,y29)):"L"===c29?O29.lineTo(h29,y29):"Q"===c29?O29.quadraticCurveTo(T29.x1+M29,T29.y1+o29,h29,y29):"C"===c29?O29.bezierCurveTo(T29.x1+M29,T29.y1+o29,T29.x2+M29,T29.y2+o29,h29,y29):"A"===c29?O29.arcTo(T29.x1+M29,T29.y1+o29,T29.x2+M29,T29.y2+o29,T29.radius):"Z"===c29&&O29.closePath();}}}else{console.error("sketch.drawPath(...) requires path");}};sketch.drawPolygon=function(j29,J29){for(var S29=3<arguments.length&&void 0!==arguments[3]?arguments[3]:false,K29=J29&&J29.length,E29=0;E29<K29;E29++){var u29=J29[E29];0===E29?j29.moveTo(u29.x,u29.y):j29.lineTo(u29.x,u29.y);}S29||j29.closePath();};}();void function(){function b29(P29,F29){l29[F29]&&(F29=l29[F29]);if(P29&&0<=P29[0]){for(var G29=F29.substr(0,F29.indexOf(">")),p29={},V29=0;V29<G29.length;V29++){var v29=G29.substr(V29,1);p29[v29]=P29[V29];}P29=p29;}if(N29[F29]){return N29[F29](P29);}for(var e29=[],G29=F29.split(">"),p29=G29[0]+"_"+G29[1],V29=2;V29<=G29.length;V29++){P29=b29[p29](P29),e29.push(b29[p29]),p29=p29.substr(p29.indexOf("_")+1)+"_"+G29[V29];}G29=e29.length;1===G29?N29[F29]=e29[0]:2===G29?N29[F29]=function(L29){return e29[1](e29[0](L29));}:3===G29?N29[F29]=function(R29){return e29[2](e29[1](e29[0](R29)));}:4===G29&&(N29[F29]=function(i29){return e29[3](e29[2](e29[1](e29[0](i29))));});return P29;}function f29(a29){var x29=a29.indexOf("(")+1,k29=a29.lastIndexOf(")");return a29.substr(x29,k29-x29).split(",");}function D29(w29,A29){A29||(A29=6);w29||(w29=0);w29=w29.toString(16);for(var Y29=w29.length;Y29<A29;){w29="0"+w29,Y29++;}for(Y29=w29.length;Y29>A29;){w29=w29.substr(1),Y29--;}return"#"+w29;}function d29(r09){return{R:r09>>16,G:r09>>8&255,B:r09&255};}function X29(s09){return{R:s09>>16,G:s09>>8&255,B:s09&255,A:255};}function W29(g09){var M09=g09.R/255,o09=g09.G/255,O09=g09.B/255,c09=Math.min(M09,o09,O09),I09=Math.max(M09,o09,O09),n09=I09-c09,T09=void 0,y09=(I09+c09)/2;if(0===n09){c09=T09=0;}else{var c09=.5>y09?n09/(I09+c09):n09/(2-I09-c09),H09=((I09-M09)/6+n09/2)/n09,h09=((I09-o09)/6+n09/2)/n09,n09=((I09-O09)/6+n09/2)/n09;M09===I09?T09=n09-h09:o09===I09?T09=0.3333333333333333+H09-n09:O09===I09&&(T09=0.6666666666666666+h09-H09);0>T09&&(T09+=1);1<T09&&--T09;}return{H:360*T09,S:100*c09,L:100*y09,A:g09.A};}function U29(S09){var u09=S09.R/255,j09=S09.G/255,J09=S09.B/255,Z09=Math.max(u09,j09,J09),q09=Z09-Math.min(u09,j09,J09),E09=void 0,b09;if(0===q09){b09=E09=0;}else{b09=q09/Z09;var t09=((Z09-u09)/6+q09/2)/q09,K09=((Z09-j09)/6+q09/2)/q09,q09=((Z09-J09)/6+q09/2)/q09;u09===Z09?E09=q09-K09:j09===Z09?E09=0.3333333333333333+t09-q09:J09===Z09&&(E09=0.6666666666666666+K09-t09);0>E09&&(E09+=1);1<E09&&--E09;}return{H:360*E09,S:100*b09,V:100*Z09,A:S09.A};}function Q29(Q09){var l09=(Q09.H||0)/360,m09=(Q09.S||0)/100,B09=(Q09.L||0)/100,N09,f09,C09;0===m09?B09=m09=l09=B09:(f09=.5>B09?B09*(1+m09):B09+m09-m09*B09,N09=2*B09-f09,C09=l09+0.3333333333333333,0>C09&&(C09+=1),1<C09&&--C09,B09=1>6*C09?N09+6*(f09-N09)*C09:1>2*C09?f09:2>3*C09?N09+(f09-N09)*(0.6666666666666666-C09)*6:N09,C09=l09,0>C09&&(C09+=1),1<C09&&--C09,m09=1>6*C09?N09+6*(f09-N09)*C09:1>2*C09?f09:2>3*C09?N09+(f09-N09)*(0.6666666666666666-C09)*6:N09,C09=l09-0.3333333333333333,0>C09&&(C09+=1),1<C09&&--C09,l09=1>6*C09?N09+6*(f09-N09)*C09:1>2*C09?f09:2>3*C09?N09+(f09-N09)*(0.6666666666666666-C09)*6:N09);return{R:255*B09,G:255*m09,B:255*l09,A:Q09.A};}function z29(e09){var U09=e09.H/360,d09=e09.S/100,z09=e09.V/100,X09=void 0,W09=void 0,D09,F09,G09;if(0===d09){X09=W09=D09=Math.round(255*z09);}else{switch(1<=U09&&(U09=0),U09*=6,F09=U09-Math.floor(U09),G09=Math.round(255*z09*(1-d09)),D09=Math.round(255*z09*(1-d09*F09)),d09=Math.round(255*z09*(1-d09*(1-F09))),z09=Math.round(255*z09),Math.floor(U09)){case 0:X09=z09;W09=d09;D09=G09;break;case 1:X09=D09;W09=z09;D09=G09;break;case 2:X09=G09;W09=z09;D09=d09;break;case 3:X09=G09;W09=D09;D09=z09;break;case 4:X09=d09;W09=G09;D09=z09;break;case 5:X09=z09,W09=G09;}}return{R:X09,G:W09,B:D09,A:e09.A};}"undefined"===typeof sketch&&(global.sketch={});sketch.color=sketch.color||{};sketch.color.space=sketch.color.space||{};var N29={},l29={"HEX24>HSL":"HEX24>RGB>HSL","HEX32>HSLA":"HEX32>RGBA>HSLA","HEX24>CMYK":"HEX24>RGB>CMY>CMYK","RGB>CMYK":"RGB>CMY>CMYK"},B29={"#":function(p09,V09){p09.color=b29.HEX24_RGBA(b29.W3_HEX24(V09));p09.format="RGB";},rgba:function(P09,v09){P09.color=b29.W3_RGBA(v09);P09.format="RGB";},rgb:function(L09,R09){L09.color=b29.W3_RGBA(R09);L09.format="RGB";},hsla:function(i09,a09){i09.color=b29.W3_HSLA(a09);i09.format="HSL";},hsl:function(x09,k09){x09.color=b29.W3_HSLA(k09);x09.format="HSL";}},C29=sketch.colorSpace=function(){var Y09=this;var w09=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"black",A09=arguments[1];if(!(this instanceof C29)){return new C29(w09,A09);}if("string"===typeof w09){w09=w09.replace(/ /g,"");w09=w09.toLowerCase();if(m29[w09]){return B29["#"](this,m29[w09]),this.format="RGB",this;}for(var r39 in B29){if(0===w09.indexOf(r39)){return B29[r39](Y09,w09),Y09;}}this.color={R:0,G:0,B:0,A:255};this.format="RGB";return this;}w09.color?(this.color=w09.color,this.format=w09.format):(this.color=w09,this.format=A09);return this;},t29=C29.prototype;t29.setAlpha=function(s39){this.color.A=255*s39;return this;};t29.multAlpha=function(n39){this.color.A*=n39;return this;};t29.setSpace=function(I39){var T39=this.format;T39!==I39&&(this.color=b29(this.color,T39+">"+I39),this.format=I39);return this;};t29.toHEX24=function(){return b29.RGB_HEX24(this.toRGB().color);};t29.toHEX32=function(){return b29.RGBA_HEX32(this.toRGB().color);};t29.toRGB=function(){return this.setSpace("RGB");};t29.toHSL=function(){return this.setSpace("HSL");};t29.toHSV=function(){return this.setSpace("HSV");};t29.toCMYK=function(){return this.setSpace("CMYK");};t29.toHEXString=t29.toHEX24String=function(){return b29.HEX24_W3(this.toHEX24());};t29.toHEX32String=function(){return b29.HEX32_W3(this.toHEX32());};t29.toRGBString=function(){return b29.RGB_W3(this.toRGB().color);};t29.toHSLString=function(){return b29.HSL_W3(this.toHSL().color);};t29.toHSLAString=function(){return b29.HSLA_W3(this.toHSL().color);};t29.toCSS=function(){var c39=this.color;switch(this.format){case"RGB":return 255===c39.A?this.toHEXString():this.toRGBString();case"HSL":return 255===c39.A?this.toHSLString():this.toHSLAString();}};t29.isDark=function(){return 128>this.getW3Brightness();};t29.isLight=function(){return!this.isDark();};t29.desaturate=function(M39){return b29.desaturate(this,M39);};t29.saturate=function(o39){return b29.saturate(this,o39);};t29.greyscale=function(){return b29.grescale(this);};t29.lighten=function(O39){return b29.lighten(this,O39);};t29.darken=function(g39){return b29.darken(this,g39);};b29.desaturate=function(H39){var y39=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10,h39=C29(H39).toHSL();h39.color.S=Math.max(0,h39.color.S-y39);return h39;};b29.saturate=function(E39){var Z39=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10,q39=C29(E39).toHSL();q39.color.S=Math.min(100,q39.color.S+Z39);return q39;};b29.greyscale=function(u39){return C29(u39).desaturate(100);};b29.lighten=function(S39){var J39=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10,j39=C29(S39).toHSL();j39.color.L=Math.min(100,j39.color.L+J39);return j39;};b29.darken=function(t39){var b39=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10,K39=C29(t39).toHSL();K39.color.L=Math.max(0,K39.color.L-b39);return K39;};t29.isW3Contrast=function(C39){var N39=1<arguments.length&&void 0!==arguments[1]?arguments[1]:127,f39=2<arguments.length&&void 0!==arguments[2]?arguments[2]:500;C39=C39?new C29(C39).toRGB().color:{R:0,G:0,B:0};N39=this.getW3Brightness(C39)<=N39;f39=this.getW3Difference(C39)<=f39;return!(N39&&f39);};t29.getW3Brightness=function(){return b29.getW3Brightness(this.color,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{R:0,G:0,B:0});};t29.getW3Difference=function(){return b29.getW3Difference(this.color,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{R:0,G:0,B:0});};b29.isW3Contrast=function(B39,m39){m39=m39||{R:255,G:255,B:255};var l39=125>=b29.getW3Brightness(B39,m39);B39=500>=b29.getW3Difference(B39,m39);return!(l39&&B39);};b29.getW3Brightness=function(Q39,z39){return Math.abs((299*Q39.R+587*Q39.G+114*Q39.B)/1E3-(299*z39.R+587*z39.G+114*z39.B)/1E3);};b29.getW3Difference=function(D39,d39){return Math.max(D39.R,d39.R)-Math.min(D39.R,d39.R)+(Math.max(D39.G,d39.G)-Math.min(D39.G,d39.G))+(Math.max(D39.B,d39.B)-Math.min(D39.B,d39.B));};sketch.color.diff=b29.getW3Difference;b29.RGB_W3=function(W39){var X39=Math.round,U39=X39(W39.A/255*100)/100;return 1===U39||Number.isNaN(U39)?"rgb("+X39(W39.R)+", "+X39(W39.G)+", "+X39(W39.B)+")":"rgba("+X39(W39.R)+", "+X39(W39.G)+", "+X39(W39.B)+", "+U39+")";};b29.RGBA_W3=function(G39){var e39=Number.isFinite(G39.A)?Math.round(G39.A/255*100)/100:1;return"rgba("+Math.round(G39.R)+", "+Math.round(G39.G)+", "+Math.round(G39.B)+", "+e39+")";};b29.W3_RGB=function(F39){F39=f29(F39);return{R:parseFloat(F39[0]),G:parseFloat(F39[1]),B:parseFloat(F39[2])};};b29.W3_RGBA=function(p39){p39=f29(p39);return{R:parseFloat(p39[0]),G:parseFloat(p39[1]),B:parseFloat(p39[2]),A:255*parseFloat(p39[3]||1)};};b29.HSL_W3=function(V39){return"hsl("+(V39.H+.5>>0)+","+(V39.S+.5>>0)+"%,"+(V39.L+.5>>0)+"%)";};b29.HSLA_W3=function(P39){var v39=isFinite(P39.A)?P39.A/255:1;return"hsla("+(P39.H+.5>>0)+","+(P39.S+.5>>0)+"%,"+(P39.L+.5>>0)+"%,"+v39+")";};b29.W3_HSL=function(L39){L39=f29(L39);return{H:parseFloat(L39[0]),S:parseFloat(L39[1]),L:parseFloat(L39[2])};};b29.W3_HSLA=function(R39){R39=f29(R39);return{H:parseFloat(R39[0]),S:parseFloat(R39[1]),L:parseFloat(R39[2]),A:255*parseFloat(R39[3]||1)};};b29.W3_HEX=b29.W3_HEX24=function(i39){if("string"===typeof i39){return"#"===i39.substr(0,1)&&(i39=i39.substr(1)),3===i39.length&&(i39=i39[0]+i39[0]+i39[1]+i39[1]+i39[2]+i39[2]),parseInt("0x"+i39,16);}console.error(i39);};b29.W3_HEX32=function(a39){if("string"===typeof a39){return"#"===a39.substr(0,1)&&(a39=a39.substr(1)),3===a39.length&&(a39=a39[0]+a39[0]+a39[1]+a39[1]+a39[2]+a39[2]),6===a39.length?parseInt("0xFF"+a39,16):parseInt("0x"+a39,16);}console.error(a39);};b29.HEX_W3=D29;b29.HEX24_W3=D29;b29.HEX32_W3=function(x39){return 255===x39>>>24?b29.HEX_W3(x39-4278190080):b29.RGBA_W3(b29.HEX32_RGBA(x39));};b29.HEX_RGB=d29;b29.HEX24_RGB=d29;b29.HEX_RGBA=X29;b29.HEX24_RGBA=X29;b29.HEX32_RGBA=function(k39){return{R:k39>>>16&255,G:k39>>>8&255,B:k39&255,A:k39>>>24};};b29.RGBA_HEX32=function(w39){return(w39.A<<24|w39.R<<16|w39.G<<8|w39.B)>>>0;};b29.RGB_HEX24=b29.RGB_HEX=function(Y39){0>Y39.R&&(Y39.R=0);0>Y39.G&&(Y39.G=0);0>Y39.B&&(Y39.B=0);255<Y39.R&&(Y39.R=255);255<Y39.G&&(Y39.G=255);255<Y39.B&&(Y39.B=255);return Y39.R<<16|Y39.G<<8|Y39.B;};b29.RGB_CMY=function(A39){return{C:1-A39.R/255,M:1-A39.G/255,Y:1-A39.B/255};};b29.RGBA_HSLA=W29;b29.RGB_HSL=W29;b29.RGBA_HSVA=U29;b29.RGB_HSV=U29;b29.CMY_RGB=function(r59){return{R:Math.max(0,255*(1-r59.C)),G:Math.max(0,255*(1-r59.M)),B:Math.max(0,255*(1-r59.Y))};};b29.CMY_CMYK=function(n59){var I59=n59.C,T59=n59.M;n59=n59.Y;var s59=Math.min(n59,Math.min(T59,Math.min(I59,1))),I59=Math.round((I59-s59)/(1-s59)*100),T59=Math.round((T59-s59)/(1-s59)*100);n59=Math.round((n59-s59)/(1-s59)*100);s59=Math.round(100*s59);return{C:I59,M:T59,Y:n59,K:s59};};b29.CMYK_CMY=function(c59){return{C:c59.C*(1-c59.K)+c59.K,M:c59.M*(1-c59.K)+c59.K,Y:c59.Y*(1-c59.K)+c59.K};};b29.HSLA_RGBA=Q29;b29.HSL_RGB=Q29;b29.HSVA_RGBA=z29;b29.HSV_RGB=z29;var m29=sketch.color.webcolors={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",fuscia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};sketch.color.space=b29;}();void function(){function H59(J59,S59){J59=g59(J59);return S59&&M59.isCompositeMode[J59]?"source-over":J59;}function q59(K59,t59){K59=K59.precomputed;var b59=K59.blend;return b59&&b59.value===t59?b59:K59.blend={value:t59};}function g59(C59){C59=h59(C59,"source-over");return u59[C59]||C59;}function h59(N59,B59){if("string"===typeof N59){return N59||B59;}if(Array.isArray(N59)){for(var f59=0;f59<N59.length;f59++){if(y59.gco[N59[f59]]){return N59[f59];}}}return B59;}var y59=sketch.agent,Z59=sketch.detect,M59=sketch.style,o59=sketch.util.arrayToLookup;M59.getCssBlendMode=function(m59){var l59=m59.blend;m59=q59(m59,l59);if(m59.css){return m59.css;}l59=g59(l59);return M59.isBlendMode[l59]?m59.css=l59:m59.css="normal";};M59.getCtxBlendMode=function(z59,d59){if(z59){var D59=z59.blend,Q59=q59(z59,D59);null==d59&&(d59=!!Z59.useSafeGCO[z59.type]);return d59?Q59.safe||(Q59.safe=H59(D59,true)):Q59.unsafe||(Q59.unsafe=H59(D59));}};M59.getPixiBlendMode=function(X59,W59){X59=M59.getCtxBlendMode(X59,W59).toUpperCase().replace("-","_");return E59[X59]||0;};var E59={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,SOURCE_OUT:17,SOURCE_IN:18,DESTINATION_OUT:19,DESTINATION_IN:20};M59.setGlobalBlend=function(G59){var U59;a:if(Array.isArray(G59)){U59=0;for(var e59=G59.length;U59<e59;U59++){if(O59[G59[U59]]){U59=true;break a;}}U59=false;}else{U59=O59[G59];}sketch.globals.blend=U59?G59:"source-over";};M59.toBlendInternal=function(F59){F59=h59(F59,"normal");return j59[F59]||F59;};M59.toBlendNative=g59;var u59={normal:"source-over",disco:"lighter",erase:"destination-out"},j59={"source-over":"normal","destination-out":"erase"};M59.isBlendMode=o59("darken multiply color-burn lighter lighten screen color-dodge overlay soft-light hard-light difference exclusion hue saturation color luminosity disco".split(" "));M59.isCompositeMode=o59("source-in source-out source-atop destination-over destination-in destination-out destination-atop copy xor erase".split(" "));M59.isSourceOver=o59(["normal","source-over"]);var O59=Object.assign({},M59.isSourceOver,M59.isBlendMode,M59.isCompositeMode);}();void function(){function M99(){}function Z99(j99,u99){var J99=n99(u99);j99=sketch[j99]=function(){var K99=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b99=p59.parse(K99)||J99,C99=Number.isFinite(b99.opacity)?b99.opacity:1,N99=Number.isFinite(K99.opacity)?K99.opacity:1,t99=this.type=b99.type||"color";this.method=u99;this.blend=K99.blend||"normal";this.enabled="boolean"===typeof K99.enabled?K99.enabled:true;this.opacity=C99*N99;b99=K99.dna||b99[t99]||J99[t99];("undefined"===typeof b99?false:"object"===w59(b99))&&("gradient"===t99?b99=(C99=p59.paintServers[b99.type])?new C99(b99):new p59.LinearGradient(b99):"pattern"===t99&&(b99=new p59.Pattern(b99)));K99.shadowColor&&(this.shadowBlur=K99.shadowBlur||0,this.shadowColor=K99.shadowColor,this.shadowOffsetX=K99.shadowOffsetX||0,this.shadowOffsetY=K99.shadowOffsetY||0);"stroke"===u99?(this.lineDash=Array.isArray(K99.lineDash)?K99.lineDash:R59.lineDash,this.lineDashOffset=Number.isFinite(K99.lineDashOffset)?K99.lineDashOffset:R59.lineDashOffset,this.lineCap=K99.lineCap||R59.lineCap,this.lineJoin=K99.lineJoin||R59.lineJoin,this.lineWidth=Number.isFinite(K99.lineWidth)?K99.lineWidth:R59.lineWidth,this.miterLimit=Number.isFinite(K99.miterLimit)?K99.miterLimit:R59.miterLimit,this.alignment=Number.isFinite(K99.alignment)?K99.alignment:R59.alignment):"fill"!==u99&&("border"===u99?(this.lineWidth=Number.isFinite(K99.lineWidth)?K99.lineWidth:R59.lineWidth,this.radius=Number.isFinite(K99.radius)?K99.radius:R59.radius):"dropShadow"!==u99&&"innerShadow"!==u99&&"background"!==u99&&console.warn(u99,"not supported"));Object.defineProperties(this,{env:{value:{},writable:true}});this[t99]=b99;};var E99=j99.prototype=Object.create(p59.Paint.prototype);Object.defineProperties(E99,{dna:{get:function(){return this[this.type];}}});E99.env={};E99.copy=function(f99){return p59.copy(this,{compress:f99});};E99.clone=function(){var Q99=this;var m99=new j99(this),l99;for(l99 in h99){var B99=Q99[l99];B99&&(m99[l99]=B99.clone?B99.clone():B99);}return m99;};E99.cssify=function(D99){var z99=this[this.type];return z99.cssify?z99.cssify(D99):z99;};E99.svgify=function(X99,W99){var d99=this[this.type];return d99.svgify?d99.svgify(X99,W99):d99;};E99.stringify=function(U99){return U99?JSON.stringify(p59.copy(this,{compress:true})):JSON.stringify(this);};E99.hashify=function(){var p99=this;for(var G99="",e99=this[this.type],F99=0;F99<S99.length;F99++){G99+=p99[S99[F99]];}G99=e99.hashify?G99+e99.hashify():G99+e99;return s99.hashString(G99);};E99.refresh=function(){this.env.colorStops=null;"pattern"===this.type&&(this.pattern.lastModified=Date.now());};E99.getOuterWidth=function(){return o99.getOuterWidth(this);};E99.isDark=function(){return sketch.colorSpace(this.color).isW3Contrast("white");};var S99=function(){var V99=x59[u99]=new j99(i59[u99]),v99=V99.type,L99=V99[v99],P99=p59.paintServers,R99;for(R99 in P99){delete V99[R99];}P99=Object.keys(V99);V99[v99]=L99;return P99;}();}function n99(i99){return i59[i99]||i59.fill;}function H99(a99,x99){x99.lineDash&&(a99.setLineDash([]),a99.lineDashOffset=0);x99.shadowColor&&(a99.shadowColor="black",a99.shadowOffsetX=0,a99.shadowOffsetY=0,a99.shadowBlur=0);}function T99(I19,s19,n19,A99,w99){function o19(l19,z19,W19,U19,G19){if(E19){if(t19||c19&&"stroke"===z19&&"color"!==T19){var X19=B19;z19=L59.copy(l19.currentTransform);var Q19=new L59(z19).invert(),D19=l19.canvas.width,d19=l19.canvas.height,m19=V59.__ctx;m19.canvas.width=D19;m19.canvas.height=d19;L59.applyTransform(m19,z19);V59.setPaintOptions(m19,s19,w99);m19.globalAlpha=1;X19(m19,s19,true);X19=m19.globalCompositeOperation;m19.beginPath();m19.globalCompositeOperation="source-atop";if(Q19){var F19=Q19.point2d(0,0),p19=Q19.point2d(D19,0),V19=Q19.point2d(D19,d19),e19=Q19.point2d(0,d19);m19.moveTo(F19.x,F19.y);m19.lineTo(p19.x,p19.y);m19.lineTo(V19.x,V19.y);m19.lineTo(e19.x,e19.y);m19.closePath();}else{m19.rect(0,0,D19,d19);}U19(m19,W19,"fill",G19);Q19.applyTransform(m19);l19.setTransform(1,0,0,1,0,0);l19.globalAlpha=s19.opacity;l19.globalCompositeOperation=X19;l19.drawImage(m19.canvas,0,0,D19,d19);L59.applySetTransform(l19,z19);}else{w99.drawn||(y19||(w99.drawn=true),E19(l19,g19,A99)),U19(l19,W19,z19,G19);}}else{U19(l19,W19,z19,G19);}}function M19(v19,L19,R19,P19){v19[R19+"Style"]=L19;"color"===T19?g19(v19):(c19&&(P19||(P19=new L59()),P19.prepend(new L59().scale(H19,h19))),k99.transform&&(P19||(P19=new L59()),P19.prepend(k99.transform)),P19&&P19.applyTransform(v19),g19(v19),P19&&P19.applyInverseTransform(v19));}function B19(i19,a19){E19(i19,g19,A99);g19(i19,a19);}function g19(x19){y19?"fill"===A99?(x19.lineWidth=y19,x19.strokeStyle=x19.fillStyle,Z19(x19,"fill",O19),Z19(x19,"stroke",O19)):(x19.lineWidth=y19+s19.lineWidth,Z19(x19,A99,O19)):Z19(x19,A99,O19);}function Z19(k19,w19,Y19){if(Y19){k19[w19](Y19);}else{k19[w19]();}}function f19(s49,c49,M49){var A19=s19.pattern,r49=new L59();c19||r49.scale(H19,h19);var n49=s49.imageSmoothingEnabled;s49.imageSmoothingEnabled=A19.smoothing;var I49=A19.sx,T49=A19.sy;Number.isFinite(A19.sx+A19.sy)&&r49.scale(I49,T49);A19=A19.angle;Number.isFinite(A19)&&r49.rotate(A19);Number.isFinite(u19+j19)&&r49.translate(u19,j19);M19(s49,c49,M49,r49);s49.imageSmoothingEnabled=n49;}function K19(o49,O49,g49,h49){if(O49.inset){M19(o49,O49,g49,h49);}else{var y49=o49.globalAlpha;o49.globalAlpha=1;M19(o49,q19[q19.length-1],g49,h49);o49.globalAlpha=s19.opacity;M19(o49,O49,g49,h49);o49.globalAlpha=y49;}}function N19(J49,S49,K49){var E49=k99.angle,u49=k99.sx,j49=k99.sy,q49=k99.x1*J19,Z49=k99.y1*b19;if(1===u49&&1===j49){K19(J49,S49,K49);}else{c19&&(q49/=H19,Z49/=h19);var H49=new L59();H49.translate(q49,Z49);H49.rotate(-E49);H49.scale(u49,j49);H49.rotate(E49);H49.translate(-q49,-Z49);K19(J49,S49,K49,H49);}}function C19(C49,b49,N49){b49={angle:k99.angle,logarithmic:.7,reflect:false,reverse:false,coils:1.5,sharpen:0,sectors:k99.sectors,stops:k99.stops,cx:k99.cx,cy:k99.cy};var t49=global.STRenderer||(global.STRenderer=new ShaderToy());t49.setSize(Math.abs(J19+2),Math.abs(b19+2));t49.writeFragment(GLConicGradient(b49));t49._setU1i("reflect",b49.reflect);t49._setU1i("reverse",b49.reverse?-1:1);t49._setU1f("angle",b49.angle);t49._setU1f("logarithmic",b49.logarithmic);t49._setU1f("coils",b49.coils);t49._setU1f("sectors",b49.sectors);t49._setU1f("sharpen",b49.sharpen);t49._setU1f("sx",0>b49.scaleRatio?1+b49.scaleRatio:1);t49._setU1f("sy",0<b49.scaleRatio?1-b49.scaleRatio:1);t49._setU1f("cx",b49.cx);t49._setU1f("cy",b49.cy);t49.render();b49=C49.createPattern(t49.gl.canvas,"no-repeat");M19(C49,b49,N49);}var Y99=w99.bbox||n19.bbox||{},E19=w99.draw,y19=w99.offsetPath,O19=w99.path2D,c19=w99.applyLayerScaling,t19=!!w99.needsTemporaryCanvas,T19=s19.type,k99=s19[T19],q19=s19.env.colorStops||V59.cachePaint(n19,s19);n19=q19[0]||{};if("string"===typeof k99&&"color"===T19){o19(I19,A99,n19.color,M19);}else if(k99 instanceof V59.PaintServer){var u19=w99.x||0,j19=w99.y||0,r19=w99.scale||Y99.scale,H19=r19?r19.x:1,h19=r19?r19.y:1,S19=w99.width||Y99.width,Y99=w99.height||Y99.height,J19=S19*H19,b19=Y99*h19;if("gradient"===T19){Y99=V59.createGradient(I19,k99,q19,u19,j19,S19,Y99,c19?null:r19);r19=k99.type;if("linearGradient"===r19){o19(I19,A99,Y99,K19);return;}if("radialGradient"===r19){o19(I19,A99,Y99,N19);return;}if("conicGradient"===r19){o19(I19,A99,Y99,C19);return;}if("spiralGradient"===r19){o19(I19,A99,Y99,C19);return;}}"pattern"===T19&&((n19=n19.color)?(I19.__isCanvas2SVG&&(n19=I19.createPattern(n19.asset,n19.repeat)),o19(I19,A99,n19,f19)):console.error("Pattern is invalid",k99));}else{sketch.debug&&console.error("Invalid DNA",k99);}}function g99(f49,B49){if("color"===f49){return"passthrough"===B49||"transparent"===B49?f49={type:"color",color:B49}:(f49=sketch.colorSpace(B49),f49={type:"color",color:f49.toHEXString(),opacity:f49.color.A/255}),f49;}if("pattern"===f49){return k59.Pattern.parseCSS(B49);}if(q99[f49]){return k59.Gradient.parseCSS(B49);}}j.initSymbol();j.initSymbol();j.initSymbolIterator();var w59="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(m49){return typeof m49;}:function(l49){j.initSymbol();j.initSymbol();j.initSymbol();return l49&&"function"===typeof Symbol&&l49.constructor===Symbol&&l49!==Symbol.prototype?"symbol":typeof l49;},A59=function(Q49,z49,D49){z49 in Q49?Object.defineProperty(Q49,z49,{value:D49,enumerable:true,configurable:true,writable:true}):Q49[z49]=D49;return Q49;},O99=sketch.detect,I99=sketch.feature,x59=sketch.globals,o99=sketch.paintUtils,p59=sketch.style,s99=sketch.util;p59.Paint=M99;p59.paintMethods={background:"Background",border:"Border",fill:"Fill",stroke:"Stroke",dropShadow:"DropShadow",innerShadow:"InnerShadow"};M99.convert=function(X49,d49,e49){if(d49){X49.type!==d49&&(X49.type=d49);var W49=X49[d49];if(!W49||e49&&e49!==W49.type){var U49=p59.paintServers[d49],G49=p59._getDefaultMethod(X49.method);"color"===d49?X49[d49]=W49||G49.color:"gradient"===d49?W49?X49[d49]=W49.convertGradientType(e49):(U49||(U49=p59.paintServers.linearGradient),X49[d49]=new U49(W49||G49.gradient)):"pattern"===d49&&(X49[d49]=new U49(W49||G49.pattern));}return X49;}};p59.visible=function(F49){return!F49||0===F49.opacity||false===F49.enabled||"stroke"===F49.method&&0>=F49.lineWidth?false:true;};p59.invisible=function(p49){return!p59.visible(p49);};p59.create=function(){var P49=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},V49=arguments[1],V49=V49||P49.method||"fill";if((V49=p59.paintMethods[V49])&&sketch[V49]){return new sketch[V49](P49);}console.error(arguments);};var R59=p59._defaults={blend:"normal",opacity:1,alignment:"center",lineDash:"none",lineDashOffset:0,lineCap:"round",lineJoin:"miter",lineWidth:1,miterLimit:4,padding:0},h99=p59._types={color:"string",gradient:"string",pattern:"string"},c99=p59._attributes={type:"string",method:"string",enabled:"boolean",blend:"string",opacity:"float",shadowColor:"string",shadowBlur:"float",shadowOffsetX:"float",shadowOffsetY:"float",alignment:"string",lineDash:"array",lineDashOffset:"float",lineCap:"string",lineJoin:"string",lineWidth:"float",miterLimit:"float",padding:"float",color:"PaintServer",gradient:"PaintServer",pattern:"PaintServer"};p59.equals=function(a49,x49){if(!a49||!x49){return false;}for(var R49 in a49){var i49=c99[R49];if(null!=i49){var v49=a49[R49],L49=x49[R49];"PaintServer"===i49?(v49&&v49.stringify&&(v49=v49.stringify()),L49&&L49.stringify&&(L49=L49.stringify())):"array"===i49&&(v49=String(v49),L49=String(L49));if(v49!==L49){return false;}}}return true;};var Y59=[{color:"black",offset:0}];p59.cachePaint=function(Y49,k49){if(!k49){return Y59.slice(0);}var w49=k49.env;return(k49=p59.ensurePaintServer(k49))?Y49.useBackgroundOverlay?w49.colorStops=Y59.slice(0):"passthrough"===k49?"stamp"===Y49.type?w49.colorStops=[{color:"rgba(0,0,0,0)",offset:0}]:w49.colorStops=Y59.slice(0):k49.getColorStops?w49.colorStops=k49.getColorStops(Y49.seed,O99.useColorCycle[Y49.type]):w49.colorStops=[{color:k49||"black",offset:0}]:Y59.slice(0);};p59.setGlobalFromLayer=function(r79){var A49=r79.type;if("no"!==sketch.doc.toolkit.getConfigProperty(A49,"globalized")){var s79={},I79=sketch.attrs.__doNotCopyToGlobals;Object.keys(r79).forEach(function(T79){I79[T79]||(s79[T79]=r79[T79]);});sketch.config(A49,s79);p59.setGlobalBlend(s79.blend);for(var n79 in p59.paintMethods){(A49=r79[n79])&&p59.copyInto(A49,x59[n79]);}}};p59.ensurePaintServer=function(o79,c79){if(!o79||!c79&&!(c79=o79.type)){return"black";}var M79=o79[c79];if(M79){return M79;}var O79=o79.method,g79=x59[O79];return g79&&(M79=g79[c79])||(M79=n99(O79)[c79])?o79[c79]=M79:"black";};p59.toCSSBG=function(y79,H79){var h79=y79.cssify(),q79=y79.type;y79=p59.ensurePaintServer(y79);if(H79){"passthrough"===y79?H79.style.background="none":"gradient"===q79?(H79.style.background=h79,H79.style.webkitBackground=h79,H79.style.MozBackground=h79):H79.style.background=h79;}else{return"passthrough"===y79?"background: none":"gradient"===q79?"\n\t\t\tbackground: "+h79+";\n\t\t\tbackground: -webkit-"+h79+";\n\t\t\tbackground: -moz-"+h79+";\n\t\t":"background: "+h79;}};var i59={};p59._getDefaultMethod=n99;p59.renderPaint=function(K79){var j79=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},u79=new sketch.LayerBBox(j79),Z79=j79.pixelRatio||1,J79=Math.ceil(u79.width*Z79),S79=Math.ceil(u79.height*Z79),E79=j79.ctx||sketch.Context2D(J79,S79);return p59.loadOrCreate(K79).then(function(b79){E79.translate(u79.x,u79.y);E79.rect(0,0,J79,S79);E79.scale(Z79,Z79);p59.applyFill(E79,b79,{bbox:u79});E79.scale(1/Z79,1/Z79);return E79.canvas;});};p59.boot=function t79(){function C79(m79){function f79(Q79){var l79=p59.parse(B79[Q79]||I99.defaults[Q79]);return l79?l79[l79.type]:N79[Q79];}var B79=I99.defaults[m79]||{};return{type:(p59.parse(B79)||p59.parse("black")).type,color:f79("color"),gradient:f79("gradient"),pattern:f79("pattern")};}if(!t79.fired){t79.fired=true;var N79={color:"black",gradient:new p59.LinearGradient(),pattern:new p59.Pattern()};i59.fill=C79("fill");i59.background=C79("background");i59.stroke=C79("stroke");s99.forEach(p59.paintMethods,Z99);x59.currentPaint=x59.fill;}};var V59=sketch.style,L59=sketch.Matrix2D;V59.__ctx=sketch.Context2D();V59.apply=function(X79,z79){var d79=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};d79.draw&&(d79.drawn=false);var D79=z79.dropShadow;(D79=z79.dropShadows||D79&&[D79])&&D79.length&&D79.forEach(function(W79){return V59.applyDropShadow(X79,W79,z79,d79);});z79.stroke&&V59.applyStroke(X79,z79.stroke,z79,d79);z79.strokes&&z79.strokes.length&&z79.strokes.forEach(function(U79){return V59.applyStroke(X79,U79,z79,d79);});z79.fill&&V59.applyFill(X79,z79.fill,z79,d79);z79.fills&&z79.fills.length&&z79.fills.forEach(function(G79){return V59.applyFill(X79,G79,z79,d79);});D79=z79.innerShadow;(D79=z79.innerShadows||D79&&[D79])&&D79.length&&D79.forEach(function(e79){return V59.applyInnerShadow(X79,e79,z79,d79);});};V59.applyDropShadow=function(p79,F79,V79,P79){console.error("TODO",F79);};V59.applyInnerShadow=function(L79,v79,R79,i79){console.error("TODO",v79);};V59.applyFill=function(k79,a79,Y79){var x79=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(!V59.invisible(a79)){var w79=V59.setPaintOptions(k79,a79,x79);w79&&(x79=w79);T99(k79,a79,Y79,"fill",x79);H99(k79,a79);}};V59.applyStroke=function(n69,r69,T69){var s69=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(!V59.invisible(r69)){var A79=V59.setPaintOptions(n69,r69,s69);A79&&(s69=A79);var I69=(A79=r69[r69.type])&&A79.type;if("radialGradient"===I69||"pattern"===I69){A79.sx===A79.sy?n69.lineWidth/=A79.sx:(s69.applyLayerScaling=true,s69.needsTemporaryCanvas=true);}T99(n69,r69,T69,"stroke",s69);H99(n69,r69);}};V59.setPaintOptions=function(M69,c69){var o69=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},O69=sketch.doc&&sketch.doc.scale||1,g69=o69.opacity||c69.opacity,h69=o69.blend||c69.blend,y69=o69.lineCap||c69.lineCap,H69=o69.lineJoin||c69.lineJoin,q69=o69.lineWidth||c69.lineWidth;g69&&(M69.globalAlpha=g69);h69&&(M69.globalCompositeOperation=V59.toBlendNative(h69));y69&&(M69.lineCap=y69);H69&&(M69.lineJoin=H69);q69&&(M69.lineWidth=q69*O69);0<=c69.miterLimit&&(M69.miterLimit=c69.miterLimit);(O69=c69.lineDash)&&Array.isArray(O69)&&M69.setLineDash(O69);O69=c69.lineDashOffset;0<=O69&&(M69.lineDashOffset=O69);if(O69=c69.shadowColor){M69.shadowColor=O69,M69.shadowOffsetX=c69.shadowOffsetX||0,M69.shadowOffsetY=c69.shadowOffsetY||0,M69.shadowBlur=c69.shadowBlur||0;}if(o69.offsetPath&&"fill"===c69.method&&1!==c69.opacity){return o69=Object.assign({},o69),o69.needsTemporaryCanvas=true,o69;}};var P59=sketch.style;P59.copy=function(Z69,E69){return P59.copyInto(Z69,{},E69);};P59.copyInto=function(C69,J69){var t69=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(C69&&J69){var f69=t69.compress,m69=t69.excludeKeys,B69=t69.paintType||C69.type||J69.type,t69=t69.setDefaults;if(!f69||!P59.invisible(C69)){var K69=C69.type;if(K69&&K69!==J69.type){var N69=C69[K69];P59.Paint.convert(J69,K69,N69&&N69.type);}var K69=P59._types,N69=P59._defaults,l69=P59._attributes,S69;for(S69 in C69){var u69=C69[S69];if(!(null==u69||m69&&m69[S69])){var j69=l69[S69];if(null!=j69){if(f69){if("method"===S69){continue;}else if(B69&&K69[S69]&&S69!==B69){continue;}else if(N69[S69]===u69){continue;}}t69&&u69._setDefaults&&u69._setDefaults();if("array"===j69){J69[S69]=u69.slice();}else if("function"===typeof u69.clone){J69[S69]=u69.clone();}else if(K69[S69]){var j69=void 0,b69=S69;if("string"===typeof u69){"color"===b69?J69[b69]=u69:"gradient"===b69&&(J69[b69]=P59.Gradient.parseCSS(u69).gradient);}else if("undefined"===typeof u69?false:"object"===w59(u69)){j69=J69[b69];if(!j69||!j69.config||u69.type&&u69.type!==j69.type){if(P59.Paint.convert(J69,b69,u69.type),j69=J69[b69],!j69||!j69.config){continue;}}j69.config(u69);}f69&&j69&&j69.config&&(J69[b69]=j69.compressify());}else{J69[S69]=u69;}}}}return J69;}}};P59.copyStyles=function(U69,D69){var d69=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},W69=d69.mustExistOnDestination,Q69;for(Q69 in P59.paintMethods){var X69=U69[Q69];if(X69){var z69=D69[Q69];if(!z69){if(W69){continue;}z69=D69[Q69]={};}P59.copyInto(X69,z69,d69);}}return D69;};var r99=sketch.style;r99.paintFromSVG=function(G69){if(!G69){return"string"===typeof G69?G69:"pattern"===G69.type?r99.svgPattern.parse(G69):r99.svgGradient.parse(G69);}};var y99=sketch.globals,v59=sketch.style;v59.loadOrCreate=function(e69,p69){function F69(V69){return"pattern"===V69.type?v59.ensurePaintServer(V69).load(p69).return(V69):Promise.resolve(V69);}return e69?e69 instanceof v59.Paint?F69(e69):v59.validate(e69)?F69(v59.create(e69)):Promise.reject("loadOrCreate(...) Paint is invalid."):Promise.reject("loadOrCreate(...) Paint is undefined");};v59.loadPaintStack=function(L69){function R69(x69,k69){var a69=i69(x69,k69);if(!a69){return Promise.reject("404");}if("pattern"===a69.type){return v59.loadPattern(a69.pattern).then(function(){v59.cachePaint(x69,a69);}).catch(function(w69){console.error(w69);return Promise.reject("404");});}v59.cachePaint(x69,a69);return Promise.resolve();}function i69(Y69,A69){if(Y69[A69]){Y69="string"===typeof Y69[A69]?Y69[A69]=new v59.create(Y69,A69):Y69[A69];var r8J=Y69.type;Y69[r8J]||(Y69[r8J]=v59.ensurePaintServer(y99[A69],r8J));return Y69;}sketch.debug&&console.error("depreciated");}var P69=[],v69;for(v69 in v59.paintMethods){L69[v69]&&P69.push(R69(L69,v69));}return Promise.all(P69);};var k59=sketch.style;k59.parse=function(I8J){if(I8J){var s8J=I8J.type||k59.validate(I8J);if(s8J){if("string"===typeof I8J){return g99(s8J,I8J);}var n8J=I8J[s8J];if("undefined"===typeof n8J?false:"object"===w59(n8J)){return A59({type:s8J},s8J,n8J);}n8J||(n8J=I8J.dna);if("string"===typeof n8J){return g99(s8J,n8J);}if(n8J=I8J.value){return"pattern"===s8J?A59({type:s8J},s8J,{src:n8J}):A59({type:s8J},s8J,n8J);}sketch.debug&&console.error("Loosely defined style:",I8J);return{type:s8J};}}};var q99={gradient:true,linearGradient:true,radialGradient:true,conicGradient:true,spiralGradient:true},a59=sketch.style;a59.validate=function(T8J){if(T8J){if(T8J instanceof a59.Paint){return T8J.type;}var c8J="undefined"===typeof T8J?"undefined":w59(T8J);if("string"===c8J){var c8J=T8J.toLowerCase(),M8J;0===c8J.indexOf("#")?(M8J=c8J.length,M8J=4===M8J||7===M8J):M8J=0===c8J.indexOf("hsl")||0===c8J.indexOf("rgb")||"transparent"===c8J||"passthrough"===c8J||sketch.color.webcolors[c8J]?true:void 0;if(M8J){return"color";}if(a59.Gradient.validate(T8J,c8J)){return"gradient";}if(a59.Pattern.validate(T8J,c8J)){return"pattern";}}else if("object"===c8J){if(T8J.src){return"pattern";}if(T8J.stops){return"gradient";}T8J.type||(T8J.pattern&&(T8J.type="pattern"),T8J.gradient&&(T8J.type="gradient"),T8J.color&&(T8J.type="color"));if(T8J=T8J[T8J.type]||T8J.dna){return a59.validate(T8J);}}}};}();void function(){function R8J(){}function H8J(){}function Y8J(A8J){return new sketch.Matrix2D(A8J);}function w8J(T2J){var n2J=[];if(T2J){for(var I2J=0,c2J=T2J.length;I2J<c2J;I2J++){var r2J=T2J[I2J],s2J=r2J.color;"string"!==typeof s2J?sketch.debug&&console.error(s2J):("#"!==s2J[0]&&(s2J=sketch.colorSpace(s2J).toHEXString()),r2J=r2J.offset,0>r2J&&1<r2J||n2J.push({color:s2J,offset:r2J}));}}return n2J.length?n2J:P8J.slice(0);}function e8J(g2J,h2J){for(var o2J=0;o2J<h2J.length;o2J++){var M2J=h2J[o2J],O2J=M2J.offset,M2J=M2J.color;"string"===typeof M2J&&0<=O2J&&1>=O2J&&g2J.addColorStop(O2J,M2J);}return g2J;}function k8J(Z2J,E2J){var S2J=sketch.color.space,d2J=!!E2J.asCSSArray,B2J=E2J.blend||"Normal",q2J=!!E2J.reflect,D2J=E2J.resolution||1,K2J=E2J.seed,l2J=E2J.length||1,Q2J=E2J.H||0,m2J=E2J.S||0;E2J=E2J.L||0;for(var u2J=[],C2J=q2J?2:1,j2J=0,J2J=Z2J.length;j2J<J2J;j2J++){var t2J=Z2J[j2J];u2J.push({color:t2J.color,offset:t2J.offset/C2J});}if(q2J){for(q2J=Z2J.length;q2J--;){j2J=Z2J[q2J],u2J.push({color:j2J.color,offset:.5-j2J.offset/C2J+.5});}}Z2J=0;q2J=u2J[Z2J].color;C2J="string"===typeof q2J?"W3>HEX32>RGBA":"HEX32>RGBA";q2J=S2J(q2J,C2J);j2J=u2J[Z2J].offset;J2J=u2J[Z2J+1];if(!J2J){return u2J;}var t2J=[],N2J=S2J(J2J.color,C2J),J2J=u2J[Z2J+1].offset,b2J=void 0,z2J=void 0;sketch.color.blend?(z2J=sketch.color.blend.useAlphaBlend[B2J],b2J=sketch.color.blend[B2J]):(z2J=false,b2J=function(X2J,W2J){return X2J*W2J/255;});for(var K2J=sketch.PseudoRandom(K2J||1),f2J=0;f2J<l2J;f2J+=D2J){var y2J=void 0,y2J=f2J/l2J;y2J>J2J&&(Z2J++,u2J[Z2J]&&(q2J=N2J,j2J=J2J,u2J[Z2J+1]&&(N2J=S2J(u2J[Z2J+1].color,C2J),J2J=u2J[Z2J+1].offset)));y2J=(y2J-j2J)/(J2J-j2J);Infinity===y2J&&(y2J=0);var y2J=Math.max(0,y2J),H2J=1-y2J,y2J={R:q2J.R*H2J+N2J.R*y2J,G:q2J.G*H2J+N2J.G*y2J,B:q2J.B*H2J+N2J.B*y2J};"Normal"!==B2J||Q2J||m2J||E2J?(H2J=S2J.RGB_HSL(y2J),y2J=S2J.HSLA_RGBA({H:(H2J.H+K2J.toDouble()*Q2J+360)%360,S:Math.min(100,Math.max(0,H2J.S-K2J.toDouble()*m2J)),L:Math.min(100,Math.max(0,H2J.L-K2J.toDouble()*E2J)),A:255}),H2J=S2J.HSLA_RGBA({H:(H2J.H+K2J.toDouble()*Q2J+360)%360,S:Math.min(100,Math.max(0,H2J.S+K2J.toDouble()*m2J)),L:Math.min(100,Math.max(0,H2J.L+K2J.toDouble()*E2J)),A:255}),z2J?(y2J=b2J(y2J,H2J),y2J=S2J(y2J,"HEX32>RGBA>W3")):y2J=S2J.RGBA_W3({R:b2J(y2J.R,H2J.R),G:b2J(y2J.G,H2J.G),B:b2J(y2J.B,H2J.B),A:b2J(y2J.A,H2J.A)})):y2J=S2J.RGB_W3(y2J);H2J=f2J/l2J;d2J?t2J.push(y2J+" "+100*H2J+"%"):t2J.push({color:y2J,offset:H2J});}return t2J;}function f8J(U2J){this.angle=U2J.angle;this.stops=U2J.stops;this.fromString=U2J.fromString;}function x8J(p2J){if("string"!==typeof p2J){return null;}p2J=p2J.replace(/-(moz|ms|o|webkit)-/,"");var G2J=p2J.match(O8J.css);if(null==G2J){return null;}var V2J;V2J=G2J[1]||"top";var e2J=parseFloat(V2J);V2J=Number.isFinite(e2J)?(e2J%360+360)%360:i8J[V2J]||0;G2J=G2J[2].match(O8J.colorStop);for(e2J=0;e2J<G2J.length;e2J++){var F2J=G2J[e2J],P2J=F2J.match(O8J.color)[0],F2J=(F2J=F2J.substr(P2J.length).match(O8J.length))&&F2J[0];G2J[e2J]={color:P2J,position:F2J};}return new f8J({angle:V2J,stops:G2J,fromString:p2J});}function D8J(v2J){this.type="colorCycle";this.config(v2J);}function u8J(L2J){this.type="linearGradient";this.config(L2J);}function a8J(a2J){var i2J=new g8J(1,0),R2J=new g8J(0,0),k2J=new g8J(1,1),w2J=new g8J(0,1),x2J=new g8J(.5,.5),Y2J=g8J.atAngleDistance(x2J,a2J,999999);a2J=g8J.atAngleDistance(x2J,a2J+Math.PI,999999);R2J=p8J.toRectIntersection([Y2J,a2J],[R2J,i2J,k2J,w2J]);i2J=g8J.round(R2J[0],.001);R2J=g8J.round(R2J[1],.001);return{x0:i2J.x,y0:i2J.y,x1:R2J.x,y1:R2J.y};}function Z8J(A2J){this.type="radialGradient";this.config(A2J);}function v8J(T0J,n0J){var I0J=T0J.reflect||"no-reflect",O0J=T0J.repeat||"repeat",r0J=T0J.asset===n0J&&T0J.ctx||null,s0J=void 0,s0J=void 0,c0J=n0J.width,M0J=n0J.height;if("no-reflect"===I0J){"clipart"===n0J.assetType?(r0J=F8J(r0J,c0J,M0J),s0J=r0J.canvas,K8J(r0J,n0J,0,0)):(r0J=n0J.ctx,s0J=r0J.canvas);}else{var o0J=true===I0J||"reflect"===I0J||"reflect-x"===I0J,I0J=true===I0J||"reflect"===I0J||"reflect-y"===I0J;o0J&&(c0J*=2);I0J&&(M0J*=2);r0J=F8J(r0J,c0J,M0J);s0J=r0J.canvas;K8J(r0J,n0J,0,0);o0J&&(r0J.setTransform(-1,0,0,1,c0J,0),K8J(r0J,n0J,0,0));I0J&&(r0J.setTransform(1,0,0,-1,0,M0J),K8J(r0J,n0J,0,0),o0J&&(r0J.setTransform(-1,0,0,-1,c0J,M0J),K8J(r0J,n0J,0,0)));}sketch.agent.chrome64DrawImageBug&&(s0J=m8J.copy(s0J));s0J=r0J.createPattern(s0J,O0J);s0J.asset=n0J;s0J.hash=B8J(T0J.reflect+T0J.repeat+T0J.src+T0J.lastModified);s0J.src=b8J(T0J);s0J.toDataURL=function(g0J){return r0J.canvas.toDataURL(g0J);};s0J.width=c0J;s0J.height=M0J;s0J.repeat=O0J;T0J.asset=n0J;T0J.ctx=r0J;return s0J;}function K8J(y0J,h0J,H0J,q0J){"clipart"===h0J.assetType?(h0J.ctx=y0J,h0J.toCanvas(H0J,q0J,width,height),sketch.debug&&console.error("Handle svg reflection & scaling!")):y0J.drawImage(h0J,H0J,q0J);}function F8J(Z0J,E0J,u0J){if(Z0J){return m8J.resizeOrClear(Z0J.canvas,E0J,u0J),Z0J;}Z0J=m8J(E0J,u0J);Z0J.title="patternCanvas";return Z0J.ctx;}function X8J(J0J){if(J0J){var S0J=b8J(J0J),j0J=J8J[S0J];if(j0J&&j0J.hash===B8J(J0J.reflect+J0J.repeat+J0J.src+J0J.lastModified)){return j0J;}var j0J=J0J.src,K0J=sketch.generate;if(K0J.presets[j0J]){return J0J=K0J.media(j0J),J8J[j0J]=J0J.pattern;}if(j0J=z8J.getContent(S0J)){return J8J[S0J]=v8J(J0J,j0J);}}}function b8J(b0J){if(b0J){return sketch.loc.getMediaUrl(b0J.src);}}var q8J=sketch.style,G8J=sketch.util,Q8J=sketch.Matrix2D,o8J=R8J.prototype;o8J.clone=function(){return new this.constructor(this);};o8J.hashify=function(){var N0J=this;var t0J="",C0J=Object.keys(this),f0J;for(f0J in C0J){t0J+=N0J[C0J[f0J]];}this.lastModified&&(t0J+=this.lastModified);return G8J.hashString(t0J);};o8J.stringify=function(){return JSON.stringify(this);};o8J.compressify=function(){var Q0J=this;var m0J=G8J.assignDeep({},this),l0J=q8J.paintServers[this.type].defaults,B0J;for(B0J in l0J){Q0J[B0J]===l0J[B0J]&&delete m0J[B0J];}return m0J;};o8J._ensureGreaterThanZero=function(z0J){return Math.abs(0===z0J?z0J+.001:z0J);};o8J._setDefaults=function(){var X0J=this;delete this.transform;var D0J=q8J.paintServers[this.type].defaults,d0J;for(d0J in D0J){X0J[d0J]=D0J[d0J];}};o8J._setProperty=function(U0J,G0J,W0J,e0J,p0J,F0J){if(!p0J(W0J)){if(null==U0J[G0J]){if(void 0===e0J){return;}W0J=e0J;}else{return;}}U0J[G0J]=F0J?F0J(W0J):W0J;};o8J._setTransformFromBBox=function(R0J){var i0J=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},v0J=Math.abs(R0J.scale.x),L0J=Math.abs(R0J.scale.y);if(1===v0J&&1===L0J){this.transform=new Q8J();}else{var V0J=1,P0J=1;R0J.width*v0J>R0J.height*L0J?(P0J=v0J/L0J,this.y0/=P0J,this.y1/=P0J):(V0J=L0J/v0J,this.x0/=V0J,this.x1/=V0J);i0J.applyScale&&(this.sy/=P0J,this.sx/=V0J);this.transform=new Q8J().scale(V0J,P0J);}};q8J.paintServers={};q8J.paintServers.color=function(){};q8J.PaintServer=R8J;q8J.copyPaintServer=function(a0J){return a0J.clone?a0J.clone():a0J;};j.initSymbol();j.initSymbol();j.initSymbolIterator();var V8J="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(x0J){return typeof x0J;}:function(k0J){j.initSymbol();j.initSymbol();j.initSymbol();return k0J&&"function"===typeof Symbol&&k0J.constructor===Symbol&&k0J!==Symbol.prototype?"symbol":typeof k0J;},h8J=sketch.style,d8J=sketch.util;H8J.defaults={noise:0,spreadMethod:"pad",transform:void 0};var t8J={};H8J.emptyCache=function(){return t8J={};};o8J=H8J.prototype=Object.create(h8J.PaintServer.prototype);o8J.convertGradientType=function(Y0J){var w0J=h8J.paintServers[Y0J];if(this.type===w0J.type){return this;}Y0J=this.noise;var A0J=this.stops,w0J=new w0J();Y0J&&(w0J.noise=Y0J);A0J&&(w0J.stops=A0J);return w0J;};o8J.cssify=function(){return h8J.CSSGradient.stringify(this);};o8J.hashify=function(){var M3J=this;for(var r3J="",T3J=Object.keys(this),n3J=0,o3J=T3J.length;n3J<o3J;n3J++){var s3J=T3J[n3J];if("stops"===s3J){for(var s3J=this.stops,I3J=0,O3J=s3J.length;I3J<O3J;I3J++){var c3J=s3J[I3J],r3J=r3J+c3J.color,r3J=r3J+c3J.offset;}}else{r3J+=M3J[s3J];}}return d8J.hashString(r3J);};o8J.svgify=function(g3J,h3J){return h8J.svgGradient.compose(this,g3J,h3J);};o8J.getColorStops=function(E3J,y3J){var H3J=this.stops,q3J=this.noise,Z3J="reflect"===this.spreadMethod;if(!H3J.length){return[{color:"black",offset:0}];}if(!q3J&&!Z3J&&!y3J){return H3J;}y3J=d8J.hashString(JSON.stringify(H3J)+q3J+Z3J);return t8J[y3J]?t8J[y3J]:t8J[y3J]=h8J.getGradientStops(H3J,{length:500,noise:q3J,reflect:Z3J,seed:E3J});};o8J._setGradientOptions=function(J3J,u3J){var S3J=H8J.defaults,j3J=u3J._setProperty;j3J(u3J,"noise",J3J.noise,S3J.noise,Galactic.is.numberLike);j3J(u3J,"spreadMethod",J3J.spreadMethod,S3J.spreadMethod,Galactic.is.string);j3J(u3J,"stops",J3J.stops,[],Galactic.is.array,w8J);j3J(u3J,"transform",J3J.transform,S3J.transform,Galactic.is.object,Y8J);};var P8J=[{color:"#ffff00",offset:0},{color:"#00ffff",offset:1}];h8J.createGradient=function(K3J,b3J,Q3J,f3J,C3J,B3J,t3J,N3J){K3J||(K3J=h8J.__ctx);N3J&&(B3J*=N3J.x,t3J*=N3J.y);var l3J=b3J.type;N3J=b3J.x0*B3J+f3J;var m3J=b3J.y0*t3J+C3J;f3J=b3J.x1*B3J+f3J;C3J=b3J.y1*t3J+C3J;if("conicGradient"===l3J||"spiralGradient"===l3J){return K3J={inset:true};}if("radialGradient"===l3J){return t3J=Math.max(Math.abs(B3J),Math.abs(t3J)),B3J=Math.max(0,b3J.r0*t3J),b3J=Math.max(0,b3J.r1*t3J),t3J=Math.ceil(Math.sqrt(Math.pow(f3J-N3J,2)+Math.pow(C3J-m3J,2))),K3J=K3J.createRadialGradient(N3J,m3J,B3J,f3J,C3J,b3J),K3J.inset=B3J+b3J>t3J,e8J(K3J,Q3J);}N3J===f3J&&(f3J+=.1);m3J===C3J&&(C3J+=.1);K3J=K3J.createLinearGradient(N3J,m3J,f3J,C3J);K3J.inset=true;return e8J(K3J,Q3J);};H8J.parse=function(z3J){var D3J="undefined"===typeof z3J?"undefined":V8J(z3J);if("string"===D3J){return H8J.parseCSS(z3J);}if("object"===D3J){if("linearGradient"===z3J.type){return new h8J.LinearGradient(z3J);}if("radialGradient"===z3J.type){return new h8J.RadialGradient(z3J);}}};H8J.parseCSS=function(d3J){if(d3J.startsWith("linear-gradient")||d3J.startsWith("radial-gradient")){return d3J=(d3J=h8J.CSSGradient.parse(d3J))?{type:"gradient",gradient:new h8J.LinearGradient(d3J)}:void 0,d3J;}};H8J.validate=function(W3J,X3J){return X3J&&X3J.indexOf?-1!==X3J.indexOf("linear-gradient")||-1!==X3J.indexOf("radial-gradient")?true:false:false;};h8J.Gradient=H8J;sketch.style.getGradientStops=function(F3J){var U3J=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},p3J=!!U3J.asCSSArray,G3J=U3J.noise||0,e3J=U3J.blend||(G3J?"Luminosity":""),V3J=!!U3J.reflect,P3J=U3J.seed||1;if(!Array.isArray(F3J)){return console.error("Color Stops must be an Array!",F3J),[];}(U3J=U3J.length)||!V3J&&!G3J||(U3J=Number.isFinite(G3J)?G3J:500);if(U3J){return k8J(F3J,{asCSSArray:p3J,seed:P3J,blend:e3J,reflect:V3J,length:U3J,resolution:1,H:G3J?10:0,S:G3J?20:0,L:G3J?10:0});}p3J=!!p3J;G3J=[];e3J=0;for(V3J=F3J.length;e3J<V3J;e3J++){U3J=F3J[e3J],P3J=U3J.offset,U3J=U3J.color,p3J?G3J.push(U3J+" "+100*P3J+"%"):G3J.push({color:U3J,offset:P3J});}return G3J;};var U8J=sketch.style,C8J=sketch.util;f8J.stringify=function(L3J){var v3J=L3J.angle*C8J.RAD_DEG,v3J=Number.isFinite(v3J)?C8J.roundDegree(v3J-270)+"deg":v3J||"0deg",R3J=L3J.stops;"string"!==typeof R3J&&(R3J=U8J.getGradientStops(R3J,{asCSSArray:true,noise:L3J.noise}));return"radialGradient"===L3J.type?"radial-gradient(circle at "+Math.round(100*L3J.x0)+"% "+Math.round(100*L3J.y0)+"%, "+R3J.join(", ")+")":"linear-gradient("+v3J+", "+R3J.join(", ")+")";};f8J.parse=function(x3J){if(x3J=x8J(x3J)){for(var w3J=[],Y3J=x3J.stops,k3J=Y3J.length-1,a3J=0;a3J<=k3J;a3J++){var i3J,A3J=Y3J[a3J];(i3J=A3J.position)?(-1!==i3J.indexOf("%")&&(i3J=parseFloat(i3J)/100),i3J=Number.isFinite(i3J)?i3J:a3J/k3J):i3J=a3J/k3J;w3J.push({color:new sketch.colorSpace(A3J.color).toCSS(),offset:i3J});}return{angle:C8J.roundDegree(x3J.angle+270)*C8J.DEG_RAD,stops:w3J};}};RegExp.create=function(s5J,T5J,c5J){for(var n5J in T5J){var r5J=T5J[n5J],I5J=new RegExp("{{"+n5J+"}}","gi");r5J.source&&(r5J=r5J.source.replace(/^\^|\$$/g,""));s5J=s5J.replace(new RegExp("\\("+I5J.source+"\\)","gi"),"("+r5J+")");s5J=s5J.replace(I5J,"(?:"+r5J+")");}return new RegExp(s5J,c5J);};var i8J={"to left":270,"to left bottom":225,"to bottom":180,"to right bottom":135,"to right":90,"to right top":45,"to top":0,"to left top":315},O8J={number:/^-?[0-9]*\.?[0-9]+$/,keyword:/^(?:to\s|)(?:top\s+|bottom\s+)?(?:right|left)|(?:to\s|)(?:right\s+|left\s+)?(?:top|bottom)$/,blah:/circle closest-side at 50% 50%/};O8J.direction=RegExp.create("^(?:{{keyword}}|{{blah}}|{{number}}deg|0)$",{blah:O8J.blah,keyword:O8J.keyword,number:O8J.number});O8J.color=RegExp.create("(?:{{keyword}}|{{func}}|{{hex}})",{keyword:/^(?:red|tan|grey|gray|lime|navy|blue|teal|aqua|cyan|gold|peru|pink|plum|snow|[a-z]{5,20})$/,func:RegExp.create("^(?:rgb|hsl)a?\\((?:\\s*{{number}}%?\\s*,?\\s*){3,4}\\)$",{number:O8J.number}),hex:/^#(?:[0-9a-f]{1,2}){3}$/i},"i");O8J.percentage=RegExp.create("^(?:{{number}}%|0)$",{number:O8J.number});O8J.length=RegExp.create("{{number}}{{unit}}|0",{number:O8J.number,unit:/%|px|mm|cm|in|em|rem|en|ex|ch|vm|vw|vh/});O8J.colorStop=RegExp.create("{{color}}\\s*{{length}}?",{color:O8J.color,length:O8J.length},"gi");O8J.type=/linear-gradient|radial-gradient/;O8J.css=RegExp.create("^{{type}}\\(\\s*(?:({{direction}})\\s*,)?\\s*({{colorstop}}\\s*(?:,\\s*{{colorstop}}\\s*)+)\\)$",{type:O8J.type,direction:O8J.direction,colorStop:O8J.colorStop},"i");U8J.CSSGradient=f8J;o8J=sketch.style;(D8J.prototype=Object.create(o8J.Gradient.prototype)).config=function(){this._setGradientOptions(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},this);};o8J.ColorCycle=D8J;o8J.paintServers.colorCycle=D8J;var S8J=sketch.style,p8J=sketch.Line,g8J=sketch.Point,o8J=S8J.Gradient;u8J.type="linearGradient";u8J.defaults=Object.assign({x0:0,y0:.5,x1:1,y1:.5},o8J.defaults);o8J=u8J.prototype=Object.create(o8J.prototype);o8J.constructor=u8J;o8J.config=function(){var M5J=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o5J=Galactic.is.float,O5J=this._setProperty;this._setGradientOptions(M5J,this);if(M5J.hasOwnProperty("angle")&&Number.isFinite(M5J.angle)&&!(M5J instanceof S8J.PaintServer)){return Object.assign(this,a8J(M5J.angle)),this;}O5J(this,"x0",M5J.x0,0,o5J);O5J(this,"y0",M5J.y0,.5,o5J);O5J(this,"x1",M5J.x1,1,o5J);O5J(this,"y1",M5J.y1,.5,o5J);return this;};Object.defineProperties(o8J,{angle:{set:function(g5J){if(Number.isFinite(g5J)){g5J-=this.angle;var h5J=new g8J(this.x0,this.y0),y5J=new g8J(this.x1,this.y1),H5J=g8J.atTimeOnLine(h5J,y5J,.5),h5J=g8J.rotateAt(h5J,H5J,g5J);g5J=g8J.rotateAt(y5J,H5J,g5J);this.x0=h5J.x;this.y0=h5J.y;this.x1=g5J.x;this.y1=g5J.y;}},get:function(){var q5J=2*Math.PI,Z5J=new g8J(this.x0,this.y0),E5J=new g8J(this.x1,this.y1);return(g8J.angle(Z5J,E5J)+q5J)%q5J;}}});S8J.LinearGradient=u8J;S8J.paintServers.linearGradient=u8J;var o8J=sketch.style,E8J=o8J.Gradient;Z8J.type="radialGradient";Z8J.defaults=Object.assign({x0:.5,y0:.5,r0:0,x1:.5,y1:.5,r1:.5,sx:1,sy:1,angle:0},E8J.defaults);E8J=Z8J.prototype=Object.create(E8J.prototype);E8J.constructor=Z8J;E8J.config=function(){var u5J=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},S5J=this._ensureGreaterThanZero,j5J=Galactic.is.float,J5J=this._setProperty;this._setGradientOptions(u5J,this);J5J(this,"x0",u5J.x0,.5,j5J);J5J(this,"y0",u5J.y0,.5,j5J);J5J(this,"r0",u5J.r0,0,j5J);J5J(this,"x1",u5J.x1,.5,j5J);J5J(this,"y1",u5J.y1,.5,j5J);J5J(this,"r1",u5J.r1,.5,j5J);J5J(this,"sx",u5J.sx,1,j5J,S5J);J5J(this,"sy",u5J.sy,1,j5J,S5J);J5J(this,"angle",u5J.angle,0,j5J);return this;};o8J.RadialGradient=Z8J;o8J.paintServers.radialGradient=Z8J;var W8J=sketch.style,L8J=sketch.util,l8J=sketch.Matrix2D,o8J=W8J.svgGradient={};o8J.parse=function(K5J){};o8J.compose=function(C5J,W5J,p5J){function e5J(){var P5J=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new l8J();p5J&&P5J.multiply(new l8J(p5J).invert());m5J&&P5J.translate(-m5J.e/m5J.a,-m5J.f/m5J.d);return P5J;}function F5J(L5J,i5J){var a5J=C5J.angle||0,v5J=e5J(new l8J()),R5J=W5J.bbox.padding;v5J.translate(d5J-R5J,X5J-R5J);Number.isFinite(L5J+i5J)&&v5J.scale(L5J,i5J);v5J.rotate(-a5J);L5J=U5J/G5J;Math.abs(B5J*U5J)>Math.abs(f5J*G5J)?v5J.scale(1,L5J):v5J.scale(1/L5J,1);v5J.translate(-d5J,-X5J);return v5J;}var D5J=C5J.type,b5J=W8J.getGradientStops(C5J.stops,{noise:C5J.noise}),t5J=W5J.bbox,B5J=t5J.width,f5J=t5J.height,m5J=void 0;W5J.svg&&(B5J=t5J.assetWidth,f5J=t5J.assetHeight,m5J=W5J.svg.setPlacement({width:B5J,height:f5J}));var U5J=t5J.scale.x,G5J=t5J.scale.y,N5J=C5J.x0*B5J,l5J=C5J.y0*f5J,d5J=C5J.x1*B5J,X5J=C5J.y1*f5J,t5J=C5J.r1,b5J={type:D5J,stops:b5J};if("radialGradient"===D5J){var D5J=C5J.sx||.001,V5J=C5J.sy||.001,z5J=F5J(),Q5J=W5J.svg;Q5J&&(Q5J=Q5J.viewBox,z5J.invert(),e5J(z5J),z5J.translate(Q5J[0],Q5J[1]));N5J=z5J.point2d(N5J,l5J);l5J=z5J.point2d(d5J,X5J);b5J.gradientUnits="userSpaceOnUse";b5J.gradientTransform=F5J(D5J,V5J);b5J.fx=N5J.x;b5J.fy=N5J.y;b5J.cx=l5J.x;b5J.cy=l5J.y;b5J.r=Math.abs(U5J*B5J)>Math.abs(G5J*f5J)?t5J*B5J:t5J*f5J;}else{t5J=e5J(),N5J=t5J.point2d(N5J,l5J),t5J=t5J.point2d(d5J,X5J),b5J.gradientUnits="userSpaceOnUse",b5J.x1=N5J.x,b5J.y1=N5J.y,b5J.x2=t5J.x,b5J.y2=t5J.y;}b5J.id="dna_"+L8J.hashString(JSON.stringify(b5J));return new sketch.SVG.Gradient(b5J);};o8J=sketch.style.svgPattern={};o8J.parse=function(x5J){};o8J.compose=function(k5J,w5J,Y5J){};var z8J=sketch.assets,j8J=sketch.style,o8J=sketch.util,N8J=o8J.defineProperties,B8J=o8J.hashString,m8J=sketch.Canvas2D,y8J=j8J.Pattern=function(){var A5J=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.type="pattern";this.config(A5J);N8J(this,"ctx");N8J(this,"asset");N8J(this,"lastModified");};y8J.type="pattern";y8J.defaults={x0:.5,y0:.5,x1:1,y1:1,sx:1,sy:1};var J8J={};y8J.emptyCache=function(){return J8J={};};y8J.parseCSS=function(s9J){var r9J=s9J.match(/(?:\(['|"]?)(.*?)(?:['|"]?\))/);r9J&&r9J[1]&&(s9J=r9J[1]);return{type:"pattern",pattern:new y8J({src:s9J})};};y8J.validate=function(I9J,n9J){return n9J&&n9J.indexOf?0===n9J.indexOf("#asset-")||0===n9J.indexOf("data:")||0===n9J.indexOf("blob:")||0===n9J.indexOf("filesystem:")||0===n9J.indexOf("http:")||0===n9J.indexOf("https:")||0===n9J.indexOf("url(")||-1<n9J.indexOf("/")&&-1<n9J.indexOf(".")||!!sketch.generate.presets[I9J]:false;};o8J=y8J.prototype=Object.create(j8J.PaintServer.prototype);o8J.constructor=y8J;o8J.config=function(){var T9J=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},O9J=this._ensureGreaterThanZero,g9J=Galactic.is.boolean,M9J=Galactic.is.float,o9J=Galactic.is.string,c9J=this._setProperty;c9J(this,"x0",T9J.x0,.5,M9J);c9J(this,"y0",T9J.y0,.5,M9J);c9J(this,"x1",T9J.x1,1,M9J);c9J(this,"y1",T9J.y1,1,M9J);c9J(this,"sx",T9J.sx,1,M9J,O9J);c9J(this,"sy",T9J.sy,1,M9J,O9J);c9J(this,"reflect",T9J.reflect,"no-reflect",o9J);c9J(this,"repeat",T9J.repeat,"repeat",o9J);c9J(this,"smoothing",T9J.smoothing,true,g9J);c9J(this,"src",T9J.src,"data:image/gif;base64,R0lGODlhDgAOAID/ANDu/FOdvCwAAAAADgAOAAACHYwDh5fazqKcj05rar5q+w961diVi9g9jaaGkFEAADs=",o9J);};o8J.clone=function(){return new y8J(this);};o8J.getColorStops=function(){var h9J=X8J(this);h9J||console.error(this,"do something better");return[{color:h9J||"black",offset:0}];};o8J.cssify=function(){return"url('"+b8J(this)+"')";};o8J.load=function(y9J){return j8J.loadPattern(this,y9J);};j8J.loadPattern=function(H9J,E9J){if(!H9J){return Promise.reject("Pattern must be defined!");}var Z9J=X8J(H9J);if(Z9J){return Promise.resolve(Z9J);}var q9J=b8J(H9J);return q9J?z8J.add(q9J,E9J).then(function(u9J){return v8J(H9J,u9J);}).catch(function(){throw'The pattern "'+q9J+'" could not be loaded!';}):Promise.reject("Src must be defined!");};o8J.svgify=function(S9J){var j9J=S9J.bbox,J9J=X8J(this),K9J=J9J.asset,J9J={id:"dna_"+B8J(this.stringify()),src:b8J(this),pattern:J9J,width:K9J.width,height:K9J.height};if(j9J.assetWidth||j9J.assetHeight){K9J=j9J.assetWidth/j9J.width*this.sx;j9J=j9J.assetHeight/j9J.height*this.sy;S9J=S9J.svg.viewBox;var b9J=J9J.patternTransform=new sketch.Matrix2D();b9J.translate(S9J[0],S9J[1]);b9J.scale(K9J,j9J);}return new sketch.SVG.Pattern(J9J);};j8J.paintServers.pattern=y8J;}();void function(){function t9J(m9J,C9J){var f9J=global.jsondiffpatch,N9J=m9J.scene,B9J=sketch.util;C9J.diff=function(z9J,W9J){if(z9J||W9J){if(Array.isArray(z9J)){for(var U9J={},D9J=0;D9J<z9J.length;D9J++){var l9J=sketch.copyConfig(z9J[D9J],{},{compress:true})||null,d9J=sketch.copyConfig(W9J[D9J],{},{compress:true})||null,Q9J=l9J&&l9J.id,X9J=d9J&&d9J.id;Q9J&&X9J&&Q9J!==X9J||(Q9J=Q9J||X9J,(l9J=f9J.diff(l9J,d9J))&&(U9J[Q9J]=l9J));}return U9J;}return f9J.diff(z9J,W9J);}};C9J.diffFromChanges=function(e9J){var G9J=e9J.from,F9J=e9J.to;delete e9J.from;delete e9J.to;if(G9J&&F9J&&(G9J=C9J.diff(G9J,F9J),!B9J.isEmpty(G9J))){return e9J.deltas=G9J;}};C9J.patch=function(v9J,i9J){var a9J=[],x9J=[],p9J=[],V9J=[],L9J;for(L9J in v9J){var P9J=v9J[L9J];null===P9J[0]?i9J?p9J.push(L9J):V9J.push(P9J[1]):null===P9J[1]&&(i9J?V9J.push(P9J[0]):p9J.push(L9J));}p9J.length&&p9J.forEach(function(k9J){return N9J.remove(k9J,{recordHistory:false});});V9J.length&&V9J.forEach(function(w9J){return N9J._insertChild(w9J,w9J.idx);});for(var R9J in v9J){p9J=v9J[R9J],null!==p9J[0]&&null!==p9J[1]&&(V9J=N9J.getById(R9J,true),null==V9J?console.log(R9J):(i9J?f9J.unpatch(V9J,p9J):f9J.patch(V9J,p9J),x9J.push(C9J.decompress(V9J,p9J)),a9J.push(V9J.id)));}return Promise.all(x9J).then(function(){return a9J;});};C9J.unpatch=function(Y9J){return C9J.patch(Y9J,true);};C9J.decompress=function(A9J,r1J){A9J.dirtyHash=true;r1J.type&&(A9J.brush=null);A9J.fill&&r1J.fill&&(A9J.fill=new sketch.Fill(A9J.fill));A9J.stroke&&r1J.stroke&&(A9J.stroke=new sketch.Stroke(A9J.stroke));N9J.decompress(A9J);N9J.setDirtyPixelData(A9J);r1J.svgPatch&&A9J._svgApplyPatch();0<=r1J.idx&&(N9J.dirtyIndex=true);if(r1J.bbox||r1J.type){A9J.dirtyTransform=true,A9J.inBounds=null;}return A9J.load().then(function(){A9J.updateBoundingBox();return A9J;});};}sketch.module.History=function(n1J){function h1J(q1J){var u1J=q1J.cmd,E1J=q1J.cmdSource||{};q1J=q1J.steps;for(var Z1J=[];q1J--;){"undo"===u1J?Z1J.push(H1J(q1J,E1J)):Z1J.push(y1J(q1J,E1J));}return Promise.resolve(Z1J);}function H1J(J1J,S1J){if(s1J.canUndo()){s1J.current=Math.max(0,--s1J.current);var j1J=s1J.recording[s1J.current+1];if(j1J){return s1J.index!==s1J.current&&(n1J.emit("undo-step",j1J),s1J.applyChanges(j1J,{cmdSource:S1J,undo:true,steps:J1J})),j1J;}}}function y1J(b1J,t1J){if(s1J.canRedo()){var K1J=s1J.recording;s1J.current=Math.min(K1J.length-1,++s1J.current);if(K1J=K1J[s1J.current]){return s1J.index!==s1J.current&&(n1J.emit("redo-step",K1J),s1J.applyChanges(K1J,{cmdSource:t1J,undo:false,steps:b1J})),K1J;}}}function O1J(C1J,N1J){N1J.viaPlayback||(I1J.autoSelect&&n1J.inSelectTool()?(n1J.hovered.empty(),n1J.selection.empty(),n1J.selection.ids(C1J),g1J.dirtyControls=true):c1J.deselectAll());}var s1J=this,g1J=n1J.render,c1J=n1J.scene,I1J=sketch.feature.history;Object.defineProperties(s1J,{length:{get:function(){return s1J.recording.length;}}});var o1J=s1J.handlers={},M1J={},T1J={};t9J(n1J,s1J);s1J.register=function(f1J,B1J){var m1J=B1J.apply,l1J=B1J.compress;M1J[f1J]=B1J.serialize;T1J[f1J]=l1J;o1J[f1J]=function(d1J){function D1J(X1J){if(z1J.viaPeer){return Q1J;}O1J(X1J,z1J);return Q1J;}var z1J=d1J.cmdSource,Q1J=m1J.apply(void 0,arguments);return Q1J&&Q1J.then?Q1J.then(D1J):D1J(Q1J);};};s1J.store=function(F1J,U1J){var G1J=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},v1J=G1J.autoSave||true,G1J=G1J.cmdSource||{};U1J=U1J?U1J:{cmd:F1J,name:F1J,data:[]};var W1J=U1J.data;if(!W1J){throw"history.store(...) Packet is empty.";}U1J.cmd=F1J;U1J.timestamp=n1J.timestamp();U1J.userId=G1J.userId||sketch.user.id;if(T1J[F1J]){U1J=T1J[F1J](U1J);}else if(W1J.from&&W1J.to){if(Array.isArray(W1J.from)){for(var e1J=W1J.from,p1J=[],V1J=0,L1J=e1J.length;V1J<L1J;V1J++){var P1J=e1J[V1J];P1J&&p1J.push(P1J.id);}W1J.selection=p1J;}s1J.diffFromChanges(W1J);if(!W1J.deltas){return;}}W1J=s1J.recording;e1J=W1J.length;(p1J=e1J-s1J.current-1)&&W1J.splice(e1J-p1J,e1J);W1J.length>s1J.max&&-1!==s1J.max&&W1J.shift();W1J.push(U1J);s1J.current=s1J.index=W1J.length-1;n1J.emit("change",{op:"HISTORY_STORE",type:"major",data:U1J},G1J);n1J.emit("historyStore",U1J);n1J.lastModified=Date.now();v1J&&(n1J.pingAutoSave.uuid=n1J.uuid,n1J.pingAutoSave());};s1J.canRedo=function(){return I1J.canRedo?Math.max(0,s1J.recording.length-1-s1J.current):0;};s1J.canUndo=function(){return I1J.canUndo?s1J.current:0;};s1J.undo=function(){var R1J=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Number.isFinite(R1J)&&(R1J={steps:R1J});var i1J=R1J.cmdSource||{},a1J=Number.isFinite(R1J.steps)?R1J.steps:1;return n1J.emit("undo:request")?Promise.resolve():s1J.canUndo()?h1J({cmd:"undo",cmdSource:i1J,steps:a1J}).then(function(x1J){n1J.emit("undo",x1J);sketch.emit("undo",n1J,x1J);n1J.pingAutoSave();i1J.viaPeer||n1J.emit("change",{op:"HISTORY_UNDO",data:{steps:a1J}},i1J);}):Promise.reject("Nothing to undo.");};s1J.redo=function(){var k1J=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Number.isFinite(k1J)&&(k1J={steps:k1J});var w1J=k1J.cmdSource||{},Y1J=Number.isFinite(k1J.steps)?k1J.steps:1;return n1J.emit("redo:request")?Promise.resolve():s1J.canRedo()?h1J({cmd:"redo",cmdSource:w1J,steps:Y1J}).then(function(A1J){n1J.emit("redo",A1J);sketch.emit("redo",n1J,A1J);n1J.pingAutoSave();w1J.viaPeer||n1J.emit("change",{op:"HISTORY_REDO",data:{steps:Y1J}},w1J);}):Promise.reject("Nothing to redo.");};s1J.reset=function(r4J){s1J.index=0;s1J.current=-1;s1J.recording.splice(0);};s1J.findLastOccurrence=function(o4J,T4J){var n4J=s1J.current,s4J=n4J-T4J;T4J=s1J.recording;for(var M4J=n4J<s4J?1:-1,s4J=Math.abs(n4J-s4J),c4J=0;c4J<s4J;c4J++){var I4J=n4J+=M4J;if((I4J=T4J[I4J])&&I4J.cmd===o4J){return true;}}};s1J.getLastCmd=function(){var O4J=s1J.recording;return O4J[O4J.length-1];};s1J.recording=[];s1J.current=-1;s1J.max=Math.max(-Number.MAX_SAFE_INTEGER,Math.min(+Number.MAX_SAFE_INTEGER,I1J.limit));s1J.setRecording=function(){var y4J=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},H4J=y4J.current,g4J=y4J.recording,h4J=s1J.recording;h4J.splice(0);Array.isArray(g4J)&&g4J.length?h4J.push.apply(h4J,g4J):"string"===typeof g4J&&(s1J.current=1,h4J.push({cmd:g4J,name:g4J,data:[]}));s1J.index=0;s1J.current=Number.isFinite(H4J)?H4J:s1J.recording.length-1;s1J.max=y4J.max||Math.max(-Number.MAX_SAFE_INTEGER,Math.min(+Number.MAX_SAFE_INTEGER,I1J.limit));};s1J.pop=function(){var j4J=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,Z4J=s1J.recording,E4J=Z4J.length;if(E4J){for(var q4J=[],u4J=0;u4J<j4J;u4J++){E4J-1===s1J.current&&s1J.current--,q4J.push(Z4J.pop());}n1J.emit("historyPop",q4J);return q4J;}};s1J.restore=function(J4J,S4J,K4J){n1J.lastModified=Date.now();s1J.applyChanges(J4J,{cmdSource:S4J,undo:K4J});};s1J.applyChanges=function(B4J){function l4J(Q4J,D4J,z4J){if(!sketch._noRendering&&!D4J){if(z4J.viaPlayback){return c1J.load();}C4J.selection&&(Q4J=C4J.selection);Q4J&&O1J(Q4J,z4J);Q4J=sketch.ui;"configure"===Q4J.pages.getPathAt(0)&&Q4J.showConfigPane();return c1J.load();}}var b4J=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},N4J=b4J.cmdSource||{},t4J=!!b4J.undo,f4J=b4J.steps,C4J=B4J.data;if(C4J){var b4J=B4J.cmd,m4J=o1J[b4J];if(m4J){return t4J=m4J({data:C4J,packet:B4J,undo:t4J,cmdSource:N4J,steps:f4J}),s1J.index=s1J.current,t4J&&t4J.then?t4J.then(function(d4J){return l4J(d4J,f4J,N4J);}):l4J(t4J,f4J,N4J);}console.trace("history.applyChanges(...) No undo handler for '"+b4J+"'");}};s1J.toSerializable=function(){return{current:s1J.current,max:s1J.max,recording:s1J.recording.map(function(X4J){var W4J=X4J.cmd;return M1J[W4J]?M1J[W4J](X4J):X4J;})};};};}();void function(){sketch.module.add(function(U4J){var F4J=sketch.assets,p4J=window.jsondiffpatch,e4J=U4J.history,G4J=U4J.scene,V4J=e4J.handlers;e4J.register("edit-pixels",{apply:function(L4J){function R4J(a4J){var i4J=F4J.getContent(a4J.assetId);if(i4J){var w4J=a4J.x,Y4J=a4J.y,k4J=v4J?"imageData1":"imageData2",x4J=a4J[k4J];x4J instanceof ImageData||(a4J[k4J]=x4J=new ImageData(x4J.data,x4J.width,x4J.height));i4J.ctx.putImageData(x4J,w4J,Y4J);}if(i4J=G4J.getById(a4J.id)){i4J.dirtyCache=true,"image"===i4J.env.assetType?F4J.getContent(i4J.src).lastModified=Date.now():(i4J=i4J.fill)&&i4J.refresh(),(a4J=a4J.deltas)&&U4J.history.patch(a4J,v4J);}}var P4J=L4J.data,v4J=L4J.undo;switch(Galactic.is(P4J)){case"Object":R4J(P4J);break;case"Array":P4J.forEach(R4J);}},serialize:function(A4J){A4J=Object.assign({},A4J);A4J.data=null;return A4J;}});e4J.register("config-doc",{apply:function(r7J){var s7J=r7J.data,n7J=r7J.undo;r7J=r7J.steps;0<r7J&&e4J.findLastOccurrence("config-doc",n7J?r7J:-r7J)||(n7J?p4J.unpatch(U4J,s7J.deltas):p4J.patch(U4J,s7J.deltas),U4J.config(U4J));}});e4J.register("add",{apply:function(I7J){var T7J=I7J.data,c7J=I7J.cmdSource,M7J=I7J.steps;if(I7J.undo){return V4J.remove({data:T7J,undo:false,cmdSource:c7J,steps:M7J});}T7J.forEach(function(o7J){if(G4J.getById(o7J.id)){console.warn('handlers.add - layer "'+o7J.id+'" already exists');}else{var O7J=G4J.getById(o7J.parentId);O7J||(O7J=G4J);o7J=c7J.viaPlayback?O7J._appendChild(o7J,true):O7J._insertChild(o7J,o7J.idx,true);o7J.dirtyBoundingBox=true;}});G4J.reindex();return U4J.selection.layers.toIds(T7J);},compress:function(g7J){g7J.data=sketch.copyConfigs(g7J.data,{compress:true});return g7J;}});e4J.register("remove",{apply:function(y7J){var H7J=y7J.data,h7J=y7J.cmdSource,q7J=y7J.steps;if(y7J.undo){return V4J.add({data:H7J,undo:false,cmdSource:h7J,steps:q7J});}H7J.forEach(function(E7J){var Z7J=E7J.id;(E7J=G4J.getById(Z7J))?(h7J&&U4J.selection.id===Z7J&&(G4J.deselectAll(),sketch.debug&&h7J.userId&&console.log(h7J.userId+" removed the layer you had selected.")),G4J.remove(E7J,{recordHistory:false})):console.warn('handlers.remove - layer "'+Z7J+'" does not exist');});G4J.reindex();return U4J.selection.layers.toIds(H7J);},compress:function(u7J){u7J.data=sketch.copyConfigs(u7J.data,{compress:true});return u7J;}});e4J.register("update",{apply:function(J7J){var j7J=J7J.data.deltas;if(j7J){return e4J.patch(j7J,J7J.undo);}}});});}();void function(){function t7J(B7J,m7J){m7J=function(D7J){for(var z7J={},Q7J=0;Q7J<D7J.length;Q7J++){var l7J=D7J[Q7J];if(l7J){var d7J=l7J[0].toLowerCase()+l7J.substr(1);z7J[d7J]=l7J;}}return z7J;}(m7J);S7J[B7J]=function(W7J){var X7J={setValue:function(U7J){if(null!=U7J){if("string"===typeof U7J){var G7J=m7J,e7J=document.createElement("span").style;e7J[B7J]=U7J;for(var F7J in G7J){U7J=e7J[B7J+G7J[F7J]],""!==U7J&&"initial"!==U7J&&(X7J[F7J]=U7J);}return X7J;}for(G7J in m7J){"undefined"!==typeof U7J[G7J]&&(X7J[G7J]=U7J[G7J]);}return X7J;}}};X7J.setValue(W7J);};S7J[B7J].type=B7J;}function b7J(p7J){this.type=0;this.setValue(p7J);}j.initSymbol();j.initSymbol();j.initSymbolIterator();var N7J="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(V7J){return typeof V7J;}:function(P7J){j.initSymbol();j.initSymbol();j.initSymbol();return P7J&&"function"===typeof Symbol&&P7J.constructor===Symbol&&P7J!==Symbol.prototype?"symbol":typeof P7J;},S7J=sketch.attrs,K7J=sketch.style,f7J=sketch.util;S7J.__globals={autosave:"boolean",highRes:"boolean",paintIntoShapes:"boolean",snapToGrid:"boolean",snapToGuides:"boolean",snapToObjects:"boolean",snapToPixels:"boolean"};S7J.__rules={clampToDoc:"boolean",clampToDocX:"boolean",clampToDocY:"boolean",exportable:"boolean",locked:"boolean",movable:"boolean",rotatable:"boolean",scalable:"boolean",selectable:"boolean",findable:"boolean",stickTo:"string",stretchTo:"string",useBackgroundOverlay:"boolean",usePixelData:"boolean",usePointInImageData:"boolean",usePointInPath:"boolean"};S7J.__basicObject={bbox:"bbox",blend:"string",imageSmoothing:"boolean",groupId:"string",id:"string",idx:"number",meta:"object",name:"string",opacity:"number",pointerId:"string",seed:"number",timestamp:"number",toolkitId:"string",type:"string",visible:"boolean"};S7J.__styles={filter:"filter",fill:"PaintServer",fills:"array",stroke:"PaintServer",strokes:"array",border:"border",background:"PaintServer",margin:"margin",mask:"array",padding:"padding"};S7J.__styledObject=Object.assign({},S7J.__basicObject,S7J.__rules,S7J.__styles);S7J.__doNotCopyToGlobals={id:"string",name:"string",bbox:"bbox",filter:"array",objectFit:"string",stretchTo:"string",stickTo:"string",selectable:"boolean",visible:"boolean"};t7J("border","Width Style Color Radius ImageSource ImageSlice ImageWidth ImageOutset ImageRepeat".split(" "));t7J("padding",["Top","Left","Bottom","Right"]);t7J("margin",["Top","Left","Bottom","Right"]);S7J.fill=function(v7J){return K7J.create(v7J,"fill");};S7J.stroke=function(L7J){return K7J.create(L7J,"stroke");};S7J.dropShadow=function(R7J){return K7J.create(R7J,"dropShadow");};S7J.innerShadow=function(i7J){return K7J.create(i7J,"innerShadow");};S7J.filter=function(a7J){if("undefined"===typeof a7J?false:"object"===N7J(a7J)){return a7J;}if("string"===typeof a7J){var x7J=/\(([^)]+)\)/.exec(a7J);return[[{cmd:"shader",id:a7J.replace(x7J[0],""),data:JSON.parse(x7J[1])}]];}};b7J.prototype.clone=function(){return new b7J(this);};b7J.prototype.setValue=function(k7J){var A7J=this;0<=k7J.type&&(this.type=k7J.type);0<=k7J.flatness&&(this.flatness=k7J.flatness);var w7J=k7J.clamp;if(w7J){this.clamp||(this.clamp={});for(var Y7J in w7J){null===w7J[Y7J]?delete A7J.clamp[Y7J]:A7J.clamp[Y7J]=w7J[Y7J];}}Array.isArray(k7J.pattern)&&(this.pattern=k7J.pattern);};var C7J={pathSpacing:b7J};f7J.defineProperties(S7J,{create:function(r6J,s6J){var n6J=C7J[r6J];return n6J?new n6J(s6J):S7J[r6J]?S7J[r6J](s6J):s6J;},update:function(I6J,T6J,M6J){var c6J=C7J[I6J];return c6J?(I6J=new c6J(M6J),I6J.setValue(T6J),I6J):S7J[I6J]?S7J[I6J](T6J):T6J;}});}();void function(){function z6J(d6J){function W6J(F6J,p6J,V6J,U6J,P6J,e6J){var G6J=(U6J=U6J[e6J])&&U6J.id||U6J;S6J(p6J,{},d6J,P6J,e6J,G6J,true);V6J[e6J]=G6J;("undefined"===typeof U6J?false:"object"===q6J(U6J))&&(F6J[G6J]=U6J);}var X6J=[];if(!d6J.svgPatched){return X6J;}d6J.dirtyCache=true;d6J.svgPatched=false;d6J.svg.walk(function(a6J){var v6J=a6J._originalStyle;if(v6J){var L6J={},R6J={},i6J={};v6J.hasOwnProperty("fill")&&W6J(R6J,i6J,L6J,v6J,a6J,"fill");v6J.hasOwnProperty("stroke")&&W6J(R6J,i6J,L6J,v6J,a6J,"stroke");L6J.id=d6J.id;L6J.svgPatch={patches:i6J,defs:R6J};X6J.push(L6J);}});return X6J;}function S6J(I8C,M8C,w6J,A6J,x6J,k6J,c8C){function O8C(g8C){if(g8C=g8C.childNodes){for(var h8C=0;h8C<g8C.length;h8C++){var y8C=g8C[h8C];y8C.childNodes?S6J(I8C,M8C,w6J,y8C,x6J,k6J,c8C):o8C(y8C);}}}function o8C(H8C){var E8C;E8C=A6J.uid;E8C=I8C[E8C]||(I8C[E8C]={});var Z8C=H8C.style;var u8C=Z8C[x6J],J8C=Y6J.defs[u8C],j8C=H8C._originalStyle||(H8C._originalStyle={});j8C.hasOwnProperty(x6J)||(j8C[x6J]=J8C||u8C);if(T8C){u8C={};H8C=s8C?w6J._copyStrokeToSVG(u8C,k6J,Y6J,H8C.matrix,null,r8C):w6J._copyFillToSVG(u8C,k6J,Y6J,H8C.matrix);for(var q8C in H8C){E8C[q8C]=Z8C[q8C],Z8C[q8C]=H8C[q8C];}s8C&&n8C!==Z8C.strokeWidth&&(w6J.dirtyBoundingBox=true);}else{Z8C[x6J]=k6J;}q8C=Z8C[x6J];(H8C=Y6J.defs[q8C])&&(M8C[q8C]=H8C);E8C[x6J]=q8C;}if(A6J){var Y6J=w6J.svg,T8C=k6J instanceof b6J.Paint,s8C=void 0,r8C=void 0,n8C=void 0;T8C&&(s8C="stroke"===k6J.method,r8C=1/(w6J.bbox.width/Y6J.viewBox[2]),n8C=k6J.lineWidth*r8C);o8C(A6J);c8C&&O8C(A6J);}}function g6J(S8C,K8C){return Number.isFinite(S8C)&&S8C!==K8C;}function Q6J(b8C){if("undefined"===typeof b8C?false:"object"===q6J(b8C)){return b8C;}"number"!==typeof b8C&&(b8C=0);return{top:b8C,left:b8C,right:b8C,bottom:b8C};}function D6J(B8C){var t8C=B8C.doc.scene,C8C=[],N8C={},f8C=t8C.multiSelectObject;f8C&&(N8C=f8C.selection);if(100<t8C.children.length){return[];}t8C.traverse(function(m8C){m8C.id!==B8C.id&&m8C.visible&&m8C.parent===t8C&&(N8C[m8C.id]||(C8C=C8C.concat(m8C.toGuides())));});return C8C;}j.initSymbol();j.initSymbol();j.initSymbolIterator();var q6J="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(l8C){return typeof l8C;}:function(Q8C){j.initSymbol();j.initSymbol();j.initSymbol();return Q8C&&"function"===typeof Symbol&&Q8C.constructor===Symbol&&Q8C!==Symbol.prototype?"symbol":typeof Q8C;},b6J=sketch.style;sketch.vector.revertAllSVGPatches=function(){var D8C=sketch.doc,z8C=[];D8C.scene.traverse(function(d8C){d8C.svgPatched&&(z8C=z8C.concat(z6J(d8C)));});z8C.length&&D8C.history.store("VOBNodeList",{name:"reset-clipart-color",data:z8C});};sketch.module.add(function(X8C){X8C.history.register("VOBNodeList",{apply:function(U8C){var F8C=U8C.data;U8C=U8C.undo;for(var G8C=0;G8C<F8C.length;G8C++){var e8C=F8C[G8C],W8C=X8C.scene.getById(e8C.id);W8C&&W8C.svg&&(U8C?jsondiffpatch.unpatch(W8C,e8C.deltas):jsondiffpatch.patch(W8C,e8C.deltas),W8C._svgApplyPatch());}}});});sketch.Layer=function(p8C){return sketch.doc.createLayerConfig(p8C).then(function(V8C){return V8C.load();});};sketch.LayerCollection=function(P8C){return Promise.all(P8C.map(sketch.Layer));};var h6J=sketch.bboxUtils,l6J=sketch.layerUtils,O6J=sketch.Point,y6J=sketch.LayerBBox=function(){var v8C=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.x=v8C.x||0;this.y=v8C.y||0;this.width=v8C.width||0;this.height=v8C.height||0;this.rotation=v8C.rotation||0;this.padding=v8C.padding||0;var L8C=v8C.scale;L8C?Number.isFinite(L8C)?this.scale=new O6J(L8C||1,L8C||1):this.scale=new O6J(L8C.x||1,L8C.y||1):this.scale=new O6J(1,1);this.units=v8C.units||"userSpaceOnUse";v8C.left&&(this.left=v8C.left);v8C.top&&(this.top=v8C.top);};y6J.copyInto=function(R8C,i8C){Number.isFinite(R8C.x+R8C.y+R8C.width+R8C.height)&&(i8C.x=R8C.x,i8C.y=R8C.y,i8C.width=R8C.width,i8C.height=R8C.height);Number.isFinite(R8C.rotation)&&(i8C.rotation=R8C.rotation);R8C.scale&&Number.isFinite(R8C.scale.x+R8C.scale.y)&&(i8C.scale||(i8C.scale={}),i8C.scale.x=R8C.scale.x,i8C.scale.y=R8C.scale.y);Number.isFinite(R8C.padding)&&(i8C.padding=R8C.padding);Number.isFinite(R8C.top+R8C.left)&&(i8C.left=R8C.left,i8C.top=R8C.top);R8C.units&&(i8C.units=R8C.units);};y6J.getOrigin=function(a8C){return"objectBoundingBox"===a8C.units?{rotation:a8C.rotation||0,x:a8C.x+a8C.width*a8C.scale.x*.5,y:a8C.y+a8C.height*a8C.scale.y*.5}:{rotation:a8C.rotation||0,x:a8C.x,y:a8C.y};};y6J.prototype={get computedWidth(){return this.width*this.scale.x;},get computedHeight(){return this.height*this.scale.y;},get origin(){return"objectBoundingBox"===this.units?new O6J(.5,.5):new O6J(0,0);},config:function(x8C){y6J.copyInto(x8C,this);},clone:function(){return new y6J(this);},stringify:function(){return JSON.stringify(this);},subtract:function(k8C){return{x:this.x-k8C.x,y:this.y-k8C.y,width:this.width-k8C.width,height:this.height-k8C.height,scale:{x:this.scale.x-k8C.scale.x,y:this.scale.y-k8C.scale.y}};},distanceTo:function(Y8C){var w8C=Y8C.width*Y8C.scale.x/2,r2C=Y8C.height*Y8C.scale.y/2,A8C=new O6J(Y8C.x+w8C,Y8C.y+r2C);Y8C=this.width*this.scale.x/2;var s2C=this.height*this.scale.y/2,n2C=new O6J(this.x+Y8C,this.y+s2C),A8C=O6J.abs(O6J.sub(A8C,n2C)),w8C=O6J.add(new O6J(w8C,r2C),new O6J(Y8C,s2C)),w8C=new O6J(0,0).max(O6J.sub(A8C,w8C));return Math.sqrt(w8C.x*w8C.x+w8C.y*w8C.y);},pointAt:function(I2C,T2C){return h6J.pointAt(this,I2C,T2C);},toRect:function(){return[h6J.pointAt(this,0,0),h6J.pointAt(this,1,0),h6J.pointAt(this,1,1),h6J.pointAt(this,0,1)];},toAxisAligned:function(c2C){return h6J.toAxisAligned(this,c2C);}};sketch.module.SceneBBox=function(M2C){M2C.scene.getLayersRegion=function(o2C){var O2C=sketch.doc;o2C||(o2C=O2C.scene.filter(function(g2C){return"background"!==g2C.name;}));o2C=l6J.getBoundingBox(o2C);return{x:Math.max(0,o2C.x),y:Math.max(0,o2C.y),width:Math.min(O2C.pixelWidth,o2C.width),height:Math.min(O2C.pixelHeight,o2C.height)};};};sketch.module.LayerContainer=function(y2C,h2C){function q2C(S2C,C2C){var K2C=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},b2C=!!K2C.recordHistory,t2C=!!K2C.receiveHistory;S2C=h2C._insertChild(S2C,C2C,!!K2C.decompress);y2C.on.handlers.layerAdd&&(sketch.layerUtils.updateTransform(S2C),y2C.emit("layerAdd",S2C));b2C&&H2C._recordLayerAdded(S2C);return t2C?u2C(S2C):S2C;}function Z2C(N2C,f2C){h2C.sendTo({selection:[N2C],targetIdx:f2C,recordHistory:true});}function E2C(l2C,B2C,z2C){B2C instanceof y2C.Layer||(B2C=new y2C.Layer(B2C,z2C));var m2C=H2C.createId(B2C),Q2C=B2C.id;Q2C&&String(Q2C)!==m2C&&(B2C.id=m2C,console.warn("layer.id '"+Q2C+"' was replaced with '"+m2C+"'."));B2C.parent=l2C;H2C._byId[m2C]=B2C;if(l2C=B2C.children){for(m2C=l2C.length;m2C--;){l2C[m2C]=E2C(B2C,l2C[m2C],z2C);}}return B2C;}function u2C(D2C){return{cmd:"add",pointerId:D2C.pointerId,name:D2C.type,data:[D2C]};}function J2C(W2C,d2C){var X2C=W2C.idx>d2C.idx?1:-1;return"front"===W2C.stickTo?"front"===d2C.stickTo?X2C:1:"front"===d2C.stickTo?-1:"back"===W2C.stickTo?"back"===d2C.stickTo?X2C:-1:"back"===d2C.stickTo?1:X2C;}function j2C(F2C,p2C,U2C){U2C||(U2C=100);U2C--;for(var V2C=F2C.length,G2C=0;G2C<V2C;G2C++){var e2C=F2C[G2C];if(p2C(e2C,G2C,F2C)){return e2C;}U2C&&e2C.children&&j2C(e2C.children,p2C,U2C);}}var H2C=y2C.scene;h2C.children||(h2C.children=[]);h2C.appendChild=function(P2C,L2C){var v2C=h2C.children.length;return H2C.contains(P2C)?(Z2C(P2C,v2C),P2C):q2C(P2C,v2C,L2C);};h2C._appendChild=function(R2C,i2C){return h2C._insertChild(R2C,h2C.children.length,i2C);};h2C.insertChild=function(a2C,x2C,k2C){return H2C.contains(a2C)?(Z2C(a2C,x2C),a2C):q2C(a2C,x2C,k2C);};h2C._insertChild=function(w2C,Y2C,A2C){w2C=E2C(h2C,w2C,A2C);w2C.doc=y2C;w2C.idx=Y2C;w2C.parent=h2C;h2C.children.splice(Y2C,0,w2C);h2C.dirtyBoundingBox=true;h2C.dirtyHash=true;h2C.dirtyIndex=true;return w2C;};h2C.removeChild=function(r0C,s0C){return h2C._removeChild(r0C);};h2C._removeChild=function(I0C){var n0C=I0C.parent;if(!n0C){return I0C;}I0C.parent=null;n0C.dirtyHash=true;n0C.dirtyBoundingBox=true;var T0C=n0C.children.indexOf(I0C);n0C.children.splice(T0C,1);delete H2C._byId[I0C.id];(n0C=I0C.children)&&sketch.traverse(n0C,function(c0C){delete H2C._byId[c0C.id];});y2C.pixi&&y2C.pixi.container.children.splice(T0C,1);return I0C;};h2C.replaceChild=function(M0C,o0C,O0C){M0C=h2C.insertChild(M0C,o0C.idx,O0C);h2C._removeChild(o0C);return M0C;};h2C._replaceChild=function(g0C,h0C,y0C){g0C=h2C._insertChild(g0C,h0C.idx,y0C);h2C._removeChild(h0C);return g0C;};H2C._recordLayerAdded=function(H0C){y2C.history.store("add",u2C(H0C));};h2C.contains=function(q0C){for(;q0C&&(q0C=q0C.parent);){if(q0C===h2C){return true;}}return false;};h2C.sortAndReindex=function(){h2C.children.sort(J2C);h2C.reindex();};h2C.reindex=function(){h2C.dirtyIndex=false;for(var u0C=h2C.children,j0C=u0C.length,Z0C=0;Z0C<j0C;Z0C++){var E0C=u0C[Z0C];E0C&&(E0C.idx=Z0C,E0C.sortAndReindex&&E0C.sortAndReindex());}};h2C.find=function(J0C,S0C){return j2C(h2C.children,J0C,S0C);};h2C.traverse=function(K0C,b0C){sketch.traverse(h2C.children,K0C,b0C);};sketch.traverse=function t0C(B0C,m0C,C0C){C0C||(C0C=100);C0C--;for(var l0C=B0C.length,N0C=0;N0C<l0C;N0C++){var f0C=B0C[N0C];m0C(f0C,N0C);C0C&&f0C.children&&t0C(f0C.children,m0C,C0C);}};h2C.getChildCount=function(){var Q0C=0;H2C.traverse(function(){return Q0C++;});return Q0C;};sketch.module.SceneOrganize(y2C,h2C);};var E6J=sketch.bboxUtils;E6J.pointAt=function(D0C,d0C,X0C){var W0C=D0C.scale||{x:1,y:1},z0C=D0C.rotation||0,U0C=Math.cos(z0C),z0C=Math.sin(z0C);d0C*=(D0C.width||0)*W0C.x;X0C*=(D0C.height||0)*W0C.y;return new sketch.Point((D0C.x||0)+d0C*U0C-X0C*z0C,(D0C.y||0)+d0C*z0C+X0C*U0C);};E6J.toAxisAligned=function(P0C){var e0C=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,p0C=P0C.scale||{x:1,y:1},V0C=P0C.rotation||0,G0C=Math.cos(V0C),F0C=Math.sin(V0C),v0C=(P0C.width||0)*p0C.x/2,L0C=(P0C.height||0)*p0C.y/2,R0C=Math.abs(v0C*G0C)+Math.abs(L0C*F0C),V0C=Math.abs(v0C*F0C)+Math.abs(L0C*G0C),p0C=(P0C.x||0)+v0C*G0C-L0C*F0C-R0C-e0C,G0C=(P0C.y||0)+v0C*F0C+L0C*G0C-V0C-e0C,F0C=2*R0C+2*e0C,e0C=2*V0C+2*e0C;return{x:p0C,y:G0C,width:F0C,height:e0C,x1:p0C,y1:G0C,x2:p0C+F0C,y2:G0C+e0C};};var B6J=sketch.bboxUtils,u6J=sketch.layerUtils;u6J.getBoundingBox=function(){function T3C(g3C){var M3C=u6J.getOuterPadding(g3C),c3C=B6J.toAxisAligned(g3C.bbox,M3C),M3C=c3C.x,o3C=c3C.y,O3C=c3C.x+c3C.width,c3C=c3C.y+c3C.height;i0C?(M3C<a0C&&M3C>s3C&&(a0C=M3C),o3C<x0C&&o3C>A0C&&(x0C=o3C),O3C>Y0C&&O3C<n3C&&(Y0C=O3C),c3C>w0C&&c3C<r3C&&(w0C=c3C)):(M3C<a0C&&(a0C=M3C),o3C<x0C&&(x0C=o3C),O3C>Y0C&&(Y0C=O3C),c3C>w0C&&(w0C=c3C));g3C.children&&T3C(g3C.children);}var k0C=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],i0C=arguments[1],s3C=void 0,n3C=void 0,A0C=void 0,r3C=void 0;i0C&&(s3C=i0C.x,n3C=i0C.x+i0C.width,A0C=i0C.y,r3C=i0C.y+i0C.height);var a0C=Number.POSITIVE_INFINITY,Y0C=Number.NEGATIVE_INFINITY,x0C=Number.POSITIVE_INFINITY,w0C=Number.NEGATIVE_INFINITY;k0C.forEach(T3C);var k0C=Y0C-a0C,I3C=w0C-x0C;return new sketch.LayerBBox({x:Number.isFinite(a0C)?a0C:0,y:Number.isFinite(x0C)?x0C:0,width:Number.isFinite(k0C)?k0C:0,height:Number.isFinite(I3C)?I3C:0});};sketch.layerUtils.getBoundingBoxFromOptions=function(){var h3C=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},Z3C;Z3C=h3C.width;var H3C=h3C.height;Z3C=g6J(Z3C,0)||g6J(H3C,0)?{width:Z3C||0,height:H3C||0}:void 0;H3C=(H3C=h3C.rotation)&&g6J(H3C,0)?H3C:void 0;var q3C;var y3C;(y3C=h3C.scale)?Number.isFinite(y3C)?q3C=y3C:(q3C=y3C.x,y3C=y3C.y):(q3C=h3C.sx,y3C=h3C.sy);q3C=g6J(q3C,1)||g6J(y3C,1)?{x:q3C||1,y:y3C||1}:void 0;var E3C=h3C.translate;E3C?(y3C=E3C.x,h3C=E3C.y):(y3C=h3C.x,h3C=h3C.y);h3C=g6J(y3C,0)||g6J(h3C,0)?{x:y3C||0,y:h3C||0}:void 0;return{resize:Z3C,rotation:H3C,scale:q3C,translate:h3C};};sketch.layerUtils.getFeatures=function(){var u3C=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},j3C=sketch.feature,J3C=u3C.env||(u3C.env={});if(J3C.feats){return J3C.feats;}var S3C=j3C.tools[u3C.toolkitId],j3C=j3C.tools[u3C.type],u3C=sketch.copyRules(u3C);return J3C.feats=Object.assign({},S3C,j3C,u3C);};var t6J=sketch.assets,C6J=sketch.detect,N6J=sketch.util;sketch.layerUtils.getHash=function(C3C,m3C){var b3C="",f3C=C3C.type,B3C=C6J.useLocalAlpha,t3C;for(t3C in C3C){if(null!=m3C[t3C]){var K3C=C3C[t3C];if(null!=K3C&&!f6J[t3C]){if(K3C.hashify){b3C+=K3C.hashify();}else if("opacity"===t3C){B3C[f3C]&&(b3C+=K3C);}else if("src"===t3C){var N3C=t6J.getContent(K3C),b3C=N3C?b3C+(K3C+N3C.lastModified):b3C+K3C.slice(0,256);}else{"bbox"===t3C?(K3C=C3C.bbox,b3C+=K3C.width,b3C+=K3C.height,b3C+=K3C.padding,K3C.scale&&(K3C=K3C.scale,b3C+=K3C.x+","+K3C.y)):("undefined"===typeof K3C?false:"object"===q6J(K3C))?null==K3C||K3C.childNodes||K3C.getImageData||(b3C+=JSON.stringify(K3C)):b3C+=K3C;}}}}C3C.pathHash&&(b3C+=C3C.pathHash);return String(N6J.hashString(b3C));};var f6J={id:true,idx:true,visible:true,timestamp:true,clamp:true,data:true},j6J=sketch.paintUtils;sketch.layerUtils.getOuterPadding=function(z3C){var Q3C=0,l3C=z3C.stroke;l3C&&(Q3C+=j6J.getOuterWidth(l3C)/2);(l3C=z3C.dropShadow)&&(Q3C+=j6J.getOuterWidth(l3C)/2);(l3C=(l3C=z3C.env)&&l3C.extraPadding)&&(Q3C+=Math.max(l3C.left,l3C.right,l3C.top,l3C.bottom)*Math.abs(z3C.bbox.scale.x));return Q3C;};var m6J=sketch.assets,Z6J=sketch.feature,o6J=sketch.layerUtils,K6J=sketch.resources,J6J=sketch.style,H6J=sketch.Matrix2D;o6J.typeOfAll=function(W3C){for(var D3C=void 0,d3C=0,U3C=W3C.length;d3C<U3C;d3C++){var X3C=W3C[d3C];if(D3C&&X3C.type!==D3C){return;}D3C=X3C.type;}return D3C;};o6J.getAssetsAttachedToLayers=function(e3C,F3C){var G3C=[];e3C.forEach(function(p3C){o6J.getAssetsAttachedToLayer(p3C,F3C,G3C);});return G3C;};o6J.getAssetsAttachedToLayer=function(L3C){function R3C(x3C,k3C){if(x3C&&x3C[k3C]){var a3C=x3C;if("resource"===V3C||"src"===V3C){a3C=m6J.prefixed(x3C[k3C]);}"resource"===V3C&&(a3C=K6J.get(a3C));a3C&&!P3C.includes(a3C)&&P3C.push(a3C);}}var V3C=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"src",P3C=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],i3C;for(i3C in J6J.paintMethods){var v3C=L3C[i3C];v3C&&"pattern"===v3C.type&&R3C(v3C.pattern,"src");}R3C(L3C,"src");R3C(L3C,"fontFamily");return P3C;};o6J.getOutlinePath=function(Y3C,A3C,r5C){var w3C=void 0,s5C=Y3C.tool;s5C.getOutlinePath&&(w3C=s5C.getOutlinePath(Y3C));w3C||(w3C=[Y3C.bbox.toRect()]);w3C.forEach(function(n5C){n5C.forEach(function(I5C){I5C.x-=A3C;I5C.y-=r5C;"number"===typeof I5C.x1&&(I5C.x1-=A3C,I5C.y1-=r5C);"number"===typeof I5C.x2&&(I5C.x2-=A3C,I5C.y2-=r5C);});});return w3C;};o6J.axisAlignedBounds=function(c5C){var T5C=c5C.doc,M5C=T5C.zoom,T5C=T5C.viewport;c5C=c5C.bbox.toAxisAligned();var o5C=c5C.x*M5C+T5C.x,T5C=c5C.y*M5C+T5C.y;return{x1:o5C,y1:T5C,x2:c5C.width*M5C+o5C,y2:c5C.height*M5C+T5C};};o6J.inBounds=function(Z5C){var O5C=Z5C.doc,h5C=O5C.viewport,y5C=o6J.axisAlignedBounds(Z5C);Z5C=y5C.x1;var u5C=y5C.y1,j5C=y5C.x2,y5C=y5C.y2,H5C=h5C.width,q5C=h5C.height,E5C=h5C=0;if(Z6J.doc.clipPath.enabled){var g5C=O5C.render.exporting?{x:0,y:0,width:O5C.pixelWidth,height:O5C.pixelHeight}:O5C.visibleRect,H5C=g5C.width,q5C=g5C.height,h5C=g5C.x,E5C=g5C.y,H5C=g5C.x+H5C,q5C=g5C.y+q5C;}if(Z6J.debugInBounds){var g5C=O5C.pixelRatio,J5C=O5C.render,O5C=O5C.contexts.debug;O5C.frameId!==J5C.startTime&&(O5C.frameId=J5C.startTime,sketch.Canvas2D.clear(O5C));O5C=O5C.ctx;O5C.save();O5C.scale(g5C,g5C);O5C.lineWidth=5*g5C;O5C.fillStyle="rgba(255, 0, 0, 0.125)";O5C.fillRect(Z5C,u5C,j5C-Z5C,y5C-u5C);O5C.strokeStyle="rgba(255, 0, 255, 0.5)";O5C.strokeRect(h5C,E5C,H5C-h5C,q5C-E5C);O5C.restore();}return Z5C<H5C&&j5C>h5C&&u5C<q5C&&y5C>E5C;};o6J.getHashOfPath=function(S5C){return sketch.util.hashString(sketch.SVG.svgPathFromVOB(S5C.data));};o6J.getProperty={outerPadding:function(K5C){var N5C=K5C.doc,m5C=N5C.pixelRatio,N5C=N5C.scale*m5C,f5C=K5C.bbox,l5C=f5C.scale.x,f5C=f5C.scale.y,t5C=0;if(sketch.detect.useOuterPaddingForLineStroke[K5C.type]){var b5C=K5C.stroke;b5C&&b5C.enabled&&(t5C=b5C.getOuterWidth());var B5C=K5C.strokes;if(B5C){for(var C5C=0;C5C<B5C.length;C5C++){b5C=B5C[C5C],b5C=b5C.getOuterWidth(),b5C>t5C&&(t5C=b5C);}}}C5C=Q6J(K5C.padding);b5C=K5C.border&&K5C.border.lineWidth||0;B5C=Math.ceil(Math.abs((b5C+C5C.left+C5C.right)*l5C/2))+t5C;t5C=Math.ceil(Math.abs((b5C+C5C.top+C5C.bottom)*f5C/2))+t5C;K5C=Q6J(K5C.env.extraPadding);B5C+=Math.max(K5C.left,K5C.right)*Math.abs(l5C);t5C+=Math.max(K5C.top,K5C.bottom)*Math.abs(f5C);return{x:Math.ceil(B5C)*N5C,y:Math.ceil(t5C)*N5C,pixelRatio:m5C};},treeAsIds:function(Q5C){for(var z5C=[];Q5C.parent;){z5C.push(Q5C.id),Q5C=Q5C.parent;}z5C.push("top");return z5C.reverse();},treeAsIndexes:function(D5C){for(var d5C=[];D5C.parent;){d5C.push(D5C.idx),D5C=D5C.parent;}d5C.push("top");return d5C.reverse();}};o6J.clampBoundingBox=function(U5C,P5C,v5C){var x5C=U5C.clampToDoc,a5C=U5C.clampToDocX,i5C=U5C.clampToDocY,X5C=U5C.matrix2D;if(X5C&&(x5C||a5C||i5C)){var W5C=U5C.bbox,V5C=W5C.x,L5C=W5C.y,p5C=X5C._nw,F5C=X5C._ne,e5C=X5C._se,G5C=X5C._sw,k5C=Math.min(p5C.x,F5C.x,e5C.x,G5C.x),w5C=Math.min(p5C.y,F5C.y,e5C.y,G5C.y),X5C=V5C-k5C,R5C=L5C-w5C;P5C=P5C-Math.max(0,Math.max(p5C.x,F5C.x,e5C.x,G5C.x)-k5C)+X5C;v5C=v5C-Math.max(0,Math.max(p5C.y,F5C.y,e5C.y,G5C.y)-w5C)+R5C;x5C?(W5C.x=Math.max(X5C,Math.min(P5C,V5C)),W5C.y=Math.max(R5C,Math.min(v5C,L5C))):a5C?W5C.x=Math.max(X5C,Math.min(P5C,V5C)):i5C&&(W5C.y=Math.max(R5C,Math.min(v5C,L5C)));U5C.dirtyTransform=true;}};o6J.stretchBoundingBox=function(I9C,T9C,c9C){var A5C="fit"===I9C.stretchTo;if("edge"===I9C.stretchTo||A5C){var Y5C=I9C.bbox,r9C=0,s9C=0,n9C;A5C&&Y5C.assetWidth&&Y5C.assetHeight?(s9C=Y5C.width/T9C,r9C=Y5C.height/c9C,s9C>r9C?(A5C=T9C*s9C,n9C=c9C,r9C=-(A5C-T9C)/2,s9C=0):(A5C=T9C,n9C=c9C*r9C,r9C=0,s9C=-(n9C-c9C)/2)):(A5C=T9C,n9C=c9C);!Number.isFinite(r9C+s9C+A5C+n9C)||Y5C.width===A5C&&Y5C.height===n9C&&Y5C.x===r9C&&Y5C.y===s9C||(Y5C.x=r9C,Y5C.y=s9C,Y5C.width=A5C,Y5C.height=n9C,Y5C.rotation=0,Y5C.scale.x=1,Y5C.scale.y=1,I9C.dirtyCache=true,I9C.dirtyTransform=true);}};o6J.updateInBounds=function(M9C){!M9C.dirtyTransform&&M9C.matrix2D||o6J.updateTransform(M9C);M9C.env.axisAlignedBounds=o6J.axisAlignedBounds(M9C);M9C.inBounds=o6J.inBounds(M9C);return Z6J.keepLayersInBounds?M9C.inBounds=true:M9C.inBounds;};o6J.updateMatrix2DMouse=function(g9C){var O9C=g9C.bbox,H9C=O9C.scale.x,q9C=O9C.scale.y,o9C=g9C.matrix2D,h9C,y9C;o9C?(h9C=o9C._nw.x,y9C=o9C._nw.y,o9C=g9C.matrix2DMouse=new H6J()):(o9C=new H6J(),h9C=O9C.x,y9C=O9C.y);o9C.translate(h9C,y9C);o9C.scale(1/H9C,1/q9C);(g9C=O9C.rotation)&&o9C.rotate(-g9C);o9C.translate(-h9C,-y9C);o9C.tlx=h9C;o9C.tly=y9C;return o9C;};o6J.updateTransform=function(E9C){var j9C=E9C.doc;E9C.data&&!E9C.pathHash&&(E9C.pathHash=o6J.getHashOfPath(E9C));if(E9C.dirtyTransform||!E9C.matrix2D){E9C.dirtyTransform=false;E9C.inBounds=null;o6J.stretchBoundingBox(E9C,j9C.pixelWidth,j9C.pixelHeight);var u9C=E9C.bbox,t9C="objectBoundingBox"===u9C.units,K9C=u9C.width*u9C.scale.x,b9C=u9C.height*u9C.scale.y,J9C=K9C/2,S9C=b9C/2;E9C.matrix2D||(E9C.matrix2D=new H6J());E9C.matrix2DMouse||(E9C.matrix2DMouse=new H6J());var Z9C=E9C.matrix2D;Z9C.reset();Z9C.scale(j9C.scale,j9C.scale);Z9C.translate(u9C.x,u9C.y);if(j9C=u9C.rotation){t9C?(Z9C.translate(J9C,S9C),Z9C.rotate(j9C),Z9C.translate(-J9C,-S9C)):Z9C.rotate(j9C);}Z9C._cp=Z9C.point2d(J9C,S9C);Z9C._nw=Z9C.point2d(0,0);Z9C._ne=Z9C.point2d(K9C,0);Z9C._se=Z9C.point2d(K9C,b9C);Z9C._sw=Z9C.point2d(0,b9C);Z9C._n=Z9C.point2d(J9C,0);Z9C._e=Z9C.point2d(K9C,S9C);Z9C._s=Z9C.point2d(J9C,b9C);Z9C._w=Z9C.point2d(0,S9C);o6J.updateMatrix2DMouse(E9C);}return E9C.matrix2D;};o6J.updateSnap=function(N9C,B9C){var f9C=sketch.globals,m9C=N9C.doc.scene,C9C=B9C.env.guides;C9C||(C9C=[],f9C.snapToObjects&&(C9C=C9C.concat(D6J(N9C))),f9C.snapToGrid&&(C9C=C9C.concat(N9C.doc.scene.grid=[])),f9C.snapToGuides&&(C9C=C9C.concat(m9C.guides)),B9C.env.guides=C9C);m9C.snapToGuides(N9C,C9C,B9C);};sketch.paintUtils.getOuterWidth=function(l9C){var Q9C=l9C.lineWidth;"miter"===l9C.lineJoin&&(Q9C*=l9C.miterLimit/2);return Q9C;};}();void function(){sketch.module.Control=function(D9C){function p9C(){z9C.clearOverlayCanvas();var o1C=W9C.length;if(0!==o1C){for(var O1C=0;O1C<o1C;O1C++){var M1C=W9C[O1C].control;M1C&&M1C.hide&&M1C.hide.call(M1C,D9C);}W9C.splice(0,o1C);}}function Y9C(g1C,H1C){if(g1C.drawController){var h1C=null;g1C.hashOfControls&&(h1C=g1C.hashOfControls());var y1C=X9C.overlay;if(h1C&&h1C===y1C._hashOfRender){return true;}p9C();g1C=g1C.drawController(y1C.ctx,H1C);y1C._hashOfRender=h1C;return g1C;}}function R9C(){if(D9C._interacting&&sketch.globals.snapToGuides&&F9C.guides.visible){var q1C=D9C.tool.toolkitId;z9C.drawGuides(X9C.overlay.ctx,"clipart"===q1C||"text"===q1C||"select"===q1C);}}function a9C(Z1C){var K1C=D9C.selection.length;if(Z1C){var u1C=D9C.zoom,j1C=u1C*D9C.pixelRatio;Z1C=X9C.overlay.ctx;Z1C.save();var E1C=z9C.selectionPending,t1C=E1C.items,J1C=I1C[E1C.metaKey&&K1C?"deselect":"select"];Z1C.lineWidth=1/u1C;Z1C.fillStyle=J1C.selection.fill;Z1C.strokeStyle=J1C.selection.stroke;var S1C=E1C.x-(D9C.scroll.x-(E1C.scrollX-D9C.scroll.x))/j1C,j1C=E1C.y-(D9C.scroll.y-(E1C.scrollY-D9C.scroll.y))/j1C;Z1C.beginPath();Z1C.rect(S1C,j1C,E1C.width,E1C.height);Z1C.fill();Z1C.stroke();Z1C.lineWidth=.75/u1C;Z1C.fillStyle=J1C.layer.fill;Z1C.strokeStyle=J1C.layer.stroke;var u1C=Object.assign({},t1C),b1C;for(b1C in t1C){t1C[b1C]?(K1C++,u1C[b1C]=true):(K1C--,delete u1C[b1C]),(E1C=z9C._byId[b1C])&&!E1C.locked&&(E1C.selected=!!u1C[b1C],S1C=E1C.bbox,J1C=S1C.computedWidth,S1C=S1C.computedHeight,j1C=E1C.getCurrentTransform(),Z1C.save(),j1C.applyTransform(Z1C),Z1C.beginPath(),G9C.getFeatures(E1C).showGhostPath?k9C(Z1C,E1C):(Z1C.rect(0,0,J1C,S1C),Z1C.fill(),Z1C.stroke()),Z1C.restore());}Z1C.restore();1<K1C&&x9C(u1C);}else{1<K1C&&x9C();}}function x9C(N1C){var C1C;(C1C=z9C.multiSelectObject)||(N1C||(N1C=Object.assign({},D9C.selection.items)),C1C=D9C.selection.bbox(N1C),C1C=new D9C.Layer({type:"square",toolkitId:"shape",id:"MultiSelectionObject",idx:-1,bbox:{units:"userSpaceOnUse",x:C1C.x1,y:C1C.y1,width:C1C.x2-C1C.x1,height:C1C.y2-C1C.y1}}),C1C.selection=N1C,C1C=z9C.multiSelectObject=C1C);N1C=C1C;C1C=D9C.theme.getControls({toolkitId:"shape"});var f1C=X9C.overlay.ctx;sketch.layerUtils.updateTransform(N1C);z9C.renderOutline(f1C,N1C);var B1C="edge"!==N1C.stretchTo;B1C&&(L9C(f1C,N1C,C1C),n1C(f1C,N1C,C1C));A9C(f1C,N1C,C1C.boundingBox);c1C(f1C,N1C,C1C.anchor);B1C&&v9C(f1C,N1C,C1C);z9C.debugControls(f1C);}function k9C(m1C,l1C){var Q1C=l1C.bbox.scale;m1C.scale(Q1C.x,Q1C.y);sketch.drawPath(m1C,l1C.data);l1C&&(l1C.selected||l1C.hovered)&&(m1C.save(),l1C.selected?(m1C.shadowOffsetX=0,m1C.shadowOffsetY=0,m1C.shadowBlur=0,m1C.shadowColor="#F00",m1C.lineWidth=8,m1C.strokeStyle="#F00",m1C.stroke(),m1C.lineWidth=5,m1C.strokeStyle="#fff"):(m1C.globalAlpha=1,m1C.lineWidth=5,m1C.strokeStyle="#Fff"),m1C.stroke(),m1C.restore());m1C.lineWidth=1.5;sketch.style.apply(m1C,l1C);}function V9C(X1C,z1C,G1C){if(z1C.visible&&z1C.selectable&&!z1C.locked&&(!z1C.isEditing||!Y9C(z1C.tool,z1C))){if(1<z9C.selection.length){var D1C=z9C.controlActive;if(D1C.moving||D1C.scaling||D1C.rotating){return;}}z9C.renderOutline(X1C,z1C);if(!G1C){G1C=G9C.getFeatures(z1C);var D1C=D9C.theme.getControls(z1C),V1C="edge"!==z1C.stretchTo;if(V1C&&(false!==G1C.rotatable&&L9C(X1C,z1C,D1C),false!==G1C.scalable)){var d1C=z9C.controlActive,U1C=d1C.id;if(!(d1C.moving||d1C.rotating||T1C[U1C])){var W1C=z1C.bbox,d1C=W1C.computedWidth,W1C=W1C.computedHeight,p1C=25/D9C.zoom,e1C=G1C.hideSideControls;if(Math.abs(W1C)>p1C){var F1C=r1C[U1C];!D1C.n||e1C||F1C||d9C(X1C,z1C,D1C,{id:"n",debugColor:"#e9e34d",x:d1C/2,y:0});!D1C.s||e1C||F1C||d9C(X1C,z1C,D1C,{id:"s",debugColor:"#e9e34d",x:d1C/2,y:W1C});}Math.abs(d1C)>p1C&&(U1C=w9C[U1C],!D1C.e||e1C||U1C||d9C(X1C,z1C,D1C,{id:"e",debugColor:"#e13b3b",x:d1C,y:W1C/2}),!D1C.w||e1C||U1C||d9C(X1C,z1C,D1C,{id:"w",debugColor:"#e13b3b",x:0,y:W1C/2}));}n1C(X1C,z1C,D1C);}A9C(X1C,z1C,D1C.boundingBox);V1C&&false!==G1C.rotatable&&v9C(X1C,z1C,D1C);z9C.debugControls(X1C);}}}function d9C(A1C,c4C,a1C,x1C){var s4C=x1C.id,P1C=i9C(a1C,s4C);if(P1C&&true!==P1C.disabled){var T4C=D9C.scale,w1C=D9C.zoom,i1C=w1C*T4C,k1C=(isFinite(P1C.padding)?P1C.padding:0)/w1C,r4C=c4C.bbox,v1C=r4C.scale.x,R1C=r4C.scale.y,n4C=0>v1C?-1:1,I4C=0>R1C?-1:1,M4C=(n4C*P1C.left||0)/w1C,o4C=(I4C*P1C.top||0)/w1C,v1C={inherit:a1C.width*n4C,padding:k1C,percent:r4C.width*v1C*i1C,flip:n4C},O4C={inherit:a1C.height*I4C,padding:k1C,percent:r4C.height*R1C*i1C,flip:I4C};a1C=P1C.width;var L1C=P1C.height;"string"===typeof a1C&&(a1C=e9C.math(a1C,v1C));"string"===typeof L1C&&(L1C=e9C.math(L1C,O4C));var R1C=a1C/ i1C,L1C=L1C/ i1C,Y1C=P1C.x,Y1C="string"===typeof Y1C?e9C.math(Y1C,v1C)/ i1C-R1C/2:x1C.x-R1C/2,v1C=P1C.y,v1C="string"===typeof v1C?e9C.math(v1C,O4C)/ i1C-L1C/2:x1C.y-L1C/2;0>R1C&&(Y1C+=R1C,R1C=-R1C);0>L1C&&(v1C+=L1C,L1C=-L1C);i1C=c4C.getCurrentTransform().point2d(Y1C,v1C);x1C=z9C.addControl({id:s4C,layer:c4C,title:P1C.title,cursor:P1C.cursor||"default",hovered:"hover"===P1C.state,control:P1C,debugColor:x1C.debugColor,event:P1C.command,onmousedown:P1C.onmousedown,onmouseup:P1C.onmouseup,onhover:P1C.onhover,bbox:{units:r4C.units,x:i1C.x,y:i1C.y,left:-k1C+M4C,top:-k1C+o4C,width:R1C*T4C+2*k1C,height:L1C*T4C+2*k1C,rotation:r4C.rotation}});A1C.save();A1C.beginPath();A1C.translate(x1C.bbox.x,x1C.bbox.y);A1C.rotate(x1C.bbox.rotation);s4C=1;"svg"===P1C.shape&&(s4C=a1C/P1C.viewBox[2]);A1C.translate(M4C,o4C);P1C.render({ctx:A1C,layer:c4C,control:x1C,matrix:{a:s4C*n4C/w1C,b:0,c:0,d:s4C*I4C/w1C,e:0,f:0}});A1C.restore();}}function A9C(g4C,y4C,h4C){if(h4C&&(!z9C.controlActive||!z9C.controlActive.scaling)){g4C=y4C.bbox;var H4C=g4C.computedWidth,q4C=g4C.computedHeight,Z4C=D9C.scale,u4C=h4C.padding,E4C=y4C.getCurrentTransform().point2d(0>g4C.scale.x?H4C:0,0>g4C.scale.y?q4C:0);z9C.addControl({id:"boundingBox",control:h4C,cursor:h4C.cursor,event:h4C.command,layer:y4C,padding:u4C,title:function(j4C,J4C){var S4C=j4C.type;if(j4C.selected||"MultiSelectionObject"===j4C.id){if((j4C=J4C["title."+S4C+":selected"])||""===j4C||(j4C=J4C["title:selected"])||""===j4C){return j4C;}}return(j4C=J4C["title."+S4C])||""===j4C?j4C:J4C.title||"";}(y4C,h4C),bbox:{units:g4C.units,x:E4C.x,y:E4C.y,width:Math.abs(H4C*Z4C),height:Math.abs(q4C*Z4C),rotation:g4C.rotation}});}}function c1C(K4C,Q4C,l4C){if(!z9C.controlActive||!z9C.controlActive.scaling){var B4C=D9C.scale,C4C=D9C.zoom,N4C=l4C.padding,m4C=1/C4C*N4C,b4C=Q4C.bbox;b4C.anchor||(b4C.anchor={x:.5,y:.5});var t4C=z9C.getAnchorPoint(Q4C),z4C=t4C.x,t4C=t4C.y,f4C=10/C4C;z9C.addControl({id:"anchor",control:l4C,cursor:l4C.cursor,debugColor:"black",layer:Q4C,padding:N4C,bbox:{units:b4C.units,x:z4C,y:t4C,left:1.5*-N4C/C4C,top:1.5*-N4C/C4C,width:f4C*B4C+m4C,height:f4C*B4C+m4C,rotation:b4C.rotation},event:function(){return function(X4C){var D4C=D9C.zoom,d4C=new sketch.Point(X4C.delta()).rotate(-b4C.rotation);b4C.anchor.x+=d4C.x/b4C.computedWidth/D4C;b4C.anchor.y+=d4C.y/b4C.computedHeight/D4C;U9C.dirtyControls=true;sketch.emit("cursor:show",{cursor:"grab",interacting:X4C.DOWN});};}});K4C.save();K4C.shadowOffsetX=1;K4C.shadowOffsetY=1;K4C.shadowColor="black";K4C.lineWidth=1/C4C;K4C.strokeStyle="white";K4C.beginPath();K4C.translate(z4C,t4C);K4C.rotate(b4C.rotation);s1C.Shape.cross(K4C,0,0,f4C,f4C);K4C.stroke();K4C.restore();}}function n1C(F4C,e4C,W4C){var G4C=z9C.controlActive;if(!G4C.moving&&!G4C.rotating){var G4C=!W4C.ne,V4C=!W4C.se,P4C=!W4C.sw,U4C=e4C.bbox,p4C=U4C.computedWidth,U4C=U4C.computedHeight;true!==!W4C.nw&&d9C(F4C,e4C,W4C,{id:"nw",debugColor:"#4fe896",x:0,y:0});true!==G4C&&d9C(F4C,e4C,W4C,{id:"ne",debugColor:"#3b8de1",x:p4C,y:0});true!==V4C&&d9C(F4C,e4C,W4C,{id:"se",debugColor:"#4fe896",x:p4C,y:U4C});true!==P4C&&d9C(F4C,e4C,W4C,{id:"sw",debugColor:"#3b8de1",x:0,y:U4C});}}function L9C(v4C,i4C,a4C){var R4C=z9C.controlActive;if(!R4C.scaling&&!R4C.moving){if(a4C.spinner&&false!==i4C.useControlSpinner){var Y4C=z9C.controlActive.rotating,L4C=i4C.bbox,k4C=D9C.scale,x4C=D9C.zoom,R4C=L4C.computedWidth/2,w4C=0<L4C.scale.y?-1:1;v4C.save();v4C.globalAlpha=.5;v4C.lineWidth=1/x4C;v4C.beginPath();Y4C?(k4C=a4C["spinner-focus"],x4C=i4C.getCurrentTransform(),w4C=x4C.spinnerDistance*w4C+L4C.computedHeight/2,L4C=x4C.point2d(R4C,w4C),v4C.moveTo(x4C._cp.x,x4C._cp.y),v4C.lineTo(L4C.x,L4C.y),v4C.strokeStyle=k4C.fillStyle):(L4C=a4C.spinner,w4C*=(L4C.height+L4C.padding)/x4C/k4C,L4C=i4C.getCurrentTransform(),k4C=L4C.point2d(R4C,w4C),v4C.moveTo(L4C._n.x,L4C._n.y),v4C.lineTo(k4C.x,k4C.y),v4C.strokeStyle="black");v4C.stroke();v4C.restore();d9C(v4C,i4C,a4C,{id:"spinner",x:R4C,y:w4C});}else{a4C.nw_spinner&&(R4C=z9C.controlActive,R4C.scaling||R4C.moving||(d9C(v4C,i4C,a4C,{id:"nw_spinner",debugColor:"#00f"}),d9C(v4C,i4C,a4C,{id:"ne_spinner",debugColor:"#f0f"}),d9C(v4C,i4C,a4C,{id:"se_spinner",debugColor:"#f00"}),d9C(v4C,i4C,a4C,{id:"sw_spinner",debugColor:"#ff0"})));}}}function v9C(r7C,s7C,A4C){!z9C.controlActive.rotating&&A4C.nw_spinner_area&&(d9C(r7C,s7C,A4C,{id:"nw_spinner_area",debugColor:"#f00",x:0,y:0}),d9C(r7C,s7C,A4C,{id:"ne_spinner_area",debugColor:"#ff0",x:0,y:0}),d9C(r7C,s7C,A4C,{id:"se_spinner_area",debugColor:"#0f0",x:0,y:0}),d9C(r7C,s7C,A4C,{id:"sw_spinner_area",debugColor:"#0ff",x:0,y:0}));}function i9C(I7C,n7C){return I7C[n7C+"-"+(Gesture.isTouch?"normal":z9C.controlActive.id===n7C?"focus":z9C.controlHovered.id===n7C?"hover":"normal")]||I7C[n7C];}var X9C=D9C.contexts,P9C=sketch.detect,F9C=sketch.feature,G9C=sketch.layerUtils,U9C=D9C.render,z9C=D9C.scene,e9C=sketch.util,s1C=sketch.vector;z9C.control={};z9C.controlActive={};z9C.controlHovered={};z9C.controlHoveredArray=[];var W9C=z9C.controls=[];z9C.selectionPending=null;z9C.multiSelectObject=null;z9C.addControl=function(T7C){T7C.cursor||(T7C.cursor="default");T7C.type||(T7C.type="button");T7C.bbox=new sketch.LayerBBox(T7C.bbox);W9C.push(T7C);return T7C;};z9C.clearOverlayCanvas=function(){X9C.overlay._hashOfRender=null;sketch.Canvas2D.clear(X9C.overlay);};z9C.renderControls=function(M7C){var c7C=D9C.tool;if(!Y9C(c7C)){if(P9C.useSelectGUI[c7C.type]){var c7C=z9C.hovered,o7C=z9C.selection,O7C=z9C.control;if(o7C.changed||z9C.selectionPending){z9C.multiSelectObject=null;}if(M7C||c7C.changed||o7C.changed||O7C.changed){O7C.changed=false;c7C.changed=false;o7C.changed=false;p9C(true);M7C=X9C.overlay.ctx;M7C.save();z9C.setTransform(M7C);var q7C=F9C.tools.select.useHoverAsFocus,O7C=D9C.tools.zoom.inQuickZoomState,y7C=o7C.length,g7C=Object.assign({},c7C.items,o7C.items),h7C;for(h7C in g7C){if(g7C=z9C._byId[h7C]){var H7C=c7C.includes(g7C);o7C.id===g7C.id||H7C&&q7C&&0===y7C?V9C(M7C,g7C,O7C):H7C&&V9C(M7C,g7C,true);}}h7C=P9C.usePointerThread;if(h7C[D9C.tool.type]){for(var Z7C in D9C.gesture.items){c7C=D9C.gesture.items[Z7C],h7C[c7C.layer.type]&&V9C(M7C,c7C.layer,O7C);}}z9C.selectionPending?a9C(true):1<y7C&&a9C(false);M7C.restore();R9C();U9C.dirtyCursorTip&&z9C.drawCursorTip(U9C.dirtyCursorTip);}else{R9C();}}else{p9C(true),U9C.dirtyCursorTip&&z9C.drawCursorTip(U9C.dirtyCursorTip);}}};z9C.drawCursorTip=function(){var E7C=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if("reset"===E7C){sketch.emit("tooltip:hide");}else if(false!==G9C.getFeatures(E7C.layer).showCenterPoint){var u7C=E7C.point,j7C=E7C.content;j7C&&u7C&&sketch.emit("tooltip:show",j7C,{stickToEdge:u7C});E7C.draw&&E7C.draw();}};var I1C={select:{selection:{fill:"rgba(0,240,100,0.20)",stroke:"rgba(0,240,100,1)"},layer:{fill:"rgba(255,255,255,0.20)",stroke:"#0E81D4"}},deselect:{selection:{fill:"rgba(255,50,100,0.20)",stroke:"rgba(255,50,100,1)"},layer:{fill:"rgba(0,0,0,0.20)",stroke:"#0E81D4"}}};z9C.renderOutline=function(J7C,K7C){var b7C=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).lineDash,t7C=z9C.hovered.includes(K7C),N7C=z9C.selection.includes(K7C),S7C=K7C.bbox,f7C=S7C.computedWidth,B7C=S7C.computedHeight,S7C=D9C.theme.getControls(K7C),S7C=i9C(S7C,"boundingBox"),C7C=G9C.getFeatures(K7C);if(C7C.showBBox||C7C.showGhostPath){J7C.save(),J7C.beginPath(),J7C.isOverlay&&K7C.setCtxTransform(J7C),C7C.showGhostPath?k9C(J7C,K7C):(J7C.lineWidth=(S7C.lineWidth||1)/(D9C.zoom*D9C.pixelRatio),J7C.rect(0,0,f7C,B7C),b7C&&J7C.setLineDash(b7C),b7C=t7C&&!N7C&&Keyster.shift,(t7C=t7C&&Keyster.meta)||b7C?(J7C.shadowOffsetX=1,J7C.shadowOffsetY=1,J7C.shadowColor="rgba(0,0,0,0.25)",J7C.strokeStyle=t7C&&N7C?"rgba(255,0,0,0.85)":"rgba(0,255,0,0.85)"):"text"===K7C.toolkitId&&D9C.tools.text.isOutOfBounds(K7C)?(J7C.shadowOffsetX=1,J7C.shadowOffsetY=1,J7C.shadowColor="rgba(255,255,255,0.65)",J7C.strokeStyle="rgba(255,0,0,0.85)"):("transparent"!==S7C.shadowColor&&(J7C.shadowOffsetX=S7C.shadowOffsetX||0,J7C.shadowOffsetY=S7C.shadowOffsetY||0,J7C.shadowBlur=S7C.shadowBlur||0,J7C.shadowColor=S7C.shadowColor||"transparent"),J7C.strokeStyle=S7C.strokeStyle||"#000"),J7C.stroke()),J7C.restore();}};z9C.debugControls=function(){var m7C=0<arguments.length&&void 0!==arguments[0]?arguments[0]:X9C.overlay.ctx;if(F9C.debugControls){var D7C=D9C.pixelRatio,l7C=D9C.viewport,z7C=D9C.zoom;m7C.save();m7C.setTransform(D7C,0,0,D7C,0,0);m7C.translate(l7C.x,l7C.y);m7C.scale(z7C,z7C);D7C=Object.keys(sketch.color.webcolors);for(l7C=0;l7C<W9C.length;l7C++){var z7C=W9C[l7C],Q7C=z7C.bbox,d7C=Q7C.left||0,X7C=Q7C.top||0;m7C.save();m7C.beginPath();m7C.translate(Q7C.x,Q7C.y);m7C.rotate(Q7C.rotation);m7C.globalAlpha=.5;m7C.fillStyle=z7C.debugColor||D7C[l7C];m7C.fillRect(d7C,X7C,Q7C.width,Q7C.height);m7C.restore();}m7C.restore();}};var T1C={ne:true,se:true,sw:true,nw:true},r1C={e:true,w:true},w9C={n:true,s:true};};}();void function(){function U7C(V7C){var P7C=W7C.round(Math.abs(V7C.computedWidth),.01);V7C=W7C.round(Math.abs(V7C.computedHeight),.01);return"W: "+P7C+" px<br>H: "+V7C+" px";}function e7C(v7C){var L7C=v7C.scene,R7C=v7C.ui;return function(i7C){i7C.prevent();if(i7C.START){L7C.render();i7C=i7C.asClientXY();var a7C=Gesture._getElementMetrics(v7C.$inputPointer);i7C=new Point(i7C.x-a7C.pageXOffset,i7C.y-a7C.pageYOffset);R7C.contextMenu.show("selectSingle",{at:i7C.add(5)});}};}function F7C(x7C){var k7C=x7C.contexts,w7C=x7C.scene;return function(Y7C){Y7C.isTouch&&Y7C.prevent();if(!Y7C.DOWN&&(w7C.controls[1]||{}).hovered){x7C.selection.remove({recordHistory:true});var A7C=0,r6C=setInterval(function(){var n6C=k7C.overlay,s6C=n6C.ctx;s6C.save();s6C.globalAlpha=.25;s6C.globalCompositeOperation="destination-out";s6C.fillRect(0,0,n6C.width,n6C.width);s6C.restore();10<++A7C&&(clearInterval(r6C),render.dirty=true);},25);}};}function p7C(I6C,h6C){var M6C=I6C.render,c6C=I6C.scene,T6C=I6C.scroll,o6C=sketch.util,O6C=I6C.zoom*I6C.scale,g6C=h6C.bbox;return function(y6C){y6C.isTouch&&y6C.cancel();I6C._interacting=y6C.DOWN;sketch.emit("cursor:show",{cursor:"grab",interacting:y6C.DOWN});var H6C=y6C.env;y6C.START?(H6C.x=0,H6C.y=0,H6C.scrollX=0,H6C.scrollY=0):y6C.END?c6C.controlActive={}:y6C.CHANGED&&(c6C.controlActive={id:"boundingBox",moving:true});var q6C=0,Z6C=0;if(y6C.CHANGE){var Z6C=y6C.y-H6C.y,E6C=T6C.y-H6C.scrollY,q6C=(y6C.x-H6C.x+(T6C.x-H6C.scrollX))/O6C,Z6C=(Z6C+E6C)/O6C;}H6C.x=y6C.x;H6C.y=y6C.y;H6C.scrollX=T6C.x;H6C.scrollY=T6C.y;if(q6C||Z6C||y6C.END||y6C.START){I6C.selection.transform({gevent:y6C,recordHistory:true,snapToPixels:true,x:q6C,y:Z6C}),c6C.render(),y6C.END?M6C.dirtyCursorTip="reset":(y6C.CHANGED?(q6C=g6C.toAxisAligned(),H6C=o6C.round(q6C.x,.01),q6C=o6C.round(q6C.y,.01),H6C="X: "+H6C+" px<br>Y: "+q6C+" px"):H6C=U7C(g6C),M6C.dirtyCursorTip={layer:h6C,point:y6C.asClientXY(),content:H6C});}};}var W7C=sketch.util,G7C=sketch.Angle;sketch.module.ControlEvent=function(u6C){function N6C(F6C,t84,b84,o84){function K84(N84){if(a6C||O84){N84=N84.asClientXY();var f84=void 0;if(L6C||P6C){f84=S84(F6C,e6C.rotation,h84);}var C84;P6C?(C84=G7C.clamp(e6C.rotation),C84=Math.round(C84*W7C.RAD_DEG)+"&deg;"):C84=U7C(e6C);C6C.dirtyCursorTip={layer:F6C,content:C84,point:N84,draw:f84};}C6C.scene();s84&&(C6C.dirtyCursorTip="reset");}function j84(m84){var B84=H84(m84,0,"x"),l84=H84(m84,90,"y");k6C||(B84=Math.max(0,B84),l84=Math.max(0,l84));if(w6C){var Q84=1,z84=1;k6C&&(0>B84&&(Q84=-1),0>l84&&(z84=-1));if(y84){return B84=d6C[p6C],0>e6C.scale.x!==0>e6C.scale.y&&(B84+=90),m84=H84(m84,B84,"xy"),{x:m84*Q84,y:m84*z84};}m84=Math.max(Math.abs(B84),Math.abs(l84));return{x:m84*Q84,y:m84*z84};}return M84?{x:j6C.ZERO,y:k6C?l84:Math.max(0,l84)}:g84?{x:k6C?B84:Math.max(0,B84),y:j6C.ZERO}:{x:B84,y:l84};}function H84(W84,d84,X84){var D84=d84+e6C.rotation*D6C;d84=new b6C(Y6C);D84=b6C.atAngleDistance(d84,D84*f6C,1);D84=b6C.nearestOnLine(W84,d84,D84);W84=b6C.distance(d84,D84)||j6C.ZERO;D84=b6C.sub(d84,D84);d84=0>D84.x;D84=0>D84.y;null==A6C[X84]&&(A6C[X84]={x:d84,y:D84});if(P6C&&L6C||"xy"===X84){return W84;}X84=A6C[X84];return W84*(X84.x!==d84||X84.y!==D84?-1:1);}function S84(U84,G84,e84){return function(){var F84=J6C.getAnchorPoint(U84,e84),p84=u6C.pixelRatio,V84=p84*u6C.zoom,P84=j6C.round(F84.x*V84+S6C.x*p84,.5,true),V84=j6C.round(F84.y*V84+S6C.y*p84,.5,true),v84=10*p84,F84=Q6C.overlay.ctx;F84.save();F84.shadowOffsetX=1;F84.shadowOffsetY=1;F84.shadowColor="rgba(0,0,0,1)";F84.shadowBlur=0;F84.beginPath();F84.translate(P84,V84);F84.rotate(G84);m6C.Shape.cross(F84,0,0,v84,v84);F84.strokeStyle="white";F84.stroke();P84=J6C.controlActive;P84.scaling&&!B6C[P84.id]&&sketch.layerUtils.getFeatures(U84).flippable&&(P84=10*p84,p84*=Math.sqrt(S6C.width*S6C.width+S6C.height*S6C.height),V84=-p84,v84=-p84,F84.globalAlpha=.5,F84.beginPath(),F84.moveTo(0,v84),F84.lineTo(0,p84),F84.moveTo(V84,0),F84.lineTo(p84,0),F84.setLineDash([P84,P84]),F84.strokeStyle="white",F84.stroke());F84.restore();};}if(F6C=U6C(F6C)){var V6C=F6C.getCurrentTransform(),T84=u6C.zoom*u6C.scale,e6C=F6C.bbox,Z84=e6C.clone(),r84=void 0,A6C={},R6C=void 0,q84=void 0,v6C=void 0,i6C={},n84,c84,a6C=void 0,s84=void 0,O84=void 0,x6C=Keyster.shift;o84=sketch.layerUtils.getFeatures(F6C);var k6C=!!o84.flippable,y84=1<u6C.selection.length,P6C=void 0,L6C=void 0,w6C=void 0,E84=o84.useResize,u84="objectBoundingBox"===e6C.units,p6C=J6C.controlHovered.id||"",h84=X6C[p6C],J84=!!W6C[p6C],g84=!!G6C[p6C],M84=!!l6C[p6C],I84=!!B6C[p6C],Y6C=function(){var L84;L84=e6C.anchor?J6C.getAnchorPoint(F6C):u84?V6C._cp:V6C["_"+h84]||V6C._cp;return{x:L84.x/u6C.scale,y:L84.y/u6C.scale,rotation:e6C.rotation};}();return function R84(a84){a84.isTouch?a84.cancel():a84.prevent();u6C._interacting=a84.DOWN;var x84=a84.env;a6C=a84.START;s84=a84.END;O84=a84.CHANGE;P6C=!(false===t84||false===F6C.rotatable||true===I84);L6C=!(false===b84||false===F6C.scalable);w6C=(J84&&!x6C||I84&&x6C||y84)&&!E84;a6C&&(x84.onShift=Keyster.on("shift",function(){x6C=Keyster.shift;R84(a84);}),J6C.controlActive={id:p6C,scaling:L6C,rotating:P6C});s84&&(J6C.controlActive={},null==x84.onShift?console.error("env.onShift undefined"):x84.onShift.detach());x84={x:(a84.x-S6C.paddingLeft)/T84,y:(a84.y-S6C.paddingTop)/T84};r84||(r84=x84);if(P6C){var i84=-Math.atan2(Y6C.x-x84.x||j6C.ZERO,Y6C.y-x84.y||j6C.ZERO)+Math.PI,k84=0,w84=x6C?5*f6C:1*f6C,i84=i84-i84%w84;null==R6C&&(R6C=i84,k84=e6C.rotation-j6C.round(e6C.rotation,w84));q84=i84-R6C-k84;R6C=i84;}L6C&&(v6C&&v6C.useScaleUniform===w6C||(v6C=j84(r84),v6C.useScaleUniform=w6C),i84=j84(x84),k84=Z84.scale,i84=new b6C(i84).divide(v6C).multiply(k84),i84.x||(i84.x=M84?1:j6C.ZERO),i84.y||(i84.y=g84?1:j6C.ZERO),n84=i84.x/(i6C.x||i84.x),c84=i84.y/(i6C.y||i84.y),i6C.x=i84.x,i6C.y=i84.y);u6C.selection.transform({gevent:a84,recordHistory:true,snapToPixels:true,origin:Y6C,rotation:q84,sx:n84,sy:c84});-1!==p6C.indexOf("spinner")&&(V6C.spinnerDistance=b6C.distance(x84,V6C._cp),V6C.spinnerPoint=x84);z6C.ui.dynamicCursor&&J6C.controlHovered.id&&(a6C||0>n84||0>c84)&&u6C.setCSSCursor(J6C.controlHovered,F6C);K84(a84,V6C);};}}function U6C(Y84){Y84||(Y84=J6C.getFocalObjects()[0]);if(Y84&&(u6C.selection.layer||J6C.select(Y84),Y84.getCurrentTransform())){return Y84;}}function t6C(r24){var A84={};r24.forEach(function(s24){return A84[s24]=true;});return A84;}var Q6C=u6C.contexts,z6C=sketch.feature,C6C=u6C.render,J6C=u6C.scene,K6C=u6C.toolkit,j6C=sketch.util,m6C=sketch.vector,S6C=u6C.viewport,b6C=sketch.Point,f6C=j6C.DEG_RAD,D6C=j6C.RAD_DEG;K6C.contextEvent=function(){return e7C(u6C);};K6C.deleteEvent=function(){return F7C(u6C);};K6C.moveEvent=function(){var n24=U6C();if(n24){return p7C(u6C,n24);}};K6C.resizeEvent=function(){return N6C(this.layer,false,false,true);};K6C.scaleEvent=function(){return N6C(this.layer,false,true,false);};K6C.rotateEvent=function(){return N6C(this.layer,true,false,false);};K6C.rotateScaleEvent=function(){return N6C(this.layer,true,true,false);};J6C.getAnchorPoint=function(I24,M24){var T24=I24.getCurrentTransform();I24=I24.bbox;var c24=I24.anchor;return c24?T24.point2d(c24.x*I24.computedWidth,c24.y*I24.computedHeight):T24["_"+M24]||T24._cp;};var d6C={n:270,e:0,s:90,w:180,ne:315,se:45,sw:135,nw:225},X6C={n:"s",e:"w",s:"n",w:"e",ne:"sw",se:"nw",sw:"ne",nw:"se"},W6C=t6C(["ne","se","sw","nw"]),B6C=t6C("e w n s e_all w_all n_all s_all".split(" ")),G6C=t6C(["e","w","e_all","w_all"]),l6C=t6C(["n","s","n_all","s_all"]);};}();void function(){sketch.module.ThemeDefault=function(){function O24(Z24){return q24(Object.assign(Z24,{path:"M0,0 12,0 12,6 6,6, 6,12 0,12z"}));}function g24(j24){var E24=j24.size,u24=new H24.Record();H24.Shape.triangle(u24,E24,E24,E24);return q24(Object.assign(j24,{path:u24.path}));}function h24(J24){return function(S24,b24){var K24=sketch.doc.scene;0!==(K24.controlHovered.id||"").indexOf(S24.id)&&0!==(K24.controlHoveredArray||[]).indexOf(S24.id+"_area")||y24(S24,J24,b24);};}function y24(N24,f24,B24){var t24=N24.ctx,C24=N24.matrix;N24=N24.controlStyle;var Q24=B24.zoom;B24=N24.width/10;var l24=9.395*B24/2;f24=sketch.Angle.flip(f24,C24.a,C24.d)*o24.DEG_RAD;t24.scale(1/Q24,1/Q24);t24.translate(l24,l24);t24.rotate(f24);t24.translate(-l24,-l24);t24.scale(B24,B24);f24=y24.path||(y24.path=sketch.SVG.svgPathToVOB("M16.6,8.5l-1.4-1.4c-2.9-2.9-7.6-2.9-10.5,0L3.3,8.4L1.5,6.6l-0.9,6.3l6.4-1l-1.8-1.8l1.3-1.3c1.9-1.9,5-1.9,6.9,0l1.4,1.4L13,12.1l6.4,1l-1-6.4C18.4,6.7,16.6,8.5,16.6,8.5z"));C24=new sketch.PathBBox(f24).asDiagonal();C24=Math.min(C24.x2-C24.x1,C24.y2-C24.y1);t24.translate(-C24/2,-C24/2);t24.beginPath();sketch.drawPath(t24,f24);t24.fillStyle=N24.fillStyle;t24.fill();t24.lineWidth=N24.lineWidth/B24;t24.strokeStyle=N24.strokeStyle;t24.stroke();}function q24(z24){var U24=z24.angle,d24=z24.x||0,X24=z24.y||0,W24="string"===typeof z24.path?sketch.SVG.svgPathToVOB(z24.path):z24.path;z24=new sketch.PathBBox(W24).asRect();var D24=Math.max(z24.width,z24.height);return function(e24,p24){var G24=e24.ctx,v24=e24.matrix,F24=e24.controlStyle;p24=p24.zoom;var P24=(Number.isFinite(F24.width)?F24.width:F24.height)/D24,V24=D24/2;if(d24||X24){e24=e24.control.bbox,e24={size:D24/p24,zoom:p24,width:e24.width,height:e24.height},G24.translate(o24.math(d24,e24),o24.math(X24,e24));}G24.scale(1/p24,1/p24);G24.scale(P24,P24);G24.translate(V24,V24);G24.scale(0>v24.a?-1:1,0>v24.d?-1:1);G24.rotate(U24*o24.DEG_RAD);G24.translate(-V24,-V24);G24.beginPath();sketch.drawPath(G24,W24);G24.fillStyle=F24.fillStyle;G24.fill();G24.lineWidth=F24.lineWidth/P24;G24.strokeStyle=F24.strokeStyle;G24.stroke();};}var H24=sketch.vector,o24=sketch.util;return{normal:{lineWidth:.75,strokeStyle:"rgba(0,0,0,0.7)",shadowColor:"rgba(255,255,255,0.7)",shadowOffsetX:1,shadowOffsetY:1,fillStyle:"#fff"},hover:{lineWidth:.75,strokeStyle:"rgba(0,0,0,0.7)",shadowColor:"rgba(255,255,255,0.7)",shadowOffsetX:1,shadowOffsetY:1,fillStyle:"#00E359"},focus:{lineWidth:.75,strokeStyle:"rgba(0,0,0,0.7)",shadowColor:"rgba(255,255,255,0.7)",shadowOffsetX:1,shadowOffsetY:1,fillStyle:"#FF2894"},anchor:{cursor:"grab"},boundingBox:{command:"move",cursor:"grab",title:"click-to-select","title:selected":"","title.text":"dblclick-to-edit"},nw:{command:"scale",cursor:"nw-resize",render:O24({angle:0})},ne:{command:"scale",cursor:"ne-resize",render:O24({angle:90})},se:{command:"scale",cursor:"se-resize",render:O24({angle:180})},sw:{command:"scale",cursor:"sw-resize",render:O24({angle:270})},n:{command:"scale",cursor:"n-resize",x:"50%",y:"-5 * flip",width:"100%",height:10,padding:0,render:g24({angle:0,size:5,x:"(width - size) / 2",y:"-2 / zoom"})},s:{command:"scale",cursor:"s-resize",x:"50%",y:"100% + (5 * flip)",width:"100%",height:10,padding:0,render:g24({angle:180,size:5,x:"(width - size) / 2",y:"2 / zoom"})},e:{command:"scale",cursor:"e-resize",x:"100% + (5 * flip)",y:"50%",width:10,height:"100%",padding:0,render:g24({angle:90,size:5,x:"2 / zoom",y:"(height - size) / 2"})},w:{command:"scale",cursor:"w-resize",x:"-5 * flip",y:"50%",width:10,height:"100%",padding:0,render:g24({angle:270,size:5,x:"-2 / zoom",y:"(height - size) / 2"})},touch:{width:14,height:14,padding:16,spinner:{command:"rotate",cursor:"grab",shape:"circle"}},mouse:{width:14,height:14,padding:4,nw_spinner:{command:"rotate",cursor:"grab",x:"-inherit",y:"-inherit",width:12,height:12,lineWidth:1,render:h24(-45)},ne_spinner:{command:"rotate",cursor:"grab",x:"100% + inherit",y:"-inherit",width:12,height:12,lineWidth:1,render:h24(45)},se_spinner:{command:"rotate",cursor:"grab",x:"100% + inherit",y:"100% + inherit",width:12,height:12,lineWidth:1,render:h24(135)},sw_spinner:{command:"rotate",cursor:"grab",x:"-inherit",y:"100% + inherit",width:12,height:12,lineWidth:1,render:h24(-135)},nw_spinner_area:{command:"nw_spinner",x:"25% - inherit",y:"25% - inherit",width:"50% + (inherit * 2)",height:"50% + (inherit * 2)",padding:4},ne_spinner_area:{command:"ne_spinner",x:"75% + inherit",y:"25% - inherit",width:"50% + (inherit * 2)",height:"50% + (inherit * 2)",padding:4},se_spinner_area:{command:"se_spinner",x:"75% + inherit",y:"75% + inherit",width:"50% + (inherit * 2)",height:"50% + (inherit * 2)",padding:4},sw_spinner_area:{command:"sw_spinner",x:"25% - inherit",y:"75% + inherit",width:"50% + (inherit * 2)",height:"50% + (inherit * 2)",padding:4}}};};}();void function(){j.initSymbol();j.initSymbol();j.initSymbolIterator();var L24="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(R24){return typeof R24;}:function(i24){j.initSymbol();j.initSymbol();j.initSymbol();return i24&&"function"===typeof Symbol&&i24.constructor===Symbol&&i24!==Symbol.prototype?"symbol":typeof i24;};sketch.module.Theme=function(s04){function w24(O04,g04){return isFinite(O04)||O04&&"string"===typeof O04?O04:g04;}function Y24(H04){function J04(C04,N04,S04,K04,b04,f04){var t04=S04.render;S04.state=N04;S04.width=K04;S04.height=b04;S04.padding=f04;S04.viewBox=[0,0,K04,b04];S04.id=C04;S04.render=function(m04){var B04=m04.ctx,l04=m04.matrix,Q04=s04.zoom;t04?t04({id:C04,ctx:B04,state:N04,matrix:l04,control:m04.control,controlStyle:S04,bbox:m04.control.bbox,layer:m04.layer},s04):S04.svg?(B04.save(),l04=S04.svg.vob,B04.scale(K04/l04.width,b04/l04.height),S04.svg.drawTo(B04,m04),B04.restore()):S04.image?(m04=S04.image,B04.save(),B04.scale(l04.a,l04.d),B04.drawImage(m04,0,0),B04.restore()):Number.isFinite(K04+b04)&&(B04.save(),B04.beginPath(),"circle"===S04.shape?(m04=b04/2/Q04,B04.arc(K04/2/Q04,m04,m04,0,2*Math.PI)):B04.rect(0,0,1*K04/Q04,1*b04/Q04),S04.lineWidth&&(B04.lineWidth=S04.lineWidth/Q04),S04.shadowColor&&(B04.shadowColor=S04.shadowColor),S04.shadowOffsetX&&(B04.shadowOffsetX=S04.shadowOffsetX),S04.shadowOffsetY&&(B04.shadowOffsetY=S04.shadowOffsetY),S04.shadowBlur&&(B04.shadowBlur=S04.shadowBlur),S04.fillStyle&&(B04.fillStyle=S04.fillStyle,B04.fill()),S04.strokeStyle&&(B04.strokeStyle=S04.strokeStyle,B04.stroke()),B04.restore());};}for(var q04 in H04){var h04=H04[q04];if(h04){var y04=q04.split("-"),Z04=y04.shift()||"",y04=y04.shift()||"",E04=w24(h04.width,H04.width),u04=w24(h04.height,H04.height),j04=w24(h04.padding,H04.padding);n04[Z04]&&J04(Z04,y04,h04,E04,u04,j04);}}}function o04(){function G04(k04,R04){R04=x24.copy(R04);for(var i04 in c04){var w04=k04[i04]||(k04[i04]={}),P04=R04[i04]||(R04[i04]={}),p04;for(p04 in n04){var v04=k04[p04],L04=w04[p04],x04=R04[p04],F04=P04[p04];if(F04||x04||L04||v04){var F04=P04[p04]=Object.assign({},v04,L04,x04,F04),V04;for(V04 in A24){F04[V04]=Object.assign({},k04[V04],v04&&v04[V04],w04[V04],L04&&L04[V04],R04[V04],x04&&x04[V04],P04[V04],F04&&F04[V04]);}F04.focus=F04.focus||F04.hover||F04.normal;F04.hover=F04.hover||F04.normal;X04(P04,p04,"normal",F04);X04(P04,p04,"hover",F04);X04(P04,p04,"focus",F04);for(var a04 in T04){v04=w04[a04],L04=F04[a04],P04[p04][a04]=null==L04?v04:L04,P04[a04]=v04;}}}}return R04;}function e04(r34,s34){for(var Y04 in r34){if(!s34[Y04]){var A04=r34[Y04];("undefined"===typeof A04?true:"object"!==L24(A04))&&(s34[Y04]=A04);}}}function X04(M34,o34,c34,n34){var I34=n34[c34]||n34.hover||n34.normal||{},T34;for(T34 in n34){A24[T34]||null==I34[T34]&&(I34[T34]=n34[T34]);}n34=I34.command;"function"!==typeof n34&&(I34.command="string"===typeof n34?k24[n34+"Event"]:k24.rotateScaleEvent);"normal"===c34?M34[o34]=I34:M34[o34+"-"+c34]=I34;}var D04=r04.tools,W04=D04.allTools,U04={},d04;for(d04 in D04){if(!d04.startsWith("default")){var z04=D04[d04];z04.controls||(z04.controls={});e04(W04,z04);U04[d04]=G04(W04.controls,z04.controls);}}return U04;}function M04(g34){var O34=g34.src;if(a24.cache[O34]){var h34=a24.cache[O34];"svg"===h34.type?g34.svg=h34:g34.image=h34;return Promise.resolve();}return sketch.SVG.isSVGString(O34)?I04.createSVG({skipRender:true,src:O34}).then(function(y34){a24.cache[O34]=y34;g34.svg=y34;}):sketch.requestImage(O34).then(function(H34){a24.cache[O34]=H34;g34.image=H34;});}var r04=sketch.feature,k24=s04.toolkit,x24=sketch.util,I04=sketch.vector,a24={};this.init=function(){a24={cache:{}};var q34=void 0;try{q34=o04();}catch(E34){console.error(E34);}var Z34=[];x24.forEach(q34,function(u34){x24.forEach(u34,function(j34){("undefined"===typeof j34?false:"object"===L24(j34))&&x24.forEach(j34,function(J34){J34&&J34.src&&Z34.push(M04(J34).catch(function(S34){}));});});});Promise.all(Z34).then(function(){for(var t34 in q34){var K34=q34[t34],b34=a24[t34]={};Y24(b34.mouse=K34.mouse);Y24(b34.pen=K34.pen);Y24(b34.touch=K34.touch);}});};this.getControls=function(){var C34=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},C34=a24[C34.type]||a24[C34.toolkitId]||{};return Gesture.isTouch||r04.debugMobile?C34.touch||{}:C34.mouse||{};};var n04={anchor:true,boundingBox:true,spinner:true,n:true,ne:true,ne_spinner:true,ne_spinner_area:true,e:true,se:true,se_spinner:true,se_spinner_area:true,s:true,sw:true,sw_spinner:true,sw_spinner_area:true,w:true,nw:true,nw_spinner:true,nw_spinner_area:true},A24={hover:true,focus:true,normal:true},c04={mouse:true,pen:true,touch:true},T04={width:true,height:true,padding:true};this.init();};}();void function(){sketch.module.SceneAdd=function(N34){var B34=N34.render,f34=N34.scene;f34.add=function(z34){function W34(e34,F34){d34&&(e34=d34);N34.history.store("add",{name:e34,data:F34});}var Q34=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},D34=Q34.onProgress,U34=!!Q34.recordHistoryAs||false!==Q34.recordHistory,d34=Q34.recordHistoryAs,X34=Array.isArray(z34);X34||(z34=[z34]);var G34=z34.length,l34=[];return Promise.each(z34,function(p34,V34){return N34.createLayerConfig(p34).then(function(P34){D34&&D34(V34/(G34-1));P34=f34.appendChild(P34,Q34);return P34.load().catch(function(v34){console.error(v34);throw v34;});}).then(function(L34){l34.push(L34);});}).then(function(){B34.scene();U34&&(1<l34.length?W34("add-objects",l34):W34("add-object",l34));return X34?l34:l34[0];});};};sketch.module.SceneFind=function(R34){function k34(g54,h54){var y54=h54.matrix2DMouse||sketch.layerUtils.updateMatrix2DMouse(h54);h54=h54.bbox;g54=y54.point2d(g54.x,g54.y);g54.x-=y54.tlx+(h54.left||0);g54.y-=y54.tly+(h54.top||0);g54.bbox_x=y54.tlx;g54.bbox_y=y54.tly;g54.bbox_width=h54.width;g54.bbox_height=h54.height;return g54;}function w34(Z54){var H54=R34.zoom,q54=R34.viewport;return new i34((Z54.x-q54.x)/H54,(Z54.y-q54.y)/H54);}function Y34(j54){var E54=R34.zoom,u54=R34.viewport;return new i34((j54.x-u54.paddingLeft)/E54,(j54.y-u54.paddingTop)/E54);}function I54(J54){return Gesture.pointInNode(J54,R34.$inputPointer);}function T54(K54){var S54=Gesture._getElementMetrics(R34.$inputPointer);return new i34(K54.x-S54.x1,K54.y-S54.y1);}function c54(C54){var b54=R34.zoom,t54=R34.viewport;return new i34(C54.x*b54+t54.x,C54.y*b54+t54.y);}function M54(N54){N54=N54.bbox;return new i34(N54.x+N54.width/2*N54.scale.x,N54.y+N54.height/2*N54.scale.y);}function O54(f54){return n54({x:f54.x+R34.viewport.x,y:f54.y+R34.viewport.y});}function n54(m54){var B54=Gesture._getElementMetrics(R34.$inputPointer);return new i34(m54.x+B54.x1,m54.y+B54.y1);}function A34(Q54,z54){for(var D54=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,l54=0,d54=z54.length;l54<d54;l54++){Q54[l54]=null==Q54[l54]?z54[l54]:(Q54[l54]+z54[l54]*D54)/2;}}var r54=sketch.layerUtils,x34=R34.scene,s54=sketch.Context2D,o54=sketch.Polygon,i34=sketch.Point;x34.findInRect=function(P54){var G54=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i54="layers"===(G54.as||"layers"),x54=G54.layers||x34.children,G54=!!G54.deselect,W54,X54;2===P54.length?(W54=P54[0],X54=P54[1],P54=[W54,new i34(X54.x,W54.y),X54,new i34(W54.x,X54.y)]):(W54=P54[0],X54=P54[2]);var V54=W54.x+.5,e54=W54.y+.5,U54=X54.x-W54.x;W54=X54.y-W54.y;V54=[new i34(V54,e54),new i34(V54+U54,e54),new i34(V54+U54,e54+W54),new i34(V54,e54+W54)];e54=R34.selection;G54=G54&&e54.length;U54=i54?[]:{};for(W54=x54.length;W54--;){if(X54=x54[W54],!X54.locked&&X54.visible&&X54.selectable){var F54=X54.getCurrentTransform();if(F54&&F54.point2d){var v54=[F54._nw,F54._ne,F54._se,F54._sw],R54=X54.id,L54=X54.bbox.scale;0>L54.x*L54.y&&v54.reverse();if(o54.SAT(P54,v54)){if(r54.getFeatures(X54).usePointInPath){for(var v54=X54.data,L54=v54.length,a54=0;a54<L54;a54++){var p54=v54[a54],p54=F54.point2d(p54.x,p54.y);if(i34.inPolygon(V54,p54.x,p54.y)){if(G54){if(e54.includes(X54)){U54[R54]=false;break;}}else{i54?U54.push(X54):U54[R54]=true;}}}}else{G54?e54.includes(X54)&&(U54[R54]=false):i54?U54.push(X54):U54[R54]=true;}}}}}return U54;};x34.findAtPoint=function(h94){var n94=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};h94=Y34(h94);for(var q94=n94.filter,H94=n94.layers||x34.children,Z94=!!n94.returnArray,S94=!Z94,n94=!!n94.returnDirectHit,g94=[],y94=Infinity,E94=H94.length;E94--;){var Y54=H94[E94];if((!q94||q94(Y54))&&false!==Y54.visible&&!Y54.locked){var o94=Y54.bbox,r94;if(r94=o94){r94=h94;var A54=Y54;if(A54.getCurrentTransform){A54=A54.getCurrentTransform(),r94=i34.inRotatedRect(r94,A54._nw,A54._ne,A54._se);}else{var w54=k34(r94,A54);r94=w54.bbox_width;var A54=w54.bbox_height,k54=w54.bbox_x,O94=w54.bbox_y,M94=w54.x+k54,w54=w54.y+O94;r94=M94>k54&&w54>O94&&M94<k54+r94&&w54<O94+A54;}}if(r94){r94=r54.getFeatures(Y54);A54=r94.usePointInPath;k54=r94.usePointInImageData;if(A54||k54){if(k54=S94&&Y54.ctx){var s94=Y54,k54=h94,O94=A54,k54=R34.pointInLayerFromScene(k54,s94),M94=R34.pixelRatio,I94=s94.bbox,w54=R34.render.cache.padding,u94=s94.get&&s94.getProperty("outerPadding")||0,s94=s94.ctx,I94=I94.scale,j94=Math.abs(I94.x),J94=Math.abs(I94.y),c94=k54.x,T94=k54.y;0>I94.x&&(c94=-c94+k54.bbox_width);0>I94.y&&(T94=-T94+k54.bbox_height);c94=Math.round(c94*j94*M94+w54+(u94.x||0));T94=Math.round(T94*J94*M94+w54+(u94.y||0));O94?k54=s94.isPointInPath(c94,T94):(k54=s94.getImageData(c94,T94,1,1),k54=k54.data&&8<k54.data[3]);}if(k54){return Y54;}if(A54){continue;}}if("button"===Y54.type){g94.push(Y54);if(!Y54.event){continue;}break;}if(!n94){if(r94.usePointNearest){g94.push(Y54);break;}o94=o94.computedWidth*o94.computedHeight;y94>=o94&&(y94=o94,g94.push(Y54));}}}}return Z94?g94:g94.pop();};R34.pointsIn=function(b94,C94,f94){b94=R34[b94];for(var t94=[],N94=C94.length,K94=0;K94<N94;K94++){t94.push(b94(C94[K94],f94));}return t94;};R34.pointInPeerSceneFromCanvas=function(B94){B94=w34(B94);var m94=R34.scale,l94=R34.zoom,Q94=R34.scroll.x,z94=R34.scroll.y;B94.x=B94.x/m94+(Q94-Q94/l94);B94.y=B94.y/m94+(z94-z94/l94);return B94;};R34.pointInCanvasFromPeerScene=function(D94){D94=c54(D94);var d94=R34.scale,X94=R34.zoom,W94=R34.scroll.x,U94=R34.scroll.y;D94.x=D94.x*d94+(W94-W94*X94);D94.y=D94.y*d94+(U94-U94*X94);return D94;};R34.pointInLayerFromScene=k34;R34.pointInLayerFromCanvas=function(G94,e94){G94=Y34(G94);return G94=k34(G94,e94);};R34.pointInSceneFromEvent=function(F94){F94=I54(F94);var p94=R34.zoom,V94=R34.viewport;return new i34((F94.x-V94.paddingLeft)/p94,(F94.y-V94.paddingTop)/p94);};R34.pointInSceneFromWindow=function(P94){return w34(T54(P94));};R34.pointInSceneFromCanvas=w34;R34.pointInSceneFromCanvasSubScroll=Y34;R34.pointInCanvasFromEvent=I54;R34.pointInCanvasFromWindow=T54;R34.pointInCanvasFromScene=c54;R34.pointInSceneFromLayer=M54;R34.pointInWindowFromLayer=function(v94){return O54(M54(v94));};R34.pointInWindowFromScene=O54;R34.pointInWindowFromCanvas=n54;var a34=void 0;x34.findPixel=function(s14){var a94=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},k94=(a94.sampleWidth||1)>>0,a94=(a94.sampleHeight||1)>>0,w94=[],L94=R34.pointInSceneFromEvent(s14),R94=R34.pixelRatio,r14=R34.viewport,i94=R34.zoom,x94=L94.x*R94*i94,L94=L94.y*R94*i94;1<=i94&&(x94+=Math.min(0,r14.x*R94),L94+=Math.min(0,r14.y*R94));if("pixi"===R34.renderingEngine){var Y94=R34.renderer.view,x94=x94*R94>>0,R94=(Y94.canvas.height-L94)*R94>>0,L94=new Uint8Array(k94*a94*4);Y94.readPixels(x94,R94,k94,a94,Y94.RGBA,Y94.UNSIGNED_BYTE,L94);A34(w94,L94);return w94;}if(sketch.agent.chrome64DrawImageBug){return a34||(a34=s54()),s54.resizeOrClear(a34,k94,a94),R34.drawComposite(a34,-x94,-L94,k94,a94),a34.getImageData(0,0,k94,a94).data;}r14=R34.render.contexts;for(Y94 in r14){var i94=r14[Y94],A94=i94._bbox;if(i94=i94.getImageData(-A94.x*R94+x94,-A94.y*R94+L94,k94,a94)){A94=w94[3]+i94.data[3];if(255<A94){A34(w94,i94.data,1-(A94/255-1));break;}A34(w94,i94.data);}}return w94;};};sketch.module.Orientation=function(M14,C14){function H14(B14,N14){if(0<B14){B14=Math.max(o14.min,Math.min(B14,o14.max));var f14=o14.value;if(f14!==B14){N14=N14?t14(N14):y14;var Q14=j14(),z14=1+(B14-f14)/f14,l14=Q14.point2d(N14);N14=Q14.scale(z14).point2d(N14);l14=new O14(l14).subtract(N14);f14=q14(f14);N14=q14(B14);f14=f14.subtract(N14);n14.alterPanBy(l14.add(f14));o14.value=B14;}}}function t14(D14){return j14().invert().point2d(D14.x-(I14.paddingLeft-T14.x),D14.y-(I14.paddingTop-T14.y));}function J14(d14){O14.exists(d14)&&(y14.x=Math.max(0,Math.min(d14.x,M14.pixelWidth)),y14.y=Math.max(0,Math.min(d14.y,M14.pixelHeight)));}function h14(){var X14=0<arguments.length&&void 0!==arguments[0]?arguments[0]:o14.value;return{width:M14.pixelWidth*X14,height:M14.pixelHeight*X14};}function q14(W14){W14=h14(W14);return new O14(Math.max(0,I14.width-W14.width)/2,Math.max(0,I14.height-W14.height)/2);}function b14(U14){U14=h14(U14);return{width:c14.left+c14.right+Math.max(0,U14.width-I14.width),height:c14.top+c14.bottom+Math.max(0,U14.height-I14.height)};}function j14(){var G14=new K14();G14.translate(T14.x,T14.y);G14.scale(o14.value);return G14;}var n14=this,u14=sketch.feature,I14=M14.viewport,O14=sketch.Point,K14=sketch.Matrix2D,S14=u14.zoom,c14=u14.viewportPadding,g14=n14.flip=new O14(0,0),y14=n14.origin=new O14(0,0),T14=n14.pan=new O14(0,0),Z14=Object.assign(n14.rotate={value:0,min:0,max:0},C14.rotate),E14=M14.scroll,o14=Object.assign(n14.zoom={value:1,min:20,max:100,increment:.1},C14.zoom);n14.getCenterOfDoc=function(){return new O14(M14.pixelWidth/2,M14.pixelHeight/2);};n14.getCenterOfViewport=function(){var e14=o14.value;return new O14((I14.width/2-I14.x)/e14,(I14.height/2-I14.y)/e14);};n14.setPan=function(F14){if(O14.exists(F14)){var V14=b14(),p14=Math.round(Math.max(-V14.width,Math.min(F14.x,0)));F14=Math.round(Math.max(-V14.height,Math.min(F14.y,0)));if(p14!==T14.x||F14!==T14.y){T14.x=p14,T14.y=F14,E14.x=-p14,E14.y=-F14,M14.emit("scroll",E14);}}return n14;};n14.alterPanBy=function(P14){return n14.setPan(new O14(T14.x+P14.x,T14.y+P14.y));};n14.setFlip=function(v14,L14){v14=!!v14;L14=!!L14;if(v14!==g14.x||L14!==g14.y){g14.x=v14,g14.y=L14,M14.emit("flip",g14);}return n14;};n14.alterFlipBy=function(R14,i14){R14&&(g14.x=!g14.x);i14&&(g14.y=!g14.y);return n14;};n14.setRotation=function(a14){Number.isFinite(a14)&&(a14=(a14%360+360)%360,a14!==Z14.value&&(Z14.value=a14,M14.emit("rotate",a14)));return n14;};n14.alterRotationBy=function(x14){return n14.setRotation(Z14.value+x14);};n14.setZoom=function(k14,w14){H14(k14,w14);return n14;};n14.alterZoomBy=function(Y14,A14){H14(o14.value+Y14,A14);return n14;};n14.zoomIn=function(){var s44=0<arguments.length&&void 0!==arguments[0]?arguments[0]:o14.increment,r44=o14.value;n14.setOriginToViewportCenter();H14(r44+s44*r44);return n14;};n14.zoomOut=function(){var I44=0<arguments.length&&void 0!==arguments[0]?arguments[0]:o14.increment,n44=o14.value;n14.setOriginToViewportCenter();H14(n44-I44*n44);return n14;};n14.zoomToFit=function(){var T44=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;H14(Math.min((I14.width-T44)/M14.pixelWidth,(I14.height-T44)/M14.pixelHeight));n14.centerDocInView();return n14;};n14.centerDocInView=function(){var c44=!!(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).ifDocHasMargin,M44,o44=h14();M44=I14.width-o44.width;var o44=I14.height-o44.height,O44=q14();M44=new O14((M44-(c14.left+c14.right))/2-O44.x,(o44-(c14.top+c14.bottom))/2-O44.y);c44&&(c44=n14.hasVisibleMargin(),c44.left||c44.right?c44.left?M44.x=-c14.left:c44.right&&(o44=I14.width-h14().width,M44.x=o44-c14.right):M44.x=T14.x,c44.top||c44.bottom?c44.top?M44.y=-c14.top:c44.bottom&&(c44=I14.height-h14().height,M44.y=c44-c14.top):M44.y=T14.y);return n14.setPan(M44);};n14.hasVisibleMargin=function(){var g44=h14(),h44=I14.paddingLeft+T14.x,y44=I14.paddingTop+T14.y;return{left:0<h44,right:g44.width+h44<I14.width,top:0<y44,bottom:g44.height+y44<I14.height};};n14.getPoint=function(H44){H44.target&&(H44=Gesture.pointInNode(H44,H44.target));var q44=I14.paddingLeft,Z44=I14.paddingTop;return new O14(H44.x-(q44-T14.x)+q44,H44.y-(Z44-T14.y)+Z44);};n14.getOrigin=function(){var E44=j14().point2d(y14);return new O14(E44.x+I14.paddingLeft,E44.y+I14.paddingTop);};n14.setOrigin=function(u44){u44.target&&(u44=Gesture.pointInNode(u44,u44.target));J14(t14(u44));return n14;};n14.setOriginToDocCenter=function(){J14(n14.getCenterOfDoc());return n14;};n14.setOriginToViewportCenter=function(){J14(n14.getCenterOfViewport());return n14;};n14.render=function(){M14.zoom=o14.value;var j44=c14.top,S44=c14.left,K44=c14.right,J44=c14.bottom,b44=q14();I14.paddingTop=j44+b44.y;I14.paddingRight=K44+b44.x;I14.paddingBottom=J44+b44.y;I14.paddingLeft=S44+b44.x;j44=b14();I14.scrollWidth=j44.width;I14.scrollHeight=j44.height;I14.x=I14.paddingLeft+T14.x;I14.y=I14.paddingTop+T14.y;j44=h14();S44=I14.x;K44=I14.y;J44=M14.visibleRect;J44.offScreenX=Math.min(0,S44);J44.offScreenY=Math.min(0,K44);J44.x=Math.max(0,S44);J44.y=Math.max(0,K44);J44.width=Math.min(I14.width-Math.max(0,I14.x),j44.width+Math.min(0,S44));J44.height=Math.min(I14.height-Math.max(0,I14.y),j44.height+Math.min(0,K44));j44=M14.render;j44.dirtyClipPath=true;j44.dirtyLayerTransforms=true;j44.scene();return n14;};n14.reset=function(){o14.value=S14.value||1;y14.x=0;y14.y=0;n14.setFlip(false,false);n14.setRotation(0);n14.centerDocInView({ifDocHasMargin:true});return n14;};};sketch.module.Scene=function(N44){function l44(e44){e44.length&&N44.emit("deselect",e44);}function G44(){t44._deselectAll();t44.children.splice(0,t44.children.length);t44._byId={};}function B44(){if(1===C44.length){var F44=C44.layer;F44&&z44.style.setGlobalsFromSelection&&X44.setGlobalFromLayer(F44);}}var t44=N44.scene=this,W44=sketch.assets,z44=sketch.feature,d44=sketch.layerUtils,D44=sketch.module,X44=sketch.style,Q44=N44.toolkit,U44=sketch.util;t44.setChildren=function(p44,V44){G44();p44.forEach(function(P44){var v44=P44.type;Q44.exists(v44)?t44._appendChild(P44,V44):console.warn("setChildren(...) Unsupported type '"+v44+"'",P44);});};t44._destroyChild=function(L44){var i44=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).delayDestroy;N44.render.cache.clean(L44);var R44=L44.sprite;R44&&"pixi"===N44.renderingEngine&&(N44.pixi.container.removeChild(R44),R44.destroy());R44=d44.getAssetsAttachedToLayer(L44,"src");if(R44.length){var a44={delayDestroy:i44,referenceId:L44.id};R44.forEach(function(x44){W44.destroy(x44,a44);});}(i44=L44.parent)&&i44.removeChild(L44);C44.includes(L44)&&C44.deselect(L44);delete t44._byId[L44.id];t44.setDirtyPixelData(L44);};t44.remove=function(Y44){var k44=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},A44=false!==k44.recordHistory,k44=!!k44.receiveHistory,w44=[];Y44=C44.toLayers(Y44);Y44.forEach(function(r74){var s74=sketch.copyConfig(r74,{},{compress:true});s74.parentId=r74.parent.id;w44.push(s74);t44._destroyChild(r74);});t44.reindex();w44.length&&(N44.emit("layerRemove",Object.values(Y44)),A44&&N44.history.store("remove",{name:"remove-objects",data:w44}));return k44?w44:t44;};t44.removeAll=function(){var n74=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};t44.selection.layers(t44.children).remove(n74);return t44;};t44.reset=function(){var I74=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};G44();false!==I74.recordHistory&&N44.on.handlers.change&&N44.emit("change",{op:"SCENE_RESET",type:"major",data:{}});return t44;};void function(){function T74(y74){for(var O74=t44.children,M74=[],g74=[],h74=O74.length,o74=0;o74<h74;o74++){var c74=O74[o74];c74.selectable&&(y74&&C44.includes(c74)?(C44.deselect(c74),g74.push(c74)):(C44.select(c74),M74.push(c74)));}M74.length&&N44.emit("select",M74);l44(g74);}t44.select=function(Z74){var E74=!!(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).empty,H74=[],q74=t44.selection.toLayers(Z74);if(!q74.length){return console.error(Z74),t44;}E74&&t44.deselectAll();q74.forEach(function(u74){if(!u74||C44.includes(u74)){return false;}C44.select(u74);H74.push(u74);return true;});H74.length&&N44.emit("select",H74);return t44;};t44.selectAll=function(){T74();return t44;};t44.selectInverse=function(){T74(true);return t44;};t44.deselect=function(S74){var j74=[],J74=t44.selection.toLayers(S74);if(!J74.length){return console.error(S74),t44;}J74.forEach(function(K74){C44.includes(K74)&&(C44.deselect(K74),j74.push(K74));});l44(j74);return t44;};t44.deselectAll=function(){if(C44.length){var b74=C44.layers();C44.empty();l44(b74);}f44.length&&f44.empty();return t44;};t44._deselectAll=function(){t44.selection.empty();t44.hovered.empty();};}();t44.getById=function(C74){var t74=t44._byId[C74];if(t74){return t74;}if("top"===C74){return t44;}if(1<arguments.length&&void 0!==arguments[1]&&arguments[1]){for(var N74 in N44.gesture.items){if((t74=N44.gesture.items[N74])&&(t74=t74.layer)&&t74.id===C74){return t74;}}}};t44.getLast=function(m74){var f74=t44.children.length;if(m74){for(;f74--;){var B74=t44.children[f74];if(m74(B74)){return B74;}}}return t44.children[f74-1];};t44.getFocalObject=function(){return t44.selection.layer||t44.hovered.layer;};t44.getFocalObjects=function(){return C44.length?C44.layers():f44.length?f44.layers():[];};t44.getCollisions=function(U74){var Q74=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},X74=Q74.onCollision,d74=Q74.layers||t44.children,D74=[],G74=sketch.Polygon.SAT,l74=U74.getCurrentTransform();if(!l74){return D74;}for(var e74=[l74._nw,l74._ne,l74._se,l74._sw],W74=d74.length,Q74=Number.isFinite(Q74.idx)?Q74.idx:W74-1;Q74<W74;Q74++){var z74=d74[Q74];z74.id!==U74.id&&(l74=z74.matrix2D)&&G74(e74,[l74._nw,l74._ne,l74._se,l74._sw])&&(X74?X74(z74):D74.push(z74));}return D74;};t44.setDirtyPixelData=function(F74,V74){if(F74){var p74=F74.tool;p74&&"text"===p74.toolkitId&&p74.updateCSSTransform(F74);z44.glfxPixelData&&(F74.usePixelData&&(F74.dirtyCache=true),t44.getCollisions(F74,{idx:-1<V74?V74:F74.idx,onCollision:function(P74){P74.usePixelData&&(P74.dirtyCache=true);}}));}};void function(){t44.createId=function(){var v74;v74=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).id;"number"===typeof v74&&(v74=String(v74));v74="string"!==typeof v74||t44.getById(v74)?void 0:v74;if(v74){return v74;}for(;;){if(v74=U44.uuid(),!t44.getById(v74)){return v74;}}};}();t44.decompress=function(L74){"string"===typeof L74.filter&&(L74.filter=new sketch.ui.dataTypes.FilterStack({filter:sketch.attrs.filter(L74.filter)}));var R74=L74.border;!R74||R74 instanceof sketch.Border||(L74.border=new sketch.Border(R74));!(R74=L74.fill)||R74 instanceof sketch.Fill||(L74.fill=new sketch.Fill(R74));!(R74=L74.stroke)||R74 instanceof sketch.Stroke||(L74.stroke=new sketch.Stroke(R74));(R74=L74.fills)&&R74.forEach&&R74.forEach(function(i74,a74){i74 instanceof sketch.Fill||(L74.fills[a74]=new sketch.Fill(i74));});(R74=L74.strokes)&&R74.forEach&&R74.forEach(function(x74,k74){x74 instanceof sketch.Stroke||(L74.strokes[k74]=new sketch.Stroke(x74));});L74.toolkitId||(L74.toolkitId=Q44.getToolkitId(L74.type));return L74;};t44.filter=function(Y74){var A74=t44.selection.instance(),w74=t44.children;"function"===typeof Y74&&(w74=w74.filter(Y74));return A74.layers(w74);};t44.toString=function(){return JSON.stringify(sketch.copyConfigs(0<arguments.length&&void 0!==arguments[0]?arguments[0]:t44.children,{compress:true}));};t44.id="top";t44.idx=0;t44._byId={};t44.children=[];t44.copied=[];var f44=new D44.SceneSelection(N44,t44);f44.on("Empty",function(r64){r64.forEach(function(s64){return s64.hovered=false;});}).on("Select",function(n64){n64.hovered=true;}).on("Deselect",function(I64){I64.hovered=false;});var C44=new D44.SceneSelection(N44,t44);C44.on("Empty",function(T64){T64.forEach(function(c64){return c64.selected=false;});B44();}).on("Select",function(M64){M64.selected=true;B44();}).on("Deselect",function(o64){o64.selected=false;B44();}).on("MultiSelect",function(){});t44.hovered=f44;t44.selection=C44;sketch.module.LayerContainer(N44,t44);};}();void function(){function g64(b64,C64,N64,t64){return new Promise(function(z64,f64){var B64=t64.point;f64=B64.x;var D64=B64.y,d64=t64.width,X64=t64.height,m64=t64.rotation,l64=t64.scale,Q64=t64.centerOnPoint;return(B64=t64.openAsNew)?(f64=void 0,f64="noConfirm"===B64?Promise.resolve():sketch.exec("newConfirm"),z64(f64.then(function(){var e64=C64.assetId,W64=C64.width,U64=C64.height,G64=new sketch.LayerBBox({width:W64,height:U64,scale:l64,rotation:m64}).toAxisAligned();b64.recycleAsNew();b64.setSize(G64.width,G64.height);return b64.scene.add({centerOnPoint:Q64,type:N64,src:e64,width:W64,height:U64,scale:l64,rotation:m64}).then(function(){b64.setTool("select");b64.scene.deselectAll();b64.centerDocInView({ifDocHasMargin:true});});}))):z64(b64.scene.add({centerOnPoint:Q64,type:N64,src:C64.assetId,x:f64,y:D64,width:d64,height:X64,scale:l64,rotation:m64}));}.bind(this));}function E64(P64,p64,F64){function v64(L64){L64=L64.slice(0,65536);return sketch.convert.blob.toArrayBuffer(L64).then(function(i64){var R64=2;i64=new DataView(i64);for(var k64=i64.byteLength;k64>R64;){var a64=i64.getUint16(R64),R64=R64+2;if(65505===a64){for(var a64=18761===i64.getUint16(R64+=8),R64=R64+i64.getUint32(R64+4,a64),w64=i64.getUint16(R64,a64),R64=R64+2,x64=0;x64<w64;x64++){if(274===i64.getUint16(R64+12*x64,a64)){return i64.getUint16(R64+12*x64+8,a64);}}}else if(65280!==(a64&65280)){break;}else{R64+=i64.getUint16(R64);}}return 0;});}var V64=sketch.assets;return function(Y64){return v64(Y64).then(function(I8F){var r8F=Math.PI,A64=new sketch.Matrix2D(),s8F=F64.scale,n8F=F64.rotation;s8F&&A64.scale(s8F.x,s8F.y);n8F&&A64.rotate(n8F);switch(I8F){case 2:A64.scale(-1,1);break;case 3:A64.rotate(r8F);break;case 4:A64.scale(-1,1);A64.rotate(r8F);break;case 5:A64.scale(-1,1);A64.rotate(r8F/2);break;case 6:A64.rotate(r8F/2);break;case 7:A64.scale(-1,1);A64.rotate(-r8F/2);break;case 8:A64.rotate(-r8F/2);}return A64.decompose();});}(p64).then(function(T8F){Object.assign(F64,{scale:T8F.scale,rotation:T8F.rotation});return V64.add(p64,{type:"image",originalUrl:F64.originalUrl,placeIntoResources:true}).then(function(c8F){return g64(P64,c8F,"image",F64);});});}function j64(o8F,H8F,O8F){function g8F(){return sketch.open.pdf(URL.createObjectURL(H8F),{point:y8F,openAsNew:M8F,onProgress:h8F});}var h8F=O8F.onProgress,M8F=O8F.openAsNew,y8F=O8F.point;return M8F?(o8F=void 0,o8F="noConfirm"===M8F?Promise.resolve():sketch.exec("newConfirm"),o8F.then(g8F).catch(console.error)):g8F();}function J64(q8F,Z8F,E8F){return sketch.require("psd",{exposed:["PSD"]}).catch(function(){throw"addPSD(...) `psd` support could not be loaded.";}).then(function(){return sketch.convert.blob.toArrayBuffer(Z8F).then(function(u8F){u8F=new PSD.Parser(new Uint8Array(u8F));u8F.parse();u8F=u8F.imageData.createCanvas(u8F.header,u8F.colorModeData);return q8F.addMedia(u8F,E8F);});});}function H64(K8F,S8F){var j8F=sketch.ui,J8F=sketch.lang.translate;return sketch.save.confirm().then(function(){return sketch.io.zip.decodeSketch(S8F);}).then(function(N8F){function f8F(B8F,m8F){return j8F.confirm({content:J8F("fork-or-overwrite"),labels:{ok:"fork",disregard:"overwrite",cancel:"cancel"}}).then(function(l8F){if(l8F.ok){return C8F(m8F);}if(l8F.disregard){return C8F(B8F);}});}function C8F(Q8F){return app.docStore.touch(Q8F).then(function(){return sketch.open.scene(b8F);}).then(sketch.save);}var b8F=N8F["sketch.json"],t8F=b8F.config.title;return Galactic.getProperty("app.fs.filesystems.length")?app.docStore.suggestName(t8F).then(function(z8F){return t8F===z8F?C8F(z8F):f8F(t8F,z8F);}):sketch.open.scene(b8F);});}function K64(U8F,X8F,W8F){var d8F=void 0;"abr"===X8F&&(d8F=O64.abr);"gbr"===X8F&&(d8F=O64.gbr);if(!d8F){return Promise.reject("Cannot add stamp of format '"+X8F+"'");}var D8F=W8F.name||"";return D8F.startsWith(".")?Promise.reject(D8F+" is not really a stamp."):O64.blob(W8F,"arrayBuffer").then(function(G8F){new Promise(function(e8F,F8F){d8F(G8F,function(V8F,v8F,p8F,P8F){U8F.defaultProgressHandler(p8F);q64.add(V8F,{type:"stamp",placeIntoResources:true}).then(function(){1===p8F?(D8F||(D8F="Stamps"),e8F(D8F+" added successfully")):setTimeout(P8F,1);});},F8F);});});}function S64(L8F,i8F,x8F){var a8F=sketch.fileinfo,R8F=sketch.io.zip;return R8F.getEntries(i8F).then(function(Y8F){var k8F=Y8F.entries;if(u64(k8F)){return H64(L8F,i8F);}var w8F=[];return R8F.decode(k8F,{onEntry:function(r2F){var A8F=r2F.blob;return a8F(A8F).then(function(s2F){return h64(L8F,A8F,s2F.extension,x8F);}).then(function(n2F){n2F&&w8F.push(n2F);}).catch(function(I2F){console.error(I2F,A8F);});},onProgress:function(T2F){L8F.defaultProgressHandler(T2F/100);}}).then(function(){Y8F.reader.close();return w8F;});}).catch(console.error);}function u64(c2F){return c2F.some(function(M2F){return"sketch.json"===M2F.filename;});}function h64(O2F,o2F,h2F,g2F){return new Promise(function(y2F,Z2F){var H2F=sketch.assets,q2F=g2F.originalUrl;switch(h2F){case"jpeg":case"jpg":case"image/jpeg":case"image/jpg":return y2F(E64(O2F,o2F,g2F));case"gif":case"png":case"image":case"image/gif":case"image/png":return y2F(H2F.add(o2F,{type:"image",originalUrl:q2F,placeIntoResources:true}).then(function(E2F){return g64(O2F,E2F,"image",g2F);}));case"svg":case"image/svg+xml":return y2F(H2F.add(o2F,{type:"clipart",originalUrl:q2F,placeIntoResources:true}).then(function(u2F){return g64(O2F,u2F,"clipart",g2F);}));case"pdf":case"application/pdf":return y2F(j64(O2F,o2F,g2F));case"psd":case"image/vnd.adobe.photoshop":return y2F(J64(O2F,o2F,g2F));case"application/zip":case"zip":return y2F(S64(O2F,o2F,g2F));case"application/json":case"json":return y2F(sketch.open.scene(o2F));case"sketchpad":case"sketch":return y2F(H64(O2F,o2F));case"ttf":case"woff":return Z2F=o2F.name.match(/([^:\\/]*?)(?:\.([^ :\\/.]*))?$/)[1],y2F(H2F.add(o2F,{type:"font",targetId:Z2F,originalUrl:q2F,placeIntoResources:true}));case"pat":return console.error("pattern unhandled",o2F),y2F(Promise.resolve());case"abr":case"gbr":return y2F(K64(O2F,h2F,o2F));case"ggr":return y2F(addPaint(O2F,o2F).then(function(){return(o2F.name||"gradient")+" added successfully";}));case"gpl":return y2F(addPaint(O2F,o2F).then(function(){return(o2F.name||"palette")+" added successfully";}));}return Z2F(Error("Unhandled blob type"));}.bind(this));}var q64=sketch.assets,O64=sketch.convert;j.initSymbol();j.initSymbol();j.initSymbolIterator();var Z64="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(j2F){return typeof j2F;}:function(J2F){j.initSymbol();j.initSymbol();j.initSymbol();return J2F&&"function"===typeof Symbol&&J2F.constructor===Symbol&&J2F!==Symbol.prototype?"symbol":typeof J2F;},y64=Object.assign||function(t2F){for(var S2F=1;S2F<arguments.length;S2F++){var K2F=arguments[S2F],b2F;for(b2F in K2F){Object.prototype.hasOwnProperty.call(K2F,b2F)&&(t2F[b2F]=K2F[b2F]);}}return t2F;};sketch.module.AddMedia=function(C2F){var N2F=sketch.fileinfo,f2F=sketch.loc;C2F.addMedia=function(m2F){function G2F(){function L2F(){return new Promise(function(a2F,Y2F){var k2F,x2F;k2F={openAsNew:Q2F,centerOnPoint:d2F,onProgress:U2F,point:W2F,width:z2F,height:D2F,rotation:e2F,scale:F2F};if(P2F){return a2F(h64(C2F,m2F,V2F,k2F));}if("json"===V2F){return a2F(sketch.open.scene(m2F));}if(p2F){var w2F=function(){return a2F(h64(C2F,x2F,V2F,y64({originalUrl:p2F},k2F)));};x2F=void 0;return v2F?(x2F=sketch.convert.dataURL.toBlob(p2F,"blob"),w2F.call(this)):sketch.request(p2F,{as:"blob"}).then(function(A2F){try{return x2F=A2F,w2F.call(this);}catch(r0F){return Y2F(r0F);}}.bind(this),Y2F);}console.error(m2F);return a2F(Promise.reject("unrecognized format"));}.bind(this));}function R2F(){return p2F&&B2F?(B2F.width=B2F.width||z2F,B2F.height=B2F.height||D2F,B2F.croparea&&!Number.isFinite(B2F.width+B2F.height)&&(B2F.width=B2F.croparea[2]-B2F.croparea[0],B2F.height=B2F.croparea[3]-B2F.croparea[1]),sketch.thumbnailer(p2F,B2F).then(X2F).then(L2F)):L2F();}var P2F=N2F.isBlob(m2F),i2F=f2F.isValidXhrUrl(m2F),v2F=f2F.isDataUrl(m2F),p2F=v2F||i2F?m2F:m2F.src,V2F=m2F.type;return V2F&&p2F?R2F():function(s0F){var n0F=void 0;if(P2F||"string"===typeof s0F){n0F=s0F;}else if("string"===typeof s0F.src){n0F=s0F.src;}else if("undefined"===typeof s0F?false:"object"===Z64(s0F)){n0F=JSON.stringify(s0F);}else{return Promise.reject("addMedia(...) Content type could not be detected.");}return N2F(n0F).then(function(I0F){return I0F.extension;});}(m2F).then(function(T0F){V2F=T0F;return R2F();});}function X2F(c0F){return c0F.toBlob().then(function(M0F){return m2F=M0F;});}var l2F=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},U2F=l2F.onProgress,Q2F=l2F.openAsNew,d2F=!!l2F.centerOnPoint||Q2F,W2F=function(o0F){return Number.isFinite(o0F.x)||Number.isFinite(o0F.y)?new sketch.Point(o0F):C2F.getCenterOfViewport();}(l2F),B2F=l2F.thumb,z2F=l2F.width,D2F=l2F.height,e2F=l2F.rotation,F2F=l2F.scale;return m2F.toDataURL?X2F(m2F).then(G2F):G2F();};};}();void function(){function C0F(D0F,d0F){function W0F(v0F,R0F,i0F,a0F){var L0F=R0F.bbox;v0F.translate(L0F.x+i0F,L0F.y+a0F);v0F.rotate(L0F.rotation);v0F.scale(L0F.scale.x,L0F.scale.y);d0F.clipPath(v0F,R0F);d0F.background(v0F,R0F);if((v0F=R0F.render(v0F,true))&&v0F.then){return v0F;}}function U0F(x0F,k0F,w0F,Y0F){x0F.restore();g0F.debugBoundingBox&&(k0F=k0F.bbox.toRect(),x0F.beginPath(),sketch.drawPath(x0F,k0F,w0F,Y0F),x0F.closePath(),x0F.lineWidth=.5/D0F.zoom,x0F.strokeStyle="black",x0F.stroke());}function F0F(h3F,r3F,c3F,g3F){var n3F=r3F.env.axisAlignedBounds;if(n3F){var I3F=D0F.pixelRatio,T3F=D0F.zoom,s3F=D0F.scroll;c3F+=(n3F.x1+s3F.x-X0F.paddingLeft)/T3F;g3F+=(n3F.y1+s3F.y-X0F.paddingTop)/T3F;var s3F=r3F.getOuterPadding(),o3F=Math.round(c3F-s3F/I3F),O3F=Math.round(g3F-s3F/I3F);if(g0F.hiResCache&&!r3F.isCreating){var A0F=r3F.bbox,M3F=P0F(r3F),A0F=I3F+"-"+T3F+"-"+A0F.width+"-"+A0F.height+"-"+A0F.scale.x+"-"+A0F.scale.y+"-"+A0F.rotation+"-"+M3F;if(A0F===r3F.env.hiResCacheHash){G0F(h3F,r3F,o3F,O3F);return;}r3F.env.hiResCacheHash=A0F;}var A0F=V0F(r3F),M3F=A0F.canvas,y3F=Math.ceil((n3F.y2-n3F.y1)*I3F/T3F+2*s3F);M3F.width=Math.ceil((n3F.x2-n3F.x1)*I3F/T3F+2*s3F);M3F.height=y3F;A0F.save();A0F.translate(s3F,s3F);A0F.scale(I3F,I3F);g0F.debugCache&&(A0F.fillStyle="rgba(0,0,0,0.25)",A0F.fillRect(0,0,A0F.canvas.width,A0F.canvas.height));if((c3F=W0F(A0F,r3F,-c3F,-g3F))&&c3F.then){return c3F.then(function(){return e0F(h3F,r3F,o3F,O3F);});}e0F(h3F,r3F,o3F,O3F);}else{console.error("axisAlignedBounds null");}}function e0F(q3F,H3F,Z3F,E3F){H3F.ctx.restore();d0F.filter(H3F);G0F(q3F,H3F,Z3F,E3F);}function G0F(J3F,u3F,S3F,K3F){var j3F=D0F.pixelRatio;u3F=u3F.ctx.canvas;J3F.drawImage(u3F,S3F,K3F,u3F.width/j3F,u3F.height/j3F);}function p0F(b3F){var t3F=b3F.type;return g0F.hiResCache||d0F.layerHasFilter(b3F)||H0F.useAreaTracker[t3F]?true:H0F.useCacheOnHighResIfSemiOpaque[t3F]?1!==b3F.opacity||"source-over"!==b0F.getCtxBlendMode(b3F,false):false;}function V0F(N3F){var C3F=N3F.ctx;C3F&&C3F._loResCache&&(d0F.cache.clean(N3F),C3F=null);if(C3F){return C3F;}C3F=t0F();C3F.title="highResCanvas";C3F=C3F.ctx;C3F._hiResCache=true;return N3F.ctx=C3F;}function P0F(f3F){var B3F=f3F.hash;return f3F.dirtyCache||f3F.highRes?(f3F.dirtyCache=false,D0F.createHash(f3F)):B3F;}var X0F=D0F.viewport;d0F.layerHiRes=function(m3F,l3F){var Q3F=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,z3F=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;m3F.save();l3F.setCtxStyle(m3F);if(p0F(l3F)){return F0F(m3F,l3F,Q3F,z3F);}var D3F=W0F(m3F,l3F,Q3F,z3F);if(D3F&&D3F.then){return D3F.then(function(){return U0F(m3F,l3F,Q3F,z3F);});}U0F(m3F,l3F,Q3F,z3F);};}function z0F(d3F,W3F){function L3F(A3F,s5F,g5F,T5F){g5F=s5F.ctx.canvas;var I5F=g5F.width,r5F=g5F.height;if(I5F&&r5F){var i3F=s5F.bbox;T5F=i3F.scaleCache||{x:1,y:1,px:1,py:1};var Y3F=T5F.x,w3F=T5F.y,M5F=0>Y3F,n5F=0>w3F,o5F=M5F?-1:1,O5F=n5F?-1:1,R3F=W3F.cache.padding,a3F=(Y3F-1)*R3F,k3F=(w3F-1)*R3F;M5F&&(a3F-=Y3F*R3F*2);n5F&&(k3F-=w3F*R3F*2);var c5F=d3F.scale*d3F.pixelRatio,x3F=s5F.getProperty("outerPadding"),a3F=(-R3F-a3F-x3F.x*o5F*Y3F)/c5F,R3F=(-R3F-k3F-x3F.y*O5F*w3F)/c5F,k3F=i3F.width,x3F=i3F.height,h5F=i3F.scale.x,i3F=i3F.scale.y;0>h5F&&(a3F+=k3F*h5F);0>i3F&&(R3F+=x3F*i3F);I5F=I5F*Y3F*o5F/c5F;r5F=r5F*w3F*O5F/c5F;A3F.save();s5F.setCtxTransform(A3F);s5F.setCtxStyle(A3F);if(M5F||n5F){M5F&&(a3F-=k3F*Y3F*T5F.px),n5F&&(R3F-=x3F*w3F*T5F.py),A3F.scale(o5F,O5F);}A3F.drawImage(g5F,a3F,R3F,I5F,r5F);A3F.restore();}}function v3F(y5F,H5F,Z5F,E5F){if(y5F=H5F.sprite){Z5F=d3F.zoom;E5F=d3F.pixelRatio;var u5F=H5F.matrix2D,j5F=H5F.bbox,q5F=j5F.scaleCache||{x:1,y:1,px:1,py:1},J5F=q5F.x,q5F=q5F.y;y5F.visible=H5F.visible&&H5F.inBounds;y5F.alpha=K0F.useLocalAlpha[H5F.type]?1:H5F.opacity;y5F.blendMode=Z0F.getPixiBlendMode(H5F,false);y5F.anchor={x:.5,y:.5};y5F.x=u5F._cp.x*Z5F+G3F.x;y5F.y=u5F._cp.y*Z5F+G3F.y;y5F.rotation=j5F.rotation;y5F.scale={x:Z5F*J5F/E5F,y:Z5F*q5F/E5F};}else{console.warn("layer.sprite is null");}}function e3F(S5F,K5F){S5F.restore();W3F.filter(K5F);K5F.dirtyCache=false;if("pixi"===d3F.renderingEngine){S5F=K5F.ctx;var b5F=S5F.canvas;b5F._pixiId?S5F.texture.update():(S5F.texture=PIXI.Texture.fromCanvas(b5F),V3F(K5F));}}function F3F(N5F,f5F){var C5F;C5F=p3F(N5F);var t5F=U3F[f5F];t5F?(t5F.copies++,C5F=t5F):(t5F=C5F||sketch.Context2D(),t5F.copies=1,t5F.canvas.title="cache"+f5F,t5F._loResCache=true,O0F.debugCache&&console.log("cache.add("+N5F.type+")"),C5F=U3F[f5F]=t5F);N5F.ctx=C5F;N5F.ctx.loResHash=f5F;}function p3F(B5F){if((B5F=B5F.ctx)&&B5F.canvas&&!--B5F.copies){return delete U3F[B5F.loResHash],O0F.debugCache&&B5F.canvas.remove(),B5F;}}function P3F(Q5F,m5F,z5F,D5F,d5F,X5F,W5F,U5F){var l5F=m5F.canvas;(u0F.$(O0F.debugCache)||document.body).appendChild(l5F);l5F.title="id: "+Q5F.id;l5F.onclick=function(){sketch.exec("debugLayers",[Q5F]);};m5F.save();m5F.lineWidth=d3F.pixelRatio;m5F.strokeStyle="#f00";m5F.strokeRect(z5F,D5F,d5F,X5F);m5F.strokeStyle="#00f";m5F.strokeRect(0,0,d5F+2*z5F,X5F+2*D5F);m5F.fillStyle="rgba(255,255,0,0.05)";m5F.fillRect(0,0,W5F,U5F);m5F.restore();}function V3F(G5F){var p5F=d3F.pixi,F5F=G5F.ctx,e5F=G5F.sprite;e5F&&"sprite"===e5F.pluginName?e5F.texture=F5F.texture:(G5F.sprite=new PIXI.Sprite(F5F.texture),p5F.container.addChild(G5F.sprite));}var G3F=d3F.viewport;W3F.layerLoRes=function(P5F,V5F,v5F,L5F){W3F.exporting&&(V5F.dirtyHash=true);return"pixi"===d3F.renderingEngine?v3F.apply(void 0,arguments):L3F.apply(void 0,arguments);};var X3F=W3F.cache={},U3F=X3F.items={};X3F.padding=O0F.cache2DPadding||0;X3F.clean=p3F;X3F.reset=function(){U3F=X3F.items={};};X3F.add=function(R5F){var i5F=R5F.hash,x5F=U3F[i5F];if(x5F){R5F.dirtyCache=false,R5F.ctx!==x5F&&(F3F(R5F,i5F),R5F.getProperty("outerPadding",true),"pixi"===d3F.renderingEngine&&V3F(R5F));}else{F3F(R5F,i5F);delete R5F.bbox.scaleCache;var a5F=R5F.ctx,x5F=a5F.canvas,w5F=R5F.getProperty("outerPadding",true),i5F=w5F.x+X3F.padding,w5F=w5F.y+X3F.padding,T9F=d3F.pixelRatio,k5F=d3F.scale*T9F,Y5F=R5F.bbox,r9F=Y5F.scale.x*k5F,k5F=Y5F.scale.y*k5F,n9F=Math.abs(Math.ceil(Y5F.width*r9F)),I9F=Math.abs(Math.ceil(Y5F.height*k5F)),A5F=sketch.getClampedCanvasSize(n9F+2*i5F,I9F+2*w5F,1,R5F),s9F=A5F.width,A5F=A5F.height;q0F.resizeOrClear(x5F,s9F,A5F);O0F.debugCache&&P3F(R5F,a5F,i5F,w5F,n9F,I9F,s9F,A5F);a5F._pixelRatio=T9F;a5F.save();x5F=new S0F();x5F.translate((0>r9F?-Y5F.width*r9F:0)+i5F,(0>k5F?-Y5F.height*k5F:0)+w5F);x5F.scale(r9F,k5F);x5F.applyTransform(a5F);W3F.clipPath(a5F,R5F);W3F.background(a5F,R5F);if((i5F=R5F.render(a5F))&&i5F.then){return i5F.then(function(){return e3F(a5F,R5F);});}e3F(a5F,R5F);}};}function Q0F(M9F,c9F){var O9F=sketch.agent,o9F=sketch.canvasUtils;c9F.filter=function(q9F,Q9F){var g9F=q9F.ctx;if(g9F&&o9F){var Z9F=q9F.filter;if(Z9F&&Z9F.length&&window.glfx&&O9F.getSync("webgl")&&c9F.layerHasFilter(q9F)){if(!Array.isArray(Z9F[0])){var y9F=[{cmd:"input",id:"source0",name:"colorMatrix",enabled:true}];y9F.push.apply(y9F,q9F.filter);Z9F=[y9F];}var S9F=M9F.pixelRatio,H9F=M9F.zoom,y9F=g9F.canvas,h9F=q9F.bbox,K9F=h9F.scale.x*M9F.scale,u9F=h9F.scale.y*M9F.scale,b9F=c9F.cache.padding,j9F=Math.abs(Math.round(h9F.width*K9F)),E9F=Math.abs(Math.round(h9F.height*u9F)),J9F=q9F.getProperty("outerPadding"),l9F=j9F+2*(J9F.x+b9F),J9F=E9F+2*(J9F.y+b9F),j9F=j9F*S9F||1,f9F=E9F*S9F||1,E9F=j9F/2,B9F=f9F/2,K9F=0>K9F,m9F=0>u9F;if(q9F.useBackgroundOverlay){var u9F=h9F.x*S9F,N9F=h9F.y*S9F;K9F&&(u9F-=j9F);m9F&&(N9F-=f9F);g9F.save();g9F.globalCompositeOperation="source-atop";g9F.translate(b9F,b9F);if(h9F=h9F.rotation){g9F.translate(E9F,B9F),g9F.rotate(-h9F),g9F.translate(-E9F,-B9F);}g9F.translate(-u9F,-N9F);g9F.scale(1/H9F,1/H9F);M9F.drawComposite(g9F,0,0);g9F.restore();}var t9F=false,C9F=false,H9F=c9F.glfx||(c9F.glfx=glfx.applyShader(y9F||Canvas()));H9F.source=y9F;H9F.viewport(0,0,l9F,J9F,S9F);H9F.setFilter(Z9F);H9F.render(function(){t9F?(q9F.dirtyCache=true,c9F.dirty=true):(C9F=true,Q9F&&Q9F(q9F));});C9F?(Z9F=H9F.getComposite())?(g9F.clearRect(0,0,y9F.width,y9F.height),g9F.drawImage(Z9F,0,0)):t9F=true:t9F=true;}}};c9F.layerHasFilter=function(z9F){z9F=z9F.filter;if(!z9F){return false;}for(var D9F=0;D9F<z9F.length;D9F++){var d9F=z9F[D9F];if("shader"===d9F.cmd){if("colorMatrix"===d9F.id){var X9F=o9F.ColorMatrix;if(X9F&&!X9F.isIdentity(d9F.data)){return true;}}else{return true;}}}return false;};}function l0F(e9F,G9F){var W9F=sketch.style,U9F=sketch.vector.Shape;G9F.background=function(p9F,V9F){var R9F=V9F.background,P9F=V9F.border,L9F=W9F.visible(R9F),v9F=W9F.visible(P9F);if(v9F||L9F){var F9F=V9F.padding||{top:0,left:0,right:0,bottom:0},a9F=V9F.bbox,x9F=-F9F.left,k9F=-F9F.right,i9F=a9F.width+(F9F.left+F9F.right),F9F=a9F.height+(F9F.top+F9F.bottom);p9F.save();p9F.beginPath();v9F?(U9F.roundRect(p9F,x9F,k9F,i9F,F9F,P9F.radius||0),W9F.setPaintOptions(p9F,P9F),p9F.strokeStyle=P9F.color,p9F.stroke()):U9F.rect(p9F,x9F,k9F,i9F,F9F);L9F&&W9F.applyFill(p9F,R9F,V9F);p9F.restore();}};}function m0F(Y9F,w9F){function A9F(s1F){var r1F=s1F.ctx;return r1F&&r1F._loResCache&&!s1F.dirtyCache&&!w9F.dirtyLayerCaches;}C0F(Y9F,w9F);z0F(Y9F,w9F);l0F(Y9F,w9F);Q0F(Y9F,w9F);w9F.layer=function(T1F,n1F,o1F,O1F){var c1F=arguments;if(T1F&&n1F){var I1F=w9F.ensureLayerIsReadyToRender(n1F);if(I1F){return I1F.then(function(){return w9F.layer.apply(null,c1F);});}if(n1F.highRes||sketch.globals.highRes||sketch.feature.hiRes||w9F.exporting&&(0!==n1F.bbox.rotation||n1F.ctx&&n1F.ctx._pixelRatio!==Y9F.pixelRatio)){return w9F.layerHiRes.apply(w9F,arguments);}if(A9F(n1F)){return w9F.layerLoRes.apply(w9F,arguments);}if((I1F=w9F.cache.add(n1F))&&I1F.then){var M1F=h0F.copy(T1F.currentTransform);return I1F.then(function(){h0F.applySetTransform(T1F,M1F);return w9F.layerLoRes.apply(w9F,c1F);});}return w9F.layerLoRes.apply(w9F,arguments);}sketch.debug&&console.error("render.layer(...) The arguments \u201cctx\u201d and \u201clayer\u201d are required.");};w9F.ensureLayerIsReadyToRender=function(g1F){if(!g1F.render){return g1F.error?Promise.reject(g1F.error):g1F.load().catch(function(y1F){throw g1F.error=y1F||"Unknown error";});}g1F.dirtyBoundingBox&&(g1F.dirtyBoundingBox=false,g1F.updateBoundingBox(),g1F.dirtyTransform=true);!g1F.pathHash&&g1F.data&&(g1F.pathHash=sketch.layerUtils.getHashOfPath(g1F));if(!g1F.hash||g1F.dirtyHash||g1F.dirtyCache||w9F.dirtyLayerCaches){var h1F=Y9F.createHash(g1F);g1F.hash!==h1F&&(g1F.hash=h1F,g1F.dirtyCache=true,g1F.dirtyTransform=true);g1F.dirtyHash=false;}if(g1F.dirtyTransform||w9F.dirtyLayerTransforms||null==g1F.inBounds){w9F.exporting?sketch.layerUtils.updateTransform(g1F):sketch.layerUtils.updateInBounds(g1F);}g1F.dirtyCache&&g1F.renderGestureCache&&(g1F.renderGestureCache(),g1F.dirtyPointerCache=false);};}function B0F(H1F,q1F){var Z1F=sketch.style;q1F.clipPath=function(E1F,u1F){if(u1F=u1F.clipPath){E1F.beginPath(),sketch.drawPaths(E1F,u1F),E1F.clip();}};q1F.clipContext=function(j1F,J1F){if("pixi"===H1F.renderingEngine){j1F=H1F.pixi;J1F=j1F.stage;var K1F=j1F.container;K1F.mask&&(J1F.removeChild(K1F.mask),K1F.mask.destroy());var t1F=H1F.viewport,S1F=H1F.zoom,C1F=t1F.paddingLeft,N1F=t1F.paddingTop,b1F=Math.min(H1F.pixelWidth*S1F,t1F.width),t1F=Math.min(H1F.pixelHeight*S1F,t1F.height),S1F=new PIXI.Graphics();S1F.beginFill();S1F.drawRect(C1F,N1F,b1F,t1F);S1F.endFill();j1F.renderer.roundPixels=sketch.globals.snapToPixels;K1F.mask=S1F;J1F.addChild(S1F);}else{H1F.clipPath.path?(K1F=H1F.clipPath,j1F.beginPath(),sketch.drawPath(j1F,K1F.path)):q1F.exporting?(j1F.beginPath(),j1F.rect(0,0,j1F.canvas.width,j1F.canvas.height)):(b1F=H1F.clipPath,K1F=b1F.x||0,C1F=b1F.y||0,N1F=Math.min(H1F.pixelWidth,b1F.width||Number.MAX_SAFE_INTEGER),b1F=Math.min(H1F.pixelHeight,b1F.height||Number.MAX_SAFE_INTEGER),j1F.beginPath(),j1F.rect(K1F,C1F,N1F,b1F)),j1F.clip(),J1F&&J1F&&!q1F.exporting&&(Z1F.setPaintOptions(j1F,J1F),J1F.strokeStyle&&(j1F.strokeStyle=J1F.strokeStyle,j1F.stroke()),J1F.fillStyle&&(j1F.fillStyle=J1F.fillStyle,j1F.fill()));}};}function f0F(f1F,m1F){function l1F(W1F){function U1F(e1F,G1F){G1F||(G1F="Layer could not be loaded.");e1F.error||(e1F.error=G1F,z1F.push(G1F),console.error(G1F,e1F));}function Q1F(){W1F&&W1F(1-(X1F-1)/d1F);X1F--;}f1F._preloading=true;var z1F=[],D1F=[],d1F=B1F.getChildCount(),X1F=d1F;B1F.traverse(function(F1F){F1F.render||F1F.error?Q1F():f1F.toolkit.getTool(F1F)?D1F.push(F1F.load().then(Q1F).catch(function(p1F){U1F(F1F,p1F);Q1F();})):(U1F(F1F,"The toolkit '"+F1F.type+"' is not available."),Q1F());});return Promise.all(D1F).then(function(){f1F._preloading=false;var V1F=sketch.ui;V1F&&V1F.log&&z1F.length&&V1F.log(z1F[0]);}).catch(function(P1F){f1F._preloading=false;throw P1F;});}var B1F=f1F.scene;B1F.load=function(){var v1F=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},L1F=!!v1F.chunkedRendering,R1F=v1F.layers,v1F=v1F.onProgress;R1F&&(B1F.setChildren(R1F,true),B1F.sortAndReindex());return sketch._noRendering||f1F._preloading?Promise.resolve():l1F(v1F).then(function(){L1F&&f1F.centerDocInView({ifDocHasMargin:true});m1F.chunkedRendering=L1F;return m1F.promise();});};}function N0F(a1F){a1F=a1F.scene.children;for(var w1F=a1F.length,k1F=-1,x1F=0;x1F<w1F;x1F++){var i1F=a1F[x1F];if(0<=k1F){if(i1F=i1F.blend,"normal"!==i1F&&"source-over"!==i1F){return false;}}else if(i1F.isCreating||i1F.isEditing||i1F.dirtyCache){if(k1F=i1F.idx,E0F.isCompositeMode[i1F.blend]){return false;}}}return true;}var j0F=sketch.feature,y0F=sketch.Canvas2D,H0F=sketch.detect,g0F=sketch.feature,b0F=sketch.style,t0F=sketch.Canvas2D,K0F=sketch.detect,u0F=sketch.dom,O0F=sketch.feature,Z0F=sketch.style,q0F=sketch.Canvas2D,S0F=sketch.Matrix2D,h0F=sketch.Matrix2D,E0F=sketch.style;j.initSymbol();j.initSymbol();j.initSymbolIterator();var J0F="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(Y1F){return typeof Y1F;}:function(A1F){j.initSymbol();j.initSymbol();j.initSymbol();return A1F&&"function"===typeof Symbol&&A1F.constructor===Symbol&&A1F!==Symbol.prototype?"symbol":typeof A1F;};sketch.module.SceneRenderer=function(s4F){function J4F(){M4F=requestAnimationFrame(J4F);if(!s4F._preloading){var W4F=sketch.stats;W4F&&W4F.begin();r4F.dirty?(r4F.dirty=false,t4F()):m4F();W4F&&W4F.end();}}function t4F(V4F){o4F="";I4F.reset();r4F.startTime=I4F.startTime;K4F();s4F._rendering=true;r4F.dirtyDocSize&&(r4F.dirtyDocSize=false,s4F.setSize(s4F.width,s4F.height,s4F.units));if(!s4F.noUI){var G4F=s4F.$composite,U4F=s4F.visibleRect,e4F=Math.ceil(U4F.width),F4F=Math.ceil(U4F.height),p4F=U4F.x+","+U4F.y+","+e4F+","+F4F;G4F._hashPosition!==p4F&&(G4F._hashPosition=p4F,G4F=G4F.style,G4F.left=U4F.x+"px",G4F.top=U4F.y+"px",G4F.width=e4F+"px",G4F.height=F4F+"px");}n4F.dirtyIndex&&(n4F.dirtyIndex=false,n4F.sortAndReindex());U4F=r4F.layers||n4F.children;(e4F=U4F.length)?"pixi"===s4F.renderingEngine?s4F.pixi.render():T4F(V4F,0,e4F-1,{layers:U4F,idxContext:-1,batches:0}):(Q4F(0),H4F());}function T4F(x4F,L4F,k4F,a4F,v4F){for(var w4F=!x4F&&N0F(s4F),Y4F=a4F.layers,A4F=Y4F.length;L4F<A4F;L4F++){var P4F=Y4F[L4F],R4F=r4F.ensureLayerIsReadyToRender(P4F);if(R4F){return R4F.then(function(){return T4F(x4F,L4F,k4F,a4F,v4F);}).catch(function(){return T4F(x4F,++L4F,k4F,a4F,v4F);});}var R4F=w4F?b4F.getCssBlendMode(P4F):"normal",i4F=!w4F||P4F.isCreating||P4F.isEditing||P4F.dirtyCache,r7F=P4F.env._skipRender=z4F(P4F);if(v4F&&(r7F||v4F.inFlux===i4F)){v4F.end=L4F;}else{if(j4F(x4F,L4F,k4F,a4F,v4F)){return;}++a4F.batches;v4F=new X4F(i4F,R4F,L4F);}R4F=P4F.bbox;i4F=P4F.getOuterAxisAlignedBounds();v4F.bbox.extendTo(i4F.x1,i4F.y1);v4F.bbox.extendTo(i4F.x2,i4F.y2);v4F.hash+=";"+[P4F.type,P4F.visible,P4F.blend,P4F.hash,P4F.opacity,R4F.x,R4F.y].join();}j4F(x4F,L4F,k4F,a4F,v4F)||Q4F(a4F.batches);}function j4F(O7F,q7F,g7F,o7F,n7F){if(n7F){o4F+=";"+C4F(n7F.hash);var s7F=r4F.contexts;if(!(s7F=O7F||s7F[++o7F.idxContext])||s7F.hashOfLayers!==n7F.hash||n7F.inFlux){var I7F=D4F(n7F.bbox.asRect()),s7F=q4F=O7F||d4F(o7F.idxContext,I7F);s7F._bbox=I7F;s7F.hashOfLayers=n7F.hash;s7F.save();if(!O7F){var T7F=s7F.canvas.style,h7F=I7F.x,I7F=I7F.y,y7F=Math.ceil(I7F),H7F=Math.ceil(h7F);T7F.top=y7F+"px";T7F.left=H7F+"px";T7F.mixBlendMode=n7F.blendMode;var c7F=s4F.pixelRatio,T7F=s4F.zoom,M7F=new B4F();M7F.scale(c7F*T7F);M7F.applySetTransform(s7F);r4F.clipContext(s7F);c7F=s4F.visibleRect;M7F.translate(-(h7F+(H7F-h7F)-c7F.offScreenX)/T7F,-(I7F+(y7F-I7F)-c7F.offScreenY)/T7F);M7F.applySetTransform(s7F);}if(s7F=Z4F(s7F,o7F.layers,n7F.start,n7F.end,g7F)){return s7F.then(function(){if(g7F>n7F.end){return T4F(O7F,q7F,g7F,o7F);}H4F();});}}g7F>n7F.end||H4F();}}function Z4F(K7F,J7F,f7F,u7F,S7F){for(var j7F=r4F.startTime,b7F=r4F.chunkedRendering,t7F=b7F?150:500,C7F=Date.now(),N7F=function(B7F){var m7F=J7F[B7F],l7F=B7F===u7F,Q7F=B7F!==f7F&&!l7F&&Date.now()-C7F>t7F;b7F&&(Q7F||l7F)&&s4F.emit("render:progress",(B7F+1)/(S7F+1));if(m7F.env._skipRender){return"continue";}if(Q7F){return{v:new Promise(function(z7F){setTimeout(function(){if(r4F.startTime===j7F){var D7F=Z4F(K7F,J7F,B7F,u7F,S7F);D7F?D7F.then(z7F):z7F();}},0);})};}if((m7F=r4F.layer(K7F,m7F))&&m7F.then){return{v:m7F.then(function(){if(r4F.startTime===j7F){return Z4F(K7F,J7F,++B7F,u7F,S7F);}})};}E7F=B7F;},E7F=f7F;E7F<=u7F;E7F++){var Z7F=N7F(E7F);switch(Z7F){case"continue":continue;default:if("undefined"===typeof Z7F?false:"object"===J0F(Z7F)){return Z7F.v;}}}}function X4F(d7F,X7F,W7F){this.inFlux=d7F;this.blendMode=X7F;this.end=this.start=W7F;this.bbox=new sketch.PathBBox();this.hash=JSON.stringify([O4F,s4F.pixelRatio,s4F.zoom]);}function d4F(e7F,F7F){var V7F=r4F.contexts,U7F=s4F.pixelRatio,G7F=sketch.getClampedCanvasSize(F7F.width,F7F.height,U7F);F7F=G7F.width;var G7F=G7F.height,p7F=V7F[e7F];if(p7F){return f4F.resizeOrClear(p7F,F7F,G7F,U7F);}p7F=s4F.$composite;U7F=N4F(F7F,G7F,U7F);U7F.title="batchCanvas"+e7F;U7F.setAttribute("data-layer","composite"+e7F);U7F.style.zIndex=e7F+1;p7F.appendChild(U7F);return V7F[e7F]=U7F.ctx;}function Q4F(v7F){for(var P7F=r4F.contexts;P7F.length>v7F;){P7F.pop().canvas.remove();}}function D4F(L7F){var R7F=s4F.zoom,i7F=s4F.visibleRect;L7F.x=Math.max(0,L7F.x*R7F+i7F.offScreenX);L7F.y=Math.max(0,L7F.y*R7F+i7F.offScreenY);L7F.width=Math.min(L7F.width*R7F,i7F.width-L7F.x);L7F.height=Math.min(L7F.height*R7F,i7F.height-L7F.y);return L7F;}function z4F(a7F){return a7F.error||!a7F.visible||s4F._editing&&"htmlText"===a7F.type&&a7F.id===s4F.selection.id?true:r4F.exporting?!a7F.exportable||r4F.layers&&!r4F.layers.includes(a7F)?true:"background"===a7F.name?(a7F=a7F.fill)&&a7F.pattern?"transparent"===a7F.pattern.src:false:!S4F.inBounds(a7F):!a7F.inBounds;}function K4F(){if(s4F._rendering){var k7F=q4F;k7F&&k7F.restore();if(!s4F.noUI){var k7F=s4F.render,r6F=s4F.pixelRatio,A7F=s4F.zoom,c6F=s4F.viewport,w7F=s4F.contexts.background,x7F=w7F.style;if(j0F.showTransparency){x7F.display="block";var x7F=w7F.ctx,Y7F=s4F.visibleRect,I6F=Math.ceil(Y7F.width),Y7F=Math.ceil(Y7F.height),T6F=""+I6F+Y7F,s6F=w7F._hashSize!==T6F,n6F=!!k7F.dirtyClipPath;if(s6F||n6F){s6F?(w7F._hashSize=T6F,y0F.resize(w7F,I6F,Y7F,r6F)):y0F.clear(w7F);if(n6F||s6F){x7F.save(),x7F.scale(r6F*A7F,r6F*A7F),k7F.clipContext(x7F,s4F.clipPath.style),x7F.imageSmoothingEnabled=false,x7F.beginPath(),x7F.rect(0,0,s4F.pixelWidth,s4F.pixelHeight),x7F.translate(Math.min(0,c6F.x)/A7F,Math.min(0,c6F.y)/A7F),x7F.fillStyle=sketch.ui.media.get("transparent"),x7F.fill(),x7F.restore();}k7F.dirtyClipPath=false;}}else{x7F.display="none";}}s4F._rendering=false;}}function H4F(){var M6F=r4F.chunkedRendering;K4F();r4F.chunkedRendering=false;r4F.dirtyLayerCaches=false;r4F.dirtyLayerTransforms=false;r4F.dirtyLayerTransforms=false;r4F.hash=o4F;for(m4F();g4F.length;){var o6F=g4F.shift();o6F&&o6F();}if(!M6F&&(M6F=y4F.debugRender?I4F("render-scene"):I4F(),E4F+=M6F,h4F+=M6F,c4F.push(M6F),r4F.ms=M6F,r4F.iterations++,r4F.msAverage=E4F/r4F.iterations,M6F=c4F.length,100<M6F&&(h4F-=c4F.shift(),M6F--),r4F.msRunningAverage=h4F/M6F,y4F.ifSlowLowerResolution&&100===M6F)){var M6F=r4F.msRunningAverage,o6F=l4F.pixelRatio,O6F=s4F.pixelRatio;1!==O6F&&100<M6F?s4F.setPixelRatio(1):O6F!==o6F&&10>M6F&&s4F.setPixelRatio(o6F);}}function m4F(){r4F.dirtyControls&&(r4F.dirtyControls=false,n4F.renderControls(true));}function u4F(g6F){"function"===typeof g6F&&g4F.push(g6F);}var r4F=Galactic.emitter(this);m0F(s4F,r4F);B0F(s4F,r4F);f0F(s4F,r4F);var l4F=sketch.agent,y4F=sketch.feature,S4F=sketch.layerUtils,n4F=s4F.scene,b4F=sketch.style,O4F=s4F.viewport,C4F=sketch.util.hashString,N4F=sketch.Canvas2D,f4F=sketch.Context2D,B4F=sketch.Matrix2D,g4F=[],I4F=Galactic.perf(),q4F=null,M4F=null,o4F=null;r4F.contexts=[];r4F.dirty=false;r4F.dirtyClipPath=false;r4F.dirtyCursorTip=false;r4F.dirtyDocSize=false;r4F.dirtyControls=false;r4F.dirtyLayerCaches=false;r4F.dirtyLayerTransforms=false;r4F.dirtyLayerTransforms=false;r4F.chunkedRendering=true;r4F.exporting=false;r4F.layers=null;r4F.hash=null;var c4F=[],E4F=0,h4F=0;r4F.iterations=0;r4F.ms=0;r4F.msAverage=0;r4F.msRunningAverage=0;r4F.now=function(h6F){return h6F?new Promise(function(y6F){r4F.exporting=true;u4F(function(){r4F.exporting=false;y6F();});t4F(h6F);}):Promise.reject("`ctx` must be a CanvasRenderingContext2D.");};r4F.promise=function(){return new Promise(function(H6F){u4F(H6F);r4F.scene();});};r4F.scene=n4F.render=function(q6F){r4F.dirty=true;r4F.dirtyControls=true;q6F&&u4F(q6F);};r4F.start=function(){r4F.stop();J4F();};r4F.stop=function(){cancelAnimationFrame(M4F);M4F=null;};n4F.setTransform=function(u6F){var Z6F=s4F.pixelRatio,E6F=s4F.zoom*Z6F;u6F.setTransform(E6F,0,0,E6F,O4F.x*Z6F,O4F.y*Z6F);return u6F;};};}();void function(){function K6F(z6F,N6F){function X6F(p6F,w6F,k6F,V6F){var P6F=m6F(p6F),R6F=B6F(p6F);d6F(p6F,V6F);var v6F=p6F.length-1,L6F=p6F[0].bbox.toAxisAligned().height,i6F=p6F[v6F].bbox.toAxisAligned().height,x6F=(R6F-P6F-L6F*V6F-i6F*(1-V6F))/v6F,a6F=P6F+L6F*V6F;p6F.forEach(function(Y6F,r8o){var A6F=Y6F.bbox;w6F(Y6F);A6F.y=a6F+r8o*x6F-A6F.toAxisAligned().height*V6F;k6F(Y6F);});}function W6F(s8o,y8o,h8o,n8o){var I8o=l6F(s8o),M8o=Q6F(s8o);D6F(s8o,n8o);var T8o=s8o.length-1,c8o=s8o[0].bbox.toAxisAligned().width,o8o=s8o[T8o].bbox.toAxisAligned().width,g8o=(M8o-I8o-c8o*n8o-o8o*(1-n8o))/T8o,O8o=I8o+c8o*n8o;s8o.forEach(function(H8o,Z8o){var q8o=H8o.bbox;y8o(H8o);q8o.x=O8o+Z8o*g8o-q8o.toAxisAligned().width*n8o;h8o(H8o);});}function m6F(E8o){return d6F(E8o,0)[0].bbox.toAxisAligned().y;}function l6F(u8o){return D6F(u8o,0)[0].bbox.toAxisAligned().x;}function B6F(j8o){j8o=d6F(j8o,1)[j8o.length-1].bbox.toAxisAligned();return j8o.y+j8o.height;}function Q6F(J8o){J8o=D6F(J8o,1)[J8o.length-1].bbox.toAxisAligned();return J8o.x+J8o.width;}function D6F(K8o,S8o){return K8o.sort(function(b8o,t8o){b8o=b8o.bbox.toAxisAligned();t8o=t8o.bbox.toAxisAligned();return b8o.x+b8o.width*S8o-(t8o.x+t8o.width*S8o);});}function d6F(N8o,C8o){return N8o.sort(function(f8o,B8o){f8o=f8o.bbox.toAxisAligned();B8o=B8o.bbox.toAxisAligned();return f8o.y+f8o.height*C8o-(B8o.y+B8o.height*C8o);});}function f6F(m8o,l8o){return function(Q8o){m8o.push({id:Q8o.id,type:Q8o.type,bbox:Q8o.bbox.clone()});l8o&&(Q8o.dirtyTransform=true,Q8o.dirtyHash=true);};}var C6F=z6F.scene,G6F=sketch.vector,U6F=sketch.Point,F6F={left:function(z8o,d8o,X8o){var D8o=l6F(z8o);z8o.forEach(function(W8o){var U8o=W8o.bbox,G8o=U8o.toAxisAligned().x;d8o(W8o);U8o.x+=D8o-G8o;X8o(W8o);});},right:function(e8o,p8o,V8o){var F8o=Q6F(e8o);e8o.forEach(function(v8o){var L8o=v8o.bbox,P8o=L8o.toAxisAligned(),P8o=P8o.x+P8o.width;p8o(v8o);L8o.x+=F8o-P8o;V8o(v8o);});},top:function(R8o,a8o,x8o){var i8o=m6F(R8o);R8o.forEach(function(k8o){var w8o=k8o.bbox,Y8o=w8o.toAxisAligned().y;a8o(k8o);w8o.y+=i8o-Y8o;x8o(k8o);});},bottom:function(A8o,s2o,n2o){var r2o=B6F(A8o);A8o.forEach(function(T2o){var c2o=T2o.bbox,I2o=c2o.toAxisAligned(),I2o=I2o.y+I2o.height;s2o(T2o);c2o.y+=r2o-I2o;n2o(T2o);});},horizontal:function(M2o,h2o,y2o){var o2o=l6F(M2o),O2o=Q6F(M2o),g2o=o2o+(O2o-o2o)/2;M2o.forEach(function(q2o){var Z2o=q2o.bbox,H2o=Z2o.toAxisAligned(),E2o=H2o.x,H2o=E2o+(H2o.x+H2o.width-E2o)/2;h2o(q2o);Z2o.x+=g2o-H2o;y2o(q2o);});},vertical:function(u2o,K2o,b2o){var j2o=m6F(u2o),J2o=B6F(u2o),S2o=j2o+(J2o-j2o)/2;u2o.forEach(function(C2o){var N2o=C2o.bbox,t2o=N2o.toAxisAligned(),f2o=t2o.y,t2o=f2o+(t2o.y+t2o.height-f2o)/2;K2o(C2o);N2o.y+=S2o-t2o;b2o(C2o);});}};N6F.align=function(l2o){var B2o=[],m2o=[];F6F[l2o](N6F.layers(),f6F(B2o),f6F(m2o,true));z6F.history.store("update",{name:"align-layers",data:{from:B2o,to:m2o}});C6F.multiSelectObject=null;C6F.render();};var e6F={path:function(Q2o,X2o,W2o,U2o){var z2o=[],D2o=G6F.toPolyline(sketch.drawPath,[U2o],{split:Q2o.length}),d2o=new U6F(0,0);D2o.forEach(function(F2o){var G2o=[];Q2o.forEach(function(P2o,v2o){var p2o=P2o.bbox,V2o=p2o.pointAt(.5,.5);G2o.push({index:v2o,layer:P2o,distance:U6F.distanceToRect(F2o,V2o.x+d2o.x,V2o.y+d2o.y,p2o.width*p2o.scale.x,p2o.height*p2o.scale.y,p2o.rotation)});});G2o.sort(function(L2o,R2o){return L2o.distance-R2o.distance;});var e2o=G2o.shift();Q2o.splice(e2o.index,1);z2o.push(e2o.layer);});z2o.forEach(function(x2o,i2o){i2o=D2o[i2o];var a2o=x2o.bbox,k2o=a2o.pointAt(.5,.5);X2o(x2o);a2o.x-=k2o.x-i2o.x;a2o.y-=k2o.y-i2o.y;W2o(x2o);});},left:function(w2o,Y2o,A2o){W6F(w2o,Y2o,A2o,0);},right:function(r0o,s0o,n0o){W6F(r0o,s0o,n0o,1);},top:function(I0o,T0o,c0o){X6F(I0o,T0o,c0o,0);},bottom:function(M0o,o0o,O0o){X6F(M0o,o0o,O0o,1);},horizontal:function(g0o,h0o,y0o){W6F(g0o,h0o,y0o,.5);},vertical:function(H0o,q0o,Z0o){X6F(H0o,q0o,Z0o,.5);}};N6F.distribute=function(J0o,S0o){var E0o=[],u0o=[],j0o=e6F[J0o];if(!j0o){throw"selection.distribute(...) "+J0o;}j0o(N6F.layers(),f6F(E0o),f6F(u0o,true),S0o);z6F.history.store("update",{name:"distribute-layers",data:{from:E0o,to:u0o}});C6F.multiSelectObject=null;C6F.render();};}function b6F(b0o,K0o){function t0o(N0o,m0o,C0o,B0o,z0o,Q0o,l0o,f0o,d0o,X0o){var D0o=C0o.bbox.clone();t6F(N0o,C0o,B0o,z0o,Q0o,l0o,f0o,d0o);C0o.children&&C0o.children.forEach(function(W0o){t0o(N0o,m0o,W0o,B0o,z0o,Q0o,l0o,f0o,d0o,false);});b0o.scene.setDirtyPixelData(C0o);if(N0o.isUpdated&&(C0o.highRes=N0o.isScaled&&!N0o.isMultiSelect&&B0o.DOWN&&!C0o.filter,C0o.isEditing=B0o.DOWN,B0o.END&&l0o&&(C0o.dirtyHash=true),N0o.snapToPixels&&N0o.translated&&N0o.isMultiSelect===X0o)){if(C0o.dirtyTransform||m0o.END){j6F.clampBoundingBox(C0o,b0o.pixelWidth,b0o.pixelHeight),j6F.updateSnap(C0o,m0o),j6F.updateInBounds(C0o);}f0o&&(C0o=C0o.bbox.subtract(D0o),N0o.x=N0o.x-f0o.x+C0o.x,N0o.y=N0o.y-f0o.y+C0o.y,f0o.x=C0o.x,f0o.y=C0o.y);}}K0o.translate=function(){var G0o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,U0o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};U0o.x=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;U0o.y=G0o;return K0o.transform(U0o);};K0o.rotate=function(){var e0o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};e0o.rotation=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return K0o.transform(e0o);};K0o.rotateAt=function(){var p0o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,V0o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Point(0,0),F0o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};F0o.rotation=p0o;F0o.origin=V0o;return K0o.transform(F0o);};K0o.flip=function(){var v0o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:false,P0o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};P0o.sx=0<arguments.length&&void 0!==arguments[0]&&arguments[0]?-1:1;P0o.sy=v0o?-1:1;return K0o.transform(P0o);};K0o.flipX=function(L0o){return K0o.flip(true,false,L0o);};K0o.flipY=function(R0o){return K0o.flip(false,true,R0o);};K0o.scale=function(){var a0o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,i0o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};i0o.sx=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;i0o.sy=a0o;return K0o.transform(i0o);};K0o.scaleAt=function(){var k0o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,w0o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,Y0o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new Point(0,0),x0o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};x0o.sx=k0o;x0o.sy=w0o;x0o.origin=Y0o;return K0o.transform(x0o);};K0o.scaleX=function(){return K0o.scale(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,1,arguments[1]);};K0o.scaleY=function(){return K0o.scale(1,0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,arguments[1]);};K0o.transform=function(){var s3o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},q3o=arguments[1],r3o=s3o.gevent||GEvent.END(),A0o=r3o.env.transformLayers||(r3o.env.transformLayers={}),y3o=s3o.pointerId||sketch.getEventId(r3o),I3o,M3o=s3o.gevent&&s3o.gevent.state||"",g3o=!M3o||"end"===M3o;I3o={START:!M3o||"start"===M3o,DOWN:!g3o,CHANGE:!M3o||"change"===M3o,END:g3o};var h3o=!!s3o.absolute,o3o=s3o.origin,M3o=!!s3o.receiveHistory,g3o=!!s3o.recordHistory,n3o=j6F.getBoundingBoxFromOptions(s3o),c3o=n3o.resize,O3o=n3o.rotation,T3o=n3o.scale,n3o=n3o.translate;if(!(c3o||O3o||T3o||n3o||I3o.START||I3o.END)){return K0o;}if(I3o.START||!A0o.origin){A0o.layers=b0o.selection.toLayers(s3o.layers||K0o),o3o||(o3o=K0o.layers(),o3o=j6F.getBoundingBox(o3o).pointAt(.5,.5)),A0o.origin=o3o,A0o.rotation=0,A0o.sx=1,A0o.sy=1,A0o.x=0,A0o.y=0,A0o.width=0,A0o.height=0,A0o.snapToPixels=!!s3o.snapToPixels,A0o.isMultiSelect=1<A0o.layers.length,A0o.isScaled=false,A0o.isUpdated=false;}h3o?(c3o&&(A0o.width=c3o.width,A0o.height=c3o.height),O3o&&(A0o.rotation=O3o),T3o&&(A0o.sx=T3o.x,A0o.sy=T3o.y),n3o&&(A0o.x=n3o.x,A0o.y=n3o.y)):(c3o&&(A0o.width+=c3o.width,A0o.height+=c3o.height),O3o&&(A0o.rotation+=O3o),T3o&&(A0o.sx*=T3o.x,A0o.sy*=T3o.y),n3o&&(A0o.x+=n3o.x,A0o.y+=n3o.y));(s3o=b0o.scene.multiSelectObject)&&t0o(A0o,r3o,s3o,I3o,c3o,O3o,T3o,n3o,h3o,true);for(var s3o=[],o3o=A0o.layers,H3o=0,E3o=o3o.length;H3o<E3o;H3o++){var Z3o=o3o[H3o];t0o(A0o,r3o,Z3o,I3o,c3o,O3o,T3o,n3o,h3o,false);s3o.push(Z3o.id);}if(A0o.isUpdated&&!q3o&&(h3o=A0o.origin,b0o.on.handlers.change&&(r3o={state:r3o.state,pointerId:y3o,origin:h3o,ids:s3o},c3o&&(r3o.width=c3o.width,r3o.height=c3o.height),O3o&&(r3o.rotation=O3o),T3o&&(r3o.sx=T3o.x,r3o.sy=T3o.y),n3o&&(r3o.x=n3o.x,r3o.y=n3o.y),b0o.emit("change",{op:"SCENE_TRANSFORM",data:r3o})),I3o.END&&(M3o||g3o))){r3o={};A0o.rotation&&(r3o.rotation=A0o.rotation);A0o.sx&&1!==A0o.sx&&(r3o.sx=A0o.sx);A0o.sy&&1!==A0o.sy&&(r3o.sy=A0o.sy);A0o.x&&(r3o.x=A0o.x);A0o.y&&(r3o.y=A0o.y);A0o.width&&(r3o.width=A0o.width);A0o.height&&(r3o.height=A0o.height);r3o.ids=s3o;r3o.origin=h3o;r3o.pointerId=y3o;I3o=void 0;if(r3o.width||r3o.height){I3o="resize";}r3o.rotation&&(I3o="rotate");if(r3o.sx||r3o.sy){I3o="scale";}if(r3o.x||r3o.y){I3o="move";}I3o&&g3o&&b0o.history.store("transform",{pointerId:y3o,name:I3o,data:r3o},{cmdSource:q3o});if(M3o){return r3o;}}A0o.isUpdated&&b0o.render.scene();return K0o;};K0o.transform2=function(J3o,K3o){var m3o=J3o.ids,D3o=J3o.origin,u3o=j6F.getBoundingBoxFromOptions(J3o);J3o=u3o.resize;var b3o=u3o.rotation,S3o=u3o.scale,u3o=u3o.translate,d3o;d3o=1<m3o.length;var N3o=void 0,B3o=void 0;("undefined"===typeof J3o?false:"object"===J6F(J3o))&&(N3o=J3o.width,B3o=J3o.height);var t3o=void 0,C3o=void 0;"number"===typeof S3o?C3o=t3o=S3o:("undefined"===typeof S3o?false:"object"===J6F(S3o))&&(t3o=S3o.x,C3o=S3o.y);var Q3o=void 0,l3o=void 0;("undefined"===typeof u3o?false:"object"===J6F(u3o))&&(Q3o=u3o.x,l3o=u3o.y);K3o&&(J3o&&(N3o=-N3o,B3o=-B3o),b3o&&(b3o=2*Math.PI-b3o),S3o&&(t3o=1/t3o,C3o=1/C3o),u3o&&(Q3o=-Q3o,l3o=-l3o));for(var z3o=K3o=0;z3o<m3o.length;z3o++){var j3o=b0o.scene.getById(m3o[z3o]);if(j3o){var f3o=j3o.bbox;J3o&&(f3o.width+=N3o,f3o.height+=B3o,j3o.dirtyHash=true,j3o.dirtyBoundingBox=true,K3o++);b3o&&(j6F.relativeRotate(j3o,b3o,D3o),j3o.dirtyTransform=true,K3o++);S3o&&(j6F.relativeScale(j3o,t3o,C3o,D3o,!d3o),j3o.dirtyHash=true,j3o.dirtyTransform=true,K3o++);u3o&&(f3o.x+=Q3o,f3o.y+=l3o,j3o.dirtyTransform=true,K3o++);j3o.inBounds=null;}}K3o&&b0o.render.scene();return m3o;};}function t6F(U3o,W3o,x3o,F3o,p3o,G3o,V3o,v3o){var e3o=j6F.getFeatures(W3o),P3o=!e3o.locked,R3o=V3o&&P3o&&false!==e3o.movable,i3o=p3o&&P3o&&false!==e3o.rotatable,a3o=G3o&&P3o&&false!==e3o.scalable,X3o=W3o.bbox,L3o=U3o.origin;F3o&&P3o&&false!==e3o.resizable&&(e3o=F3o.width,F3o=F3o.height,v3o&&(e3o-=X3o.width,F3o-=X3o.height),j6F.relativeResize(W3o,e3o,F3o),W3o.dirtyHash=true,W3o.dirtyBoundingBox=true,U3o.resized=true,U3o.isUpdated=true);i3o&&(j6F.relativeRotate(W3o,v3o?p3o-X3o.rotation:p3o,L3o),W3o.inBounds=null,W3o.dirtyTransform=true,U3o.rotated=true,U3o.isUpdated=true);if(G3o||X3o.scaleCache){X3o.scaleCache||(X3o.scaleCache={x:1,y:1,px:X3o.scale.x,py:X3o.scale.y,width:X3o.width,height:X3o.height}),a3o&&(v3o?(X3o.scale.x=G3o.x,X3o.scale.y=G3o.y):(p3o=G3o.x,G3o=G3o.y,X3o.scaleCache.x*=p3o,X3o.scaleCache.y*=G3o,j6F.relativeScale(W3o,p3o,G3o,L3o,!U3o.isMultiSelect)),W3o.inBounds=null,W3o.dirtyTransform=true,U3o.isScaled=true,U3o.isUpdated=true),(x3o.END||W3o.usePixelData)&&W3o.resetScaleCache();}R3o&&(v3o?(X3o.x=V3o.x,X3o.y=V3o.y):(X3o.x+=V3o.x,X3o.y+=V3o.y),W3o.inBounds=null,W3o.dirtyTransform=true,U3o.translated=true,U3o.isUpdated=true);}j.initSymbol();j.initSymbol();j.initSymbolIterator();var J6F="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(k3o){return typeof k3o;}:function(w3o){j.initSymbol();j.initSymbol();j.initSymbol();return w3o&&"function"===typeof Symbol&&w3o.constructor===Symbol&&w3o!==Symbol.prototype?"symbol":typeof w3o;},S6F=function(Y3o,A3o,r5o){A3o in Y3o?Object.defineProperty(Y3o,A3o,{value:r5o,enumerable:true,configurable:true,writable:true}):Y3o[A3o]=r5o;return Y3o;},j6F=sketch.layerUtils;j6F.relativeRotate=function(g5o,T5o){var n5o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:sketch.bboxUtils.pointAt(g5o.bbox,.5,.5),s5o=g5o.bbox,I5o=n5o.x,n5o=n5o.y;"objectBoundingBox"===s5o.units&&(I5o-=s5o.width*s5o.scale.x*.5,n5o-=s5o.height*s5o.scale.y*.5);var c5o=s5o.x-I5o,M5o=s5o.y-n5o,o5o=Math.cos(T5o),O5o=Math.sin(T5o);s5o.x=o5o*c5o-O5o*M5o+I5o;s5o.y=O5o*c5o+o5o*M5o+n5o;s5o.rotation=sketch.Angle.clamp(s5o.rotation+T5o);};j6F.relativeScale=function(E5o,K5o,b5o){var H5o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:sketch.bboxUtils.pointAt(E5o.bbox,.5,.5),q5o=arguments[4],h5o=E5o.bbox,j5o=H5o.rotation,Z5o=h5o.rotation-j5o,y5o=new sketch.Matrix2D(),J5o=0>K5o*b5o&&0!==Z5o;J5o&&y5o.rotateAt(-Z5o,h5o.pointAt(.5,.5));y5o.scaleAt(K5o,b5o,H5o,-j5o);var H5o=h5o.scale.x*K5o,S5o=h5o.scale.y*b5o,u5o=y5o.point2d(h5o),t5o=u5o.y;h5o.x=u5o.x;h5o.y=t5o;q5o&&(q5o="text"===E5o.toolkitId?j6F.getFeatures(E5o).useResize:void 0);q5o?(q5o=0>H5o?-1:1,u5o=0>S5o?-1:1,h5o.width*=q5o*H5o,h5o.height*=u5o*S5o,h5o.scale.x=q5o,h5o.scale.y=u5o,E5o.dirtyHash=true,E5o.dirtyBoundingBox=true):(h5o.scale.x=H5o,h5o.scale.y=S5o);J5o&&(Z5o=2*Math.PI-Z5o,h5o.rotation=j5o,y5o.reset(),y5o.rotateAt(Z5o,h5o.pointAt(.5,.5)),y5o=y5o.point2d(h5o),J5o=y5o.y,h5o.x=y5o.x,h5o.y=J5o,h5o.rotation=Z5o+j5o);};j6F.relativeResize=function(C5o,N5o,f5o){C5o=C5o.bbox;C5o.width+=N5o;C5o.height+=f5o;};sketch.module.add(function(B5o){B5o.history.register("transform",{apply:function(m5o){return B5o.selection.transform2(m5o.data,m5o.undo);}});});sketch.module.SceneSelection=function l5o(d5o,z5o){function W5o(F5o){Q5o.id=F5o.id;Q5o.layer=F5o;return Q5o;}function X5o(){Q5o.id=void 0;Q5o.layer=void 0;return Q5o;}function D5o(p5o,P5o){var V5o=[],v5o;for(v5o in p5o){(p5o=z5o._byId[v5o])&&(P5o&&!P5o(p5o)||V5o.push(p5o));}return V5o;}function U5o(L5o){if(null==L5o){return{};}if(L5o instanceof l5o){return L5o.items;}if(Array.isArray(L5o)){if(0>=L5o.length){return{};}var R5o=L5o[0];if(Number.isFinite(R5o.idx)){for(var R5o={},x5o=L5o.length,i5o=0;i5o<x5o;i5o++){var a5o=z5o._byId[L5o[i5o].id];a5o&&(R5o[a5o.id]=true);}return R5o;}if("string"===typeof R5o){R5o={};x5o=L5o.length;for(i5o=0;i5o<x5o;i5o++){(a5o=z5o._byId[L5o[i5o]])&&(R5o[a5o.id]=true);}return R5o;}}return"string"===typeof L5o?S6F({},L5o,true):"string"===typeof L5o.id?S6F({},L5o.id,true):{};}function e5o(w5o){var k5o={};w5o.sort(function(A5o,r9o){var Y5o=A5o.id,s9o=r9o.id;A5o=k5o[Y5o]||(k5o[Y5o]=A5o.getProperty("treeAsIndexes"));r9o=k5o[s9o]||(k5o[s9o]=r9o.getProperty("treeAsIndexes"));s9o=Math.max(A5o.length,r9o.length);for(Y5o=0;Y5o<s9o;Y5o++){var n9o=A5o[Y5o],I9o=r9o[Y5o];if(null==n9o){return 1;}if(null==I9o){return-1;}if(n9o!==I9o){return n9o>I9o;}}return 0;});}var Q5o=Galactic.emitter(this),G5o=sketch.layerUtils;K6F(d5o,Q5o);b6F(d5o,Q5o);Q5o.id=void 0;Q5o.layer=void 0;Q5o.items={};Q5o.length=0;Q5o.changed=false;Q5o.select=function(c9o,M9o){if(Array.isArray(c9o)){M9o=U5o(c9o);Q5o.empty();for(var T9o in M9o){Q5o.select(T9o);}return Q5o;}T9o=c9o;c9o="undefined"===typeof T9o?"undefined":J6F(T9o);if("number"===c9o||"string"===c9o){T9o=z5o._byId[T9o];}M9o&&Q5o.empty();if(!T9o||Q5o.includes(T9o)){return Q5o;}Q5o.changed=true;Q5o.items[T9o.id]=true;M9o=++Q5o.length;1===M9o?W5o(T9o):2===M9o?(X5o(),Q5o.emit("MultiSelect")):X5o();Q5o.emit("Select",T9o);return Q5o;};Q5o.deselect=function(o9o){var O9o="undefined"===typeof o9o?"undefined":J6F(o9o);if("number"===O9o||"string"===O9o){o9o=z5o.children[o9o];}if(!o9o||!Q5o.includes(o9o)){return Q5o;}if(1===Q5o.length){return Q5o.empty();}delete Q5o.items[o9o.id];Q5o.changed=true;Q5o.length--;Q5o.emit("Deselect",o9o);O9o=Q5o.length;if(1===O9o){var g9o;a:{O9o=Q5o.items;for(g9o in O9o){if(O9o=z5o._byId[g9o]){g9o=O9o;break a;}}g9o=void 0;}(o9o=g9o)&&W5o(o9o);}else{0===O9o&&X5o();}return Q5o;};Q5o.empty=function(){if(!Q5o.length){return Q5o;}var h9o=D5o(Q5o.items);X5o();Q5o.changed=true;Q5o.items={};Q5o.length=0;Q5o.emit("Empty",h9o);return Q5o;};Q5o._empty=function(){};Q5o.toggle=function(y9o,q9o){var H9o="undefined"===typeof y9o?"undefined":J6F(y9o);if("number"===H9o||"string"===H9o){y9o=z5o.children[y9o];}q9o||!Q5o.includes(y9o)?Q5o.select(y9o):Q5o.deselect(y9o);return Q5o;};Q5o._toggle=function(){};Q5o.ids=function(u9o,E9o){if(Array.isArray(u9o)){for(var Z9o=0;Z9o<u9o.length;Z9o++){var j9o=z5o.getById(u9o[Z9o]);j9o&&(E9o?E9o[j9o.id]=true:Q5o.select(j9o));}return E9o?E9o:Q5o;}u9o=[];E9o=D5o(Q5o.items);for(Z9o=0;Z9o<E9o.length;Z9o++){u9o.push(E9o[Z9o].id);}return u9o;};Q5o.layers=function(J9o){if("undefined"===typeof J9o?false:"object"===J6F(J9o)){for(var b9o=J9o.length,S9o=0;S9o<b9o;S9o++){var K9o=J9o[S9o];K9o&&Q5o.select(K9o);}return Q5o;}return D5o(Q5o.items);};Q5o.layers.toIds=function(f9o){for(var C9o=[],B9o=f9o.length,t9o=0;t9o<B9o;t9o++){var N9o=f9o[t9o];N9o&&C9o.push(N9o.id);}return C9o;};Q5o.toLayers=function(m9o){var l9o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},Q9o=l9o.filter,l9o=!!l9o.sort;if(Array.isArray(m9o)&&m9o[0]instanceof d5o.Layer){Q9o&&(m9o=m9o.filter(Q9o));}else{var z9o=U5o(m9o);m9o=D5o(z9o,Q9o);}l9o&&e5o(m9o);return m9o;};Q5o.includes=function(D9o){return D9o?!!Q5o.items[D9o.id]:false;};Q5o.typeOfAll=function(){var d9o=D5o(Q5o.items);return G5o.typeOfAll(d9o);};Q5o.forEach=function(U9o){var X9o=Q5o.items,W9o;for(W9o in X9o){(X9o=z5o._byId[W9o])&&U9o(X9o);}};Q5o.remove=function(){z5o.remove(Q5o,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});z5o._deselectAll();return Q5o;};Q5o.bbox=function(G9o){G9o||(G9o=Q5o.items);var e9o=new sketch.PathBBox(),F9o;for(F9o in G9o){if(G9o=z5o._byId[F9o]){if(G9o=G9o.matrix2D){e9o.extendTo(G9o._nw.x,G9o._nw.y),e9o.extendTo(G9o._ne.x,G9o._ne.y),e9o.extendTo(G9o._se.x,G9o._se.y),e9o.extendTo(G9o._sw.x,G9o._sw.y);}}}return e9o.asDiagonal();};Q5o.instance=function(){return new l5o(d5o,z5o);};Q5o.clone=function(){var p9o=Q5o.layers();return Q5o.instance().select(p9o);};Q5o.filter=function(P9o){var V9o=Q5o.instance();Q5o.forEach(function(L9o){for(var v9o in P9o){if(L9o[v9o]!==P9o[v9o]){return;}}V9o.select(L9o);});return V9o;};};}();void function(){var R9o=sketch.module;R9o.add(function(a9o){var i9o=a9o.scene;a9o.history.register("organize",{apply:function(w9o){var x9o=w9o.data,k9o=[];(w9o.undo?x9o.undo:x9o.redo).forEach(function(Y9o){var A9o=i9o.getById(Y9o.id),r1o=i9o.getById(Y9o.parentId);i9o._removeChild(A9o);r1o._insertChild(A9o,Y9o.idx);k9o.push(Y9o.id);});i9o.reindex();return k9o;}});});R9o.SceneOrganize=function(n1o,s1o){function T1o(O1o){return n1o.selection.toLayers(O1o).map(function(g1o){return g1o.idx;});}function M1o(){for(var y1o=0,H1o=s1o.children,q1o=H1o.length,h1o=0;h1o<q1o;h1o++){if("back"===H1o[h1o].stickTo){y1o++;}else{break;}}return y1o;}function o1o(){for(var Z1o=0,E1o=s1o.children,u1o=E1o.length;u1o--;){if("front"===E1o[u1o].stickTo){Z1o++;}else{break;}}return Z1o;}var I1o=n1o.scene,c1o=sketch.util;s1o.sendTo=function(){var S1o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},j1o=I1o.selection.toLayers(S1o.selection||I1o.selection,{sort:true}),J1o=S1o.targetIdx||0,N1o=!!S1o.recordHistory,B1o=M1o(),C1o=s1o.children.length-o1o(),J1o=c1o.clamp(J1o,B1o,C1o),K1o=[],t1o=[],f1o=s1o.id,b1o=0;j1o.forEach(function(m1o,l1o){var Q1o=m1o.parent.id,D1o=m1o.id,z1o=m1o.idx;f1o===Q1o&&J1o>z1o&&b1o++;l1o=J1o-b1o+l1o;if(l1o!==z1o||Q1o!==s1o.id){I1o._removeChild(m1o),s1o._insertChild(m1o,l1o),K1o.push({id:D1o,idx:z1o,parentId:Q1o}),t1o.push({id:D1o,idx:l1o,parentId:s1o.id});}});if(K1o.length){return s1o.reindex(),j1o={undo:K1o,redo:t1o},N1o&&n1o.history.store("organize",{name:S1o.name||"layer-order",data:j1o}),n1o.emit("sendTo",j1o),j1o;}};s1o.sendForwards=function(){var d1o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},W1o=d1o.distance||1,X1o;d1o.toFront?(W1o=s1o.children.length,X1o="layer-to-front"):(X1o=T1o(d1o.selection||I1o.selection),W1o=X1o[X1o.length-1]+W1o+1,X1o="layer-forwards");d1o=s1o.sendTo(Object.assign({targetIdx:W1o,name:X1o},d1o));n1o.emit("sendForwards",d1o);return d1o;};s1o.sendBackwards=function(){var U1o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},G1o=U1o.distance||1,e1o;U1o.toBack?(G1o=0,e1o="layer-to-back"):(G1o=T1o(U1o.selection||I1o.selection)[0]-G1o,e1o="layer-backwards");U1o=s1o.sendTo(Object.assign({targetIdx:G1o,name:e1o},U1o));n1o.emit("sendBackwards",U1o);return U1o;};};}();void function(){j.initSymbol();j.initSymbol();j.initSymbolIterator();var F1o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(V1o){return typeof V1o;}:function(P1o){j.initSymbol();j.initSymbol();j.initSymbol();return P1o&&"function"===typeof Symbol&&P1o.constructor===Symbol&&P1o!==Symbol.prototype?"symbol":typeof P1o;},p1o=function(v1o){if(Array.isArray(v1o)){for(var L1o=0,R1o=Array(v1o.length);L1o<v1o.length;L1o++){R1o[L1o]=v1o[L1o];}return R1o;}return Array.from(v1o);};sketch.module.SceneReplicate=function(a1o){function T4o(M4o){M4o=i1o.selection.toLayers(M4o||i1o.selection);for(var c4o=[],o4o=i1o.children,O4o=o4o.length;O4o--;){var g4o=o4o[O4o];-1!==M4o.indexOf(g4o)&&c4o.push(g4o);}if(c4o.length){return i1o.copied=sketch.copyConfigs(c4o),i1o.clipboard.save(),true;}}function I4o(Z4o){function J4o(S4o){return Y1o.load(w1o[assetId],{type:S4o.type,referenceId:S4o.id}).then(function(K4o){S4o.src=K4o.assetId;return j4o(S4o);}).catch(function(b4o){});}function j4o(C4o){var t4o=i1o._appendChild(C4o,true);u4o.push(t4o.id);H4o.push(C4o);return t4o.load().catch(console.error);}var y4o=Z4o.length;if(0===y4o){return Promise.resolve();}i1o.deselectAll();for(var E4o=[],u4o=[],H4o=[];y4o--;){var h4o=sketch.copyConfig(Z4o[y4o]);i1o.getById(h4o.id)&&(Z4o[y4o].id=h4o.id=i1o.createId(),Z4o[y4o].idx=h4o.idx=i1o.children.length);var q4o=h4o.src;"string"===typeof q4o&&q4o.startsWith("#")&&!Y1o.isLoaded(q4o)&&w1o[q4o]?E4o.push(J4o(h4o)):E4o.push(j4o(h4o));}return Promise.all(E4o).then(function(){if(H4o.length){i1o.reindex();i1o.select(u4o);var B4o=a1o.zoom,N4o=r4o.io.incrementX/B4o||0,f4o=r4o.io.incrementY/B4o||0;if(N4o||f4o){H4o.forEach(function(m4o){m4o.bbox.x+=N4o;m4o.bbox.y+=f4o;if(m4o=i1o.getById(m4o.id)){m4o.bbox.x+=N4o,m4o.bbox.y+=f4o;}}),i1o.copy();}a1o.history.store("add",{name:"paste-objects",data:H4o});a1o.render.scene();return H4o;}}).catch(console.error);}function s4o(l4o){var Q4o=i1o.toString(i1o.copied);l4o.clipboardData?(l4o.clipboardData.clearData(),l4o.clipboardData.setData("text/plain",Q4o)):window.clipboardData&&(window.clipboardData.clearData(),window.clipboardData.setData("text",Q4o));}var Y1o=sketch.assets,r4o=sketch.feature,i1o=a1o.scene,x1o=sketch.store,n4o=a1o.toolkit,A1o=sketch.util,k1o=0,w1o={};i1o.clipboard={save:function(){w1o={};var z4o=i1o.copied;return x1o.set({copied:JSON.stringify(z4o),copiedBlobUrls:JSON.stringify({})}).then(function(){return sketch.save.assets({as:"blobURL",layers:z4o}).then(function(D4o){return x1o.set("copiedBlobUrls",D4o);});});},restore:function(){-1===k1o&&(k1o=0);x1o.get("copied").then(function(d4o){Array.isArray(d4o)&&(i1o.copied=d4o);});x1o.get("copiedBlobUrls").then(function(X4o){("undefined"===typeof X4o?false:"object"===F1o(X4o))&&(w1o=X4o);});}};i1o.cut=function(G4o){G4o=i1o.selection.toLayers(G4o||i1o.selection);k1o=-1;x1o.set("useNativePaste",false);for(var e4o=i1o.children,W4o=[],F4o=e4o.length;F4o--;){var U4o=e4o[F4o];-1!==G4o.indexOf(U4o)&&(W4o.push(U4o),i1o._destroyChild(U4o));}W4o.length&&(i1o.reindex(),i1o.copied=sketch.copyConfigs(W4o),i1o.clipboard.save(),i1o.deselectAll(),a1o.history.store("remove",{name:"cut-objects",data:W4o.reverse()}));a1o.emit("cut",i1o.copied);return i1o;};i1o.copy=function(p4o){k1o=-1;x1o.set("useNativePaste",false);T4o(p4o)&&a1o.emit("copy",i1o.copied);return i1o;};i1o.paste=function(){return I4o(i1o.copied).then(function(V4o){a1o.emit("paste",V4o);return V4o;});};i1o.onCutNative=function(P4o){Gesture.cancel(P4o);sketch.exec("cutLayers");s4o(P4o);};i1o.onCopyNative=function(v4o){Gesture.cancel(v4o);sketch.exec("copyLayers");s4o(v4o);};i1o.onPasteNative=function(k4o){function i4o(){R4o!==k1o&&-1!==k1o&&(x1o.set("useNativePaste",true),k1o=R4o);x1o.get("useNativePaste").then(function(c7o){c7o?L4o.length&&(i1o.deselectAll(),L4o.forEach(function(M7o){"text"===M7o.toolkitId?a1o.scene.add(M7o):a1o.addMedia(M7o);}),a1o.emit("paste",i1o.copied)):sketch.exec("pasteLayers");});}function T7o(){var O7o=a1o.$editable,o7o=O7o.firstChild;o7o?("IMG"===o7o.tagName?sketch.thumbnailer(o7o).then(function(g7o){R4o+=o7o.src.length;L4o.push(g7o);i4o();}):r7o(O7o.innerHTML,i4o),O7o.innerHTML=""):i1o.paste();}function I7o(){return w4o(["Files","image"],function(h7o,y7o){h7o=h7o.getAsFile();R4o+=h7o.size;L4o.push(h7o);y7o(true);});}function n7o(){return w4o(["text/html"],function(H7o,q7o){H7o.getAsString(function(Z7o){r7o(Z7o,q7o);});});}function s7o(){return w4o(["text/plain"],function(E7o,u7o){E7o.getAsString(function(j7o){Y4o(j7o)?A4o(j7o):(R4o+=j7o.length,L4o.push(Object.assign(n4o.config.text.toSerializable(),{centerOnPoint:true,type:"text",content:j7o,maxWidth:a1o.viewport.width,width:"auto"})),u7o(true));});});}function w4o(J7o,K7o){J7o=function(t7o,C7o){var b7o=[];[].concat(p1o(a4o.types)).includes(t7o)&&A1o.forEach(x4o,function(N7o){-1!==N7o.type.indexOf(C7o||t7o)&&b7o.push(N7o);});return b7o;}.apply(null,J7o);if(!J7o.length){return Promise.reject("No results in Clipboard.");}var S7o=void 0;return Promise.all(J7o.map(function(f7o){return new Promise(function(B7o){K7o(f7o,function(m7o){m7o&&(S7o=true);B7o();});});})).then(function(){if(!S7o){return Promise.reject("No results in Clipboard.");}});}function Y4o(l7o){return l7o.startsWith("[")&&l7o.endsWith("]")&&l7o.includes("toolkitId");}function A4o(Q7o){if(i1o.copiedRaw!==Q7o){i1o.copiedRaw=Q7o;try{i1o.copied=JSON.parse(Q7o);}catch(z7o){console.error(z7o);}}i1o.paste().then(function(){a1o.render.scene();a1o.inSelectTool()||a1o.setTool("select");});}function r7o(D7o,d7o){Y4o(D7o)?A4o(D7o):sketch.convert.canvasFromHTML(D7o).then(function(X7o){R4o+=D7o.length;L4o.push(X7o);d7o(true);}).catch(d7o);}if(!a1o._rendering){var a4o=void 0;k4o.clipboardData?a4o=k4o.clipboardData:window.clipboardData&&(a4o=window.clipboardData);var R4o=0,L4o=[],x4o=a4o.items||a4o.files;x4o&&x4o.length?(Gesture.cancel(k4o),k4o.msConvertURL?(A1o.forEach(x4o,function(W7o){W7o instanceof File&&(L4o.push(W7o),R4o+=W7o.size);}),i4o()):I7o().then(i4o).catch(function(){return n7o().then(i4o).catch(function(){return s7o().then(i4o).catch(function(){console.log("nothing to paste.");});});})):setTimeout(T7o,1);}};i1o.duplicate=function(U7o){T4o(U7o)&&I4o(i1o.copied).then(function(G7o){a1o.emit("duplicate",G7o);});return i1o;};};}();void function(){function p7o(R7o,a7o){var i7o=R7o.canvas,L7o=R7o.createPattern(i7o,"repeat");R7o=new Promise(function(k7o){var x7o=i7o.toDataURL();L7o.css="url("+x7o+")";L7o.data=x7o;k7o(L7o);});L7o.id=a7o;L7o.asset=i7o;R7o.pattern=L7o;return R7o;}var e7o=sketch.generate;e7o.media=function(Y7o){var w7o=v7o[Y7o];if(w7o){return e7o[w7o](Y7o);}};e7o.paper=function(r6o){r6o=V7o[r6o]||r6o||V7o.notebook;var n6o=r6o.grid||0,c6o=r6o.gutter||0,s6o=r6o.lineStartTop||0,o6o=r6o.lineStartLeft||0,I6o=r6o.lineHeight||1,M6o=r6o.lineColor||"#8CA6BD",T6o=r6o.marginLeft||0,O6o=r6o.marginColor||"#C37F9B",A7o=sketch.Canvas2D(1024,1024).ctx;A7o.fillStyle=r6o.fillColor||"#fff";A7o.fillRect(0,0,1024,1024);n6o&&(A7o.save(),A7o.translate(c6o,c6o),A7o.fillStyle=e7o.grid({size:n6o,strokeColor:M6o,fillColor:"none"}),A7o.fillRect(0,0,1024,1024),A7o.restore());n6o=1024/I6o;A7o.save();A7o.translate(o6o,s6o);for(s6o=0;s6o<n6o;s6o++){A7o.beginPath(),A7o.moveTo(0,s6o*I6o),A7o.lineTo(1024,s6o*I6o),A7o.lineWidth=1,A7o.strokeStyle=M6o,A7o.stroke();}A7o.restore();T6o&&(A7o.save(),A7o.beginPath(),A7o.moveTo(T6o,0),A7o.lineTo(T6o,1024),A7o.lineWidth=1,A7o.strokeStyle=O6o,A7o.stroke(),A7o.restore());return p7o(A7o,r6o.id);};e7o.grid=function(h6o){h6o=P7o[h6o]||h6o||P7o.grid;var y6o=h6o.size||12,H6o=h6o.strokeColor||"#000",q6o=h6o.fillColor||"#1f1f1f",g6o=sketch.Canvas2D(y6o,y6o).ctx;g6o.fillStyle=q6o;g6o.fillRect(0,0,y6o,y6o);g6o.moveTo(0,0);g6o.lineTo(0,y6o);g6o.moveTo(0,0);g6o.lineTo(y6o,0);g6o.lineWidth=1;g6o.strokeStyle=H6o;g6o.stroke();return p7o(g6o,h6o.id);};e7o.interlace=function(){var j6o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},u6o=F7o.transparent,J6o=F7o[j6o]||F7o[j6o.id]||j6o,Z6o=J6o.size||u6o.size,S6o=J6o.innerColor||u6o.innerColor,u6o=J6o.outerColor||u6o.outerColor,K6o=sketch.Canvas2D(2*Z6o,2*Z6o),E6o=K6o.ctx;E6o.fillStyle=S6o;E6o.fillRect(0,0,Z6o,Z6o);E6o.fillStyle=u6o;E6o.fillRect(Z6o,0,Z6o,Z6o);E6o.fillStyle=u6o;E6o.fillRect(0,Z6o,Z6o,Z6o);E6o.fillStyle=S6o;E6o.fillRect(Z6o,Z6o,Z6o,Z6o);return j6o.toDataURL?K6o.toDataURL():p7o(E6o,J6o.id);};var v7o=e7o.presets={notebook:"paper",looseLeaf:"paper",lined:"paper",grid:"grid",graphPaper:"grid",blueprint:"grid",transparent:"interlace",transparentDark:"interlace"},V7o={notebook:{id:"notebook",lineStartTop:81.6,lineHeight:30,lineColor:"#8CA6BD",marginLeft:81.6,marginColor:"#FF7088",fillColor:"#F8F9B3"},looseLeaf:{id:"looseLeaf",lineStartTop:81.6,lineHeight:30,lineColor:"#CAEAFB",marginLeft:81.6,marginColor:"#FF7088",fillColor:"#FAFAFA"},lined:{id:"lined",lineStartTop:-.5,gutter:24,lineHeight:30,lineColor:"#8CA6BD",fillColor:"#FAFAFA"}},P7o={grid:{id:"grid",size:20,strokeColor:"#ddd",fillColor:"#fff"},graphPaper:{id:"graphPaper",size:20,strokeColor:"#BEE0BD",fillColor:"#F0FCE1"},blueprint:{id:"blueprint",size:20,strokeColor:"#2893e0",fillColor:"#0078CF"}},F7o={transparent:{id:"transparent",size:12,innerColor:"#fff",outerColor:"#d9d9d9"},transparentDark:{id:"transparentDark",size:12,innerColor:"#000",outerColor:"#222"}};}();void function(){function p6o(k6o,Y6o){t6o||i6o();if("string"===typeof k6o){if(""===k6o){return NaN;}var w6o=parseFloat(k6o);k6o=k6o.replace(/^-?\d*[\.]?\d+/,"")||"px";k6o=t6o[k6o+" to px"]||t6o["px to px"];k6o=Number.isFinite(w6o)?k6o*w6o:k6o;}return"px"===Y6o?k6o:k6o*t6o["px to "+Y6o];}function i6o(){function A6o(I8d){var n8d=[["px","pt","pc"],["px","mm","cm","m"],["px","in","ft","yd"],["px","ex","em"]];t6o=I8d;s8d(n8d);I8d=r8d(n8d);for(var n8d=0,c8d=I8d.length;n8d<c8d;n8d++){for(var M8d=I8d[n8d],T8d=0;T8d<c8d;T8d++){var o8d=I8d[T8d],O8d=M8d+" to "+o8d;O8d in t6o||(t6o[O8d]=t6o[M8d+" to px"]*t6o["px to "+o8d]);}}}function r8d(h8d){var g8d=[];h8d.forEach(function(y8d){y8d.forEach(function(H8d){-1===g8d.indexOf(H8d)&&g8d.push(H8d);});});return g8d;}function s8d(q8d){q8d.forEach(function(S8d){for(var K8d=0,b8d=S8d.length;K8d<b8d;K8d++){for(var E8d=S8d[K8d],u8d=0;u8d<b8d;u8d++){var j8d=S8d[u8d],J8d=E8d+" to "+j8d,Z8d=j8d+" to "+E8d;J8d in t6o||(E8d===j8d?t6o[J8d]=1:Z8d in t6o?t6o[J8d]=1/t6o[Z8d]:(Z8d=S8d[u8d-1]||"px",t6o[J8d]=t6o[E8d+" to "+Z8d]*t6o[Z8d+" to "+j8d]));}}});return t6o;}return"undefined"===typeof document?A6o({"xx-small to px":9,"x-small to px":10,"small to px":13,"normal to px":13,"medium to px":16,"large to px":18,"x-large to px":24,"xx-large to px":32,"% to px":.13,"px to pt":.7500187504687618,"pt to pc":.08333333333333333,"px to in":.010416666666666666,"in to ft":.08333333333333333,"ft to yd":.3333333333333333,"px to mm":.2645833333333333,"mm to cm":.1,"cm to m":.01,"px to ex":.16025641025641024,"ex to em":.48000000000000004,"px to px":1}):A6o(x6o());}function x6o(){function C8d(m8d){f8d.style.fontSize=m8d;return f8d.offsetHeight/1E4;}var t8d={},B8d=document.body,N8d=document.createElement("div");N8d.style.cssText="position: relative; width: 1px; height: 1px; overflow: scroll;";var f8d=document.createElement("div");f8d.style.cssText="position: absolute; width: 100em; height: 10000em; overflow: hidden;";N8d.appendChild(f8d);B8d.appendChild(N8d);"xx-small x-small small normal medium large x-large xx-large".split(" ").forEach(function(l8d){t8d[l8d+" to px"]=C8d(l8d);});t8d["% to px"]=C8d("100%")/100;t8d["px to pt"]=1/C8d("1pt");t8d["pt to pc"]=0.08333333333333333;t8d["px to in"]=1/C8d("72pt");t8d["in to ft"]=0.08333333333333333;t8d["ft to yd"]=0.3333333333333333;t8d["px to mm"]=25.4*t8d["px to in"];t8d["mm to cm"]=.1;t8d["cm to m"]=.01;t8d["px to ex"]=1/C8d("1ex");t8d["ex to em"]=1/t8d["px to ex"]/C8d("1em");t8d["px to px"]=1;N8d.remove();return t8d;}function R6o(d8d){for(var D8d=[],Q8d=0,X8d=d8d.length,z8d,W8d;Q8d<X8d;){z8d=d8d.charCodeAt(Q8d++),55296<=z8d&&56319>=z8d&&Q8d<X8d?(W8d=d8d.charCodeAt(Q8d++),56320==(W8d&64512)?D8d.push(((z8d&1023)<<10)+(W8d&1023)+65536):(D8d.push(z8d),Q8d--)):D8d.push(z8d);}return D8d;}function L6o(U8d){if(55296<=U8d&&57343>=U8d){throw Error("Lone surrogate U+"+U8d.toString(16).toUpperCase()+" is not a scalar value");}}function B6o(){if(f6o>=z6o){throw Error("Invalid byte index");}var G8d=d6o[f6o]&255;f6o++;if(128==(G8d&192)){return G8d&63;}throw Error("Invalid continuation byte");}function a6o(){var e8d,F8d,p8d,V8d;if(f6o>z6o){throw Error("Invalid byte index");}if(f6o==z6o){return false;}e8d=d6o[f6o]&255;f6o++;if(0==(e8d&128)){return e8d;}if(192==(e8d&224)){F8d=B6o();e8d=(e8d&31)<<6|F8d;if(128<=e8d){return e8d;}throw Error("Invalid continuation byte");}if(224==(e8d&240)){F8d=B6o();p8d=B6o();e8d=(e8d&15)<<12|F8d<<6|p8d;if(2048<=e8d){return L6o(e8d),e8d;}throw Error("Invalid continuation byte");}if(240==(e8d&248)&&(F8d=B6o(),p8d=B6o(),V8d=B6o(),e8d=(e8d&7)<<18|F8d<<12|p8d<<6|V8d,65536<=e8d&&1114111>=e8d)){return e8d;}throw Error("Invalid UTF-8 detected");}var D6o=sketch.convert,l6o={},b6o=D6o.arrayBuffer=function(P8d,L8d){var v8d=l6o[L8d];if(!v8d){return Promise.reject("Converting to '"+L8d+"' from arrayBuffer is not supported.");}P8d=v8d(P8d);return P8d.then?P8d:Promise.resolve(P8d);};l6o.arrayBuffer=function(R8d){return R8d;};l6o.base64=b6o.toBase64=function(i8d){var x8d="";i8d=new Uint8Array(i8d);for(var k8d=i8d.byteLength,a8d=0;a8d<k8d;a8d++){x8d+=String.fromCharCode(i8d[a8d]);}return global.btoa(x8d);};l6o.blob=b6o.toBlob=function(w8d){var Y8d=sketch.fileinfo.fromBuffer(w8d);return Y8d?new Blob([w8d],{type:Y8d.mime}):(console.warn("arrayBuffer.toBlob() mimeType could not be detected"),new Blob([w8d]));};D6o.toArrayBuffer=function(A8d){if(A8d){switch(Galactic.is(A8d)){case"ArrayBuffer":return A8d;case"Blob":case"File":return D6o.blob.toArrayBuffer(A8d);default:throw{message:"convert.toBlob: Data not converted.",data:A8d};}}};sketch.ArrayBufferReader=function(s2d){var I2d=s2d.byteLength,n2d=new DataView(s2d),r2d=this;r2d.origin=0;r2d.buffer=s2d;r2d.dataView=n2d;r2d.slice=function(T2d){return s2d.slice(r2d.origin,r2d.origin+=T2d);};r2d.uInt8=function(){if((r2d.origin+=1)<=I2d){return n2d.getUint8(r2d.origin-1);}};r2d.uInt16=function(c2d){if((r2d.origin+=2)<=I2d){return n2d.getUint16(r2d.origin-2,c2d);}};r2d.uInt32=function(M2d){if((r2d.origin+=4)<=I2d){return n2d.getUint32(r2d.origin-4,M2d);}};r2d.uInt64=function(o2d){if((r2d.origin+=8)<=I2d){var O2d=n2d.getUint32(r2d.origin-8,o2d);return 4294967296*n2d.getUint32(r2d.origin-4,o2d)+(O2d>>>0);}};r2d.uInt8Array=function(g2d){var h2d=new Uint8Array(s2d,r2d.origin,g2d);r2d.origin+=g2d;return h2d;};r2d.uInt16Array=function(y2d){var H2d=new Uint16Array(s2d,r2d.origin,y2d);r2d.origin+=2*y2d;return H2d;};r2d.uInt32Array=function(q2d){var Z2d=new Uint32Array(s2d,r2d.origin,q2d);r2d.origin+=4*q2d;return Z2d;};r2d.uInt8String=function(j2d){for(var u2d="",J2d=r2d.uInt8Array(j2d),E2d=0;E2d<j2d;E2d++){u2d+=String.fromCharCode(J2d[E2d]);}return u2d;};r2d.findString=function(K2d){for(var S2d="",b2d=0;S2d!==K2d&&r2d.origin<I2d;){++b2d;var t2d=String.fromCharCode(r2d.uInt8());if(K2d[S2d.length]===t2d){if(S2d+=t2d,S2d===K2d){return b2d;}}else{S2d="";}}};};var m6o={},b6o=sketch.convert.base64=function(C2d,f2d){var N2d=m6o[f2d];if(!N2d){return Promise.reject("Converting to '"+f2d+"' from base64 is not supported.");}C2d=N2d(C2d);return C2d.then?C2d:Promise.resolve(C2d);};m6o.base64=function(B2d){return B2d;};m6o.blob=b6o.toBlob=function(m2d,d2d){m2d=atob(m2d);for(var Q2d=new ArrayBuffer(m2d.length),z2d=new Uint8Array(Q2d),l2d=0,D2d=m2d.length;l2d<D2d;l2d++){z2d[l2d]=m2d.charCodeAt(l2d);}return new Blob([Q2d],{type:d2d});};m6o.hex=b6o.toHex=function(){for(var W2d="",U2d=atob(0<arguments.length&&void 0!==arguments[0]?arguments[0]:""),G2d=U2d.length,X2d=0;X2d<G2d;X2d++){W2d+=U2d.charCodeAt(X2d).toString(16);}return W2d;};m6o.utf8=b6o.toUTF8=function(){return decodeURIComponent(escape(atob(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"")));};var Q6o=sketch.convert,N6o={},b6o=Q6o.blob=function(e2d,p2d){var F2d=N6o[p2d];if(!F2d){return Promise.reject("Converting to '"+p2d+"' from blob is not supported.");}e2d=F2d(e2d);return e2d.then?e2d:Promise.resolve(e2d);};N6o.blob=function(V2d){return V2d;};N6o.blobURL=b6o.toBlobURL=function(P2d){return P2d._blobURL||(P2d._blobURL=URL.createObjectURL(P2d));};N6o.base64=b6o.toBase64=function(v2d){return Q6o.blob.toDataURL(v2d).then(function(L2d){return L2d.split(",").pop();});};N6o.dataURL=b6o.toDataURL=function(R2d){return new Promise(function(a2d,x2d){var i2d=new FileReader();i2d.onerror=x2d;i2d.onload=function(){return a2d(i2d.result);};i2d.readAsDataURL(R2d);});};N6o.arrayBuffer=b6o.toArrayBuffer=function(k2d){return new Promise(function(Y2d,A2d){var w2d=new FileReader();w2d.onerror=A2d;w2d.onload=function(){return Y2d(w2d.result);};w2d.readAsArrayBuffer(k2d);});};N6o.json=b6o.toJSON=function(r0d){return Q6o.blob.toString(r0d).then(JSON.parse);};N6o.string=b6o.toString=function(s0d){return s0d?new Promise(function(T0d,n0d){function I0d(){var c0d=new FileReader();c0d.onerror=n0d;c0d.onload=function(){return T0d(c0d.result);};c0d.readAsText(s0d);}if("application/zip"===s0d.type){return sketch.io.zip||n0d("requires io.zip"),sketch.io.zip.decode(s0d).then(function(M0d){1===M0d.length?I0d(M0d[0].blob):n0d();}).catch(n0d);}I0d(s0d);}):Promise.reject("`blob` must be defined.");};Q6o.toBlob=function(o0d,g0d){if(o0d){switch(Galactic.is(o0d)){case"Blob":case"File":return o0d;case"ArrayBuffer":case"String":var O0d={};Galactic.is(g0d,"string")&&(O0d.type=g0d);return new Blob([o0d],O0d);default:throw{message:"convert.toBlob: Data not converted.",data:o0d};}}};var X6o={},b6o=sketch.convert.buffer=function(h0d,H0d){var y0d=X6o[H0d];if(!y0d){return Promise.reject("Converting to '"+H0d+"' from buffer is not supported.");}h0d=y0d(h0d);return h0d.then?h0d:Promise.resolve(h0d);};X6o.buffer=function(q0d){return q0d;};X6o.arrayBuffer=b6o.toArrayBuffer=function(j0d){for(var E0d=j0d.length,u0d=new ArrayBuffer(E0d),J0d=new Uint8Array(u0d),Z0d=0;Z0d<E0d;++Z0d){J0d[Z0d]=j0d[Z0d];}return u0d;};b6o=sketch.convert;b6o.bytes={};b6o.bytes.toHumanReadable=function(S0d,b0d){if(!S0d){return"0Bytes";}var K0d=Math.floor(Math.log(Math.abs(S0d))/Math.log(1024));return(S0d/Math.pow(1024,K0d)).toFixed(b0d||1)+["Bytes","kb","mb","gb","tb"][K0d];};var t6o=void 0,b6o=sketch.convert,P6o="px pt pc in ft yd mm cm m ex em".split(" ");p6o.supports=function(t0d){return P6o.includes(t0d);};p6o.ratio=function(C0d){t6o||i6o();return t6o[C0d];};b6o.cssUnits=p6o;var F6o=sketch.convert,U6o={},b6o=F6o.dataURL=function(f0d,N0d){return new Promise(function(m0d,B0d){B0d=U6o[N0d];if(!B0d){return m0d(Promise.reject("Converting to '"+N0d+"' from dataURL is not supported."));}B0d=B0d(f0d);return B0d.then?m0d(B0d):m0d(Promise.resolve(B0d));}.bind(this));};U6o.dataURL=function(l0d){return l0d;};U6o.blob=b6o.toBlob=function(Q0d){var D0d=Q0d.indexOf(","),z0d=Q0d.substr(D0d+1);Q0d=Q0d.substr(0,D0d);Q0d=Q0d.split(":").pop();Q0d=Q0d.split(";").shift();return V6o.test(z0d)?new Blob([z0d],{type:Q0d}):F6o.base64.toBlob(z0d,Q0d);};var V6o=/[^A-Z0-9+\/=]/i,W6o=sketch.util.hex={};W6o.toASCII=function(){for(var X0d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",W0d="",d0d=0,U0d=X0d.length;d0d<U0d;d0d+=2){W0d+=String.fromCharCode(parseInt(X0d.substr(d0d,2),16));}return W0d;};W6o.toBase64=function(){return global.btoa(W6o.toASCII(0<arguments.length&&void 0!==arguments[0]?arguments[0]:""));};var e6o=sketch.dom;sketch.convert.canvasFromHTML=function(G0d){return sketch.require("html",{exposed:["html2canvas"]}).then(function(){if(G0d){return new Promise(function(F0d,p0d){var e0d=e6o.$("#sk-htmlToCanvas")||e6o.append(document.body,'<div id="sk-htmlToCanvas" style="position: fixed; top: 0; left: 0; display: none"></div>');e0d.style.display="block";e0d.innerHTML=G0d;html2canvas(e0d,{onerror:p0d,onrendered:function(V0d){F0d(V0d);e0d.style.display="none";}});});}console.error("canvasFromHTML(...) `html` is required.");}).catch(function(){throw"convert.canvasFromHTML(...) `html` support could not be loaded.";});};j.initSymbol();j.initSymbol();j.initSymbolIterator();var v6o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(P0d){return typeof P0d;}:function(v0d){j.initSymbol();j.initSymbol();j.initSymbol();return v0d&&"function"===typeof Symbol&&v0d.constructor===Symbol&&v0d!==Symbol.prototype?"symbol":typeof v0d;},b6o=sketch.convert;b6o.object={};b6o.object.toBlob=function(L0d){return new Blob([JSON.stringify(L0d)],{type:"application/json"});};b6o.object.toString=function(R0d){return JSON.stringify(R0d,function(a0d,i0d){if(("undefined"===typeof i0d?true:"object"!==v6o(i0d))||null!==i0d&&!i0d.nodeName&&!i0d.tagName){return i0d;}});};var C6o=String.fromCharCode,d6o,z6o,f6o,b6o=sketch.convert.utf8={},G6o=/^[\u0000-\u007F]*$/i;b6o.encode=function(w0d){if(!G6o.test(w0d)){w0d=R6o(w0d);for(var r3d=w0d.length,Y0d=-1,x0d,A0d="";++Y0d<r3d;){x0d=w0d[Y0d];if(0==(x0d&4294967168)){x0d=C6o(x0d);}else{var k0d="";0==(x0d&4294965248)?k0d=C6o(x0d>>6&31|192):0==(x0d&4294901760)?(L6o(x0d),k0d=C6o(x0d>>12&15|224),k0d+=C6o(x0d>>6&63|128)):0==(x0d&4292870144)&&(k0d=C6o(x0d>>18&7|240),k0d+=C6o(x0d>>12&63|128),k0d+=C6o(x0d>>6&63|128));x0d=k0d+=C6o(x0d&63|128);}A0d+=x0d;}w0d=A0d;}return w0d;};b6o.decode=function(s3d){if(!G6o.test(s3d)){d6o=R6o(s3d);z6o=d6o.length;f6o=0;s3d=[];for(var I3d;false!==(I3d=a6o());){s3d.push(I3d);}I3d=s3d.length;for(var c3d=-1,n3d,T3d="";++c3d<I3d;){n3d=s3d[c3d],65535<n3d&&(n3d-=65536,T3d+=C6o(n3d>>>10&1023|55296),n3d=56320|n3d&1023),T3d+=C6o(n3d);}s3d=T3d;}return s3d;};}();void function(){function h3d(u3d){return[u3d>>24&255,u3d>>16&255,u3d>>8&255,u3d&255];}function E3d(S3d,j3d){j3d=(j3d|0)^4294967295;for(var K3d=S3d.length,J3d=0;J3d<K3d;J3d++){j3d=j3d>>>8^q3d[(j3d^S3d[J3d])&255];}return h3d(j3d^4294967295);}function o3d(){return sketch.doc.title;}function Z3d(b3d,t3d){t3d=t3d.split("/").pop();b3d=String(b3d||o3d()||"sketchpad");return b3d.endsWith(t3d)?b3d:b3d+"."+t3d;}function y3d(){var C3d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},f3d=sketch.doc,N3d=C3d.mime||C3d.format;N3d&&(N3d=N3d.toLowerCase())&&(N3d.startsWith("image/")?C3d.mime=N3d:C3d.mime="image/"+N3d);"string"!==O3d(C3d.mime)&&(C3d.mime="image/png");"number"!==O3d(C3d.quality)&&(C3d.quality=1);f3d=72*f3d.pixelRatio;"number"!==O3d(C3d.dpi)&&(C3d.dpi=f3d);return C3d;}j.initSymbol();j.initSymbol();j.initSymbolIterator();var O3d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(B3d){return typeof B3d;}:function(m3d){j.initSymbol();j.initSymbol();j.initSymbol();return m3d&&"function"===typeof Symbol&&m3d.constructor===Symbol&&m3d!==Symbol.prototype?"symbol":typeof m3d;},M3d={},H3d=sketch.agent;M3d.selection=function(Q3d){function z3d(d3d,D3d){return d3d.svg?d3d.svg.toBlob().then(function(X3d){M3d.blob(X3d,D3d.substr(1)+".svg");}):sketch.assets.getBlob(D3d).then(function(W3d){return sketch.fileinfo(W3d).then(function(U3d){M3d.blob(W3d,D3d.substr(1)+"."+U3d.extension);});});}var l3d=sketch.doc;Q3d=l3d.selection.toLayers(Q3d||l3d.selection);l3d=Q3d.length;if(0===l3d){return Promise.resolve();}if(1===l3d){l3d=Q3d[0];if(l3d.src){return z3d(l3d,l3d.src);}if(l3d.ctx){return M3d.canvas(l3d.ctx.canvas);}}return M3d.image({filename:o3d()+"-layerExport",layers:Q3d,clipToSelection:true});};M3d.blob=function(e3d){var G3d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:o3d()+".txt";H3d.chooseEntry?chrome.fileSystem.chooseEntry({type:"saveFile",suggestedName:G3d},function(F3d){F3d.createWriter(function(p3d){p3d.write(e3d);},function(V3d){console.error(V3d);});}):global.saveAs(e3d,G3d);};M3d.string=function(v3d){var P3d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:o3d()+".txt";M3d.blob(new Blob([v3d],{type:2<arguments.length&&void 0!==arguments[2]?arguments[2]:"text/plain"}),P3d);};M3d.zip=function(L3d){sketch.emit("download:start","application/zip");return sketch.save.zip().then(function(i3d){var R3d=L3d||o3d();L3d=-1===R3d.indexOf(".sketchpad")?R3d+".sketchpad":R3d;M3d.blob(i3d,L3d);});};M3d.pdf=function(a3d){a3d=y3d(a3d);var x3d=a3d.filename||o3d();sketch.emit("download:start","application/pdf");return sketch.save.pdf(a3d).then(function(k3d){M3d.blob(k3d,x3d+".pdf");});};M3d.svg=function(w3d,Y3d){("undefined"===typeof w3d?false:"object"===O3d(w3d))&&(Y3d=w3d,w3d=Y3d.filename||o3d());Y3d=Object.assign({},Y3d);Y3d.as="string";sketch.emit("download:start","image/svg+xml");return sketch.save.svg(Y3d).then(function(r5d){var A3d=w3d||o3d();w3d=-1===A3d.indexOf(".svg")?A3d+".svg":A3d;M3d.string(r5d,w3d,"image/svg+xml");});};M3d.json=function(s5d,n5d){("undefined"===typeof s5d?false:"object"===O3d(s5d))&&(n5d=s5d,s5d=n5d.filename||o3d());n5d=Object.assign({},n5d);n5d.as="string";sketch.emit("download:start","application/json");return sketch.save.scene(n5d).then(function(T5d){var I5d=s5d||o3d();s5d=-1===I5d.indexOf(".json")?I5d+".json":I5d;M3d.string(T5d,s5d,"application/json");});};M3d.image=function(c5d){c5d=y3d(c5d);var o5d=c5d.dpi,O5d=c5d.filename,M5d=c5d.mime,g5d=c5d.quality;sketch.emit("download:start",M5d);return sketch.save.canvas(c5d).then(function(h5d){return M3d.canvas(h5d,O5d,M5d,g5d,o5d);});};M3d.png=function(y5d){y5d=Object.assign({},y5d);y5d.format="png";return M3d.image(y5d);};M3d.jpeg=function(H5d){H5d=Object.assign({},H5d);H5d.format="jpeg";return M3d.image(H5d);};M3d.webp=function(q5d){q5d=Object.assign({},q5d);q5d.format="webp";return M3d.image(q5d);};M3d.canvas=function(J5d,E5d){var Z5d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"image/png",j5d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,u5d=4<arguments.length&&void 0!==arguments[4]?arguments[4]:72;E5d=Z3d(E5d,Z5d);return J5d.toBlob(Z5d,j5d).then(function(S5d){if(72!==u5d&&g3d[Z5d]){return sketch.convert.blob.toArrayBuffer(S5d).then(function(K5d){K5d=g3d[Z5d](S5d,K5d,u5d);M3d.blob(K5d,E5d);});}M3d.blob(S5d,E5d);});};var g3d={"image/jpeg":function(b5d,C5d,t5d){b5d=new DataView(C5d);b5d.setUint8(13,1);b5d.setUint16(14,t5d);b5d.setUint16(16,t5d);return new Blob([b5d],{type:"image/jpeg"});},"image/png":function(f5d,B5d,N5d){B5d=new sketch.ArrayBufferReader(B5d);N5d=h3d(N5d/72*2834.6472);N5d=[112,72,89,115].concat(N5d).concat(N5d).concat(1);N5d=h3d(N5d.length-4).concat(N5d).concat(E3d(N5d));var m5d=B5d.findString("IDATx")-5-4;B5d=f5d.slice(0,m5d);f5d=f5d.slice(m5d,f5d.size);return new Blob([B5d,new Uint8Array(N5d),f5d],{type:"image/png"});}},q3d=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];sketch.download=M3d;}();void function(){function z5d(X5d,W5d){return sketch.require("zip").catch(function(){throw"zip."+X5d+"(...) zip support could not be loaded!";}).then(function(){var U5d;return(U5d=Q5d.zip)[X5d].apply(U5d,D5d(W5d));});}var D5d=function(G5d){if(Array.isArray(G5d)){for(var e5d=0,F5d=Array(G5d.length);e5d<G5d.length;e5d++){F5d[e5d]=G5d[e5d];}return F5d;}return Array.from(G5d);},Q5d=sketch.io,d5d=sketch.string,l5d=sketch.open=function(V5d){var p5d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return(p5d.doc||sketch.doc).addMedia(V5d,{onProgress:p5d.onProgress,openAsNew:true});};l5d.fromBlobs=function(R5d){var L5d=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).onProgress,v5d=[],P5d=null;R5d.forEach(function(a5d){var i5d=a5d.name;if(i5d){switch(i5d){case"README.txt":break;case"sketch.json":P5d=a5d;break;default:i5d.startsWith("asset-")&&v5d.push({content:a5d,targetId:"#"+d5d.filenameSansExtension(i5d),placeIntoResources:true});}}});return P5d?l5d.scene(P5d,{assetEntries:v5d,onProgress:L5d}):Promise.reject("open.fromBlobs(...) JSON not found in folder.");};l5d.hasDiskAccess=function(){return false;};l5d.fromDisk=function(){return Promise.reject("Cannot open from disk.");};l5d.sketch=function(x5d){return Q5d.zip.decodeSketch(x5d).then(function(k5d){return l5d.scene(k5d["sketch.json"]);});};l5d.pdf=function(){var w5d=arguments;return sketch.require("pdf-open",{exposed:["PDFJS"]}).catch(function(){throw"open.pdf(...) `pdf` support could not be loaded.";}).then(function(){return l5d.pdf.apply(l5d,w5d);});};Q5d.zip={};Q5d.zip.encode=function(){return z5d("encode",arguments);};Q5d.zip.decode=function(){return z5d("decode",arguments);};Q5d.zip.getEntries=function(){return z5d("getEntries",arguments);};Q5d.zip.decodeSketch=function(){return z5d("decodeSketch",arguments);};}();void function(){sketch.print=function(){function r9d(){var s9d=document.documentElement;s9d.setAttribute("mozNoMarginBoxes",true);s9d.setAttribute("mozDisallowSelectionPrint",true);return A5d.append(document.body,"sketch-print");}var Y5d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},A5d=sketch.dom;return sketch.save.canvas(Y5d).then(function(n9d){var O9d=Y5d.margin||"0in",I9d=72/(Y5d.dpi||72),c9d=Math.ceil(I9d*n9d.width),o9d=Math.ceil(I9d*n9d.height),I9d=c9d+"px",M9d=o9d+"px",T9d=void 0;sketch.agent.ios&&sketch.agent.cordova?(T9d=document.createElement("img"),T9d.src=n9d.toDataURL(),T9d.style.maxWidth=I9d,T9d.style.maxHeight=M9d):(T9d=n9d,T9d.style.width=I9d,T9d.style.height=M9d);n9d=A5d.$("sketch-print")||r9d();n9d.style.width=I9d;n9d.style.height=M9d;n9d.innerHTML="";n9d.appendChild(T9d);n9d.setAttribute("data-width",c9d);n9d.setAttribute("data-height",o9d);var g9d=global.CSSPageRule;if(c9d=A5d.findStyleSheetRule(function(h9d){return h9d instanceof g9d;})){c9d.style.size=I9d+" "+M9d,c9d.style.margin=""+O9d;}window.print();});};}();void function(){var q9d=sketch.io,y9d=sketch.save,Z9d=sketch.util;y9d.command=function(){var u9d=arguments;return new Promise(function(S9d,j9d){j9d=0<u9d.length&&void 0!==u9d[0]?u9d[0]:{};if(sketch.on.handlers.requestsave){return S9d(new Promise(function(b9d,t9d){sketch.emit("requestsave",{onsuccess:b9d,onerror:t9d});}));}var J9d=j9d.command||j9d.format;if(J9d){return S9d(sketch.save[J9d](j9d));}if(sketch.doc.on.handlers.save){j9d=Promise.defer();var J9d=j9d.resolve.bind(j9d),K9d=j9d.reject.bind(j9d);sketch.doc.emit("save",{onSuccess:J9d,onError:K9d});return S9d(j9d.promise);}return S9d(sketch.download.image());}.bind(this));};y9d.multiple=function(f9d){function N9d(m9d,B9d){B9d=Object.assign({as:"blob"},B9d);var l9d=B9d.name||"sketch."+m9d;return sketch.save[m9d](B9d).then(function(Q9d){Array.isArray(Q9d)?C9d=C9d.concat(Q9d):C9d.push({name:l9d,value:Q9d});});}var C9d=[];return Promise.each(f9d,function(z9d){return"string"===typeof z9d?N9d(z9d):N9d(z9d.command||z9d.format,z9d);}).then(function(){return C9d;});};y9d.zip=function(){var D9d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},d9d=D9d.onProgress;return y9d.bundle({withHistory:D9d.withHistory}).then(function(X9d){return q9d.zip.encode(X9d,{onProgress:d9d}).catch(function(W9d){console.error(W9d);});});};y9d.bundle=function(){var U9d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},G9d=U9d.as||"blob",e9d=U9d.withHistory;return y9d.assets().then(function(F9d){return y9d.scene({as:G9d,withHistory:e9d}).then(function(V9d){var p9d=[];Z9d.forEach(F9d,function(P9d,v9d){P9d=E9d[P9d.type];P9d=v9d.substr(1)+"."+P9d;p9d.push({name:P9d,value:F9d[v9d]});});p9d.push({name:"sketch.json",value:V9d});return p9d;});});};y9d.jpeg=function(){var L9d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};L9d.as||(L9d.as="blob");L9d.format="jpeg";return y9d.canvas(L9d);};y9d.png=function(){var R9d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};R9d.as||(R9d.as="blob");R9d.format="png";return y9d.canvas(R9d);};y9d.confirm=function(i9d){return sketch.doc.needsSync()?sketch.ui.confirm({content:sketch.lang.translate("change-doc-confirm"),labels:{ok:"save",cancel:"cancel",disregard:"dontSave"}}).then(function(a9d){if(a9d.ok){return sketch.save.command(i9d);}if(!a9d.disregard){return Promise.reject();}}):Promise.resolve();};y9d.toBrowserTab=function(x9d){"string"===typeof x9d&&(x9d={type:x9d});x9d=Object.assign(x9d||{});x9d.as="blobURL";y9d[x9d.type||"svg"](x9d).then(function(k9d){window.open(k9d);});};y9d.toDisk=function(w9d,Y9d){return sketch.download.blob(w9d,Y9d);};y9d._readMime=function(A9d){var r1d=A9d.mime;A9d=A9d.format;return r1d?r1d:H9d[A9d]?H9d[A9d]:"image/png";};y9d._returnAs=function(s1d,T1d){var n1d=y9d._readMime(T1d),I1d=T1d.quality;switch(T1d.as){case"blob":return s1d.toBlob(n1d,I1d);case"blobURL":return s1d.toBlobURL(n1d,I1d);case"arrayBuffer":return s1d.toArrayBuffer(n1d,I1d);case"string":case"dataURL":return s1d.toDataURL(n1d,I1d);case"base64":return s1d.toDataURL(n1d,I1d).split(",").pop();default:return s1d;}};var E9d={"application/font-woff":"woff","image/png":"png","image/gif":"gif","image/jpeg":"jpeg","image/svg+xml":"svg"},H9d={woff:"application/font-woff",png:"image/png",gif:"image/gif",jpeg:"image/jpeg",svg:"image/svg+xml"};y9d.pdf=function(){var c1d=arguments;return sketch.require("pdf-save",{exposed:["jsPDF"]}).catch(function(M1d){console.log(M1d);throw"save.pdf(...) `pdf` support could not be loaded.";}).then(function(){return y9d.pdf.apply(y9d,c1d);});};sketch.save=y9d;}();void function(){sketch.save.canvas=function(){var h1d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},B1d=sketch.save,j1d=sketch.Canvas2D,O1d=h1d.doc||sketch.doc,J1d=O1d.render,y1d=O1d.viewport,S1d=h1d.background,o1d=h1d.region,f1d=h1d.layers||O1d.scene.children,C1d=!!h1d.clipToObjects,Z1d,u1d,q1d,H1d;h1d.clipToSelection||C1d?(o1d=sketch.layerUtils.getBoundingBox(f1d,o1d),Z1d=o1d.x,u1d=o1d.y,q1d=o1d.width,H1d=o1d.height):(Z1d=o1d&&Number.isFinite(o1d.x)?o1d.x:0,u1d=o1d&&Number.isFinite(o1d.y)?o1d.y:0,q1d=o1d&&Number.isFinite(o1d.width)?o1d.width:O1d.pixelWidth,H1d=o1d&&Number.isFinite(o1d.height)?o1d.height:O1d.pixelHeight);var o1d=0<h1d.scale?h1d.scale:1,t1d=h1d.longestEdge;Number.isFinite(t1d)&&(o1d=q1d>H1d?t1d/q1d:t1d/H1d);var N1d=O1d.pixelRatio,l1d=O1d.zoom,E1d=(0<h1d.dpi?h1d.dpi:72*N1d)/72;q1d=Math.ceil(q1d*E1d*o1d);H1d=Math.ceil(H1d*E1d*o1d);Z1d=Math.ceil(Z1d);u1d=Math.ceil(u1d);var K1d=Object.assign({},y1d),m1d=O1d.renderingEngine;O1d.renderingEngine="sketchpad";O1d.pixelRatio=E1d;O1d.zoom=O1d.orient.zoom.value=1;J1d.dirtyLayerTransforms=true;J1d.layers=f1d;y1d.x=-Z1d;y1d.y=-u1d;y1d.width=q1d;y1d.height=H1d;var b1d=j1d(q1d,H1d),g1d=b1d.ctx,j1d=new sketch.Matrix2D();j1d.scale(E1d*o1d);j1d.translate(-Z1d,-u1d);j1d.applySetTransform(g1d);return J1d.now(g1d).then(function(){J1d.dirtyLayerTransforms=true;J1d.layers=null;O1d.renderingEngine=m1d;O1d.pixelRatio=N1d;O1d.zoom=O1d.orient.zoom.value=l1d;y1d.y=K1d.y;y1d.x=K1d.x;y1d.width=K1d.width;y1d.height=K1d.height;var z1d=B1d._readMime(h1d),D1d=Z1d,d1d=u1d,Q1d=q1d,X1d=H1d;g1d.save();g1d.globalCompositeOperation="destination-over";S1d&&"none"!==S1d&&(g1d.save(),g1d.rect(0,0,Q1d,X1d),g1d.scale(E1d,E1d),g1d.translate(-Math.abs(D1d%Q1d),-Math.abs(d1d%X1d)),g1d.fillStyle=S1d,g1d.fill(),g1d.restore());"image/jpeg"===z1d&&(g1d.fillStyle="white",g1d.fillRect(0,0,Q1d,X1d));g1d.restore();O1d.orient.render();return C1d?(Q1d=sketch.canvasUtils.pixelBounds(b1d),z1d=Q1d.x1,D1d=Q1d.y1,d1d=Q1d.x2,Q1d=Q1d.y2,sketch.thumbnailer(b1d,{x:z1d,y:D1d,width:d1d-z1d,height:Q1d-D1d,background:S1d,croparea:[z1d,D1d,d1d,Q1d],crop:"none"})):b1d;}).then(function(W1d){return B1d._returnAs(W1d,h1d);});};}();void function(){function J4d(t4d,b4d){var K4d="\n\t\tThis document was created with v"+b4d+"<br>\n\t\tYou are currently using v"+sketch.version+"<br>\n\t\tOpening this document may not work properly.<br>\n\t\tReloading the app may fix this issue.\n\t";return R1d.confirm({content:K4d,labels:{ok:"open",cancel:"cancel"}}).then(function(C4d){return C4d.ok?E4d(t4d,b4d):Promise.reject(K4d);});}function E4d(N4d,m4d){function l4d(){if(sketch.debug&&Q4d.length){var z4d=[];z4d.unshift("background: #222; color: #bbff00; padding: 0 3px; border-radius: 3px;");z4d.unshift("%c PATCHED: v"+m4d+" to v"+sketch.version);console.log.apply(console,z4d);}N4d.version=sketch.version;return N4d;}var Q4d=A1d(m4d),f4d=N4d.layers;f4d||(f4d=N4d.actions);f4d||(f4d=N4d.layers=[]);var B4d=[];return Promise.each(Q4d,function(D4d){return Promise.each(f4d,function(d4d){return P1d(d4d,D4d,B4d);}).then(function(){var X4d=p1d[D4d];X4d&&X4d.patchMeta&&X4d.patchMeta(N4d);X4d=N4d.config;X4d||(X4d=N4d.config={});X4d.uuid||(X4d.uuid=e1d.uuid());X4d.pages&&X4d.pages.length||(X4d.pages={length:1,data:[{width:X4d.width,height:X4d.height}]});});}).then(function(){if(!B4d.length){return l4d();}var W4d={};B4d.forEach(function(G4d){var e4d=G4d.type,F4d=G4d.name;G4d=G4d.message;W4d[e4d]||(W4d[e4d]={});W4d[e4d][F4d]=G4d;});var U4d=W4d.depreciate;return null==U4d?l4d():S4d(U4d,m4d).then(l4d);});}function S4d(V4d,p4d){p4d="";for(var P4d in V4d){p4d+=V4d[P4d];}return R1d.confirm({content:'<b style="color: red">IMPORTANT NOTICE:</b><br>'+p4d+"<p>Would you like to upgrade, or open in an older version of Sketchpad?",labels:{ok:"upgrade",cancel:"cancel",disregard:"old-version"}}).then(function(v4d){if(!v4d.ok){if(v4d.cancel){return Promise.reject({type:"cancel"});}if(v4d.disregard){return window.open("https://sketch.io/sketchpad-3.7.6/"),Promise.reject({type:"cancel"});}}});}function P1d(L4d,R4d,i4d){L4d.bbox||(L4d.bbox={});L4d.bbox.scale||(L4d.bbox.scale={x:1,y:1});if((R4d=p1d[R4d])&&R4d.patchLayer&&(L4d=R4d.patchLayer(L4d))){if(L4d.then){return L4d.then(function(a4d){a4d&&i4d.push(a4d);});}i4d.push(L4d);}}function A1d(w4d){var k4d=e1d.version(w4d),x4d=[];x1d.forEach(function(Y4d){k4d.is("<"+Y4d.version)&&x4d.push(Y4d.version);});return x4d;}function n4d(c7d){function M7d(O7d){Z4d.add(O7d.resources);var g7d=I7d.concat(o7d(O7d.assets));return Promise.each(g7d,function(h7d,y7d){r7d(.1+(y7d+1)/g7d.length*.5);return h4d.add(h7d.content,h7d);}).return(O7d);}function o7d(){var H7d=[];k1d.forEach(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],function(q7d,Z7d){H7d.push({content:q7d,targetId:Z7d});});return H7d;}var s7d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},I7d=s7d.assetEntries||[],A4d=s7d.doc||sketch.doc,r7d=s7d.onProgress||A4d.defaultProgressHandler,T7d=A4d.history,n7d=A4d.scene;r7d(0);return I4d(c7d).then(function(E7d){r7d(.05);return H4d.upgradeDocument(E7d);}).then(function(u7d){r7d(.1);return M7d(u7d);}).then(function(j7d){r7d(.6);A4d.reset();j7d.config&&A4d.config(k1d.filter(j7d.config,function(S7d,J7d){return"clip"!==J7d;}));T7d.setRecording(j7d.history||{recording:"open"});return n7d.load({layers:j7d.layers,chunkedRendering:true,onProgress:function(K7d){r7d(.6+.39*K7d);}}).then(function(){A4d.lastModified=A4d.lastSynced;n7d.dirtyIndex=true;r7d(1);A4d.emit("open");return A4d;});}).catch(function(b7d){r7d(1);throw b7d;});}function I4d(t7d){return t7d?sketch.fileinfo.isBlob(t7d)?y4d.blob(t7d,"string").then(I4d).catch(console.error):("undefined"===typeof t7d?false:"object"===G1d(t7d))?t7d.version?Promise.resolve(t7d):Promise.reject("JSON input is invalid."):q4d.isValidXhrUrl(t7d)?sketch.requestJSON(t7d):new Promise(function(C7d,N7d){try{C7d(JSON.parse(t7d));}catch(f7d){N7d(f7d,t7d);}}):Promise.reject("JSON input is empty.");}function c4d(){function D7d(){return"object"===l7d?Promise.resolve(m7d):"json"===l7d||"string"===l7d?Promise.resolve(JSON.stringify(m7d)):i1d.blob(i1d.object.toBlob(m7d),l7d);}var B7d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},Q7d=B7d.doc||sketch.doc,z7d=Q7d.scene,l7d=B7d.as||"object",d7d=!!B7d.withAssets,X7d=!!B7d.withHistory,W7d=B7d.quality||1,B7d=z7d.selection.toLayers(B7d.layers||z7d.children,{filter:function(U7d){return U7d.exportable;}}),m7d={};m7d.version=sketch.version;m7d.config=Q7d.config.json();m7d.resources=j4d.getAssetsAttachedToLayers(B7d,"resource");m7d.layers=B7d;X7d&&(m7d.history=Q7d.history.toSerializable());return d7d?F1d.assets({as:"dataURL",quality:W7d}).then(function(G7d){m7d.assets=G7d;return D7d();}):D7d();}var M4d={colorMatrix:{keys:"invert tint temperature brightness contrast exposure colorize monotone saturation sepia hue".split(" "),convert:{brightness:function(e7d){return e7d/100/2.5;}}},mirror:{keys:["flipX","flipY"]},bleachBypass:{keys:["opacity"]},brightnessContrast:{keys:["brightness","contrast"]},colorify:{keys:["amount","color"]},colorIsolation:{keys:["hueStart","hueEnd"]},colormap:{keys:["amount","mapId"]},colorMatrixOld:{keys:["hue"]},hueSaturation:{keys:["hue","saturation"]},invert:{keys:["enabled"]},lumaKey:{keys:["clipBlack","clipWhite"]},sepia:{keys:["amount"]},vibrance:{keys:["amount"]},lensBlur:{keys:["radius","brightness","angle"]},tiltShift:{keys:"startX startY endX endY blurRadius gradientRadius".split(" ")},triangleBlur:{keys:["blurX","blurY"]},zoomBlur:{keys:["centerX","centerY","strength"]},colorHalftone:{keys:["centerX","centerY","angle","size"]},dotScreen:{keys:["centerX","centerY","angle","size"]},edgeWork:{keys:["radius"]},film:{keys:["pixelSize","amount","opacity","sCount"]},kaleidoscope:{keys:["angle","sides"]},oldFilm:{keys:["sepia","noise","burn","scratch"]},popArt:{keys:["dividerValue","gamma","numColors"]},RGBShift:{keys:["angle","amount"]},tron:{keys:"amount opacity colorIntensity alphaCutoff variation distance speed".split(" ")},vignette:{keys:["size","blur"]},denoise:{keys:["exponent"]},noise:{keys:["amount"]},mosaic:{keys:["pixelSize"]},hexagonalPixelate:{keys:["centerX","centerY","scale"]},edgeDetect:{keys:["amount","diameter","opacity"]},ink:{keys:["strength"]},unsharpMask:{keys:["radius","strength"]},blend:{keys:["blendmode","srcAmount","dstAmount"]},bulgePinch:{keys:["centerX","centerY","radius","strength"]},displacement:{keys:"zoom dotDepth dotSize textureDepth textureId strength".split(" ")},ripple:{keys:["wave","distortion","centerX","centerY"]},swirl:{keys:["centerX","centerY","radius","angle"]}},o4d={pie:["angle"],ring:["angle"],streamer:["diameter"],pen:["diameter"],spirograph:["radius"],crayon:["rotate","scale","translate"],stamp:["rotate","scale","translate"],pastel:["rotate"]},O4d=sketch.style,L1d=sketch.util;j.initSymbol();j.initSymbol();j.initSymbolIterator();var G1d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(F7d){return typeof F7d;}:function(p7d){j.initSymbol();j.initSymbol();j.initSymbol();return p7d&&"function"===typeof Symbol&&p7d.constructor===Symbol&&p7d!==Symbol.prototype?"symbol":typeof p7d;},u4d=sketch.PATH_SIMPLIFY,Y1d=sketch.PATH_SMOOTHING,a1d=sketch.PATH_SPACING,r4d=/<(div|font|span|b|u|i)>/i,s4d={chrome:-1,fur:-1,paintbrush:.5,pencil:.5,shader:-1,sketchy:-1,spraypaint:-1,tileBrush:-1,web:-1},w1d={arrow:[6,1],paintbrush:[6,1],pencil:[6,1]},V1d=sketch.layerUtils,T4d=sketch.feature,e1d=sketch.util,R1d=sketch.ui,U1d=sketch.io.json,p1d={},x1d=[{version:"2.0a",patchLayer:function(V7d){V7d.color_mode&&(V7d.fill.mode=V7d.color_mode);V7d.color_noise&&(V7d.fill.noise=V7d.color_noise);V7d.flow&&(V7d.spacing=V7d.flow);}},{version:"3.3",patchLayer:function(P7d){"string"===typeof P7d.src&&(P7d.src=P7d.src.replace("/brush/","/stamp/"),P7d.src=P7d.src.replace("/animal/","/animals/"));"polygon"===P7d.type&&(P7d.type="regularPolygon");"radialBurst"===P7d.type&&(P7d.spread=P7d.slope,delete P7d.slope);"0,00000000"===P7d.fill.gradient&&(P7d.fill.gradient="none");}},{version:"3.4",patchMeta:function(v7d){var L7d=v7d.metadata;v7d.title&&(L7d.title=v7d.title);v7d.description&&(L7d.description=v7d.description);v7d.width===+v7d.width&&(L7d.width=v7d.width);v7d.height===+v7d.height&&(L7d.height=v7d.height);}},{version:"3.4.6",patchLayer:function(R7d){R7d.content&&(R7d.content=R7d.content.split("\uf7c2\uf7a0").join(" "));sketch.detect.brush[R7d.type]&&R7d.bbox.padding&&(R7d.bbox.x-=2*R7d.bbox.padding,R7d.bbox.y-=2*R7d.bbox.padding);"paint"===R7d.composite&&(R7d.composite="source-over");"light"===R7d.composite&&(R7d.composite="lighter");R7d.saturation===+R7d.saturation&&(R7d.type="image");"image"===R7d.type&&(delete R7d.hue,delete R7d.saturation,delete R7d.temperature,delete R7d.tint,delete R7d.exposure,delete R7d.brightness,delete R7d.contrast,delete R7d.filters);},patchMeta:function(i7d){i7d=i7d.metadata;"string"!==typeof i7d.units&&(i7d.units=false===i7d.autoResize||false===i7d.infiniteCanvas?"px":"%");}},{version:"3.4.6.1",patchMeta:function(a7d){a7d=a7d.metadata;Number.isFinite(a7d.x+a7d.y)&&(a7d.x=-a7d.x,a7d.y=-a7d.y);}},{version:"3.5.9.2",patchLayer:function(x7d){"floodfill"===x7d.type&&(x7d.usePixelData=true);x7d.roundness&&(x7d.roundness/=200);x7d.filters&&(x7d.filter=x7d.filters,delete x7d.filters);}},{version:"3.6.8",patchLayer:function(k7d){"string"!==typeof k7d.toolkitId&&(k7d.toolkitId=sketch.doc.toolkit.getToolkitId(k7d.type));if(k7d.fill){var w7d=k7d.fill;"none"===w7d[w7d.type]?(w7d.type="color",w7d.color="passthrough"):(k7d.fill=new sketch.Fill(w7d),k7d.fill.enabled=true,k7d.fill.angle=225);}k7d.stroke&&(k7d.stroke=new sketch.Stroke(k7d.stroke),k7d.stroke.angle=225);},patchMeta:function(A7d){var Y7d=A7d.metadata;A7d.history&&A7d.history.vector&&(A7d.history.vector={max:4294967295,current:0,data:[]});"bluePrint"===Y7d.background&&(Y7d.background="blueprint");"%"===Y7d.units&&(Y7d.width*=100,Y7d.height*=100);}},{version:"3.7.8.1",patchLayer:function(r6d){r6d.pointerId=r6d.finger||"A:0";delete r6d.finger;Number.isFinite(r6d.slope)&&"burst"!==r6d.type&&(r6d.slope=1-r6d.slope);},patchMeta:function(s6d){s6d.history&&s6d.history.vector&&(s6d.history.vector={max:4294967295,current:0,data:[]});s6d=s6d.metadata;s6d.exportDPI=s6d.dpi||72;s6d.exportFormat=s6d.format||"png";s6d.originX=s6d.x||0;s6d.originY=s6d.y||0;s6d.scrollX=s6d.scrollLeft||0;s6d.scrollY=s6d.scrollTop||0;}},{version:"3.7.8.553",patchLayer:function(T6d){function o6d(y6d){var H6d=y6d.indexOf("/media/");return-1!==H6d?y6d.substr(H6d+7):y6d;}function g6d(N6d,t6d){var S6d=t6d.mode,E6d=t6d.angle||0,B6d=!!t6d.noise,b6d=N6d.bbox,j6d=b6d.scale;N6d=b6d.width*j6d.x;var b6d=b6d.height*j6d.y,J6d=N6d,q6d=b6d,Z6d=0,u6d=0,K6d=t6d.gradient;if("string"===typeof K6d){for(var f6d=K6d.split(","),K6d=[],C6d=0;C6d<f6d.length;C6d+=2){K6d.push(parseFloat(f6d[C6d])),K6d.push(parseInt("0x"+f6d[C6d+1]));}"radial"===S6d?t6d.gradient={type:"radialGradient",x0:.5,y0:.5,r0:0,x1:.5,y1:.5,r1:.5,stops:K6d,noise:B6d}:(Number.isFinite(E6d)&&(j6d&&(0>j6d.x&&(E6d=180-E6d),0>j6d.y&&(E6d=360-E6d)),235!==E6d&&(S6d=new n6d(J6d,q6d),j6d=new n6d(J6d,u6d),J6d=new n6d(Z6d,u6d),q6d=new n6d(Z6d,q6d),u6d=E6d%90-45,Z6d=Math.abs(u6d)/90,0>=u6d*(E6d%180-90)?(u6d=n6d.atTimeOnLine(j6d,J6d,Z6d),q6d=n6d.atTimeOnLine(q6d,S6d,Z6d)):(u6d=n6d.atTimeOnLine(S6d,j6d,Z6d),q6d=n6d.atTimeOnLine(J6d,q6d,Z6d)),q6d=n6d.distance(u6d,q6d)/2,Z6d=n6d.atTimeOnLine(S6d,J6d,.5),E6d=E6d*Math.PI/180,S6d=n6d.atAngleDistance(Z6d,E6d,-q6d),j6d=n6d.atAngleDistance(Z6d,E6d,+q6d),J6d=S6d.x||0,q6d=S6d.y||0,Z6d=j6d.x||0,u6d=j6d.y||0)),J6d===Z6d&&(Z6d+=.1),q6d===u6d&&(u6d+=.1),t6d.gradient={type:"linearGradient",x0:J6d/N6d,y0:q6d/b6d,x1:Z6d/N6d,y1:u6d/b6d,stops:K6d,noise:B6d});}}function h6d(l6d,D6d){var m6d=l6d.bbox;l6d=m6d.scale;var Q6d=m6d.width*l6d.x,z6d=m6d.height*l6d.y;M6d.push(new Promise(function(W6d){var d6d=D6d.pattern,X6d=d6d.src||d6d,X6d=o6d(X6d),d6d=new c6d.Pattern({src:X6d});c6d.loadPattern(d6d).then(function(U6d){var G6d=U6d.width/Q6d*m6d.scale.x/2;U6d=U6d.height/z6d*m6d.scale.y/2;d6d.x0=G6d;d6d.y0=U6d;d6d.x1=2*G6d;d6d.y1=U6d;W6d();}).catch(function(){console.log("err");W6d();});}));}var c6d=sketch.style,n6d=sketch.Point,M6d=[],O6d;for(O6d in c6d.paintMethods){var I6d=T6d[O6d];I6d&&("none"===I6d[I6d.type]&&(I6d.type="color",I6d.color="passthrough"),I6d.gradient&&g6d(T6d,I6d),I6d.pattern&&h6d(T6d,I6d),T6d.src&&(T6d.src=o6d(T6d.src)));}return Promise.all(M6d);}},{version:"4.0.0.1",patchLayer:function(e6d){var V6d=e6d.type,v6d=e6d.toolkitId,F6d=e6d.bbox;if("userSpaceOnUse"===F6d.units){var p6d=F6d.rotate*Math.PI/180,L6d=F6d.width*F6d.scale.x/2,R6d=F6d.height*F6d.scale.y/2,P6d=new sketch.Matrix2D();P6d.translate(F6d.x,F6d.y);p6d&&(P6d.translate(L6d,R6d),P6d.rotate(p6d),P6d.translate(-L6d,-R6d));p6d=P6d.point2d(0,0);F6d.x=p6d.x;F6d.y=p6d.y;}if("image"===V6d){delete e6d.fill,delete e6d.stroke;}else if("imperfectRect"===V6d&&(e6d.type="rectangle",e6d.imperfection=1),"brush"===v6d){if("path"===V6d||"polyline"===V6d){if(e6d=e6d.stroke){e6d.lineJoin="round",e6d.lineWidth/=F6d.scale.x;}}else{"arrow"!==V6d||e6d.curved?(F6d=e6d.fill,e6d.fill=new sketch.Fill({enabled:false}),e6d.stroke=new sketch.Stroke(F6d),e6d.stroke.enabled=true):e6d.stroke=new sketch.Stroke({enabled:false}),(F6d=e6d.stroke)&&null==F6d.miterLimit&&(F6d.miterLimit=4),F6d=e6d.opacity,100!==F6d&&(0<=e6d.opacity&&(e6d.stroke&&(e6d.stroke.opacity=F6d/100),e6d.fill&&(e6d.fill.opacity=F6d/100)),e6d.opacity=100),"spirograph"===V6d&&(p6d=e6d.distance,V6d=e6d.innerRadius,F6d=e6d.outerRadius,v6d=Math.abs(V6d-F6d)+p6d,Number.isFinite(v6d)&&(p6d=Math.abs(V6d-F6d)+p6d,e6d.diameter=2*v6d,e6d.radius={min:V6d/p6d,max:F6d/p6d},delete e6d.distance,delete e6d.innerRadius,delete e6d.outerRadius));}}},patchMeta:function(i6d){var a6d=i6d.metadata.background;a6d&&(i6d.actions.filter(function(x6d){return"background"===x6d.name;}).length||i6d.actions.push({type:"rectangle",name:"background",fill:a6d,selectable:false,useStickToBack:true,useStretchToFit:true}));}},{version:"4.0.0.208",patchLayer:function(w6d){if(w6d.filter){var Y6d=[],k6d=w6d.filter[0];Array.isArray(k6d)&&(k6d.shift(),k6d.forEach(function(r8S){var n8S={},A6d=M4d[r8S.id];if(null==A6d){console.log(r8S.id,r8S);}else{var o8S=A6d.keys,A6d=A6d.convert,I8S=r8S.data.length;if(0!==I8S){for(var s8S=0;s8S<I8S;s8S++){var T8S=o8S[s8S],c8S=r8S.data[s8S],M8S=A6d&&A6d[T8S];n8S[T8S]=M8S?M8S(c8S):c8S;}r8S.data=n8S;Y6d.push(r8S);}}}),w6d.filter=Y6d);}}},{version:"4.0.4",patchLayer:function(O8S){function Z8S(j8S){var u8S=O8S[j8S];u8S&&Number.isFinite(u8S.min+u8S.max)&&(O8S[j8S]=[u8S.min,u8S.max]);}var y8S=sketch.Fill,H8S=sketch.Point;"brush"===O8S.toolkitId&&Z8S("spacing");var g8S=O8S.type,h8S=o4d[g8S];h8S&&h8S.forEach(Z8S);if("floodfill"===g8S&&O8S.data){var g8S=new y8S(O8S.stroke),y8S=O8S.bbox,h8S=O8S.data,q8S=new H8S(h8S.shift()),h8S=new H8S(h8S.pop());O8S.toolkitId="floodfill";O8S.fill=g8S;O8S.origin=q8S;delete O8S.data;delete O8S.movable;delete O8S.stroke;delete O8S.usePixelData;delete O8S.useStretchToEdge;if("gradient"===g8S.type){var E8S=H8S.angle(q8S,h8S),q8S=2*H8S.distance(q8S,h8S),H8S=H8S.atAngleDistance(h8S,E8S,-q8S),g8S=g8S.gradient;g8S.x0=(H8S.x-y8S.x)/y8S.width;g8S.x1=(h8S.x-y8S.x)/y8S.width;g8S.y0=(H8S.y-y8S.y)/y8S.height;g8S.y1=(h8S.y-y8S.y)/y8S.height;}}},patchMeta:function(J8S){var b8S=J8S.actions;J8S=J8S.metadata;var S8S=J8S.originX||0,K8S=J8S.originY||0;(S8S||K8S)&&b8S.forEach(function(t8S){t8S=t8S.bbox;t8S.x=Math.round(t8S.x-S8S);t8S.y=Math.round(t8S.y-K8S);});}},{version:"4.1.8",patchLayer:function(N8S){if(N8S=N8S.svgPatch){N8S=N8S.patches;for(var B8S in N8S){var C8S=N8S[B8S],f8S=C8S.strokeStyle;f8S&&(delete C8S.strokeStyle,C8S.stroke=f8S);if(f8S=C8S.fillStyle){delete C8S.fillStyle,C8S.fill=f8S;}}}}},{version:"4.1.276",patchLayer:function(m8S){m8S.useStickToFront?(m8S.stickTo="front",delete m8S.useStickToFront):m8S.useStickToBack&&(m8S.stickTo="back",delete m8S.useStickToBack);m8S.useStretchToEdge?(m8S.stretchTo="edge",delete m8S.useStretchToEdge):m8S.useStretchToFit&&(m8S.stretchTo="fit",delete m8S.useStretchToFit);m8S.composite&&(m8S.blend=m8S.composite);if("eraser"===m8S.type){var l8S=m8S.stroke;l8S&&(l8S.opacity=1);delete m8S.fill;}}},{version:"4.2.199",patchLayer:function(z8S){if("stamp"===z8S.type){var Q8S=z8S.translate;Array.isArray(Q8S)&&(z8S.jitterOffset=Q8S,delete z8S.translate);Q8S=z8S.rotate;Array.isArray(Q8S)&&(z8S.jitterRotation=Q8S,delete z8S.rotate);Q8S=z8S.scale;Array.isArray(Q8S)&&(z8S.jitterScale=L1d.copy(Q8S),delete z8S.scale);}Q8S=z8S.bbox;"heart"===z8S.type&&(Q8S.scale.y*=0.8918520339191348);var D8S=Q8S.rotate;D8S&&(Q8S.rotation=D8S*L1d.DEG_RAD,delete Q8S.rotate);if(Q8S=z8S.speed){z8S.airbrush=true,"spirograph"===z8S.type&&(z8S.iterations=Q8S),delete z8S.speed;}if(Q8S=z8S.interval){z8S.iteration=Q8S,delete z8S.interval;}for(var W8S in O4d.paintMethods){if(Q8S=z8S[W8S]){if("boolean"===typeof Q8S.reflect&&(Q8S.reflect=Q8S.reflect?"reflect":"no-reflect"),D8S=Q8S.gradient){Q8S=D8S;if((D8S=D8S.stops)&&D8S.length){var d8S=D8S[0];if(!d8S||"string"!==typeof d8S.color){for(var d8S=[],X8S=0;X8S<D8S.length;X8S+=2){d8S.push({color:sketch.color.space.HEX32_W3(D8S[X8S+1]),offset:parseFloat(D8S[X8S])});}D8S=d8S;}}else{sketch.debug&&console.error(D8S),D8S=[{color:"#ffff00",offset:0},{color:"#00ffff",offset:1}];}Q8S.stops=D8S;}}}},patchMeta:function(G8S){var U8S=G8S.history;U8S&&U8S.vector&&U8S.vector.data&&(G8S.history=U8S.vector);}},{version:"5.1.143",patchLayer:function(F8S){var e8S=F8S.type;if("image"===e8S||"svg"===e8S){F8S.type="clipart";}"text"===e8S&&(r4d.test(F8S.content)?F8S.type="htmlText":F8S.type="fancyText");"calligraphy"!==e8S||Number.isFinite(F8S.tipAngle)||(F8S.tipAngle=-45);var p8S=w1d[e8S];p8S&&"object"!==G1d(F8S.pathSimplify)&&(F8S.data=sketch.vector.mcMasterSmooth(F8S.data,3),F8S.pathSimplify={type:u4d.LANG,value:p8S});(p8S=s4d[e8S])&&"object"!==G1d(F8S.pathSmoothing)&&(F8S.pathSmoothing={type:Y1d.CATMULL_ROM,value:p8S});var V8S=F8S.spacing;Array.isArray(V8S)&&(p8S=V8S[0],V8S=V8S[1],p8S=Number.isFinite(p8S)&&1<p8S?p8S:1,V8S=Number.isFinite(V8S)&&1<V8S?V8S:1,delete F8S.spacing,F8S.pathSpacing="crayon"===e8S?{type:a1d.EVEN,pattern:[p8S]}:{type:a1d.ADAPTIVE_THRESHOLD,clamp:{min:p8S,max:V8S}});for(var P8S in sketch.style.paintMethods){if(e8S=F8S[P8S]){if(e8S=(e8S=e8S[e8S.type])&&e8S.transform){e8S.e=e8S.tx,e8S.f=e8S.ty,delete e8S.e,delete e8S.f;}}}Number.isFinite(F8S.opacity)&&(F8S.opacity/=100);},patchMeta:function(v8S){var L8S=v8S.actions;Array.isArray(L8S)&&(v8S.layers=L8S,delete v8S.actions);L8S=v8S.metadata;("undefined"===typeof L8S?false:"object"===G1d(L8S))&&(v8S.config=L8S,delete v8S.metadata);v8S.history&&delete v8S.history;}},{version:"5.1.232",patchLayer:function(R8S){Number.isFinite(R8S.opacity)||(R8S.opacity=1);"triangle"===R8S.type&&V1d.relativeRotate(R8S,Math.PI);},patchMeta:function(i8S){var a8S=i8S.config;"%"===a8S.units&&(i8S=V1d.getBoundingBox(i8S.layers),a8S.width=i8S.width+2*i8S.x,a8S.height=i8S.height+2*i8S.y,a8S.units="px");}},{version:"5.1.245",patchLayer:function(x8S){sketch.detect.text[x8S.type]&&"arial"===(x8S.fontFamily||"arial").toLowerCase()&&(x8S.fontFamily="open-sans");}}];x1d.forEach(function(k8S){p1d[k8S.version]=k8S;});U1d.upgradeDocument=function(Y8S){var w8S;w8S=String(Y8S.version).replace("dev","");return!T4d.ignoreUpgradeNotice&&e1d.version(w8S).is(">"+sketch.version)?J4d(Y8S,w8S):E4d(Y8S,w8S);};U1d.upgradePackets=function(n2S,I2S){if(!e1d.version(I2S).is(">"+sketch.version)){var A8S=A1d(I2S);if(A8S.length&&n2S){var r2S=sketch.doc.recorder.OP,s2S=[];n2S.forEach(function(c2S){var T2S=c2S.data;c2S=c2S.op;if(c2S===r2S.TOOL){var M2S=T2S.config;M2S&&A8S.forEach(function(o2S){return P1d(M2S,o2S,s2S);});}else{c2S===r2S.HISTORY_STORE&&A8S.includes("4.0.0.1")&&("update"===T2S.cmd?sketch.doc.history.diffFromChanges(T2S.data):"remove"!==T2S.cmd&&"add"!==T2S.cmd||T2S.data.forEach(function(O2S){A8S.forEach(function(g2S){return P1d(O2S,g2S,s2S);});}));}});}}};var h4d=sketch.assets,y4d=sketch.convert,H4d=sketch.io.json,q4d=sketch.loc,U1d=sketch.open,Z4d=sketch.resources,k1d=sketch.util;U1d.scene=n4d;U1d.json=n4d;var i1d=sketch.convert,j4d=sketch.layerUtils,F1d=sketch.save;F1d.scene=c4d;F1d.json=c4d;var v1d=sketch.assets,g4d=sketch.layerUtils;sketch.save.assets=function(){var h2S=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(sketch._noRendering){return Promise.resolve();}var H2S=h2S.doc||sketch.doc,q2S=h2S.as||"blob",h2S=H2S.scene.selection.toLayers(h2S.layers||H2S.scene.children,{filter:function(Z2S){return Z2S.exportable;}}),y2S={};return Promise.all(g4d.getAssetsAttachedToLayers(h2S,"object").map(function(u2S){var j2S=u2S.src||u2S.fontFamily,J2S=v1d.getContent(j2S);if(J2S){var E2S=J2S.assetId;if(!y2S[E2S]){return u2S.src&&(u2S.src=E2S),v1d.getAs(E2S,q2S,"image/png",1).then(function(S2S){y2S[E2S]=S2S;});}}else{sketch.debug&&!sketch.generate.presets[j2S]&&console.error("saveAssets(...) '"+j2S+"' could not be found.");}})).return(y2S);};}();void function(){sketch.server.open=function(){var f2S=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},l2S=f2S.url,m2S=f2S.onSuccess,N2S=f2S.onError,B2S=f2S.onProgress||doc.defaultProgressHandler;return l2S?sketch.request(l2S,{onProgress:B2S}).then(function(Q2S){if(Q2S.startsWith("<?xml")||Q2S.startsWith("<svg")){return B2S(.99),sketch.open.svg(Q2S,m2S,N2S);}if(Q2S.startsWith("<")){return B2S(1),Q2S={message:"Invalid data from server."},N2S&&N2S(Q2S),Promise.reject(Q2S);}if(Q2S.startsWith("{")){return B2S(.99),sketch.open.scene(Q2S).then(m2S).catch(N2S);}if(sketch.open.sketch){for(var D2S=new Uint8Array(Q2S.length),z2S=0;z2S<Q2S.length;z2S++){D2S[z2S]=Q2S.charCodeAt(z2S)&255;}Q2S=new Blob([D2S.buffer],{type:"application/zip"});B2S(.99);return sketch.open.sketch(Q2S).then(m2S).catch(N2S);}B2S(1);m2S&&m2S();}).catch(function(d2S){B2S(1);sketch.debug?console.warn("server connection error",d2S):N2S&&N2S({message:"URL could not be reached."});}):(f2S={message:"URL is invalid."},N2S&&N2S(f2S),Promise.reject(f2S));};var K2S=sketch.server,t2S=sketch.util,b2S=void 0;K2S.save=function(){var X2S=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},p2S=X2S.url,W2S=X2S.sync,V2S=X2S.onAbort||W2S.onAbort,U2S=X2S.onProgress||W2S.onProgress,G2S=X2S.onError||W2S.onError,F2S=X2S.onSave||W2S.onSave;if(!(250>performance.now()-b2S)){b2S=performance.now();var e2S=sketch.doc;e2S.scene.deselectAll();U2S&&U2S(0,"prepare");return sketch.save.multiple(W2S).then(function(P2S){e2S.lastSynced=e2S.lastModified;return K2S.sendData({url:p2S,entries:P2S,onAbort:V2S,onError:G2S,onprogress:function(v2S,L2S){U2S&&U2S(v2S,L2S);}});}).then(function(R2S){F2S&&F2S(R2S);return R2S;}).catch(function(i2S){G2S&&G2S(i2S);throw i2S;});}};K2S.sendData=function(){var a2S=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(r0S,Y2S){var A2S=a2S.url||sketch.loc.POST,x2S=a2S.entries,k2S=a2S.onAbort,w2S=a2S.onProgress;a2S&&t2S.count(x2S)?new sketch.uploader.upload({action:A2S,confirm:"text",files:x2S,onProgress:function(s0S){w2S&&w2S(s0S.transferPercent,"sync");},onAbort:function(I0S,n0S){k2S&&k2S(n0S);},onError:function(c0S,T0S){Y2S(T0S);},onUpload:function(o0S,M0S){sketch.debug&&console.log(o0S.transferTotal,M0S,o0S);"false"===M0S||"<"===M0S[0]?(console.error("invalid server response",M0S),Y2S(M0S)):r0S(M0S,x2S);}}):console.error("server.sendData(...) requires entries");});};}();void function(){sketch.canvasUtils.diffBounds=function(Z0S,S0S){function K0S(b0S){return Math.abs(u0S[b0S]-j0S[b0S])>E0S||Math.abs(u0S[b0S+1]-j0S[b0S+1])>E0S||Math.abs(u0S[b0S+2]-j0S[b0S+2])>E0S||Math.abs(u0S[b0S+3]-j0S[b0S+3])>E0S;}var E0S=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,g0S=Z0S.ctx||Z0S.getContext("2d"),h0S=S0S.ctx||S0S.getContext("2d");if(Z0S.width!==S0S.width||Z0S.height!==S0S.height){throw Error("canvasDiffBounds() element dimensions must match.");}var H0S=Z0S.width,y0S=Z0S.height,g0S=g0S.getImageData(0,0,H0S,y0S),h0S=h0S.getImageData(0,0,H0S,y0S),u0S=g0S.data,j0S=h0S.data,g0S=false,O0S=h0S=0;a:for(;O0S<y0S;O0S++){for(var q0S=H0S;q0S--;){if(K0S(4*(H0S*O0S+q0S))){h0S=O0S;g0S=true;break a;}}}if(!g0S){return null;}g0S=0;a:for(;y0S--;){for(O0S=H0S;O0S--;){if(K0S(4*(H0S*y0S+O0S))){g0S=y0S+1;break a;}}}O0S=y0S=0;a:for(;O0S<H0S;O0S++){for(q0S=h0S;q0S<=g0S;q0S++){if(K0S(4*(H0S*q0S+O0S))){y0S=O0S;break a;}}}O0S=0;q0S=H0S;a:for(;q0S--;){for(var J0S=h0S;J0S<=g0S;J0S++){if(K0S(4*(H0S*J0S+q0S))){O0S=q0S+1;break a;}}}return{x1:y0S,x2:O0S,y1:h0S,y2:g0S,x:y0S,y:h0S,width:O0S-y0S,height:g0S-h0S};};}();void function(){sketch.canvasUtils.pixelBounds=function(D0S){var l0S=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,z0S=2<arguments.length&&void 0!==arguments[2]?arguments[2]:true,C0S=D0S.width,N0S=D0S.height,m0S=(D0S.ctx||(D0S.ctx=D0S.getContext("2d"))).getImageData(0,0,C0S,N0S).data,Q0S=0,f0S=0;a:for(;f0S<N0S;f0S++){for(var t0S=C0S;t0S--;){if(!(m0S[4*(C0S*f0S+t0S)+3]<=l0S||z0S&&m0S[4*(C0S*(f0S+1)+t0S)+3]<=l0S)){Q0S=f0S;break a;}}}f0S=0;a:for(;N0S--;){for(t0S=C0S;t0S--;){if(!(m0S[4*(C0S*N0S+t0S)+3]<=l0S||z0S&&m0S[4*(C0S*(N0S-1)+t0S)+3]<=l0S)){f0S=N0S+1;break a;}}}t0S=N0S=0;a:for(;t0S<C0S;t0S++){for(var B0S=Q0S;B0S<=f0S;B0S++){if(!(m0S[4*(C0S*B0S+t0S)+3]<=l0S||z0S&&m0S[4*(C0S*B0S+t0S+1)+3]<=l0S)){N0S=t0S;break a;}}}t0S=0;B0S=C0S;a:for(;B0S--;){for(var d0S=Q0S;d0S<=f0S;d0S++){if(!(m0S[4*(C0S*d0S+B0S)+3]<=l0S||z0S&&m0S[4*(C0S*d0S+B0S-1)+3]<=l0S)){t0S=B0S+1;break a;}}}return{x1:N0S,x2:t0S,y1:Q0S,y2:f0S,x:N0S,y:Q0S,width:t0S-N0S,height:f0S-Q0S};};}();void function(){function F0S(P0S,v0S){function T3S(g3S,M3S,o3S){var O3S=g3S.type;if(-1<O3S.indexOf("gl_")){return false;}if(g3S.isConfig){if("type"===M3S||"toolkitId"===M3S){return true;}M3S=g3S[M3S];if(O3S=o3S.noUI){if(M3S.noUI=O3S,null==o3S.value){return true;}}return M3S.noConfig?true:false;}o3S=g3S.tool||v0S.get(O3S);if(!o3S){return true;}o3S=o3S.attributes;return o3S&&null!=o3S[M3S]?(M3S=v0S.config[O3S][M3S])&&M3S.freeze?true:false:true;}function c3S(h3S){if(h3S){return P0S.selection.toLayers(h3S);}h3S=P0S.selection.layers();h3S.push.apply(h3S,Object.values(P0S.gesture.items).map(function(y3S){return y3S.layer;}));return h3S;}function w0S(H3S,Z3S,u3S,q3S,E3S,j3S){q3S&&!q3S.hasOwnProperty(H3S)&&(q3S[H3S]=L0S.copy(Z3S));E3S&&(E3S[H3S]=Z3S);j3S[H3S]=u3S;}function s3S(J3S,S3S,K3S,b3S){if("clipart"===J3S.type){return n3S.apply(void 0,arguments);}if("stamp"===J3S.type){return J3S.load();}}function n3S(C3S,B3S,m3S,l3S){var N3S=C3S.svgPatch;N3S&&(w0S("svgPatch",N3S,void 0,B3S,m3S,l3S),delete C3S.svgPatch);var t3S=C3S.bbox,Q3S=L0S.copy(t3S),f3S=t3S.pointAt(.5,.5);t3S.height=0;return C3S.load().then(function(){var z3S=t3S.pointAt(.5,.5);t3S.x-=z3S.x-f3S.x;t3S.y-=z3S.y-f3S.y;w0S("bbox",Q3S,t3S,B3S,m3S,l3S);});}function I3S(D3S,d3S,X3S){v0S.setConfigProperty(D3S,d3S,X3S);D3S.tool&&(D3S.updateBoundingBox(),D3S.dirtyHash=true,(D3S=D3S.parent)&&D3S!==P0S.scene&&(D3S.dirtyHash=true));}function r3S(R3S,F3S){var W3S=F3S.type||"";if(!W3S.startsWith("gl_")){return 0;}var G3S=F3S.gevent||GEvent.END(),V3S=G3S.env;F3S=sketch.getEventId(G3S);var U3S=G3S.state,P3S=!U3S||"end"===U3S,W3S=W3S.substr(3),v3S=glfx.filters[W3S],e3S=[],p3S=[],U3S=function(a3S){var i3S=R3S[a3S],x3S=v3S.param[a3S],k3S=false,i3S=L0S.formatNumber(x3S.format,i3S,x3S.range);P0S.selection.forEach(function(w3S){var A3S=w3S.filter;if(Array.isArray(A3S)){var r5S="data-"+W3S+a3S,Y3S=V3S[r5S];w3S.isEditing=G3S.DOWN;A3S.forEach(function(I5S){I5S.id===W3S&&(I5S=I5S.data,I5S[a3S]!==i3S&&(Y3S||(Y3S=V3S[r5S]=L0S.copy(A3S)),I5S[a3S]=i3S,(I5S=P0S.render.glfx)&&!glfx.animationId&&I5S.render(),k3S=true,w3S.dirtyCache=true));});if(P3S&&Y3S){var s5S=w3S.type,n5S=w3S.id;e3S.push({type:s5S,id:n5S,filter:Y3S});p3S.push({type:s5S,id:n5S,filter:w3S.filter});}}});k3S&&(P0S.render.dirty=true);},L3S;for(L3S in R3S){U3S(L3S);}e3S.length&&p3S.length&&P0S.history.store("update",{name:i0S("update-format",i0S("filter")),data:{pointerId:F3S,from:e3S,to:p3S}});return e3S.length;}var x0S=sketch.attrs,a0S=sketch.detect,k0S=sketch.globals,Y0S=sketch.layerUtils,R0S=sketch.style,L0S=sketch.util,i0S=sketch.lang.translate;v0S.getConfig=function(c5S){var T5S=v0S.config[c5S];if(T5S){return T5S;}sketch.debug&&console.error("getConfig(...) The tool '"+c5S+"' is not registered.");};v0S.getCurrentConfig=function(M5S){M5S||(M5S=P0S.selection.typeOfAll()||P0S.tool.type);return P0S.selection.layer||v0S.config[M5S]||{};};v0S.getConfigProperty=function(o5S,O5S){if(o5S=v0S.config[o5S]){return o5S[O5S];}};v0S.setConfig=function(g5S,h5S,q5S){if("string"===typeof g5S&&("undefined"===typeof h5S?false:"object"===X0S(h5S))){var y5S=A0S[g5S];if(y5S){y5S=y5S(),y5S.forEach(function(Z5S){return v0S.setConfig(Z5S,h5S,q5S);});}else if(y5S=v0S.config[g5S]){for(var H5S in h5S){v0S.setConfigProperty(y5S,H5S,h5S[H5S],q5S);}}else if(g5S.includes("->")){return g5S=g5S.split("->"),g5S=U0S(g5S,2),H5S=g5S[1],h5S.extends=g5S[0],h5S.type=H5S,sketch.tools.register(h5S);}}};var A0S={allShapes:function(){return Object.keys(a0S.shape);},allBrushes:function(){return Object.keys(a0S.brush);},allFills:function(){return["paintApplicator","floodfill"];},brush:function(){return Object.keys(a0S.brush);},shape:function(){return Object.keys(a0S.shape);}};v0S.setConfigProperty=function(K5S,J5S,j5S){var u5S=!!(3<arguments.length&&void 0!==arguments[3]?arguments[3]:{}).registerNullProperties,E5S=void 0;K5S?K5S.type?null==J5S?E5S="Key is null.":null==j5S&&(E5S="Value is null."):E5S="Layer.type is required.":E5S="Layer is required.";if(E5S){sketch.debug&&console.error("setConfigProperty(...) "+E5S,arguments);}else if(E5S=K5S[J5S],null==E5S){if(u5S||!K5S.isConfig&&x0S.__styledObject[J5S]){return K5S[J5S]=x0S.create(J5S,j5S);}}else if(!T3S.apply(void 0,arguments)&&(u5S=j5S,j5S=null!=u5S?u5S.getValue?u5S.getValue():u5S.noUI?u5S.value:u5S:void 0,null!=j5S)){if(E5S.setValue){E5S.setValue(j5S);}else{var u5S="undefined"===typeof j5S?"undefined":X0S(j5S),S5S="undefined"===typeof E5S?"undefined":X0S(E5S);if("boolean"===S5S||"number"===S5S||"string"===S5S){if(S5S===u5S){K5S[J5S]=j5S;}else{return;}}else if(E5S instanceof R0S.Paint){if(S5S=j5S,S5S instanceof R0S.Paint){K5S[J5S]=S5S.clone();}else if("string"===u5S&&R0S.validate(S5S)){K5S[J5S]=R0S.create(S5S,E5S.method);}else if("object"===u5S){S5S=K5S[J5S],R0S.copyInto(j5S,S5S),delete S5S.env.colorStops;}else{return;}}else{Array.isArray(j5S)?K5S[J5S]=L0S.copy(j5S):K5S[J5S]=x0S.update(J5S,j5S,E5S);}}(u5S=K5S.env)&&delete u5S[J5S];return E5S;}};P0S.configGlobals=function(C5S){for(var t5S in R0S.paintMethods){var b5S=C5S[t5S];b5S&&(R0S.copyInto(b5S,k0S[t5S]),R0S.copyInto(b5S,k0S.currentPaint));}};P0S.configPointers=function(N5S){L0S.forEach(P0S.gesture.items,function(f5S){f5S=f5S.layer;if(f5S=f5S.tx&&f5S.tx.layerTemp){f5S.dirtyCache=true,P0S.scene.render();}});};P0S.configSelection=function(D5S){function Y5S(){if(w5S){var s9S=P5S,n9S=Q5S,A5S=Y0S.typeOfAll(s9S);if(A5S||!s9S.length){sketch.config(A5S||P0S.tool.type,D5S),P0S.configGlobals(D5S),P0S.configPointers(D5S);}n9S&&P0S.saveSettings();}if(F5S||Q5S){W5S=Object.values(W5S);if(F5S){var s9S=d5S,A5S=W5S,r9S=e5S,n9S=v5S,r9S=Object.values(r9S),A5S=P0S.history.diff(r9S,A5S);s9S.CHANGE&&L0S.isEmpty(A5S)||P0S.emit("change",{op:"SCENE_UPDATE",data:{pointerId:n9S,state:s9S.state,deltas:A5S}});}Q5S&&(A5S=W5S,r9S=G5S,s9S=v5S,n9S=X5S.storeAs,r9S=Object.values(r9S),A5S=P0S.history.diff(r9S,A5S),L0S.isEmpty(A5S)||(r9S=Object.values(A5S).shift(),r9S=Object.keys(r9S).shift(),P0S.history.store("update",{name:n9S||i0S("update-format",i0S(r9S)),data:{pointerId:s9S,deltas:A5S}})));}(p5S||Q5S)&&P0S.render.scene();return p5S;}var X5S=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d5S=X5S.gevent||GEvent.END(),l5S=d5S.env.configSelection||(d5S.env.configSelection={});P0S._interacting=d5S.DOWN;var U5S=r3S(D5S,X5S);if(U5S){return U5S;}for(var Q5S=d5S.END,F5S=!!P0S.on.handlers.change,U5S=F5S||Q5S,P5S=c3S(X5S.layers),v5S=sketch.getEventId(d5S),w5S=false!==X5S.setGlobals,G5S=l5S.from||(l5S.from={}),e5S=l5S.fromDelta||(l5S.fromDelta={}),W5S=l5S.to||(l5S.to={}),p5S=0,l5S=[],V5S=0,k5S=P5S.length;V5S<k5S;V5S++){var B5S=P5S[V5S],m5S=B5S.id,a5S=null===G5S[m5S]?null:G5S[m5S]||(G5S[m5S]={id:B5S.id,type:B5S.type}),x5S=null===e5S[m5S]?null:e5S[m5S]||(e5S[m5S]={id:B5S.id,type:B5S.type}),m5S=W5S[m5S]||(W5S[m5S]={id:B5S.id,type:B5S.type}),L5S=false,z5S;for(z5S in D5S){var R5S=L0S.copy(B5S[z5S]);I3S(B5S,z5S,D5S[z5S]);if("src"===z5S){var i5S=s3S(B5S,a5S,x5S,m5S);i5S&&l5S.push(i5S);}if(U5S||jsondiffpatch.diff(R5S,B5S[z5S])){w0S(z5S,R5S,B5S[z5S],a5S,x5S,m5S),L5S=true,p5S++,Q5S&&P0S.scene.setDirtyPixelData(B5S);}}L5S&&(B5S.isEditing=!Q5S,B5S.isCreating||B5S.isEditingPath||(B5S.highRes=!Q5S));}P0S.emit("changeDeltas",D5S,X5S);return l5S.length?Promise.all(l5S).then(Y5S):Y5S();};P0S.changeLayerType=function(T9S,M9S){function q9S(Z9S){Z9S.type=T9S;if("arrow"===T9S){var E9S=Z9S.data;Z9S.curved=E9S&&2===E9S.length?false:true;}sketch.copyAttributes(c9S,I9S,Z9S,{filter:function(j9S,J9S,u9S){return null==j9S?(delete Z9S[u9S],false):R0S.paintMethods[u9S]||h9S[u9S]||"data"===u9S?false:null==J9S;}});}function H9S(b9S){var S9S=b9S.env,S9S=S9S.vagrantProperties||(S9S.vagrantProperties={}),K9S;for(K9S in b9S){b9S.hasOwnProperty(K9S)&&!c9S[K9S]&&(S9S[K9S]=b9S[K9S],delete b9S[K9S]);}}function y9S(N9S){var t9S=N9S.env,t9S=t9S.vagrantProperties||(t9S.vagrantProperties={}),C9S;for(C9S in t9S){N9S.hasOwnProperty(C9S)||c9S[C9S]&&(N9S[C9S]=t9S[C9S]);}}M9S=P0S.selection.toLayers(M9S||P0S.selection);if(!M9S.length){return Promise.resolve();}var c9S=v0S.get(T9S).attributes,I9S=sketch.copyConfig(v0S.config[T9S]),g9S=I9S.toolkitId;I9S.fill||(I9S.fill=null);I9S.stroke||(I9S.stroke=null);I9S.spacing||(I9S.spacing=null);var h9S=x0S.__basicObject,O9S=[],o9S=[];return Promise.each(M9S,function(f9S){var B9S=f9S.toolkitId;if(B9S===g9S&&("shape"===B9S||"brush"===B9S)){return O9S.push(sketch.copyConfig(f9S)),H9S(f9S),y9S(f9S),q9S(f9S),f9S.load().then(function(){f9S.dirtyHash=true;f9S.dirtyBoundingBox=true;o9S.push(sketch.copyConfig(f9S));}).catch(console.error);}}).then(function(){P0S.history.store("update",{name:i0S("convert-format",i0S(T9S)),data:{from:O9S,to:o9S}});P0S.render.scene();});};}function p0S(m9S,D9S){function W9S(G9S){var p9S=null,e9S=false,F9S=false;Object.defineProperties(G9S,{attached:{get:function(){return e9S;}},enabled:{get:function(){return F9S;}}});G9S.attachedEvents={};G9S.attach=function(){e9S||(e9S=true,Gesture.bulk(G9S.attachedEvents,"attach"));};G9S.detach=function(){e9S&&(e9S=false,Gesture.bulk(G9S.attachedEvents,"detach"));};G9S.enable=function(){G9S.useZoomToFit&&G9S.useZoomToFit&&(p9S=m9S.getOrientation(),m9S.zoomToFit());F9S||(G9S.emit("enable"),e9S=F9S=true,G9S._enable&&G9S._enable(G9S.attachedEvents={}),G9S.useCompactHistory&&(G9S.originalHistoryIndex=m9S.history.index),sketch.palette&&(G9S.attachedEvents.onPaletteChange=sketch.palette.on("change",G9S.onPaletteChange||m9S.configSelection)),G9S.emit("enabled"));};G9S.disable=function(){if(F9S){G9S.emit("disable");e9S=F9S=false;var V9S=void 0;if(G9S.useCompactHistory){var P9S=G9S.originalHistoryIndex,v9S=m9S.history.index;v9S!==P9S&&(V9S=m9S.history.pop(v9S-P9S));}G9S._disable&&G9S._disable(V9S);Gesture.bulk(G9S.attachedEvents,"detach");G9S.attachedEvents={};G9S.useZoomToFit&&(p9S.width===m9S.width&&p9S.height===m9S.height?m9S.setOrientation(p9S):(V9S=m9S.orient,V9S.reset(),V9S.render()));G9S.emit("disabled");}};}function U9S(L9S){L9S.loadLayer||(L9S.loadLayer=function(R9S){return Promise.resolve(R9S);});L9S.createLayerOrTransformScene=function(x9S,i9S){i9S=Object.assign({position:"element",preventDefault:l9S.preventTouchScroll},i9S);var a9S=m9S.$inputPointer;return!l9S.gestureRotate&&!l9S.gestureZoom||l9S.paintWithMultipleFingers?Gesture.drag(a9S,x9S,i9S):(i9S.listener=x9S,i9S.maxFingers=1,Gesture.dragOrScaleRotate(a9S,{drag:i9S,gesture:{listener:d9S.zoom.pinchZoomGesture,maxFingers:2,position:"element"}}));};}var Q9S=sketch.detect,l9S=sketch.feature,d9S=m9S.tools={},z9S=sketch.tools,X9S=sketch.util;D9S.init=function(){X9S.forEach(D9S.config,function(Y9S,w9S){Y9S=Y9S.toolkitId;if(z9S[Y9S]||z9S[w9S]){if(Q9S._set(Y9S,w9S),Q9S._set("tool",w9S),l9S.tools[w9S]||(l9S.tools[w9S]={}),!d9S[Y9S]){Q9S._set("toolkit",Y9S);l9S.tools[Y9S]||(l9S.tools[Y9S]={});var k9S=Galactic.emitter(new(z9S[Y9S]||z9S[w9S])(m9S));k9S.config=D9S.config[w9S]||{};k9S.id=w9S;k9S.toolkitId=Y9S;k9S.type=w9S;k9S.attributes||(k9S.attributes=Object.assign({},k9S._attributes,sketch.attrs.__styledObject));Q9S.useDefaultDim[Y9S]&&(w9S=l9S.tools[Y9S],k9S.minWidth=w9S.minWidth||k9S.minWidth,k9S.minHeight=w9S.minHeight||k9S.minHeight,k9S.maxWidth=w9S.maxWidth||k9S.maxWidth,k9S.maxHeight=w9S.maxHeight||k9S.maxHeight,k9S.defaultWidth=w9S.defaultWidth||k9S.defaultWidth,k9S.defaultHeight=w9S.defaultHeight||k9S.defaultHeight);W9S(k9S);U9S(k9S);d9S[Y9S]=k9S;}}});D9S.emit("init");};}function V0S(r1S,A9S){function c1S(y1S,o1S){var H1S=A9S.config[o1S];if(!H1S){return Promise.reject(n1S);}var O1S=A9S.get(o1S);if(!O1S){return Promise.reject(M1S);}var g1S=y1S.tool,h1S=g1S.type;if(h1S===o1S){return Promise.resolve(g1S);}g1S.disable&&g1S.disable();h1S&&I1S.style.setGlobalsFromSelection&&T1S.setGlobalFromLayer(H1S);h1S!==o1S&&s1S.push(h1S);y1S.tool=O1S;y1S.tool.id=o1S;y1S.tool.type=o1S;return A9S.reload(o1S).then(function(){sketch.flags.interactable&&O1S.enable();A9S.emit("tool:ready",o1S);return O1S;});}var I1S=sketch.feature,T1S=sketch.style;r1S.setTool=function(u1S){function S1S(K1S){return"ifSameToolkit"===K1S&&!J1S||"no"===K1S?false:true;}var E1S=sketch.globals,j1S=true,q1S=u1S;"string"===typeof u1S&&(q1S=A9S.config[u1S],j1S=false);if(!q1S||!q1S.type){return Promise.reject(n1S);}var Z1S=q1S.type;if(Z1S===A9S.currentToolId){return Promise.resolve(r1S.tool);}var J1S=true;A9S.currentToolkitId!==q1S.toolkitId&&(A9S.currentToolkitId=q1S.toolkitId,J1S=false);r1S.emit("tool:choose",A9S.currentToolId=Z1S);r1S.scene.deselectAll();(function(b1S){j1S||(b1S.paintIntoShapes&&b1S.paintIntoShapes.setValue(E1S.paintIntoShapes),S1S(I1S.style.globalized)&&S1S(A9S.getConfigProperty(b1S.type,"globalized"))&&(b1S.blend&&b1S.blend.setValue(E1S.blend),T1S.copyStyles(E1S,b1S,{setDefaults:true,mustExistOnDestination:true,excludeKeys:{blend:true,enabled:true}})));}(q1S));r1S.render.scene();return c1S(r1S,Z1S).then(function(t1S){r1S.saveSettings();r1S.emit("tool:ready",Z1S);return t1S;}).catch(function(C1S){sketch.debug&&console.error(Z1S,C1S);});};A9S.setTool=function(N1S){return c1S(r1S,N1S).catch(console.error);};A9S.reload=function(){var f1S=A9S.config[0<arguments.length&&void 0!==arguments[0]?arguments[0]:r1S.tool.type];if(!f1S){return Promise.reject(n1S);}r1S.tools[f1S.toolkitId].config=f1S;return Promise.resolve();};var s1S=[];A9S.previous=function(){return A9S.setTool(s1S.pop()||r1S.tool.type);};A9S.previous.type=function(){return s1S[s1S.length-1]||"";};var n1S={message:"Tool not found."},M1S={message:"Toolkit not found."};}j.initSymbol();j.initSymbol();j.initSymbolIterator();var X0S="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(B1S){return typeof B1S;}:function(m1S){j.initSymbol();j.initSymbol();j.initSymbol();return m1S&&"function"===typeof Symbol&&m1S.constructor===Symbol&&m1S!==Symbol.prototype?"symbol":typeof m1S;},U0S=function(){return function(l1S,W1S){if(Array.isArray(l1S)){return l1S;}j.initSymbol();j.initSymbolIterator();if(Symbol.iterator in Object(l1S)){var Q1S=[],z1S=true,d1S=false,X1S=void 0;try{j.initSymbol();j.initSymbolIterator();for(var D1S=l1S[Symbol.iterator](),U1S;!(z1S=(U1S=D1S.next()).done)&&(Q1S.push(U1S.value),!W1S||Q1S.length!==W1S);z1S=true){;}}catch(G1S){d1S=true,X1S=G1S;}finally{try{if(!z1S&&D1S["return"]){D1S["return"]();}}finally{if(d1S){throw X1S;}}}return Q1S;}throw new TypeError("Invalid attempt to destructure non-iterable instance");};}(),G0S=sketch.detect,W0S=sketch.tools,e0S=sketch.util.defineProperties;e0S(W0S,{register:function(F1S){function R1S(k1S,i1S){var a1S=V1S.getConfig(k1S);if(a1S){a1S=V1S.config.registerReplica(k1S,i1S);G0S.registerReplica(k1S,i1S);var x1S=a1S.toolkitId;if("brush"===x1S||"shape"===x1S){i1S=x1S+"_"+i1S;var w1S=sketch.tools;w1S[i1S]||(w1S[i1S]=w1S[x1S+"_"+k1S]);}return a1S;}}var V1S=sketch.doc.toolkit,p1S=void 0,p1S=F1S.extends?R1S(F1S.extends,F1S.type):V1S.config.register(F1S),P1S=void 0,v1S=void 0,e1S;for(e1S in F1S){var L1S=F1S[e1S];"extends"!==e1S&&"type"!==e1S&&("hideKeys"===e1S?v1S=L1S:"freezeKeys"===e1S?P1S=L1S:V1S.setConfigProperty(p1S,e1S,L1S,{registerNullProperties:true}));}v1S&&v1S.forEach(function(Y1S){Y1S=p1S[Y1S];"boolean"===typeof Y1S.noUI&&(Y1S.noUI=true);});P1S&&P1S.forEach(function(A1S){A1S=p1S[A1S];"boolean"===typeof A1S.freeze?A1S.freeze=true:console.error("Does this happen?");});},boot:function(){var n4S=sketch.feature,I4S;for(I4S in W0S){if("function"===typeof W0S[I4S]){var s4S=I4S.split(/[_.]/),r4S=U0S(s4S,2),s4S=r4S[0],r4S=r4S[1];s4S&&!n4S.tools[s4S]&&(n4S.tools[s4S]={});r4S&&!n4S.tools[r4S]&&(n4S.tools[r4S]={});}}}});sketch.module.addOnce(function(){function o4S(O4S){var g4S=O4S.toolkit;if(g4S){return g4S.attributes;}if((O4S=O4S.type)&&O4S.startsWith){if(O4S.startsWith("gl_")){var h4S={};c4S.forEach(glfx.config[O4S],function(y4S,H4S){h4S[H4S]="undefined"===typeof y4S?"undefined":X0S(y4S);});return h4S;}if(g4S=sketch.doc.toolkit.get(O4S)){return g4S.attributes;}}}var M4S=sketch.attrs,T4S=sketch.style,c4S=sketch.util;sketch.copyAttributes=function(b4S,t4S){var E4S=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},S4S=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(t4S){var K4S=!!S4S.compress,C4S=!!S4S.decompress,S4S=S4S.filter,Z4S;for(Z4S in b4S){var j4S=b4S[Z4S],q4S=t4S[Z4S];if(null!=q4S){var u4S=E4S[Z4S];if(!S4S||S4S(q4S,u4S,Z4S)){if(q4S.getValue){E4S[Z4S]=q4S.getValue();}else if("PaintServer"===j4S){if(K4S){q4S=T4S.create(q4S,Z4S),(q4S=q4S.copy(K4S))?E4S[Z4S]=q4S:delete E4S[Z4S];}else{var j4S="undefined"===typeof q4S?"undefined":X0S(q4S),J4S=q4S;J4S instanceof T4S.Paint?E4S[Z4S]=J4S.clone():"string"===j4S&&T4S.validate(J4S)?E4S[Z4S]=T4S.create(J4S,u4S&&u4S.method):"object"===j4S&&(null==u4S?E4S[Z4S]=T4S.create(J4S,Z4S):(J4S=E4S[Z4S],T4S.copyInto(q4S,J4S),delete J4S.env.colorStops));}}else{"filter"===j4S?E4S[Z4S]=c4S.copy(q4S):"bbox"===j4S?(u4S||(u4S=E4S[Z4S]={}),sketch.LayerBBox.copyInto(q4S,u4S)):"range"===j4S?(u4S||(u4S=E4S[Z4S]=[]),u4S[0]=q4S[0],u4S[1]=q4S[1]):"path"===j4S?(C4S&&"string"===typeof q4S&&(q4S="M"===q4S[0]?sketch.SVG.svgPathToVOB(q4S):sketch.SVG.svgPolygonToVOB(q4S)),E4S[Z4S]=sketch.vector.copyPath(q4S)):"childNodes"===j4S?E4S[Z4S]=c4S.copy(q4S):"object"===j4S?E4S[Z4S]=c4S.copy(q4S):q4S!==u4S&&(E4S[Z4S]=void 0!==q4S.value?q4S.value:q4S);}}}}return E4S;}};sketch.copyRules=function(N4S,f4S){return sketch.copyAttributes(M4S.__rules,N4S,f4S);};sketch.copyConfig=function(B4S,l4S,Q4S){if(B4S){var m4S;B4S.toolkit||B4S.type?m4S=o4S(B4S):(m4S=M4S.__styledObject,sketch.debug&&console.error("copyConfig() sending source type is strongly recommended."));return sketch.copyAttributes(m4S,B4S,l4S,Q4S);}};sketch.copyConfigs=function(D4S,d4S){var z4S=[];D4S.forEach(function(X4S){(X4S=sketch.copyConfig(X4S,{},d4S))&&z4S.push(X4S);});return z4S;};});sketch.module.Toolkit=function(U4S){var W4S=Galactic.emitter(this);F0S(U4S,W4S);p0S(U4S,W4S);V0S(U4S,W4S);W4S.exists=function(G4S){return(G4S=W4S.config[G4S])?!!U4S.tools[G4S.toolkitId]:false;};W4S.getTool=function(e4S){if(e4S.tool){return e4S.tool;}var F4S=W4S.get(e4S.type);if(F4S){return e4S.tool=F4S;}};W4S.get=function(p4S){var V4S=W4S.getToolkitId(p4S);if(V4S){return U4S.tools[V4S]||U4S.tools[p4S];}sketch.debug&&console.error("Tool does not exist "+p4S);};W4S.getToolkitId=function(P4S){if((P4S=W4S.config[P4S])&&P4S.toolkitId){return P4S.toolkitId;}};};}();void function(){j.initSymbol();j.initSymbol();j.initSymbolIterator();var L4S="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(i4S){return typeof i4S;}:function(a4S){j.initSymbol();j.initSymbol();j.initSymbol();return a4S&&"function"===typeof Symbol&&a4S.constructor===Symbol&&a4S!==Symbol.prototype?"symbol":typeof a4S;},R4S=function(){return function(x4S,s7S){if(Array.isArray(x4S)){return x4S;}j.initSymbol();j.initSymbolIterator();if(Symbol.iterator in Object(x4S)){var k4S=[],w4S=true,A4S=false,r7S=void 0;try{j.initSymbol();j.initSymbolIterator();for(var Y4S=x4S[Symbol.iterator](),n7S;!(w4S=(n7S=Y4S.next()).done)&&(k4S.push(n7S.value),!s7S||k4S.length!==s7S);w4S=true){;}}catch(I7S){A4S=true,r7S=I7S;}finally{try{if(!w4S&&Y4S["return"]){Y4S["return"]();}}finally{if(A4S){throw r7S;}}}return k4S;}throw new TypeError("Invalid attempt to destructure non-iterable instance");};}(),v4S=sketch.detect;sketch.on("init",function(){function M7S(g7S){return null==v4S[g7S]?[]:Object.keys(v4S[g7S]);}for(var c7S in sketch.tools){if(c7S.includes("_")){var T7S=c7S.split("_"),T7S=R4S(T7S,2);v4S._set(T7S[0],T7S[1]);}}c7S=M7S("usePathEditor");var T7S=M7S("shape"),O7S=["circle","ellipse","ring"],o7S=["fancyText","htmlText"];v4S._set("isEditable",[c7S,o7S]);v4S._set("useOuterPaddingForLineStroke",["image",T7S,o7S,["arrow"]]);c7S=M7S("useOuterPaddingForLineStroke").concat(c7S);v4S._set("useLineJoin",c7S.filter(function(h7S){return!O7S.includes(h7S);}));});Object.defineProperties(v4S,{_set:{value:function(H7S,y7S){var q7S=v4S[H7S]||(v4S[H7S]={});"string"===typeof y7S?q7S[y7S]=true:Array.isArray(y7S)&&y7S.forEach(function(Z7S){return v4S._set(H7S,Z7S);});return q7S;}},registerReplica:{value:function(j7S,J7S){for(var u7S in v4S){var E7S=v4S[u7S];("undefined"===typeof E7S?false:"object"===L4S(E7S))&&E7S[j7S]&&(E7S[J7S]=true);}}}});v4S._set("floodfill",["paintApplicator","floodfill"]);v4S._set("tool",[]);v4S._set("toolkit",[]);v4S._set("utility",["crop","select","zoom"]);v4S._set("isEssentiallySelectTool",["groupEditor","select"]);v4S._set("useSelectGUI","camera clipart groupEditor select fancyText htmlText".split(" "));v4S._set("media",["clipart","video"]);v4S._set("symbol",["symbol"]);v4S._set("svg",["clipart","symbol"]);v4S._set("usePathEditor",["lineSegment","path","polyline","polygon"]);v4S._set("usePointerThread",["lineSegment","path","polyline","polygon"]);v4S._set("brushExpandForStroke",["lineSegment","path","polyline","polygon","arrow"]);v4S._set("useLocalAlpha","chrome crayon fur hair oil pastel shader sketchy spirograph spraypaint stamp web".split(" "));v4S._set("useCacheOnHighResIfSemiOpaque","group calligraphy clipart paintbrush pen pencil mirrorBrush streamer".split(" "));v4S._set("useDefaultDim",["clipart","shape","fancyText","htmlText","text"]);v4S._set("useNonUniform",["ellipse","rectangle","speechbubble"]);v4S._set("useColorCycle","calligraphy chrome crayon fur hair pen shader sketchy spirograph spraypaint streamer web".split(" "));v4S._set("accumulatePaint","calligraphy chrome crayon fur hair oil pastel pen shader sketchy spirograph spraypaint stamp streamer web".split(" "));v4S._set("useCache257",["tileBrush"]);v4S._set("useAreaTracker",["paintbrush"]);v4S._set("useSafeGCO","crayon pen spirograph spraypaint stamp streamer".split(" "));}();void function(){function d7S(e7S){function a7S(x7S){var A7S=arguments,Y7S=x7S.layer,w7S=x7S.gevent,k7S=Y7S.load().then(function(){var s6S=x7S.layer,r6S=s6S.src;r6S&&(r6S=sketch.resources.get(r6S))&&r6S.rules&&sketch.copyRules(r6S.rules,s6S);L7S(x7S);}),k7S=w7S.waitFor?w7S.waitFor(k7S).thenReplay():k7S.then(function(){return G7S.router(w7S,x7S);});return k7S.then(function(){return x7S;}).catch(function(n6S){console.error(n6S,A7S);G7S.remove(Y7S);});}function L7S(T6S){var I6S=T6S.layer,o6S=I6S.type,c6S=F7S.getCtxBlendMode(I6S),g6S="source-over"!==c6S,M6S=F7S.visible(I6S.fill),O6S=F7S.visible(I6S.stroke);T6S.hasFill=M6S;T6S.hasStroke=O6S;M6S&&(T6S.ctxFill=V7S());O6S&&(T6S.ctxStroke=V7S());T6S.accumulatePaint=p7S.accumulatePaint[o6S]&&O6S;T6S.blend=c6S;T6S.hasBlendOperation=g6S;c6S=M6S&&O6S;M6S=I6S.stroke&&1!==I6S.stroke.opacity;o6S=c6S&&p7S.useAreaTracker[o6S];I6S=M6S&&I6S.brush&&I6S.brush.useAlphaCache;T6S.needsPaintCacheContexts=T6S.accumulatePaint&&(g6S||c6S||M6S)||c6S&&g6S||o6S||I6S;}function i7S(h6S,H6S,q6S){if(h6S.originalEvent){var y6S=e7S.on.handlers;y6S.gesture&&e7S.emit.apply(e7S,["gesture"].concat(Array.prototype.slice.call(arguments)));y6S.change&&e7S.emit("change",{op:"TOOL",data:{config:h6S.START?sketch.copyConfig(H6S.layer,{},{compress:true}):void 0,state:h6S.state,pointerId:q6S,point:e7S.pointInPeerSceneFromCanvas(h6S),metaKey:"boolean"===typeof h6S.metaKey?h6S.metaKey:Keyster.meta,shiftKey:"boolean"===typeof h6S.shiftKey?h6S.shiftKey:Keyster.shift}});}}var P7S=sketch.assets,p7S=sketch.detect,v7S=e7S.scene,F7S=sketch.style,R7S=e7S.Layer,V7S=sketch.Context2D,G7S=e7S.gesture={};G7S.items={};G7S.length=0;G7S.add=function(E6S){var Z6S=Galactic.emitter(Object.assign({},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}));Z6S.doc=e7S;Z6S.env={};Z6S.pointerId=E6S;G7S.length++;return G7S.items[E6S]=Z6S;};G7S.remove=function(u6S,J6S){("undefined"===typeof u6S?false:"object"===N7S(u6S))&&(u6S=u6S.pointerId);var j6S=G7S.items[u6S];if(j6S){delete G7S.items[u6S];G7S.length--;j6S.emit("pointer:remove");u6S=j6S.layer;if(j6S=u6S.tx){delete u6S.tx,j6S.assetTemp&&P7S.destroy(j6S.assetTemp,{delayDestroy:0}),j6S.layerTemp&&j6S.layerTemp.destroy({delayDestroy:0});}J6S||u6S.destroy();}};G7S.reset=function(){if(G7S.length){for(var S6S in G7S.items){G7S.remove(S6S);}}};G7S.get=function(K6S){return G7S.items[K6S];};G7S.getOrCreate=function(C6S,f6S){var b6S=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},t6S=b6S.layer,N6S=b6S.pointerId||sketch.getEventId(C6S);C6S.originalEvent&&(e7S._interacting=C6S.DOWN);b6S=G7S.items[N6S];b6S&&b6S.layer||(b6S=G7S.add(N6S),b6S.gevent=C6S,t6S=b6S.layer=t6S||new R7S(f6S.config),t6S.idx=v7S.children.length,t6S.pointerId=N6S);b6S.lastModified=Date.now();t6S=b6S.layer;if("function"!==typeof t6S.render){return a7S(b6S);}"boolean"!==typeof b6S.hasFill&&L7S(b6S);i7S(C6S,b6S,N6S);return(t6S=G7S.router(C6S,b6S))?(t6S=t6S.return(b6S),t6S.pointer=b6S,t6S):b6S;};}function U7S(m6S){function v6S(R6S){var L6S={width:m6S.pixelWidth,height:m6S.pixelHeight,pixelRatio:m6S.pixelRatio};R6S||(R6S=z6S.find(function(i6S){return"background"===i6S.name;}));return R6S?X6S(R6S,L6S):z6S.add({type:"rectangle",name:"background",selectable:false,stickTo:"back",stretchTo:"edge",clampToDoc:true,fill:"transparent",stroke:"transparent",x:0,y:0,width:L6S.width,height:L6S.height},{recordHistoryAs:"set-background"}).then(function(a6S){return X6S(a6S,L6S);});}function X6S(x6S,k6S){return sketch.globals.paintIntoShapes&&B6S.capturePaintTarget(x6S)?{layer:x6S,targetRegion:k6S}:1;}function e6S(w6S,Y6S,A6S){return p6S.apply(void 0,arguments).then(function(r8a){return U6S(w6S,r8a);});}function P6S(s8a,n8a){return V6S.apply(void 0,arguments).then(function(I8a){return U6S(s8a,I8a);});}function V6S(O8a,M8a){var T8a=M8a.pixelRatio,g8a=Math.ceil(M8a.width);M8a=Math.ceil(M8a.height);var c8a=O8a.clone();O8a=l6S.prefixed(d6S.uuid());var o8a=l6S.getContent(c8a.src),T8a=sketch.Canvas2D.copy(o8a,0,0,o8a.width,o8a.height,0,0,g8a*T8a,M8a*T8a);T8a.title="imageCanvas";return l6S.add(T8a,{targetId:O8a}).then(function(h8a){c8a.src=h8a.assetId;c8a.dirtyCache=true;return c8a.load();}).return(c8a);}function p6S(H8a,q8a,Z8a){var E8a=q8a.pixelRatio,j8a=Math.ceil(q8a.width);q8a=Math.ceil(q8a.height);H8a=H8a.clone();var y8a=H8a[Z8a]||(H8a[Z8a]=Q6S.create("transparent",Z8a)),u8a=H8a.bbox.scale,J8a=l6S.prefixed(d6S.uuid());Z8a=new D6S(1,1);"pattern"===y8a.type&&(Z8a=new D6S(u8a));return Q6S.renderPaint(y8a,{ctx:F6S(j8a,q8a,E8a),pixelRatio:E8a,width:j8a,height:q8a,scale:Z8a}).then(function(S8a){S8a.title="paintCanvas";return l6S.add(S8a,{targetId:J8a});}).then(function(b8a){y8a.type="pattern";y8a.opacity=1;var K8a=y8a.pattern||(y8a.pattern=new Q6S.Pattern());K8a.sx=1/(u8a.x*E8a);K8a.sy=1/(u8a.y*E8a);K8a.src=b8a.assetId;K8a.repeat="no-repeat";return K8a.load();}).return(H8a);}function F6S(C8a,t8a,N8a){t8a=sketch.getClampedCanvasSize(C8a,t8a,N8a);C8a=t8a.width*N8a;t8a=t8a.height*N8a;return sketch.Context2D(C8a,t8a);}function U6S(B8a,f8a){var l8a=f8a.id;f8a.id=B8a.id;var m8a=W6S.diff([B8a],[f8a]);f8a.id=l8a;return W6S.patch(m8a).then(function(){return{layer:B8a,deltas:m8a};});}function G6S(z8a,Q8a){Q8a=l6S.getContent(Q8a);if(!Q8a){return true;}var D8a=z8a.pixelRatio,d8a=Math.ceil(z8a.height)*D8a;return Q8a.width!==Math.ceil(z8a.width)*D8a||Q8a.height!==d8a;}var l6S=sketch.assets,B6S=m6S.gesture,W6S=m6S.history,z6S=m6S.scene,Q6S=sketch.style,d6S=sketch.util,D6S=sketch.Point;B6S.findLayerToDrawOn=function(X8a){if((X8a=z6S.findAtPoint(X8a,{filter:function(W8a){return"ghost"!==W8a.id;}}))&&!B6S.cancelCapture(X8a)&&B6S.capturePaintTarget(X8a)){return X8a;}};B6S.findAndPrepareLayerToDrawOn=function(U8a){if((U8a=B6S.findLayerToDrawOn(U8a))&&"background"!==U8a.name){if(B6S.unsupportedPaintTarget(U8a)){return 1;}var G8a=U8a.bbox;return X6S(U8a,{width:G8a.computedWidth,height:G8a.computedHeight,pixelRatio:m6S.pixelRatio});}return v6S(U8a);};B6S.prepareAssetToDrawOn=function(p8a,V8a){var e8a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"fill";if("fill"===e8a&&"image"===p8a.env.assetType){return G6S(V8a,p8a.src)?P6S.apply(void 0,Array.prototype.slice.call(arguments).concat([e8a])):Promise.resolve({layer:p8a});}var F8a=p8a[e8a];return(F8a=F8a&&"pattern"===F8a.type&&F8a.pattern)?G6S(V8a,F8a.src)?e6S.apply(void 0,Array.prototype.slice.call(arguments).concat([e8a])):Promise.resolve({layer:p8a}):e6S.apply(void 0,Array.prototype.slice.call(arguments).concat([e8a]));};}function W7S(L8a){function Y8a(r2a,n2a,s2a){var A8a=n2a.layer;if(A8a.isEditingPath||!s2a){return P8a.remove(A8a,s2a),Promise.resolve(A8a);}r2a=A8a.tx;if(r2a.paintIntoLayer){return P8a.prepareAssetToDrawOn(r2a.layer,r2a.targetRegion).then(function(q2a){q2a=q2a.deltas;var o2a=A8a.tx,T2a=o2a.layer,h2a;h2a="image"===T2a.env.assetType?S7S.getContent(T2a.src):S7S.getContent(T2a.fill.pattern.src);var I2a=T2a.bbox;A8a.translate(-I2a.x,-I2a.y);A8a.rotateAt(-I2a.rotation,new B7S(0,0));var O2a=L8a.pixelRatio,g2a=h2a.ctx,c2a=g2a.canvas,M2a=A8a.bbox.toAxisAligned(),I2a=Math.max(0,Math.floor(M2a.x)*O2a-2),y2a=Math.max(0,Math.floor(M2a.y)*O2a-2),H2a=Math.min(c2a.width,Math.ceil(M2a.width)*O2a+4),c2a=Math.min(c2a.height,Math.ceil(M2a.height)*O2a+4),M2a=b7S.getImageData(g2a,I2a,y2a,H2a,c2a),Z2a=new K7S();Z2a.scale(O2a);Z2a.applySetTransform(g2a);A8a.highRes=true;A8a.draw(g2a);h2a.lastModified=Date.now();(o2a=T2a[o2a.paintMethod])&&o2a.refresh();T2a.dirtyCache=true;o2a=b7S.getImageData(g2a,I2a,y2a,H2a,c2a);a8a.store("edit-pixels",{name:A8a.type,data:{id:T2a.id,assetId:h2a.assetId,deltas:q2a,x:I2a,y:y2a,width:H2a,height:c2a,imageData1:M2a,imageData2:o2a}});A8a.destroy();v8a.render();}).finally(function(){P8a.remove(A8a,s2a);}).return(A8a);}x8a(A8a);v8a.render();P8a.remove(A8a,s2a);return Promise.resolve(A8a);}function k8a(u2a,j2a){function J2a(K2a,S2a){return S2a&&K2a.waitFor?K2a.waitFor(S2a).thenReplay({filter:function(b2a){return b2a.CHANGE||b2a.END;}}):S2a;}if(!t7S.paintIntoShapes||P8a.unsupportedPaintSource(j2a.layer)){return J2a(u2a,i8a(j2a,1));}var E2a=P8a.findAndPrepareLayerToDrawOn(u2a);if(E2a){return E2a.then?J2a(u2a,E2a.then(function(t2a){return i8a(j2a,t2a);})):J2a(u2a,i8a(j2a,E2a));}}function i8a(B2a,z2a){var f2a=B2a.layer,N2a=f2a.tx;if(!N2a){return Promise.resolve();}var m2a=w8a(f2a,z2a);if(!m2a&&!m7S.accumulatePaint[f2a.type]){return f2a.highRes=true,v8a.appendChild(f2a),Promise.resolve();}var l2a=f2a.pointerId;if(v8a.getById(l2a)){return Promise.resolve();}var Q2a=S7S.prefixed(l2a),C2a=new L8a.Layer({type:"clipart",src:Q2a});N2a.assetTemp=l7S(1,1);N2a.assetTemp.title="assetTempCanvas";N2a.layerTemp=C2a;N2a.paintIntoLayer=m2a;N2a.paintMethod="fill";m2a&&(Object.assign(N2a,z2a),C2a.filter=N2a.layer.filter);C2a.blend=f2a.blend;C2a.exportable=false;C2a.findable=false;C2a.highRes=true;C2a.id=l2a;C2a.isCreating=true;C2a.name="layerTemp";C2a.renderGestureCache=function(){var d2a=B2a.layer,W2a=d2a.tx;if(W2a){var X2a=W2a.assetTemp.ctx;W2a.layerTemp.blend=d2a.blend;var W2a=L8a.pixelRatio,U2a=d2a.tx,e2a=U2a.layerTemp,D2a=P8a.getCanvasBounds(d2a),G2a=e2a.bbox;!U2a.paintIntoLayer||G2a.x===D2a.x&&G2a.y===D2a.y&&G2a.width===D2a.width&&G2a.height===D2a.height||(e2a.clipPath=z7S.getOutlinePath(U2a.layer,D2a.x,D2a.y));G2a.x=D2a.x;G2a.y=D2a.y;G2a.width=D2a.width;G2a.height=D2a.height;e2a=L8a.pixelRatio;U2a=new K7S();U2a.scale(e2a);U2a.translate(-D2a.x,-D2a.y);D2a=B2a.needsPaintCacheContexts;P8a.setupCanvas(d2a,X2a,W2a,B2a.accumulatePaint&&!D2a);X2a.save();U2a.applySetTransform(X2a);X2a.globalAlpha=d2a.opacity;X2a.globalCompositeOperation=D7S.getCtxBlendMode(d2a,true);W2a=d2a.tool;W2a.renderGesture?W2a.renderGesture(B2a,X2a,U2a):(d2a.highRes=true,d2a.draw(X2a));C7S.debugGestureBoundingBox&&d2a.isCreating&&(D2a=d2a.tx.layerTemp.bbox,d2a=D2a.pointAt(0,0),W2a=Math.ceil(D2a.width),D2a=Math.ceil(D2a.height),X2a.save(),X2a.lineWidth=1,X2a.strokeStyle="red",X2a.strokeRect(d2a.x,d2a.y,W2a,D2a),X2a.restore());X2a.restore();}};C2a.smoothing=false;return S7S.add(N2a.assetTemp,{targetId:Q2a,referenceId:l2a}).then(function(){return C2a.load();}).then(function(){m2a?v8a.insertChild(C2a,N2a.layer.idx+.5):v8a.appendChild(C2a);}).then(function(){var F2a=B2a.gevent,p2a=f2a.brush;if(p2a&&p2a.load&&(F2a=p2a.load(F2a))){return F2a;}});}function w8a(V2a,P2a){V2a=t7S.paintIntoShapes&&P8a.capturePaintSource(V2a);return 1===P2a||P8a.unsupportedPaintTarget(P2a)?false:V2a;}function x8a(v2a){delete v2a.highRes;var L2a=v2a.tx;L2a.layerTemp?v8a.insertChild(v2a,L2a.layerTemp.idx,{recordHistory:true}):v8a._recordLayerAdded(v2a);}var P8a=L8a.gesture,a8a=L8a.history,v8a=L8a.scene,R8a=["brush","clipart","floodfill","shape","text"];P8a.cancelCapture=function(R2a){return"coloringPage"===R2a.name;};P8a.capturePaintSource=function(i2a){return R8a.includes(i2a.toolkitId);};P8a.capturePaintTarget=function(a2a){return R8a.includes(a2a.toolkitId);};P8a.unsupportedPaintSource=function(x2a){return"text"===x2a.toolkitId;};P8a.unsupportedPaintTarget=function(w2a){var k2a=w2a.toolkitId;return"brush"===k2a||"text"===k2a||w2a.svg;};P8a.router=function(A2a,r0a,s0a){var Y2a=r0a.layer,Y2a=Y2a.tx||(Y2a.tx={});if(A2a.START){return k8a(A2a,r0a);}if(A2a.CHANGE){if(Y2a=Y2a.layerTemp){Y2a.inBounds=true,Y2a.dirtyCache=true,Y2a.dirtyTransform=true;}v8a.render();}if("boolean"===typeof s0a){return Y8a(A2a,r0a,s0a);}};}function X7S(T0a){function c0a(){var M0a=sketch.Canvas2D();M0a.title="gestureCanvas";return M0a.ctx;}function I0a(O0a,o0a){f7S.resizeOrClear(O0a.canvas,o0a.width,o0a.height);}var n0a=T0a.gesture;n0a.setupCanvas=function(q0a,g0a,Z0a,E0a){q0a.isLiveCursor&&(E0a=false);var h0a=q0a.tx,y0a=g0a.canvas,H0a=n0a.getCanvasBounds(q0a,Z0a);if(y0a.width!==H0a.width||y0a.height!==H0a.height){y0a=n0a.getCanvasBounds(q0a,Z0a);if(E0a){H0a=h0a.ctxStroke1||(h0a.ctxStroke1=c0a());E0a=(h0a._priorX-y0a.x||0)*Z0a;Z0a*=h0a._priorY-y0a.y||0;h0a._priorX=y0a.x;h0a._priorY=y0a.y;if(1===q0a.stroke.opacity){return I0a(H0a,y0a),H0a.drawImage(g0a.canvas,0,0),I0a(g0a,y0a),g0a.drawImage(H0a.canvas,E0a,Z0a),g0a;}h0a=h0a.ctxStroke2||(h0a.ctxStroke2=c0a());q0a=g0a===H0a?H0a:h0a;g0a=g0a===H0a?h0a:H0a;I0a(g0a,y0a);g0a.drawImage(q0a.canvas,E0a,Z0a);return g0a;}I0a(g0a,y0a);return g0a;}if(E0a){return g0a;}Q7S.clear(g0a);return g0a;};n0a.getCanvasBounds=function(J0a){var K0a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,u0a=J0a.bbox.toAxisAligned(),S0a=J0a.getOuterPadding(),j0a;j0a=J0a.tx.paintIntoLayer?J0a.tx.layer.bbox.toAxisAligned():{x:0,y:0,width:T0a.pixelWidth,height:T0a.pixelHeight};var b0a=Math.max(j0a.x,u0a.x-S0a),t0a=Math.max(j0a.y,u0a.y-S0a),u0a=sketch.getClampedCanvasSize(Math.min(j0a.width+j0a.x,u0a.width+u0a.x+S0a)-b0a,Math.min(j0a.height+j0a.y,u0a.height+u0a.y+S0a)-t0a,1,J0a);return{x:Math.floor(b0a),y:Math.floor(t0a),width:Math.ceil(u0a.width*K0a),height:Math.ceil(u0a.height*K0a)};};}j.initSymbol();j.initSymbol();j.initSymbolIterator();var N7S="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(C0a){return typeof C0a;}:function(N0a){j.initSymbol();j.initSymbol();j.initSymbol();return N0a&&"function"===typeof Symbol&&N0a.constructor===Symbol&&N0a!==Symbol.prototype?"symbol":typeof N0a;},S7S=sketch.assets,b7S=sketch.canvasUtils,m7S=sketch.detect,C7S=sketch.feature,t7S=sketch.globals,z7S=sketch.layerUtils,D7S=sketch.style,l7S=sketch.Canvas2D,K7S=sketch.Matrix2D,B7S=sketch.Point;sketch.getClampedCanvasSize=function(f0a,B0a){var m0a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,l0a=arguments[3];!sketch.agent.chrome64DrawImageBug||l0a&&!sketch.detect.useCache257[l0a.type]?(f0a=Math.max(1,f0a),B0a=Math.max(1,B0a)):(f0a=Math.max(257/m0a,f0a),B0a=Math.max(257/m0a,B0a));f0a=Math.min(8192/m0a,f0a);B0a=Math.min(8192/m0a,B0a);return{pixelRatio:m0a,width:f0a,height:B0a};};sketch.canvasUtils.getImageData=function(Q0a,d0a,X0a,z0a,D0a){return sketch.agent.chrome64DrawImageBug?(Q0a=sketch.Context2D.copy(Q0a,d0a,X0a,z0a,D0a,0,0,z0a,D0a),Q0a.getImageData(0,0,z0a,D0a)):Q0a.getImageData(d0a,X0a,z0a,D0a);};var f7S=sketch.Canvas2D,Q7S=sketch.Context2D;sketch.module.add(function(W0a){d7S(W0a);U7S(W0a);W7S(W0a);X7S(W0a);});}();void function(){sketch.module.add(function(U0a){U0a=U0a.toolkit;U0a.BoxRecorder=function(G0a){return function(e0a){};};U0a.constrainBox=function(v0a,k0a){var F0a=sketch.layerUtils.getFeatures(v0a),i0a=F0a.minWidth,a0a=F0a.minHeight,x0a=F0a.maxWidth,F0a=F0a.maxHeight,p0a=v0a.bbox;v0a=p0a.width||1E-4;var p0a=p0a.height||1E-4,V0a=v0a,P0a=p0a,R0a=false,L0a=false;V0a<i0a&&(R0a=true,V0a=i0a);P0a<a0a&&(R0a=true,P0a=a0a);V0a>x0a&&(L0a=true,V0a=x0a);P0a>F0a&&(L0a=true,P0a=F0a);V0a!==v0a&&k0a&&(P0a=V0a/v0a*p0a);P0a!==p0a&&k0a&&(V0a=P0a/p0a*v0a);return{constrained:R0a||L0a,tooSmall:R0a,tooLarge:L0a,width:V0a,height:P0a};};});}();void function(){sketch.module.SceneGuides=function(Y0a){function t3a(C3a,N3a){return C3a.distance-N3a.distance;}function b3a(l3a){var B3a=l3a.origin,m3a=l3a.target;if(null!=m3a.layerId&&null!=B3a.layerId&&(B3a=A0a.getById(m3a.layerId))){var f3a=B3a.bbox,B3a=f3a.rotation,m3a=f3a.width*f3a.scale.x,Q3a=f3a.height*f3a.scale.y,z3a=m3a/2+f3a.x,f3a=Q3a/2+f3a.y,D3a=new w0a(1E10,1E10);l3a.distance=w0a.distanceToRect(D3a,z3a,f3a,m3a,Q3a,B3a);}}function J3a(d3a,W3a,U3a){var X3a=Y0a.zoom;d3a.beginPath();h3a.exmark(d3a,W3a.x+.5,W3a.y+.5,4/X3a);d3a.lineWidth=1/X3a;d3a.strokeStyle=U3a;d3a.stroke();}function T3a(G3a){return"vertical"===G3a.snapTo||"horizontal"===G3a.snapTo;}function r3a(F3a,p3a,e3a){e3a||(e3a={});this.type=e3a.type||"guide";this.id=e3a.id||"Guide-"+c3a.uuid();this.x=F3a||0;this.y=p3a||0;this.angle=e3a.angle||0;this.anchor=e3a.anchor||{x:0,y:0};this.stroke=new sketch.Stroke(e3a.stroke||o3a.stroke);}function s3a(V3a,P3a,v3a,a3a){var L3a=Math.round(P3a[0].x)+.5,R3a=Math.round(P3a[0].y)+.5,i3a=Math.round(P3a[1].x)+.5;P3a=Math.round(P3a[1].y)+.5;V3a.beginPath();V3a.moveTo(L3a,R3a);V3a.lineTo(i3a,P3a);v3a&&(V3a.lineWidth=(a3a||1)/Y0a.zoom,V3a.strokeStyle=v3a,V3a.stroke());}function H3a(A3a,w3a){var k3a=1/Y0a.zoom,x3a=A3a.bbox,r5a=x3a.x,s5a=x3a.y,n5a=r5a+w3a.x,I5a=s5a+w3a.y,Y3a=c3a.round(n5a,k3a),k3a=c3a.round(I5a,k3a);x3a.x=Y3a||0;x3a.y=k3a||0;x3a=A3a.env;x3a.x=(x3a.x||0)+Y3a-r5a;x3a.y=(x3a.y||0)+k3a-s5a;w3a.x+=Y3a-n5a;w3a.y+=k3a-I5a;A3a.dirtyTransform=true;}function Z3a(c5a,T5a){if(!(c5a.distance>T5a||(T5a=c5a.matches[0],c5a=T5a.origin.line[0],T5a=T5a.target.line,w0a.equals(T5a[0],T5a[1])))){return T5a=w0a.nearestOnLine(c5a,T5a[0],T5a[1]),w0a.sub(T5a,c5a);}}function E3a(o5a,M5a){o5a.matches.forEach(function(h5a){var O5a=h5a.origin=c3a.copy(h5a.origin),g5a=O5a.line[0],O5a=O5a.line[1];w0a.add(g5a,M5a);w0a.add(O5a,M5a);O5a=w0a.angle(g5a,O5a);O5a=0===O5a?O5a.toFixed(2)+";"+g5a.y.toFixed(1):O5a.toFixed(2)+";"+g5a.x.toFixed(1);I3a[O5a]||(I3a[O5a]=[]);I3a[O5a].push(h5a);});}function j3a(H5a,y5a,E5a,Z5a){var q5a=H5a.distance;y5a=w0a.distanceToLine(y5a,Z5a.line[0],Z5a.line[1]);q5a-=y5a;if(!(.1>=Math.abs(q5a))){if(0<q5a){H5a.matches=[];}else{return;}}H5a.distance=y5a;H5a.matches.push({distance:y5a,target:Z5a,origin:E5a});}var o3a=sketch.feature.guides,K3a=sketch.globals,y3a=Y0a.render,A0a=Y0a.scene,q3a=sketch.style,c3a=sketch.util,g3a=sketch.vector,u3a=sketch.Angle,M3a=sketch.Line,w0a=sketch.Point,S3a=sketch.Polygon,h3a=g3a.Shape,n3a=Math.PI/2,I3a={},O3a=[];A0a.grid=[];A0a.guides=[];A0a.drawGuides=function(u5a,b5a){var j5a=Y0a.zoom;u5a.save();A0a.setTransform(u5a);u5a.shadowColor="rgba(0,0,0,0.25)";u5a.shadowOffsetX=1;u5a.shadowOffsetY=1;u5a.shadowBlur=1;O3a=g3a.toPath(h3a.rect,[0,0,Y0a.viewport.width,Y0a.viewport.height,true,true]);A0a.guides.forEach(function(t5a){t5a.render(u5a,b5a);});var J5a={},S5a=function(N5a){N5a=I3a[N5a];N5a.unshift({origin:N5a[0].origin,target:N5a[0].origin,line:N5a[0].target.line});N5a.forEach(b3a);N5a.sort(t3a);var C5a=null;N5a.forEach(function(m5a){C5a||(C5a=m5a.origin);var Q5a=m5a.target;if("objectGuide"===Q5a.type){if(Q5a===m5a.origin){C5a=Q5a;return;}var B5a=C5a.line[0];m5a=C5a.line[1];var z5a=Q5a.line[0],l5a=Q5a.line[1],W5a=w0a.distanceToLine(z5a,B5a,m5a,true),d5a=w0a.distanceToLine(l5a,B5a,m5a,true);if(d5a<W5a){var f5a=z5a,z5a=l5a,l5a=f5a;}else{f5a=B5a,B5a=m5a,m5a=f5a;}var f5a=B5a,D5a=m5a,f5a=T3a(C5a)?w0a.atTimeOnLine(f5a,D5a,.5):void 0;m5a=f5a||m5a;f5a=z5a;D5a=l5a;f5a=T3a(Q5a)?w0a.atTimeOnLine(f5a,D5a,.5):void 0;l5a=f5a||l5a;s3a(u5a,[m5a,l5a],"#ff72a1",1);var f5a=w0a.angle(B5a,m5a),D5a=Math.round(w0a.distance(z5a,m5a)),X5a=C5a.layerId+"->"+Q5a.layerId;0<Math.min(W5a,d5a)&&0<D5a&&!J5a[X5a]&&(s3a(u5a,w0a.toLine(B5a,f5a+n3a,5/j5a),"#287eff",1),s3a(u5a,w0a.toLine(z5a,f5a+n3a,5/j5a),"#287eff",1),s3a(u5a,[z5a,B5a],"#287eff",1),f5a===Math.PI&&(f5a=0),B5a=w0a.atTimeOnLine(z5a,B5a,.5),B5a=w0a.atAngleDistance(B5a,f5a-n3a,3),u5a.save(),u5a.translate(B5a.x,B5a.y),u5a.rotate(f5a),u5a.font=9/j5a+"px arial",u5a.textAlign="center",u5a.fillStyle="#287eff",u5a.fillText(D5a,0,0),u5a.restore(),J5a[X5a]=true);B5a=f5a;T3a(Q5a)?J3a(u5a,l5a,"#ff72a1"):s3a(u5a,w0a.toLine(l5a,B5a+n3a,5/Y0a.zoom),"#ff72a1",1);l5a=f5a;T3a(C5a)?J3a(u5a,m5a,"#ff72a1"):s3a(u5a,w0a.toLine(m5a,l5a+n3a,5/Y0a.zoom),"#ff72a1",1);}else{"grid"===Q5a.type?s3a(u5a,Q5a.line,"#bbb"):s3a(u5a,Q5a.line,"#ff72a1");}C5a=Q5a;});},K5a;for(K5a in I3a){S5a(K5a);}u5a.restore();};A0a.Guide=r3a;r3a.prototype.move=function(U5a){this.x+=U5a.x;this.y+=U5a.y;};r3a.prototype.rotate=function(G5a){var e5a=w0a.add(this,this.anchor,true);w0a.rotateAt(this,e5a,G5a);this.angle+=G5a;};r3a.prototype.onMove=function(F5a){this.move(F5a.delta());};r3a.prototype.onRotate=function(V5a){var p5a=w0a.add(this,this.anchor,true),p5a=w0a.angle(p5a,V5a);V5a.START&&(V5a.env.angle=p5a);this.rotate(p5a-V5a.env.angle);};r3a.prototype.render=function(P5a,v5a){o3a.visible&&(s3a(P5a,this.line),q3a.apply(P5a,this,{lineWidth:this.stroke.lineWidth/Y0a.zoom,width:Y0a.viewport.width,height:Y0a.viewport.height}),v5a&&this.addControl());};r3a.prototype.addControl=function(){if(!o3a.locked){var L5a=this.toRect(10);if(null!=L5a){var R5a=this;A0a.addControl({id:this.id,cursor:"grab",event:function(){return function(i5a){if(Keyster.shift){R5a.onRotate(i5a);}else{R5a.onMove(i5a);}y3a.dirtyControls=true;};},bbox:{left:-5,top:-5,x:L5a.x,y:L5a.y,width:L5a.width,height:L5a.height,rotation:L5a.rotation}});}}};Object.defineProperties(r3a.prototype,{line:{get:function(){return w0a.toLine(this,this.angle,1E5);}}});r3a.prototype.toRect=function(x5a){var a5a;a5a=S3a.toPolygonIntersection(this.line,O3a);a5a=2===a5a.length?a5a:void 0;if(a5a){return M3a.toRect(a5a,x5a);}};A0a.snapToGuides=function(s9a,A5a,w5a){I3a={};var k5a=s9a.env,Y5a=K3a.snapToGuides/2,n9a={distance:Infinity,matches:[]},I9a={distance:Infinity,matches:[]},T9a=s9a.toGuides();w5a&&(null==k5a.delta||w5a.START)&&(k5a.delta=new w0a(0,0));A5a.forEach(function(c9a){T9a.forEach(function(o9a){if("grid"!==c9a.type||!T3a(o9a)){var O9a=M3a.angle(o9a.line),M9a=M3a.angle(c9a.line);.001<u3a.delta(O9a,M9a)||(M9a=new w0a(o9a.line[0]),w5a&&(M9a=w0a.add(M9a,k5a.delta)),0===O9a?j3a(n9a,M9a,o9a,c9a):O9a===n3a&&j3a(I9a,M9a,o9a,c9a));}});});A5a=Z3a(n9a,Y5a);Y5a=Z3a(I9a,Y5a);if(A5a||Y5a){var r9a=w0a.add(A5a||new w0a(0,0),Y5a||new w0a(0,0));if(null==w5a||w5a.DOWN){A5a&&E3a(n9a,r9a),Y5a&&E3a(I9a,r9a);}H3a(s9a,r9a);w5a&&w0a.sub(k5a.delta,r9a);}else{k5a.delta&&H3a(s9a,k5a.delta),w5a&&(k5a.delta=new w0a(0,0));}};};}();void function(){sketch.tools.group=function(h9a){function E9a(b9a){for(var j9a,S9a=this.children,K9a=S9a.length,J9a=0;J9a<K9a;J9a++){j9a=S9a[J9a],j9a.visible&&(q9a.updateTransform(j9a),y9a.layer(b9a,j9a));}}function u9a(C9a,N9a){var t9a=0;C9a.forEach(function(f9a){f9a.parent===N9a&&f9a.idx>t9a&&(t9a=f9a.idx);});return t9a;}var y9a=h9a.render,g9a=h9a.scene,q9a=sketch.layerUtils,H9a=sketch.Point,Z9a=sketch.PathBBox;this._attributes={children:"childNodes",childrenHash:"string",opened:"boolean"};this._enable=function(){setTimeout(function(){sketch.ui.setPane("layers");},1);};this.loadLayer=function(B9a){B9a.render=E9a;return Promise.each(B9a.children,function(m9a){return m9a.load();});};this.updateBoundingBox=function(D9a){var l9a=D9a.children;if(l9a.length){var z9a=new Z9a();sketch.traverse(l9a,function(d9a){d9a=d9a.bbox.toAxisAligned();z9a.extendToPoint(new H9a(d9a.x,d9a.y));z9a.extendToPoint(new H9a(d9a.x+d9a.width,d9a.y+d9a.height));});var l9a=D9a.bbox,Q9a=z9a.asRect();l9a.x=Q9a.x||0;l9a.y=Q9a.y||0;l9a.width=Q9a.width||0;l9a.height=Q9a.height||0;D9a.dirtyTransform=true;}};g9a.group=function(X9a,W9a){return g9a._group(X9a,W9a).then(function(U9a){h9a.history.store("group",{name:"group",data:U9a});y9a.scene();return U9a;});};g9a._group=function(e9a,v9a){e9a=h9a.selection.toLayers(e9a||h9a.selection,{sort:true});var G9a,F9a,p9a=null;G9a=void 0;for(var V9a=e9a.length;F9a=e9a[--V9a];){if(F9a=F9a.getProperty("treeAsIds"),p9a){a:for(var L9a=F9a,P9a=Math.min(p9a.length,L9a.length,G9a+1);P9a--;){if(p9a[P9a]===L9a[P9a]){G9a=P9a;break a;}}p9a=F9a;}else{p9a=F9a,G9a=F9a.length-2;}}G9a=g9a.getById(p9a[G9a]);V9a=u9a(e9a,G9a);v9a={type:"group",id:g9a.createId(v9a),idx:V9a,parentId:G9a.id,children:[]};G9a=G9a._insertChild(v9a,V9a);e9a={added:v9a,organized:G9a.sendTo({selection:e9a,targetIdx:0})};g9a.select(G9a);return Promise.resolve(e9a);};g9a.ungroup=function(R9a){return g9a._ungroup(R9a).then(function(i9a){h9a.history.store("ungroup",{name:"ungroup",data:i9a});y9a.scene();return i9a;});};g9a._ungroup=function(k9a){k9a=h9a.selection.toLayers(k9a||h9a.selection,{sort:true});var x9a=[],a9a=[],w9a=[];return Promise.each(k9a,function(A9a){var Y9a=A9a.children;if(Y9a){if(Y9a=A9a.parent.sendTo({selection:Y9a,targetIdx:A9a.idx})){x9a=x9a.concat(Y9a.undo),a9a=a9a.concat(Y9a.redo);}g9a._destroyChild(A9a);w9a.push(A9a);}}).then(function(){console.log(a9a);g9a.select(a9a.map(function(r1a){return r1a.id;}));return{undo:x9a,redo:a9a,removed:w9a};});};};sketch.module.add(function(I1a){var s1a=I1a.history,n1a=I1a.scene;s1a.register("group",{apply:function(c1a){var T1a=c1a.data,M1a=c1a.undo,o1a=s1a.handlers.organize;c1a=T1a.added;T1a=T1a.organized;if(M1a){return T1a=o1a({data:T1a,undo:M1a}),n1a._destroyChild(n1a.getById(c1a.id)),T1a;}n1a.getById(c1a.parentId)._insertChild(c1a,c1a.idx);return o1a({data:T1a,undo:M1a});},compress:function(O1a){O1a.added=sketch.copyConfigs(O1a.added,{compress:true});return O1a;}});s1a.register("ungroup",{apply:function(g1a){var h1a=g1a.data;g1a=g1a.undo;var H1a=s1a.handlers.organize,Z1a=s1a.handlers.add,y1a=s1a.handlers.remove,q1a=h1a.removed;if(g1a){return y1a=Z1a(q1a),H1a({data:h1a,undo:g1a}),y1a;}h1a=H1a({data:h1a,undo:g1a});y1a(q1a);return h1a;},compress:function(E1a){E1a.removed=sketch.copyConfigs(E1a.removed,{compress:true});return E1a;}});});}();void function(){function u1a(t1a){for(var J1a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],S1a=t1a.children,K1a=S1a.length;K1a--;){var j1a=S1a[K1a],b1a={id:j1a.id};j1a.children&&u1a(j1a,b1a.children=[]);J1a.push(b1a);}return J1a;}sketch.tools.groupEditor=function(C1a){function U1a(e1a){e1a.forEach(l1a);}function G1a(F1a){F1a.forEach(function(p1a){var V1a=p1a.data;p1a=p1a.cmd;"organize"===p1a?N1a():"remove"===p1a?N1a():"add"===p1a?Q1a(V1a,"removeNode"):N1a();});}function l1a(P1a){var v1a=P1a.cmd;P1a=P1a.data;"organize"===v1a?N1a():"remove"===v1a?Q1a(P1a,"removeNode"):N1a();}function X1a(L1a){var R1a=f1a.tree.contentElement;L1a=L1a.map(function(i1a){return R1a.querySelector("[data-id='"+i1a.id+"']");});B1a.addClass(L1a,"selected");}function W1a(a1a){var x1a=f1a.tree.contentElement;a1a=a1a.map(function(k1a){return x1a.querySelector("[data-id='"+k1a.id+"']");});B1a.removeClass(a1a,"selected");}function d1a(){N1a();}function Q1a(Y1a,A1a){var w1a=f1a.tree;Y1a.forEach(function(r4a){if(r4a=w1a.getNodeById(r4a.id)){w1a[A1a](r4a);}});}var B1a=sketch.dom,m1a=C1a.scene,z1a=sketch.ui,D1a=sketch.util;this._enable=function(s4a){C1a.tools.select._enable(s4a);};var f1a=void 0;this.attachInterface=function(n4a,I4a){f1a=n4a;n4a.select=C1a.on("select",X1a);n4a.deselect=C1a.on("deselect",W1a);n4a.store=C1a.on("historyStore",l1a);n4a.redo=C1a.on("redo",U1a);n4a.undo=C1a.on("undo",G1a);n4a.open=C1a.on("open",N1a);n4a.resize=sketch.on("resize",d1a);n4a.tree=z1a.LayersPane(C1a,u1a(m1a),I4a);C1a.on("mehfullupdate",N1a);};var N1a=D1a.debounce(function(){f1a.tree.loadData(u1a(m1a));},10);};}();void function(){function o4a(q4a){var H4a=this;q4a&&T4a.assignDeep(H4a,q4a);Object.defineProperties(H4a,{isConfig:{value:true},toSerializable:{value:function(Z4a){return sketch.copyConfig(H4a,{},{compress:Z4a});}}});}function g4a(u4a){function N4a(){}function v4a(){return"floodfill"!==u4a.tool.type;}function d4a(L4a,R4a){L4a=new o4a(L4a);X4a(R4a,function(i4a,x4a){i4a=U4a.assignDeep({type:x4a},L4a,i4a);for(var a4a in i4a){null===i4a[a4a]&&delete i4a[a4a];}j4a.register(i4a);});}function z4a(k4a){return new K4a.Range({param:"opacity",format:"%",min:.01,max:1,value:Number.isFinite(k4a)?k4a:1,gradient:["$bg-15","$bg-30"]});}function Q4a(w4a,Y4a,A4a){return new K4a.Checkbox(Object.assign({checked:Y4a,title:w4a,param:w4a},A4a));}function m4a(r7a,s7a){return Q4a(r7a,s7a,{onchange:function(n7a){sketch.globals.paintIntoShapes=n7a;u4a.saveSettings();}});}function B4a(I7a){return new K4a.Palette(I7a);}function b4a(T7a,c7a){return sketch.style.create(c7a,T7a);}function J4a(M7a,o7a){return new K4a.SubTool({param:M7a,tooltip:o7a||M7a});}function P4a(O7a){return new K4a.HTML(function(){return W4a.create('<div class="sk-quote">'+O7a()+"</div>");});}function E4a(g7a,h7a,y7a,H7a,q7a,Z7a){return new K4a.Range(Object.assign({gradient:c4a,param:g7a,value:h7a,min:y7a,max:H7a,format:q7a},Z7a));}var j4a=this,W4a=sketch.dom,l4a=sketch.feature,t4a=sketch.ui,U4a=sketch.util,K4a=sketch.ui.dataTypes,C4a=t4a.BlendModePopout||N4a,e4a=t4a.CameraStreamPreviewer||N4a,G4a=t4a.PathFooter||N4a,D4a=t4a.ContextualFooter||N4a,F4a=t4a.CropPane||N4a,p4a=t4a.CropFooter||N4a,V4a=t4a.TextAlignAndStyle||N4a,S4a=sketch.PATH_SPACING,X4a=U4a.forEach,f4a=sketch.lang.translate;j4a.register({type:"crop",subTool:J4a("utility","utilities"),constrain:false,constrainCorners:false,constrainSides:false,constrainShift:false,dimensions:F4a(u4a),footer:p4a(u4a)});j4a.register({type:"eyedropper",subTool:J4a("utility","utilities")});j4a.register({type:"groupEditor",subTool:J4a("utility","utilities"),footer:new K4a.HTML(function(){if(l4a.betaGroup){return t4a.createFooter([{title:"group",onclick:function(){sketch.exec("groupLayers");}},{title:"ungroup",onclick:function(){sketch.exec("ungroupLayers");}}]);}})});j4a.register({type:"timeMachine",subTool:J4a("utility","utilities")});j4a.register({type:"laserPointer",subTool:J4a("utility","utilities")});j4a.register({type:"screenshot",subTool:J4a("utility","utilities"),quote:P4a(function(){return f4a("screenshot-tool-message");})});j4a.register({type:"paintEditor",subTool:J4a("utility","utilities")});j4a.register({type:"paintApplicator",subTool:J4a("choose-fill-editor"),palette:B4a(),fill:b4a("fill"),footer:D4a({doc:u4a,onStartKey:"paintApplicator:start",onEndKey:"paintApplicator:end",buttons:[{title:"finish-editing",className:"sk-attention",onclick:function(){u4a.tools.paintApplicator.stopTransaction();}}]})});j4a.register({type:"select",subTool:J4a("utility","utilities"),fill:b4a("fill"),stroke:b4a("stroke"),background:b4a("background"),border:b4a("border"),quote:function(E7a){return new K4a.HTML(function(){return W4a.create(E7a());});}(function(){return"<ui-selection-info></ui-selection-info>";})});j4a.register({type:"move",subTool:J4a("utility","utilities")});j4a.register({type:"zoom",subTool:J4a("utility","utilities"),quote:P4a(function(){return f4a("zoom-tool-message");})});j4a.register({type:"group",blend:C4a(u4a),opacity:z4a()});d4a({toolkitId:"shape",subTool:J4a("shape","choose-shape"),palette:B4a(),fill:b4a("fill",{enabled:true}),stroke:b4a("stroke",{enabled:true,lineWidth:2}),paintIntoShapes:m4a("paintIntoShapes",false),blend:C4a(u4a),opacity:1},{basicShape:{},pie:{angle:E4a("angle",[0,270],0,360,"degree",{canCross:true})},ring:{angle:E4a("angle",[0,360],0,360,"degree",{canCross:true}),cutout:E4a("cutout",.5,0,.99,"%")},ellipse:{cutout:E4a("cutout",0,0,.99,"%")},circle:{cutout:E4a("cutout",0,0,.99,"%")},heart:{},rectangle:{roundness:E4a("roundness",0,0,1,"%"),cutout:E4a("cutout",0,0,.99,"%")},square:{roundness:E4a("roundness",0,0,1,"%"),cutout:E4a("cutout",0,0,.99,"%")},regularPolygon:{sides:E4a("sides",5,3,25,"int"),cutout:E4a("cutout",0,0,.99,"%")},triangle:{cutout:E4a("cutout",0,0,.99,"%")},gear:{sides:E4a("sides",15,2,100,"int"),slope:E4a("slope",.1,0,.99,"%"),cutout:E4a("cutout",0,0,.99,"%")},star:{sides:E4a("sides",5,2,50,"int"),slope:E4a("slope",.5,0,.99,"%"),whirl:E4a("whirl",0,-1,1,"float",{gradient:["$bg-30","$bg","$bg-30"]}),cutout:E4a("cutout",0,0,.99,"%")},burst:{sides:E4a("sides",6,2,50,"int"),slope:E4a("slope",.04,.01,10,"%"),cutout:E4a("cutout",0,0,.99,"%")},radialBurst:{sides:E4a("sides",15,2,100,"int"),spread:E4a("spread",.5,.01,1,"%")},spiral:{sides:E4a("sides",10,1,15,"int"),coils:E4a("coils",1,.01,7,"float"),spread:E4a("spread",35,1,100,"%")},supershape:{points:E4a("points",500,50,1E3,"int"),m:E4a("m",39,.1,50,"int"),n1:E4a("n1",1,.1,15,"float"),n2:E4a("n2",.9,.1,15,"float"),n3:E4a("n3",.25,.1,15,"float"),cutout:E4a("cutout",0,0,.99,"%")}});d4a({toolkitId:"text",resource:new K4a.Resource({format:"text",title:"font",tooltip:"choose-font"}),fitText:true,palette:B4a(),fill:b4a("fill",{enabled:true}),stroke:b4a("stroke",{enabled:false}),blend:C4a(u4a),uiTextAlignAndStyle:V4a(u4a),opacity:1,content:"",fontWeight:"normal",fontSize:16,fontFamily:l4a.defaults.font,fontVariant:"normal",fontStyle:"normal",lineHeight:E4a("lineHeight",1,1,2.5,"em"),letterSpacing:E4a("letterSpacing",0,0,20,"px"),wordSpacing:E4a("wordSpacing",0,0,20,"px"),textAlign:"center",textDecoration:"none",textTransform:"none",whiteSpace:"pre-wrap",footer:D4a({doc:u4a,onStartKey:"text:start",onEndKey:"text:end",buttons:[{title:"finish-editing",className:"sk-attention",onclick:function(){u4a.tools.text.stopEditing();"text"===u4a.tool.toolkitId&&u4a.scene.deselectAll();}}]})},{fancyText:{},htmlText:{}});j4a.register({type:"camera",subTool:J4a("media","choose-media"),blend:C4a(u4a),opacity:z4a(),htmlVideoFeed:e4a(u4a)});j4a.register({type:"clipart",filePicker:new K4a.FilePicker("clipart"),subTool:J4a("media","choose-media"),resource:new K4a.Resource({format:"clipart",title:"clipart",tooltip:"choose-clipart"}),src:l4a.defaults.clipart,paintIntoShapes:m4a("paintIntoShapes",false),blend:C4a(u4a),opacity:z4a(),filter:[{cmd:"shader",id:"colorMatrix",enabled:true,data:Galactic.getProperty("glfx.filters.colorMatrix.defaults")||{}}],footer:D4a({doc:u4a,onStartKey:"clipart:start",onEndKey:"clipart:end",buttons:[{title:"finish-editing",className:"sk-attention",onclick:function(){u4a.deselectAll();}}]})});j4a.register({type:"speechbubble",blend:C4a(u4a),opacity:z4a()});j4a.register({type:"vectorfill",subTool:J4a("choose-fill-editor"),blend:C4a(u4a),palette:B4a(),fill:b4a("fill"),opacity:z4a()});j4a.register({type:"floodfill",subTool:J4a("choose-fill-editor"),palette:B4a(),fill:b4a("fill"),paintIntoShapes:m4a("paintIntoShapes",true),blend:C4a(u4a),opacity:1,antialias:false,tolerance:E4a("tolerance",10,1,100,"%",{noUI:v4a}),contiguous:Q4a("contiguous",true,{noUI:v4a}),footer:D4a({doc:u4a,onStartKey:"paintApplicator:start",onEndKey:"paintApplicator:end",buttons:[{title:"finish-editing",className:"sk-attention",onclick:function(){u4a.tools.paintApplicator.stopTransaction();}}]})});d4a({toolkitId:"brush",subTool:J4a("brush","choose-brush"),palette:B4a(),fill:b4a("fill",{enabled:false}),stroke:b4a("stroke",{enabled:true,lineWidth:2}),paintIntoShapes:m4a("paintIntoShapes",true),blend:C4a(u4a),opacity:1,lineWidthUI:function(u7a,j7a,J7a,S7a,K7a){return new K4a.HTML({appendElement:function(b7a){t4a.appendRange(b7a.$parent,Object.assign({gradient:c4a,param:u7a,format:S7a,min:j7a,max:J7a,value:b7a.configure.stroke.lineWidth,onchange:function(t7a,C7a){t4a._updateAndPreview(t7a.element.parentNode,t7a.gevent,{stroke:{lineWidth:C7a.value}});}},K7a));}});}("linkedLineWidth",1,250,"px",{title:"diameter"}),seed:1,iteration:1,footer:G4a(u4a)},{lineSegment:{maxFingersInteracting:1,enableMonitorMouse:true,enableLiveCursor:false},path:{maxFingersInteracting:1,enableMonitorMouse:true,enableLiveCursor:false},polygon:{maxFingersInteracting:1,enableMonitorMouse:true,enableLiveCursor:false},polyline:{maxFingersInteracting:1,enableMonitorMouse:true,enableLiveCursor:false},scissor:{opacity:{noUI:true},fill:{noUI:true},stroke:{noUI:true},buttons:{noUI:true}}});d4a({toolkitId:"brush",subTool:J4a("brush","choose-brush"),resource:null,palette:B4a(),fill:b4a("fill",{enabled:false}),stroke:b4a("stroke",{enabled:true}),paintIntoShapes:m4a("paintIntoShapes",true),blend:C4a(u4a),opacity:1,seed:1,iteration:1},{basicBrush:{},stamp:{src:l4a.defaults.stamp,resource:new K4a.Resource({format:"stamp",title:"stamp",tooltip:"choose-stamp"}),alignToPath:false,airbrush:false,diameter:E4a("diameter",50,5,500,"px"),jitterScale:E4a("jitterScale",[.05,1],.05,3,"x",{canPush:true}),jitterRotation:E4a("jitterRotation",[0,360],0,360,"degree",{format:"int",canCross:true}),jitterOffset:E4a("jitterOffset",[0,0],0,200,"px",{canPush:true}),pathSpacingUI:function(N7a,f7a,B7a,m7a){return new K4a.HTML({appendElement:function(Q7a){var l7a=Q7a.configure.pathSpacing.clamp;t4a.appendRange(Q7a.$parent,Object.assign({gradient:c4a,param:"pathSpacing",format:B7a,min:N7a,max:f7a,value:[l7a.min,l7a.max],onchange:function(z7a,d7a){var X7a=z7a.element.parentNode;z7a=z7a.gevent;var D7a={};0===d7a.index?D7a.min=d7a.value:D7a.max=d7a.value;t4a._updateAndPreview(X7a,z7a,{pathSpacing:{clamp:D7a}});}},m7a));}});}(1,200,"px",{canPush:true}),pathSpacing:{type:S4a.ADAPTIVE_THRESHOLD,clamp:{max:50}}},crayon:{diameter:E4a("diameter",19,3,100,"px")},arrow:{fill:b4a("fill",{enabled:true}),stroke:b4a("stroke",{enabled:true}),diameter:E4a("diameter",35,1,150,"px"),curved:Q4a("curved",false)},paintbrush:{diameter:E4a("diameter",40,1,250,"px"),blur:E4a("blur",10,0,100,"%")},pencil:{diameter:E4a("diameter",2,1,250,"px")},magicBrush:{diameter:E4a("diameter",30,1,250,"px"),tolerance:E4a("tolerance",50,1,100,"%"),contiguous:Q4a("contiguous",true)},tileBrush:{diameter:E4a("diameter",20,1,250,"px"),tileMode:new K4a.Select({title:"tileMode",param:"tileMode",tooltip:f4a("choose-mode"),selected:"stretch",options:function(){return{stretch:f4a("stretch"),repeat:f4a("repeat"),"repeat-mirrored":f4a("repeat-mirrored")};}}),pathSpacing:{type:S4a.EVEN,pattern:[1]}},hybridBrush:{diameter:E4a("diameter",2,1,250,"px")},mirrorBrush:{diameter:E4a("diameter",15,1,100,"px"),sides:E4a("sides",9,1,100,"int"),mirrorInSector:Q4a("mirrorInSector",true),brushRenderer:"pencil",showControls:"whenHovering"},textBrush:{diameter:E4a("diameter",10,1,100,"px"),content:new K4a.Textarea({title:"content",param:"content",value:"\u201cThe quick brown fox jumps over the lazy dog\u201d is an English-language pangram \u2013 a phrase that contains all of the letters of the English alphabet."}),pathSpacing:{type:S4a.ADAPTIVE,flatness:.5}},streamer:{diameter:E4a("diameter",[.01,15],.01,150,"px",{canPush:true}),pathSpacing:{type:S4a.ADAPTIVE_THRESHOLD,clamp:{min:5}}},pen:{diameter:E4a("diameter",[.5,10],.01,50,"px",{canPush:true}),pathSpacing:{type:S4a.ADAPTIVE_THRESHOLD,clamp:{min:5}}},calligraphy:{diameter:E4a("diameter",25,1,100,"px"),tipAngle:E4a("tipAngle",45,0,360,"degree"),pathSpacing:{type:S4a.ADAPTIVE,flatness:.5}},chrome:{opacity:.25,pathSpacing:{type:S4a.ADAPTIVE,flatness:.5},lineWidth:E4a("lineWidth",1,.1,5,"px"),spread:E4a("spread",15,1,50,"px"),lookback:2E3},shader:{opacity:.75,pathSpacing:{type:S4a.ADAPTIVE,flatness:.5},lineWidth:E4a("lineWidth",.5,.1,5,"px"),spread:E4a("spread",40,1,50,"px"),lookback:2E3},sketchy:{opacity:.5,pathSpacing:{type:S4a.ADAPTIVE,flatness:.5},lineWidth:E4a("lineWidth",1,.1,5,"px"),spread:E4a("spread",25,1,250,"px"),lookback:2E3},web:{opacity:.4,pathSpacing:{type:S4a.ADAPTIVE,flatness:.5},lineWidth:E4a("lineWidth",1,.1,5,"px"),spread:E4a("spread",25,1,250,"px"),lookback:2E3},fur:{pathSpacing:{type:S4a.ADAPTIVE,flatness:.5},lineWidth:E4a("lineWidth",1,.1,25,"px"),diameter:E4a("diameter",75,1,750,"px"),lookback:2E3},hair:{pathSpacing:{type:S4a.ADAPTIVE,flatness:.5},lineWidth:E4a("lineWidth",.5,.1,10,"px"),diameter:E4a("diameter",50,1,250,"px"),lookback:5},spirograph:{opacity:.6,lineWidth:E4a("lineWidth",.5,.1,5,"px"),diameter:E4a("diameter",90,1,250,"px"),contract:.005,radius:E4a("radius",[.79,.99],0,1,"%",{canCross:true}),increment:E4a("increment",.3,.1,5,"px"),iterations:E4a("iterations",100,1,100,"float"),airbrush:true,pathSpacing:{type:S4a.ADAPTIVE_THRESHOLD,clamp:{max:5}}},spraypaint:{pathSpacing:{type:S4a.ADAPTIVE_THRESHOLD,clamp:{max:50}},opacity:.25,airbrush:true,interval:30,diameter:E4a("diameter",100,25,250,"px")},oil:{pathSpacing:{type:S4a.EVEN,pattern:[1]},blendAmount:.98,bristles:8,diameter:E4a("diameter",50,1,100,"px")},pastel:{pathSpacing:{type:S4a.ADAPTIVE_THRESHOLD,clamp:{max:50}},blendAmount:.97,bristles:35,rotate:E4a("rotate",[0,360],0,360,"degree",{format:"int",canCross:true,noUI:true}),diameter:E4a("diameter",25,3,42,"px")}});X4a(j4a,function(W7a){W7a.globalized||(W7a.globalized="yes");});j4a.setPresetValues("defaults",j4a);return j4a;}function h4a(e7a){var G7a=M4a._presets,U7a=G7a[e7a];U7a||(U7a=G7a[e7a]={},y4a(U7a,U7a));return U7a;}function y4a(F7a,p7a){O4a(F7a,{toSerializable:function(P7a){var V7a={};forEach(p7a,function(v7a,L7a){(v7a=v7a.toSerializable(P7a))&&(V7a[L7a]=v7a);});return V7a;}});}var T4a=sketch.util,O4a=T4a.defineProperties,c4a=["$bg","$bg-30"],M4a=g4a.prototype;O4a(M4a,{_presets:{},register:function(R7a){var i7a=R7a.type;R7a=new o4a(R7a);R7a.toolkitId||(R7a.toolkitId=i7a);this[i7a]=R7a;this.setPresetValues("defaults",i7a,T4a.copy(R7a));return R7a;},registerReplica:function(a7a,k7a){var x7a=this[a7a];if(x7a){return a7a=T4a.copy(x7a),a7a.type=k7a,this.register(a7a);}console.error("registerReplica(...) "+a7a+" is not registered.");},setPresetValues:function(w7a,Y7a,A7a){w7a=h4a(w7a);"string"===typeof Y7a?T4a.assignDeep(w7a[Y7a]||(w7a[Y7a]=new o4a()),A7a):T4a.assignDeep(Y7a,A7a);},applyPresetValues:function(s6a,r6a){T4a.assignDeep(this[r6a],this._presets[s6a][r6a]);}});y4a(M4a,h4a("defaults"));sketch.module.Configure=g4a;}();void function(){function g6a(){var u6a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};"function"===typeof u6a&&(u6a={construct:u6a});I6a(this,u6a);this.type="html";this.construct=u6a.construct;this.appendElement=u6a.appendElement;this.value=u6a.value;}function Z6a(){var j6a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};I6a(this,j6a);this.type="checkbox";this.checked=j6a.checked;this.onchange=j6a.onchange;}function c6a(){var J6a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};I6a(this,J6a);this.type=J6a.type||"text";this.disabled=!!J6a.disabled;this.format=J6a.format||"float";this.value=J6a.value;this.onchange=J6a.onchange;this.oninput=J6a.oninput;M6a(this.type)&&(this.max=Number.isFinite(J6a.max)?J6a.max:Number.MAX_SAFE_INTEGER,this.min=Number.isFinite(J6a.min)?J6a.min:-Number.MAX_SAFE_INTEGER,this.step=J6a.step||"any");}function M6a(S6a){return"number"===S6a||"_number_"===S6a;}function o6a(){var K6a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};I6a(this,K6a);this.type="range";this.format=K6a.format||"float";this.gradient=K6a.gradient;this.onchange=K6a.onchange;this.canCross=!!K6a.canCross;this.canPush=!!K6a.canPush;var b6a=K6a.value||0,t6a="undefined"===typeof b6a?false:"object"===E6a(b6a);this.value=b6a;this.min=K6a.min||0;this.max=K6a.max||0;t6a?(this.value=[0,0],this.setValue=function(C6a){!this.freeze&&Array.isArray(C6a)&&(Number.isFinite(C6a[0])&&(this.value[0]=C6a[0]),Number.isFinite(C6a[1])&&(this.value[1]=C6a[1]));}):(this.value=0,this.setValue=function(N6a){this.freeze||(Array.isArray(N6a)&&(N6a=N6a[0]),Number.isFinite(N6a)&&(this.value=N6a));});this.setValue(b6a);}function O6a(){var f6a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};I6a(this,f6a);this.type="select";this.labelIcon=f6a.labelIcon||"";this.options=f6a.options;this.selected=f6a.selected;this.onchange=f6a.onchange;this.onClose=f6a.onClose;this.onOpen=f6a.onOpen;this.getOptions=function(){var B6a=this.options;if("function"===typeof B6a){return B6a();}if(Array.isArray(B6a)){for(var l6a={},m6a=0;m6a<B6a.length;m6a++){var Q6a=B6a[m6a];l6a[Q6a]=Q6a;}return l6a;}return B6a;};this.setValue=function(z6a){!this.freeze&&z6a&&z6a.length&&(this.selected=z6a);};}function q6a(D6a){I6a(this,D6a=D6a||{});this.type="textarea";this.value=D6a.value;this.disabled=!!D6a.disabled;this.setValue=function(d6a){this.freeze||"string"!==typeof d6a||(this.value=d6a);};}function h6a(){var X6a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};I6a(this,X6a);this.type="color";this.color=X6a.color;}function y6a(){var W6a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};I6a(this,W6a);this.type="resource";this.format=W6a.format;this.noConfig=true;}function H6a(){var U6a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};I6a(this,U6a);this.type="filter";this.value=U6a.filter;}function I6a(e6a,G6a){e6a.freeze=!!G6a.freeze;e6a.noConfig=!!G6a.noConfig;e6a.noUI=G6a.noUI;G6a.className&&(e6a.className=G6a.className);G6a.cssText&&(e6a.cssText=G6a.cssText);G6a.onblur&&(e6a.onblur=G6a.onblur);G6a.onfocus&&(e6a.onfocus=G6a.onfocus);G6a.param&&(e6a.param=G6a.param);G6a.parentNode&&(e6a.parentNode=G6a.parentNode);G6a.title&&(e6a.title=G6a.title);G6a.tooltip&&(e6a.tooltip=G6a.tooltip);}function T6a(p6a){var F6a=new this.constructor(this);if(null==p6a){return F6a;}F6a.setValue(p6a);return F6a;}j.initSymbol();j.initSymbol();j.initSymbolIterator();var E6a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(V6a){return typeof V6a;}:function(P6a){j.initSymbol();j.initSymbol();j.initSymbol();return P6a&&"function"===typeof Symbol&&P6a.constructor===Symbol&&P6a!==Symbol.prototype?"symbol":typeof P6a;},n6a=sketch.ui.dataTypes;n6a.HTML=g6a;Object.assign(g6a.prototype,{clone:T6a,getValue:function(){return this.value;},setValue:function(v6a){this.freeze||(this.value=v6a);}});n6a.Button=function(){var L6a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};I6a(this,L6a);this.type="button";this.onclick=L6a.onclick;};n6a.Checkbox=Z6a;Object.assign(Z6a.prototype,{clone:T6a,getValue:function(){return this.checked;},setValue:function(R6a){this.freeze||"boolean"!==typeof R6a||this.checked===R6a||(this.checked=R6a,this.onchange&&this.onchange.call(this,R6a));}});n6a.Input=c6a;Object.assign(c6a.prototype,{clone:T6a,getValue:function(){return this.value;},setValue:function(i6a){if(!this.freeze){if(M6a(this.type)){i6a=parseFloat(i6a);if(!Number.isFinite(i6a)||this.max<i6a||this.min>i6a){return;}switch(this.format){case"int":i6a=Math.round(i6a);}}this.value!==i6a&&(this.value=i6a);}}});n6a.Range=o6a;Object.assign(o6a.prototype,{clone:T6a,getValue:function(){return this.value;}});n6a.Select=O6a;Object.assign(O6a.prototype,{clone:T6a,getValue:function(){return this.selected;}});n6a.Textarea=q6a;Object.assign(q6a.prototype,{clone:T6a,getValue:function(){return this.value;}});n6a.ColorPicker=h6a;Object.assign(h6a.prototype,{clone:T6a,getValue:function(){return this.color;},setValue:function(a6a){this.freeze||"string"!==typeof a6a||(this.color=a6a);}});n6a.Palette=function(){var x6a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};I6a(this,x6a);this.type="palette";this.version=x6a.version;this.noConfig=true;};n6a.FilePicker=function(){var k6a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};I6a(this,k6a);this.type="filePicker";this.formats=k6a.formats;this.onchange=k6a.onchange;};n6a.Resource=y6a;Object.assign(y6a.prototype,{clone:function(){return new this.constructor(this);}});n6a.FilterStack=H6a;Object.assign(H6a.prototype,{clone:T6a,getValue:function(){return this.value;},setValue:function(w6a){this.freeze||(this.value=w6a);}});n6a.SubTool=function(){I6a(this,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});this.type="subTool";this.noConfig=true;};}();void function(){function C8u(X8u,d8u){function W8u(){d8u.liveCursor&&d8u.liveCursor.attach();}function U8u(){d8u.liveCursor&&d8u.liveCursor.detach();d8u.attachedBrush=null;}function G8u(){delete d8u.liveCursor.point;var e8u=d8u.attachedBrush;(e8u=e8u&&e8u.layer&&e8u.layer.env.gevent)&&!e8u.UP&&e8u.updateScrollAndEmitUpdate&&e8u.updateScrollAndEmitUpdate();}d8u.attachedBrush=null;d8u._enable=function(F8u){var p8u=d8u.config;sketch.keyboard.enable(X8u,F8u);W8u();F8u.self={attach:W8u,detach:U8u};F8u.scroll=X8u.on("scroll",G8u);F8u.createOrTransform=d8u.createLayerOrTransformScene(d8u.onRecord,{maxFingers:p8u.maxFingersInteracting||Number.MAX_SAFE_INTEGER,monitor:!!p8u.enableMonitorMouse});};}function D8u(V8u){function P8u(L8u){var R8u=L8u.bbox,i8u=R8u.padding;L8u=L8u.data;var a8u=new y8u();a8u.translate(R8u.x+i8u,R8u.y+i8u);a8u.flatten(L8u);}function v8u(w8u){w8u=w8u.data;for(var n2u=w8u.length-1,s2u=0,Y8u=0;Y8u<n2u;Y8u++){var k8u=w8u[Y8u];"M"===k8u.cmd&&(s2u=Y8u+1);var x8u=w8u[Y8u+1];"Z"===x8u.cmd&&(x8u=w8u[s2u]);if("C"===k8u.cmd&&"C"===x8u.cmd){var r2u=new Y6a(k8u.x2,k8u.y2),A8u=new Y6a(k8u.x,k8u.y),x8u=new Y6a(x8u.x1,x8u.y1),r2u=Y6a.angle(r2u,A8u),A8u=Y6a.angle(A8u,x8u);.001>Math.abs(r2u-A8u)&&(k8u.angleLock=true);}}}V8u.editPath=function(c2u,I2u){var g2u=I2u.toCompressedPlainObject();P8u(I2u);v8u(I2u);var M2u=I2u.tool,o2u=M2u.liveCursor.threadId=I2u.id;I2u.highRes=true;I2u.isEditing=true;I2u.isEditingPath=true;I2u.pointerId=o2u;var O2u=c2u.gesture,h2u=GEvent.START(new GEvent({id:o2u,listener:M2u.onRecord})),T2u=void 0,y2u=c2u.tool.type;return new Promise(function(Z2u,u2u,E2u){function H2u(){c2u.history.store("update",{name:"edit-path",data:{from:[g2u],to:[I2u.toCompressedPlainObject()]}});q2u();Z2u(I2u);}function q2u(){delete I2u.env.pathComputed;I2u.dirtyCache=true;I2u.isEditing=false;I2u.isEditingPath=false;}E2u(function(){T2u&&T2u.off("pointer:remove",H2u);q2u();I2u.data=g2u.data;O2u.remove(I2u,true);c2u.scene.render();});c2u.setTool("path").then(function(){return O2u.getOrCreate(h2u,M2u,{layer:I2u,pointerId:o2u}).then(function(j2u){T2u=j2u;T2u.on("pointer:remove",H2u);O2u.router(h2u,T2u);M2u.liveCursor.detach();M2u._attachBrush(T2u.layer.brush);});});}).then(function(){return c2u.setTool(y2u);});};}function T8u(J2u){var K2u=J2u.doc,S2u=J2u.centerPoint;if(S2u){return S2u;}var S2u=J2u.bbox,t2u=S2u.padding,b2u=J2u.tx&&J2u.tx.layer;b2u&&"background"!==b2u.name?(K2u=b2u.bbox.pointAt(.5,.5),J2u.isCreating?K2u.subtract(new r8u(0,0)):K2u.subtract(new r8u(S2u.x+t2u,S2u.y+t2u))):K2u=J2u.isCreating?K2u.getCenterOfDoc():J2u.centerPoint=new r8u(0,0);return K2u;}function z8u(N2u,f2u){function m2u(e2u){var W2u=C2u.id,X2u=D2u(e2u);if(X2u&&X2u.layer){e2u=X2u.layer;e2u.name="live-cursor";e2u.exportable=false;e2u.isCreating=true;e2u.isLiveCursor=true;var G2u=e2u.brush;G2u.iteration=e2u.iteration||1;G2u.pointerId=W2u;var F2u=X2u.gevent,X2u=N2u.zoom,W2u=X2u*N2u.scale,U2u=N2u.viewport,U2u=new B2u(U2u.paddingLeft/X2u,U2u.paddingTop/X2u),W2u=new B2u(F2u).divide(W2u).subtract(U2u),F2u=N2u.pointInPeerSceneFromCanvas(F2u),U2u=G2u.lastPoint;U2u||(G2u.lastPoint=U2u=W2u);if(G2u.ghostDistance){var p2u=U2u.x-W2u.x,V2u=U2u.y-W2u.y,X2u=G2u.ghostDistance/X2u;Math.sqrt(p2u*p2u+V2u*V2u)>X2u&&(V2u=Math.atan2(V2u,p2u),p2u=Math.cos(V2u)*X2u,X2u*=Math.sin(V2u),U2u.x=W2u.x+p2u,U2u.y=W2u.y+X2u,C2u.point=F2u,C2u.point.add(p2u,X2u));}else{U2u.x=W2u.x,U2u.y=W2u.y,C2u.point=F2u;}X2u=e2u.data=[{cmd:"M",x:U2u.x,y:U2u.y}];G2u.ghostDistance&&e2u.data.push({cmd:"L",x:W2u.x,y:W2u.y});G2u.recordReflectionPoint&&(e2u.centerPoint=T8u(e2u,true));G2u=G2u.getBoundingBox?G2u.getBoundingBox(X2u).asRect():new z2u(X2u).asRect();W2u=e2u.bbox;X2u=W2u.padding;W2u.x=G2u.x-X2u;W2u.y=G2u.y-X2u;W2u.width=G2u.width+2*X2u;W2u.height=G2u.height+2*X2u;delete e2u.env.pathComputed;}}function d2u(){N2u.gesture.remove(C2u.id);N2u.scene.render();delete C2u.point;}function D2u(v2u){if(sketch.globals.paintIntoShapes){var L2u=C2u.id,P2u=Q2u(v2u),P2u=N2u.gesture.findLayerToDrawOn(P2u);C2u.layerBelowCursor!==P2u&&(C2u.layerBelowCursor=P2u,N2u.gesture.remove(L2u));}L2u=C2u.id;v2u=Q2u(v2u);return f2u.getOrCreateTransaction(v2u,L2u);}function Q2u(R2u){var a2u=C2u.id;R2u=Gesture.pointInNode(R2u,N2u.$document);R2u=new B2u(R2u).add(N2u.scroll);var i2u=N2u.gesture.items[a2u];if(i2u){return i2u=i2u.gevent,i2u.id=a2u,i2u.x=R2u.x,i2u.y=R2u.y,GEvent.CHANGE(i2u),i2u;}R2u.id=a2u;R2u.env={};GEvent.START(R2u);return R2u;}var l2u=sketch.feature,B2u=sketch.Point,z2u=sketch.PathBBox,C2u=f2u.liveCursor={id:"liveCursor",attached:{},enabled:false,point:null,layerBelowCursor:null,threadId:null};C2u.attach=function(){if(!C2u.enabled&&l2u.tools.brush.enableLiveCursor&&false!==f2u.config.enableLiveCursor){C2u.enabled=true;var x2u=N2u.$inputPointer;C2u.attached.move=Gesture.on(x2u,"mousemove",m2u);C2u.attached.exit=Gesture.on(x2u,"mouseout",d2u);}};C2u.detach=function(){C2u.enabled&&(C2u.enabled=false,Gesture.bulk(C2u.attached,"detach"),N2u.gesture.remove(C2u.id));};C2u.showAtPoint=function(w2u){if(l2u.tools.brush.enableLiveCursor&&false!==f2u.config.enableLiveCursor){var k2u=D2u(w2u);k2u&&k2u.then?k2u.then(function(){C2u.enabled&&m2u(w2u);}):m2u(w2u);}};}function Q8u(s0u,Y2u,r0u){function A2u(n0u,M0u){var O0u=Y2u._getOrUpdatePathClean(M0u),I0u=M0u.brush,c0u=M0u.bbox,o0u=c0u.padding||0;M0u.isCreating||M0u.isEditingPath?n0u.translate(-c0u.x,-c0u.y):n0u.translate(o0u,o0u);var T0u=M0u.stroke,c0u=T0u?T0u.opacity:1,o0u=I0u.useAlphaCache&&1>c0u,g0u=I0u.useAreaTracker;o0u||g0u?(Y2u.renderFill(n0u,I0u,O0u),q8u.visible(T0u)&&(T0u=I0u.context=M8u.tempCheckout(n0u.canvas.width,n0u.canvas.height),g0u=n0u.currentTransform,h8u.applyTransform(T0u,g0u),Y2u.renderStroke(T0u,I0u,O0u),h8u.applyInverseTransform(T0u,g0u),n0u.globalAlpha=o0u?c0u:1,n0u.setTransform(1,0,0,1,0,0),n0u.drawImage(T0u.canvas,0,0),M8u.tempRecycle(T0u))):(Y2u.renderFill(n0u,I0u,O0u),Y2u.renderStroke(n0u,I0u,O0u));I0u.iteration=M0u.iteration||1;I0u.afterRender&&I0u.afterRender();}r0u.render=function(H0u){var y0u=this,h0u=y0u.brush;if(h0u&&H0u){return y0u.dirtyHash&&sketch.copyConfig(y0u,h0u),h0u.context=H0u,h0u.iteration=y0u.iteration||1,h0u.pointerId=y0u.pointerId||"A:0",h0u.load&&(h0u=h0u.load())?h0u.then(function(){return A2u(H0u,y0u);}):A2u(H0u,y0u);}console.error("layer.render(...) Brush is undefined.",y0u);};}function l8u(E0u,q0u){var u0u=sketch.detect,Z0u=sketch.style;q0u.loadLayer=function(j0u){function b0u(t0u){"object"===o8u(j0u.pathSimplify)&&(t0u.pathSimplify=j0u.pathSimplify);"object"===o8u(j0u.pathSmoothing)&&(t0u.pathSmoothing=j0u.pathSmoothing);t0u.twist=0;t0u.pressure=.5;t0u.alwaysFreshRender=t0u.render&&!t0u.isPatchBased;t0u.autoFill=false!==t0u.autoFill;t0u.isEraser="destination-out"===Z0u.getCtxBlendMode(j0u)||"eraser"===S0u;t0u.layer=j0u;t0u.tool=q0u;t0u.useAreaTracker=u0u.useAreaTracker[S0u]&&"color"!==j0u.stroke.type&&!t0u.isEraser;j0u.brush=t0u;j0u.data||(j0u.data=[]);j0u.iteration||(j0u.iteration=1);j0u.seed||(j0u.seed=1);sketch.copyConfig(j0u,t0u);t0u.getNextColorStop=function(){var C0u=j0u.stroke,f0u=t0u.iteration,C0u=C0u.env.colorStops||Z0u.cachePaint(j0u,C0u),N0u=C0u.length-1;return C0u[Math.abs(f0u%N0u*2-N0u)||0].color;};return Z0u.loadPaintStack(j0u).then(function(){Q8u(E0u,q0u,j0u);j0u.dirtyHash=true;j0u.bbox.padding=q0u.getInnerPadding(j0u);return j0u;}).catch(function(B0u){console.error(B0u);return Promise.reject('The "'+S0u+'" brush could not be loaded.');});}var S0u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:j0u.type,J0u=sketch.tools["brush_"+S0u];if(!J0u){return Promise.reject(S0u+" unavailable.");}var K0u=j0u.brush;if(K0u&&j0u.type===S0u){return K0u.load&&(J0u=K0u.load())&&J0u.then?J0u.then(function(){return b0u(K0u);}):b0u(K0u);}J0u=J0u(E0u,j0u,q0u);return J0u.then?J0u.then(b0u):b0u(J0u);};}function m8u(z0u,m0u){function l0u(d0u){var D0u=new n8u.PathSegmenter();D0u.curveFlatness=d0u.flatness||.5;D0u.recordPath="endCapsOnly";var X0u=d0u.type;1===X0u?D0u.splitClamp=d0u.clamp:2===X0u&&(D0u.splitPattern=d0u.pattern);return D0u;}function Q0u(W0u,U0u){if(W0u.brush.ensurePathMovement&&(W0u.isLiveCursor||!W0u.isCreating)){W0u=U0u.length;if(1===W0u){W0u=Object.assign({},U0u[0]);}else if(2===W0u){W0u=Object.assign({},U0u[1]),U0u.pop();}else{return;}"M"===W0u.cmd&&(W0u.cmd="L");W0u.x+=.01;W0u.y+=.01;U0u.push(W0u);}}m0u._getOrUpdatePathClean=function(F0u){var G0u=F0u.env;if(!G0u){return F0u.data||F0u.path;}var p0u=F0u.pathSpacing,P0u=F0u.isCreating&&!F0u.isLiveCursor,G0u=G0u.pathComputed||(G0u.pathComputed={}),e0u;e0u=""+F0u.pathHash;if(p0u){var V0u=p0u.flatness;V0u&&(e0u+=V0u);(V0u=p0u.clamp)&&(e0u+=V0u.min+"-"+V0u.max);(V0u=p0u.pattern)&&(e0u+=V0u);}if(!P0u&&e0u&&e0u===G0u.hash){return G0u.path;}G0u.hash=e0u;e0u=F0u.data;if(!e0u.length){return[];}e0u=m0u.smoothPath(F0u,e0u);if(!p0u){return G0u.path=e0u;}!F0u.brush.alwaysFreshRender&&P0u?(p0u=G0u.segmenter||(G0u.segmenter=l0u(p0u)),F0u=e0u.slice(G0u.cursor||0),G0u.cursor=e0u.length):(p0u=l0u(p0u),F0u=e0u);sketch.drawPath(p0u,F0u);P0u||p0u._pushFinalPoint();return G0u.path=p0u.path;};m0u.smoothPath=function(i0u,v0u){var R0u=i0u.brush;if(R0u.recordOnePoint||R0u.recordTwoPoints||i0u.isLiveCursor){return v0u=v0u.slice(0),Q0u(i0u,v0u),v0u;}var x0u=i0u.isCreating,a0u=x0u&&!R0u.alwaysFreshRender,L0u=R0u.pathSimplify;L0u&&(L0u.type===g8u.LANG?(L0u=j8u(L0u.value,2),v0u=n8u.langSimplify(v0u,L0u[0],L0u[1]),a0u&&(v0u=v0u.slice(0,-1))):L0u.type===g8u.RADIAL_DISTANCE&&(v0u=global.simplify2.radialDistance(v0u,L0u.tolerance),a0u&&(v0u=v0u.slice(0,-1))));(L0u=R0u.pathSmoothing)&&L0u.type===S8u.CATMULL_ROM&&(v0u=n8u.catmullRomSpline(v0u,L0u.value),a0u&&(v0u=v0u.slice(0,-1)));x0u&&(R0u=R0u.bufferRecordingIndex)&&(v0u=v0u.slice(0,-R0u));Q0u(i0u,v0u);return v0u;};}function Z8u(k0u,Y0u){var w0u="boolean"===typeof k0u.shiftKey?k0u.shiftKey:Keyster.shift;k0u=k0u.env;k0u._snapShift!==w0u&&(k0u._snap=void 0,k0u._snapOrigin=Y0u.clone(),k0u._snapShift=w0u);if(k0u._snapShift){if(w0u=k0u._snap){k0u=A6a.nearestOnLine(Y0u,w0u.origin,w0u.end),Y0u.x=k0u.x,Y0u.y=k0u.y;}else{var A0u=k0u._snapOrigin;if(4<A6a.distance(A0u,Y0u)){w0u=.25*Math.PI,A0u=A6a.angle(A0u,Y0u),w0u*=Math.round(A0u/w0u),k0u._snap={angle:w0u,origin:Y0u,end:A6a.atAngleDistance(Y0u,w0u,1)};}else{return true;}}}}function B8u(s3u,r3u){function Z3u(u3u){return Keyster.on("shift",function(){var j3u=u3u.env.gevent;if(j3u){var J3u=c3u(j3u);Z8u(j3u,J3u);}});}function T3u(S3u,K3u,b3u){S3u=Object.assign({},K3u,{cmd:S3u});b3u.data.push(S3u);}function c3u(t3u){var N3u=s3u.viewport,C3u=s3u.zoom;t3u=new I3u(t3u);t3u.divide(C3u*s3u.scale);t3u.subtract(N3u.paddingLeft/C3u,N3u.paddingTop/C3u);t3u.round(0);return t3u;}function M3u(l3u,Q3u){var f3u=l3u.bbox,B3u=f3u.padding,m3u=q3u.apply(void 0,arguments).asRect();f3u.x=m3u.x-B3u;f3u.y=m3u.y-B3u;f3u.width=m3u.width+2*B3u;f3u.height=m3u.height+2*B3u;}function q3u(z3u,X3u){var D3u=z3u.env,d3u=z3u.brush;z3u=r3u._getOrUpdatePathClean(z3u);D3u=D3u.bboxExtender||(D3u.bboxExtender=new y3u());return d3u.extendBoundingBox?d3u.extendBoundingBox(D3u,X3u):d3u.getBoundingBox?d3u.getBoundingBox(z3u).extendToPoint(X3u):d3u.alwaysFreshRender?new sketch.PathBBox(z3u).extendToPoint(X3u):D3u.extendToPoint(X3u);}function E3u(G3u){var W3u=G3u.doc,U3u=G3u.layer,e3u=G3u.gevent,F3u=setInterval(function(){var V3u=U3u.data;T3u("L",V3u[V3u.length-1],U3u);W3u.on.handlers.change&&W3u.emit("change",{op:"TOOL",data:{state:g3u.cleanState("change"),pointerId:U3u.pointerId||"A:0",point:W3u.pointInPeerSceneFromCanvas(point),monitor:!!r3u.config.enableMonitorMouse,metaKey:Keyster.meta,shiftKey:Keyster.shift}});GEvent.CHANGE(e3u);W3u.gesture.router(e3u,G3u);},U3u.interval||30),p3u="airbrush-"+F3u;e3u.env.airbrushId=p3u;r3u.attachedEvents[p3u]={detach:function(){clearInterval(F3u);}};}function H3u(v3u){var P3u=r3u.attachedBrush;if(P3u){if(P3u===v3u){return;}o3u();}v3u.attach&&(P3u={},v3u.attach(P3u),r3u.attachedEvents.brushEvents=JSEvent.Group(P3u));r3u.attachedBrush=v3u;}function o3u(){var L3u=r3u.attachedEvents.brushEvents;L3u&&L3u.detach();r3u.attachedBrush=null;}var n3u=r3u.liveCursor,g3u=s3u.toolkit,h3u=E8u.tools.brush,y3u=sketch.PathBBox,I3u=sketch.Point,O3u=sketch.Matrix2D;r3u._attachBrush=H3u;r3u.getOrCreateTransaction=function(a3u){var R3u;1<arguments.length&&void 0!==arguments[1]?R3u=arguments[1]:t8u.usePointerThread[r3u.type]?(R3u=r3u.brushThreadId||sketch.getEventId(a3u),R3u=n3u.threadId?n3u.threadId:n3u.threadId=R3u):R3u=sketch.getEventId(a3u);if(!a3u.HOVER||s3u.gesture.get(R3u)){if(R3u=s3u.gesture.getOrCreate(a3u,r3u,{pointerId:R3u})){R3u.pointer&&(R3u=R3u.pointer);if(R3u.then){return o3u(),R3u;}var i3u=R3u.layer.brush;if("boolean"!==typeof i3u.hasFill){H3u(i3u);var i3u=R3u,x3u=i3u.layer.brush;x3u.hasFill=!!i3u.hasFill;x3u.hasStroke=!!i3u.hasStroke;}return R3u;}}};r3u.closePointerThread=function(Y3u){var k3u=s3u.gesture.get(n3u.threadId);if(k3u){var w3u=GEvent.END(k3u.gevent);s3u.gesture.router(w3u,k3u,Y3u);s3u.emit("path:end");}delete n3u.threadId;};r3u.onRecord=function(r5u){var o5u=r3u.getOrCreateTransaction(r5u);if(o5u&&o5u.layer){var A3u=o5u.layer;A3u.isCreating=!A3u.isEditing;A3u.isLiveCursor=false;var M5u=r5u.originalEvent;M5u&&(n3u.enabled&&n3u.detach(),r5u.START?r5u.env._attachKeyboardListener=Z3u(A3u):r5u.END&&r5u.env._attachKeyboardListener&&r5u.env._attachKeyboardListener.detach());var s5u=A3u.brush;s5u.pointerId=o5u.pointerId;var n5u=c3u(r5u);if(s5u.disableSnapToDirection||!Z8u(r5u,n5u)){var O5u=s5u.recordOnePoint,T5u=s5u.recordTwoPoints,c5u;c5u=n5u;var I5u=r5u.env,g5u=I5u._lastRecordedPoint;!g5u||.99<c5u.distance(g5u)?(I5u._lastRecordedPoint=c5u,c5u=true):c5u=void 0;if(O5u||T5u||c5u||!r5u.CHANGE){s5u.recordReflectionPoint&&(A3u.centerPoint=T8u(A3u));A3u.env.gevent=r5u;A3u.env.currentPoint=n5u;var I5u=r5u.START&&s5u.onPointerStart&&s5u.onPointerStart(r5u,n5u),g5u=r5u.CHANGE&&s5u.onPointerChange&&s5u.onPointerChange(r5u,n5u),y5u=r5u.END&&s5u.onPointerEnd&&s5u.onPointerEnd(r5u,n5u),H5u=r5u.END&&s5u.onClick&&r5u.isClick(15)&&s5u.onClick(r5u,n5u),h5u=r5u.END&&s5u.onDblClick&&r5u.isDblClick(15,500)&&s5u.onDblClick(r5u,n5u);if(!(I5u||g5u||y5u||H5u||h5u||s5u.onPointer&&s5u.onPointer(r5u,n5u))){if(I5u=M5u){(I5u=n3u.point)?(delete n3u.point,I5u=s3u.pointInCanvasFromPeerScene(I5u),I5u=c3u(I5u)):I5u=void 0;}I5u&&M3u(A3u,I5u);M3u(A3u,n5u);if(r5u.START){s5u.iterationAtStart=s5u.iteration,A3u.airbrush&&M5u&&E3u(o5u),I5u&&M5u&&(n5u=I5u),T3u("M",n5u,A3u);}else if(O5u){if(!r5u.END){return;}}else{T5u?(n5u.cmd="L",A3u.data.splice(1,1,n5u),delete A3u.env.pathComputed,r5u.END&&s5u.recordTwoPointsRotation&&(s5u=A3u.brush,n5u=A3u.data,T5u=new I3u(n5u[0]),c5u=new I3u(n5u[1]),O5u=I3u.angle(T5u,c5u),"objectBoundingBox"===h3u.units?A3u=I3u.atTimeOnLine(T5u,c5u,.5):(A3u=A3u.bbox.padding,A3u=new I3u(A3u,A3u).rotate(O5u+Math.PI),A3u=T5u.add(A3u)),T5u=new O3u(),T5u.rotateAt(-O5u,A3u),T5u.flatten(n5u),s5u._targetRotation=O5u)):c5u&&T3u("L",n5u,A3u);}r5u.END&&(A3u=r3u.attachedEvents,s5u=r5u.env.airbrushId,(n5u=A3u[s5u])&&n5u.detach&&(n5u.detach(),delete A3u[s5u]),A3u=o5u.layer,s5u=A3u.brush,n5u=A3u.data,r5u.originalEvent&&(r3u.config.iteration=s5u.iteration||1,r3u.config.seed=sketch.PseudoRandom.seed()),n5u.length?(delete A3u.env.pathComputed,delete A3u.env.pathOutline,A3u.data=K8u.roundPath(A3u.data),A3u.bbox.rotation=s5u._targetRotation||0,A3u.dirtyTransform=true,A3u.isCreating=false,A3u.iteration=s5u.iterationAtStart,r3u.clipPathToBoundingBox(A3u,A3u.bbox),s5u.recordReflectionPoint&&(A3u.centerPoint=T8u(A3u)),s3u.gesture.router(r5u,o5u,true)):s3u.gesture.remove(A3u),M5u&&!r5u.isTouch&&1===r5u.fingers&&(n3u.attach(M5u),n3u.showAtPoint(M5u)));}}}}};}function f8u(u5u,q5u){function Z5u(b5u,K5u){var J5u=0,j5u=0,S5u=K5u.layer,t5u;t5u=S5u.isCreating?false:"pattern"!==S5u.stroke.type?false:I8u.accumulatePaint[S5u.type];t5u&&(j5u=S5u.bbox,J5u=j5u.x+j5u.padding,j5u=j5u.y+j5u.padding);K5u._paintOffsetX=J5u;K5u._paintOffsetY=j5u;b5u&&J5u&&j5u&&b5u.translate(-J5u,-j5u);}function E5u(d5u,C5u,U5u){for(var l5u=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,Q5u=!!d5u.canvas,f5u=C5u.layer,W5u=f5u.isCreating,f5u="disco"===f5u.blend||"disco"===f5u.stroke.blend,X5u=C5u._paintOffsetX,G5u=C5u._paintOffsetY,z5u=void 0,B5u=void 0,m5u=void 0,D5u=void 0,F5u=U5u.length;l5u<F5u;l5u++){var N5u=U5u[l5u],z5u=N5u.cmd,D5u=C5u.iteration;X5u+G5u?(B5u=C5u.x=N5u.x+X5u,m5u=C5u.y=N5u.y+G5u):(B5u=C5u.x=N5u.x,m5u=C5u.y=N5u.y);var e5u=N5u.pressure,N5u=N5u.twist;0<=e5u&&(C5u.pressure=e5u);0<=N5u&&(C5u.twist=N5u);if(0===l5u||"M"===z5u){C5u.priorPoint=new c8u(B5u,m5u),Q5u&&(C5u.currentIndex=0),C5u.drawStart&&C5u.drawStart();}W5u&&Q5u&&(C5u.lastProcessedIndex=l5u);Q5u?(f5u&&(d5u.globalCompositeOperation=b8u[D5u%2]),C5u.drawChange(U5u)):d5u.push({cmd:z5u,iteration:D5u,x:B5u,y:m5u});C5u.iteration++;C5u.priorPoint=new c8u(B5u,m5u);Q5u&&C5u.currentIndex++;}W5u||(Q5u?C5u.drawEnd&&C5u.drawEnd():d5u.push({cmd:z5u,iteration:D5u,x:B5u,y:m5u}));return d5u;}q5u.renderFill=function(V5u,p5u,v5u){if(V5u&&v5u&&p5u.autoFill){var P5u=p5u.layer;s8u.invisible(P5u.fill)||(V5u.save(),V5u.beginPath(),p5u.drawPath?p5u.drawPath(V5u):sketch.drawPath(V5u,v5u),p5u=P5u.bbox,P5u.isCreating?V5u.translate(p5u.x,p5u.y):V5u.translate(-p5u.padding,-p5u.padding),V5u.scale(1/p5u.scale.x,1/p5u.scale.y),s8u.applyFill(V5u,P5u.fill,P5u,{applyLayerScaling:true}),V5u.restore());}};q5u.renderStroke=function(R5u,L5u,x5u){if(R5u&&x5u){var i5u=L5u.layer,a5u=i5u.stroke;if(!L5u.autoFill||!s8u.invisible(a5u)){R5u.save();Z5u(R5u,L5u);I8u.useLocalAlpha[i5u.type]&&(R5u.globalAlpha=i5u.opacity*(a5u.opacity||1));a5u=i5u.isCreating;if(!L5u.render||a5u&&L5u.isPatchBased){var k5u=0;a5u&&!i5u.isLiveCursor&&0<=L5u.lastProcessedIndex&&(k5u=L5u.lastProcessedIndex+1);E5u(R5u,L5u,x5u,k5u);}else{L5u.render(R5u,x5u);}R5u.restore();}}};q5u.getSegments=function(w5u){var Y5u=w5u.brush;w5u=w5u.env.pathComputed;Z5u(null,Y5u);return E5u([],Y5u,w5u.path,0);};}function N8u(I9u,A5u){function r9u(o9u,c9u,M9u,h9u){var O9u=o9u.layer,g9u=A5u._getOrUpdatePathClean(O9u),T9u=A5u.doc,H9u=T9u.gesture,q9u=T9u.pixelRatio,T9u=O9u.brush,Z9u=T9u.hasFill,y9u=T9u.hasStroke;h9u&&(Z9u&&(c9u.setTransform(1,0,0,1,0,0),c9u=H9u.setupCanvas(O9u,c9u,q9u),o9u.ctxFill=c9u,h9u.applySetTransform(c9u)),y9u&&c9u!==M9u&&(M9u.setTransform(1,0,0,1,0,0),M9u=H9u.setupCanvas(O9u,M9u,q9u,o9u.accumulatePaint),o9u.ctxStroke=M9u,h9u.applySetTransform(M9u)));o9u=T9u.context=M9u||c9u;T9u.load&&T9u.load();T9u.autoFill?(Z9u&&A5u.renderFill(c9u,T9u,g9u),y9u&&A5u.renderStroke(M9u,T9u,g9u)):A5u.renderStroke(o9u,T9u,g9u);T9u.afterRender&&T9u.afterRender();}function s9u(S9u,E9u){var u9u=E9u.layer,j9u=u9u.brush,J9u=E9u.ctxFill;E9u=E9u.ctxStroke;J9u&&n9u(S9u,J9u,j9u,u9u.fill);E9u&&n9u(S9u,E9u,j9u,u9u.stroke);}function n9u(b9u,C9u,K9u,t9u){b9u.globalAlpha=K9u.isEraser?K9u.layer.opacity:K9u.useAlphaCache&&"stroke"===t9u.method?t9u.opacity:1;b9u.drawImage(C9u.canvas,0,0);}A5u.renderGesture=function(N9u,B9u,f9u){var Q9u=A5u.doc,m9u=N9u.ctxFill,l9u=N9u.ctxStroke;m9u||l9u?N9u.needsPaintCacheContexts?N9u.hasBlendOperation?(r9u(N9u,m9u,l9u,f9u),f9u=Q9u.gesture.getCanvasBounds(N9u.layer,Q9u.pixelRatio),f9u=O8u.tempCheckout(f9u.width,f9u.height),s9u(f9u,N9u),B9u.setTransform(1,0,0,1,0,0),B9u.globalAlpha=1,B9u.drawImage(f9u.canvas,0,0),O8u.tempRecycle(f9u)):(r9u(N9u,m9u,l9u,f9u),B9u.setTransform(1,0,0,1,0,0),s9u(B9u,N9u)):r9u(N9u,B9u,B9u):sketch.debug&&console.error("renderGesture(...) Needs a context to draw into!",N9u);};}var Y6a=sketch.Point,y8u=sketch.Matrix2D,r8u=sketch.Point,q8u=sketch.style,M8u=sketch.Context2D,h8u=sketch.Matrix2D;j.initSymbol();j.initSymbol();j.initSymbolIterator();var o8u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(z9u){return typeof z9u;}:function(D9u){j.initSymbol();j.initSymbol();j.initSymbol();return D9u&&"function"===typeof Symbol&&D9u.constructor===Symbol&&D9u!==Symbol.prototype?"symbol":typeof D9u;},j8u=function(){return function(d9u,F9u){if(Array.isArray(d9u)){return d9u;}j.initSymbol();j.initSymbolIterator();if(Symbol.iterator in Object(d9u)){var X9u=[],W9u=true,G9u=false,e9u=void 0;try{j.initSymbol();j.initSymbolIterator();for(var U9u=d9u[Symbol.iterator](),p9u;!(W9u=(p9u=U9u.next()).done)&&(X9u.push(p9u.value),!F9u||X9u.length!==F9u);W9u=true){;}}catch(V9u){G9u=true,e9u=V9u;}finally{try{if(!W9u&&U9u["return"]){U9u["return"]();}}finally{if(G9u){throw e9u;}}}return X9u;}throw new TypeError("Invalid attempt to destructure non-iterable instance");};}(),n8u=sketch.vector,S8u=sketch.PATH_SMOOTHING,g8u=sketch.PATH_SIMPLIFY,A6a=sketch.Point,t8u=sketch.detect,E8u=sketch.feature,K8u=sketch.vector,I8u=sketch.detect,s8u=sketch.style,c8u=sketch.Point,b8u=["lighter","source-over"],O8u=sketch.Context2D,u8u=sketch.detect,J8u=sketch.PathBBox,H8u=sketch.Matrix2D;(function(P9u){function v9u(i9u){function k9u(A9u){var r1u=R9u._getOrUpdatePathClean(A9u);r1u.length||(r1u=A9u.data);var s1u=A9u.brush;if(s1u&&s1u.getBoundingBox){return s1u.getBoundingBox(r1u).asRect();}A9u=A9u.env||(A9u.env={});A9u=A9u.pathComputed||(A9u.pathComputed={});return A9u.bounds?A9u.bounds:A9u.bounds=new J8u(r1u).asRect();}function a9u(I1u,T1u,c1u){if(T1u||c1u){I1u.pathHash=null;I1u.env.pathComputed=null;for(var o1u=I1u.data,O1u=o1u.length,M1u=0;M1u<O1u;M1u++){var n1u=o1u[M1u];n1u.x-=T1u;n1u.y-=c1u;Number.isFinite(n1u.x1+n1u.y1)&&(n1u.x1-=T1u,n1u.y1-=c1u);Number.isFinite(n1u.x2+n1u.y2)&&(n1u.x2-=T1u,n1u.y2-=c1u);}if(I1u=I1u.centerPoint){I1u.x-=T1u,I1u.y-=c1u;}}}function x9u(h1u){var q1u=h1u.jitterScale&&h1u.jitterScale[1]||1,y1u=h1u.jitterOffset&&h1u.jitterOffset[1]||0,y1u=2*Math.sqrt(y1u*y1u+y1u*y1u),H1u=0;if(h1u.diameter){var g1u;g1u=(g1u=h1u.brush)&&g1u.getDiameter?g1u.getDiameter():(g1u=h1u.diameter)?Number.isFinite(g1u)?g1u:Number.isFinite(g1u.value)?g1u.value:Number.isFinite(g1u[0])?g1u[1]:0:0;H1u+=g1u;}else{h1u.lineWidth&&(H1u+=h1u.lineWidth||0);}(g1u=h1u.stroke)&&u8u.brushExpandForStroke[h1u.type]&&(H1u+=g1u.getOuterWidth());return Math.ceil(((H1u+2*(h1u.blur||0))*q1u+y1u)/2);}var R9u=this,w9u=sketch.feature,Y9u=i9u.scene;R9u.doc=i9u;R9u._attributes=L9u;R9u.clipPathToBoundingBox=function(j1u){var E1u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new sketch.LayerBBox(),Z1u=k9u(j1u),J1u=Z1u.x,S1u=Z1u.y,K1u=Z1u.width,Z1u=Z1u.height,u1u=x9u(j1u);E1u.x=J1u-u1u;E1u.y=S1u-u1u;E1u.width=K1u+2*u1u;E1u.height=Z1u+2*u1u;E1u.padding=u1u;a9u(j1u,J1u,S1u);j1u.dirtyTransform=true;j1u.inBounds=null;return E1u;};R9u.translatePath=a9u;R9u.getInnerPadding=x9u;R9u.updateBoundingBox=function(N1u){var t1u=k9u(N1u),l1u=t1u.x,Q1u=t1u.y,f1u=t1u.width,t1u=t1u.height,b1u=N1u.bbox,B1u=x9u(N1u),f1u=f1u+2*B1u,t1u=t1u+2*B1u,m1u,C1u;if(N1u.isCreating||N1u.isEditingPath){m1u=l1u-B1u,C1u=Q1u-B1u;}else{m1u=f1u/b1u.width;C1u=t1u/b1u.height;var z1u=b1u.pointAt(.5,.5);C1u=H8u.scaleAt(m1u,C1u,z1u,-b1u.rotation).point2d(b1u.x,b1u.y);m1u=C1u.x;C1u=C1u.y;(-.01>l1u||.01<l1u||-.01>Q1u||.01<Q1u)&&a9u(N1u,l1u,Q1u);}if(m1u!==b1u.x||C1u!==b1u.y||f1u!==b1u.width||t1u!==b1u.height||B1u!==b1u.padding){b1u.x=m1u,b1u.y=C1u,b1u.width=f1u,b1u.height=t1u,b1u.padding=B1u,N1u.dirtyTransform=true,N1u.inBounds=null;}};R9u.drawController=function(D1u){var d1u=i9u.tool.attachedBrush;if(d1u&&d1u.drawController){return D1u.save(),Y9u.setTransform(D1u),d1u.drawController(D1u),D1u.restore(),true;}};R9u.hashOfControls=function(){var X1u=i9u.tool.attachedBrush;return X1u&&X1u.hashOfControls?X1u.hashOfControls():null;};w9u.debug&&(R9u.startEditing=function(W1u){return v9u.editPath(i9u,W1u);});C8u(i9u,R9u);z8u(i9u,R9u);l8u(i9u,R9u);m8u(i9u,R9u);B8u(i9u,R9u);f8u(i9u,R9u);N8u(i9u,R9u);return this;}var L9u=P9u.attributes;P9u=P9u.toolId;D8u(v9u);sketch.tools[P9u]=v9u;}({toolId:"brush",attributes:{origin:"object",contiguous:"object",tolerance:"object",alignToPath:"boolean",jitterOffset:"range",jitterRotation:"range",jitterScale:"range",curved:"boolean",mode:"number",content:"string",tileMode:"string",blur:"number",spread:"number",iterations:"number",increment:"number",airbrush:"boolean",src:"string",srcs:"object",interval:"number",closePath:"boolean",pathSimplify:"object",pathSmoothing:"object",pathSpacing:"object",data:"path",path:"path",pathHash:"string",diameter:"number",radius:"number",iteration:"number",lineWidth:"number",brushRenderer:"string",centerPoint:"object",mirrorInSector:"boolean",sides:"number",tipAngle:"number"},construct:function(U1u){}}));}();void function(){sketch.tools.brush_pencil=function(G1u,e1u){function p1u(L1u){var P1u=e1u.bbox,v1u=e1u.isCreating||e1u.isEditingPath;V1u.apply(L1u,e1u,{path2D:arguments[3],lineCap:"round",lineJoin:"round",lineWidth:e1u.diameter,x:(1<arguments.length&&void 0!==arguments[1]?arguments[1]:0)+(v1u?P1u.x:-P1u.padding),y:(2<arguments.length&&void 0!==arguments[2]?arguments[2]:0)+(v1u?P1u.y:-P1u.padding),width:P1u.width,height:P1u.height});}G1u={};var F1u=sketch.drawPath,V1u=sketch.style;G1u.autoFill=false;G1u.ensurePathMovement=true;G1u.ghostDistance=.1;G1u.pathSimplify={type:0,value:[15,1]};G1u.pathSmoothing={type:0,value:.5};G1u.render=function(R1u,x1u,i1u,a1u){R1u.beginPath();F1u(R1u,x1u,i1u,a1u);p1u(R1u,i1u,a1u);};G1u.drawPath=F1u;G1u.applyStyle=p1u;return G1u;};}();void function(){sketch.tools.brush_paintbrush=function(Y1u,k1u){var w1u={},A1u=sketch.style,r4u=sketch.Matrix2D,s4u=sketch.Point;w1u.ensurePathMovement=true;w1u.ghostDistance=.1;w1u.pathSimplify={type:0,value:[15,1]};w1u.pathSmoothing={type:0,value:.5};w1u.render=function(n4u,E4u){var H4u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,q4u=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,g4u=Y1u.pixelRatio,y4u=Y1u.scale*g4u,T4u=k1u.bbox,Z4u=k1u.isCreating,o4u=k1u.diameter||10,M4u=k1u.blur||0,h4u=new r4u(n4u.currentTransform),O4u=w1u.sectorBounds||{},I4u=void 0,c4u=new s4u(0,0);M4u&&((I4u=O4u.bottom)?(c4u=I4u.x,O4u=I4u.y,Z4u?(c4u+=-T4u.x+o4u/2,O4u+=-T4u.y+o4u/2):(c4u+=Math.ceil(M4u)+o4u,O4u+=Math.ceil(M4u)+o4u)):(c4u=T4u.width-Math.ceil(M4u),O4u=T4u.height-Math.ceil(M4u)),c4u*=T4u.scale.x,O4u*=T4u.scale.y,c4u+=Math.min(0,T4u.x),O4u+=Math.min(0,T4u.y),T4u=(0<T4u.scale.x===0<T4u.scale.y?-1:1)*T4u.rotation,g4u=1/g4u,I4u=h4u.clone(),I4u.e=0,I4u.f=0,c4u=I4u.clone().rotate(T4u).scale(g4u).invert().point2d(c4u,O4u));n4u.save();n4u.beginPath();h4u=k1u.stroke;g4u=w1u.isEraser?"black":"color"===h4u.type?"passthrough"===h4u.color?"black":h4u.color:"black";M4u?(I4u=I4u.point2d(c4u),n4u.strokeStyle="black",n4u.shadowBlur=Math.abs(M4u*y4u),n4u.shadowColor=g4u,n4u.shadowOffsetX=I4u.x,n4u.shadowOffsetY=I4u.y):n4u.strokeStyle=g4u;n4u.lineCap="round";n4u.lineJoin="round";n4u.lineWidth=o4u;w1u.useAlphaCache||(n4u.globalAlpha=h4u.opacity);n4u.beginPath();sketch.drawPath(n4u,E4u,H4u-c4u.x,q4u-c4u.y);n4u.stroke();n4u.shadowBlur=0;"color"!==k1u.stroke.type&&(M4u=k1u.isCreating||k1u.isEditingPath,I4u=k1u.bbox,y4u=I4u.width,o4u=I4u.height,H4u+=M4u?I4u.x:-I4u.padding,q4u+=M4u?I4u.y:-I4u.padding,n4u.beginPath(),n4u.rect(H4u,q4u,y4u,o4u),A1u.applyFill(n4u,k1u.stroke,k1u,{opacity:1,blend:"source-atop",x:H4u,y:q4u,width:y4u,height:o4u}));n4u.restore();};return w1u;};}();void function(){function m4u(z4u,D4u,d4u,U4u){var W4u=D4u[0],X4u=d4u.imperfection;X4u&&(D4u[0]=new N4u.Record());d4u.cutout?(z4u.apply(z4u,D4u.concat(false)),U4u(),z4u.apply(z4u,D4u.concat(true))):z4u.apply(z4u,D4u);X4u&&(z4u=d4u.seed||(d4u.seed=sketch.PseudoRandom.seed()),u4u.imperfect(W4u,X4u,z4u,D4u[0].path));}function S4u(F4u,G4u,e4u){m4u(F4u,G4u,e4u,function(){G4u[3]*=e4u.cutout;});}function Q4u(P4u,p4u,V4u){m4u(P4u,p4u,V4u,function(){var v4u=V4u.cutout;p4u[1]+=p4u[3]*(1-v4u)/2;p4u[2]+=p4u[4]*(1-v4u)/2;p4u[3]*=v4u;p4u[4]*=v4u;});}function l4u(c7u,I7u,s7u,Y4u,x4u){var w4u=x4u.type;x4u=2*Y4u;var L4u=f4u[w4u];if("string"===typeof L4u){var L4u=sketch.SVG.svgPathToVOB(L4u),k4u=new sketch.PathBBox(L4u).asRect(),L4u=f4u[w4u]={path:L4u,bounds:k4u};}for(var w4u=L4u.path,i4u=L4u.bounds,L4u=i4u.x,k4u=i4u.y,A4u=i4u.width,i4u=i4u.height,n7u=[],r7u=0,T7u=w4u.length;r7u<T7u;r7u++){var a4u={},R4u=w4u[r7u];a4u.cmd=R4u.cmd;a4u.x=(R4u.x-L4u)/A4u*x4u+I7u-Y4u;a4u.y=(R4u.y-k4u)/ i4u*x4u+s7u-Y4u;Number.isFinite(R4u.x1+R4u.y1)&&(a4u.x1=(R4u.x1-L4u)/A4u*x4u+I7u-Y4u,a4u.y1=(R4u.y1-k4u)/ i4u*x4u+s7u-Y4u);Number.isFinite(R4u.x2+R4u.y2)&&(a4u.x2=(R4u.x2-L4u)/A4u*x4u+I7u-Y4u,a4u.y2=(R4u.y2-k4u)/ i4u*x4u+s7u-Y4u);n7u.push(a4u);}sketch.drawPath(c7u,n7u);}var C4u=Math.PI/180,J4u=sketch.detect,t4u=sketch.style,j4u=sketch.tools,B4u=sketch.util,N4u=sketch.vector,b4u=sketch.Point,u4u=N4u.Shape;j4u.shape=function(M7u){function g7u(Z7u,u7u,b7u,E7u,t7u,J7u){Z7u.width=u7u;Z7u.height=b7u;J7u&&(Z7u.scale.x=1,Z7u.scale.y=J4u.useNonUniform[J7u]?.5:1);var S7u=M7u.zoom,K7u=M7u.viewport,j7u=E7u.x-K7u.paddingLeft/S7u;E7u=E7u.y-K7u.paddingTop/S7u;t7u||J7u?(Z7u.x=j7u-u7u/2*Z7u.scale.x,Z7u.y=E7u-b7u/2*Z7u.scale.y,"userSpaceOnUse"===Z7u.units&&(u7u=new b4u(j7u,E7u),b4u.rotateAt(Z7u,u7u,Z7u.rotation))):(Z7u.x=j7u,Z7u.y=E7u);}function H7u(C7u){var l7u=this.type,Q7u=j4u["shape_"+l7u];if("function"!==typeof Q7u){console.error("shape.render(...) "+l7u);}else{var N7u=this.bbox,m7u=N7u.scale.x,B7u=N7u.scale.y,z7u=N7u.width/2,N7u=N7u.height/2,D7u=Math.max(z7u,N7u);if(m7u===B7u||q7u(this)){C7u.save(),C7u.beginPath(),Q7u(C7u,z7u,N7u,D7u,this),C7u.scale(1/m7u,1/B7u),t4u.apply(C7u,this,{blend:C7u.globalCompositeOperation});}else{var f7u=this.env.flattened;if(!f7u||this.isCreating||this.isEditing||f7u.hash!==this.hash){f7u={};f7u.hash=this.hash;var X7u=new N4u.Record(),W7u=new sketch.Matrix2D().scale(m7u,B7u),d7u=f7u.paths=X7u.paths;Q7u(X7u,z7u,N7u,D7u,this);d7u.forEach(function(U7u,G7u){U7u=W7u.flatten(U7u);"spiral"===l7u&&(U7u=simplify2.douglasPeucker(U7u,.5));d7u[G7u]=U7u;});}C7u.save();C7u.scale(1/m7u,1/B7u);t4u.apply(C7u,this,{applyLayerScaling:true,blend:C7u.globalCompositeOperation,draw:function(e7u){e7u.beginPath();sketch.drawPaths(e7u,f7u.paths);}});}C7u.restore();}}function q7u(F7u){var p7u=F7u.stroke;return(F7u=F7u.fill)&&"color"===F7u.type&&t4u.invisible(p7u);}var o7u=this,O7u=sketch.feature.tools.shape,h7u=M7u.toolkit,y7u;for(y7u in J4u.symbol){sketch.tools.register({type:y7u,extends:"basicShape"});}o7u._attributes={angle:"number",anticlockwise:"number",coils:"number",cutout:"number",whirl:"number",imperfection:"number",m:"number",n1:"number",n2:"number",n3:"number",points:"number",roundness:"number",sides:"number",slope:"number",spread:"number",src:"string"};o7u._enable=function(V7u){sketch.keyboard.enable(M7u,V7u);V7u.createOrTransform=o7u.createLayerOrTransformScene(o7u.onRecord,{maxFingers:o7u.config.maxFingersInteracting||Number.MAX_SAFE_INTEGER});};o7u.loadLayer=function(P7u){var v7u=P7u.type;return M7u.toolkit.config[v7u]?t4u.loadPaintStack(P7u).then(function(){if(J4u.symbol[v7u]){var R7u=M7u.tools.clipart,L7u=j4u["shape_"+v7u];L7u&&(P7u.src=L7u);return R7u.loadLayer(P7u);}P7u.dirtyHash=true;P7u.render=H7u;return P7u;}):Promise.reject("The shape '"+v7u+"' does not exist.");};o7u.onRecord=function(k7u){var I6u=M7u.gesture.getOrCreate(k7u,o7u);if(I6u&&(I6u.pointer&&(I6u=I6u.pointer),!I6u.then)){var a7u=M7u.zoom*M7u.scale,T6u=new b4u(k7u.start).divide(a7u),Y7u=new b4u(k7u).divide(a7u),s6u=Y7u.x-T6u.x,A7u=Y7u.y-T6u.y,x7u=Math.abs(s6u),n6u=Math.abs(A7u),a7u=I6u.layer,M6u=a7u.type,c6u=J4u.useNonUniform[M6u],i7u=isFinite(k7u.metaKey)?k7u.metaKey:Keyster.meta,O6u=!(isFinite(k7u.shiftKey)?k7u.shiftKey:Keyster.shift)&&!i7u&&!c6u,o6u=c6u?i7u:!i7u,i7u=a7u.bbox||(a7u.bbox=new sketch.LayerBBox()),r6u=O7u.units;r6u&&(i7u.units=r6u);var r6u="objectBoundingBox"===r6u||!c6u,w7u=void 0;"rectangle"===M6u?(s6u=M7u.zoom,A7u=M7u.viewport,i7u.x=Math.min(T6u.x,Y7u.x)-A7u.paddingLeft/s6u,i7u.y=Math.min(T6u.y,Y7u.y)-A7u.paddingTop/s6u,o6u?(i7u.width=Math.max(1,x7u,n6u),i7u.height=Math.max(1,x7u,n6u)):(i7u.width=Math.max(1,x7u),i7u.height=Math.max(1,n6u))):(Y7u=0>s6u?-1:1,w7u=0>A7u?-1:1,o6u||(x7u>n6u?w7u*=n6u/x7u||0:Y7u*=x7u/n6u||0),x7u=c6u?Math.max(x7u,n6u):Math.sqrt(s6u*s6u+A7u*A7u),r6u&&(Y7u=Math.abs(Y7u),w7u=Math.abs(w7u),x7u*=2),i7u.width=x7u,i7u.height=x7u,i7u.scale=new b4u(Y7u,w7u),i7u.rotation=O6u?-Math.atan2(s6u,A7u):0,w7u=h7u.constrainBox(a7u,true),g7u(i7u,w7u.width,w7u.height,T6u,r6u));a7u.dirtyTransform=true;a7u.highRes=!k7u.END;a7u.isCreating=!k7u.END;if(k7u.END){if(O7u.useAddByClick){w7u&&w7u.tooSmall&&g7u(i7u,O7u.defaultWidth,O7u.defaultHeight,T6u,r6u,M6u);}else if(!k7u.hasMoved()){M7u.gesture.remove(a7u);return;}M7u.gesture.router(k7u,I6u,true);}}};o7u.getOutlinePath=function(y6u){var g6u=y6u.bbox,Z6u=Math.max(g6u.width/2,g6u.height/2),H6u=j4u["shape_"+y6u.type];if(H6u){var q6u=g6u.pointAt(.5,.5),h6u=new N4u.Record();h6u.translate(q6u.x,q6u.y);h6u.rotate(g6u.rotation);h6u.scale(g6u.scale.x,g6u.scale.y);H6u(h6u,0,0,Z6u,y6u);return[h6u.path];}};};var K4u={ring:function(J6u,S6u,K6u,j6u,E6u){var u6u=E6u.angle;u4u.ring(J6u,S6u,K6u,j6u*(E6u.cutout||0),j6u,u6u[0]*C4u,u6u[1]*C4u,!!E6u.anticlockwise);},pie:function(C6u,N6u,f6u,B6u,t6u){var b6u=t6u.angle;u4u.pie(C6u,N6u,f6u,B6u,b6u[0]*C4u,b6u[1]*C4u,!!t6u.anticlockwise);},circle:function(m6u,l6u,Q6u,z6u,D6u){S4u(u4u.circle,[m6u,l6u,Q6u,z6u],D6u);},triangle:function(d6u,X6u,W6u,U6u,G6u){S4u(u4u.triangle,[d6u,X6u,W6u,U6u],G6u);},regularPolygon:function(F6u,p6u,V6u,P6u,e6u){S4u(u4u.regularPolygon,[F6u,p6u,V6u,P6u,Math.round(e6u.sides)],e6u);},gear:function(L6u,R6u,i6u,a6u,v6u){S4u(u4u.gear,[L6u,R6u,i6u,a6u,Math.round(v6u.sides),v6u.slope],v6u);},star:function(k6u,w6u,Y6u,A6u,x6u){S4u(u4u.star,[k6u,w6u,Y6u,A6u,Math.round(x6u.sides),x6u.slope,x6u.whirl],x6u);},burst:function(s8l,n8l,I8l,T8l,r8l){S4u(u4u.burst,[s8l,n8l,I8l,T8l,Math.round(r8l.sides),r8l.slope,r8l.whirl],r8l);},radialBurst:function(M8l,o8l,O8l,g8l,c8l){u4u.radialBurst(M8l,o8l,O8l,0,g8l,Math.round(c8l.sides),c8l.spread);},spiral:function(y8l,H8l,q8l,Z8l,h8l){u4u.spirals(y8l,H8l,q8l,Z8l,Math.round(h8l.sides),h8l.coils,1-h8l.spread/100);},supershape:function(u8l,j8l,J8l,S8l,E8l){S4u(u4u.supershape,[u8l,j8l,J8l,S8l,E8l.points,Math.round(E8l.m),E8l.n1,E8l.n2,E8l.n3],E8l);},heart:function(K8l,b8l,t8l,C8l,N8l){l4u.apply(void 0,arguments);},square:function(W8l,X8l,D8l,z8l,Q8l){var m8l=Q8l.bbox;z8l=m8l.width;var m8l=m8l.height,l8l=z8l/2,B8l=m8l/2;X8l-=l8l;D8l-=B8l;var f8l=Q8l.roundness;if(f8l){var d8l=f8l*Math.max(l8l,B8l),l8l=f8l*Math.max(l8l,B8l),f8l=Q8l.bbox.scale,B8l=Math.abs(f8l.x),f8l=Math.abs(f8l.y);B8l>f8l?l8l*=B8l/f8l:d8l*=f8l/B8l;Q4u(u4u.roundRect,[W8l,X8l,D8l,z8l,m8l,d8l,l8l],Q8l);}else{Q4u(u4u.rect,[W8l,X8l,D8l,z8l,m8l],Q8l);}}};K4u.ellipse=K4u.circle;K4u.rectangle=K4u.square;B4u.forEach(K4u,function(U8l,G8l){j4u["shape_"+G8l]=U8l;});j4u.shape.register=function(e8l,F8l){"function"===typeof F8l?(J4u._set("shape",e8l),j4u["shape_"+e8l]=F8l):"string"===typeof F8l&&(F8l.startsWith("data:")?(J4u._set("symbol",e8l),j4u["shape_"+e8l]=F8l):(f4u[e8l]=F8l,J4u._set("shape",e8l),j4u["shape_"+e8l]=l4u));};var f4u={heart:"M137.8,0C68.5,0,2.4,58.4,0.1,149.9c-2.3,91.8,59.7,215.4,247.1,341.4c187.5-125.9,248.9-249.6,246-341.4C490.1,52.6,447,1.2,340.8,1.2c-60.8,0-82.3,42.3-94.8,72.1C233.6,43.5,207,0,137.8,0z"};j4u.shape.register("octopus","data:image/svg+xml;base64,"+global.btoa('\n\t<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 5 5" enable-background="new 0 0 5 5" xml:space="preserve">\n\t\t<defs>\n\t\t\t<path id="symbol_octopus" d="M3.834,1.38C3.815,1.395,3.827,1.424,3.852,1.419c0.309-0.066,0.494,0.235,0.213,0.427    c-0.187,0.127-0.412-0.04-0.516-0.19c-0.024-0.035-0.045-0.072-0.065-0.11c0,0,0-0.001,0-0.001    C3.33,1.214,3.192,0.783,2.678,0.783c-0.514,0-0.707,0.59-0.825,0.835V1.62C1.802,1.732,1.748,1.844,1.671,1.944    C1.539,2.116,1.348,2.221,1.13,2.229C1.02,2.234,0.928,2.157,0.855,2.085C0.695,1.926,0.911,1.56,1.087,1.77    c0.01,0.01,0.022-0.002,0.021-0.013c-0.043-0.28-0.332-0.194-0.463-0.032C0.43,1.991,0.653,2.293,0.9,2.426    C1.177,2.574,1.608,2.421,1.83,2.221C1.815,2.24,1.8,2.257,1.785,2.276C1.572,2.542,1.315,2.694,1.049,2.895    c-0.163,0.122-0.292,0.36-0.228,0.563c0.046,0.149,0.221,0.185,0.346,0.128c0.004-0.001,0.005-0.009,0-0.009    C0.871,3.534,0.958,3.271,1.123,3.143C1.21,3.075,1.298,3.028,1.399,2.985c0.177-0.075,0.378-0.158,0.521-0.288    C2.001,2.624,2.083,2.545,2.16,2.463C2.171,2.582,2.184,2.7,2.181,2.81C2.174,2.989,2.146,3.176,2.05,3.329    C1.981,3.441,1.852,3.473,1.732,3.468C1.545,3.459,1.631,3.309,1.646,3.23c0.001-0.005-0.005-0.009-0.01-0.006    c-0.141,0.09-0.154,0.249-0.069,0.386C1.689,3.808,2.021,3.737,2.17,3.616c0.225-0.183,0.329-0.433,0.369-0.715    c0.003-0.024,0.006-0.048,0.008-0.072c0.002,0.02,0.004,0.041,0.007,0.061c0.022,0.192,0.121,0.387,0.205,0.559    c0.048,0.099,0.084,0.192,0.105,0.3c0.041,0.205-0.067,0.461-0.318,0.299C2.542,4.045,2.538,4.051,2.539,4.055    c0.057,0.125,0.213,0.212,0.346,0.13c0.182-0.112,0.24-0.376,0.198-0.575c-0.069-0.326-0.164-0.609-0.15-0.95    c0.003-0.074,0.002-0.146,0.005-0.218c0.09,0.086,0.188,0.163,0.303,0.211c0.171,0.072,0.45,0.13,0.313,0.383    c-0.098,0.182-0.226,0.458-0.04,0.636c0.106,0.103,0.273,0.139,0.358-0.003c0.007-0.012-0.008-0.024-0.019-0.02    C3.621,3.734,3.621,3.445,3.692,3.313c0.054-0.101,0.13-0.186,0.183-0.288c0.08-0.154,0-0.355-0.113-0.468    c-0.075-0.076-0.16-0.13-0.251-0.183C3.501,2.37,3.493,2.364,3.484,2.359c0,0,0,0,0,0c-0.217-0.144-0.25-0.33-0.057-0.218    c0.004,0.002,0.008,0.005,0.012,0.007c0,0,0,0,0,0C3.447,2.153,3.454,2.157,3.461,2.16c0.214,0.112,0.484,0.114,0.701-0.016    c0.208-0.125,0.353-0.387,0.244-0.63C4.289,1.255,4.049,1.218,3.834,1.38z M2.449,1.749c-0.044,0-0.08-0.036-0.08-0.08    s0.036-0.08,0.08-0.08c0.044,0,0.081,0.036,0.081,0.08S2.494,1.749,2.449,1.749z M2.832,1.668c0-0.044,0.036-0.08,0.081-0.08    c0.044,0,0.08,0.036,0.08,0.08s-0.036,0.08-0.08,0.08C2.868,1.749,2.832,1.713,2.832,1.668z" style="vector-effect: non-scaling-stroke;" />\n\t\t</defs>\n\t\t<use xlink:href="#symbol_octopus" style="fill: none; stroke: inherit; vector-effect: non-scaling-stroke;" />\n\t\t<use xlink:href="#symbol_octopus" style="fill: inherit; stroke: none;" />\n\t</svg>\n'));}();void function(){var p8l=sketch.SVG||(sketch.SVG={});p8l.svgPathFromVOB=function v8l(a8l){var R8l="";if(Array.isArray(a8l[0])){for(var L8l=0,i8l=a8l.length;L8l<i8l;L8l++){R8l+=v8l(a8l[L8l]);}return R8l;}for(var i8l="",x8l=0,w8l=a8l.length;x8l<w8l;x8l++){if(L8l=a8l[x8l]){var k8l=L8l.cmd||L8l.type;switch(k8l){case"M":"M"!==i8l&&(R8l+="M");R8l+=L8l.x+" "+L8l.y+" ";break;case"L":"L"!==i8l&&(R8l+="L");R8l+=L8l.x+" "+L8l.y+" ";break;case"C":"C"!==i8l&&(R8l+="C");R8l+=L8l.x1+" "+L8l.y1+" "+L8l.x2+" "+L8l.y2+" "+L8l.x+" "+L8l.y+" ";break;case"Q":"Q"!==i8l&&(R8l+="Q");R8l+=L8l.x1+" "+L8l.y1+" "+L8l.x+" "+L8l.y+" ";break;case"Z":case"z":R8l+="z";}i8l=k8l;}}return R8l;};p8l.svgPolygonFromVOB=function Y8l(s2l){var r2l="",I2l=s2l.length;if(Array.isArray(s2l[0])){for(var A8l=0;A8l<I2l;A8l++){r2l+="M"+Y8l(s2l[A8l])+"z";}return r2l;}for(var n2l=0;n2l<I2l;n2l++){if(A8l=s2l[n2l]){r2l+=A8l.x+","+A8l.y+" ";}}return r2l.slice(0,-1);};p8l.svgPolygonToVOB=function(T2l){if("string"===typeof T2l){var c2l=T2l.match(/[0-9]*/gi);T2l=[];for(var M2l=0,o2l=c2l.length;M2l<o2l;M2l++){c2l[M2l]&&T2l.push(parseFloat(c2l[M2l]));}}if(T2l&&T2l.length){c2l=[];M2l=T2l[0];o2l=T2l[1];c2l.push({cmd:"M",x:M2l,y:o2l});for(var O2l=2,g2l=T2l.length;O2l<g2l;O2l+=2){c2l.push({cmd:"L",x:T2l[O2l],y:T2l[O2l+1]});}c2l.push({cmd:"Z",x:M2l,y:o2l});return c2l;}};p8l.svgPathToVOB=function(j2l){if("string"===typeof j2l){j2l=j2l.replace(/([^e])([+-])/gi,"$1 $2");j2l=j2l.match(/([mlhvcsqtaz])|(([\-0-9]*\.?[0-9]*)|(\.[0-9]+))(e[+-]?[0-9]+)?/gi);for(var b2l=[],K2l=0,t2l=j2l.length;K2l<t2l;K2l++){j2l[K2l]&&b2l.push(j2l[K2l]);}j2l=b2l;for(var J2l,H2l=b2l=0,y2l=0,t2l=K2l=0,q2l=void 0,Z2l=void 0,u2l="",S2l=0,E2l=[];J2l=j2l[b2l];){var h2l=[],C2l=P8l[J2l.toLowerCase()]+1;if(C2l){for(var S2l=1,N2l=C2l;S2l<N2l;S2l++){h2l.push(parseFloat(j2l[b2l+S2l]));}S2l=C2l;b2l+=C2l;}else{if(1===S2l){break;}J2l=0;for(C2l=S2l-1;J2l<C2l;J2l++){h2l.push(parseFloat(j2l[b2l+J2l]));}J2l="m"===u2l?"l":"M"===u2l?"L":u2l;b2l+=S2l-1;}if(J2l){switch(J2l){case"M":H2l=h2l[0];y2l=h2l[1];K2l=H2l;t2l=y2l;q2l=Z2l=null;E2l.push({cmd:"M",x:H2l,y:y2l});break;case"m":H2l+=h2l[0];y2l+=h2l[1];K2l=H2l;t2l=y2l;q2l=Z2l=null;E2l.push({cmd:"M",x:H2l,y:y2l});break;case"L":H2l=h2l[0];y2l=h2l[1];q2l=Z2l=null;E2l.push({cmd:"L",x:H2l,y:y2l});break;case"l":H2l+=h2l[0];y2l+=h2l[1];q2l=Z2l=null;E2l.push({cmd:"L",x:H2l,y:y2l});break;case"H":H2l=h2l[0];q2l=Z2l=null;E2l.push({cmd:"L",x:H2l,y:y2l});break;case"h":H2l+=h2l[0];q2l=Z2l=null;E2l.push({cmd:"L",x:H2l,y:y2l});break;case"V":y2l=h2l[0];q2l=Z2l=null;E2l.push({cmd:"L",x:H2l,y:y2l});break;case"v":y2l+=h2l[0];q2l=Z2l=null;E2l.push({cmd:"L",x:H2l,y:y2l});break;case"C":H2l=h2l[4];y2l=h2l[5];q2l=h2l[2];Z2l=h2l[3];E2l.push({cmd:"C",x1:h2l[0],y1:h2l[1],x2:h2l[2],y2:h2l[3],x:h2l[4],y:h2l[5]});break;case"c":0===h2l[4]&&0===h2l[5]&&(h2l[4]+=1E-4,h2l[5]+=1E-4);E2l.push({cmd:"C",x1:h2l[0]+H2l,y1:h2l[1]+y2l,x2:h2l[2]+H2l,y2:h2l[3]+y2l,x:h2l[4]+H2l,y:h2l[5]+y2l});q2l=H2l+h2l[2];Z2l=y2l+h2l[3];H2l+=h2l[4];y2l+=h2l[5];break;case"S":null!==q2l&&u2l.match(/[sc]/i)||(q2l=H2l,Z2l=y2l);E2l.push({cmd:"C",x1:H2l-(q2l-H2l),y1:y2l-(Z2l-y2l),x2:h2l[0],y2:h2l[1],x:h2l[2],y:h2l[3]});q2l=h2l[0];Z2l=h2l[1];H2l=h2l[2];y2l=h2l[3];break;case"s":0===h2l[2]&&0===h2l[3]&&(h2l[2]+=1E-4,h2l[3]+=1E-4);null!==q2l&&u2l.match(/[sc]/i)||(q2l=H2l,Z2l=y2l);E2l.push({cmd:"C",x1:H2l-(q2l-H2l),y1:y2l-(Z2l-y2l),x2:H2l+h2l[0],y2:y2l+h2l[1],x:H2l+h2l[2],y:y2l+h2l[3]});q2l=H2l+h2l[0];Z2l=y2l+h2l[1];H2l+=h2l[2];y2l+=h2l[3];break;case"Q":q2l=h2l[0];Z2l=h2l[1];H2l=h2l[2];y2l=h2l[3];E2l.push({cmd:"Q",x1:h2l[0],y1:h2l[1],x:h2l[2],y:h2l[3]});break;case"q":0===h2l[2]&&0===h2l[3]&&(h2l[2]+=1E-4,h2l[3]+=1E-4);E2l.push({cmd:"Q",x1:h2l[0]+H2l,y1:h2l[1]+y2l,x:h2l[2]+H2l,y:h2l[3]+y2l});q2l=H2l+h2l[0];Z2l=y2l+h2l[1];H2l+=h2l[2];y2l+=h2l[3];break;case"T":null!==q2l&&u2l.match(/[qt]/i)?(q2l=H2l-(q2l-H2l),Z2l=y2l-(Z2l-y2l)):(q2l=H2l,Z2l=y2l);E2l.push({cmd:"Q",x1:q2l,y1:Z2l,x:h2l[0],y:h2l[1]});H2l=h2l[0];y2l=h2l[1];break;case"t":0===h2l[0]&&0===h2l[1]&&(h2l[0]+=1E-4,h2l[1]+=1E-4);null!==q2l&&u2l.match(/[qt]/i)?(q2l=H2l-(q2l-H2l),Z2l=y2l-(Z2l-y2l)):(q2l=H2l,Z2l=y2l);E2l.push({cmd:"Q",x1:q2l,y1:Z2l,x:H2l+h2l[0],y:y2l+h2l[1]});H2l+=h2l[0];y2l+=h2l[1];break;case"A":H2l=V8l(H2l,y2l,h2l[0],h2l[1],h2l[2],h2l[3],h2l[4],h2l[5],h2l[6],[]);y2l=0;for(u2l=H2l.length;y2l<u2l;y2l++){E2l.push(H2l[y2l]);}H2l=h2l[5];y2l=h2l[6];break;case"a":h2l[5]+=H2l;h2l[6]+=y2l;H2l=V8l(H2l,y2l,h2l[0],h2l[1],h2l[2],h2l[3],h2l[4],h2l[5],h2l[6],[]);y2l=0;for(u2l=H2l.length;y2l<u2l;y2l++){E2l.push(H2l[y2l]);}H2l=h2l[5];y2l=h2l[6];break;case"Z":case"z":E2l.push({cmd:"Z",x:K2l,y:t2l}),H2l=K2l,y2l=t2l;}u2l=J2l;}}return E2l;}};var V8l=p8l.arcToBezier=function(Q2l,l2l,e2l,G2l,v2l,R2l,L2l,m2l,F2l,i2l){var X2l=v2l*Math.PI/180;v2l=Math.sin(X2l);X2l=Math.cos(X2l);e2l=Math.abs(e2l);G2l=Math.abs(G2l);var f2l=X2l*(Q2l-m2l)*.5+v2l*(l2l-F2l)*.5,B2l=X2l*(l2l-F2l)*.5-v2l*(Q2l-m2l)*.5,f2l=f2l*f2l/(e2l*e2l)+B2l*B2l/(G2l*G2l);1<f2l&&(f2l=Math.sqrt(f2l),e2l*=f2l,G2l*=f2l);var p2l=X2l/e2l,z2l=v2l/e2l,B2l=-v2l/G2l,d2l=X2l/G2l,f2l=p2l*Q2l+z2l*l2l;Q2l=B2l*Q2l+d2l*l2l;l2l=p2l*m2l+z2l*F2l;B2l=B2l*m2l+d2l*F2l;m2l=1/((l2l-f2l)*(l2l-f2l)+(B2l-Q2l)*(B2l-Q2l))-.25;0>m2l&&(m2l=0);m2l=Math.sqrt(m2l);L2l===R2l&&(m2l=-m2l);R2l=.5*(f2l+l2l)-m2l*(B2l-Q2l);m2l=.5*(Q2l+B2l)+m2l*(l2l-f2l);F2l=Math.atan2(Q2l-m2l,f2l-R2l);f2l=Math.atan2(B2l-m2l,l2l-R2l)-F2l;0>f2l&&1===L2l?f2l+=2*Math.PI:0<f2l&&0===L2l&&(f2l-=2*Math.PI);L2l=Math.ceil(Math.abs(f2l/(.5*Math.PI+.001)));for(Q2l=0;Q2l<L2l;Q2l++){var z2l=F2l+Q2l*f2l/L2l,W2l=F2l+(Q2l+1)*f2l/L2l,d2l=X2l*e2l,p2l=-v2l*G2l;l2l=v2l*e2l;var B2l=X2l*G2l,D2l=.5*(W2l-z2l),U2l=2.6666666666666665*Math.sin(.5*D2l)*Math.sin(.5*D2l)/Math.sin(D2l),D2l=R2l+Math.cos(z2l)-U2l*Math.sin(z2l),a2l=m2l+Math.sin(z2l)+U2l*Math.cos(z2l),V2l=R2l+Math.cos(W2l),P2l=m2l+Math.sin(W2l),z2l=V2l+U2l*Math.sin(W2l),U2l=P2l-U2l*Math.cos(W2l),W2l=d2l*V2l+p2l*P2l,V2l=l2l*V2l+B2l*P2l,P2l=d2l*D2l+p2l*a2l,D2l=l2l*D2l+B2l*a2l,d2l=d2l*z2l+p2l*U2l;l2l=l2l*z2l+B2l*U2l;i2l.bezierCurveTo?i2l.bezierCurveTo(P2l,D2l,d2l,l2l,W2l,V2l):i2l.push({cmd:"C",x1:P2l,y1:D2l,x2:d2l,y2:l2l,x:W2l,y:V2l});}return i2l;},P8l={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0};}();void function(){var x2l=function(k2l,w2l,Y2l){w2l in k2l?Object.defineProperty(k2l,w2l,{value:Y2l,enumerable:true,configurable:true,writable:true}):k2l[w2l]=Y2l;return k2l;};sketch.tools.paintApplicator=function(r0l){function Z0l(N0l){N0l.createOrTransform=s0l.createLayerOrTransformScene(s0l.record,{maxFingers:s0l.config.maxFingersInteracting||Number.MAX_SAFE_INTEGER,preventDefault:H0l.preventTouchScroll,monitor:true});}function t0l(f0l){f0l.selfDestruct={detach:function(){T0l();}};}function h0l(B0l){B0l.requestRedo=r0l.on("redo:request",T0l);B0l.requestUndo=r0l.on("undo:request",T0l);B0l.enter=Keyster.on("enter",E0l);B0l.escape=Keyster.on("escape",E0l);sketch.keyboard.enable(r0l,B0l);}function S0l(l0l){var m0l=I0l.currentPaint;"fill"!==m0l.method&&(m0l=I0l.currentPaint=o0l.create(m0l,"fill"));m0l.enabled=false;l0l.waitFor(function(){if(l0l.END||l0l.hasMoved(5)){return A2l._flagSetBackground=true,r0l.setBackground(m0l,{recordHistory:false});}}).catch(console.error);}function K0l(Q0l){n0l.deselectAll();Q0l.waitFor(function(z0l){return z0l.hasMoved(5)&&r0l.tool.type===s0l.type;}).catch(console.error);}function b0l(d0l){var D0l=n0l.findAtPoint(d0l,{layers:n0l.controls});if(D0l){n0l.control.id=D0l.id;var X0l=D0l.event();return d0l.intercept(function(W0l){W0l.cancel();X0l(W0l);r0l.setCSSCursor(D0l);W0l.END&&!W0l.hasMoved()&&T0l();});}}function g0l(p0l,G0l){var F0l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new JSEvent();n0l.selection.select(p0l,true);if(!A2l.layer){var V0l=A2l._flagSetBackground,U0l=p0l.getPaintAt(F0l,G0l.method);G0l.enabled=true;if("gradient"===G0l.type&&J0l(G0l,U0l)){var e0l=G0l.gradient,P0l=e0l.noise,v0l=e0l.stops;e0l.config(U0l.gradient);e0l.noise=P0l;e0l.stops=v0l;}A2l=s0l.transaction={};A2l.applyStyle=M0l;A2l.flagNewlyCreated=V0l;A2l.flagSetBackground=V0l;A2l.gevent=F0l;A2l.env={};A2l.layer=p0l;A2l.paint=G0l;F0l=A2l;U0l=U0l?o0l.create(U0l,void 0):void 0;F0l.paintOriginal=U0l;r0l.emit("paintApplicator:start");n0l.selection.on("Empty",j0l);}}function T0l(L0l){Gesture.cancel(L0l);r0l.deselectAll();sketch.emit("cursor:show","default");}function E0l(R0l){T0l(R0l);return true;}function O0l(){var i0l=A2l.resolve;A2l=s0l.transaction={};i0l&&i0l();}function j0l(){n0l.selection.off("Empty",j0l);M0l("end");r0l.emit("paintApplicator:end");O0l();}function C0l(Y0l){function M3l(){var o3l;o3l=w0l.scale;var O3l=new sketch.Matrix2D();O3l.scale(o3l.x,o3l.y);x0l=O3l.point2d(x0l);A0l=O3l.point2d(A0l);if(Y0l.END&&!Y0l.hasMoved()){if(c3l()){return;}k0l=I3l=o3l=.5;}else{o3l=O3l.point2d(r3l,s3l),o3l=Math.max(o3l.x,o3l.y),O3l=c0l.distance(x0l,A0l),o3l=Math.max(.01,Math.abs(O3l/o3l));}a0l.angle=0;a0l.sx=1;a0l.sy=1;a0l.r0=0;a0l.r1=o3l;a0l.x0=I3l;a0l.y0=k0l;a0l.x1=I3l;a0l.y1=k0l;a0l._setTransformFromBBox(w0l);}function c3l(){var g3l=A2l.paint,h3l=A2l.paintOriginal;return!A2l.flagNewlyCreated&&J0l(g3l,h3l);}var T3l=A2l.paint;if("gradient"===T3l.type){var n3l=A2l.layer,x0l=new c0l(r0l.pointInLayerFromCanvas(Y0l.start,n3l)),A0l=new c0l(r0l.pointInLayerFromCanvas(Y0l,n3l)),w0l=n3l.bbox,r3l=w0l.width,s3l=w0l.height,I3l=x0l.x/r3l,k0l=x0l.y/s3l,a0l=T3l.gradient;if("linearGradient"===a0l.type){a:{if(Y0l.END&&!Y0l.hasMoved()){if(c3l()){break a;}a0l.x0=0;a0l.y0=k0l;a0l.x1=1;a0l.y1=k0l;}else{a0l.x0=x0l.x/r3l,a0l.y0=x0l.y/s3l,a0l.x1=A0l.x/r3l,a0l.y1=A0l.y/s3l;}a0l._setTransformFromBBox(w0l);}}else{"radialGradient"===a0l.type?M3l():"conicGradient"===a0l.type?console.log("handleConicGradient"):"spiralGradient"===a0l.type&&console.log("handleSpiralGradient");}}}function M0l(u3l){var y3l=A2l.paint;if(y3l){I0l.currentPaint=y3l;var H3l=GEvent.setState(u3l,A2l.gevent||new JSEvent()),q3l=A2l.layer;if(q3l&&q3l.svg){H3l.env._nodes=A2l.env._nodes,q3l.setPaintAt(x2l({gevent:H3l,point:new c0l(H3l),fillMode:"node"},y3l.method,y3l)),A2l.env._nodes=H3l.env._nodes;}else{var j3l=q3l?[q3l]:void 0,y3l=x2l({},y3l.method,y3l),E3l=void 0;if(A2l.flagSetBackground&&(A2l.flagSetBackground=false,E3l="set-background",H3l.START)){var Z3l=q3l.id;H3l.env.configSelection={from:x2l({},Z3l,null),fromDelta:x2l({},Z3l,null),to:x2l({},Z3l,q3l.toPlainObject())};}r0l.configSelection(y3l,{storeAs:E3l,layers:j3l,gevent:H3l});}y0l.dirtyControls=true;"end"===u3l&&(H3l.env={});}}function J0l(S3l,K3l){if(!S3l||!K3l){return false;}var J3l=S3l.type;if(J3l===K3l.type){return(S3l[J3l]&&S3l[J3l].type)===(K3l[J3l]&&K3l[J3l].type);}}var s0l=this,u0l=sketch.detect,H0l=sketch.feature,q0l=r0l.contexts,I0l=sketch.globals,n0l=r0l.scene,y0l=r0l.render,o0l=sketch.style,c0l=sketch.Point,A2l=s0l.transaction={};s0l._enable=function(b3l){I0l.currentPaint=I0l.fill;O0l();Z0l(b3l);t0l(b3l);h0l(b3l);};s0l.editPaint=function(C3l,t3l){return"stroke"===t3l.method&&u0l.accumulatePaint[C3l.type]?Promise.reject("tool.editPaint(...) Paint is not editable"):new Promise(function(f3l){I0l.currentPaint=t3l;O0l();r0l.tool.detach();var N3l={};Z0l(N3l);N3l.palette=sketch.palette.on("change",r0l.configSelection);h0l(N3l);g0l(C3l,t3l);A2l.resolve=function(){Gesture.bulk(N3l,"detach");r0l.tool.attach();f3l();};y0l.dirtyControls=true;});};s0l.listenForStopTransaction=h0l;s0l.startTransaction=g0l;s0l.stopTransaction=T0l;s0l.record=function(B3l){if(B3l.HOVER){(B3l=n0l.findAtPoint(B3l,{layers:n0l.controls}))?r0l.setCSSCursor(B3l):"paintApplicator"!==A2l.originToolType&&sketch.emit("cursor:show","default");}else if(B3l.START){if(!b0l(B3l)){if(n0l.selection.length){K0l(B3l);}else{var m3l=n0l.findAtPoint(B3l,{returnDirectHit:true})||n0l.find(function(l3l){return"background"===l3l.name;});m3l?g0l(m3l,I0l.currentPaint,B3l):S0l(B3l);}}}else{A2l.layer&&(A2l.gevent=B3l,C0l(B3l),M0l(B3l.state));}};s0l.onPaletteChange=function(Q3l){var z3l=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).gevent||GEvent.END(),D3l=A2l.paint;if(!D3l){return r0l.configSelection(Q3l);}o0l.copyInto(Q3l.fill||Q3l.stroke,D3l);A2l.gevent=z3l;M0l(z3l.state);};s0l.drawController=function(d3l){var X3l=A2l.layer,W3l=A2l.paint;if(!W3l||!X3l){return false;}if("gradient"===W3l.type){return r0l.tools.paintEditor.drawController(q0l.overlay.ctx,A2l),true;}d3l.save();n0l.setTransform(d3l);n0l.renderOutline(d3l,X3l,{lineDash:[2,5]});d3l.restore();return true;};};}();void function(){sketch.tools.paintEditor=function(G3l){function A3l(g5l){function y5l(b5l){function t5l(B5l,m5l){var C5l=K5l.x/S5l.width,N5l=K5l.y/S5l.height;if(r5l.transform){var f5l=r5l.transform,C5l=C5l/f5l.a,N5l=N5l/f5l.d;}r5l[B5l]-=C5l;r5l[m5l]-=N5l;}var S5l=I5l.bbox,J5l=I5l.matrix2DMouse.point2d(p3l(T5l)),K5l=U3l.sub(new U3l(s5l.previousPt||J5l),J5l);s5l.previousPt=J5l;"gradientEnd"===b5l||t5l("x0","y0");"gradientStart"===b5l||t5l("x1","y1");}function u5l(){var z5l=I5l.bbox,D5l=z5l.computedWidth,z5l=z5l.computedHeight,Q5l=G3l.zoom,l5l=o5l.grdTrxInverse.point2d(p3l(T5l));U3l.inEllipse(l5l,O5l,c5l-1/Q5l,c5l-1/Q5l)?(r5l.x0=l5l.x/D5l,r5l.y0=l5l.y/z5l):(l5l=U3l.angle(l5l,O5l),l5l=U3l.atAngleDistance(O5l,l5l,-9999999999),Q5l=U3l.nearestOnEllipse(l5l,O5l,c5l-2/Q5l,c5l-2/Q5l),r5l.x0=Q5l.x/D5l,r5l.y0=Q5l.y/z5l);}function H5l(W5l,U5l){T5l.START&&(s5l.sx=r5l.sx,s5l.sy=r5l.sy);var d5l=p3l(T5l);if(W5l&&U5l){d5l=U3l.distance(M5l,d5l)/c5l;}else{if(T5l.START){var X5l=U3l.atAngleDistance(M5l,I5l.bbox.rotation-r5l.angle,9999999999),X5l=U3l.nearestOnEllipse(X5l,M5l,c5l,c5l);s5l.lineStart=o5l.point2d(M5l);s5l.lineEnd=o5l.point2d(X5l);}X5l=U3l.nearestOnLine(d5l,s5l.lineStart,s5l.lineEnd);d5l=U3l.distance(X5l,d5l)/c5l;}T5l.START&&(s5l.scaleOffset=1/d5l);W5l&&(r5l.sx=s5l.sx*s5l.scaleOffset*d5l);U5l&&(r5l.sy=s5l.sy*s5l.scaleOffset*d5l);}function q5l(){var G5l=I5l.bbox,e5l=p3l(T5l),e5l=Math.PI-U3l.angle(M5l,e5l);T5l.START&&(s5l.angleOffset=r5l.angle-e5l);var e5l=e5l+s5l.angleOffset,F5l=r5l.angle-e5l;0>G5l.scale.x*G5l.scale.y&&(F5l*=-1);var p5l=G5l.computedWidth,G5l=G5l.computedHeight,V5l=new U3l(r5l.x0*p5l,r5l.y0*G5l),P5l=new U3l(r5l.x1*p5l,r5l.y1*G5l),F5l=U3l.rotateAt(V5l,P5l,F5l);r5l.x0=F5l.x/p5l;r5l.y0=F5l.y/G5l;r5l.angle=e5l;}function E5l(){var L5l=L3l(I5l,r5l),v5l=U3l.angle(L5l.p0,M5l),v5l=U3l.atAngleDistance(M5l,v5l,9999999999),v5l=U3l.nearestOnEllipse(v5l,M5l,c5l,c5l),L5l=o5l.point2d(L5l.p0),v5l=o5l.point2d(v5l);Z5l(L5l,v5l);}function j5l(){var R5l=L3l(I5l,r5l);Z5l(R5l.p0,R5l.p1);}function Z5l(i5l,Y5l){var k5l=parseInt(n5l.replace("gradientStop","")),w5l=r5l.stops,a5l=p3l(T5l),x5l=U3l.nearestOnLine(a5l,i5l,Y5l,true);if(40<U3l.distance(a5l,x5l)){null==s5l.deletePending&&(s5l.deletePending=w5l.splice(k5l,1)[0],v3l.cachePaint(I5l,h5l));}else{if(a5l=s5l.deletePending){w5l.splice(k5l,0,a5l),s5l.deletePending=null;}x5l=U3l.distance(i5l,x5l);i5l=U3l.distance(i5l,Y5l);w5l[k5l].offset=x5l/ i5l;v3l.cachePaint(I5l,h5l);}}P3l.transaction=g5l;var T5l=g5l.gevent,I5l=g5l.layer,h5l=g5l.paint,s5l=T5l.env,n5l=String(e3l.control.id),c5l=void 0,O5l=void 0,M5l=void 0,o5l=void 0,r5l=h5l.gradient;"radialGradient"===r5l.type?(O5l=i3l(I5l,r5l),M5l=V3l(I5l,r5l).point2d(O5l),c5l=x3l(I5l,r5l),o5l=s5l.transform,o5l||(o5l=s5l.transform=w3l(I5l,r5l,M5l)),"gradientArea"===n5l?y5l():"gradientStart"===n5l?u5l():"gradientEnd"===n5l||"gradientScale"===n5l?H5l(true,true):"gradientScale0"===n5l||"gradientScale1"===n5l?H5l(false,true):"gradientScaleRotate0"===n5l||"gradientScaleRotate1"===n5l?(H5l(true,true),q5l()):"gradientRotate"===n5l?q5l():"gradientLine"===n5l?y5l():n5l.startsWith("gradientStop")&&E5l()):"gradientStart"===n5l||"gradientEnd"===n5l?y5l(n5l):n5l.startsWith("gradientStop")?j5l():"gradientLine"===n5l&&y5l();g5l.gevent=T5l;g5l.applyStyle(T5l.state);}function w3l(r9l,s9l,A5l){A5l=k3l(s9l,A5l,r9l.bbox.rotation);r9l=V3l(r9l,s9l);A5l.grdTrxInverse=A5l.clone().multiply(r9l).invert();return A5l;}function V3l(n9l,I9l){n9l.dirtyHash=true;n9l=n9l.getCurrentTransform();return I9l.transform?n9l.clone().multiply(I9l.transform):n9l;}function k3l(c9l,M9l,T9l){T9l||(T9l=0);T9l=-c9l.angle+T9l;return sketch.Matrix2D.scaleAt(c9l.sx,c9l.sy,M9l,-T9l);}function L3l(O9l,g9l){var o9l=V3l(O9l,g9l);O9l=O9l.bbox;var h9l=O9l.computedWidth,y9l=O9l.computedHeight;O9l=new U3l(o9l.point2d(g9l.x0*h9l,g9l.y0*y9l));g9l=new U3l(o9l.point2d(g9l.x1*h9l,g9l.y1*y9l));if(o9l=P3l.transaction.transform){h9l=o9l.pixelRatio,y9l=o9l.zoom,o9l=new U3l(o9l.scroll).mult(h9l-1).divide(h9l*y9l),O9l.add(o9l),g9l.add(o9l);}return{p0:O9l,p1:g9l};}function p3l(q9l){var H9l=G3l.zoom;return new U3l((q9l.x-G3l.viewport.paddingLeft)/H9l,(q9l.y-G3l.viewport.paddingTop)/H9l);}function x3l(Z9l,E9l){Z9l=Z9l.bbox;return E9l.r1*Math.max(Math.abs(Z9l.computedWidth),Math.abs(Z9l.computedHeight));}function i3l(u9l,j9l){u9l=u9l.bbox;return new U3l(j9l.x1*u9l.computedWidth+1E-6,j9l.y1*u9l.computedHeight);}var P3l=this,a3l=sketch.feature,e3l=G3l.scene,v3l=sketch.style,R3l=sketch.vector,Y3l=sketch.Line,U3l=sketch.Point,F3l=R3l.Shape;P3l.drawController=function(J9l,f9l){function F9l(){var V9l=S9l.stops,p9l=L3l(b9l,S9l),P9l=p9l.p0,p9l=p9l.p1;W9l(P9l,p9l);U9l(P9l,p9l);t9l("gradientEnd","circle","grab",p9l,6,0,V9l[V9l.length-1].color);t9l("gradientStart","circle","grab",P9l,6,0,V9l[0].color);}function e9l(){S9l.transform||S9l._setTransformFromBBox(b9l.bbox,{applyScale:true});var R9l=L3l(b9l,S9l).p0,v9l=V3l(b9l,S9l).point2d(i3l(b9l,S9l)),i9l=-S9l.angle+b9l.bbox.rotation,L9l=x3l(b9l,S9l),x9l=L9l*S9l.sx,k9l=L9l*S9l.sy,A9l=U3l.atAngleDistance(v9l,i9l+Math.PI/2,k9l+8/K9l),r1l=U3l.atAngleDistance(v9l,i9l-Math.PI/2,k9l+8/K9l),Y9l=U3l.atAngleDistance(v9l,i9l,x9l+8/K9l),s1l=U3l.atAngleDistance(v9l,i9l+Math.PI,x9l+8/K9l),w9l=b9l.bbox.rotation,R9l=U3l.rotateAt(R9l,v9l,-w9l),a9l=U3l.angle(R9l,v9l),a9l=U3l.atAngleDistance(v9l,a9l,9999999999),L9l=U3l.nearestOnEllipse(a9l,v9l,L9l,L9l),a9l=k3l(S9l,v9l),L9l=U3l.rotateAt(a9l.point2d(L9l),v9l,w9l),R9l=U3l.rotateAt(a9l.point2d(R9l),v9l,w9l);G9l(v9l,x9l,k9l,i9l,Y9l,A9l);W9l(R9l,L9l);t9l("gradientScale0","triangle","grab",A9l,4,i9l-Math.PI);t9l("gradientScale1","triangle","grab",r1l,4,i9l);t9l("gradientScaleRotate0","square","grab",Y9l,4,i9l);t9l("gradientScaleRotate1","square","grab",s1l,4,i9l);U9l(R9l,L9l);t9l("gradientEnd","circle",".icon-resize",L9l,6,0,m9l[m9l.length-1]);t9l("gradientStart","circle","grab",R9l,6,0,m9l[1]);z9l(v9l);}function U9l(o1l,O1l){for(var c1l=S9l.stops,M1l=c1l.length,n1l=0;n1l<M1l;n1l++){var I1l=c1l[n1l],T1l=I1l.offset,I1l=I1l.color;0===n1l&&0===T1l||n1l===M1l-2&&1===T1l||(T1l=U3l.atTimeOnLine(o1l,O1l,T1l),t9l("gradientStop"+n1l,"circle","grab",T1l,4,0,I1l));}}function t9l(q1l,y1l,u1l,g1l,h1l,Z1l,E1l){h1l/=K9l;var H1l=h1l+16/K9l;Z1l&&(J9l.save(),J9l.translate(g1l.x,g1l.y),J9l.rotate(Z1l),J9l.translate(-g1l.x,-g1l.y));J9l.beginPath();"triangle"===y1l?(J9l.moveTo(g1l.x,g1l.y-h1l),J9l.lineTo(g1l.x-h1l,g1l.y+h1l),J9l.lineTo(g1l.x+h1l,g1l.y+h1l),J9l.closePath()):"circle"===y1l?J9l.arc(g1l.x,g1l.y,h1l,0,2*Math.PI):"square"===y1l&&F3l.square(J9l,g1l.x,g1l.y,h1l);Z1l&&J9l.restore();E1l?(y1l=sketch.colorSpace(E1l),J9l.strokeStyle=y1l.isW3Contrast()?"black":"white",J9l.fillStyle=E1l):(J9l.strokeStyle="black",J9l.fillStyle=e3l.controlActive.id===q1l?"#00E058":e3l.control.id===q1l?"white":"#eee");J9l.lineWidth=1/K9l;J9l.fill();J9l.stroke();Q9l&&e3l.addControl({id:q1l,cursor:X9l(u1l),event:d9l,bbox:{x:g1l.x-H1l/2,y:g1l.y-H1l/2,width:H1l,height:H1l}});}function W9l(j1l,J1l){J9l.save();J9l.beginPath();J9l.moveTo(j1l.x,j1l.y);J9l.lineTo(J1l.x,J1l.y);J9l.lineWidth=4.5/K9l;J9l.strokeStyle="black";J9l.stroke();J9l.lineWidth=2.5/K9l;J9l.strokeStyle="rgba(255,255,255,0.75)";J9l.stroke();J9l.restore();Q9l&&(j1l=Y3l.toRect([j1l,J1l],30),e3l.addControl({id:"gradientLine",cursor:"move",event:d9l,bbox:{x:j1l.x,y:j1l.y,left:-15,top:-15,width:j1l.width,height:j1l.height,rotation:j1l.angle}}));}function G9l(S1l,N1l,f1l,l1l,z1l,Q1l){J9l.save();J9l.translate(S1l.x,S1l.y);J9l.rotate(l1l);J9l.translate(-S1l.x,-S1l.y);J9l.lineWidth=1/K9l;J9l.beginPath();F3l.ellipse(J9l,S1l.x,S1l.y,N1l,f1l);J9l.strokeStyle="black";J9l.stroke();J9l.beginPath();F3l.ellipse(J9l,S1l.x,S1l.y,N1l+1/K9l,f1l+1/K9l);J9l.strokeStyle="white";J9l.stroke();J9l.restore();if(Q9l){var m1l=function(D1l,d1l,X1l){K1l=new ClipperLib.Paths();C1l.Execute(K1l,d1l);sketch.drawPolygon(D1l,K1l[0]);K1l=new ClipperLib.Paths();C1l.Execute(K1l,X1l);K1l[0]?sketch.drawPolygon(D1l,K1l[0].reverse()):console.error(1,S9l);},B1l=function(U1l,G1l,e1l){var W1l=sketch.Context2D(1,1);W1l.scale(C9l,C9l);e1l(W1l);e3l.addControl({id:U1l,ctx:W1l,cursor:X9l(G1l),usePointInPath:true,event:d9l,bbox:{left:-b1l/2,top:-t1l/2,x:S1l.x,y:S1l.y,rotation:l1l,width:b1l,height:t1l}});},b1l=2*U3l.distance(S1l,z1l),t1l=2*U3l.distance(S1l,Q1l),K1l=R3l.toPolyline(F3l.ellipse,[b1l/2,t1l/2,N1l,f1l]),C1l=new ClipperLib.ClipperOffset(2,.25);C1l.AddPaths([K1l],ClipperLib.JoinType.jtRound,ClipperLib.EndType.etClosedPolygon);B1l("gradientArea","move",function(F1l){return F3l.ellipse(F1l,b1l/2,t1l/2,N1l,f1l);});B1l("gradientScale",".icon-resize",function(p1l){return m1l(p1l,-6,6);});B1l("gradientRotate",".icon-rotate",function(V1l){return m1l(V1l,6,16);});}}function z9l(P1l){(z9l.matches||(z9l.matches="gradientArea gradientScale gradientStart gradientEnd gradientScale0 gradientScale1 gradientRotate gradientScaleRotate0 gradientScaleRotate1".split(" "))).includes(e3l.control.id)&&B9l.DOWN&&(J9l.save(),J9l.beginPath(),F3l.exmark(J9l,P1l.x,P1l.y,4/K9l),J9l.strokeStyle="white",J9l.shadowColor="black",J9l.shadowOffsetX=1/K9l,J9l.shadowOffsetY=1/K9l,J9l.stroke(),J9l.restore());}function X9l(v1l){return function(){var L1l=i3l(b9l,S9l),R1l=w3l(b9l,S9l,V3l(b9l,S9l).point2d(L1l)).grdTrxInverse.point2d(p3l(B9l)),L1l=U3l.angle(R1l,L1l)+b9l.bbox.rotation;sketch.emit("cursor:show",{cursor:v1l,interacting:B9l.DOWN,angle:L1l});};}function d9l(){return function(i1l){i1l.isDblClick()?e3l.deselectAll():(f9l.gevent=i1l,A3l(f9l));};}P3l.transaction=f9l;var B9l=f9l.gevent,b9l=f9l.layer,l9l=f9l.paint,Q9l=!B9l.DOWN,N9l=G3l.pointInSceneFromCanvasSubScroll(new U3l(0,0)),C9l=G3l.pixelRatio,D9l=G3l.scroll,K9l=G3l.zoom;J9l.save();J9l.scale(C9l,C9l);J9l.translate(-D9l.x,-D9l.y);J9l.scale(K9l,K9l);J9l.translate(-N9l.x,-N9l.y);var m9l=void 0,S9l=void 0,N9l=l9l.type;"pattern"!==N9l&&"gradient"===N9l&&(m9l=l9l.env.colorStops||v3l.cachePaint(b9l,l9l),S9l=l9l.gradient,"linearGradient"===S9l.type?F9l():"radialGradient"===S9l.type?e9l():"conicGradient"===S9l.type?console.log("drawConicGradient"):"spiralGradient"===S9l.type?console.log("drawSpiralGradient"):console.error(S9l));J9l.restore();a3l.debugControls&&(e3l.debugControls(),J9l.save(),J9l.scale(C9l,C9l),J9l.translate(G3l.viewport.x,G3l.viewport.y),J9l.scale(K9l,K9l),J9l.restore());};};}();void function(){sketch.tools.select=function(a1l){function T4l(){var m4l=a1l.tools.text;m4l&&m4l.stopEditing();}function A1l(l4l,Q4l){!l4l.END&&a1l.pages&&a1l.pages.length&&(a1l.scrollToPageNumber(Q4l,"useRelative"),l4l.cancel());}function r4l(d4l,X4l,W4l){var z4l=d4l.END?0:Keyster.shift?10:1,D4l=a1l.zoom;Keyster.alt&&(x1l.copy(),x1l.paste());x1l.selection.transform({gevent:d4l,recordHistory:true,x:X4l*z4l/D4l,y:W4l*z4l/D4l});}function Z4l(){x1l.renderControls(true);}function q4l(){a1l.tools.text&&setTimeout(function(){return a1l.tools.text.updateCSSTransform();},1);}function K4l(){sketch.emit("tooltip:hide");}function C4l(){T4l();sketch.emit("tooltip:hide");}function B4l(G4l){var U4l=x1l.selection.layer;if(U4l&&"end"===G4l.state){return o4l(U4l),true;}}function E4l(e4l){e4l.START&&sketch.exec("selectAll");return false;}function j4l(F4l){F4l.START&&sketch.exec("selectInverse");return false;}function J4l(p4l){Gesture.prevent(p4l);a1l._interacting=false;var V4l=w1l.getSelectMenu();V4l&&(k1l.attachedEvents.createLayerOrTransformScene&&k1l.attachedEvents.createLayerOrTransformScene.pause(),p4l=Gesture.asPageXY(p4l),p4l.x+=5,p4l.y-=5,w1l.show(V4l,{at:p4l}));}function H4l(i4l){var L4l=a1l.pointInCanvasFromEvent(i4l);L4l.originalEvent=i4l;var P4l=a1l.hovered,v4l,R4l=x1l.findAtPoint(L4l,{layers:x1l.controls,returnArray:true});v4l=x1l.controlHoveredArray=[];for(var x4l=R4l.length,a4l=0;a4l<x4l;a4l++){v4l.push(R4l[a4l].id);}R4l=R4l.pop()||{};v4l=v4l.join(",");x1l.control.hashId!==v4l&&(x1l.control.hashId=v4l,x1l.control.id=R4l.id,x1l.control.changed=true,Y1l.dirtyControls=true);v4l=x1l.controlHovered=R4l;(L4l=v4l.layer||s4l(L4l))?P4l.includes(L4l)||(P4l.select(L4l,true),x1l.renderControls()):P4l.length&&(sketch.layerUtils.getFeatures(P4l.layer).useHoverAsFocus||P4l.empty(),x1l.renderControls());i4l=Gesture.asClientXY(i4l);P4l=v4l.title;"function"===typeof P4l&&(P4l=P4l());sketch.emit("tooltip:show",sketch.lang.translate(P4l),{stickToEdge:i4l});a1l.setCSSCursor(v4l,L4l);}function s4l(k4l){return x1l.findAtPoint(k4l,{layers:x1l.children.filter(u4l)});}function b4l(w4l){a1l._interacting||H4l(w4l);}function t4l(Y4l){var r7l=Y4l.originalEvent,s7l=Keyster.meta,n7l=Keyster.shift;if(!w1l||!w1l.opened){if(Y4l.START||Y4l.END){a1l._interacting=Y4l.DOWN,H4l(r7l);}var A4l=void 0;Y4l.START?(A4l=a1l.pointInCanvasFromEvent(r7l),r7l=x1l.findAtPoint(A4l,{layers:x1l.controls})||{},A4l=s4l(A4l),k1l.currentObject=A4l,k1l.currentControl=r7l,x1l.controlHovered=r7l):Y4l.END&&(A4l=k1l.currentObject);if(!y4l(Y4l)){if(Y4l.START&&!s7l&&!n7l){if(A4l){if(S4l(Y4l)){return;}}else{!x1l.selection.length||a1l.tools.text&&a1l.tools.text.dragging||(a1l.inSelectTool()&&x1l.deselectAll(),Y1l.dirtyControls=true);}}if(!A4l||s7l||n7l){var I7l=a1l.tool.onRecord;if(I7l){var T7l=sketch.layerUtils.getFeatures(a1l.tool);return Y4l.intercept(function(c7l){T7l.useAddByDrag&&(I7l(c7l),a1l._interacting=c7l.DOWN);});}N4l(Y4l);}else{A4l&&(O4l(A4l),Y4l.env.justSelected=true,M4l(Y4l,I4l.moveEvent()));}}}}function S4l(M7l){if(x1l.selection.includes(k1l.currentObject)){return M4l(M7l,I4l.moveEvent());}}function N4l(o7l){o7l.intercept(function(g7l){a1l._interacting=g7l.DOWN;var h7l=g7l.env,y7l=g7l.CHANGED,O7l=g7l.hasMoved(n4l.mobile?3:1);g7l.START&&(h7l.scrollX=a1l.scroll.x,h7l.scrollY=a1l.scroll.y,a1l.hovered.empty(),sketch.emit("tooltip:hide"));if(O7l||g7l.END){var O7l=g7l.env,h7l=g7l.x+(a1l.scroll.x-O7l.scrollX),O7l=g7l.y+(a1l.scroll.y-O7l.scrollY),H7l=g7l.start,Z7l=H7l.x,H7l=H7l.y,q7l=Math.max(Z7l,h7l)+.01,u7l=Math.max(H7l,O7l)+.01,O7l=a1l.pointsIn("pointInSceneFromCanvasSubScroll",[new c4l(Math.min(Z7l,h7l)-.01,Math.min(H7l,O7l)-.01),new c4l(q7l,u7l)]),h7l=f4l(g7l,O7l);if(g7l.START||y7l){y7l=a1l.scroll.x,Z7l=a1l.scroll.y,H7l=a1l.prZoom,q7l=O7l[0],O7l=O7l[1],x1l.selectionPending={x:q7l.x+y7l/H7l+.5,y:q7l.y+Z7l/H7l+.5,width:O7l.x-q7l.x,height:O7l.y-q7l.y,scrollX:y7l,scrollY:Z7l,items:h7l,metaKey:Keyster.meta};}if(g7l.END){x1l.selectionPending=null;g7l=[];var y7l=[],E7l;for(E7l in h7l){h7l[E7l]?g7l.push(E7l):y7l.push(E7l);}g7l.length&&x1l.select(g7l);y7l.length&&x1l.deselect(y7l);}Y1l.dirtyControls=true;}});}function f4l(j7l,J7l){if(j7l.hasMoved(n4l.mobile?3:1)){return x1l.findInRect(J7l,{as:"selection",deselect:Keyster.meta});}if(j7l.DOWN){return{};}j7l=s4l(a1l.pointInCanvasFromEvent(j7l.originalEvent));if(!j7l){return{};}J7l={};var S7l=!Keyster.meta||!x1l.selection.includes(j7l);J7l[j7l.id]=S7l;return J7l;}function y4l(b7l){var K7l=k1l.currentObject||x1l.selection.layer,f7l=K7l?K7l.id:void 0,t7l=k1l.currentControl,B7l=b7l.isDblClick(),C7l=b7l.env,N7l=x1l.selection;if(b7l.DOWN){K7l="boundingBox"===t7l.id;if(null==t7l.id||K7l){if(Keyster.shift||Keyster.meta){return 0;}}K7l=t7l.event;return"function"===typeof K7l?(M4l(b7l,K7l.call(t7l,b7l)),true):0;}if(0===N7l.length){return 0;}if(N7l.id!==f7l){if(Keyster.meta){if(C7l.justSelected){return true;}if(N7l.includes(K7l)){return x1l.deselect(K7l),true;}x1l.select(K7l);return true;}O4l(K7l);return C7l.justSelected=true;}K7l=s4l(a1l.pointInCanvasFromEvent(b7l.originalEvent));if(!K7l){return 0;}if(B7l&&(b7l=o4l(K7l))){return b7l;}h4l.tools.select.clickToDeselect&&!C7l.justSelected&&(x1l.hovered.deselect(K7l),x1l.deselect(K7l));return"click";}function M4l(m7l,l7l){return m7l.intercept(function(Q7l){a1l._interacting=Q7l.DOWN;Q7l.START&&(x1l.controlActive.id=x1l.control.id);l7l(Q7l);if(Q7l.END){x1l.controlActive.id="";var z7l;if(z7l=Q7l.env.justSelected){z7l=(z7l=x1l.selection.layer)?g4l.isEditable[z7l.type]:false,z7l=!z7l;}z7l||Q7l.hasMoved(n4l.mobile?3:1)||y4l(Q7l);}});}function u4l(d7l){var D7l=k1l.searchParam;return D7l.selected&&!x1l.selection.includes(d7l)||D7l.selectable&&!d7l.selectable||D7l.toolkitId&&d7l.toolkitId!==D7l.toolkitId||D7l.type&&d7l.type!==D7l.type?false:true;}function O4l(X7l){if(X7l){var U7l=Keyster.shift,W7l=Keyster.meta;W7l&&x1l.selection.includes(X7l)?x1l.deselect(X7l):x1l.select(X7l,{empty:!W7l&&!U7l});Y1l.dirtyControls=true;}}function o4l(e7l){var G7l=e7l.tool;if(G7l.startEditing){return G7l.startEditing(e7l),"dblclick";}}var n4l=sketch.agent,g4l=sketch.detect,h4l=sketch.feature,Y1l=a1l.render,x1l=a1l.scene,I4l=a1l.toolkit,w1l=sketch.ui.contextMenu,c4l=sketch.Point,k1l=this;k1l.type="select";k1l.searchParam={selectable:true};k1l._enable=function(F7l){var V7l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};k1l.attachedEvents===F7l&&(k1l.searchParam={selectable:true});F7l.resize=sketch.on("resize",q4l);F7l.scroll=a1l.on("scroll",q4l);F7l.onEmpty=a1l.selection.on("Empty",T4l);F7l.onMultiSelect=a1l.selection.on("MultiSelect",T4l);var p7l=a1l.$inputPointer;F7l.selfDestruct={detach:C4l};F7l.mouseout=Gesture.on(p7l,"mouseout",K4l);F7l.contextmenu=Gesture.on(p7l,"contextmenu",J4l);F7l.cursor=Gesture.on(p7l,"mousemove",b4l,{strict:true});F7l.dragOrScaleRotate=Gesture.dragOrScaleRotate(p7l,{drag:{listener:function(P7l){P7l.waitFor(function(v7l){return v7l.CHANGE||v7l.END;}).thenReplay(t4l);},maxFingers:1},gesture:{listener:a1l.tools.zoom.pinchZoomGesture,maxFingers:2}});sketch.keyboard.enable(a1l,F7l);false!==V7l.useKeyCommands&&(F7l.onEnter=Keyster.on("enter",B4l),F7l.onShift=Keyster.on("shift",Z4l),F7l.onMeta=Keyster.on("meta",Z4l),F7l.onMetaA=Keyster.on("meta+a",E4l),F7l.onMetaShiftA=Keyster.on("meta+shift+a",j4l));F7l.moveLeft=Keyster.on(["left","shift+left"],function(L7l){L7l.cancel();a1l.selection.length&&r4l(L7l,-1,0);});F7l.moveRight=Keyster.on(["right","shift+right"],function(R7l){R7l.cancel();a1l.selection.length&&r4l(R7l,1,0);});F7l.moveUp=Keyster.on(["up","shift+up"],function(i7l){i7l.cancel();a1l.selection.length?r4l(i7l,0,-1):A1l(i7l,-1);});F7l.moveDown=Keyster.on(["down","shift+down"],function(a7l){a7l.cancel();a1l.selection.length?r4l(a7l,0,1):A1l(a7l,1);});F7l.pageUp=Keyster.on("alt+up",function(x7l){return A1l(x7l,-1);});F7l.pageDown=Keyster.on("alt+down",function(k7l){return A1l(k7l,1);});};};}();void function(){sketch.tools.move=function(w7l){function Y7l(s6l){var A7l=w7l.zoom,n6l=s6l.delta(),r6l=s6l.env,I6l=n6l.x/A7l,A7l=n6l.y/A7l;r6l.selection||(r6l.selection=w7l.scene.filter());r6l.selection.translate(I6l,A7l,{gevent:s6l,recordHistory:true});}this.useZoomToFit=this.useCompactHistory=true;this._enable=function(T6l){sketch.keyboard.enable(w7l,T6l);T6l.beforeresize=sketch.on("beforeresize",w7l.zoomToFit);T6l.drag=Gesture.drag(w7l.$inputPointer,Y7l);};this._disable=function(O6l){if(O6l){var c6l=void 0,M6l=0,o6l=0;O6l.forEach(function(g6l){M6l+=g6l.data.x;o6l+=g6l.data.y;c6l=g6l.data.ids;});w7l.history.store("transform",{name:"move",data:{ids:c6l,x:M6l,y:o6l}});}};};}();void function(){sketch.tools.zoom=function(h6l){function j6l(D6l){var z6l=N6l.$("ui-orientation");z6l&&z6l.classList.toggle("sk-opened",D6l);}function K6l(){j6l(true);Z6l.detach();}function m6l(){j6l(false);Z6l.attached||Z6l.attach();}function f6l(d6l){d6l.END?Z6l.attach():d6l.START&&Z6l.detach();}function E6l(W6l){var X6l=sketch.Angle.clamp(W6l.angle*C6l+Math.PI/2);W6l=100*W6l.velocity;X6l=H6l.atAngleDistance(new H6l(0,0),-X6l,W6l);E6l.promise&&E6l.promise.cancel();E6l.promise=h6l.setScroll({relative:true,duration:350,y:-X6l.y,x:-X6l.x});}function S6l(U6l){U6l.cancel();var G6l=U6l.env;U6l.START&&(G6l.zoom=h6l.zoom,G6l.precisionDelta=new H6l(),y6l.setOrigin(new H6l(U6l)),q6l.gevent=U6l);var e6l=U6l.delta(),F6l=G6l.precisionDelta,p6l=new H6l(y6l.pan);y6l.alterPanBy(new H6l(e6l).add(F6l));F6l.x+=e6l.x-(y6l.pan.x-p6l.x);F6l.y+=e6l.y-(y6l.pan.y-p6l.y);U6l=U6l.scale;(G6l=G6l.zoom)&&U6l&&h6l.setZoom(G6l*U6l);u6l.dirtyControls=true;}function l6l(L6l){L6l.prevent();var V6l=L6l.env,V6l=V6l.stickyCursor||(V6l.stickyCursor=new H6l()),P6l=L6l.delta(),v6l=y6l.pan,R6l=v6l.x+P6l.x+V6l.x,P6l=v6l.y+P6l.y+V6l.y;h6l.setPan(new H6l(R6l,P6l));V6l.x=R6l-v6l.x;V6l.y=P6l-v6l.y;L6l.END&&(u6l.dirtyLayerTransforms=true);}function Q6l(i6l){i6l.cancel();i6l.START&&(y6l.setOrigin(i6l.originalEvent),q6l.gevent=i6l);i6l.END&&(u6l.dirtyLayerTransforms=true,q6l.gevent=null);h6l.setZoom(h6l.zoom*(1-i6l.deltaY/100));}function B6l(w6l){Keyster.meta&&w6l.cancel();if(!w6l.END){var x6l=0,k6l=0,a6l=Keyster.shift?10:1;switch(w6l.command){case"left":x6l=a6l;break;case"right":x6l=-a6l;break;case"up":k6l=a6l;break;case"down":k6l=-a6l;}h6l.alterPanBy({x:x6l,y:k6l});}}var q6l=this,N6l=sketch.dom,J6l=sketch.keyboard,y6l=h6l.orient,u6l=h6l.render,b6l=sketch.vector,Z6l=h6l.attachedEvents.scroll,C6l=sketch.util.DEG_RAD,H6l=sketch.Point,t6l=sketch.feature.zoom;q6l._enable=function(Y6l){if(t6l.enabled){K6l();J6l.enable(h6l,Y6l);var A6l=h6l.$inputPointer;Y6l.ui={attach:K6l,detach:m6l};Y6l.spaceKey=Keyster.on("space",f6l);Y6l.wheel=Gesture.on(A6l,"wheel",Q6l);Y6l.arrows=Keyster.on(["left","right","up","down"],B6l);Y6l.swipe=Gesture.swipe(A6l,E6l,{angleSnap:1,threshold:.125});Y6l.dragOrScaleRotate=Gesture.dragOrScaleRotate(A6l,{drag:{listener:l6l},gesture:{listener:S6l,maxFingers:2}});}};q6l.drawController=function(r8j){var s8j=q6l.gevent;if(s8j&&s8j.DOWN){var n8j=h6l.pixelRatio,s8j=s8j.originalEvent,I8j=y6l.getOrigin();y6l.getPoint(s8j);r8j.save();r8j.scale(n8j,n8j);r8j.beginPath();b6l.Shape.exmark(r8j,I8j.x,I8j.y,3);r8j.lineCap="round";r8j.lineWidth=4;r8j.strokeStyle="black";r8j.stroke();r8j.lineWidth=2;r8j.strokeStyle="white";r8j.stroke();r8j.restore();return true;}};q6l.pinchZoomGesture=S6l;};}();void function(){var T8j=sketch.Canvas2D;sketch.canvasUtils.ResampleLanczos=function(m8j,u8j,t8j){var y8j=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},J8j=y8j.filterSize||1,D8j=y8j.kernel||"lanczos",y8j=y8j.canvas;u8j=Math.ceil(u8j||1);t8j=Math.ceil(t8j||1);var z8j=m8j.width,j8j=m8j.height;var M8j=m8j;if("CANVAS"===M8j.nodeName){M8j.ctx||(M8j.ctx=M8j.getContext("2d")),m8j=M8j;}else{var O8j=T8j(M8j.width,M8j.height);O8j.ctx.drawImage(M8j,0,0);m8j=O8j;}var O8j=m8j.ctx,M8j=O8j.getImageData(0,0,z8j,j8j).data,O8j=O8j.createImageData(u8j,t8j),Q8j=O8j.data,S8j,C8j,l8j,X8j,U8j,e8j,E8j,g8j,o8j,H8j,q8j,f8j,B8j,Z8j,b8j,h8j,p8j,F8j,G8j=[],K8j=u8j/z8j,N8j=t8j/j8j,W8j=z8j-1,j8j=j8j-1,V8j=1/K8j,P8j=1/N8j,v8j=1/u8j,L8j=1/t8j,K8j=Math.min(1,K8j)*Math.min(1,K8j),N8j=Math.min(1,N8j)*Math.min(1,N8j),d8j;B8j=c8j[D8j];D8j={};b8j=J8j*J8j*1E3;for(o8j=0;o8j<b8j;o8j++){h8j=B8j(J8j,Math.sqrt(.001*o8j)),D8j[o8j]=0>h8j?0:h8j;}for(B8j=t8j;B8j--;){for(q8j=(B8j+.5)*P8j,b8j=q8j-J8j,0>b8j&&(b8j=0),h8j=o8j=q8j+J8j,h8j!==o8j&&(h8j=o8j+1),h8j>j8j&&(h8j=j8j),d8j=B8j*L8j-q8j,F8j=B8j*u8j,o8j=u8j;o8j--;){E8j=(o8j+.5)*V8j;q8j=E8j-J8j;0>q8j&&(q8j=0);f8j=S8j=E8j+J8j;f8j!==S8j&&(f8j=S8j+1);f8j>W8j&&(f8j=W8j);l8j=o8j*v8j-E8j;E8j=S8j=0;for(Z8j=b8j>>0;Z8j<=h8j;Z8j++){for(C8j=(Z8j+d8j)*(Z8j+d8j)*N8j,H8j=q8j>>0;H8j<=f8j;H8j++){S8j+=G8j[E8j++]=D8j[1E3*((H8j+l8j)*(H8j+l8j)*K8j+C8j)>>0]||0;}}S8j=1/S8j;E8j=l8j=X8j=U8j=e8j=0;for(Z8j=b8j>>0;Z8j<=h8j;Z8j++){for(p8j=Z8j*z8j,H8j=q8j>>0;H8j<=f8j;H8j++){C8j=G8j[E8j++]*S8j,g8j=4*(p8j+H8j>>0),X8j+=M8j[g8j]*C8j,U8j+=M8j[g8j+1]*C8j,e8j+=M8j[g8j+2]*C8j,l8j+=M8j[g8j+3]*C8j;}}g8j=4*(o8j+F8j>>0);Q8j[g8j]=X8j;Q8j[g8j+1]=U8j;Q8j[g8j+2]=e8j;Q8j[g8j+3]=l8j;}}y8j||(y8j=T8j(u8j,t8j));y8j.ctx.putImageData(O8j,0,0);return y8j;};var c8j={lanczos:function(i8j,R8j){if(R8j>=i8j||R8j<=-i8j){return 0;}if(0===R8j){return 1;}R8j*=Math.PI;return i8j*Math.sin(R8j)*Math.sin(R8j/ i8j)/(R8j*R8j);},linear:function(x8j,a8j){a8j=Math.abs(a8j);return 1>=a8j?(1-a8j)*x8j:0;}};}();void function(){var A8j=function(r2j){if(Array.isArray(r2j)){for(var s2j=0,n2j=Array(r2j.length);s2j<r2j.length;s2j++){n2j[s2j]=r2j[s2j];}return n2j;}return Array.from(r2j);},k8j=sketch.canvasUtils,w8j=sketch.util||(sketch.util={}),Y8j=sketch.vector;sketch.thumbnailer=function(u2j){function o2j(t2j){function V2j(){var P2j=F2j();if("stretch"!==z2j){if("lanczos"===q2j){var v2j=k8j.ResampleLanczos;if(v2j){t2j=v2j(t2j,B2j,f2j,{filterSize:Math.round(Math.max(l2j/B2j,Q2j/f2j))});T2j.drawImage(t2j,D2j,d2j);return;}console.log("Lanczos module is not loaded.");}P2j.translate(D2j,d2j);}P2j.applyTransform(T2j);T2j.drawImage(t2j,W2j,U2j,G2j,e2j,0,0,B2j,f2j);}function p2j(){var i2j=t2j,L2j=0,R2j=0;if("contain"===z2j||"cover"===z2j){L2j+=D2j,R2j+=d2j;}i2j.drawTo(T2j,{placement:"bbox",matrix:F2j(),x:L2j,y:R2j,width:B2j,height:f2j});}function F2j(){var a2j=new sketch.Matrix2D();if(M2j.x||M2j.y){a2j.translate(M2j.x?N2j:0,M2j.y?m2j:0),a2j.scale(M2j.x?-1:1,M2j.y?-1:1);}return a2j;}var l2j=t2j.naturalWidth||t2j.width,Q2j=t2j.naturalHeight||t2j.height;if(Array.isArray(E2j)){var b2j=S2j();b2j.width=l2j;b2j.height=Q2j;b2j.ctx.drawImage(t2j,0,0);b2j=k8j.pixelBounds.apply(k8j,[b2j].concat(A8j(E2j)));I2j=Object.assign({},I2j);I2j.croparea=[b2j.x1,b2j.y1,b2j.x2,b2j.y2];}var C2j=K2j(l2j,Q2j,I2j),m2j=Math.round(C2j.height),N2j=Math.round(C2j.width),z2j=C2j.crop,b2j=C2j.croparea,C2j=C2j.ratio;if(J2j&&(c2j.height=m2j,c2j.width=N2j,1!==O2j)){var X2j=c2j.style;X2j.width=N2j/O2j+"px";X2j.height=m2j/O2j+"px";}T2j.save();"nearest-neighbor"===q2j&&(T2j.imageSmoothingEnabled=false);g2j&&(T2j.rect(0,0,N2j,m2j),T2j.fillStyle=g2j,T2j.fill());var W2j=b2j.x1,U2j=b2j.y1,G2j=Math.min(l2j,b2j.x2-W2j),e2j=Math.min(Q2j,b2j.y2-U2j),B2j=Math.round(G2j*C2j)||1,f2j=Math.round(e2j*C2j)||1;"stretch"===z2j&&(B2j=N2j,f2j=m2j);var D2j=Math.round(Z2j?(N2j-B2j)/2:0),d2j=Math.round(Z2j?(m2j-f2j)/2:0);H2j&&t2j instanceof sketch.SVG?p2j():V2j();T2j.restore();return j2j?c2j:Promise.resolve(c2j);}function K2j(x2j,k2j){if(!x2j&&!k2j){throw"Element has no defined dimensions.";}x2j=w8j.fitSize(x2j,k2j,I2j);if(!x2j){throw"Fit could not be calculated.";}return x2j;}function y2j(w2j){return Y8j.createSVG({src:w2j,onProgress:h2j});}function S2j(){var Y2j;Y2j="function"===typeof NodeCanvas?new NodeCanvas():document.createElement("canvas");Y2j.ctx=Y2j.getContext("2d");return Y2j;}var I2j=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!u2j){return Promise.reject("thumbnailer(...) Source must be defined.");}var J2j=false!==I2j.allowCanvasResizing,j2j=!!I2j.asap,g2j=I2j.background,c2j=I2j.canvas||S2j(),Z2j=!!I2j.center,E2j=I2j.clipToPixelBounds,T2j=c2j.ctx||c2j.getContext("2d"),M2j=I2j.flip||{},h2j=I2j.onProgress,O2j=I2j.pixelRatio||1,q2j=I2j.resample||"bilinear",H2j=Y8j&&sketch.SVG;return function(A2j){Galactic.is(A2j,"blob|file")&&(A2j=A2j._blobURL||(A2j._blobURL=URL.createObjectURL(A2j)));var r0j=A2j.nodeName;if(r0j||A2j.onload||A2j.getContext){return"SVG"===r0j?y2j(A2j).then(o2j):o2j(A2j);}if(H2j&&A2j instanceof sketch.SVG){return o2j(A2j);}if(A2j.sourceXML){return y2j(A2j.sourceXML).then(o2j);}r0j=A2j;r0j="string"!==typeof r0j?false:r0j.endsWith(".svg")||Galactic.is(r0j,"svgString");return r0j?y2j(A2j).then(o2j):sketch.requestImage(A2j,{onProgress:h2j}).then(o2j);}(u2j);};w8j.fitSize=function(u0j,j0j){var s0j=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},H0j=s0j.pixelRatio||1,h0j=(s0j.dpi||72)/72,c0j=Number.isFinite(s0j.width)?s0j.width:"auto",M0j=Number.isFinite(s0j.height)?s0j.height:"auto",g0j=s0j.maxWidth||Infinity,y0j=s0j.maxHeight||Infinity,E0j=s0j.minWidth||0,Z0j=s0j.minHeight||0,q0j=s0j.crop||"none";s0j=(s0j=s0j.croparea)&&Number.isFinite(s0j.x1+s0j.y1+s0j.x2+s0j.y2)?s0j:Array.isArray(s0j)?{x1:s0j[0],y1:s0j[1],x2:s0j[2]||u0j,y2:s0j[3]||j0j}:{x1:0,y1:0,x2:u0j,y2:j0j};if((c0j||g0j)&&(M0j||y0j)){var O0j=s0j.x2-s0j.x1,o0j=s0j.y2-s0j.y1,T0j=O0j/o0j;if(O0j&&o0j){var I0j=c0j,n0j=M0j;"auto"===c0j&&"auto"===M0j?(I0j=O0j,n0j=o0j):"auto"===c0j?I0j=T0j*n0j:"auto"===M0j&&(n0j=1/T0j*I0j);I0j>g0j&&(I0j=g0j,"auto"===M0j&&(n0j=1/T0j*I0j));n0j>y0j&&(n0j=y0j,"auto"===c0j&&(I0j=T0j*n0j));I0j<E0j&&(I0j=E0j,"auto"===M0j&&(n0j=1/T0j*I0j));n0j<Z0j&&(n0j=Z0j,"auto"===c0j&&(I0j=T0j*n0j));"none"===q0j?T0j=1:(c0j=I0j/n0j<T0j,T0j=(M0j="cover"===q0j)&&c0j||!M0j&&!c0j?n0j/o0j:I0j/O0j);return{crop:q0j,croparea:s0j,width:I0j*h0j*H0j,height:n0j*h0j*H0j,ratio:T0j*h0j*H0j};}}console.error("Invalid dimensions",arguments);};}();void function(){sketch.module.UICursor=function(l0j){function p0j(Y0j,A0j,n3j){var I3j=arguments;B0j&&(clearTimeout(B0j),B0j=null);var a0j=1,x0j=1,L0j=[0,0],v0j=A0j;A0j.includes("(")&&(L0j=A0j.match(/[+-]?\d+(\.\d+)?/g).map(parseFloat),v0j=A0j.replace(/(\(.*\))/g,""),L0j[2]&&(n3j=L0j[2]),L0j[3]&&(a0j=L0j[3]),L0j[4]&&(x0j=L0j[4]));var r3j=C0j.roundDegree(n3j,5),s3j=v0j+r3j,R0j=d0j[s3j];if(R0j){return t0j(Y0j,R0j);}v0j=X0j.stylesheet(v0j+"::before")[0];if(!v0j||!v0j.style||!v0j.style.content){return t0j(Y0j,"default");}R0j=v0j.style.content.replace(/"/g,"");if(!sketch.font.isLoaded("sketchpad",R0j)){return B0j=setTimeout(function(){return p0j.apply(void 0,I3j);},250),t0j(Y0j,"default");}var v0j=b0j&&f0j.pixelRatio||1,P0j=6*v0j,w0j=P0j/2,k0j=16*v0j,i0j=k0j/2,P0j=sketch.Context2D(k0j+P0j,k0j+P0j);P0j.translate(i0j+w0j,i0j+w0j);P0j.rotate(r3j*C0j.DEG_RAD);P0j.scale(a0j,x0j);P0j.translate(-i0j,-i0j);P0j.font=k0j+"px sketchpad";P0j.textAlign="center";P0j.textBaseline="top";P0j.lineWidth=1.5*v0j;P0j.strokeStyle="white";P0j.strokeText(R0j,i0j+.5,.5);P0j.fillStyle="black";P0j.fillText(R0j,i0j+.5,.5);a0j=L0j[0]+w0j+" "+(L0j[1]+w0j);x0j=P0j.canvas.toDataURL();R0j=b0j&&2===v0j?"-webkit-image-set(url("+x0j+") 2x) "+a0j+", auto":"url("+x0j+") "+a0j+", auto";return t0j(Y0j,d0j[s3j]=R0j);}function F0j(T3j,c3j){return"grab"===T3j&&c3j?"grabbing":"grabbing"!==T3j||c3j?T3j:"grab";}function t0j(M3j,o3j){M3j&&(M3j=M3j.style,f0j.safari&&(M3j.cursor="default"),M3j.cursor=o3j);return o3j;}function N0j(){function O3j(g3j){K0j.style.cursor=g3j;return g3j===K0j.style.cursor.replace(/"/g,"");}N0j=null;U0j=O3j("url(#), auto");if(b0j=!f0j.safari){b0j=O3j("-webkit-image-set(url(#) 2x), auto");}}var f0j=sketch.agent,X0j=sketch.dom,W0j=sketch.feature,C0j=sketch.util,K0j=sketch.Canvas2D(),J0j=K0j.ctx,U0j=void 0,b0j=void 0,Q0j={n:360,ne:45,e:90,se:135,s:180,sw:225,w:270,nw:315},z0j={ns:360,nesw:45,ew:90,nwse:135},e0j=Object.keys(Q0j),G0j=Object.keys(z0j),m0j={},D0j=sketch.SVG&&sketch.SVG.svgPathToVOB;D0j&&(m0j.resize=D0j("M14.3,8.5 9.7,2.2 5.1,8.5 8.3,8.5 8.3,17.3 11.1,17.3 11.1,8.5z"),m0j.rotate=D0j("M16.6,8.5l-1.4-1.4c-2.9-2.9-7.6-2.9-10.5,0L3.3,8.4L1.5,6.6l-0.9,6.3l6.4-1l-1.8-1.8l1.3-1.3c1.9-1.9,5-1.9,6.9,0l1.4,1.4L13,12.1l6.4,1l-1-6.4C18.4,6.7,16.6,8.5,16.6,8.5z"));var S0j={},d0j={},V0j=["zoom-in","zoom-out","grab","grabbing"],B0j=void 0;X0j.cursor=function(q3j){var h3j=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};N0j&&N0j();"string"===typeof h3j&&(h3j={cursor:h3j});var y3j=h3j.cursor||"default",H3j=Number.isFinite(h3j.angle)?h3j.angle:0,h3j=h3j.interacting,Z3j=JSON.stringify(y3j);if(Z3j!==S0j.hash){return S0j.hash=Z3j,y3j.startsWith(".")?p0j(q3j,y3j,H3j):V0j.includes(y3j)&&("boolean"===typeof h3j&&(y3j=F0j(y3j,h3j)),H3j=C0j.prefixCSS("cursor",y3j))?t0j(q3j,H3j.value):t0j(q3j,y3j);}};l0j.setCSSCursor=function(){var u3j=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},J3j=arguments[1];N0j&&N0j();var E3j=u3j.cursor||"";if("string"!==typeof E3j){"function"===typeof E3j&&(S0j.hash=E3j,E3j());}else{var K3j=u3j.id,u3j=void 0;E3j.includes("-")&&(u3j=E3j.match(/([a-z])+/g),K3j=u3j[0],u3j=u3j[1]);var S3j=void 0,j3j=void 0;Q0j[K3j]?(S3j=Q0j[K3j],j3j=e0j):z0j[K3j]&&(S3j=z0j[K3j],j3j=G0j);S3j&&(J3j||(J3j=l0j.scene.getFocalObject()))?(J3j=J3j.bbox,K3j=J3j.scale,J3j=sketch.Angle.flip(S3j,K3j.x,K3j.y)+J3j.rotation*C0j.RAD_DEG,E3j=E3j.replace(/([a-z])+/,j3j[Math.round((J3j+3600)%360/45)%j3j.length]),j3j=E3j+Math.floor(J3j-J3j%10),S0j.hash!==j3j&&(S0j.hash=j3j,U0j&&m0j[u3j]&&W0j.ui.dynamicCursor&&(j3j=b0j&&f0j.pixelRatio||1,S3j=(K0j.width=K0j.height=20*j3j)/2,J0j.translate(S3j,S3j),J0j.rotate(J3j*C0j.DEG_RAD),J0j.translate(-S3j,-S3j),J0j.scale(j3j,j3j),J0j.beginPath(),sketch.drawPath(J0j,m0j[u3j]),J0j.shadowBlur=2,J0j.shadowOffsetX=.5,J0j.shadowOffsetY=.5,J0j.shadowColor="#000",J0j.fillStyle="#000",J0j.fill(),J0j.lineWidth=1,J0j.strokeStyle="#fff",J0j.stroke(),u3j=K0j.toDataURL(),E3j=b0j&&2===j3j?"-webkit-image-set(url("+u3j+") 2x) 10 10, "+E3j:"url("+u3j+") 10 10, "+E3j),sketch.emit("cursor:show",E3j))):(E3j||(E3j=(E3j=W0j.tools[l0j.tool.type])&&E3j.cssCursor?E3j.cssCursor:""),E3j=F0j(E3j,l0j._interacting),S0j.hash!==E3j&&(S0j.hash=E3j,sketch.emit("cursor:show",E3j)));}};};}();void function(){function z3j(A3j,M5j,n5j){function o5j(){r5j=z3j.options={};Promise.all(T5j.map(function(y5j){var O5j=y5j.key,g5j="sk-text-"+p3j.toAlphaNumeric(O5j),h5j=""+sketch.loc.MEDIA+y5j.preview.url;r5j[O5j]='<span class="'+g5j+'">'+O5j+"</span>";return sketch.request(h5j).then(function(q5j){r5j[O5j]=q5j;var H5j=c5j.querySelector("."+g5j);H5j&&(H5j.innerHTML=q5j);if(H5j=I5j.querySelector("."+g5j)){H5j.innerHTML=q5j;}}).catch(function(Z5j){console.error(h5j,Z5j);});})).then(s5j.refreshOptions);return r5j;}var r5j=z3j.options||o5j(),T5j=F3j.getCollection(n5j);n5j=currentObject("text").fontFamily;var s5j=new l3j.SelectMenu({parentNode:A3j,tooltip:"Set Font Family",selected:n5j,options:r5j,onchange:function(E5j){sketch.doc.setFont({fontFamily:E5j,onProgress:function(u5j){console.log(u5j);}});}}),I5j=s5j.element,c5j=s5j.ul;A3j=l3j.appendLabel(A3j,M5j.title);A3j.appendChild(I5j);A3j.classList.add("sk-font-menu");return A3j;}function W3j(J5j,j5j,K5j){var S5j=b3j[J5j](K5j);j5j=b3j.appendLabel(j5j,K5j.title);j5j.appendChild("Checkbox"===J5j?S5j.element:S5j);j5j.setAttribute("data-tag",J5j.toLowerCase());return j5j;}function d3j(){d3j=null;var b5j=sketch.util.forEach;Object.keys(sketch.doc.toolkit.config).forEach(function(t5j){N3j[t5j]="icon-"+t5j;});b5j(b3j.icons,function(C5j){b5j(C5j.children,function(N5j,f5j){N3j[N5j]=f5j;});});Object.assign(N3j,{background:"icon-screen","change-media":"icon-image",crop:"icon-crop","crop-draw":"icon-crop","cut-objects":"icon-clipboard",fancyText:"icon-text",htmlText:"icon-text","merge-objects":"icon-merge","merge-paths":"icon-merge","paste-objects":"icon-clipboard","remove-objects":"icon-infinity","reset-clipart-color":"icon-remove","set-background":"icon-crop","split-path":"icon-scissors","update-clipart-color":"icon-palette","update-style":"icon-palette","update-text":"icon-text",VOBNodeList:"icon-infinity"});}var R3j=sketch.lang,B3j=sketch.ui;B3j.appendButton=function(l5j,m5j){var B5j=B3j.dataTypes.Button;m5j instanceof B5j||(m5j=new B5j(m5j));B5j=B3j.createElement("div",m5j);B5j.innerHTML=R3j.translate(m5j.title);B5j.classList.add("sk-button");B3j.click(B5j,m5j.onclick);l5j.appendChild(B5j);return B5j;};var v3j=sketch.lang;sketch.ui.appendFilePicker=function(D5j,z5j){var Q5j=document.createElement("div");Q5j.className="sk-file-picker sk-button sk-attention";Q5j.textContent=v3j.translate("load-your-own-image");D5j.appendChild(Q5j);sketch.uploader.addInput({target:Q5j,onchange:function(d5j,X5j){if(z5j.onchange){z5j.onchange(d5j,X5j);}else{sketch.uploader.onChangeDefault(d5j,X5j);}}});};var G3j=sketch.dom,Q3j=sketch.ui;Q3j.appendHeader=function(e5j){function G5j(F5j,p5j){Q3j.Button({parentNode:U5j,tooltip:F5j.tooltip,className:"sk-href sk-"+p5j+" "+F5j.icon,onclick:F5j.onclick});}var W5j=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};"function"===typeof W5j&&(W5j=W5j());var U5j=G3j.append(e5j,'\n\t\t<div class="sk-header">\n\t\t\t'+W5j.title+'\n\t\t\t<div class="sk-close icon-remove"></div>\n\t\t</div>\n\t');W5j.left&&G5j(W5j.left,"left");W5j.right&&G5j(W5j.right,"right");return U5j;};var D3j=sketch.ui;D3j.appendHTML=function(v5j,P5j,V5j){if(V5j.appendElement){return V5j.appendElement({$parent:v5j,attr:V5j,configure:P5j});}if(V5j.construct){return P5j=V5j.construct(P5j,V5j),D3j.configElement(P5j,V5j),v5j.appendChild(P5j),P5j;}throw"ui.appendHTML(...) Expecting constructor function.";};var V3j=sketch.feature,x3j=sketch.style,k3j=sketch.util;sketch.ui.appendPalette=function(a5j,L5j,w5j){var R5j=sketch.palette;if(1===w5j.version||1===V3j.palette.version){R5j.appendTo(a5j,L5j,L5j.fill);}else{var i5j=sketch.doc,x5j=i5j.scene,k5j=i5j.toolkit;k3j.forEach(x3j.paintMethods,function(Y5j,A5j){(Y5j=L5j[A5j])&&!Y5j.noUI&&(1<x5j.length?R5j.appendTrigger(a5j,{title:A5j,layer:k5j.config.select,paint:Y5j}):R5j.appendTrigger(a5j,{title:A5j,layer:L5j,paint:Y5j,onOpen:function(s9j){var r9j=x5j.layer;r9j&&i5j.tools.paintApplicator.editPaint(r9j,s9j);}}));});}};var w3j=sketch.dom,U3j=sketch.lang,C3j=sketch.ui;C3j.appendRange=function(q9j,n9j){var T9j=C3j.dataTypes.Range;n9j instanceof T9j||(n9j=new T9j(n9j));var T9j=n9j.param,g9j=n9j.min,y9j=n9j.max,O9j=n9j.onchange,c9j=w3j.append(q9j,'\n\t\t<ui-label class="sk-range-label" data-cmd="'+T9j+'">\n\t\t\t<ui-title>'+U3j.translate(n9j.title||n9j.param)+"</ui-title>\n\t\t</ui-label>\n\t"),H9j=c9j.querySelector("ui-title");Gesture.on([c9j,H9j,q9j],"touchdown",Gesture.cancel,{strict:true});var M9j=document.createElement("span");M9j.className="values";c9j.appendChild(M9j);var h9j=[],I9j=n9j.getValue();"number"===typeof I9j&&(I9j=[I9j]);if(I9j){I9j.forEach(function(E9j,Z9j){E9j=C3j.Input({type:"_number_",format:n9j.format,parentNode:M9j,className:"value"+Z9j+" sk-input",min:g9j,max:y9j,value:E9j,onchange:function(j9j){var u9j=o9j.thumbs[Z9j];u9j.value!==j9j&&(u9j.value=j9j,o9j.update(Z9j,"end"));}});h9j.push(E9j);Number.isFinite(I9j[Z9j+1])&&M9j.classList.add("sk-input-group");});var o9j=new C3j.Range({param:T9j,parent:c9j,value:I9j.toString(),min:g9j,max:y9j,format:n9j.format,gradient:function(){var S9j=sketch.themify,J9j=[];n9j.gradient?n9j.gradient.forEach(function(K9j){K9j.startsWith("$")?J9j.push(S9j.palette[K9j.substr(1)]):J9j.push(K9j);}):J9j.push(S9j.palette["bg-30"]);return J9j;}(),canCross:n9j.canCross,canPush:n9j.canPush,onchange:function(b9j,t9j){if(b9j.gevent||"set"===b9j.state){var C9j=h9j[t9j.index];C9j&&C9j.$setValue(t9j.value);}(b9j.gevent||"end"===b9j.state)&&O9j&&O9j(b9j,t9j);}});return o9j;}console.error(n9j);};var e3j=sketch.feature,F3j=sketch.resources,p3j=sketch.string,l3j=sketch.ui;l3j.appendResource=function(B9j,f9j){var N9j=f9j.format;"text"===N9j&&(N9j="font");return"font"===N9j&&"menu"===e3j.ui.listText?z3j(B9j,f9j,N9j):l3j.appendAssetFinderTrigger(B9j,N9j,{tooltip:f9j.tooltip});};var P3j=function(m9j,l9j,Q9j){l9j in m9j?Object.defineProperty(m9j,l9j,{value:Q9j,enumerable:true,configurable:true,writable:true}):m9j[l9j]=Q9j;return m9j;},m3j=sketch.ui;m3j.appendSelectMenu=function(X9j,z9j){var D9j=m3j.dataTypes.Select;z9j instanceof D9j||(z9j=new D9j(z9j));var d9j=z9j.param,D9j=new m3j.SelectMenu({id:d9j,className:"selectmenu-holder",parentNode:X9j,labelIcon:z9j.labelIcon,options:z9j.getOptions(),selected:z9j.selected,tooltip:z9j.title,onOpen:z9j.onOpen,onClose:z9j.onClose,onchange:function(W9j){z9j.setValue(W9j);sketch.doc.configSelection(P3j({},d9j,W9j));}});m3j.appendLabel(X9j,z9j.title).appendChild(D9j.element);return D9j;};var L3j=sketch.lang,f3j=sketch.ui,i3j=sketch.util;f3j.appendSubTool=function(F9j,p9j,e9j){var U9j=f3j.getToolGroup(e9j);if(U9j=f3j.icons[U9j]){var G9j={};i3j.forEach(U9j.children,function(V9j,P9j){V9j.startsWith("icon-")?G9j[P9j]='<span class="icon '+V9j+'"></span>':G9j[P9j]='<span class="icon">'+V9j+"</span>";});f3j.appendPopoutTrigger(F9j,G9j,{tooltip:L3j.translate(p9j.tooltip),selected:e9j,onChoose:function(L9j){var v9j=sketch.doc;"select"===v9j.tool.type?(v9j.changeLayerType(L9j),v9j.emit("dirtyConfig")):v9j.setTool(L9j);}});}};var a3j=sketch.agent,t3j=sketch.dom,X3j=sketch.lang,b3j=sketch.ui,Y3j=sketch.util;b3j.appendCheckbox=function(R9j,i9j){return W3j("Checkbox",R9j,i9j);};b3j.appendInput=function(a9j,x9j){return W3j("Input",a9j,x9j);};b3j.appendTextarea=function(w9j,k9j){k9j.type="textarea";return W3j("Textarea",w9j,k9j);};b3j.appendLabel=function(Y9j,A9j){return t3j.append(Y9j,b3j.createLabel(A9j));};b3j.createLabel=function(r1j){return t3j.create("\n\t\t<ui-label>\n\t\t\t<ui-title>"+X3j.translate(r1j)+"</ui-title>\n\t\t</ui-label>\n\t");};b3j.appendBreak=function(s1j){return t3j.append(s1j,'<div class="sk-break"></div>');};b3j.createFooter=function(n1j){var I1j=t3j.create('<div class="sk-footer"></div>');Array.isArray(n1j)||(n1j=[n1j]);n1j.forEach(function(T1j){return b3j.appendButton(I1j,T1j);});1<n1j.length&&I1j.classList.add("buttons");return I1j;};b3j.appendFooter=function(c1j,M1j){c1j.appendChild(b3j.createFooter(M1j));};b3j.createElement=function(o1j,O1j){o1j=t3j.create(o1j);b3j.configElement(o1j,O1j);return o1j;};b3j.configElement=function(h1j,g1j){if(g1j.className){var y1j=h1j.classList;g1j.className.split(" ").forEach(function(H1j){return y1j.add(H1j);});}g1j.cssText&&(h1j.style.cssText=g1j.cssText);g1j.tooltip&&sketch.emit("tooltip:attach",h1j,function(){return"function"===typeof g1j.tooltip?g1j.tooltip.call(g1j):g1j.tooltip;},{stickToEdge:true});if(g1j.onblur){Gesture.on(h1j,"blur",g1j.onblur);}if(g1j.onfocus){Gesture.on(h1j,"focus",g1j.onfocus);}g1j.parentNode&&t3j.append(g1j.parentNode,h1j);};b3j.media={};b3j.media.get=function(Z1j){var q1j=b3j.media[Z1j];null==q1j&&(q1j=b3j.media[Z1j]=sketch.generate.media(Z1j).pattern);return q1j;};b3j.getToolGroup=function(J1j){var E1j=b3j.icons,u1j;for(u1j in E1j){var j1j=E1j[u1j].children;if(j1j&&j1j[J1j]){return u1j;}}};var N3j=b3j.iconFontLookup={};b3j.getIcon=function(S1j){d3j&&d3j();return N3j[S1j]||"icon-infinity";};b3j.initToolbar=function(){function t1j(C1j){if(b3j.tooltip){return b3j.tooltip(C1j,function(){var N1j=C1j.getAttribute("data-tooltip")||C1j.getAttribute("data-tool");return X3j.translate(N1j);},{stickToEdge:true}).attached;}}var K1j=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".sketch-api",K1j=t3j.$(K1j),b1j=[];Y3j.forEach(K1j.querySelectorAll("[data-tool]"),function(f1j){f1j.getAttribute("data-tool")&&(b1j.push(b3j.click(f1j,function(B1j){f1j.classList.contains("disabled")||(B1j.prevent(),sketch.emit("tooltip:hide"),sketch.exec(f1j.getAttribute("data-tool")));})),a3j.mobile||b1j.push(t1j(f1j)));});return JSEvent.Group(b1j);};b3j.click=function(l1j,Q1j){var m1j=[];m1j.push(Gesture.on(l1j,"mousedown",Gesture.cancel));m1j.push(Gesture.click(l1j,Q1j));return m1j;};}();void function(){function s4j(l4j){function d4j(X4j){1<f4j&&(m4j("alignment"),Q4j(X4j,u4j,N4j.align));2<f4j&&(m4j("distribution"),Q4j(X4j,S4j,N4j.distribute));}function D4j(){m4j(U1j.translate("selection"));var F4j=W1j.append(C4j,"ul"),W4j={};N4j.forEach(function(p4j){p4j=p4j.type;W4j[p4j]||(W4j[p4j]=0);W4j[p4j]++;});for(var e4j in W4j){var U4j=W4j[e4j],G4j=U1j.translate(1<U4j?"layers":"layer"),U4j=W1j.append(F4j,"<li>"+U4j.toLocaleString(U1j.locale)+" </li>"),G4j=W1j.append(U4j,"<u>"+U1j.translate(e4j)+" "+G4j+"</u>");Gesture.click(G4j,z4j(e4j));}}function m4j(V4j){W1j.append(C4j,"<ui-title>"+U1j.translate(V4j)+"</ui-title>");}function Q4j(v4j,L4j,R4j){var P4j=W1j.append(v4j,"div");E4j(L4j,function(x4j,a4j){var i4j=W1j.append(P4j,'<span class="icon-'+a4j+'"></span>');Gesture.click(i4j,function(){return R4j(x4j);});sketch.emit("tooltip:attach",i4j,U1j.translate(a4j),{stickToEdge:true});});}function z4j(k4j){return function(){B4j.select(N4j.filter({type:k4j}),{empty:true});l4j.render.dirtyControls=true;};}var C4j=W1j.empty("ui-selection-info");if(C4j){var B4j=l4j.scene,N4j=B4j.selection,f4j=N4j.length;f4j?(C4j.classList.remove("sk-quote"),d4j(C4j),D4j(C4j)):(C4j.classList.add("sk-quote"),W1j.append(C4j,"\n\t\t<span>"+U1j.translate("select-tool-message")+"</span>\n\t"));}}function t4j(A4j,Y4j){var w4j=A1j.create('<div style="position: relative; z-index: 1; padding-bottom: 60px"></div>');if((Y4j=Y4j.value)&&sketch.agent.getSync("webgl")){return A4j.appendChild(w4j),Y4j.forEach(function(n7j,s7j){function c7j(){I7j.toggle("opened");n7j.opened=I7j.contains("opened");}var r7j=n7j.id;if(s7j=glfx.config["gl_"+r7j]){"colorMatrix"===n7j.id&&(s7j.colorize.noUI=true,s7j.hue.noUI=true,s7j.invert.noUI=true,s7j.monotone.noUI=true);n4j(n7j.data,s7j);var r7j=I4j(q4j.dasherize(r7j)),r7j=A1j.append(w4j,'\n\t\t\t<ui-stack>\n\t\t\t\t<div class="sk-stack-header">\n\t\t\t\t\t<span class="sk-stack-title">'+r7j+'</span>\n\t\t\t\t\t<span class="icon-arrow-down"></span>\n\t\t\t\t\t<span class="icon-undo"></span>\n \t\t\t\t\t<span class="icon-eye-open"></span> \n\x3c!--\t\t\t\t<span class="icon-contextmenu"></span> --\x3e\n\t\t\t\t</div>\n\t\t\t\t<div class="sk-stack-content"></div>\n\t\t\t</ui-stack>\n\t\t'),O7j=r7j.querySelector(".sk-stack-content"),M7j=r7j.querySelector(".sk-stack-header"),o7j=r7j.querySelector(".icon-undo"),T7j=r7j.querySelector(".icon-eye-open"),g7j=r7j.querySelector(".icon-arrow-down"),I7j=r7j.classList;n7j.opened&&I7j.add("opened");Gesture.dblclick(M7j,c7j);P1j.click(g7j,c7j);P1j.click(o7j,function(){var h7j=sketch.doc,y7j=h7j.toolkit.config._presets.defaults.clipart.toSerializable();h7j.configSelection({filter:y7j.filter});P1j.updateConfigPane("clipart");});P1j.click(T7j,function(){var H7j=T7j.classList;H7j.toggle("icon-eye-open");H7j.toggle("icon-eye-close");n7j.enabled=H7j.contains("icon-eye-open");H7j=sketch.doc;H7j.selection.forEach(function(q7j){q7j.filter&&(q7j.dirtyCache=true);});H7j.scene.render();});P1j.createNodes(O7j,s7j);}}),w4j;}}function n4j(j7j,u7j){for(var Z7j in u7j){var E7j=u7j[Z7j];"range"===E7j.type&&(E7j.setValue(j7j[Z7j]),a1j[Z7j]&&(E7j.gradient=a1j[Z7j]));}}function H4j(N7j){var K7j=sketch.doc;if("select"===K7j.tool.type){var J7j=K7j.selection.layer;if(J7j){var t7j=J7j.type;N7j=sketch.doc.toolkit;if(K7j=N7j.getConfig(t7j)){var t7j=N7j.get(t7j).attributes,b7j={isConfig:true},S7j;for(S7j in K7j){var C7j=K7j[S7j];null!=C7j&&(j4j.includes(S7j)||(J4j.includes(C7j.type)?b7j[S7j]=C7j:C7j.clone?b7j[S7j]=C7j.clone(J7j[S7j]):t7j[S7j]&&(b7j[S7j]=J7j[S7j])));}J7j.filter&&(b7j.filter=new Z4j.FilterStack({filter:J7j.filter}));b7j.footer=N7j.config.select.footer;J7j=b7j;}else{J7j=void 0;}return J7j;}}return K7j.toolkit.config[N7j];}function X1j(){return D1j.$("#sk-configure");}function Y1j(){var f7j=X1j();if(f7j){var B7j=f7j.querySelector(".sk-pane-content");return B7j?B7j:D1j.append(f7j,'<div class="sk-pane-content"></div>');}}function c4j(l7j,Q7j){var m7j=sketch.copyConfig(Q7j,{});l7j.forEach(function(z7j){var d7j=z7j.param||z7j.type,D7j=m7j[d7j];z7j.updateControl?z7j.updateControl({key:d7j,value:D7j,configure:m7j}):null!=D7j&&(z7j=z7j.controller,z7j.setValue&&z7j.setValue(D7j));});}function b4j(X7j){return function(W7j){sketch.doc.configSelection(w1j({},X7j.param,W7j));};}function K4j(G7j,F7j){var e7j=F7j.onchange,U7j=F7j.param;return function(P7j){if("set"!==P7j.state){var v7j=sketch.doc,p7j=v7j.toolkit.setConfigProperty(G7j,U7j,P7j.values);if(null!=p7j){var V7j=P7j.gevent;z1j.renderPreviewOverlay({gevent:V7j,$at:P7j.element.parentNode});p7j.getValue&&(p7j=p7j.getValue());v7j.configSelection(w1j({},U7j,p7j),{gevent:V7j,type:G7j.type});e7j&&e7j({configure:G7j,param:U7j,value:p7j,gevent:V7j});V7j.END&&v7j.saveSettings();}}};}function r4j(){function x7j(w7j){w7j=w7j.classList;for(var Y7j=0;Y7j<w7j.length;Y7j++){var A7j=w7j[Y7j];A7j.startsWith("icon-")&&w7j.remove(A7j);}}function k7j(r6j){for(;r6j=r6j.parentNode;){if(r6j.classList.contains("sk-toolset")){return r6j.querySelectorAll(".selected");}}}var i7j=0<arguments.length&&void 0!==arguments[0]?arguments[0]:e1j(),L7j=z1j.getToolGroup(i7j),R7j=D1j.$("[data-tool="+i7j+"]")||D1j.$("[data-tool-group="+L7j+"]");if(R7j){if((L7j=z1j.icons[L7j])&&L7j.children&&(L7j=L7j.children[i7j])){var a7j=R7j.querySelector("ui-button-icon")||R7j;R7j.setAttribute("data-tool",i7j);R7j.setAttribute("data-tooltip",i7j);x7j(a7j);a7j.classList.add(L7j);}i7j===e1j()&&D1j.addClass(R7j,"selected",k7j(R7j));}}function x1j(n6j){var s6j=D1j.empty(X1j());s6j&&(s6j=s6j.parentNode.querySelector(".sk-toolset"))&&(s6j.style.display=n6j);}function T4j(){var I6j=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",T6j=arguments[1],c6j=I6j.split(".").shift();return D1j.$("#sk-"+c6j)&&I6j===V1j&&!T6j;}function e1j(){return sketch.doc.tool.type;}function O4j(M6j){(M6j=D1j.$("#sk-"+M6j))&&D1j.addClass(M6j,"selected",".sk-pane");}function g4j(o6j){(o6j=D1j.$(".tabs .sk-"+o6j))&&D1j.addClass(o6j,"selected","span");}function h4j(){z1j.elements.forEach(function(O6j){O6j.destroy&&O6j.destroy();});z1j.elements=[];}var W1j=sketch.dom,U1j=sketch.lang,E4j=sketch.util.forEach,u4j={"align-left":"left","align-right":"right","align-horizontal":"horizontal","align-top":"top","align-bottom":"bottom","align-vertical":"vertical"},S4j={"distribute-left":"left","distribute-right":"right","distribute-horizontal":"horizontal","distribute-top":"top","distribute-bottom":"bottom","distribute-vertical":"vertical"},A1j=sketch.dom,q4j=sketch.string,P1j=sketch.ui,I4j=sketch.lang.translate,a1j={hue:"#f00 #ff0 #0f0 #0ff #00f #f0f #f00".split(" "),saturation:"#ffffff #ffffbf #9eff9e #7ffffa #5e5eff #ff3fff #f00".split(" "),temperature:["#568fcf","#f7e146"],tint:["#00ae47","#c73baf"],exposure:["$bg-15","$fg"],brightness:["$bg-15","$fg"],contrast:["$fg","$bg-15"]},w1j=function(g6j,h6j,y6j){h6j in g6j?Object.defineProperty(g6j,h6j,{value:y6j,enumerable:true,configurable:true,writable:true}):g6j[h6j]=y6j;return g6j;},M4j=function(){return function(H6j,J6j){if(Array.isArray(H6j)){return H6j;}j.initSymbol();j.initSymbolIterator();if(Symbol.iterator in Object(H6j)){var q6j=[],Z6j=true,u6j=false,j6j=void 0;try{j.initSymbol();j.initSymbolIterator();for(var E6j=H6j[Symbol.iterator](),S6j;!(Z6j=(S6j=E6j.next()).done)&&(q6j.push(S6j.value),!J6j||q6j.length!==J6j);Z6j=true){;}}catch(K6j){u6j=true,j6j=K6j;}finally{try{if(!Z6j&&E6j["return"]){E6j["return"]();}}finally{if(u6j){throw j6j;}}}return q6j;}throw new TypeError("Invalid attempt to destructure non-iterable instance");};}(),o4j=sketch.agent,D1j=sketch.dom,i1j=sketch.feature,L1j=sketch.lang,y4j=sketch.style,z1j=sketch.ui,k1j=sketch.util,Z4j=sketch.ui.dataTypes;sketch.module.add(function(b6j){b6j.on("tool:choose",function(t6j){r4j(t6j);clearTimeout(d1j.id);X1j()&&!T4j("configure")&&(d1j.id=setTimeout(d1j.start,250),z1j.setPane("configure"));});b6j.toolkit.on("tool:ready",function(C6j){(C6j=(C6j=i1j.tools[C6j])&&C6j.cssCursor)&&sketch.emit("cursor:show",C6j);});});var d1j={start:function(){var N6j=X1j();if(N6j){var f6j=Y1j();f6j&&(f6j.style.opacity=0);d1j.$element&&d1j.$element.remove();d1j.$element=D1j.append(N6j,"sk-loader");}},end:function(){clearTimeout(d1j.id);var B6j=Y1j();B6j&&(B6j.style.opacity=1);d1j.$element&&D1j.remove(d1j.$element);}};z1j.rebuild=function(){F1j(true);};var F1j=function(){function l6j(U6j){var D6j=X1j();if(D6j&&D6j.offsetWidth){D6j=e1j();if("select"===D6j){var d6j=sketch.doc.selection.typeOfAll();d6j&&(D6j=d6j);}if(!D6j){return F1j();}var X6j=D6j,d6j=e1j(),X6j=sketch.doc.toolkit.getCurrentConfig(X6j),W6j=V1j+":"+d6j;"select"===d6j&&(W6j+=":"+X6j.type);W6j===p1j?d6j=false:(p1j=W6j,d6j=true);d6j||U6j?z6j(D6j):("select"===D6j?s4j(sketch.doc):z1j.updateConfigPane(D6j),d1j.end());}else if(sketch.sidebar.on){sketch.sidebar.on("open",Q6j);}}function z6j(G6j){var p6j=e1j(),F6j=sketch.doc;if(X1j()){var e6j=Y1j();e6j.classList.remove("sk-pane-"+m6j);e6j.classList.add("sk-pane-"+G6j);m6j=G6j;D1j.empty(e6j);r4j(G6j);var P6j="select"===p6j,V6j=p6j!==G6j;G6j=H4j(G6j);G6j.header?z1j.appendHeader(e6j,G6j.header):"select"===p6j&&(p6j=z1j.appendHeader(e6j,{title:L1j.translate(V6j?"edit":"select"),right:{icon:"icon-contextmenu",onclick:function(v6j){z1j.contextMenu.show("select",{at:{element:v6j.target,align:"top left to bottom center"}});}}}),V6j&&p6j.classList.add("sk-attention"));h4j();z1j.createNodes(e6j,G6j,V6j);P6j&&s4j(F6j);F6j=F6j.tool;F6j.attachInterface&&F6j.attachInterface(F6j.attachedEvents,e6j);}d1j.end();}function Q6j(){sketch.sidebar.off("open",Q6j);l6j();}var m6j=void 0;return k1j.debounce(function(){sketch.doc._interacting?F1j.apply(void 0,arguments):l6j.apply(void 0,arguments);},{leading:true,trailing:true,wait:30});}();z1j.createNodes=function(R6j,i6j,k6j){for(var x6j in i6j){var L6j=i6j[x6j];if(null!=L6j&&null!=L6j.type){var a6j;a6j=(a6j=L6j.noUI)?"function"===typeof a6j?a6j(L6j,x6j,i6j):true:false;if(!a6j){switch(L6j.type){case"input":case"number":z1j.appendInput(R6j,L6j);break;case"button":z1j.appendButton(R6j,L6j);break;case"checkbox":L6j.onchange||(L6j.onchange=b4j(L6j));z1j.elements.push({type:"Checkbox",controller:z1j.appendCheckbox(R6j,L6j),param:L6j.param});break;case"range":L6j=L6j.clone();L6j.onchange=K4j(i6j,L6j);z1j.elements.push({type:"Range",controller:z1j.appendRange(R6j,L6j),param:L6j.param});break;case"html":z1j.appendHTML(R6j,i6j,L6j);break;case"palette":z1j.appendPalette(R6j,i6j,L6j);break;case"select":if("blend"===L6j.title&&(L6j.selected=y4j.toBlendInternal(L6j.selected),false===o4j.gco.__blend||false===i1j.style.blend)){break;}z1j.elements.push({type:"SelectMenu",controller:z1j.appendSelectMenu(R6j,L6j),param:L6j.param});break;case"textarea":z1j.appendInput(R6j,L6j);break;case"filePicker":if(k6j){break;}z1j.appendFilePicker(R6j,L6j);break;case"resource":z1j.appendResource(R6j,L6j);break;case"subTool":if(k6j&&"floodfill"===i6j.type){break;}z1j.appendSubTool(R6j,L6j,i6j.type);break;case"filter":t4j(R6j,L6j);}}}}};var j4j=["reset","toolkit","paintIntoShapes"],J4j=["filePicker","html","palette","resource","subTool"];z1j.updateConfigPane=function(w6j){var Y6j=H4j(w6j);Y6j&&c4j(z1j.elements,Y6j);(w6j=sketch.doc.toolkit.getCurrentConfig(w6j).filter)&&w6j.length&&w6j.forEach(function(r8s){var A6j=glfx.config["gl_"+r8s.id];if(A6j){var s8s=z1j.elements.filter(function(n8s){return!!A6j[n8s.param];});n4j(r8s.data,A6j);c4j(s8s,A6j);}});};z1j._updateAndPreview=function(c8s,I8s,M8s){var T8s=sketch.doc;T8s.configSelection(M8s,{gevent:I8s});z1j.renderPreviewOverlay({$at:c8s,gevent:I8s});I8s.END&&T8s.saveSettings();};var G1j=z1j.pages||(z1j.pages={}),R1j=G1j.registrar={},v1j={},V1j="",p1j="";G1j.getPathAt=function(o8s){return V1j.split(".")[o8s];};G1j.register=function(O8s){var g8s=O8s.type;O8s.autoDisplay=false!==O8s.autoDisplay;R1j[g8s]=O8s;};void function(){var h8s={};G1j.register({type:"layers",pane:"mainContent",construct:function(){x1j("none");var y8s=X1j();null!=y8s&&(y8s.classList.remove("sk-pane-tools"),D1j.append(y8s,'<div class="sk-header">'+L1j.translate("layers")+"</div>"),sketch.doc.tools.groupEditor.attachInterface(h8s,D1j.append(y8s,'<div class="sk-pane-content sk-pane-groupEditor"></div>')),p1j="layers");},deconstruct:function(){Gesture.bulk(h8s,"detach");}});}();void function(){var H8s={};G1j.register({type:"history",pane:"mainContent",construct:function(){x1j("none");var q8s=X1j();null!=q8s&&(q8s.classList.remove("sk-pane-tools"),D1j.append(q8s,'<div class="sk-header">'+L1j.translate("history")+"</div>"),z1j.HistoryPane(H8s,D1j.append(q8s,'<div class="sk-pane-content sk-pane-timeMachine"></div>')),p1j="history");},deconstruct:function(){Gesture.bulk(H8s,"detach");}});}();void function(){var Z8s={};G1j.register({autoDisplay:false,type:"configure",pane:"mainContent",construct:function(){x1j("block");var E8s=X1j();if(null!=E8s){E8s.classList.add("sk-pane-tools");D1j.append(E8s,'<div class="sk-pane-content"></div>');var E8s=sketch.doc,j8s=E8s.selection,u8s=k1j.debounce(function(){return F1j();},30);Z8s.dirtyConfig=E8s.on("dirtyConfig",u8s);Z8s.empty=j8s.on("Empty",u8s);Z8s.select=j8s.on("Select",u8s);Z8s.tool=E8s.on("tool:ready",u8s);O4j("configure");g4j("configure");F1j();}},deconstruct:function(){Gesture.bulk(Z8s,"detach");}});}();z1j.showConfigPane=function(){z1j.setPane(function(){var J8s=sketch.doc,S8s=e1j();return"select"!==S8s?S8s:(J8s=J8s.selection.typeOfAll())?J8s:"select";}());};z1j.setPane=function(){var t8s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",K8s=t8s.split("."),K8s=M4j(K8s,1)[0],b8s=R1j[K8s];b8s&&!T4j.apply(void 0,arguments)&&(V1j=t8s,function(){var C8s=v1j[b8s.pane];C8s&&(C8s=R1j[C8s[C8s.length-1]])&&C8s.deconstruct&&C8s.deconstruct();}(),function(){var N8s=b8s.pane,f8s=b8s.type;v1j[N8s]||(v1j[N8s]=[]);v1j[N8s].push(f8s);b8s.construct();}(),D1j.$("#sk-"+K8s)&&b8s.autoDisplay&&(O4j(K8s),g4j(K8s)));};z1j.elements=[];z1j.destroy=function(){h4j();p1j=V1j="";};}();void function(){function L8s(R8s){return z8s.createFooter({title:"reset",className:"sk-attention",onclick:function(){var i8s=R8s.toolkit.config._presets.defaults.clipart.toSerializable();R8s.configSelection({filter:i8s.filter});z8s.updateConfigPane("clipart");}})();}var P8s=sketch.agent,v8s=sketch.detect,G8s=sketch.lang,e8s=sketch.module,l8s=sketch.ui,p8s=sketch.util;l8s.BlendModePopout=function(x8s){var a8s=void 0;return new l8s.dataTypes.HTML({value:"normal",appendElement:function(w8s){var A8s=w8s.$parent,k8s=w8s.attr;w8s=w8s.configure;a8s||(a8s=e8s.BlendModeRenderer(60,60,x8s.pixelRatio));var r2s=v8s.accumulatePaint[w8s.type],Y8s={};p8s.forEach("normal darken multiply color-burn lighten screen color-dodge overlay soft-light hard-light difference exclusion disco hue saturation color luminosity erase source-atop destination-over".split(" "),function(n2s){if(P8s.gco[n2s]||"erase"===n2s||"disco"===n2s){if(r2s||"disco"!==n2s){var I2s;I2s=a8s[n2s];I2s||(I2s=sketch.Canvas2D(),I2s.classList.add("icon",n2s),a8s.draw(I2s,n2s),I2s=a8s[n2s]=I2s);Y8s[n2s]=I2s;}}});var k8s=k8s.value,s2s=l8s.appendPopoutTrigger(A8s,Y8s,{tooltip:G8s.translate("set-blend-mode"),selected:"source-over"===k8s?"normal":k8s,onChoose:function(T2s){x8s.setBlend(T2s);}});l8s.elements.push({type:"BlendModePopout",param:"blend",updateControl:function(c2s){c2s=c2s.value;s2s.setValue("source-over"===c2s?"normal":c2s);}});}});};var d8s=sketch.dom,D8s=sketch.ui,X8s=sketch.lang.translate;D8s.CameraStreamPreviewer=function(M2s){return new D8s.dataTypes.HTML(function(){var h2s=M2s.tools.camera,O2s=h2s.userMedia,o2s=d8s.create("div");o2s.className="sk-video-container";d8s.append(o2s,"ui-title").innerHTML=X8s("presets");var g2s=d8s.append(o2s,"div");g2s.className="sk-attention sk-button";g2s.textContent=X8s("take-snapshot");Gesture.click(g2s,function(){return h2s.capture();});O2s.$container?o2s.appendChild(O2s.$container):sketch.tools.camera.getUserMedia(O2s).then(function(){return D8s.showConfigPane();}).catch(function(y2s){console.error(y2s);});return o2s;});};var Q8s=sketch.ui;Q8s.ContextualFooter=function(q2s){var Z2s=q2s.doc,E2s=q2s.onStartKey,u2s=q2s.onEndKey,H2s=q2s.buttons;return new Q8s.dataTypes.HTML(function(j2s){"function"===typeof H2s&&(H2s=H2s(j2s));j2s=Q8s.createFooter(H2s);var J2s=j2s.classList,S2s={start:Z2s.on(E2s,function(){J2s.remove("hidden");}),end:Z2s.on(u2s,function(){J2s.add("hidden");})};Q8s.elements.push({destroy:function(){Gesture.bulk(S2s,"detach");}});J2s.add("can-be-hidden","hidden");return j2s;});};var z8s=sketch.ui;z8s.FilterFooter=function(K2s){return new z8s.dataTypes.HTML(function(){return L8s(K2s);});};var W8s=sketch.ui;W8s.PathFooter=function(b2s){function t2s(){var f2s=C2s();f2s.closePath();f2s.savePath();}function N2s(){C2s().savePath();}function C2s(){var B2s=void 0,m2s=b2s.gesture.items,l2s;for(l2s in m2s){B2s=m2s[l2s];}return B2s.layer.brush;}return W8s.ContextualFooter({doc:b2s,onStartKey:"path:start",onEndKey:"path:end",buttons:function(Q2s){if("select"!==b2s.tool.type){return"polygon"===Q2s.type?[{title:"close-path",className:"sk-attention",onclick:t2s}]:[{title:"finish-editing",className:"sk-attention",onclick:N2s},{title:"close-path",className:"sk-attention",onclick:t2s}];}}});};var V8s=function(z2s,D2s,d2s){D2s in z2s?Object.defineProperty(z2s,D2s,{value:d2s,enumerable:true,configurable:true,writable:true}):z2s[D2s]=d2s;return z2s;},m8s=sketch.dom,U8s=sketch.lang,B8s=sketch.ui,F8s=sketch.util;B8s.TextAlignAndStyle=function(X2s){return new B8s.dataTypes.HTML(function(W2s){var U2s=m8s.create('<div class="sk-text-styles"></div>');U2s.appendChild(function(){function e2s(F2s){F2s&&m8s.addClass(F2s,"selected",".sk-button");}var G2s=m8s.create('<div class="sk-option-group"></div>');["left","center","right","justify"].forEach(function(p2s){var V2s=["sk-button","icon-paragraph-"+p2s];W2s.textAlign===p2s&&V2s.push("selected");var P2s=B8s.Button({parentNode:G2s,tooltip:U8s.translate(p2s),className:V2s.join(" "),onclick:function(){sketch.emit("tooltip:hide");e2s(P2s);X2s.configSelection({textAlign:p2s});B8s.renderPreviewOverlay({$at:G2s});}});});B8s.elements.push({type:"textAlign",updateControl:function(v2s){e2s(G2s.querySelector(".icon-paragraph-"+v2s.configure.textAlign));}});return G2s;}());U2s.appendChild(function(){var L2s=m8s.create('<div class="sk-option-group"></div>'),i2s=W2s.textDecoration||"none",R2s={bold:{cssProperty:"fontWeight",value:"bold",defaults:"normal",enabled:"bold"===(W2s.fontWeight||"normal")},italic:{cssProperty:"fontStyle",value:"italic",defaults:"normal",enabled:"italic"===(W2s.fontStyle||"normal")},underline:{cssProperty:"textDecoration",value:"underline",defaults:"none",enabled:i2s.includes("underline")},"line-through":{cssProperty:"textDecoration",value:"line-through",defaults:"none",enabled:i2s.includes("line-through")}};F8s.forEach(R2s,function(a2s){var x2s=a2s.cssProperty,A2s=a2s.defaults,k2s=a2s.value,w2s=B8s.Button({parentNode:L2s,tooltip:U8s.translate(a2s.value),className:"sk-button icon-"+k2s,onclick:function(){sketch.emit("tooltip:hide");a2s.enabled=w2s.toggle("selected");var r0s=[];"textDecoration"===x2s?(R2s.underline.enabled&&r0s.push("underline"),R2s["line-through"].enabled&&r0s.push("line-through")):a2s.enabled&&r0s.push(k2s);X2s.configSelection(V8s({},x2s,r0s.join(",")||A2s));B8s.renderPreviewOverlay({$at:L2s});}}).classList,Y2s=W2s[x2s];Y2s&&Y2s.includes(k2s)&&w2s.add("selected");});B8s.elements.push({type:"fontStyle",updateControl:function(n0s){var s0s=n0s.configure;n0s=s0s.fontStyle||"normal";var I0s=s0s.fontWeight||"normal",s0s=s0s.textDecoration||"none";m8s.toggleClass(L2s.querySelector(".icon-bold"),"selected","bold"===I0s);m8s.toggleClass(L2s.querySelector(".icon-italic"),"selected","italic"===n0s);m8s.toggleClass(L2s.querySelector(".icon-line-through"),"selected",s0s.includes("line-through"));m8s.toggleClass(L2s.querySelector(".icon-underline"),"selected",s0s.includes("underline"));}});return L2s;}());return U2s;});};}();(function(c0s,T0s){"object"===typeof exports&&"undefined"!==typeof module?module.exports=T0s():"function"===typeof define&&define.amd?define(T0s):c0s.PerfectScrollbar=T0s();}(this,function(){function O0s(W0s,U0s){for(var X0s in U0s){var d0s=U0s[X0s];"number"===typeof d0s&&(d0s+="px");W0s.style[X0s]=d0s;}return W0s;}function u0s(e0s){var G0s=document.createElement("div");G0s.className=e0s;return G0s;}function y0s(F0s,p0s){if(!J0s){throw Error("No element matching method supported");}return J0s.call(F0s,p0s);}function q0s(V0s){V0s.remove?V0s.remove():V0s.parentNode&&V0s.parentNode.removeChild(V0s);}function l0s(P0s,v0s){return Array.prototype.filter.call(P0s.children,function(L0s){return y0s(L0s,v0s);});}function Q0s(R0s,a0s){R0s=R0s.element.classList;var i0s=o0s.state.scrolling(a0s);R0s.contains(i0s)?clearTimeout(K0s[a0s]):R0s.add(i0s);}function f0s(x0s,k0s){K0s[k0s]=setTimeout(function(){return x0s.isAlive&&x0s.element.classList.remove(o0s.state.scrolling(k0s));},x0s.settings.scrollingThreshold);}function j0s(Y0s){if("function"===typeof window.CustomEvent){return new CustomEvent(Y0s);}var w0s=document.createEvent("CustomEvent");w0s.initCustomEvent(Y0s,false,false,void 0);return w0s;}function M0s(A0s){return parseInt(A0s,10)||0;}function D0s(r3s){r3s=getComputedStyle(r3s);return M0s(r3s.width)+M0s(r3s.paddingLeft)+M0s(r3s.paddingRight)+M0s(r3s.borderLeftWidth)+M0s(r3s.borderRightWidth);}function C0s(n3s,s3s){n3s.settings.minScrollbarLength&&(s3s=Math.max(s3s,n3s.settings.minScrollbarLength));n3s.settings.maxScrollbarLength&&(s3s=Math.min(s3s,n3s.settings.maxScrollbarLength));return s3s;}function z0s(T3s,I3s){var c3s={width:I3s.railXWidth};c3s.left=I3s.isRtl?I3s.negativeScrollAdjustment+T3s.scrollLeft+I3s.containerWidth-I3s.contentWidth:T3s.scrollLeft;I3s.isScrollbarXUsingBottom?c3s.bottom=I3s.scrollbarXBottom-T3s.scrollTop:c3s.top=I3s.scrollbarXTop+T3s.scrollTop;O0s(I3s.scrollbarXRail,c3s);c3s={top:T3s.scrollTop,height:I3s.railYHeight};I3s.isScrollbarYUsingRight?c3s.right=I3s.isRtl?I3s.contentWidth-(I3s.negativeScrollAdjustment+T3s.scrollLeft)-I3s.scrollbarYRight-I3s.scrollbarYOuterWidth:I3s.scrollbarYRight-T3s.scrollLeft:c3s.left=I3s.isRtl?I3s.negativeScrollAdjustment+T3s.scrollLeft+2*I3s.containerWidth-I3s.contentWidth-I3s.scrollbarYLeft-I3s.scrollbarYOuterWidth:I3s.scrollbarYLeft+T3s.scrollLeft;O0s(I3s.scrollbarYRail,c3s);O0s(I3s.scrollbarX,{left:I3s.scrollbarXLeft,width:I3s.scrollbarXWidth-I3s.railBorderXWidth});O0s(I3s.scrollbarY,{top:I3s.scrollbarYTop,height:I3s.scrollbarYHeight-I3s.railBorderYWidth});}function t0s(M3s,o3s){function J3s(b3s){q3s[y3s]=Z3s+O3s*(b3s[h3s]-g3s);Q0s(M3s,H3s);g0s(M3s);b3s.stopPropagation();b3s.preventDefault();}function K3s(){f0s(M3s,H3s);M3s.event.unbind(M3s.ownerDocument,"mousemove",J3s);}var u3s=o3s[0],j3s=o3s[1],h3s=o3s[2],S3s=o3s[3],E3s=o3s[5],y3s=o3s[6],H3s=o3s[7],q3s=M3s.element,Z3s=null,g3s=null,O3s=null;M3s.event.bind(M3s[o3s[4]],"mousedown",function(t3s){Z3s=q3s[y3s];g3s=t3s[h3s];O3s=(M3s[j3s]-M3s[u3s])/(M3s[S3s]-M3s[E3s]);M3s.event.bind(M3s.ownerDocument,"mousemove",J3s);M3s.event.once(M3s.ownerDocument,"mouseup",K3s);t3s.stopPropagation();t3s.preventDefault();});}var J0s="undefined"!==typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.msMatchesSelector),o0s={main:"ps",element:{thumb:function(C3s){return"ps__thumb-"+C3s;},rail:function(N3s){return"ps__rail-"+N3s;},consuming:"ps__child--consume"},state:{focus:"ps--focus",active:function(f3s){return"ps--active-"+f3s;},scrolling:function(B3s){return"ps--scrolling-"+B3s;}}},K0s={x:null,y:null},Z0s=function(m3s){this.element=m3s;this.handlers={};},h0s={isEmpty:{configurable:true}};Z0s.prototype.bind=function(l3s,Q3s){"undefined"===typeof this.handlers[l3s]&&(this.handlers[l3s]=[]);this.handlers[l3s].push(Q3s);this.element.addEventListener(l3s,Q3s,false);};Z0s.prototype.unbind=function(z3s,D3s){var d3s=this;this.handlers[z3s]=this.handlers[z3s].filter(function(X3s){if(D3s&&X3s!==D3s){return true;}d3s.element.removeEventListener(z3s,X3s,false);return false;});};Z0s.prototype.unbindAll=function(){var W3s=this;for(var U3s in W3s.handlers){W3s.unbind(U3s);}};h0s.isEmpty.get=function(){var G3s=this;return Object.keys(this.handlers).every(function(e3s){return 0===G3s.handlers[e3s].length;});};Object.defineProperties(Z0s.prototype,h0s);var H0s=function(){this.eventElements=[];};H0s.prototype.eventElement=function(p3s){var F3s=this.eventElements.filter(function(V3s){return V3s.element===p3s;})[0];F3s||(F3s=new Z0s(p3s),this.eventElements.push(F3s));return F3s;};H0s.prototype.bind=function(P3s,v3s,L3s){this.eventElement(P3s).bind(v3s,L3s);};H0s.prototype.unbind=function(R3s,i3s,a3s){R3s=this.eventElement(R3s);R3s.unbind(i3s,a3s);R3s.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(R3s),1);};H0s.prototype.unbindAll=function(){this.eventElements.forEach(function(x3s){return x3s.unbindAll();});this.eventElements=[];};H0s.prototype.once=function(A3s,Y3s,r5s){var k3s=this.eventElement(A3s),w3s=function(s5s){k3s.unbind(Y3s,w3s);r5s(s5s);};k3s.bind(Y3s,w3s);};var E0s=function(I5s,n5s,O5s,M5s,o5s){void 0===M5s&&(M5s=true);void 0===o5s&&(o5s=false);if("top"===n5s){n5s="contentHeight containerHeight scrollTop y up down".split(" ");}else if("left"===n5s){n5s="contentWidth containerWidth scrollLeft x left right".split(" ");}else{throw Error("A proper axis should be provided");}var h5s=n5s[0],y5s=n5s[1],g5s=n5s[2],T5s=n5s[3],H5s=n5s[4];n5s=n5s[5];void 0===M5s&&(M5s=true);void 0===o5s&&(o5s=false);var c5s=I5s.element;I5s.reach[T5s]=null;1>c5s[g5s]&&(I5s.reach[T5s]="start");c5s[g5s]>I5s[h5s]-I5s[y5s]-1&&(I5s.reach[T5s]="end");O5s&&(c5s.dispatchEvent(j0s("ps-scroll-"+T5s)),0>O5s?c5s.dispatchEvent(j0s("ps-scroll-"+H5s)):0<O5s&&c5s.dispatchEvent(j0s("ps-scroll-"+n5s)),M5s&&(Q0s(I5s,T5s),f0s(I5s,T5s)));I5s.reach[T5s]&&(O5s||o5s)&&c5s.dispatchEvent(j0s("ps-"+T5s+"-reach-"+I5s.reach[T5s]));},m0s="undefined"!==typeof document&&"WebkitAppearance"in document.documentElement.style,b0s="undefined"!==typeof window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),S0s="undefined"!==typeof navigator&&navigator.msMaxTouchPoints,N0s="undefined"!==typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent),g0s=function(q5s){var Z5s=q5s.element;q5s.containerWidth=Z5s.clientWidth;q5s.containerHeight=Z5s.clientHeight;q5s.contentWidth=Z5s.scrollWidth;q5s.contentHeight=Z5s.scrollHeight;Z5s.contains(q5s.scrollbarXRail)||(l0s(Z5s,o0s.element.rail("x")).forEach(function(E5s){return q0s(E5s);}),Z5s.appendChild(q5s.scrollbarXRail));Z5s.contains(q5s.scrollbarYRail)||(l0s(Z5s,o0s.element.rail("y")).forEach(function(u5s){return q0s(u5s);}),Z5s.appendChild(q5s.scrollbarYRail));!q5s.settings.suppressScrollX&&q5s.containerWidth+q5s.settings.scrollXMarginOffset<q5s.contentWidth?(q5s.scrollbarXActive=true,q5s.railXWidth=q5s.containerWidth-q5s.railXMarginWidth,q5s.railXRatio=q5s.containerWidth/q5s.railXWidth,q5s.scrollbarXWidth=C0s(q5s,M0s(q5s.railXWidth*q5s.containerWidth/q5s.contentWidth)),q5s.scrollbarXLeft=M0s((q5s.negativeScrollAdjustment+Z5s.scrollLeft)*(q5s.railXWidth-q5s.scrollbarXWidth)/(q5s.contentWidth-q5s.containerWidth))):q5s.scrollbarXActive=false;!q5s.settings.suppressScrollY&&q5s.containerHeight+q5s.settings.scrollYMarginOffset<q5s.contentHeight?(q5s.scrollbarYActive=true,q5s.railYHeight=q5s.containerHeight-q5s.railYMarginHeight,q5s.railYRatio=q5s.containerHeight/q5s.railYHeight,q5s.scrollbarYHeight=C0s(q5s,M0s(q5s.railYHeight*q5s.containerHeight/q5s.contentHeight)),q5s.scrollbarYTop=M0s(Z5s.scrollTop*(q5s.railYHeight-q5s.scrollbarYHeight)/(q5s.contentHeight-q5s.containerHeight))):q5s.scrollbarYActive=false;q5s.scrollbarXLeft>=q5s.railXWidth-q5s.scrollbarXWidth&&(q5s.scrollbarXLeft=q5s.railXWidth-q5s.scrollbarXWidth);q5s.scrollbarYTop>=q5s.railYHeight-q5s.scrollbarYHeight&&(q5s.scrollbarYTop=q5s.railYHeight-q5s.scrollbarYHeight);z0s(Z5s,q5s);q5s.scrollbarXActive?Z5s.classList.add(o0s.state.active("x")):(Z5s.classList.remove(o0s.state.active("x")),q5s.scrollbarXWidth=0,q5s.scrollbarXLeft=0,Z5s.scrollLeft=0);q5s.scrollbarYActive?Z5s.classList.add(o0s.state.active("y")):(Z5s.classList.remove(o0s.state.active("y")),q5s.scrollbarYHeight=0,q5s.scrollbarYTop=0,Z5s.scrollTop=0);},B0s={"click-rail":function(j5s){j5s.event.bind(j5s.scrollbarY,"mousedown",function(J5s){return J5s.stopPropagation();});j5s.event.bind(j5s.scrollbarYRail,"mousedown",function(S5s){var K5s=S5s.pageY-window.pageYOffset-j5s.scrollbarYRail.getBoundingClientRect().top>j5s.scrollbarYTop?1:-1;j5s.element.scrollTop+=K5s*j5s.containerHeight;g0s(j5s);S5s.stopPropagation();});j5s.event.bind(j5s.scrollbarX,"mousedown",function(b5s){return b5s.stopPropagation();});j5s.event.bind(j5s.scrollbarXRail,"mousedown",function(t5s){var C5s=t5s.pageX-window.pageXOffset-j5s.scrollbarXRail.getBoundingClientRect().left>j5s.scrollbarXLeft?1:-1;j5s.element.scrollLeft+=C5s*j5s.containerWidth;g0s(j5s);t5s.stopPropagation();});},"drag-thumb":function(N5s){t0s(N5s,"containerWidth contentWidth pageX railXWidth scrollbarX scrollbarXWidth scrollLeft x".split(" "));t0s(N5s,"containerHeight contentHeight pageY railYHeight scrollbarY scrollbarYHeight scrollTop y".split(" "));},keyboard:function(f5s){function m5s(Q5s,z5s){var l5s=B5s.scrollTop;if(0===Q5s){if(!f5s.scrollbarYActive){return false;}if(0===l5s&&0<z5s||l5s>=f5s.contentHeight-f5s.containerHeight&&0>z5s){return!f5s.settings.wheelPropagation;}}l5s=B5s.scrollLeft;if(0===z5s){if(!f5s.scrollbarXActive){return false;}if(0===l5s&&0>Q5s||l5s>=f5s.contentWidth-f5s.containerWidth&&0<Q5s){return!f5s.settings.wheelPropagation;}}return true;}var B5s=f5s.element;f5s.event.bind(f5s.ownerDocument,"keydown",function(d5s){if(!(d5s.isDefaultPrevented&&d5s.isDefaultPrevented()||d5s.defaultPrevented)&&(y0s(B5s,":hover")||y0s(f5s.scrollbarX,":focus")||y0s(f5s.scrollbarY,":focus"))){var D5s=document.activeElement?document.activeElement:f5s.ownerDocument.activeElement;if(D5s){if("IFRAME"===D5s.tagName){D5s=D5s.contentDocument.activeElement;}else{for(;D5s.shadowRoot;){D5s=D5s.shadowRoot.activeElement;}}if(y0s(D5s,"input,[contenteditable]")||y0s(D5s,"select,[contenteditable]")||y0s(D5s,"textarea,[contenteditable]")||y0s(D5s,"button,[contenteditable]")){return;}}var X5s=D5s=0;switch(d5s.which){case 37:D5s=d5s.metaKey?-f5s.contentWidth:d5s.altKey?-f5s.containerWidth:-30;break;case 38:X5s=d5s.metaKey?f5s.contentHeight:d5s.altKey?f5s.containerHeight:30;break;case 39:D5s=d5s.metaKey?f5s.contentWidth:d5s.altKey?f5s.containerWidth:30;break;case 40:X5s=d5s.metaKey?-f5s.contentHeight:d5s.altKey?-f5s.containerHeight:-30;break;case 32:X5s=d5s.shiftKey?f5s.containerHeight:-f5s.containerHeight;break;case 33:X5s=f5s.containerHeight;break;case 34:X5s=-f5s.containerHeight;break;case 36:X5s=f5s.contentHeight;break;case 35:X5s=-f5s.contentHeight;break;default:return;}f5s.settings.suppressScrollX&&0!==D5s||f5s.settings.suppressScrollY&&0!==X5s||(B5s.scrollTop-=X5s,B5s.scrollLeft+=D5s,g0s(f5s),m5s(D5s,X5s)&&d5s.preventDefault());}});},wheel:function(U5s){function e5s(F5s,V5s,P5s){if(!m0s&&W5s.querySelector("select:focus")){return true;}if(!W5s.contains(F5s)){return false;}for(;F5s&&F5s!==W5s;){if(F5s.classList.contains(o0s.element.consuming)){return true;}var p5s=getComputedStyle(F5s);if([p5s.overflow,p5s.overflowX,p5s.overflowY].join("").match(/(scroll|auto)/)){p5s=F5s.scrollHeight-F5s.clientHeight;if(0<p5s&&!(0===F5s.scrollTop&&0<P5s||F5s.scrollTop===p5s&&0>P5s)){return true;}p5s=F5s.scrollLeft-F5s.clientWidth;if(0<p5s&&!(0===F5s.scrollLeft&&0>V5s||F5s.scrollLeft===p5s&&0<V5s)){return true;}}F5s=F5s.parentNode;}return false;}function G5s(R5s){var v5s;var L5s=R5s.deltaX;v5s=-1*R5s.deltaY;if("undefined"===typeof L5s||"undefined"===typeof v5s){L5s=-1*R5s.wheelDeltaX/6,v5s=R5s.wheelDeltaY/6;}R5s.deltaMode&&1===R5s.deltaMode&&(L5s*=10,v5s*=10);L5s!==L5s&&v5s!==v5s&&(L5s=0,v5s=R5s.wheelDelta);v5s=R5s.shiftKey?[-v5s,-L5s]:[L5s,v5s];L5s=v5s[0];v5s=v5s[1];if(!e5s(R5s.target,L5s,v5s)){var i5s=false;U5s.settings.useBothWheelAxes?U5s.scrollbarYActive&&!U5s.scrollbarXActive?(W5s.scrollTop=v5s?W5s.scrollTop-v5s*U5s.settings.wheelSpeed:W5s.scrollTop+L5s*U5s.settings.wheelSpeed,i5s=true):U5s.scrollbarXActive&&!U5s.scrollbarYActive&&(W5s.scrollLeft=L5s?W5s.scrollLeft+L5s*U5s.settings.wheelSpeed:W5s.scrollLeft-v5s*U5s.settings.wheelSpeed,i5s=true):(W5s.scrollTop-=v5s*U5s.settings.wheelSpeed,W5s.scrollLeft+=L5s*U5s.settings.wheelSpeed);g0s(U5s);if(!i5s){var i5s=0===W5s.scrollTop,a5s=W5s.scrollTop+W5s.offsetHeight===W5s.scrollHeight,x5s=0===W5s.scrollLeft,k5s=W5s.scrollLeft+W5s.offsetWidth===W5s.offsetWidth,i5s=(Math.abs(v5s)>Math.abs(L5s)?i5s||a5s:x5s||k5s)?!U5s.settings.wheelPropagation:true;}i5s&&!R5s.ctrlKey&&(R5s.stopPropagation(),R5s.preventDefault());}}var W5s=U5s.element;"undefined"!==typeof window.onwheel?U5s.event.bind(W5s,"wheel",G5s):"undefined"!==typeof window.onmousewheel&&U5s.event.bind(W5s,"mousewheel",G5s);},touch:function(w5s){var r9s,s9s;function o9s(g9s){return g9s.pointerType&&"pen"===g9s.pointerType&&0===g9s.buttons?false:g9s.targetTouches&&1===g9s.targetTouches.length||g9s.pointerType&&"mouse"!==g9s.pointerType&&g9s.pointerType!==g9s.MSPOINTER_TYPE_MOUSE?true:false;}function T9s(h9s){o9s(h9s)&&(h9s=h9s.targetTouches?h9s.targetTouches[0]:h9s,n9s.pageX=h9s.pageX,n9s.pageY=h9s.pageY,I9s=new Date().getTime(),null!==A5s&&clearInterval(A5s));}function O9s(y9s,q9s,Z9s){if(!Y5s.contains(y9s)){return false;}for(;y9s&&y9s!==Y5s;){if(y9s.classList.contains(o0s.element.consuming)){return true;}var H9s=getComputedStyle(y9s);if([H9s.overflow,H9s.overflowX,H9s.overflowY].join("").match(/(scroll|auto)/)){H9s=y9s.scrollHeight-y9s.clientHeight;if(0<H9s&&!(0===y9s.scrollTop&&0<Z9s||y9s.scrollTop===H9s&&0>Z9s)){return true;}H9s=y9s.scrollLeft-y9s.clientWidth;if(0<H9s&&!(0===y9s.scrollLeft&&0>q9s||y9s.scrollLeft===H9s&&0<q9s)){return true;}}y9s=y9s.parentNode;}return false;}function c9s(S9s){if(o9s(S9s)){var E9s=S9s.targetTouches?S9s.targetTouches[0]:S9s,u9s={pageX:E9s.pageX,pageY:E9s.pageY},E9s=u9s.pageX-n9s.pageX,j9s=u9s.pageY-n9s.pageY;if(!O9s(S9s.target,E9s,j9s)){Y5s.scrollTop-=j9s;Y5s.scrollLeft-=E9s;g0s(w5s);n9s=u9s;var u9s=new Date().getTime(),J9s=u9s-I9s;0<J9s&&(r9s=E9s/J9s,s9s=j9s/J9s,I9s=u9s);a:{var u9s=Y5s.scrollTop,J9s=Y5s.scrollLeft,K9s=Math.abs(E9s),b9s=Math.abs(j9s);if(b9s>K9s){if(0>j9s&&u9s===w5s.contentHeight-w5s.containerHeight||0<j9s&&0===u9s){E9s=0===window.scrollY&&0<j9s&&N0s;break a;}}else if(K9s>b9s&&(0>E9s&&J9s===w5s.contentWidth-w5s.containerWidth||0<E9s&&0===J9s)){E9s=true;break a;}E9s=true;}E9s&&S9s.preventDefault();}}}function M9s(){w5s.settings.swipeEasing&&(clearInterval(A5s),A5s=setInterval(function(){if(w5s.isInitialized){clearInterval(A5s);}else if(r9s||s9s){if(.01>Math.abs(r9s)&&.01>Math.abs(s9s)){clearInterval(A5s);}else{var t9s=30*r9s;Y5s.scrollTop-=30*s9s;Y5s.scrollLeft-=t9s;g0s(w5s);r9s*=.8;s9s*=.8;}}else{clearInterval(A5s);}},10));}if(b0s||S0s){var Y5s=w5s.element,n9s={},I9s=0;s9s=r9s=void 0;var A5s=null;b0s?(w5s.event.bind(Y5s,"touchstart",T9s),w5s.event.bind(Y5s,"touchmove",c9s),w5s.event.bind(Y5s,"touchend",M9s)):S0s&&(window.PointerEvent?(w5s.event.bind(Y5s,"pointerdown",T9s),w5s.event.bind(Y5s,"pointermove",c9s),w5s.event.bind(Y5s,"pointerup",M9s)):window.MSPointerEvent&&(w5s.event.bind(Y5s,"MSPointerDown",T9s),w5s.event.bind(Y5s,"MSPointerMove",c9s),w5s.event.bind(Y5s,"MSPointerUp",M9s)));}}},h0s=function(C9s,N9s){var m9s=this;void 0===N9s&&(N9s={});"string"===typeof C9s&&(C9s=document.querySelector(C9s));if(!C9s||!C9s.nodeName){throw Error("no element is specified to initialize PerfectScrollbar");}this.element=C9s;C9s.classList.add(o0s.main);this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1E3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:false,suppressScrollY:false,swipeEasing:true,useBothWheelAxes:false,wheelPropagation:false,wheelSpeed:1};for(var B9s in N9s){m9s.settings[B9s]=N9s[B9s];}this.contentHeight=this.contentWidth=this.containerHeight=this.containerWidth=null;N9s=function(){return C9s.classList.add(o0s.state.focus);};B9s=function(){return C9s.classList.remove(o0s.state.focus);};this.isRtl="rtl"===getComputedStyle(C9s).direction;this.negativeScrollAdjustment=(this.isNegativeScroll=function(){var l9s=C9s.scrollLeft,Q9s;C9s.scrollLeft=-1;Q9s=0>C9s.scrollLeft;C9s.scrollLeft=l9s;return Q9s;}())?C9s.scrollWidth-C9s.clientWidth:0;this.event=new H0s();this.ownerDocument=C9s.ownerDocument||document;this.scrollbarXRail=u0s(o0s.element.rail("x"));C9s.appendChild(this.scrollbarXRail);this.scrollbarX=u0s(o0s.element.thumb("x"));this.scrollbarXRail.appendChild(this.scrollbarX);this.scrollbarX.setAttribute("tabindex",0);this.event.bind(this.scrollbarX,"focus",N9s);this.event.bind(this.scrollbarX,"blur",B9s);this.scrollbarXLeft=this.scrollbarXWidth=this.scrollbarXActive=null;var f9s=getComputedStyle(this.scrollbarXRail);this.scrollbarXBottom=parseInt(f9s.bottom,10);isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=false,this.scrollbarXTop=M0s(f9s.top)):this.isScrollbarXUsingBottom=true;this.railBorderXWidth=M0s(f9s.borderLeftWidth)+M0s(f9s.borderRightWidth);O0s(this.scrollbarXRail,{display:"block"});this.railXMarginWidth=M0s(f9s.marginLeft)+M0s(f9s.marginRight);O0s(this.scrollbarXRail,{display:""});this.railXRatio=this.railXWidth=null;this.scrollbarYRail=u0s(o0s.element.rail("y"));C9s.appendChild(this.scrollbarYRail);this.scrollbarY=u0s(o0s.element.thumb("y"));this.scrollbarYRail.appendChild(this.scrollbarY);this.scrollbarY.setAttribute("tabindex",0);this.event.bind(this.scrollbarY,"focus",N9s);this.event.bind(this.scrollbarY,"blur",B9s);this.scrollbarYTop=this.scrollbarYHeight=this.scrollbarYActive=null;N9s=getComputedStyle(this.scrollbarYRail);this.scrollbarYRight=parseInt(N9s.right,10);isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=false,this.scrollbarYLeft=M0s(N9s.left)):this.isScrollbarYUsingRight=true;this.scrollbarYOuterWidth=this.isRtl?D0s(this.scrollbarY):null;this.railBorderYWidth=M0s(N9s.borderTopWidth)+M0s(N9s.borderBottomWidth);O0s(this.scrollbarYRail,{display:"block"});this.railYMarginHeight=M0s(N9s.marginTop)+M0s(N9s.marginBottom);O0s(this.scrollbarYRail,{display:""});this.railYRatio=this.railYHeight=null;this.reach={x:0>=C9s.scrollLeft?"start":C9s.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:0>=C9s.scrollTop?"start":C9s.scrollTop>=this.contentHeight-this.containerHeight?"end":null};this.isAlive=true;this.settings.handlers.forEach(function(z9s){return B0s[z9s](m9s);});this.lastScrollTop=C9s.scrollTop;this.lastScrollLeft=C9s.scrollLeft;this.event.bind(this.element,"scroll",function(D9s){return m9s.onScroll(D9s);});g0s(this);};h0s.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,O0s(this.scrollbarXRail,{display:"block"}),O0s(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=M0s(getComputedStyle(this.scrollbarXRail).marginLeft)+M0s(getComputedStyle(this.scrollbarXRail).marginRight),this.railYMarginHeight=M0s(getComputedStyle(this.scrollbarYRail).marginTop)+M0s(getComputedStyle(this.scrollbarYRail).marginBottom),O0s(this.scrollbarXRail,{display:"none"}),O0s(this.scrollbarYRail,{display:"none"}),g0s(this),E0s(this,"top",0,false,true),E0s(this,"left",0,false,true),O0s(this.scrollbarXRail,{display:""}),O0s(this.scrollbarYRail,{display:""}));};h0s.prototype.onScroll=function(d9s){this.isAlive&&(g0s(this),E0s(this,"top",this.element.scrollTop-this.lastScrollTop),E0s(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=this.element.scrollTop,this.lastScrollLeft=this.element.scrollLeft);};h0s.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),q0s(this.scrollbarX),q0s(this.scrollbarY),q0s(this.scrollbarXRail),q0s(this.scrollbarYRail),this.removePsClasses(),this.scrollbarYRail=this.scrollbarXRail=this.scrollbarY=this.scrollbarX=this.element=null,this.isAlive=false);};h0s.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(X9s){return!X9s.match(/^ps([-_].+|)$/);}).join(" ");};return h0s;}));!function(U9s){if("object"==typeof exports&&"undefined"!=typeof module){module.exports=U9s();}else if("function"==typeof define&&define.amd){define([],U9s);}else{var W9s;"undefined"!=typeof window?W9s=window:"undefined"!=typeof global?W9s=global:"undefined"!=typeof self&&(W9s=self);W9s.jsondiffpatch=U9s();}}(function(){return function G9s(e9s,F9s,V9s){function P9s(L9s,R9s){if(!F9s[L9s]){if(!e9s[L9s]){var i9s="function"==typeof require&&require;if(!R9s&&i9s){return i9s(L9s,true);}if(v9s){return v9s(L9s,true);}R9s=Error("Cannot find module '"+L9s+"'");throw R9s.code="MODULE_NOT_FOUND",R9s;}R9s=F9s[L9s]={exports:{}};e9s[L9s][0].call(R9s.exports,function(x9s){var a9s=e9s[L9s][1][x9s];return P9s(a9s?a9s:x9s);},R9s,R9s.exports,G9s,e9s,F9s,V9s);}return F9s[L9s].exports;}for(var v9s="function"==typeof require&&require,p9s=0;p9s<V9s.length;p9s++){P9s(V9s[p9s]);}return P9s;}({1:[function(k9s,w9s,Y9s){k9s("./environment").isBrowser&&(window.diff_match_patch=k9s("../public/external/diff_match_patch_uncompressed"));w9s.exports=k9s("./main");},{"../public/external/diff_match_patch_uncompressed":2,"./environment":10,"./main":17}],2:[function(r1s,s1s,n1s){function A9s(){this.Diff_Timeout=1;this.Diff_EditCost=4;this.Match_Threshold=.5;this.Match_Distance=1E3;this.Patch_DeleteThreshold=.5;this.Patch_Margin=4;this.Match_MaxBits=32;}A9s.Diff;A9s.prototype.diff_main=function(I1s,T1s,M1s,o1s){"undefined"==typeof o1s&&(o1s=0>=this.Diff_Timeout?Number.MAX_VALUE:new Date().getTime()+1E3*this.Diff_Timeout);if(null==I1s||null==T1s){throw Error("Null input. (diff_main)");}if(I1s==T1s){return I1s?[[0,I1s]]:[];}"undefined"==typeof M1s&&(M1s=true);var g1s=M1s,c1s=this.diff_commonPrefix(I1s,T1s);M1s=I1s.substring(0,c1s);I1s=I1s.substring(c1s);T1s=T1s.substring(c1s);var c1s=this.diff_commonSuffix(I1s,T1s),O1s=I1s.substring(I1s.length-c1s);I1s=I1s.substring(0,I1s.length-c1s);T1s=T1s.substring(0,T1s.length-c1s);I1s=this.diff_compute_(I1s,T1s,g1s,o1s);return M1s&&I1s.unshift([0,M1s]),O1s&&I1s.push([0,O1s]),this.diff_cleanupMerge(I1s),I1s;};A9s.prototype.diff_compute_=function(h1s,y1s,Z1s,u1s){var H1s;if(!h1s){return[[1,y1s]];}if(!y1s){return[[-1,h1s]];}var q1s=h1s.length>y1s.length?h1s:y1s,E1s=h1s.length>y1s.length?y1s:h1s,j1s=q1s.indexOf(E1s);return-1!=j1s?(H1s=[[1,q1s.substring(0,j1s)],[0,E1s],[1,q1s.substring(j1s+E1s.length)]],h1s.length>y1s.length&&(H1s[0][0]=H1s[2][0]=-1),H1s):1==E1s.length?[[-1,h1s],[1,y1s]]:(H1s=this.diff_halfMatch_(h1s,y1s))?(y1s=H1s[1],q1s=H1s[3],h1s=H1s[4],H1s=this.diff_main(H1s[0],H1s[2],Z1s,u1s),Z1s=this.diff_main(y1s,q1s,Z1s,u1s),H1s.concat([[0,h1s]],Z1s)):Z1s&&100<h1s.length&&100<y1s.length?this.diff_lineMode_(h1s,y1s,u1s):this.diff_bisect_(h1s,y1s,u1s);};A9s.prototype.diff_lineMode_=function(J1s,S1s,N1s){var f1s=this;var K1s=this.diff_linesToChars_(J1s,S1s);J1s=K1s[0];S1s=K1s[1];K1s=K1s[2];J1s=this.diff_bisect_(J1s,S1s,N1s);this.diff_charsToLines_(J1s,K1s);this.diff_cleanupSemantic(J1s);J1s.push([0,""]);for(var b1s=S1s=0,t1s=0,C1s=K1s="";S1s<J1s.length;){switch(J1s[S1s][0]){case 1:t1s++;C1s+=J1s[S1s][1];break;case-1:b1s++;K1s+=J1s[S1s][1];break;case 0:if(1<=b1s&&1<=t1s){K1s=f1s.diff_main(K1s,C1s,false,N1s);J1s.splice(S1s-b1s-t1s,b1s+t1s);S1s=S1s-b1s-t1s;for(b1s=K1s.length-1;0<=b1s;b1s--){J1s.splice(S1s,0,K1s[b1s]);}S1s+=K1s.length;}b1s=t1s=0;C1s=K1s="";}S1s++;}return J1s.pop(),J1s;};A9s.prototype.diff_bisect_=function(p1s,V1s,i1s){var R1s=this;for(var D1s=p1s.length,G1s=V1s.length,X1s=Math.ceil((D1s+G1s)/2),F1s=2*X1s,U1s=Array(F1s),W1s=Array(F1s),d1s=0;F1s>d1s;d1s++){U1s[d1s]=-1,W1s[d1s]=-1;}U1s[X1s+1]=0;W1s[X1s+1]=0;for(var d1s=D1s-G1s,L1s=0!=d1s%2,a1s=0,x1s=0,P1s=0,v1s=0,z1s=0;X1s>z1s&&!(new Date().getTime()>i1s);z1s++){for(var l1s=-z1s+a1s;z1s-x1s>=l1s;l1s+=2){var m1s,B1s=X1s+l1s;m1s=l1s==-z1s||l1s!=z1s&&U1s[B1s-1]<U1s[B1s+1]?U1s[B1s+1]:U1s[B1s-1]+1;for(var e1s=m1s-l1s;D1s>m1s&&G1s>e1s&&p1s.charAt(m1s)==V1s.charAt(e1s);){m1s++,e1s++;}if(U1s[B1s]=m1s,m1s>D1s){x1s+=2;}else if(e1s>G1s){a1s+=2;}else if(L1s&&(B1s=X1s+d1s-l1s,0<=B1s&&F1s>B1s&&-1!=W1s[B1s])){var Q1s=D1s-W1s[B1s];if(m1s>=Q1s){return R1s.diff_bisectSplit_(p1s,V1s,m1s,e1s,i1s);}}}for(l1s=-z1s+P1s;z1s-v1s>=l1s;l1s+=2){B1s=X1s+l1s;Q1s=l1s==-z1s||l1s!=z1s&&W1s[B1s-1]<W1s[B1s+1]?W1s[B1s+1]:W1s[B1s-1]+1;for(m1s=Q1s-l1s;D1s>Q1s&&G1s>m1s&&p1s.charAt(D1s-Q1s-1)==V1s.charAt(G1s-m1s-1);){Q1s++,m1s++;}if(W1s[B1s]=Q1s,Q1s>D1s){v1s+=2;}else if(m1s>G1s){P1s+=2;}else if(!L1s&&(B1s=X1s+d1s-l1s,0<=B1s&&F1s>B1s&&-1!=U1s[B1s]&&(m1s=U1s[B1s],e1s=X1s+m1s-B1s,Q1s=D1s-Q1s,m1s>=Q1s))){return R1s.diff_bisectSplit_(p1s,V1s,m1s,e1s,i1s);}}}return[[-1,p1s],[1,V1s]];};A9s.prototype.diff_bisectSplit_=function(k1s,w1s,r4s,s4s,Y1s){var A1s=k1s.substring(0,r4s),n4s=w1s.substring(0,s4s);k1s=k1s.substring(r4s);w1s=w1s.substring(s4s);A1s=this.diff_main(A1s,n4s,false,Y1s);Y1s=this.diff_main(k1s,w1s,false,Y1s);return A1s.concat(Y1s);};A9s.prototype.diff_linesToChars_=function(c4s,M4s){function o4s(y4s){for(var H4s="",h4s=0,O4s=-1,q4s=T4s.length;O4s<y4s.length-1;){O4s=y4s.indexOf("\n",h4s);-1==O4s&&(O4s=y4s.length-1);var g4s=y4s.substring(h4s,O4s+1),h4s=O4s+1;(I4s.hasOwnProperty?I4s.hasOwnProperty(g4s):void 0!==I4s[g4s])?H4s+=String.fromCharCode(I4s[g4s]):(H4s+=String.fromCharCode(q4s),I4s[g4s]=q4s,T4s[q4s++]=g4s);}return H4s;}var T4s=[],I4s={};T4s[0]="";c4s=o4s(c4s);M4s=o4s(M4s);return[c4s,M4s,T4s];};A9s.prototype.diff_charsToLines_=function(u4s,S4s){for(var Z4s=0;Z4s<u4s.length;Z4s++){for(var j4s=u4s[Z4s][1],J4s=[],E4s=0;E4s<j4s.length;E4s++){J4s[E4s]=S4s[j4s.charCodeAt(E4s)];}u4s[Z4s][1]=J4s.join("");}};A9s.prototype.diff_commonPrefix=function(t4s,C4s){if(!t4s||!C4s||t4s.charAt(0)!=C4s.charAt(0)){return 0;}for(var b4s=0,N4s=Math.min(t4s.length,C4s.length),K4s=N4s,f4s=0;K4s>b4s;){t4s.substring(f4s,K4s)==C4s.substring(f4s,K4s)?(b4s=K4s,f4s=b4s):N4s=K4s,K4s=Math.floor((N4s-b4s)/2+b4s);}return K4s;};A9s.prototype.diff_commonSuffix=function(m4s,l4s){if(!m4s||!l4s||m4s.charAt(m4s.length-1)!=l4s.charAt(l4s.length-1)){return 0;}for(var Q4s=0,z4s=Math.min(m4s.length,l4s.length),B4s=z4s,D4s=0;B4s>Q4s;){m4s.substring(m4s.length-B4s,m4s.length-D4s)==l4s.substring(l4s.length-B4s,l4s.length-D4s)?(Q4s=B4s,D4s=Q4s):z4s=B4s,B4s=Math.floor((z4s-Q4s)/2+Q4s);}return B4s;};A9s.prototype.diff_commonOverlap_=function(G4s,e4s){var d4s=G4s.length,X4s=e4s.length;if(0==d4s||0==X4s){return 0;}d4s>X4s?G4s=G4s.substring(d4s-X4s):X4s>d4s&&(e4s=e4s.substring(0,d4s));d4s=Math.min(d4s,X4s);if(G4s==e4s){return d4s;}for(var X4s=0,W4s=1;;){var U4s=G4s.substring(d4s-W4s),U4s=e4s.indexOf(U4s);if(-1==U4s){return X4s;}W4s+=U4s;0!=U4s&&G4s.substring(d4s-W4s)!=e4s.substring(0,W4s)||(X4s=W4s,W4s++);}};A9s.prototype.diff_halfMatch_=function(P4s,V4s){function k4s(A4s,Y4s,r7s){for(var M7s,o7s,O7s,T7s,c7s=A4s.substring(r7s,r7s+Math.floor(A4s.length/4)),w4s=-1,n7s="";-1!=(w4s=Y4s.indexOf(c7s,w4s+1));){var I7s=i4s.diff_commonPrefix(A4s.substring(r7s),Y4s.substring(w4s)),s7s=i4s.diff_commonSuffix(A4s.substring(0,r7s),Y4s.substring(0,w4s));n7s.length<s7s+I7s&&(n7s=Y4s.substring(w4s-s7s,w4s)+Y4s.substring(w4s,w4s+I7s),M7s=A4s.substring(0,r7s-s7s),o7s=A4s.substring(r7s+I7s),O7s=Y4s.substring(0,w4s-s7s),T7s=Y4s.substring(w4s+I7s));}return 2*n7s.length>=A4s.length?[M7s,o7s,O7s,T7s,n7s]:null;}if(0>=this.Diff_Timeout){return null;}var p4s=P4s.length>V4s.length?P4s:V4s,v4s=P4s.length>V4s.length?V4s:P4s;if(4>p4s.length||2*v4s.length<p4s.length){return null;}var F4s,i4s=this;F4s=k4s(p4s,v4s,Math.ceil(p4s.length/4));p4s=k4s(p4s,v4s,Math.ceil(p4s.length/2));if(!F4s&&!p4s){return null;}F4s=p4s?F4s&&F4s[4].length>p4s[4].length?F4s:p4s:F4s;var a4s,x4s,L4s,R4s;P4s.length>V4s.length?(a4s=F4s[0],x4s=F4s[1],L4s=F4s[2],R4s=F4s[3]):(L4s=F4s[0],R4s=F4s[1],a4s=F4s[2],x4s=F4s[3]);return[a4s,x4s,L4s,R4s,F4s[4]];};A9s.prototype.diff_cleanupSemantic=function(h7s){var S7s=this;for(var q7s=false,H7s=[],y7s=0,Z7s=null,g7s=0,j7s=0,J7s=0,E7s=0,u7s=0;g7s<h7s.length;){0==h7s[g7s][0]?(H7s[y7s++]=g7s,j7s=E7s,J7s=u7s,E7s=0,u7s=0,Z7s=h7s[g7s][1]):(1==h7s[g7s][0]?E7s+=h7s[g7s][1].length:u7s+=h7s[g7s][1].length,null!==Z7s&&Z7s.length<=Math.max(j7s,J7s)&&Z7s.length<=Math.max(E7s,u7s)&&(h7s.splice(H7s[y7s-1],0,[-1,Z7s]),h7s[H7s[y7s-1]+1][0]=1,y7s--,y7s--,g7s=0<y7s?H7s[y7s-1]:-1,j7s=0,J7s=0,E7s=0,u7s=0,Z7s=null,q7s=true)),g7s++;}q7s&&this.diff_cleanupMerge(h7s);this.diff_cleanupSemanticLossless(h7s);for(g7s=1;g7s<h7s.length;){-1==h7s[g7s-1][0]&&1==h7s[g7s][0]&&(q7s=h7s[g7s-1][1],H7s=h7s[g7s][1],y7s=S7s.diff_commonOverlap_(q7s,H7s),(y7s>=q7s.length/2||y7s>=H7s.length/2)&&(h7s.splice(g7s,0,[0,H7s.substring(0,y7s)]),h7s[g7s-1][1]=q7s.substring(0,q7s.length-y7s),h7s[g7s+1][1]=H7s.substring(y7s),g7s++),g7s++),g7s++;}};A9s.prototype.diff_cleanupSemanticLossless=function(N7s){var G7s=this;function m7s(e7s,p7s){if(!e7s||!p7s){return 5;}var F7s=0;return(e7s.charAt(e7s.length-1).match(Q7s)||p7s.charAt(0).match(Q7s))&&(F7s++,(e7s.charAt(e7s.length-1).match(z7s)||p7s.charAt(0).match(z7s))&&(F7s++,(e7s.charAt(e7s.length-1).match(D7s)||p7s.charAt(0).match(D7s))&&(F7s++,(e7s.match(U7s)||p7s.match(W7s))&&F7s++))),F7s;}for(var Q7s=/[^a-zA-Z0-9]/,z7s=/\s/,D7s=/[\r\n]/,U7s=/\n\r?\n$/,W7s=/^\r?\n\r?\n/,b7s=1;b7s<N7s.length-1;){if(0==N7s[b7s-1][0]&&0==N7s[b7s+1][0]){var t7s=N7s[b7s-1][1],K7s=N7s[b7s][1],C7s=N7s[b7s+1][1],f7s=G7s.diff_commonSuffix(t7s,K7s);if(f7s){var B7s=K7s.substring(K7s.length-f7s),t7s=t7s.substring(0,t7s.length-f7s),K7s=B7s+K7s.substring(0,K7s.length-f7s),C7s=B7s+C7s;}for(var f7s=t7s,B7s=K7s,l7s=C7s,d7s=m7s(t7s,K7s)+m7s(K7s,C7s);K7s.charAt(0)===C7s.charAt(0);){var t7s=t7s+K7s.charAt(0),K7s=K7s.substring(1)+C7s.charAt(0),C7s=C7s.substring(1),X7s=m7s(t7s,K7s)+m7s(K7s,C7s);X7s>=d7s&&(d7s=X7s,f7s=t7s,B7s=K7s,l7s=C7s);}N7s[b7s-1][1]!=f7s&&(f7s?N7s[b7s-1][1]=f7s:(N7s.splice(b7s-1,1),b7s--),N7s[b7s][1]=B7s,l7s?N7s[b7s+1][1]=l7s:(N7s.splice(b7s+1,1),b7s--));}b7s++;}};A9s.prototype.diff_cleanupEfficiency=function(R7s){var Y7s=this;for(var w7s=false,a7s=[],V7s=0,i7s="",L7s=0,x7s=false,k7s=false,v7s=false,P7s=false;L7s<R7s.length;){0==R7s[L7s][0]?(R7s[L7s][1].length<Y7s.Diff_EditCost&&(v7s||P7s)?(a7s[V7s++]=L7s,x7s=v7s,k7s=P7s,i7s=R7s[L7s][1]):(V7s=0,i7s=""),v7s=P7s=false):(-1==R7s[L7s][0]?P7s=true:v7s=true,i7s&&(x7s&&k7s&&v7s&&P7s||i7s.length<Y7s.Diff_EditCost/2&&3==x7s+k7s+v7s+P7s)&&(R7s.splice(a7s[V7s-1],0,[-1,i7s]),R7s[a7s[V7s-1]+1][0]=1,V7s--,i7s="",x7s&&k7s?(v7s=P7s=true,V7s=0):(V7s--,L7s=0<V7s?a7s[V7s-1]:-1,v7s=P7s=false),w7s=true)),L7s++;}w7s&&this.diff_cleanupMerge(R7s);};A9s.prototype.diff_cleanupMerge=function(r6s){var M6s=this;r6s.push([0,""]);for(var T6s,A7s=0,s6s=0,n6s=0,c6s="",I6s="";A7s<r6s.length;){switch(r6s[A7s][0]){case 1:n6s++;I6s+=r6s[A7s][1];A7s++;break;case-1:s6s++;c6s+=r6s[A7s][1];A7s++;break;case 0:1<s6s+n6s?(0!==s6s&&0!==n6s&&(T6s=M6s.diff_commonPrefix(I6s,c6s),0!==T6s&&(0<A7s-s6s-n6s&&0==r6s[A7s-s6s-n6s-1][0]?r6s[A7s-s6s-n6s-1][1]+=I6s.substring(0,T6s):(r6s.splice(0,0,[0,I6s.substring(0,T6s)]),A7s++),I6s=I6s.substring(T6s),c6s=c6s.substring(T6s)),T6s=M6s.diff_commonSuffix(I6s,c6s),0!==T6s&&(r6s[A7s][1]=I6s.substring(I6s.length-T6s)+r6s[A7s][1],I6s=I6s.substring(0,I6s.length-T6s),c6s=c6s.substring(0,c6s.length-T6s))),0===s6s?r6s.splice(A7s-s6s-n6s,s6s+n6s,[1,I6s]):0===n6s?r6s.splice(A7s-s6s-n6s,s6s+n6s,[-1,c6s]):r6s.splice(A7s-s6s-n6s,s6s+n6s,[-1,c6s],[1,I6s]),A7s=A7s-s6s-n6s+(s6s?1:0)+(n6s?1:0)+1):0!==A7s&&0==r6s[A7s-1][0]?(r6s[A7s-1][1]+=r6s[A7s][1],r6s.splice(A7s,1)):A7s++,s6s=n6s=0,I6s=c6s="";}}""===r6s[r6s.length-1][1]&&r6s.pop();T6s=false;for(A7s=1;A7s<r6s.length-1;){0==r6s[A7s-1][0]&&0==r6s[A7s+1][0]&&(r6s[A7s][1].substring(r6s[A7s][1].length-r6s[A7s-1][1].length)==r6s[A7s-1][1]?(r6s[A7s][1]=r6s[A7s-1][1]+r6s[A7s][1].substring(0,r6s[A7s][1].length-r6s[A7s-1][1].length),r6s[A7s+1][1]=r6s[A7s-1][1]+r6s[A7s+1][1],r6s.splice(A7s-1,1),T6s=true):r6s[A7s][1].substring(0,r6s[A7s+1][1].length)==r6s[A7s+1][1]&&(r6s[A7s-1][1]+=r6s[A7s+1][1],r6s[A7s][1]=r6s[A7s][1].substring(r6s[A7s+1][1].length)+r6s[A7s+1][1],r6s.splice(A7s+1,1),T6s=true)),A7s++;}T6s&&this.diff_cleanupMerge(r6s);};A9s.prototype.diff_xIndex=function(O6s,q6s){var o6s,g6s=0,y6s=0,H6s=0,h6s=0;for(o6s=0;o6s<O6s.length&&(1!==O6s[o6s][0]&&(g6s+=O6s[o6s][1].length),-1!==O6s[o6s][0]&&(y6s+=O6s[o6s][1].length),!(g6s>q6s));o6s++){H6s=g6s,h6s=y6s;}return O6s.length!=o6s&&-1===O6s[o6s][0]?h6s:h6s+(q6s-H6s);};A9s.prototype.diff_prettyHtml=function(j6s){for(var E6s=[],J6s=/&/g,S6s=/</g,K6s=/>/g,b6s=/\n/g,Z6s=0;Z6s<j6s.length;Z6s++){var t6s=j6s[Z6s][0],u6s=j6s[Z6s][1].replace(J6s,"&amp;").replace(S6s,"&lt;").replace(K6s,"&gt;").replace(b6s,"&para;<br>");switch(t6s){case 1:E6s[Z6s]='<ins style="background:#e6ffe6;">'+u6s+"</ins>";break;case-1:E6s[Z6s]='<del style="background:#ffe6e6;">'+u6s+"</del>";break;case 0:E6s[Z6s]="<span>"+u6s+"</span>";}}return E6s.join("");};A9s.prototype.diff_text1=function(N6s){for(var f6s=[],C6s=0;C6s<N6s.length;C6s++){1!==N6s[C6s][0]&&(f6s[C6s]=N6s[C6s][1]);}return f6s.join("");};A9s.prototype.diff_text2=function(m6s){for(var l6s=[],B6s=0;B6s<m6s.length;B6s++){-1!==m6s[B6s][0]&&(l6s[B6s]=m6s[B6s][1]);}return l6s.join("");};A9s.prototype.diff_levenshtein=function(d6s){for(var X6s=0,Q6s=0,z6s=0,D6s=0;D6s<d6s.length;D6s++){var W6s=d6s[D6s][1];switch(d6s[D6s][0]){case 1:Q6s+=W6s.length;break;case-1:z6s+=W6s.length;break;case 0:X6s+=Math.max(Q6s,z6s),z6s=Q6s=0;}}return X6s+Math.max(Q6s,z6s);};A9s.prototype.diff_toDelta=function(G6s){for(var e6s=[],U6s=0;U6s<G6s.length;U6s++){switch(G6s[U6s][0]){case 1:e6s[U6s]="+"+encodeURI(G6s[U6s][1]);break;case-1:e6s[U6s]="-"+G6s[U6s][1].length;break;case 0:e6s[U6s]="="+G6s[U6s][1].length;}}return e6s.join("\t").replace(/%20/g," ");};A9s.prototype.diff_fromDelta=function(i6s,F6s){var P6s=[],L6s=0,v6s=0;F6s=F6s.split(/\t/g);for(var p6s=0;p6s<F6s.length;p6s++){var V6s=F6s[p6s].substring(1);switch(F6s[p6s].charAt(0)){case"+":try{P6s[L6s++]=[1,decodeURI(V6s)];}catch(a6s){throw Error("Illegal escape in diff_fromDelta: "+V6s);}break;case"-":case"=":var R6s=parseInt(V6s,10);if(isNaN(R6s)||0>R6s){throw Error("Invalid number in diff_fromDelta: "+V6s);}V6s=i6s.substring(v6s,v6s+=R6s);"="==F6s[p6s].charAt(0)?P6s[L6s++]=[0,V6s]:P6s[L6s++]=[-1,V6s];break;default:if(F6s[p6s]){throw Error("Invalid diff operation in diff_fromDelta: "+F6s[p6s]);}}}if(v6s!=i6s.length){throw Error("Delta length ("+v6s+") does not equal source text length ("+i6s.length+").");}return P6s;};A9s.prototype.match_main=function(k6s,w6s,x6s){if(null==k6s||null==w6s||null==x6s){throw Error("Null input. (match_main)");}return x6s=Math.max(0,Math.min(x6s,k6s.length)),k6s==w6s?0:k6s.length?k6s.substring(x6s,x6s+w6s.length)==w6s?x6s:this.match_bitap_(k6s,w6s,x6s):-1;};A9s.prototype.match_bitap_=function(o8U,s8U,n8U){function g8U(E8U,Z8U){E8U/=s8U.length;Z8U=Math.abs(n8U-Z8U);return y8U.Match_Distance?E8U+Z8U/y8U.Match_Distance:Z8U?1:E8U;}if(s8U.length>this.Match_MaxBits){throw Error("Pattern too long for this browser.");}var q8U=this.match_alphabet_(s8U),y8U=this,I8U=this.Match_Threshold,r8U=o8U.indexOf(s8U,n8U);-1!=r8U&&(I8U=Math.min(g8U(0,r8U),I8U),r8U=o8U.lastIndexOf(s8U,n8U+s8U.length),-1!=r8U&&(I8U=Math.min(g8U(0,r8U),I8U)));for(var H8U=1<<s8U.length-1,r8U=-1,c8U,Y6s,h8U,O8U=s8U.length+o8U.length,T8U=0;T8U<s8U.length;T8U++){c8U=0;for(Y6s=O8U;Y6s>c8U;){g8U(T8U,n8U+Y6s)<=I8U?c8U=Y6s:O8U=Y6s,Y6s=Math.floor((O8U-c8U)/2+c8U);}O8U=Y6s;c8U=Math.max(1,n8U-Y6s+1);var A6s=Math.min(n8U+Y6s,o8U.length)+s8U.length;Y6s=Array(A6s+2);for(Y6s[A6s+1]=(1<<T8U)-1;A6s>=c8U;A6s--){var M8U=q8U[o8U.charAt(A6s-1)];if(0===T8U?Y6s[A6s]=(Y6s[A6s+1]<<1|1)&M8U:Y6s[A6s]=(Y6s[A6s+1]<<1|1)&M8U|(h8U[A6s+1]|h8U[A6s])<<1|1|h8U[A6s+1],Y6s[A6s]&H8U){if(M8U=g8U(T8U,A6s-1),I8U>=M8U){if(I8U=M8U,r8U=A6s-1,!(r8U>n8U)){break;}c8U=Math.max(1,2*n8U-r8U);}}}if(g8U(T8U+1,n8U)>I8U){break;}h8U=Y6s;}return r8U;};A9s.prototype.match_alphabet_=function(j8U){for(var J8U={},u8U=0;u8U<j8U.length;u8U++){J8U[j8U.charAt(u8U)]=0;}for(u8U=0;u8U<j8U.length;u8U++){J8U[j8U.charAt(u8U)]|=1<<j8U.length-u8U-1;}return J8U;};A9s.prototype.patch_addContext_=function(S8U,K8U){var C8U=this;if(0!=K8U.length){for(var b8U=K8U.substring(S8U.start2,S8U.start2+S8U.length1),t8U=0;K8U.indexOf(b8U)!=K8U.lastIndexOf(b8U)&&b8U.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;){t8U+=C8U.Patch_Margin,b8U=K8U.substring(S8U.start2-t8U,S8U.start2+S8U.length1+t8U);}t8U+=this.Patch_Margin;(b8U=K8U.substring(S8U.start2-t8U,S8U.start2))&&S8U.diffs.unshift([0,b8U]);(K8U=K8U.substring(S8U.start2+S8U.length1,S8U.start2+S8U.length1+t8U))&&S8U.diffs.push([0,K8U]);S8U.start1-=b8U.length;S8U.start2-=b8U.length;S8U.length1+=b8U.length+K8U.length;S8U.length2+=b8U.length+K8U.length;}};A9s.prototype.patch_make=function(N8U,f8U,l8U){var U8U=this;var B8U;if("string"==typeof N8U&&"string"==typeof f8U&&"undefined"==typeof l8U){B8U=N8U,f8U=this.diff_main(B8U,f8U,true),2<f8U.length&&(this.diff_cleanupSemantic(f8U),this.diff_cleanupEfficiency(f8U));}else if(N8U&&"object"==typeof N8U&&"undefined"==typeof f8U&&"undefined"==typeof l8U){f8U=N8U,B8U=this.diff_text1(f8U);}else if("string"==typeof N8U&&f8U&&"object"==typeof f8U&&"undefined"==typeof l8U){B8U=N8U;}else{if("string"!=typeof N8U||"string"!=typeof f8U||!l8U||"object"!=typeof l8U){throw Error("Unknown call format to patch_make.");}B8U=N8U;f8U=l8U;}if(0===f8U.length){return[];}l8U=[];N8U=new A9s.patch_obj();for(var Q8U=0,X8U=0,D8U=0,W8U=B8U,z8U=0;z8U<f8U.length;z8U++){var d8U=f8U[z8U][0],m8U=f8U[z8U][1];switch(Q8U||0===d8U||(N8U.start1=X8U,N8U.start2=D8U),d8U){case 1:N8U.diffs[Q8U++]=f8U[z8U];N8U.length2+=m8U.length;B8U=B8U.substring(0,D8U)+m8U+B8U.substring(D8U);break;case-1:N8U.length1+=m8U.length;N8U.diffs[Q8U++]=f8U[z8U];B8U=B8U.substring(0,D8U)+B8U.substring(D8U+m8U.length);break;case 0:m8U.length<=2*U8U.Patch_Margin&&Q8U&&f8U.length!=z8U+1?(N8U.diffs[Q8U++]=f8U[z8U],N8U.length1+=m8U.length,N8U.length2+=m8U.length):m8U.length>=2*U8U.Patch_Margin&&Q8U&&(U8U.patch_addContext_(N8U,W8U),l8U.push(N8U),N8U=new A9s.patch_obj(),Q8U=0,W8U=B8U,X8U=D8U);}1!==d8U&&(X8U+=m8U.length);-1!==d8U&&(D8U+=m8U.length);}return Q8U&&(this.patch_addContext_(N8U,W8U),l8U.push(N8U)),l8U;};A9s.prototype.patch_deepCopy=function(P8U){for(var V8U=[],F8U=0;F8U<P8U.length;F8U++){var e8U=P8U[F8U],G8U=new A9s.patch_obj();G8U.diffs=[];for(var p8U=0;p8U<e8U.diffs.length;p8U++){G8U.diffs[p8U]=e8U.diffs[p8U].slice();}G8U.start1=e8U.start1;G8U.start2=e8U.start2;G8U.length1=e8U.length1;G8U.length2=e8U.length2;V8U[F8U]=G8U;}return V8U;};A9s.prototype.patch_apply=function(x8U,v8U){var L8U=this;if(0==x8U.length){return[v8U,[]];}x8U=this.patch_deepCopy(x8U);var s2U=this.patch_addPadding(x8U);v8U=s2U+v8U+s2U;this.patch_splitMax(x8U);for(var r2U=0,A8U=[],a8U=0;a8U<x8U.length;a8U++){var i8U,w8U=x8U[a8U].start2+r2U,R8U=L8U.diff_text1(x8U[a8U].diffs),k8U=-1;if(R8U.length>L8U.Match_MaxBits?(i8U=L8U.match_main(v8U,R8U.substring(0,L8U.Match_MaxBits),w8U),-1!=i8U&&(k8U=L8U.match_main(v8U,R8U.substring(R8U.length-L8U.Match_MaxBits),w8U+R8U.length-L8U.Match_MaxBits),(-1==k8U||i8U>=k8U)&&(i8U=-1))):i8U=L8U.match_main(v8U,R8U,w8U),-1==i8U){A8U[a8U]=false,r2U-=x8U[a8U].length2-x8U[a8U].length1;}else{A8U[a8U]=true;var r2U=i8U-w8U,I2U;if(I2U=-1==k8U?v8U.substring(i8U,i8U+R8U.length):v8U.substring(i8U,k8U+L8U.Match_MaxBits),R8U==I2U){v8U=v8U.substring(0,i8U)+L8U.diff_text2(x8U[a8U].diffs)+v8U.substring(i8U+R8U.length);}else if(w8U=L8U.diff_main(R8U,I2U,false),R8U.length>L8U.Match_MaxBits&&L8U.diff_levenshtein(w8U)/R8U.length>L8U.Patch_DeleteThreshold){A8U[a8U]=false;}else{L8U.diff_cleanupSemanticLossless(w8U);for(var n2U,k8U=R8U=0;k8U<x8U[a8U].diffs.length;k8U++){var Y8U=x8U[a8U].diffs[k8U];0!==Y8U[0]&&(n2U=L8U.diff_xIndex(w8U,R8U));1===Y8U[0]?v8U=v8U.substring(0,i8U+n2U)+Y8U[1]+v8U.substring(i8U+n2U):-1===Y8U[0]&&(v8U=v8U.substring(0,i8U+n2U)+v8U.substring(i8U+L8U.diff_xIndex(w8U,R8U+Y8U[1].length)));-1!==Y8U[0]&&(R8U+=Y8U[1].length);}}}}return v8U=v8U.substring(s2U.length,v8U.length-s2U.length),[v8U,A8U];};A9s.prototype.patch_addPadding=function(g2U){for(var M2U=this.Patch_Margin,O2U="",T2U=1;M2U>=T2U;T2U++){O2U+=String.fromCharCode(T2U);}for(T2U=0;T2U<g2U.length;T2U++){g2U[T2U].start1+=M2U,g2U[T2U].start2+=M2U;}var T2U=g2U[0],c2U=T2U.diffs;if(0==c2U.length||0!=c2U[0][0]){c2U.unshift([0,O2U]),T2U.start1-=M2U,T2U.start2-=M2U,T2U.length1+=M2U,T2U.length2+=M2U;}else if(M2U>c2U[0][1].length){var o2U=M2U-c2U[0][1].length;c2U[0][1]=O2U.substring(c2U[0][1].length)+c2U[0][1];T2U.start1-=o2U;T2U.start2-=o2U;T2U.length1+=o2U;T2U.length2+=o2U;}(T2U=g2U[g2U.length-1],c2U=T2U.diffs,0==c2U.length||0!=c2U[c2U.length-1][0])?(c2U.push([0,O2U]),T2U.length1+=M2U,T2U.length2+=M2U):M2U>c2U[c2U.length-1][1].length&&(o2U=M2U-c2U[c2U.length-1][1].length,c2U[c2U.length-1][1]+=O2U.substring(0,o2U),T2U.length1+=o2U,T2U.length2+=o2U);return O2U;};A9s.prototype.patch_splitMax=function(j2U){var E2U=this;for(var u2U=this.Match_MaxBits,Z2U=0;Z2U<j2U.length;Z2U++){if(j2U[Z2U].length1>u2U){var q2U=j2U[Z2U];j2U.splice(Z2U--,1);for(var K2U=q2U.start1,S2U=q2U.start2,H2U="";0!==q2U.diffs.length;){var h2U=new A9s.patch_obj(),J2U=true;h2U.start1=K2U-H2U.length;h2U.start2=S2U-H2U.length;for(""!==H2U&&(h2U.length1=h2U.length2=H2U.length,h2U.diffs.push([0,H2U]));0!==q2U.diffs.length&&h2U.length1<u2U-this.Patch_Margin;){var H2U=q2U.diffs[0][0],y2U=q2U.diffs[0][1];1===H2U?(h2U.length2+=y2U.length,S2U+=y2U.length,h2U.diffs.push(q2U.diffs.shift()),J2U=false):-1===H2U&&1==h2U.diffs.length&&0==h2U.diffs[0][0]&&y2U.length>2*u2U?(h2U.length1+=y2U.length,K2U+=y2U.length,J2U=false,h2U.diffs.push([H2U,y2U]),q2U.diffs.shift()):(y2U=y2U.substring(0,u2U-h2U.length1-E2U.Patch_Margin),h2U.length1+=y2U.length,K2U+=y2U.length,0===H2U?(h2U.length2+=y2U.length,S2U+=y2U.length):J2U=false,h2U.diffs.push([H2U,y2U]),y2U==q2U.diffs[0][1]?q2U.diffs.shift():q2U.diffs[0][1]=q2U.diffs[0][1].substring(y2U.length));}H2U=E2U.diff_text2(h2U.diffs);H2U=H2U.substring(H2U.length-E2U.Patch_Margin);y2U=E2U.diff_text1(q2U.diffs).substring(0,E2U.Patch_Margin);""!==y2U&&(h2U.length1+=y2U.length,h2U.length2+=y2U.length,0!==h2U.diffs.length&&0===h2U.diffs[h2U.diffs.length-1][0]?h2U.diffs[h2U.diffs.length-1][1]+=y2U:h2U.diffs.push([0,y2U]));J2U||j2U.splice(++Z2U,0,h2U);}}}};A9s.prototype.patch_toText=function(C2U){for(var t2U=[],b2U=0;b2U<C2U.length;b2U++){t2U[b2U]=C2U[b2U];}return t2U.join("");};A9s.prototype.patch_fromText=function(B2U){var Q2U=[];if(!B2U){return Q2U;}B2U=B2U.split("\n");for(var m2U=0,z2U=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;m2U<B2U.length;){var N2U=B2U[m2U].match(z2U);if(!N2U){throw Error("Invalid patch string: "+B2U[m2U]);}var f2U=new A9s.patch_obj();Q2U.push(f2U);f2U.start1=parseInt(N2U[1],10);""===N2U[2]?(f2U.start1--,f2U.length1=1):"0"==N2U[2]?f2U.length1=0:(f2U.start1--,f2U.length1=parseInt(N2U[2],10));f2U.start2=parseInt(N2U[3],10);""===N2U[4]?(f2U.start2--,f2U.length2=1):"0"==N2U[4]?f2U.length2=0:(f2U.start2--,f2U.length2=parseInt(N2U[4],10));for(m2U++;m2U<B2U.length;){N2U=B2U[m2U].charAt(0);try{var l2U=decodeURI(B2U[m2U].substring(1));}catch(D2U){throw Error("Illegal escape in patch_fromText: "+l2U);}if("-"==N2U){f2U.diffs.push([-1,l2U]);}else if("+"==N2U){f2U.diffs.push([1,l2U]);}else if(" "==N2U){f2U.diffs.push([0,l2U]);}else{if("@"==N2U){break;}if(""!==N2U){throw Error('Invalid patch mode "'+N2U+'" in: '+l2U);}}m2U++;}}return Q2U;};A9s.patch_obj=function(){this.diffs=[];this.start2=this.start1=null;this.length2=this.length1=0;};A9s.patch_obj.prototype.toString=function(){var W2U=this;for(var X2U,U2U=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],d2U=0;d2U<this.diffs.length;d2U++){switch(W2U.diffs[d2U][0]){case 1:X2U="+";break;case-1:X2U="-";break;case 0:X2U=" ";}U2U[d2U+1]=X2U+encodeURI(W2U.diffs[d2U][1])+"\n";}return U2U.join("").replace(/%20/g," ");};this.diff_match_patch=A9s;this.DIFF_DELETE=-1;this.DIFF_INSERT=1;this.DIFF_EQUAL=0;},{}],3:[function(p2U,F2U,V2U){function G2U(P2U){if("object"!=typeof P2U){return P2U;}if(null===P2U){return null;}if(e2U(P2U)){return P2U.map(G2U);}if(P2U instanceof Date){return new Date(P2U.getTime());}if(P2U instanceof RegExp){return P2U=/^\/(.*)\/([gimyu]*)$/.exec(P2U.toString()),new RegExp(P2U[1],P2U[2]);}var L2U={},v2U;for(v2U in P2U){Object.prototype.hasOwnProperty.call(P2U,v2U)&&(L2U[v2U]=G2U(P2U[v2U]));}return L2U;}var e2U="function"==typeof Array.isArray?Array.isArray:function(R2U){return R2U instanceof Array;};F2U.exports=G2U;},{}],4:[function(i2U,k2U,x2U){var a2U=i2U("../pipe").Pipe;i2U=function(){};i2U.prototype.setResult=function(w2U){return this.result=w2U,this.hasResult=true,this;};i2U.prototype.exit=function(){return this.exiting=true,this;};i2U.prototype.switchTo=function(Y2U,A2U){return"string"==typeof Y2U||Y2U instanceof a2U?this.nextPipe=Y2U:(this.next=Y2U,A2U&&(this.nextPipe=A2U)),this;};i2U.prototype.push=function(r0U,s0U){return r0U.parent=this,"undefined"!=typeof s0U&&(r0U.childName=s0U),r0U.root=this.root||this,r0U.options=r0U.options||this.options,this.children?(this.children[this.children.length-1].next=r0U,this.children.push(r0U)):(this.children=[r0U],this.nextAfterChildren=this.next||null,this.next=r0U),r0U.next=this,this;};x2U.Context=i2U;},{"../pipe":18}],5:[function(n0U,M0U,c0U){var I0U=n0U("./context").Context,T0U=n0U("../clone");n0U=function(o0U,O0U){this.left=o0U;this.right=O0U;this.pipe="diff";};n0U.prototype=new I0U();n0U.prototype.setResult=function(g0U){if(this.options.cloneDiffValues&&"object"==typeof g0U){var h0U="function"==typeof this.options.cloneDiffValues?this.options.cloneDiffValues:T0U;"object"==typeof g0U[0]&&(g0U[0]=h0U(g0U[0]));"object"==typeof g0U[1]&&(g0U[1]=h0U(g0U[1]));}return I0U.prototype.setResult.apply(this,arguments);};c0U.DiffContext=n0U;},{"../clone":3,"./context":4}],6:[function(y0U,H0U,q0U){y0U=y0U("./context").Context;H0U=function(Z0U,E0U){this.left=Z0U;this.delta=E0U;this.pipe="patch";};H0U.prototype=new y0U();q0U.PatchContext=H0U;},{"./context":4}],7:[function(u0U,j0U,J0U){u0U=u0U("./context").Context;j0U=function(S0U){this.delta=S0U;this.pipe="reverse";};j0U.prototype=new u0U();J0U.ReverseContext=j0U;},{"./context":4}],8:[function(b0U,K0U,t0U){K0U.exports=function(f0U,N0U){var C0U;return"string"==typeof N0U&&(C0U=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d*))?(Z|([+\-])(\d{2}):(\d{2}))$/.exec(N0U))?new Date(Date.UTC(+C0U[1],+C0U[2]-1,+C0U[3],+C0U[4],+C0U[5],+C0U[6],+(C0U[7]||0))):N0U;};},{}],9:[function(B0U,p0U,F0U){var G0U=B0U("./processor").Processor,z0U=B0U("./pipe").Pipe,d0U=B0U("./contexts/diff").DiffContext,X0U=B0U("./contexts/patch").PatchContext,W0U=B0U("./contexts/reverse").ReverseContext,U0U=B0U("./clone"),D0U=B0U("./filters/trivial"),m0U=B0U("./filters/nested"),l0U=B0U("./filters/arrays"),e0U=B0U("./filters/dates"),Q0U=B0U("./filters/texts");B0U=function(V0U){this.processor=new G0U(V0U);this.processor.pipe(new z0U("diff").append(m0U.collectChildrenDiffFilter,D0U.diffFilter,e0U.diffFilter,Q0U.diffFilter,m0U.objectsDiffFilter,l0U.diffFilter).shouldHaveResult());this.processor.pipe(new z0U("patch").append(m0U.collectChildrenPatchFilter,l0U.collectChildrenPatchFilter,D0U.patchFilter,Q0U.patchFilter,m0U.patchFilter,l0U.patchFilter).shouldHaveResult());this.processor.pipe(new z0U("reverse").append(m0U.collectChildrenReverseFilter,l0U.collectChildrenReverseFilter,D0U.reverseFilter,Q0U.reverseFilter,m0U.reverseFilter,l0U.reverseFilter).shouldHaveResult());};B0U.prototype.options=function(){return this.processor.options.apply(this.processor,arguments);};B0U.prototype.diff=function(P0U,v0U){return this.processor.process(new d0U(P0U,v0U));};B0U.prototype.patch=function(L0U,R0U){return this.processor.process(new X0U(L0U,R0U));};B0U.prototype.reverse=function(i0U){return this.processor.process(new W0U(i0U));};B0U.prototype.unpatch=function(a0U,x0U){return this.patch(a0U,this.reverse(x0U));};B0U.prototype.clone=function(k0U){return U0U(k0U);};F0U.DiffPatcher=B0U;},{"./clone":3,"./contexts/diff":5,"./contexts/patch":6,"./contexts/reverse":7,"./filters/arrays":11,"./filters/dates":12,"./filters/nested":14,"./filters/texts":15,"./filters/trivial":16,"./pipe":18,"./processor":19}],10:[function(Y0U,A0U,w0U){w0U.isBrowser="undefined"!=typeof window;},{}],11:[function(r3U,c3U,s3U){function I3U(u3U,j3U,J3U,S3U,E3U){u3U=u3U[J3U];j3U=j3U[S3U];if(u3U===j3U){return true;}if("object"!=typeof u3U||"object"!=typeof j3U){return false;}var K3U=E3U.objectHash;if(!K3U){return E3U.matchByPosition&&J3U===S3U;}var b3U,t3U;return"number"==typeof J3U?(E3U.hashCache1=E3U.hashCache1||[],b3U=E3U.hashCache1[J3U],"undefined"==typeof b3U&&(E3U.hashCache1[J3U]=b3U=K3U(u3U,J3U))):b3U=K3U(u3U),"undefined"==typeof b3U?false:("number"==typeof S3U?(E3U.hashCache2=E3U.hashCache2||[],t3U=E3U.hashCache2[S3U],"undefined"==typeof t3U&&(E3U.hashCache2[S3U]=t3U=K3U(j3U,S3U))):t3U=K3U(j3U),"undefined"==typeof t3U?false:b3U===t3U);}var n3U=r3U("../contexts/diff").DiffContext,H3U=r3U("../contexts/patch").PatchContext,q3U=r3U("../contexts/reverse").ReverseContext,y3U=r3U("./lcs"),M3U="function"==typeof Array.isArray?Array.isArray:function(C3U){return C3U instanceof Array;},o3U="function"==typeof Array.prototype.indexOf?function(N3U,f3U){return N3U.indexOf(f3U);}:function(m3U,Q3U){for(var l3U=m3U.length,B3U=0;l3U>B3U;B3U++){if(m3U[B3U]===Q3U){return B3U;}}return-1;};r3U=function(D3U){if(D3U.leftIsArray){var z3U,V3U,X3U,v3U,p3U={objectHash:D3U.options&&D3U.options.objectHash,matchByPosition:D3U.options&&D3U.options.matchByPosition},d3U=0,W3U=0,F3U=D3U.left,R3U=D3U.right,G3U=F3U.length,e3U=R3U.length;if(0<G3U&&0<e3U&&!p3U.objectHash&&"boolean"!=typeof p3U.matchByPosition){a:{for(z3U=0;G3U>z3U;z3U++){for(var i3U=F3U[z3U],P3U=0;e3U>P3U;P3U++){var L3U=R3U[P3U];if(z3U!==P3U&&i3U===L3U){z3U=true;break a;}}}z3U=void 0;}p3U.matchByPosition=!z3U;}for(;G3U>d3U&&e3U>d3U&&I3U(F3U,R3U,d3U,d3U,p3U);){z3U=d3U,v3U=new n3U(D3U.left[z3U],D3U.right[z3U]),D3U.push(v3U,z3U),d3U++;}for(;G3U>W3U+d3U&&e3U>W3U+d3U&&I3U(F3U,R3U,G3U-1-W3U,e3U-1-W3U,p3U);){V3U=G3U-1-W3U,X3U=e3U-1-W3U,v3U=new n3U(D3U.left[V3U],D3U.right[X3U]),D3U.push(v3U,X3U),W3U++;}var U3U;if(d3U+W3U===G3U){if(G3U===e3U){return void D3U.setResult(void 0).exit();}U3U=U3U||{_t:"a"};for(z3U=d3U;e3U-W3U>z3U;z3U++){U3U[z3U]=[R3U[z3U]];}return void D3U.setResult(U3U).exit();}if(d3U+W3U===e3U){U3U=U3U||{_t:"a"};for(z3U=d3U;G3U-W3U>z3U;z3U++){U3U["_"+z3U]=[F3U[z3U],0,0];}return void D3U.setResult(U3U).exit();}delete p3U.hashCache1;delete p3U.hashCache2;var i3U=F3U.slice(d3U,G3U-W3U),P3U=R3U.slice(d3U,e3U-W3U),L3U=y3U.get(i3U,P3U,I3U,p3U),x3U=[];U3U=U3U||{_t:"a"};for(z3U=d3U;G3U-W3U>z3U;z3U++){0>o3U(L3U.indices1,z3U-d3U)&&(U3U["_"+z3U]=[F3U[z3U],0,0],x3U.push(z3U));}F3U=true;D3U.options&&D3U.options.arrays&&false===D3U.options.arrays.detectMove&&(F3U=false);G3U=false;D3U.options&&D3U.options.arrays&&D3U.options.arrays.includeValueOnMove&&(G3U=true);var k3U=x3U.length;for(z3U=d3U;e3U-W3U>z3U;z3U++){if(X3U=o3U(L3U.indices2,z3U-d3U),0>X3U){X3U=false;if(F3U&&0<k3U){for(var a3U=0;k3U>a3U;a3U++){if(V3U=x3U[a3U],I3U(i3U,P3U,V3U-d3U,z3U-d3U,p3U)){U3U["_"+V3U].splice(1,2,z3U,3);G3U||(U3U["_"+V3U][0]="");X3U=z3U;v3U=new n3U(D3U.left[V3U],D3U.right[X3U]);D3U.push(v3U,X3U);x3U.splice(a3U,1);X3U=true;break;}}}X3U||(U3U[z3U]=[R3U[z3U]]);}else{V3U=L3U.indices1[X3U]+d3U,X3U=L3U.indices2[X3U]+d3U,v3U=new n3U(D3U.left[V3U],D3U.right[X3U]),D3U.push(v3U,X3U);}}D3U.setResult(U3U).exit();}};r3U.filterName="arrays";var O3U={numerically:function(w3U,Y3U){return w3U-Y3U;},numericallyBy:function(A3U){return function(r5U,s5U){return r5U[A3U]-s5U[A3U];};}};c3U=function(T5U){if(T5U.nested&&"a"===T5U.delta._t){var n5U,o5U,I5U=T5U.delta,O5U=T5U.left,M5U=[],c5U=[],g5U=[];for(n5U in I5U){if("_t"!==n5U){if("_"===n5U[0]){if(0!==I5U[n5U][2]&&3!==I5U[n5U][2]){throw Error("only removal or move can be applied at original array indices, invalid diff type: "+I5U[n5U][2]);}M5U.push(parseInt(n5U.slice(1),10));}else{1===I5U[n5U].length?c5U.push({index:parseInt(n5U,10),value:I5U[n5U][0]}):g5U.push({index:parseInt(n5U,10),delta:I5U[n5U]});}}}M5U=M5U.sort(O3U.numerically);for(n5U=M5U.length-1;0<=n5U;n5U--){o5U=M5U[n5U];var h5U=I5U["_"+o5U];o5U=O5U.splice(o5U,1)[0];3===h5U[2]&&c5U.push({index:h5U[1],value:o5U});}c5U=c5U.sort(O3U.numericallyBy("index"));I5U=c5U.length;for(n5U=0;I5U>n5U;n5U++){M5U=c5U[n5U],O5U.splice(M5U.index,0,M5U.value);}c5U=g5U.length;if(0<c5U){for(n5U=0;c5U>n5U;n5U++){I5U=g5U[n5U],O5U=new H3U(T5U.left[I5U.index],I5U.delta),T5U.push(O5U,I5U.index);}}return T5U.children?void T5U.exit():void T5U.setResult(T5U.left).exit();}};c3U.filterName="arrays";var g3U=function(y5U){if(y5U&&y5U.children&&"a"===y5U.delta._t){for(var q5U,Z5U=y5U.children.length,H5U=0;Z5U>H5U;H5U++){q5U=y5U.children[H5U],y5U.left[q5U.childName]=q5U.result;}y5U.setResult(y5U.left).exit();}};g3U.filterName="arraysCollectChildren";var h3U=function(E5U){if(!E5U.nested){return void(3===E5U.delta[2]&&(E5U.newName="_"+E5U.delta[1],E5U.setResult([E5U.delta[0],parseInt(E5U.childName.substr(1),10),3]).exit()));}if("a"===E5U.delta._t){var u5U,j5U;for(u5U in E5U.delta){"_t"!==u5U&&(j5U=new q3U(E5U.delta[u5U]),E5U.push(j5U,u5U));}E5U.exit();}};h3U.filterName="arrays";var Z3U=function(C5U,K5U,J5U){if("string"==typeof K5U&&"_"===K5U[0]){return parseInt(K5U.substr(1),10);}if(M3U(J5U)&&0===J5U[2]){return"_"+K5U;}J5U=+K5U;for(var t5U in C5U){var S5U=C5U[t5U];if(M3U(S5U)){if(3===S5U[2]){var b5U=parseInt(t5U.substr(1),10),S5U=S5U[1];if(S5U===+K5U){return b5U;}J5U>=b5U&&S5U>J5U?J5U++:b5U>=J5U&&J5U>S5U&&J5U--;}else{0===S5U[2]?(b5U=parseInt(t5U.substr(1),10),J5U>=b5U&&J5U++):1===S5U.length&&J5U>=t5U&&J5U--;}}}return J5U;},T3U=function(N5U){if(N5U&&N5U.children&&"a"===N5U.delta._t){for(var f5U,Q5U=N5U.children.length,m5U={_t:"a"},l5U=0;Q5U>l5U;l5U++){f5U=N5U.children[l5U];var B5U=f5U.newName;"undefined"==typeof B5U&&(B5U=Z3U(N5U.delta,f5U.childName,f5U.result));m5U[B5U]!==f5U.result&&(m5U[B5U]=f5U.result);}N5U.setResult(m5U).exit();}};T3U.filterName="arraysCollectChildren";s3U.diffFilter=r3U;s3U.patchFilter=c3U;s3U.collectChildrenPatchFilter=g3U;s3U.reverseFilter=h3U;s3U.collectChildrenReverseFilter=T3U;},{"../contexts/diff":5,"../contexts/patch":6,"../contexts/reverse":7,"./lcs":13}],12:[function(z5U,d5U,D5U){z5U=function(X5U){X5U.left instanceof Date?(X5U.right instanceof Date?X5U.left.getTime()!==X5U.right.getTime()?X5U.setResult([X5U.left,X5U.right]):X5U.setResult(void 0):X5U.setResult([X5U.left,X5U.right]),X5U.exit()):X5U.right instanceof Date&&X5U.setResult([X5U.left,X5U.right]).exit();};z5U.filterName="dates";D5U.diffFilter=z5U;},{}],13:[function(e5U,F5U,G5U){var U5U=function(p5U,V5U,P5U,v5U){return p5U[P5U]===V5U[v5U];},W5U=function(L5U,a5U,x5U,R5U,i5U,k5U){return 0===R5U||0===i5U?{sequence:[],indices1:[],indices2:[]}:L5U.match(a5U,x5U,R5U-1,i5U-1,k5U)?(L5U=W5U(L5U,a5U,x5U,R5U-1,i5U-1,k5U),L5U.sequence.push(a5U[R5U-1]),L5U.indices1.push(R5U-1),L5U.indices2.push(i5U-1),L5U):L5U[R5U][i5U-1]>L5U[R5U-1][i5U]?W5U(L5U,a5U,x5U,R5U,i5U-1,k5U):W5U(L5U,a5U,x5U,R5U-1,i5U,k5U);};G5U.get=function(n9U,s9U,I9U,r9U){r9U=r9U||{};I9U=I9U||U5U;var M9U=r9U,w5U,Y5U,T9U=n9U.length,c9U=s9U.length,A5U=[T9U+1];for(w5U=0;T9U+1>w5U;w5U++){for(A5U[w5U]=[c9U+1],Y5U=0;c9U+1>Y5U;Y5U++){A5U[w5U][Y5U]=0;}}A5U.match=I9U;for(w5U=1;T9U+1>w5U;w5U++){for(Y5U=1;c9U+1>Y5U;Y5U++){I9U(n9U,s9U,w5U-1,Y5U-1,M9U)?A5U[w5U][Y5U]=A5U[w5U-1][Y5U-1]+1:A5U[w5U][Y5U]=Math.max(A5U[w5U-1][Y5U],A5U[w5U][Y5U-1]);}}r9U=W5U(A5U,n9U,s9U,n9U.length,s9U.length,r9U);return"string"==typeof n9U&&"string"==typeof s9U&&(r9U.sequence=r9U.sequence.join("")),r9U;};},{}],14:[function(O9U,h9U,o9U){var y9U=O9U("../contexts/diff").DiffContext,u9U=O9U("../contexts/patch").PatchContext,E9U=O9U("../contexts/reverse").ReverseContext;O9U=function(j9U){if(j9U&&j9U.children){for(var S9U,b9U=j9U.children.length,J9U=j9U.result,K9U=0;b9U>K9U;K9U++){S9U=j9U.children[K9U],"undefined"!=typeof S9U.result&&(J9U=J9U||{},J9U[S9U.childName]=S9U.result);}J9U&&j9U.leftIsArray&&(J9U._t="a");j9U.setResult(J9U).exit();}};O9U.filterName="collectChildren";h9U=function(t9U){if(!t9U.leftIsArray&&"object"===t9U.leftType){var C9U,f9U,N9U=t9U.options.propertyFilter;for(C9U in t9U.left){Object.prototype.hasOwnProperty.call(t9U.left,C9U)&&(N9U&&!N9U(C9U,t9U)||(f9U=new y9U(t9U.left[C9U],t9U.right[C9U]),t9U.push(f9U,C9U)));}for(C9U in t9U.right){Object.prototype.hasOwnProperty.call(t9U.right,C9U)&&(N9U&&!N9U(C9U,t9U)||"undefined"==typeof t9U.left[C9U]&&(f9U=new y9U(void 0,t9U.right[C9U]),t9U.push(f9U,C9U)));}return t9U.children&&0!==t9U.children.length?void t9U.exit():void t9U.setResult(void 0).exit();}};h9U.filterName="objects";var H9U=function(B9U){if(B9U.nested&&!B9U.delta._t){var m9U,l9U;for(m9U in B9U.delta){l9U=new u9U(B9U.left[m9U],B9U.delta[m9U]),B9U.push(l9U,m9U);}B9U.exit();}};H9U.filterName="objects";var q9U=function(Q9U){if(Q9U&&Q9U.children&&!Q9U.delta._t){for(var z9U,d9U=Q9U.children.length,D9U=0;d9U>D9U;D9U++){z9U=Q9U.children[D9U],Object.prototype.hasOwnProperty.call(Q9U.left,z9U.childName)&&void 0===z9U.result?delete Q9U.left[z9U.childName]:Q9U.left[z9U.childName]!==z9U.result&&(Q9U.left[z9U.childName]=z9U.result);}Q9U.setResult(Q9U.left).exit();}};q9U.filterName="collectChildren";var Z9U=function(X9U){if(X9U.nested&&!X9U.delta._t){var W9U,U9U;for(W9U in X9U.delta){U9U=new E9U(X9U.delta[W9U]),X9U.push(U9U,W9U);}X9U.exit();}};Z9U.filterName="objects";var g9U=function(G9U){if(G9U&&G9U.children&&!G9U.delta._t){for(var e9U,V9U=G9U.children.length,F9U={},p9U=0;V9U>p9U;p9U++){e9U=G9U.children[p9U],F9U[e9U.childName]!==e9U.result&&(F9U[e9U.childName]=e9U.result);}G9U.setResult(F9U).exit();}};g9U.filterName="collectChildren";o9U.collectChildrenDiffFilter=O9U;o9U.objectsDiffFilter=h9U;o9U.patchFilter=H9U;o9U.collectChildrenPatchFilter=q9U;o9U.reverseFilter=Z9U;o9U.collectChildrenReverseFilter=g9U;},{"../contexts/diff":5,"../contexts/patch":6,"../contexts/reverse":7}],15:[function(x9U,v9U,L9U){var P9U=null,R9U=function(Y9U){if(!P9U){var w9U;if("undefined"!=typeof diff_match_patch){w9U="function"==typeof diff_match_patch?new diff_match_patch():new diff_match_patch.diff_match_patch();}else if("function"==typeof x9U){try{w9U=new(x9U("../../public/external/diff_match_patch_uncompressed")).diff_match_patch();}catch(A9U){w9U=null;}}if(!w9U){if(!Y9U){return null;}Y9U=Error("text diff_match_patch library not found");throw Y9U.diff_match_patch_not_found=true,Y9U;}P9U={diff:function(r1U,s1U){return w9U.patch_toText(w9U.patch_make(r1U,s1U));},patch:function(n1U,I1U){n1U=w9U.patch_apply(w9U.patch_fromText(I1U),n1U);for(I1U=0;I1U<n1U[1].length;I1U++){n1U[1][I1U]||(Error("text patch failed").textPatchFailed=true);}return n1U[0];}};}return P9U;};v9U=function(T1U){if("string"===T1U.leftType){var c1U=T1U.options&&T1U.options.textDiff&&T1U.options.textDiff.minLength||60;if(T1U.left.length<c1U||T1U.right.length<c1U){return void T1U.setResult([T1U.left,T1U.right]).exit();}c1U=R9U();if(!c1U){return void T1U.setResult([T1U.left,T1U.right]).exit();}c1U=c1U.diff;T1U.setResult([c1U(T1U.left,T1U.right),0,2]).exit();}};v9U.filterName="texts";var i9U=function(M1U){if(!M1U.nested&&2===M1U.delta[2]){var o1U=R9U(true).patch;M1U.setResult(o1U(M1U.left,M1U.delta[0])).exit();}};i9U.filterName="texts";var k9U=function(O1U){var q1U,g1U,H1U,Z1U,E1U,h1U=null,u1U=/^@@ +\-(\d+),(\d+) +\+(\d+),(\d+) +@@$/;g1U=O1U.split("\n");O1U=0;for(q1U=g1U.length;q1U>O1U;O1U++){H1U=g1U[O1U];var y1U=H1U.slice(0,1);"@"===y1U?(h1U=u1U.exec(H1U),E1U=O1U,g1U[E1U]="@@ -"+h1U[3]+","+h1U[4]+" +"+h1U[1]+","+h1U[2]+" @@"):"+"===y1U?(g1U[O1U]="-"+g1U[O1U].slice(1),"+"===g1U[O1U-1].slice(0,1)&&(Z1U=g1U[O1U],g1U[O1U]=g1U[O1U-1],g1U[O1U-1]=Z1U)):"-"===y1U&&(g1U[O1U]="+"+g1U[O1U].slice(1));}return g1U.join("\n");},a9U=function(j1U){j1U.nested||2===j1U.delta[2]&&j1U.setResult([k9U(j1U.delta[0]),0,2]).exit();};a9U.filterName="texts";L9U.diffFilter=v9U;L9U.patchFilter=i9U;L9U.reverseFilter=a9U;},{}],16:[function(S1U,K1U,b1U){var J1U="function"==typeof Array.isArray?Array.isArray:function(C1U){return C1U instanceof Array;};S1U=function(N1U){if(N1U.left===N1U.right){return void N1U.setResult(void 0).exit();}if("undefined"==typeof N1U.left){if("function"==typeof N1U.right){throw Error("functions are not supported");}return void N1U.setResult([N1U.right]).exit();}if("undefined"==typeof N1U.right){return void N1U.setResult([N1U.left,0,0]).exit();}if("function"==typeof N1U.left||"function"==typeof N1U.right){throw Error("functions are not supported");}if((N1U.leftType=null===N1U.left?"null":typeof N1U.left,N1U.rightType=null===N1U.right?"null":typeof N1U.right,N1U.leftType!==N1U.rightType)||"boolean"===N1U.leftType||"number"===N1U.leftType||("object"===N1U.leftType&&(N1U.leftIsArray=J1U(N1U.left)),"object"===N1U.rightType&&(N1U.rightIsArray=J1U(N1U.right)),N1U.leftIsArray!==N1U.rightIsArray)){return void N1U.setResult([N1U.left,N1U.right]).exit();}if(N1U.left instanceof RegExp){if(!(N1U.right instanceof RegExp)){return void N1U.setResult([N1U.left,N1U.right]).exit();}N1U.setResult([N1U.left.toString(),N1U.right.toString()]).exit();}};S1U.filterName="trivial";K1U=function(f1U){if("undefined"==typeof f1U.delta){return void f1U.setResult(f1U.left).exit();}if(f1U.nested=!J1U(f1U.delta),!f1U.nested){if(1===f1U.delta.length){return void f1U.setResult(f1U.delta[0]).exit();}if(2===f1U.delta.length){if(f1U.left instanceof RegExp){var B1U=/^\/(.*)\/([gimyu]+)$/.exec(f1U.delta[1]);if(B1U){return void f1U.setResult(new RegExp(B1U[1],B1U[2])).exit();}}return void f1U.setResult(f1U.delta[1]).exit();}return 3===f1U.delta.length&&0===f1U.delta[2]?void f1U.setResult(void 0).exit():void 0;}};K1U.filterName="trivial";var t1U=function(m1U){return"undefined"==typeof m1U.delta?void m1U.setResult(m1U.delta).exit():(m1U.nested=!J1U(m1U.delta),m1U.nested?void 0:1===m1U.delta.length?void m1U.setResult([m1U.delta[0],0,0]).exit():2===m1U.delta.length?void m1U.setResult([m1U.delta[1],m1U.delta[0]]).exit():3===m1U.delta.length&&0===m1U.delta[2]?void m1U.setResult([m1U.delta[0]]).exit():void 0);};t1U.filterName="trivial";b1U.diffFilter=S1U;b1U.patchFilter=K1U;b1U.reverseFilter=t1U;},{}],17:[function(z1U,d1U,Q1U){d1U=z1U("./environment");var D1U=z1U("./diffpatcher").DiffPatcher;Q1U.DiffPatcher=D1U;Q1U.create=function(X1U){return new D1U(X1U);};Q1U.dateReviver=z1U("./date-reviver");var l1U;(Q1U.diff=function(){return l1U||(l1U=new D1U()),l1U.diff.apply(l1U,arguments);},Q1U.patch=function(){return l1U||(l1U=new D1U()),l1U.patch.apply(l1U,arguments);},Q1U.unpatch=function(){return l1U||(l1U=new D1U()),l1U.unpatch.apply(l1U,arguments);},Q1U.reverse=function(){return l1U||(l1U=new D1U()),l1U.reverse.apply(l1U,arguments);},Q1U.clone=function(){return l1U||(l1U=new D1U()),l1U.clone.apply(l1U,arguments);},d1U.isBrowser)?(Q1U.homepage="https://github.com/benjamine/jsondiffpatch",Q1U.version="0.2.5"):(d1U=z1U("../package.json"),Q1U.homepage=d1U.homepage,Q1U.version=d1U.version,z1U=z1U("./formatters"),Q1U.formatters=z1U,Q1U.console=z1U.console);},{"./date-reviver":8,"./diffpatcher":9,"./environment":10}],18:[function(W1U,G1U,U1U){W1U=function(e1U){this.name=e1U;this.filters=[];};W1U.prototype.process=function(F1U){var V1U=this;if(!this.processor){throw Error("add this pipe to a processor before using it");}for(var v1U=this.debug,L1U=this.filters.length,p1U=0;L1U>p1U;p1U++){var P1U=V1U.filters[p1U];if(v1U&&V1U.log("filter: "+P1U.filterName),P1U(F1U),"object"==typeof F1U&&F1U.exiting){F1U.exiting=false;break;}}!F1U.next&&this.resultCheck&&this.resultCheck(F1U);};W1U.prototype.log=function(R1U){console.log("[jsondiffpatch] "+this.name+" pipe, "+R1U);};W1U.prototype.append=function(){return this.filters.push.apply(this.filters,arguments),this;};W1U.prototype.prepend=function(){return this.filters.unshift.apply(this.filters,arguments),this;};W1U.prototype.indexOf=function(a1U){var x1U=this;if(!a1U){throw Error("a filter name is required");}for(var i1U=0;i1U<this.filters.length;i1U++){if(x1U.filters[i1U].filterName===a1U){return i1U;}}throw Error("filter not found: "+a1U);};W1U.prototype.list=function(){var Y1U=this;for(var w1U=[],k1U=0;k1U<this.filters.length;k1U++){w1U.push(Y1U.filters[k1U].filterName);}return w1U;};W1U.prototype.after=function(s4U){var r4U=this.indexOf(s4U),A1U=Array.prototype.slice.call(arguments,1);if(!A1U.length){throw Error("a filter is required");}return A1U.unshift(r4U+1,0),Array.prototype.splice.apply(this.filters,A1U),this;};W1U.prototype.before=function(T4U){var I4U=this.indexOf(T4U),n4U=Array.prototype.slice.call(arguments,1);if(!n4U.length){throw Error("a filter is required");}return n4U.unshift(I4U,0),Array.prototype.splice.apply(this.filters,n4U),this;};W1U.prototype.replace=function(o4U){var M4U=this.indexOf(o4U),c4U=Array.prototype.slice.call(arguments,1);if(!c4U.length){throw Error("a filter is required");}return c4U.unshift(M4U,1),Array.prototype.splice.apply(this.filters,c4U),this;};W1U.prototype.remove=function(O4U){O4U=this.indexOf(O4U);return this.filters.splice(O4U,1),this;};W1U.prototype.clear=function(){return this.filters.length=0,this;};W1U.prototype.shouldHaveResult=function(h4U){if(false===h4U){return void(this.resultCheck=null);}if(!this.resultCheck){var g4U=this;return this.resultCheck=function(y4U){if(!y4U.hasResult){throw console.log(y4U),y4U=Error(g4U.name+" failed"),y4U.noResult=true,y4U;}},this;}};U1U.Pipe=W1U;},{}],19:[function(H4U,Z4U,q4U){H4U=function(E4U){this.selfOptions=E4U||{};this.pipes={};};H4U.prototype.options=function(u4U){return u4U&&(this.selfOptions=u4U),this.selfOptions;};H4U.prototype.pipe=function(J4U,j4U){if("string"==typeof J4U){if("undefined"==typeof j4U){return this.pipes[J4U];}this.pipes[J4U]=j4U;}if(J4U&&J4U.name){if(j4U=J4U,j4U.processor===this){return j4U;}this.pipes[j4U.name]=j4U;}return j4U.processor=this,j4U;};H4U.prototype.process=function(b4U,t4U){var C4U=this;var S4U=b4U;S4U.options=this.options();for(var K4U=t4U||b4U.pipe||"default";K4U;){"undefined"!=typeof S4U.nextAfterChildren&&(S4U.next=S4U.nextAfterChildren,S4U.nextAfterChildren=null),"string"==typeof K4U&&(K4U=C4U.pipe(K4U)),K4U.process(S4U),t4U=S4U,b4U=K4U,K4U=null,S4U&&S4U.next&&(S4U=S4U.next,K4U=t4U.nextPipe||S4U.pipe||b4U);}return S4U.hasResult?S4U.result:void 0;};q4U.Processor=H4U;},{}]},{},[1])(1);});void function(){function Q4U(){}function X4U(W4U,U4U,G4U){U4U.forEach(function(e4U){W4U=W4U.replace(B4U[e4U],G4U[e4U]);});return W4U;}function D4U(F4U){F4U=Object.assign({},F4U);for(var V4U in F4U){var p4U=l4U.dasherize(V4U);p4U!==V4U&&(F4U[p4U]=F4U[V4U],delete F4U[V4U]);}for(var v4U in d4U){V4U="bg"+v4U,"string"!==typeof F4U[V4U]&&(F4U[V4U]=f4U[V4U]),p4U="fg"+v4U,"string"!==typeof F4U[p4U]&&(F4U[p4U]=sketch.colorSpace(F4U[V4U]).isDark()?"white":"black");}Object.assign(f4U,F4U);v4U={};for(var L4U in F4U){for(V4U=F4U[L4U],p4U=0;50>=p4U;){var R4U=p4U?"-"+p4U:"",P4U;P4U=V4U;var i4U=p4U;P4U=sketch.colorSpace(P4U);P4U=50<P4U.toHSL().color.L?P4U.darken(i4U).toRGBString():P4U.lighten(i4U).toRGBString();v4U[""+L4U+R4U]=P4U;v4U[L4U+"-desaturate"+R4U]=sketch.colorSpace(P4U).desaturate(10).toRGBString();5>p4U?p4U++:p4U+=5;}}return v4U;}var z4U=sketch.dom,l4U=sketch.string,m4U=sketch.util,f4U={},d4U={"":11,"-attention":22,"-selected":33},B4U=D4U({fg:"rgb(127, 11, 0)","fg-attention":"rgb(127, 22, 0)","fg-selected":"rgb(127, 33, 0)",bg:"rgb(0, 11, 0)","bg-attention":"rgb(0, 22, 0)","bg-selected":"rgb(0, 33, 0)"}),N4U=Q4U.prototype;N4U.blueprint=B4U;N4U.presets=[{id:"theme-preset-blue-orange",colors:{fg:"white","fg-attention":"white","fg-selected":"black",bg:"#3268A7","bg-attention":"#ff5a80","bg-selected":"#FFCC33"}},{id:"theme-preset-chocolate",colors:{fg:"white","fg-attention":"black","fg-selected":"black",bg:"#483010","bg-attention":"#FF7260","bg-selected":"#D3E397"}},{id:"theme-preset-dark-gray",colors:{fg:"white","fg-attention":"black","fg-selected":"black",bg:"#1a1a1a","bg-attention":"#FFDD0A","bg-selected":"#00DE57"}},{id:"theme-preset-dark-blue",colors:{fg:"white","fg-attention":"white","fg-selected":"white",bg:"#002846","bg-attention":"#ff1c75","bg-selected":"#1fa4cc"}},{id:"theme-preset-deep-purple",colors:{fg:"white","fg-attention":"white","fg-selected":"black",bg:"#302E40","bg-attention":"#fe4c4c","bg-selected":"#f4ea57"}},{id:"theme-preset-forest",colors:{fg:"white","fg-attention":"black","fg-selected":"black",bg:"#165942","bg-attention":"#FF7260","bg-selected":"#D3E397"}},{id:"theme-preset-grape",colors:{fg:"white","fg-attention":"black","fg-selected":"white",bg:"#38105f","bg-attention":"#ffe647","bg-selected":"#de3f98"}},{id:"theme-preset-light-blue",colors:{fg:"black","fg-attention":"black","fg-selected":"white",bg:"#e6f2f8","bg-attention":"#eeb15d","bg-selected":"#228dcd"}},{id:"theme-preset-light-gray",colors:{fg:"black","fg-attention":"black","fg-selected":"white",bg:"white","bg-attention":"#FFDD0A","bg-selected":"#4A4A4A"}},{id:"theme-preset-orange-cappuccino",colors:{fg:"black","fg-attention":"white","fg-selected":"black",bg:"#F0F1E3","bg-attention":"#593B19","bg-selected":"#ffc800"}},{id:"theme-preset-pink",colors:{fg:"black","fg-attention":"white","fg-selected":"white",bg:"#fdf1f6","bg-attention":"#6b5ed6","bg-selected":"#de3e81"}},{id:"Custom&hellip;",colors:{}}];N4U.theme=f4U;N4U.set=function(){var x4U=0<arguments.length&&void 0!==arguments[0]?arguments[0]:f4U;Number.isFinite(x4U)&&(x4U=N4U.presets[x4U].colors);N4U.theme=f4U=Object.assign({},f4U,x4U);var a4U=this;a4U.selectors||a4U.init();a4U.palette=D4U(x4U);var k4U=[];m4U.forEach(a4U.selectors,function(w4U){m4U.forEach(w4U.rules,function(Y4U){w4U.matches.forEach(function(A4U){var n7U=A4U.colorKeys,I7U=A4U.cssKey,T7U=A4U.cssValue,r7U=Y4U.style,s7U=r7U.transition;"none"!==s7U&&(s7U=A4U._temp||(A4U._temp=s7U),r7U.transition="none",k4U.push({css:r7U,transition:s7U}));r7U[I7U]=X4U(T7U,n7U,a4U.palette);});});});a4U._temporary||(a4U._temporary=k4U);a4U._resetTemporaryChanges();sketch.emit("theme",x4U);};N4U._resetTemporaryChanges=m4U.debounce(function(){var c7U=this._temporary;delete this._temporary;c7U.forEach(function(M7U){M7U.css.transition=M7U.transition+", fake 0ms";});},1E3);N4U.toJSON=function(){return JSON.stringify(f4U);};N4U.init=function(){for(var g7U=this.selectors={},h7U=document.styleSheets,o7U=0;o7U<h7U.length;o7U++){var y7U=h7U[o7U],O7U;a:{try{O7U=y7U.cssRules;break a;}catch(H7U){}O7U=void 0;}O7U&&m4U.forEach(O7U,function(Z7U){var E7U=Z7U.selectorText;if(Z7U=Z7U.style){for(var K7U=Z7U.length,u7U=0;u7U<K7U;u7U++){var J7U=Z7U[u7U],q7U=Z7U[J7U];if(q7U){var q7U=String(q7U),j7U=[],S7U;for(S7U in B4U){q7U.includes(B4U[S7U])&&j7U.push(S7U);}j7U.length&&(g7U[E7U]||(g7U[E7U]={rules:z4U.stylesheet(E7U),matches:[]})).matches.push({cssKey:l4U.camelize(J7U),cssValue:q7U,cssSelector:E7U,colorKeys:j7U});}}}});}};N4U.getRgbaString=function(b7U,t7U){return sketch.colorSpace(this.palette[b7U]).setAlpha(t7U).toRGBString();};N4U.isDark=function(C7U){return!!sketch.colorSpace(this.palette[C7U]).isW3Contrast("white");};N4U.isLight=function(N7U){return!sketch.colorSpace(this.palette[N7U]).isW3Contrast("white");};sketch.themify=new Q4U();}();(function(Q7U){function d7U(U7U){var W7U=U7U.length,G7U=f7U.type(U7U);return"function"===G7U||f7U.isWindow(U7U)?false:1===U7U.nodeType&&W7U?true:"array"===G7U||0===W7U||"number"===typeof W7U&&0<W7U&&W7U-1 in U7U;}if(!Q7U.jQuery){var f7U=function(e7U,F7U){return new f7U.fn.init(e7U,F7U);};f7U.isWindow=function(p7U){return p7U&&p7U===p7U.window;};f7U.type=function(V7U){return V7U?"object"===typeof V7U||"function"===typeof V7U?m7U[X7U.call(V7U)]||"object":typeof V7U:V7U+"";};f7U.isArray=Array.isArray||function(P7U){return"array"===f7U.type(P7U);};f7U.isPlainObject=function(v7U){var L7U;if(!v7U||"object"!==f7U.type(v7U)||v7U.nodeType||f7U.isWindow(v7U)){return false;}try{if(v7U.constructor&&!z7U.call(v7U,"constructor")&&!z7U.call(v7U.constructor.prototype,"isPrototypeOf")){return false;}}catch(R7U){return false;}for(L7U in v7U){;}return void 0===L7U||z7U.call(v7U,L7U);};f7U.each=function(a7U,k7U,w7U){var x7U,i7U=0,Y7U=a7U.length;x7U=d7U(a7U);if(w7U){if(x7U){for(;i7U<Y7U&&(x7U=k7U.apply(a7U[i7U],w7U),false!==x7U);i7U++){;}}else{for(i7U in a7U){if(a7U.hasOwnProperty(i7U)&&(x7U=k7U.apply(a7U[i7U],w7U),false===x7U)){break;}}}}else if(x7U){for(;i7U<Y7U&&(x7U=k7U.call(a7U[i7U],i7U,a7U[i7U]),false!==x7U);i7U++){;}}else{for(i7U in a7U){if(a7U.hasOwnProperty(i7U)&&(x7U=k7U.call(a7U[i7U],i7U,a7U[i7U]),false===x7U)){break;}}}return a7U;};f7U.data=function(r6U,s6U,A7U){if(void 0===A7U){A7U=(A7U=r6U[f7U.expando])&&B7U[A7U];if(void 0===s6U){return A7U;}if(A7U&&s6U in A7U){return A7U[s6U];}}else if(void 0!==s6U){return r6U=r6U[f7U.expando]||(r6U[f7U.expando]=++f7U.uuid),B7U[r6U]=B7U[r6U]||{},B7U[r6U][s6U]=A7U;}};f7U.removeData=function(n6U,T6U){var I6U=(n6U=n6U[f7U.expando])&&B7U[n6U];I6U&&(T6U?f7U.each(T6U,function(M6U,c6U){delete I6U[c6U];}):delete B7U[n6U]);};f7U.extend=function(){var O6U,Z6U,g6U,y6U,H6U,o6U=arguments[0]||{},h6U=1,E6U=arguments.length,q6U=false;"boolean"===typeof o6U&&(q6U=o6U,o6U=arguments[h6U]||{},h6U++);"object"!==typeof o6U&&"function"!==f7U.type(o6U)&&(o6U={});h6U===E6U&&(o6U=this,h6U--);for(;h6U<E6U;h6U++){if(H6U=arguments[h6U]){for(y6U in H6U){H6U.hasOwnProperty(y6U)&&(O6U=o6U[y6U],g6U=H6U[y6U],o6U!==g6U&&(q6U&&g6U&&(f7U.isPlainObject(g6U)||(Z6U=f7U.isArray(g6U)))?(Z6U?(Z6U=false,O6U=O6U&&f7U.isArray(O6U)?O6U:[]):O6U=O6U&&f7U.isPlainObject(O6U)?O6U:{},o6U[y6U]=f7U.extend(q6U,O6U,g6U)):void 0!==g6U&&(o6U[y6U]=g6U)));}}}return o6U;};f7U.queue=function(S6U,j6U,J6U){function K6U(b6U,t6U){t6U=t6U||[];if(b6U){if(d7U(Object(b6U))){b6U="string"===typeof b6U?[b6U]:b6U;for(var N6U=+b6U.length,C6U=0,f6U=t6U.length;C6U<N6U;){t6U[f6U++]=b6U[C6U++];}if(N6U!==N6U){for(;void 0!==b6U[C6U];){t6U[f6U++]=b6U[C6U++];}}t6U.length=f6U;}else{[].push.call(t6U,b6U);}}return t6U;}if(S6U){j6U=(j6U||"fx")+"queue";var u6U=f7U.data(S6U,j6U);if(!J6U){return u6U||[];}!u6U||f7U.isArray(J6U)?u6U=f7U.data(S6U,j6U,K6U(J6U)):u6U.push(J6U);return u6U;}};f7U.dequeue=function(m6U,B6U){f7U.each(m6U.nodeType?[m6U]:m6U,function(Q6U,z6U){B6U=B6U||"fx";Q6U=f7U.queue(z6U,B6U);var l6U=Q6U.shift();"inprogress"===l6U&&(l6U=Q6U.shift());l6U&&("fx"===B6U&&Q6U.unshift("inprogress"),l6U.call(z6U,function(){f7U.dequeue(z6U,B6U);}));});};f7U.fn=f7U.prototype={init:function(D6U){if(D6U.nodeType){return this[0]=D6U,this;}throw Error("Not a DOM node.");},offset:function(){var d6U=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:d6U.top+(Q7U.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:d6U.left+(Q7U.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)};},position:function(){var G6U=this[0],X6U;for(X6U=G6U.offsetParent;X6U&&"html"!==X6U.nodeName.toLowerCase()&&X6U.style&&"static"===X6U.style.position.toLowerCase();){X6U=X6U.offsetParent;}X6U=X6U||document;var W6U=this.offset(),U6U=/^(?:body|html)$/i.test(X6U.nodeName)?{top:0,left:0}:f7U(X6U).offset();W6U.top-=parseFloat(G6U.style.marginTop)||0;W6U.left-=parseFloat(G6U.style.marginLeft)||0;X6U.style&&(U6U.top+=parseFloat(X6U.style.borderTopWidth)||0,U6U.left+=parseFloat(X6U.style.borderLeftWidth)||0);return{top:W6U.top-U6U.top,left:W6U.left-U6U.left};}};var B7U={};f7U.expando="velocity"+new Date().getTime();f7U.uuid=0;for(var m7U={},z7U=m7U.hasOwnProperty,X7U=m7U.toString,D7U="Boolean Number String Function Array Date RegExp Object Error".split(" "),l7U=0;l7U<D7U.length;l7U++){m7U["[object "+D7U[l7U]+"]"]=D7U[l7U].toLowerCase();}f7U.fn.init.prototype=f7U.fn;Q7U.Velocity={Utilities:f7U};}}(window));(function(e6U){"object"===typeof module&&"object"===typeof module.exports?module.exports=e6U():"function"===typeof define&&define.amd?define(e6U):e6U();}(function(){return function(x6U,R6U,a6U,v6U){function H8t(q8t){for(var Z8t=-1,j8t=q8t?q8t.length:0,E8t=[];++Z8t<j8t;){var u8t=q8t[Z8t];u8t&&E8t.push(u8t);}return E8t;}function n8t(J8t){P6U.isWrapped(J8t)?J8t=T8t.call(J8t):P6U.isNode(J8t)&&(J8t=[J8t]);return J8t;}function L6U(S8t){S8t=V6U.data(S8t,"velocity");return null===S8t?v6U:S8t;}function O8t(K8t,b8t){(K8t=L6U(K8t))&&K8t.delayTimer&&!K8t.delayPaused&&(K8t.delayRemaining=K8t.delay-b8t+K8t.delayBegin,K8t.delayPaused=true,clearTimeout(K8t.delayTimer.setTimeout));}function g8t(t8t,C8t){(t8t=L6U(t8t))&&t8t.delayTimer&&t8t.delayPaused&&(t8t.delayPaused=false,t8t.delayTimer.setTimeout=setTimeout(t8t.delayTimer.next,t8t.delayRemaining));}function y8t(N8t){return function(f8t){return 1/N8t*Math.round(f8t*N8t);};}function c8t(B8t,D8t,m8t,d8t){function X8t(G8t,e8t,F8t){return(((1-3*F8t+3*e8t)*G8t+(3*F8t-6*e8t))*G8t+3*e8t)*G8t;}var l8t="Float32Array"in R6U;if(4!==arguments.length){return false;}for(var Q8t=0;4>Q8t;++Q8t){if("number"!==typeof arguments[Q8t]||isNaN(arguments[Q8t])||!isFinite(arguments[Q8t])){return false;}}B8t=Math.min(B8t,1);m8t=Math.min(m8t,1);B8t=Math.max(B8t,0);m8t=Math.max(m8t,0);var z8t=l8t?new Float32Array(11):Array(11),W8t=false,l8t=function(P8t){if(!W8t&&(W8t=true,B8t!==D8t||m8t!==d8t)){for(var p8t=0;11>p8t;++p8t){z8t[p8t]=X8t(.1*p8t,B8t,m8t);}}if(B8t===D8t&&m8t===d8t){return P8t;}if(0===P8t){return 0;}if(1===P8t){return 1;}for(var V8t=0,p8t=1;10!==p8t&&z8t[p8t]<=P8t;++p8t){V8t+=.1;}--p8t;var p8t=V8t+(P8t-z8t[p8t])/(z8t[p8t+1]-z8t[p8t])*.1,v8t=3*(1-3*m8t+3*B8t)*p8t*p8t+2*(3*m8t-6*B8t)*p8t+3*B8t;if(.001<=v8t){for(V8t=0;4>V8t;++V8t){v8t=3*(1-3*m8t+3*B8t)*p8t*p8t+2*(3*m8t-6*B8t)*p8t+3*B8t;if(0===v8t){break;}var L8t=X8t(p8t,B8t,m8t)-P8t,p8t=p8t-L8t/v8t;}P8t=p8t;}else if(0===v8t){P8t=p8t;}else{var p8t=V8t,V8t=V8t+.1,R8t=0;do{L8t=p8t+(V8t-p8t)/2,v8t=X8t(L8t,B8t,m8t)-P8t,0<v8t?V8t=L8t:p8t=L8t;}while(1E-7<Math.abs(v8t)&&10>++R8t);P8t=L8t;}return X8t(P8t,D8t,d8t);};l8t.getControlPoints=function(){return[{x:B8t,y:D8t},{x:m8t,y:d8t}];};var U8t="generateBezier("+[B8t,D8t,m8t,d8t]+")";l8t.toString=function(){return U8t;};return l8t;}function M8t(i8t,x8t){var a8t=i8t;P6U.isString(i8t)?p6U.Easings[i8t]||(a8t=false):a8t=P6U.isArray(i8t)&&1===i8t.length?y8t.apply(null,i8t):P6U.isArray(i8t)&&2===i8t.length?h8t.apply(null,i8t.concat([x8t])):P6U.isArray(i8t)&&4===i8t.length?c8t.apply(null,i8t):false;false===a8t&&(a8t=p6U.Easings[p6U.defaults.easing]?p6U.defaults.easing:"swing");return a8t;}function s8t(M2t){if(M2t){M2t=p6U.timestamp&&true!==M2t?M2t:I8t.now();var y2t=p6U.State.calls.length;1E4<y2t&&(p6U.State.calls=H8t(p6U.State.calls),y2t=p6U.State.calls.length);for(var s2t=0;s2t<y2t;s2t++){if(p6U.State.calls[s2t]){var r2t=p6U.State.calls[s2t],H2t=r2t[0],k8t=r2t[2],T2t=r2t[3],u2t=!T2t,Z2t=null,I2t=r2t[5],c2t=r2t[6];T2t||(T2t=p6U.State.calls[s2t][3]=M2t-16);if(I2t){if(true===I2t.resume){T2t=r2t[3]=Math.round(M2t-c2t-16),r2t[5]=null;}else{continue;}}for(var c2t=r2t[6]=M2t-T2t,o2t=Math.min(c2t/k8t.duration,1),I2t=0,c2t=H2t.length;I2t<c2t;I2t++){var g2t=H2t[I2t],A8t=g2t.element;if(L6U(A8t)){var h2t=false;k8t.display!==v6U&&null!==k8t.display&&"none"!==k8t.display&&("flex"===k8t.display&&V6U.each(["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"],function(J2t,j2t){F6U.setPropertyValue(A8t,"display",j2t);}),F6U.setPropertyValue(A8t,"display",k8t.display));k8t.visibility!==v6U&&"hidden"!==k8t.visibility&&F6U.setPropertyValue(A8t,"visibility",k8t.visibility);for(var n2t in g2t){if(g2t.hasOwnProperty(n2t)&&"element"!==n2t){var w8t=g2t[n2t],Y8t,E2t=P6U.isString(w8t.easing)?p6U.Easings[w8t.easing]:w8t.easing;P6U.isString(w8t.pattern)?Y8t=w8t.pattern.replace(/{(\d+)(!)?}/g,1===o2t?function(S2t,K2t,b2t){S2t=w8t.endValue[K2t];return b2t?Math.round(S2t):S2t;}:function(C2t,t2t,N2t){C2t=w8t.startValue[t2t];t2t=w8t.endValue[t2t]-C2t;t2t=C2t+t2t*E2t(o2t,k8t,t2t);return N2t?Math.round(t2t):t2t;}):1===o2t?Y8t=w8t.endValue:(Y8t=w8t.endValue-w8t.startValue,Y8t=w8t.startValue+Y8t*E2t(o2t,k8t,Y8t));if(u2t||Y8t!==w8t.currentValue){if(w8t.currentValue=Y8t,"tween"===n2t){Z2t=Y8t;}else{var O2t;if(F6U.Hooks.registered[n2t]){O2t=F6U.Hooks.getRoot(n2t);var q2t=L6U(A8t).rootPropertyValueCache[O2t];q2t&&(w8t.rootPropertyValue=q2t);}Y8t=F6U.setPropertyValue(A8t,n2t,w8t.currentValue+(9>i6U&&0===parseFloat(Y8t)?"":w8t.unitType),w8t.rootPropertyValue,w8t.scrollData);F6U.Hooks.registered[n2t]&&(F6U.Normalizations.registered[O2t]?L6U(A8t).rootPropertyValueCache[O2t]=F6U.Normalizations.registered[O2t]("extract",null,Y8t[1]):L6U(A8t).rootPropertyValueCache[O2t]=Y8t[1]);"transform"===Y8t[0]&&(h2t=true);}}}}k8t.mobileHA&&L6U(A8t).transformCache.translate3d===v6U&&(L6U(A8t).transformCache.translate3d="(0px, 0px, 0px)",h2t=true);h2t&&F6U.flushTransformCache(A8t);}}k8t.display!==v6U&&"none"!==k8t.display&&(p6U.State.calls[s2t][2].display=false);k8t.visibility!==v6U&&"hidden"!==k8t.visibility&&(p6U.State.calls[s2t][2].visibility=false);k8t.progress&&k8t.progress.call(r2t[1],r2t[1],o2t,Math.max(0,T2t+k8t.duration-M2t),T2t,Z2t);1===o2t&&o8t(s2t);}}}p6U.State.isTicking&&Y6U(s8t);}function o8t(B2t,Q2t){if(!p6U.State.calls[B2t]){return false;}for(var X2t=p6U.State.calls[B2t][0],d2t=p6U.State.calls[B2t][1],f2t=p6U.State.calls[B2t][2],U2t=p6U.State.calls[B2t][4],G2t=false,z2t=0,W2t=X2t.length;z2t<W2t;z2t++){var m2t=X2t[z2t].element;Q2t||f2t.loop||("none"===f2t.display&&F6U.setPropertyValue(m2t,"display",f2t.display),"hidden"===f2t.visibility&&F6U.setPropertyValue(m2t,"visibility",f2t.visibility));var l2t=L6U(m2t);if(true!==f2t.loop&&(V6U.queue(m2t)[1]===v6U||!/\.velocityQueueEntryFlag/i.test(V6U.queue(m2t)[1]))&&l2t){l2t.isAnimating=false;l2t.rootPropertyValueCache={};var D2t=false;V6U.each(F6U.Lists.transforms3D,function(F2t,e2t){F2t=/^scale/.test(e2t)?1:0;var p2t=l2t.transformCache[e2t];l2t.transformCache[e2t]!==v6U&&new RegExp("^\\("+F2t+"[^.]").test(p2t)&&(D2t=true,delete l2t.transformCache[e2t]);});f2t.mobileHA&&(D2t=true,delete l2t.transformCache.translate3d);D2t&&F6U.flushTransformCache(m2t);F6U.Values.removeClass(m2t,"velocity-animating");}if(!Q2t&&f2t.complete&&!f2t.loop&&z2t===W2t-1){try{f2t.complete.call(d2t,d2t);}catch(V2t){setTimeout(function(){throw V2t;},1);}}U2t&&true!==f2t.loop&&U2t(d2t);l2t&&true===f2t.loop&&!Q2t&&(V6U.each(l2t.tweensContainer,function(v2t,P2t){if(/^rotate/.test(v2t)&&0===(parseFloat(P2t.startValue)-parseFloat(P2t.endValue))%360){var L2t=P2t.startValue;P2t.startValue=P2t.endValue;P2t.endValue=L2t;}/^backgroundPosition/.test(v2t)&&100===parseFloat(P2t.endValue)&&"%"===P2t.unitType&&(P2t.endValue=0,P2t.startValue=100);}),p6U(m2t,"reverse",{loop:true,delay:f2t.delay}));false!==f2t.queue&&V6U.dequeue(m2t,f2t.queue);}p6U.State.calls[B2t]=false;B2t=0;for(Q2t=p6U.State.calls.length;B2t<Q2t;B2t++){if(false!==p6U.State.calls[B2t]){G2t=true;break;}}false===G2t&&(p6U.State.isTicking=false,delete p6U.State.calls,p6U.State.calls=[]);}var i6U=function(){if(a6U.documentMode){return a6U.documentMode;}for(var R2t=7;4<R2t;R2t--){var i2t=a6U.createElement("div");i2t.innerHTML="\x3c!--[if IE "+R2t+"]><span></span><![endif]--\x3e";if(i2t.getElementsByTagName("span").length){return R2t;}}return v6U;}(),A6U=function(){var a2t=0;return R6U.webkitRequestAnimationFrame||R6U.mozRequestAnimationFrame||function(w2t){var x2t=new Date().getTime(),k2t;k2t=Math.max(0,16-(x2t-a2t));a2t=x2t+k2t;return setTimeout(function(){w2t(x2t+k2t);},k2t);};}(),I8t=function(){var Y2t=R6U.performance||{};if("function"!==typeof Y2t.now){var A2t=Y2t.timing&&Y2t.timing.navigationStart?Y2t.timing.navigationStart:new Date().getTime();Y2t.now=function(){return new Date().getTime()-A2t;};}return Y2t;}(),T8t=function(){var r0t=Array.prototype.slice;try{return r0t.call(a6U.documentElement),r0t;}catch(s0t){return function(I0t,n0t){var M0t=this;var T0t=this.length;"number"!==typeof I0t&&(I0t=0);"number"!==typeof n0t&&(n0t=T0t);if(this.slice){return r0t.call(this,I0t,n0t);}var c0t=[];I0t=0<=I0t?I0t:Math.max(0,T0t+I0t);T0t=(0>n0t?T0t+n0t:Math.min(n0t,T0t))-I0t;if(0<T0t){if(c0t=Array(T0t),this.charAt){for(n0t=0;n0t<T0t;n0t++){c0t[n0t]=M0t.charAt(I0t+n0t);}}else{for(n0t=0;n0t<T0t;n0t++){c0t[n0t]=M0t[I0t+n0t];}}}return c0t;};}}(),r8t=function(){return Array.prototype.includes?function(o0t,O0t){return o0t.includes(O0t);}:Array.prototype.indexOf?function(g0t,h0t){return 0<=g0t.indexOf(h0t);}:function(H0t,q0t){for(var y0t=0;y0t<H0t.length;y0t++){if(H0t[y0t]===q0t){return true;}}return false;};},P6U={isNumber:function(Z0t){return"number"===typeof Z0t;},isString:function(E0t){return"string"===typeof E0t;},isArray:Array.isArray||function(u0t){return"[object Array]"===Object.prototype.toString.call(u0t);},isFunction:function(j0t){return"[object Function]"===Object.prototype.toString.call(j0t);},isNode:function(J0t){return J0t&&J0t.nodeType;},isWrapped:function(S0t){return S0t&&S0t!==R6U&&P6U.isNumber(S0t.length)&&!P6U.isString(S0t)&&!P6U.isFunction(S0t)&&!P6U.isNode(S0t)&&(0===S0t.length||P6U.isNode(S0t[0]));},isSVG:function(K0t){return R6U.SVGElement&&K0t instanceof R6U.SVGElement;},isEmptyObject:function(b0t){for(var t0t in b0t){if(b0t.hasOwnProperty(t0t)){return false;}}return true;}},V6U,k6U=false;x6U.fn&&x6U.fn.jquery?(V6U=x6U,k6U=true):V6U=R6U.Velocity.Utilities;if(8>=i6U&&!k6U){throw Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");}if(7>=i6U){jQuery.fn.velocity=jQuery.fn.animate;}else{var p6U={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(R6U.navigator.userAgent),isAndroid:/Android/i.test(R6U.navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(R6U.navigator.userAgent),isChrome:R6U.chrome,isFirefox:/Firefox/i.test(R6U.navigator.userAgent),prefixElement:a6U.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:false,calls:[],delayedElements:{count:0}},CSS:{},Utilities:V6U,Redirects:{},Easings:{},Promise:R6U.Promise,defaults:{queue:"",duration:400,easing:"swing",begin:v6U,complete:v6U,progress:v6U,display:v6U,visibility:v6U,loop:false,delay:false,mobileHA:true,_cacheValues:true,promiseRejectEmpty:true},init:function(C0t){V6U.data(C0t,"velocity",{isSVG:P6U.isSVG(C0t),isAnimating:false,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}});},hook:null,mock:false,version:{major:1,minor:5,patch:1},debug:false,timestamp:true,pauseAll:function(N0t){var f0t=new Date().getTime();V6U.each(p6U.State.calls,function(m0t,B0t){if(B0t){if(N0t!==v6U&&(B0t[2].queue!==N0t||false===B0t[2].queue)){return true;}B0t[5]={resume:false};}});V6U.each(p6U.State.delayedElements,function(Q0t,l0t){l0t&&O8t(l0t,f0t);});},resumeAll:function(z0t){var D0t=new Date().getTime();V6U.each(p6U.State.calls,function(X0t,d0t){if(d0t){if(z0t!==v6U&&(d0t[2].queue!==z0t||false===d0t[2].queue)){return true;}d0t[5]&&(d0t[5].resume=true);}});V6U.each(p6U.State.delayedElements,function(U0t,W0t){W0t&&g8t(W0t,D0t);});}};R6U.pageYOffset!==v6U?(p6U.State.scrollAnchor=R6U,p6U.State.scrollPropertyLeft="pageXOffset",p6U.State.scrollPropertyTop="pageYOffset"):(p6U.State.scrollAnchor=a6U.documentElement||a6U.body.parentNode||a6U.body,p6U.State.scrollPropertyLeft="scrollLeft",p6U.State.scrollPropertyTop="scrollTop");var h8t=function(){function G0t(F0t,V0t,P0t){var p0t=F0t.v+P0t.dv*V0t;return{dx:p0t,dv:-F0t.tension*(F0t.x+P0t.dx*V0t)-F0t.friction*p0t};}function e0t(v0t,L0t){var R0t={dx:v0t.v,dv:-v0t.tension*v0t.x-v0t.friction*v0t.v},i0t=G0t(v0t,.5*L0t,R0t),a0t=G0t(v0t,.5*L0t,i0t),x0t=G0t(v0t,L0t,a0t),k0t=0.16666666666666666*(R0t.dv+2*(i0t.dv+a0t.dv)+x0t.dv);v0t.x+=0.16666666666666666*(R0t.dx+2*(i0t.dx+a0t.dx)+x0t.dx)*L0t;v0t.v+=k0t*L0t;return v0t;}return function w0t(Y0t,s3t,n3t){var I3t={x:-1,v:0,tension:null,friction:null},T3t=[0],A0t=0,c3t,r3t;Y0t=parseFloat(Y0t)||500;s3t=parseFloat(s3t)||20;n3t=n3t||null;I3t.tension=Y0t;I3t.friction=s3t;(c3t=null!==n3t)?(A0t=w0t(Y0t,s3t),Y0t=A0t/n3t*.016):Y0t=.016;for(;r3t=e0t(r3t||I3t,Y0t),T3t.push(1+r3t.x),A0t+=16,1E-4<Math.abs(r3t.x)&&1E-4<Math.abs(r3t.v);){;}return c3t?function(M3t){return T3t[M3t*(T3t.length-1)|0];}:A0t;};}();p6U.Easings={linear:function(o3t){return o3t;},swing:function(O3t){return.5-Math.cos(O3t*Math.PI)/2;},spring:function(g3t){return 1-Math.cos(4.5*g3t*Math.PI)*Math.exp(6*-g3t);}};V6U.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(y3t,h3t){p6U.Easings[h3t[0]]=c8t.apply(null,h3t[1]);});var F6U=p6U.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/ig},Lists:{colors:"fill stroke stopColor color backgroundColor borderColor borderTopColor borderRightColor borderBottomColor borderLeftColor outlineColor".split(" "),transformsBase:"translateX translateY scale scaleX scaleY skewX skewY rotateZ".split(" "),transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"],units:"% em ex ch rem vw vh vmin vmax cm mm Q in pc pt px deg grad rad turn s ms".split(" "),colorNames:{aliceblue:"240,248,255",antiquewhite:"250,235,215",aquamarine:"127,255,212",aqua:"0,255,255",azure:"240,255,255",beige:"245,245,220",bisque:"255,228,196",black:"0,0,0",blanchedalmond:"255,235,205",blueviolet:"138,43,226",blue:"0,0,255",brown:"165,42,42",burlywood:"222,184,135",cadetblue:"95,158,160",chartreuse:"127,255,0",chocolate:"210,105,30",coral:"255,127,80",cornflowerblue:"100,149,237",cornsilk:"255,248,220",crimson:"220,20,60",cyan:"0,255,255",darkblue:"0,0,139",darkcyan:"0,139,139",darkgoldenrod:"184,134,11",darkgray:"169,169,169",darkgrey:"169,169,169",darkgreen:"0,100,0",darkkhaki:"189,183,107",darkmagenta:"139,0,139",darkolivegreen:"85,107,47",darkorange:"255,140,0",darkorchid:"153,50,204",darkred:"139,0,0",darksalmon:"233,150,122",darkseagreen:"143,188,143",darkslateblue:"72,61,139",darkslategray:"47,79,79",darkturquoise:"0,206,209",darkviolet:"148,0,211",deeppink:"255,20,147",deepskyblue:"0,191,255",dimgray:"105,105,105",dimgrey:"105,105,105",dodgerblue:"30,144,255",firebrick:"178,34,34",floralwhite:"255,250,240",forestgreen:"34,139,34",fuchsia:"255,0,255",gainsboro:"220,220,220",ghostwhite:"248,248,255",gold:"255,215,0",goldenrod:"218,165,32",gray:"128,128,128",grey:"128,128,128",greenyellow:"173,255,47",green:"0,128,0",honeydew:"240,255,240",hotpink:"255,105,180",indianred:"205,92,92",indigo:"75,0,130",ivory:"255,255,240",khaki:"240,230,140",lavenderblush:"255,240,245",lavender:"230,230,250",lawngreen:"124,252,0",lemonchiffon:"255,250,205",lightblue:"173,216,230",lightcoral:"240,128,128",lightcyan:"224,255,255",lightgoldenrodyellow:"250,250,210",lightgray:"211,211,211",lightgrey:"211,211,211",lightgreen:"144,238,144",lightpink:"255,182,193",lightsalmon:"255,160,122",lightseagreen:"32,178,170",lightskyblue:"135,206,250",lightslategray:"119,136,153",lightsteelblue:"176,196,222",lightyellow:"255,255,224",limegreen:"50,205,50",lime:"0,255,0",linen:"250,240,230",magenta:"255,0,255",maroon:"128,0,0",mediumaquamarine:"102,205,170",mediumblue:"0,0,205",mediumorchid:"186,85,211",mediumpurple:"147,112,219",mediumseagreen:"60,179,113",mediumslateblue:"123,104,238",mediumspringgreen:"0,250,154",mediumturquoise:"72,209,204",mediumvioletred:"199,21,133",midnightblue:"25,25,112",mintcream:"245,255,250",mistyrose:"255,228,225",moccasin:"255,228,181",navajowhite:"255,222,173",navy:"0,0,128",oldlace:"253,245,230",olivedrab:"107,142,35",olive:"128,128,0",orangered:"255,69,0",orange:"255,165,0",orchid:"218,112,214",palegoldenrod:"238,232,170",palegreen:"152,251,152",paleturquoise:"175,238,238",palevioletred:"219,112,147",papayawhip:"255,239,213",peachpuff:"255,218,185",peru:"205,133,63",pink:"255,192,203",plum:"221,160,221",powderblue:"176,224,230",purple:"128,0,128",red:"255,0,0",rosybrown:"188,143,143",royalblue:"65,105,225",saddlebrown:"139,69,19",salmon:"250,128,114",sandybrown:"244,164,96",seagreen:"46,139,87",seashell:"255,245,238",sienna:"160,82,45",silver:"192,192,192",skyblue:"135,206,235",slateblue:"106,90,205",slategray:"112,128,144",snow:"255,250,250",springgreen:"0,255,127",steelblue:"70,130,180",tan:"210,180,140",teal:"0,128,128",thistle:"216,191,216",tomato:"255,99,71",turquoise:"64,224,208",violet:"238,130,238",wheat:"245,222,179",whitesmoke:"245,245,245",white:"255,255,255",yellowgreen:"154,205,50",yellow:"255,255,0"}},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var H3t=0;H3t<F6U.Lists.colors.length;H3t++){F6U.Hooks.templates[F6U.Lists.colors[H3t]]=["Red Green Blue Alpha","color"===F6U.Lists.colors[H3t]?"0 0 0 1":"255 255 255 1"];}var q3t,Z3t;if(i6U){for(q3t in F6U.Hooks.templates){F6U.Hooks.templates.hasOwnProperty(q3t)&&(Z3t=F6U.Hooks.templates[q3t],H3t=Z3t[0].split(" "),Z3t=Z3t[1].match(F6U.RegEx.valueSplit),"Color"===H3t[0]&&(H3t.push(H3t.shift()),Z3t.push(Z3t.shift()),F6U.Hooks.templates[q3t]=[H3t.join(" "),Z3t.join(" ")]));}}for(q3t in F6U.Hooks.templates){if(F6U.Hooks.templates.hasOwnProperty(q3t)){Z3t=F6U.Hooks.templates[q3t];var H3t=Z3t[0].split(" "),E3t;for(E3t in H3t){H3t.hasOwnProperty(E3t)&&(F6U.Hooks.registered[q3t+H3t[E3t]]=[q3t,E3t]);}}}},getRoot:function(j3t){var u3t=F6U.Hooks.registered[j3t];return u3t?u3t[0]:j3t;},getUnit:function(J3t,S3t){return(J3t=(J3t.substr(S3t||0,5).match(/^[a-z%]+/)||[])[0]||"")&&r8t(F6U.Lists.units,J3t)?J3t:"";},fixColors:function(K3t){return K3t.replace(/(rgba?\(\s*)?(\b[a-z]+\b)/g,function(C3t,b3t,t3t){return F6U.Lists.colorNames.hasOwnProperty(t3t)?(b3t?b3t:"rgba(")+F6U.Lists.colorNames[t3t]+(b3t?"":",1)"):b3t+t3t;});},cleanRootPropertyValue:function(f3t,N3t){F6U.RegEx.valueUnwrap.test(N3t)&&(N3t=N3t.match(F6U.RegEx.valueUnwrap)[1]);F6U.Values.isCSSNullValue(N3t)&&(N3t=F6U.Hooks.templates[f3t][1]);return N3t;},extractValue:function(B3t,m3t){if(B3t=F6U.Hooks.registered[B3t]){var l3t=B3t[1];m3t=F6U.Hooks.cleanRootPropertyValue(B3t[0],m3t);return m3t.toString().match(F6U.RegEx.valueSplit)[l3t];}return m3t;},injectValue:function(D3t,d3t,Q3t){var z3t=F6U.Hooks.registered[D3t];return z3t?(D3t=z3t[1],Q3t=F6U.Hooks.cleanRootPropertyValue(z3t[0],Q3t),Q3t=Q3t.toString().match(F6U.RegEx.valueSplit),Q3t[D3t]=d3t,Q3t.join(" ")):Q3t;}},Normalizations:{registered:{clip:function(X3t,U3t,W3t){switch(X3t){case"name":return"clip";case"extract":return X3t=F6U.RegEx.wrappedValueAlreadyExtracted.test(W3t)?W3t:(X3t=W3t.toString().match(F6U.RegEx.valueUnwrap))?X3t[1].replace(/,(\s+)?/g," "):W3t,X3t;case"inject":return"rect("+W3t+")";}},blur:function(G3t,F3t,e3t){switch(G3t){case"name":return p6U.State.isFirefox?"filter":"-webkit-filter";case"extract":return G3t=parseFloat(e3t),G3t||0===G3t||(G3t=(e3t=e3t.toString().match(/blur\(([0-9]+[A-z]+)\)/i))?e3t[1]:0),G3t;case"inject":return parseFloat(e3t)?"blur("+e3t+")":"none";}},opacity:function(V3t,P3t,p3t){if(8>=i6U){switch(V3t){case"name":return"filter";case"extract":return p3t=(V3t=p3t.toString().match(/alpha\(opacity=(.*)\)/i))?V3t[1]/100:1;case"inject":return P3t.style.zoom=1,1<=parseFloat(p3t)?"":"alpha(opacity="+parseInt(100*parseFloat(p3t),10)+")";}}else{switch(V3t){case"name":return"opacity";case"extract":return p3t;case"inject":return p3t;}}}},register:function(){function i3t(a3t,Y3t,A3t){if("border-box"===F6U.getPropertyValue(Y3t,"boxSizing").toString().toLowerCase()===(A3t||false)){var k3t,x3t=0;a3t="width"===a3t?["Left","Right"]:["Top","Bottom"];var w3t=["padding"+a3t[0],"padding"+a3t[1],"border"+a3t[0]+"Width","border"+a3t[1]+"Width"];for(a3t=0;a3t<w3t.length;a3t++){k3t=parseFloat(F6U.getPropertyValue(Y3t,w3t[a3t])),isNaN(k3t)||(x3t+=k3t);}return A3t?-x3t:x3t;}return 0;}function v3t(r5t,s5t){return function(T5t,n5t,I5t){switch(T5t){case"name":return r5t;case"extract":return parseFloat(I5t)+i3t(r5t,n5t,s5t);case"inject":return parseFloat(I5t)-i3t(r5t,n5t,s5t)+"px";}};}i6U&&!(9<i6U)||p6U.State.isGingerbread||(F6U.Lists.transformsBase=F6U.Lists.transformsBase.concat(F6U.Lists.transforms3D));for(var L3t=0;L3t<F6U.Lists.transformsBase.length;L3t++){(function(){var c5t=F6U.Lists.transformsBase[L3t];F6U.Normalizations.registered[c5t]=function(M5t,O5t,o5t){switch(M5t){case"name":return"transform";case"extract":return L6U(O5t)===v6U||L6U(O5t).transformCache[c5t]===v6U?/^scale/i.test(c5t)?1:0:L6U(O5t).transformCache[c5t].replace(/[()]/g,"");case"inject":M5t=false;switch(c5t.substr(0,c5t.length-1)){case"translate":M5t=!/(%|px|em|rem|vw|vh|\d)$/i.test(o5t);break;case"scal":case"scale":p6U.State.isAndroid&&L6U(O5t).transformCache[c5t]===v6U&&1>o5t&&(o5t=1);M5t=!/(\d)$/i.test(o5t);break;case"skew":M5t=!/(deg|\d)$/i.test(o5t);break;case"rotate":M5t=!/(deg|\d)$/i.test(o5t);}M5t||(L6U(O5t).transformCache[c5t]="("+o5t+")");return L6U(O5t).transformCache[c5t];}};}());}for(var R3t=0;R3t<F6U.Lists.colors.length;R3t++){(function(){var g5t=F6U.Lists.colors[R3t];F6U.Normalizations.registered[g5t]=function(y5t,q5t,h5t){switch(y5t){case"name":return g5t;case"extract":if(!F6U.RegEx.wrappedValueAlreadyExtracted.test(h5t)){var H5t;y5t={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(h5t)?H5t=y5t[h5t]!==v6U?y5t[h5t]:y5t.black:F6U.RegEx.isHex.test(h5t)?H5t="rgb("+F6U.Values.hexToRgb(h5t).join(" ")+")":/^rgba?\(/i.test(h5t)||(H5t=y5t.black);h5t=(H5t||h5t).toString().match(F6U.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ");}(!i6U||8<i6U)&&3===h5t.split(" ").length&&(h5t+=" 1");return h5t;case"inject":if(/^rgb/.test(h5t)){return h5t;}8>=i6U?4===h5t.split(" ").length&&(h5t=h5t.split(/\s+/).slice(0,3).join(" ")):3===h5t.split(" ").length&&(h5t+=" 1");return(8>=i6U?'rgb(':'rgba(')+h5t.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")";}};}());}F6U.Normalizations.registered.innerWidth=v3t("width",true);F6U.Normalizations.registered.innerHeight=v3t("height",true);F6U.Normalizations.registered.outerWidth=v3t("width");F6U.Normalizations.registered.outerHeight=v3t("height");}},Names:{camelCase:function(Z5t){return Z5t.replace(/-(\w)/g,function(u5t,E5t){return E5t.toUpperCase();});},SVGAttribute:function(J5t){var j5t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";if(i6U||p6U.State.isAndroid&&!p6U.State.isChrome){j5t+="|transform";}return new RegExp("^("+j5t+")$","i").test(J5t);},prefixCheck:function(S5t){if(p6U.State.prefixMatches[S5t]){return[p6U.State.prefixMatches[S5t],true];}for(var t5t=["","Webkit","Moz","ms","O"],K5t=0,C5t=t5t.length;K5t<C5t;K5t++){var b5t;b5t=0===K5t?S5t:t5t[K5t]+S5t.replace(/^\w/,function(N5t){return N5t.toUpperCase();});if(P6U.isString(p6U.State.prefixElement.style[b5t])){return p6U.State.prefixMatches[S5t]=b5t,[b5t,true];}}return[S5t,false];}},Values:{hexToRgb:function(f5t){f5t=f5t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(Q5t,B5t,m5t,l5t){return B5t+B5t+m5t+m5t+l5t+l5t;});return(f5t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(f5t))?[parseInt(f5t[1],16),parseInt(f5t[2],16),parseInt(f5t[3],16)]:[0,0,0];},isCSSNullValue:function(z5t){return!z5t||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(z5t);},getUnitType:function(D5t){return/^(rotate|skew)/i.test(D5t)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(D5t)?"":"px";},getDisplayType:function(d5t){d5t=d5t&&d5t.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(d5t)?"inline":/^(li)$/i.test(d5t)?"list-item":/^(tr)$/i.test(d5t)?"table-row":/^(table)$/i.test(d5t)?"table":/^(tbody)$/i.test(d5t)?"table-row-group":"block";},addClass:function(X5t,W5t){if(X5t){if(X5t.classList){X5t.classList.add(W5t);}else if(P6U.isString(X5t.className)){X5t.className+=(X5t.className.length?" ":"")+W5t;}else{var U5t=X5t.getAttribute(7>=i6U?"className":"class")||"";X5t.setAttribute("class",U5t+(U5t?" ":"")+W5t);}}},removeClass:function(G5t,e5t){if(G5t){if(G5t.classList){G5t.classList.remove(e5t);}else if(P6U.isString(G5t.className)){G5t.className=G5t.className.toString().replace(new RegExp("(^|\\s)"+e5t.split(" ").join("|")+"(\\s|$)","gi")," ");}else{var F5t=G5t.getAttribute(7>=i6U?"className":"class")||"";G5t.setAttribute("class",F5t.replace(new RegExp("(^|s)"+e5t.split(" ").join("|")+"(s|$)","gi")," "));}}}},getPropertyValue:function(v5t,V5t,P5t,i5t){function R5t(a5t,x5t){var k5t=0;if(8>=i6U){k5t=V6U.css(a5t,x5t);}else{var Y5t=false;/^(width|height)$/.test(x5t)&&0===F6U.getPropertyValue(a5t,"display")&&(Y5t=true,F6U.setPropertyValue(a5t,"display",F6U.Values.getDisplayType(a5t)));var w5t=function(){Y5t&&F6U.setPropertyValue(a5t,"display","none");};if(!i5t){if("height"===x5t&&"border-box"!==F6U.getPropertyValue(a5t,"boxSizing").toString().toLowerCase()){return x5t=a5t.offsetHeight-(parseFloat(F6U.getPropertyValue(a5t,"borderTopWidth"))||0)-(parseFloat(F6U.getPropertyValue(a5t,"borderBottomWidth"))||0)-(parseFloat(F6U.getPropertyValue(a5t,"paddingTop"))||0)-(parseFloat(F6U.getPropertyValue(a5t,"paddingBottom"))||0),w5t(),x5t;}if("width"===x5t&&"border-box"!==F6U.getPropertyValue(a5t,"boxSizing").toString().toLowerCase()){return x5t=a5t.offsetWidth-(parseFloat(F6U.getPropertyValue(a5t,"borderLeftWidth"))||0)-(parseFloat(F6U.getPropertyValue(a5t,"borderRightWidth"))||0)-(parseFloat(F6U.getPropertyValue(a5t,"paddingLeft"))||0)-(parseFloat(F6U.getPropertyValue(a5t,"paddingRight"))||0),w5t(),x5t;}}k5t=L6U(a5t)===v6U?R6U.getComputedStyle(a5t,null):L6U(a5t).computedStyle?L6U(a5t).computedStyle:L6U(a5t).computedStyle=R6U.getComputedStyle(a5t,null);"borderColor"===x5t&&(x5t="borderTopColor");k5t=9===i6U&&"filter"===x5t?k5t.getPropertyValue(x5t):k5t[x5t];if(""===k5t||null===k5t){k5t=a5t.style[x5t];}w5t();}"auto"===k5t&&/^(top|right|bottom|left)$/i.test(x5t)&&(w5t=R5t(a5t,"position"),"fixed"===w5t||"absolute"===w5t&&/top|left/i.test(x5t))&&(k5t=V6U(a5t).position()[x5t]+"px");return k5t;}var p5t;if(F6U.Hooks.registered[V5t]){p5t=F6U.Hooks.getRoot(V5t),P5t===v6U&&(P5t=F6U.getPropertyValue(v5t,F6U.Names.prefixCheck(p5t)[0])),F6U.Normalizations.registered[p5t]&&(P5t=F6U.Normalizations.registered[p5t]("extract",v5t,P5t)),p5t=F6U.Hooks.extractValue(V5t,P5t);}else if(F6U.Normalizations.registered[V5t]){var L5t;P5t=F6U.Normalizations.registered[V5t]("name",v5t);"transform"!==P5t&&(L5t=R5t(v5t,F6U.Names.prefixCheck(P5t)[0]),F6U.Values.isCSSNullValue(L5t)&&F6U.Hooks.templates[V5t]&&(L5t=F6U.Hooks.templates[V5t][1]));p5t=F6U.Normalizations.registered[V5t]("extract",v5t,L5t);}if(!/^[\d-]/.test(p5t)){if((P5t=L6U(v5t))&&P5t.isSVG&&F6U.Names.SVGAttribute(V5t)){if(/^(height|width)$/i.test(V5t)){try{p5t=v5t.getBBox()[V5t];}catch(A5t){p5t=0;}}else{p5t=v5t.getAttribute(V5t);}}else{p5t=R5t(v5t,F6U.Names.prefixCheck(V5t)[0]);}}F6U.Values.isCSSNullValue(p5t)&&(p5t=0);2<=p6U.debug&&console.log("Get "+V5t+": "+p5t);return p5t;},setPropertyValue:function(n9t,r9t,s9t,c9t,T9t){var I9t=r9t;if("scroll"===r9t){T9t.container?T9t.container["scroll"+T9t.direction]=s9t:"Left"===T9t.direction?R6U.scrollTo(s9t,T9t.alternateValue):R6U.scrollTo(T9t.alternateValue,s9t);}else if(F6U.Normalizations.registered[r9t]&&"transform"===F6U.Normalizations.registered[r9t]("name",n9t)){F6U.Normalizations.registered[r9t]("inject",n9t,s9t),I9t="transform",s9t=L6U(n9t).transformCache[r9t];}else{F6U.Hooks.registered[r9t]&&(I9t=r9t,r9t=F6U.Hooks.getRoot(r9t),c9t=c9t||F6U.getPropertyValue(n9t,r9t),s9t=F6U.Hooks.injectValue(I9t,s9t,c9t));F6U.Normalizations.registered[r9t]&&(s9t=F6U.Normalizations.registered[r9t]("inject",n9t,s9t),r9t=F6U.Normalizations.registered[r9t]("name",n9t));I9t=F6U.Names.prefixCheck(r9t)[0];if(8>=i6U){try{n9t.style[I9t]=s9t;}catch(M9t){p6U.debug&&console.log("Browser does not support ["+s9t+"] for ["+I9t+"]");}}else{(c9t=L6U(n9t))&&c9t.isSVG&&F6U.Names.SVGAttribute(r9t)?n9t.setAttribute(r9t,s9t):n9t.style[I9t]=s9t;}2<=p6U.debug&&console.log("Set "+r9t+" ("+I9t+"): "+s9t);}return[I9t,s9t];},flushTransformCache:function(O9t){var g9t="",o9t=L6U(O9t);if((i6U||p6U.State.isAndroid&&!p6U.State.isChrome)&&o9t&&o9t.isSVG){var o9t=function(q9t){return parseFloat(F6U.getPropertyValue(O9t,q9t));},h9t={translate:[o9t("translateX"),o9t("translateY")],skewX:[o9t("skewX")],skewY:[o9t("skewY")],scale:1!==o9t("scale")?[o9t("scale"),o9t("scale")]:[o9t("scaleX"),o9t("scaleY")],rotate:[o9t("rotateZ"),0,0]};V6U.each(L6U(O9t).transformCache,function(Z9t){/^translate/i.test(Z9t)?Z9t="translate":/^scale/i.test(Z9t)?Z9t="scale":/^rotate/i.test(Z9t)&&(Z9t="rotate");h9t[Z9t]&&(g9t+=Z9t+"("+h9t[Z9t].join(" ")+") ",delete h9t[Z9t]);});}else{var y9t,H9t;V6U.each(L6U(O9t).transformCache,function(E9t){y9t=L6U(O9t).transformCache[E9t];if("transformPerspective"===E9t){return H9t=y9t,true;}9===i6U&&"rotateZ"===E9t&&(E9t="rotate");g9t+=E9t+y9t+" ";});H9t&&(g9t="perspective"+H9t+" "+g9t);}F6U.setPropertyValue(O9t,"transform",g9t);}};F6U.Hooks.register();F6U.Normalizations.register();p6U.hook=function(j9t,J9t,S9t){var u9t;j9t=n8t(j9t);V6U.each(j9t,function(b9t,K9t){L6U(K9t)===v6U&&p6U.init(K9t);S9t===v6U?u9t===v6U&&(u9t=F6U.getPropertyValue(K9t,J9t)):(b9t=F6U.setPropertyValue(K9t,J9t,S9t),"transform"===b9t[0]&&p6U.CSS.flushTransformCache(K9t),u9t=b9t);});return u9t;};var w6U=function(){function d9t(){return U9t?l9t.promise||null:V9t;}function v9t(R9t,w9t){function k9t(n1t){var Y9t,r1t;if(L9t.begin&&0===W9t){try{L9t.begin.call(N9t,N9t);}catch(h1t){setTimeout(function(){throw h1t;},1);}}if("scroll"===D9t){var s1t=/^x$/i.test(L9t.axis)?"Left":"Top",A9t=parseFloat(L9t.offset)||0,I1t,O1t,c1t;L9t.container?P6U.isWrapped(L9t.container)||P6U.isNode(L9t.container)?(L9t.container=L9t.container[0]||L9t.container,I1t=L9t.container["scroll"+s1t],c1t=I1t+V6U(R9t).position()[s1t.toLowerCase()]+A9t):L9t.container=null:(I1t=p6U.State.scrollAnchor[p6U.State["scrollProperty"+s1t]],O1t=p6U.State.scrollAnchor[p6U.State["Left"===s1t?'scrollPropertyTop':'scrollPropertyLeft']],c1t=V6U(R9t).offset()[s1t.toLowerCase()]+A9t);i9t={scroll:{rootPropertyValue:false,startValue:I1t,currentValue:I1t,endValue:c1t,unitType:"",easing:L9t.easing,scrollData:{container:L9t.container,direction:s1t,alternateValue:O1t}},element:R9t};p6U.debug&&console.log("tweensContainer (scroll): ",i9t.scroll,R9t);}else if("reverse"===D9t){Y9t=L6U(R9t);if(!Y9t){return;}if(Y9t.tweensContainer){"none"===Y9t.opts.display&&(Y9t.opts.display="auto");"hidden"===Y9t.opts.visibility&&(Y9t.opts.visibility="visible");Y9t.opts.loop=false;Y9t.opts.begin=null;Y9t.opts.complete=null;t9t.easing||delete L9t.easing;t9t.duration||delete L9t.duration;L9t=V6U.extend({},Y9t.opts,L9t);r1t=V6U.extend(true,{},Y9t?Y9t.tweensContainer:null);for(A9t in r1t){r1t.hasOwnProperty(A9t)&&"element"!==A9t&&(s1t=r1t[A9t].startValue,r1t[A9t].startValue=r1t[A9t].currentValue=r1t[A9t].endValue,r1t[A9t].endValue=s1t,P6U.isEmptyObject(t9t)||(r1t[A9t].easing=L9t.easing),p6U.debug&&console.log("reverse tweensContainer ("+A9t+"): "+JSON.stringify(r1t[A9t]),R9t));}i9t=r1t;}else{V6U.dequeue(R9t,L9t.queue);return;}}else if("start"===D9t){(Y9t=L6U(R9t))&&Y9t.tweensContainer&&true===Y9t.isAnimating&&(r1t=Y9t.tweensContainer);I1t=function(y1t,E1t){var q1t,Z1t,H1t;P6U.isFunction(y1t)&&(y1t=y1t.call(R9t,w9t,z9t));P6U.isArray(y1t)?(q1t=y1t[0],!P6U.isArray(y1t[1])&&/^[\d-]/.test(y1t[1])||P6U.isFunction(y1t[1])||F6U.RegEx.isHex.test(y1t[1])?H1t=y1t[1]:P6U.isString(y1t[1])&&!F6U.RegEx.isHex.test(y1t[1])&&p6U.Easings[y1t[1]]||P6U.isArray(y1t[1])?(Z1t=E1t?y1t[1]:M8t(y1t[1],L9t.duration),H1t=y1t[2]):H1t=y1t[1]||y1t[2]):q1t=y1t;E1t||(Z1t=Z1t||L9t.easing);P6U.isFunction(q1t)&&(q1t=q1t.call(R9t,w9t,z9t));P6U.isFunction(H1t)&&(H1t=H1t.call(R9t,w9t,z9t));return[q1t||0,Z1t,H1t];};O1t=function(S1t,u1t){var b1t=F6U.Hooks.getRoot(S1t),U1t=false,j1t=u1t[0],e1t=u1t[1];u1t=u1t[2];var N1t;if(Y9t&&Y9t.isSVG||"tween"===b1t||false!==F6U.Names.prefixCheck(b1t)[1]||F6U.Normalizations.registered[b1t]!==v6U){(L9t.display!==v6U&&null!==L9t.display&&"none"!==L9t.display||L9t.visibility!==v6U&&"hidden"!==L9t.visibility)&&/opacity|filter/.test(S1t)&&!u1t&&0!==j1t&&(u1t=0);L9t._cacheValues&&r1t&&r1t[S1t]?(u1t===v6U&&(u1t=r1t[S1t].endValue+r1t[S1t].unitType),U1t=Y9t.rootPropertyValueCache[b1t]):F6U.Hooks.registered[S1t]?u1t===v6U?(U1t=F6U.getPropertyValue(R9t,b1t),u1t=F6U.getPropertyValue(R9t,S1t,U1t)):U1t=F6U.Hooks.templates[b1t][1]:u1t===v6U&&(u1t=F6U.getPropertyValue(R9t,S1t));var K1t,X1t,G1t=false,b1t=function(V1t,p1t){var F1t;p1t=(p1t||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(P1t){F1t=P1t;return"";});F1t||(F1t=F6U.Values.getUnitType(V1t));return[p1t,F1t];};if(u1t!==j1t&&P6U.isString(u1t)&&P6U.isString(j1t)){N1t="";var D1t=0,Q1t=0,m1t=[],W1t=[],C1t=0,t1t=0,l1t=0;u1t=F6U.Hooks.fixColors(u1t);for(j1t=F6U.Hooks.fixColors(j1t);D1t<u1t.length&&Q1t<j1t.length;){var J1t=u1t[D1t],B1t=j1t[Q1t];if(/[\d\.-]/.test(J1t)&&/[\d\.-]/.test(B1t)){for(var f1t=J1t,z1t=B1t,d1t=B1t=".";++D1t<u1t.length;){J1t=u1t[D1t];if(J1t===B1t){B1t="..";}else if(!/\d/.test(J1t)){break;}f1t+=J1t;}for(;++Q1t<j1t.length;){B1t=j1t[Q1t];if(B1t===d1t){d1t="..";}else if(!/\d/.test(B1t)){break;}z1t+=B1t;}J1t=F6U.Hooks.getUnit(u1t,D1t);d1t=F6U.Hooks.getUnit(j1t,Q1t);D1t+=J1t.length;Q1t+=d1t.length;J1t===d1t?f1t===z1t?N1t+=f1t+J1t:(N1t+="{"+m1t.length+(t1t?"!":"")+"}"+J1t,m1t.push(parseFloat(f1t)),W1t.push(parseFloat(z1t))):(f1t=parseFloat(f1t),z1t=parseFloat(z1t),N1t+=(5>C1t?'calc(':'(')+(f1t?"{"+m1t.length+(t1t?"!":"")+"}":"0")+J1t+" + "+(z1t?"{"+(m1t.length+(f1t?1:0))+(t1t?"!":"")+"}":"0")+d1t+")",f1t&&(m1t.push(f1t),W1t.push(0)),z1t&&(m1t.push(0),W1t.push(z1t)));}else if(J1t===B1t){N1t+=J1t;D1t++;Q1t++;if(0===C1t&&"c"===J1t||1===C1t&&"a"===J1t||2===C1t&&"l"===J1t||3===C1t&&"c"===J1t||4<=C1t&&"("===J1t){C1t++;}else if(C1t&&5>C1t||4<=C1t&&")"===J1t&&5>--C1t){C1t=0;}if(0===t1t&&"r"===J1t||1===t1t&&"g"===J1t||2===t1t&&"b"===J1t||3===t1t&&"a"===J1t||3<=t1t&&"("===J1t){3===t1t&&"a"===J1t&&(l1t=1),t1t++;}else if(l1t&&","===J1t){3<++l1t&&(t1t=l1t=0);}else if(l1t&&t1t<(l1t?5:4)||t1t>=(l1t?4:3)&&")"===J1t&&--t1t<(l1t?5:4)){t1t=l1t=0;}}else{C1t=0;break;}}if(D1t!==u1t.length||Q1t!==j1t.length){p6U.debug&&console.error('Trying to pattern match mis-matched strings ["'+j1t+'", "'+u1t+'"]'),N1t=v6U;}N1t&&(m1t.length?(p6U.debug&&console.log('Pattern found "'+N1t+'" -> ',m1t,W1t,"["+u1t+","+j1t+"]"),u1t=m1t,j1t=W1t,K1t=X1t=""):N1t=v6U);}N1t||(K1t=b1t(S1t,u1t),u1t=K1t[0],X1t=K1t[1],K1t=b1t(S1t,j1t),j1t=K1t[0].replace(/^([+-\/*])=/,function(L1t,v1t){G1t=v1t;return"";}),K1t=K1t[1],u1t=parseFloat(u1t)||0,j1t=parseFloat(j1t)||0,"%"===K1t&&(/^(fontSize|lineHeight)$/.test(S1t)?(j1t/=100,K1t="em"):/^scale/.test(S1t)?(j1t/=100,K1t=""):/(Red|Green|Blue)$/i.test(S1t)&&(j1t=j1t/100*255,K1t="")));b1t=function(){var a1t=R9t.parentNode||a6U.body,x1t=F6U.getPropertyValue(R9t,"position"),k1t=F6U.getPropertyValue(R9t,"fontSize"),w1t=x1t===f9t.lastPosition&&a1t===f9t.lastParent,Y1t=k1t===f9t.lastFontSize;f9t.lastParent=a1t;f9t.lastPosition=x1t;f9t.lastFontSize=k1t;var i1t={};if(Y1t&&w1t){i1t.emToPx=f9t.lastEmToPx,i1t.percentToPxWidth=f9t.lastPercentToPxWidth,i1t.percentToPxHeight=f9t.lastPercentToPxHeight;}else{var R1t=Y9t&&Y9t.isSVG?a6U.createElementNS("http://www.w3.org/2000/svg","rect"):a6U.createElement("div");p6U.init(R1t);a1t.appendChild(R1t);V6U.each(["overflow","overflowX","overflowY"],function(r4t,A1t){p6U.CSS.setPropertyValue(R1t,A1t,"hidden");});p6U.CSS.setPropertyValue(R1t,"position",x1t);p6U.CSS.setPropertyValue(R1t,"fontSize",k1t);p6U.CSS.setPropertyValue(R1t,"boxSizing","content-box");V6U.each("minWidth maxWidth width minHeight maxHeight height".split(" "),function(n4t,s4t){p6U.CSS.setPropertyValue(R1t,s4t,"100%");});p6U.CSS.setPropertyValue(R1t,"paddingLeft","100em");i1t.percentToPxWidth=f9t.lastPercentToPxWidth=(parseFloat(F6U.getPropertyValue(R1t,"width",null,true))||1)/100;i1t.percentToPxHeight=f9t.lastPercentToPxHeight=(parseFloat(F6U.getPropertyValue(R1t,"height",null,true))||1)/100;i1t.emToPx=f9t.lastEmToPx=(parseFloat(F6U.getPropertyValue(R1t,"paddingLeft"))||1)/100;a1t.removeChild(R1t);}null===f9t.remToPx&&(f9t.remToPx=parseFloat(F6U.getPropertyValue(a6U.body,"fontSize"))||16);null===f9t.vwToPx&&(f9t.vwToPx=parseFloat(R6U.innerWidth)/100,f9t.vhToPx=parseFloat(R6U.innerHeight)/100);i1t.remToPx=f9t.remToPx;i1t.vwToPx=f9t.vwToPx;i1t.vhToPx=f9t.vhToPx;1<=p6U.debug&&console.log("Unit ratios: "+JSON.stringify(i1t),R9t);return i1t;};if(/[\/*]/.test(G1t)){K1t=X1t;}else if(X1t!==K1t&&0!==u1t){if(0===j1t){K1t=X1t;}else{a9t=a9t||b1t();b1t=/margin|padding|left|right|width|text|word|letter/i.test(S1t)||/X$/.test(S1t)||"x"===S1t?"x":"y";switch(X1t){case"%":u1t*="x"===b1t?a9t.percentToPxWidth:a9t.percentToPxHeight;break;case"px":break;default:u1t*=a9t[X1t+"ToPx"];}switch(K1t){case"%":u1t*=1/("x"===b1t?a9t.percentToPxWidth:a9t.percentToPxHeight);break;case"px":break;default:u1t*=1/a9t[K1t+"ToPx"];}}}switch(G1t){case"+":j1t=u1t+j1t;break;case"-":j1t=u1t-j1t;break;case"*":j1t*=u1t;break;case"/":j1t=u1t/j1t;}i9t[S1t]={rootPropertyValue:U1t,startValue:u1t,currentValue:u1t,endValue:j1t,unitType:K1t,easing:e1t};N1t&&(i9t[S1t].pattern=N1t);p6U.debug&&console.log("tweensContainer ("+S1t+"): "+JSON.stringify(i9t[S1t]),R9t);}else{p6U.debug&&console.log("Skipping ["+b1t+"] due to a lack of browser support.");}};for(s1t in m9t){if(m9t.hasOwnProperty(s1t)){c1t=F6U.Names.camelCase(s1t);n1t=I1t(m9t[s1t]);if(r8t(F6U.Lists.colors,c1t)){var M1t=n1t[0],A9t=n1t[1],T1t=n1t[2];if(F6U.RegEx.isHex.test(M1t)){n1t=["Red","Green","Blue"];for(var M1t=F6U.Values.hexToRgb(M1t),T1t=T1t?F6U.Values.hexToRgb(T1t):v6U,o1t=0;o1t<n1t.length;o1t++){var g1t=[M1t[o1t]];A9t&&g1t.push(A9t);T1t!==v6U&&g1t.push(T1t[o1t]);O1t(c1t+n1t[o1t],g1t);}continue;}}O1t(c1t,n1t);}}i9t.element=R9t;}if(i9t.element){F6U.Values.addClass(R9t,"velocity-animating");F9t.push(i9t);if(Y9t=L6U(R9t)){""===L9t.queue&&(Y9t.tweensContainer=i9t,Y9t.opts=L9t),Y9t.isAnimating=true;}W9t===z9t-1?(p6U.State.calls.push([F9t,N9t,L9t,null,l9t.resolver,null,0]),false===p6U.State.isTicking&&(p6U.State.isTicking=true,s8t())):W9t++;}}var L9t=V6U.extend({},p6U.defaults,t9t),i9t={},a9t;L6U(R9t)===v6U&&p6U.init(R9t);parseFloat(L9t.delay)&&false!==L9t.queue&&V6U.queue(R9t,L9t.queue,function(T4t,I4t){if(true===I4t){return true;}p6U.velocityQueueEntryFlag=true;I4t=p6U.State.delayedElements.count++;p6U.State.delayedElements[I4t]=R9t;I4t=function(c4t){return function(){p6U.State.delayedElements[c4t]=false;T4t();};}(I4t);L6U(R9t).delayBegin=new Date().getTime();L6U(R9t).delay=parseFloat(L9t.delay);L6U(R9t).delayTimer={setTimeout:setTimeout(T4t,parseFloat(L9t.delay)),next:I4t};});switch(L9t.duration.toString().toLowerCase()){case"fast":L9t.duration=200;break;case"normal":L9t.duration=400;break;case"slow":L9t.duration=600;break;default:L9t.duration=parseFloat(L9t.duration)||1;}false!==p6U.mock&&(true===p6U.mock?L9t.duration=L9t.delay=1:(L9t.duration*=parseFloat(p6U.mock)||1,L9t.delay*=parseFloat(p6U.mock)||1));L9t.easing=M8t(L9t.easing,L9t.duration);L9t.begin&&!P6U.isFunction(L9t.begin)&&(L9t.begin=null);L9t.progress&&!P6U.isFunction(L9t.progress)&&(L9t.progress=null);L9t.complete&&!P6U.isFunction(L9t.complete)&&(L9t.complete=null);L9t.display!==v6U&&null!==L9t.display&&(L9t.display=L9t.display.toString().toLowerCase(),"auto"===L9t.display&&(L9t.display=p6U.CSS.Values.getDisplayType(R9t)));L9t.visibility!==v6U&&null!==L9t.visibility&&(L9t.visibility=L9t.visibility.toString().toLowerCase());L9t.mobileHA=L9t.mobileHA&&p6U.State.isMobile&&!p6U.State.isGingerbread;if(false===L9t.queue){if(L9t.delay){var x9t=p6U.State.delayedElements.count++;p6U.State.delayedElements[x9t]=R9t;x9t=function(M4t){return function(){p6U.State.delayedElements[M4t]=false;k9t();};}(x9t);L6U(R9t).delayBegin=new Date().getTime();L6U(R9t).delay=parseFloat(L9t.delay);L6U(R9t).delayTimer={setTimeout:setTimeout(k9t,parseFloat(L9t.delay)),next:x9t};}else{k9t();}}else{V6U.queue(R9t,L9t.queue,function(o4t,O4t){if(true===O4t){return l9t.promise&&l9t.resolver(N9t),true;}p6U.velocityQueueEntryFlag=true;k9t(o4t);});}""!==L9t.queue&&"fx"!==L9t.queue||"inprogress"===V6U.queue(R9t)[0]||V6U.dequeue(R9t);}var C9t,B9t=arguments[0]&&(arguments[0].p||V6U.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||P6U.isString(arguments[0].properties)),U9t,V9t,Q9t,N9t,m9t,t9t;P6U.isWrapped(this)?(U9t=false,Q9t=0,N9t=this,V9t=this):(U9t=true,Q9t=1,N9t=B9t?arguments[0].elements||arguments[0].e:arguments[0]);var l9t={promise:null,resolver:null,rejecter:null};U9t&&p6U.Promise&&(l9t.promise=new p6U.Promise(function(g4t,h4t){l9t.resolver=g4t;l9t.rejecter=h4t;}));B9t?(m9t=arguments[0].properties||arguments[0].p,t9t=arguments[0].options||arguments[0].o):(m9t=arguments[Q9t],t9t=arguments[Q9t+1]);if(N9t=n8t(N9t)){var z9t=N9t.length,W9t=0;if(!/^(stop|finish|finishAll|pause|resume)$/i.test(m9t)&&!V6U.isPlainObject(t9t)){for(t9t={},B9t=Q9t+1;B9t<arguments.length;B9t++){P6U.isArray(arguments[B9t])||!/^(fast|normal|slow)$/i.test(arguments[B9t])&&!/^\d/.test(arguments[B9t])?P6U.isString(arguments[B9t])||P6U.isArray(arguments[B9t])?t9t.easing=arguments[B9t]:P6U.isFunction(arguments[B9t])&&(t9t.complete=arguments[B9t]):t9t.duration=arguments[B9t];}}var D9t;switch(m9t){case"scroll":D9t="scroll";break;case"reverse":D9t="reverse";break;case"pause":var p9t=new Date().getTime();V6U.each(N9t,function(H4t,y4t){O8t(y4t,p9t);});V6U.each(p6U.State.calls,function(E4t,q4t){var Z4t=false;q4t&&V6U.each(q4t[1],function(u4t,j4t){u4t=t9t===v6U?"":t9t;if(true!==u4t&&q4t[2].queue!==u4t&&(t9t!==v6U||false!==q4t[2].queue)){return true;}V6U.each(N9t,function(S4t,J4t){if(J4t===j4t){return q4t[5]={resume:false},Z4t=true,false;}});if(Z4t){return false;}});});return d9t();case"resume":return V6U.each(N9t,function(b4t,K4t){g8t(K4t,p9t);}),V6U.each(p6U.State.calls,function(N4t,t4t){var C4t=false;t4t&&V6U.each(t4t[1],function(f4t,B4t){f4t=t9t===v6U?"":t9t;if(true!==f4t&&t4t[2].queue!==f4t&&(t9t!==v6U||false!==t4t[2].queue)||!t4t[5]){return true;}V6U.each(N9t,function(l4t,m4t){if(m4t===B4t){return C4t=t4t[5].resume=true,false;}});if(C4t){return false;}});}),d9t();case"finish":case"finishAll":case"stop":V6U.each(N9t,function(z4t,Q4t){L6U(Q4t)&&L6U(Q4t).delayTimer&&(clearTimeout(L6U(Q4t).delayTimer.setTimeout),L6U(Q4t).delayTimer.next&&L6U(Q4t).delayTimer.next(),delete L6U(Q4t).delayTimer);"finishAll"!==m9t||true!==t9t&&!P6U.isString(t9t)||(V6U.each(V6U.queue(Q4t,P6U.isString(t9t)?t9t:""),function(d4t,D4t){P6U.isFunction(D4t)&&D4t();}),V6U.queue(Q4t,P6U.isString(t9t)?t9t:"",[]));});var G9t=[];V6U.each(p6U.State.calls,function(W4t,X4t){X4t&&V6U.each(X4t[1],function(e4t,G4t){var U4t=t9t===v6U?"":t9t;if(true!==U4t&&X4t[2].queue!==U4t&&(t9t!==v6U||false!==X4t[2].queue)){return true;}V6U.each(N9t,function(p4t,F4t){if(F4t===G4t){if(true===t9t||P6U.isString(t9t)){V6U.each(V6U.queue(F4t,P6U.isString(t9t)?t9t:""),function(P4t,V4t){P6U.isFunction(V4t)&&V4t(null,true);}),V6U.queue(F4t,P6U.isString(t9t)?t9t:"",[]);}if("stop"===m9t){(p4t=L6U(F4t))&&p4t.tweensContainer&&false!==U4t&&V6U.each(p4t.tweensContainer,function(L4t,v4t){v4t.endValue=v4t.currentValue;}),G9t.push(W4t);}else if("finish"===m9t||"finishAll"===m9t){X4t[2].duration=1;}}});});});"stop"===m9t&&(V6U.each(G9t,function(i4t,R4t){o8t(R4t,true);}),l9t.promise&&l9t.resolver(N9t));return d9t();default:if(V6U.isPlainObject(m9t)&&!P6U.isEmptyObject(m9t)){D9t="start";}else{if(P6U.isString(m9t)&&p6U.Redirects[m9t]){C9t=V6U.extend({},t9t);var P9t=C9t.duration,e9t=C9t.delay||0;true===C9t.backwards&&(N9t=V6U.extend(true,[],N9t).reverse());V6U.each(N9t,function(a4t,x4t){parseFloat(C9t.stagger)?C9t.delay=e9t+parseFloat(C9t.stagger)*a4t:P6U.isFunction(C9t.stagger)&&(C9t.delay=e9t+C9t.stagger.call(x4t,a4t,z9t));C9t.drag&&(C9t.duration=parseFloat(P9t)||(/^(callout|transition)/.test(m9t)?1E3:400),C9t.duration=Math.max(C9t.duration*(C9t.backwards?1-a4t/z9t:(a4t+1)/z9t),.75*C9t.duration,200));p6U.Redirects[m9t].call(x4t,x4t,C9t||{},a4t,z9t,N9t,l9t.promise?l9t:v6U);});}else{B9t="Velocity: First argument ("+m9t+") was not a property map, a known action, or a registered redirect. Aborting.",l9t.promise?l9t.rejecter(Error(B9t)):R6U.console&&console.log(B9t);}return d9t();}}var f9t={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},F9t=[];V6U.each(N9t,function(w4t,k4t){P6U.isNode(k4t)&&v9t(k4t,w4t);});C9t=V6U.extend({},p6U.defaults,t9t);C9t.loop=parseInt(C9t.loop,10);B9t=2*C9t.loop-1;if(C9t.loop){for(Q9t=0;Q9t<B9t;Q9t++){var X9t={delay:C9t.delay,progress:C9t.progress};Q9t===B9t-1&&(X9t.display=C9t.display,X9t.visibility=C9t.visibility,X9t.complete=C9t.complete);w6U(N9t,"reverse",X9t);}}return d9t();}l9t.promise&&(m9t&&t9t&&false===t9t.promiseRejectEmpty?l9t.resolver():l9t.rejecter());},p6U=V6U.extend(w6U,p6U);p6U.animate=w6U;var Y6U=R6U.requestAnimationFrame||A6U;p6U.State.isMobile||a6U.hidden===v6U||(k6U=function(){a6U.hidden?(Y6U=function(Y4t){return setTimeout(function(){Y4t(true);},16);},s8t()):Y6U=R6U.requestAnimationFrame||A6U;},k6U(),a6U.addEventListener("visibilitychange",k6U));x6U.Velocity=p6U;x6U!==R6U&&(x6U.fn.velocity=w6U,x6U.fn.velocity.defaults=p6U.defaults);V6U.each(["Down","Up"],function(r7t,A4t){p6U.Redirects["slide"+A4t]=function(n7t,s7t,g7t,h7t,T7t,O7t){s7t=V6U.extend({},s7t);var M7t=s7t.begin,o7t=s7t.complete,I7t={},c7t={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""};s7t.display===v6U&&(s7t.display="Down"===A4t?"inline"===p6U.CSS.Values.getDisplayType(n7t)?"inline-block":"block":"none");s7t.begin=function(){0===g7t&&M7t&&M7t.call(T7t,T7t);for(var y7t in c7t){if(c7t.hasOwnProperty(y7t)){I7t[y7t]=n7t.style[y7t];var H7t=F6U.getPropertyValue(n7t,y7t);c7t[y7t]="Down"===A4t?[H7t,0]:[0,H7t];}}I7t.overflow=n7t.style.overflow;n7t.style.overflow="hidden";};s7t.complete=function(){for(var q7t in I7t){I7t.hasOwnProperty(q7t)&&(n7t.style[q7t]=I7t[q7t]);}g7t===h7t-1&&(o7t&&o7t.call(T7t,T7t),O7t&&O7t.resolver(T7t));};p6U(n7t,c7t,s7t);};});V6U.each(["In","Out"],function(E7t,Z7t){p6U.Redirects["fade"+Z7t]=function(u7t,j7t,K7t,t7t,J7t,b7t){u7t=V6U.extend({},j7t);var S7t=u7t.complete;j7t={opacity:"In"===Z7t?1:0};0!==K7t&&(u7t.begin=null);u7t.complete=K7t!==t7t-1?null:function(){S7t&&S7t.call(J7t,J7t);b7t&&b7t.resolver(J7t);};u7t.display===v6U&&(u7t.display="In"===Z7t?"auto":"none");p6U(this,j7t,u7t);};});return p6U;}}(window.jQuery||window.Zepto||window,window,window?window.document:void 0);}));(function(C7t){"function"===typeof require&&"object"===typeof exports?module.exports=C7t():"function"===typeof define&&define.amd?define(["velocity"],C7t):C7t();}(function(){return function(l7t,Q7t,z7t,B7t){var N7t=l7t.Velocity;if(N7t&&N7t.Utilities){var f7t=N7t.Utilities;if(function(d7t,X7t){var D7t=[];if(!d7t||!X7t){return false;}f7t.each([d7t,X7t],function(G7t,U7t){var W7t=[];f7t.each(U7t,function(F7t,e7t){for(;5>e7t.toString().length;){e7t="0"+e7t;}W7t.push(e7t);});D7t.push(W7t.join(""));});return parseFloat(D7t[0])>parseFloat(D7t[1]);}({major:1,minor:1,patch:0},N7t.version)){throw alert("Velocity UI Pack: You need to update Velocity (velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity."),Error("Velocity UI Pack: You need to update Velocity (velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity.");}N7t.RegisterEffect=N7t.RegisterUI=function(V7t,p7t){function P7t(v7t,R7t,i7t,a7t){var L7t=0,x7t;f7t.each(v7t.nodeType?[v7t]:v7t,function(k7t,w7t){a7t&&(i7t+=k7t*a7t);x7t=w7t.parentNode;k7t=["height","paddingTop","paddingBottom","marginTop","marginBottom"];"border-box"===N7t.CSS.getPropertyValue(w7t,"boxSizing").toString().toLowerCase()&&(k7t=["height"]);f7t.each(k7t,function(A7t,Y7t){L7t+=parseFloat(N7t.CSS.getPropertyValue(w7t,Y7t));});});N7t.animate(x7t,{height:("In"===R7t?'+=':'-=')+L7t},{queue:false,easing:"ease-in-out",duration:i7t*("In"===R7t?.6:1)});}N7t.Redirects[V7t]=function(o6t,r6t,y6t,E6t,n6t,q6t,O6t){var h6t=y6t===E6t-1,M6t=0;O6t=O6t||p7t.loop;p7t.defaultDuration="function"===typeof p7t.defaultDuration?p7t.defaultDuration.call(n6t,n6t):parseFloat(p7t.defaultDuration);for(var I6t=0;I6t<p7t.calls.length;I6t++){c6t=p7t.calls[I6t][1],"number"===typeof c6t&&(M6t+=c6t);}M6t=1<=M6t?0:p7t.calls.length?(1-M6t)/p7t.calls.length:1;for(I6t=0;I6t<p7t.calls.length;I6t++){var T6t=p7t.calls[I6t],H6t=T6t[0],g6t=1E3,c6t=T6t[1],T6t=T6t[2]||{},s6t={};r6t.duration!==B7t?g6t=r6t.duration:p7t.defaultDuration!==B7t&&(g6t=p7t.defaultDuration);s6t.duration=g6t*("number"===typeof c6t?c6t:M6t);s6t.queue=r6t.queue||"";s6t.easing=T6t.easing||"ease";s6t.delay=parseFloat(T6t.delay)||0;s6t.loop=!p7t.loop&&T6t.loop;s6t._cacheValues=T6t._cacheValues||true;0===I6t&&(s6t.delay+=parseFloat(r6t.delay)||0,0===y6t&&(s6t.begin=function(){r6t.begin&&r6t.begin.call(n6t,n6t);var u6t=V7t.match(/(In|Out)$/);u6t&&"In"===u6t[0]&&H6t.opacity!==B7t&&f7t.each(n6t.nodeType?[n6t]:n6t,function(J6t,j6t){N7t.CSS.setPropertyValue(j6t,"opacity",0);});r6t.animateParentHeight&&u6t&&P7t(n6t,u6t[0],g6t+s6t.delay,r6t.stagger);}),null!==r6t.display&&(r6t.display!==B7t&&"none"!==r6t.display?s6t.display=r6t.display:/In$/.test(V7t)&&(c6t=N7t.CSS.Values.getDisplayType(o6t),s6t.display="inline"===c6t?"inline-block":c6t)),r6t.visibility&&"hidden"!==r6t.visibility&&(s6t.visibility=r6t.visibility));if(I6t===p7t.calls.length-1){var Z6t=function(){r6t.display!==B7t&&"none"!==r6t.display||!/Out$/.test(V7t)||f7t.each(n6t.nodeType?[n6t]:n6t,function(K6t,S6t){N7t.CSS.setPropertyValue(S6t,"display","none");});r6t.complete&&r6t.complete.call(n6t,n6t);q6t&&q6t.resolver(n6t||o6t);};s6t.complete=function(){if(O6t){N7t.Redirects[V7t](o6t,r6t,y6t,E6t,n6t,q6t,true===O6t?true:Math.max(0,O6t-1));}if(p7t.reset){for(var b6t in p7t.reset){if(p7t.reset.hasOwnProperty(b6t)){var t6t=p7t.reset[b6t];N7t.CSS.Hooks.registered[b6t]!==B7t||"string"!==typeof t6t&&"number"!==typeof t6t||(p7t.reset[b6t]=[p7t.reset[b6t],p7t.reset[b6t]]);}}b6t={duration:0,queue:false};h6t&&(b6t.complete=Z6t);N7t.animate(o6t,p7t.reset,b6t);}else{h6t&&Z6t();}};"hidden"===r6t.visibility&&(s6t.visibility=r6t.visibility);}N7t.animate(o6t,H6t,s6t);}};return N7t;};N7t.RegisterEffect.packagedEffects={"callout.bounce":{defaultDuration:550,calls:[[{translateY:-30},.25],[{translateY:0},.125],[{translateY:-15},.125],[{translateY:0},.25]]},"callout.shake":{defaultDuration:800,calls:[[{translateX:-11}],[{translateX:11}],[{translateX:-11}],[{translateX:11}],[{translateX:-11}],[{translateX:11}],[{translateX:-11}],[{translateX:0}]]},"callout.flash":{defaultDuration:1100,calls:[[{opacity:[0,"easeInOutQuad",1]}],[{opacity:[1,"easeInOutQuad"]}],[{opacity:[0,"easeInOutQuad"]}],[{opacity:[1,"easeInOutQuad"]}]]},"callout.pulse":{defaultDuration:825,calls:[[{scaleX:1.1,scaleY:1.1},.5,{easing:"easeInExpo"}],[{scaleX:1,scaleY:1},.5]]},"callout.swing":{defaultDuration:950,calls:[[{rotateZ:15}],[{rotateZ:-10}],[{rotateZ:5}],[{rotateZ:-5}],[{rotateZ:0}]]},"callout.tada":{defaultDuration:1E3,calls:[[{scaleX:.9,scaleY:.9,rotateZ:-3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:-3},.1],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],[{scaleX:1,scaleY:1,rotateZ:0},.2]]},"transition.fadeIn":{defaultDuration:500,calls:[[{opacity:[1,0]}]]},"transition.fadeOut":{defaultDuration:500,calls:[[{opacity:[0,1]}]]},"transition.flipXIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateY:[0,-55]}]],reset:{transformPerspective:0}},"transition.flipXOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateY:55}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipYIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateX:[0,-45]}]],reset:{transformPerspective:0}},"transition.flipYOut":{defaultDuration:800,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateX:25}]],reset:{transformPerspective:0,rotateX:0}},"transition.flipBounceXIn":{defaultDuration:900,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateY:[-10,90]},.5],[{opacity:.8,rotateY:10},.25],[{opacity:1,rotateY:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceXOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateY:-10}],[{opacity:0,rotateY:90}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipBounceYIn":{defaultDuration:850,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateX:[-10,90]},.5],[{opacity:.8,rotateX:10},.25],[{opacity:1,rotateX:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceYOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateX:-15}],[{opacity:0,rotateX:90}]],reset:{transformPerspective:0,rotateX:0}},"transition.swoopIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["100%","50%"],transformOriginY:["100%","100%"],scaleX:[1,0],scaleY:[1,0],translateX:[0,-700],translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%"}},"transition.swoopOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformOriginX:["50%","100%"],transformOriginY:["100%","100%"],scaleX:0,scaleY:0,translateX:-700,translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%",scaleX:1,scaleY:1,translateX:0}},"transition.whirlIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,0],scaleY:[1,0],rotateY:[0,160]},1,{easing:"easeInOutSine"}]]},"transition.whirlOut":{defaultDuration:750,calls:[[{opacity:[0,"easeInOutQuint",1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:0,scaleY:0,rotateY:160},1,{easing:"swing"}]],reset:{scaleX:1,scaleY:1,rotateY:0}},"transition.shrinkIn":{defaultDuration:750,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,1.5],scaleY:[1,1.5],translateZ:0}]]},"transition.shrinkOut":{defaultDuration:600,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:1.3,scaleY:1.3,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.expandIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,.625],scaleY:[1,.625],translateZ:0}]]},"transition.expandOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:.5,scaleY:.5,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.bounceIn":{defaultDuration:800,calls:[[{opacity:[1,0],scaleX:[1.05,.3],scaleY:[1.05,.3]},.35],[{scaleX:.9,scaleY:.9,translateZ:0},.2],[{scaleX:1,scaleY:1},.45]]},"transition.bounceOut":{defaultDuration:800,calls:[[{scaleX:.95,scaleY:.95},.35],[{scaleX:1.1,scaleY:1.1,translateZ:0},.35],[{opacity:[0,1],scaleX:.3,scaleY:.3},.3]],reset:{scaleX:1,scaleY:1}},"transition.bounceUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[-30,1E3]},.6,{easing:"easeOutCirc"}],[{translateY:10},.2],[{translateY:0},.2]]},"transition.bounceUpOut":{defaultDuration:1E3,calls:[[{translateY:20},.2],[{opacity:[0,"easeInCirc",1],translateY:-1E3},.8]],reset:{translateY:0}},"transition.bounceDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[30,-1E3]},.6,{easing:"easeOutCirc"}],[{translateY:-10},.2],[{translateY:0},.2]]},"transition.bounceDownOut":{defaultDuration:1E3,calls:[[{translateY:-20},.2],[{opacity:[0,"easeInCirc",1],translateY:1E3},.8]],reset:{translateY:0}},"transition.bounceLeftIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[30,-1250]},.6,{easing:"easeOutCirc"}],[{translateX:-10},.2],[{translateX:0},.2]]},"transition.bounceLeftOut":{defaultDuration:750,calls:[[{translateX:30},.2],[{opacity:[0,"easeInCirc",1],translateX:-1250},.8]],reset:{translateX:0}},"transition.bounceRightIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[-30,1250]},.6,{easing:"easeOutCirc"}],[{translateX:10},.2],[{translateX:0},.2]]},"transition.bounceRightOut":{defaultDuration:750,calls:[[{translateX:-30},.2],[{opacity:[0,"easeInCirc",1],translateX:1250},.8]],reset:{translateX:0}},"transition.slideUpIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,20],translateZ:0}]]},"transition.slideUpOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:-20,translateZ:0}]],reset:{translateY:0}},"transition.slideDownIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,-20],translateZ:0}]]},"transition.slideDownOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:20,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftIn":{defaultDuration:1E3,calls:[[{opacity:[1,0],translateX:[0,-20],translateZ:0}]]},"transition.slideLeftOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:-20,translateZ:0}]],reset:{translateX:0}},"transition.slideRightIn":{defaultDuration:1E3,calls:[[{opacity:[1,0],translateX:[0,20],translateZ:0}]]},"transition.slideRightOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:20,translateZ:0}]],reset:{translateX:0}},"transition.slideUpBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,75],translateZ:0}]]},"transition.slideUpBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:-75,translateZ:0}]],reset:{translateY:0}},"transition.slideDownBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,-75],translateZ:0}]]},"transition.slideDownBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:75,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,-75],translateZ:0}]]},"transition.slideLeftBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:-75,translateZ:0}]],reset:{translateX:0}},"transition.slideRightBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,75],translateZ:0}]]},"transition.slideRightBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:75,translateZ:0}]],reset:{translateX:0}},"transition.perspectiveUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveUpOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveDownOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveLeftIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2E3,2E3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveLeftOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2E3,2E3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}},"transition.perspectiveRightIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2E3,2E3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveRightOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2E3,2E3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}}};for(var m7t in N7t.RegisterEffect.packagedEffects){N7t.RegisterEffect.packagedEffects.hasOwnProperty(m7t)&&N7t.RegisterEffect(m7t,N7t.RegisterEffect.packagedEffects[m7t]);}N7t.RunSequence=function(N6t){var C6t=f7t.extend(true,[],N6t);1<C6t.length&&(f7t.each(C6t.reverse(),function(m6t,Q6t){var f6t=C6t[m6t+1];if(f6t){var B6t=Q6t.o||Q6t.options;m6t=f6t.o||f6t.options;var B6t=B6t&&false===B6t.sequenceQueue?"begin":"complete",z6t=m6t&&m6t[B6t],l6t={};l6t[B6t]=function(){var D6t=f6t.e||f6t.elements,D6t=D6t.nodeType?[D6t]:D6t;z6t&&z6t.call(D6t,D6t);N7t(Q6t);};f6t.o?f6t.o=f7t.extend({},m6t,l6t):f6t.options=f7t.extend({},m6t,l6t);}}),C6t.reverse());N7t(C6t[0]);};}else{Q7t.console&&console.log("Velocity UI Pack: Velocity must be loaded first. Aborting.");}}(window.jQuery||window.Zepto||window,window,window?window.document:void 0);}));void function(){window.Velocity||(window.Velocity=$.Velocity);Velocity.RegisterEffect("zoomOut",{defaultDuration:250,easing:"easeInQuad",calls:[[{opacity:1,scale:1},.25],[{opacity:0,scale:1.25},1]]});Velocity.RegisterEffect("fadeUp",{defaultDuration:250,easing:"easeInOutBack",calls:[[{translateY:["100%","100%"]},0],[{translateY:"0px",opacity:1},1]]});Velocity.RegisterEffect("zoomFadeOut",{defaultDuration:150,easing:"easeInQuad",calls:[[{opacity:1,scale:1},.25],[{opacity:0,scale:.75},1]]});Velocity.RegisterEffect("zoomFadeIn",{defaultDuration:150,easing:"easeInQuad",calls:[[{opacity:0,scale:.75},0],[{opacity:1,scale:1},1]]});Velocity.RegisterEffect("pulse",{defaultDuration:125,easing:"easeOutQuad",calls:[[{scale:1.1},0],[{scale:1},1]],reset:{scale:1}});Velocity.RegisterEffect("radar",{defaultDuration:1E3,calls:[[{opacity:0,scale:1},0],[{opacity:.35,scale:1},.01],[{opacity:0,scale:1.1},1]]});Velocity.RegisterEffect("noop",{defaultDuration:125,calls:[[{opacity:1},0],[{opacity:1},1]]});}();void function(){function V6t(y8x){if("string"!==typeof y8x){throw new TypeError("Path must be a string.");}if(!y8x){throw Error("Path must not be empty.");}return y8x=y8x.replace(/[\\\/]+/g,"/");}function o8x(){for(var q8x=arguments.length,Z8x=Array(q8x),H8x=0;H8x<q8x;H8x++){Z8x[H8x]=arguments[H8x];}return V6t(Z8x.join("/"));}function n8x(E8x){return new Promise(function(u8x,j8x){return E8x.file(u8x,j8x);});}function h8x(){}var x6t=sketch.util.MD5File,d6t=function(J8x,S8x){if(!(J8x instanceof S8x)){throw new TypeError("Cannot call a class as a function");}},U6t=function(){function K8x(N8x,C8x){for(var t8x=0;t8x<C8x.length;t8x++){var b8x=C8x[t8x];b8x.enumerable=b8x.enumerable||false;b8x.configurable=true;"value"in b8x&&(b8x.writable=true);Object.defineProperty(N8x,b8x.key,b8x);}}return function(f8x,B8x,m8x){B8x&&K8x(f8x.prototype,B8x);m8x&&K8x(f8x,m8x);return f8x;};}(),X6t=Object.assign||function(D8x){for(var l8x=1;l8x<arguments.length;l8x++){var Q8x=arguments[l8x],z8x;for(z8x in Q8x){Object.prototype.hasOwnProperty.call(Q8x,z8x)&&(D8x[z8x]=Q8x[z8x]);}}return D8x;},G6t=function(X8x,d8x){if("function"!==typeof d8x&&null!==d8x){throw new TypeError("Super expression must either be null or a function, not "+typeof d8x);}X8x.prototype=Object.create(d8x&&d8x.prototype,{constructor:{value:X8x,enumerable:false,writable:true,configurable:true}});d8x&&(Object.setPrototypeOf?Object.setPrototypeOf(X8x,d8x):X8x.__proto__=d8x);},W6t=function(U8x,W8x){if(!U8x){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return!W8x||"object"!==typeof W8x&&"function"!==typeof W8x?U8x:W8x;},A6t=function(){return function(G8x,v8x){if(Array.isArray(G8x)){return G8x;}j.initSymbol();j.initSymbolIterator();if(Symbol.iterator in Object(G8x)){var e8x=[],F8x=true,V8x=false,P8x=void 0;try{j.initSymbol();j.initSymbolIterator();for(var p8x=G8x[Symbol.iterator](),L8x;!(F8x=(L8x=p8x.next()).done)&&(e8x.push(L8x.value),!v8x||e8x.length!==v8x);F8x=true){;}}catch(R8x){V8x=true,P8x=R8x;}finally{try{if(!F8x&&p8x["return"]){p8x["return"]();}}finally{if(V8x){throw P8x;}}}return e8x;}throw new TypeError("Invalid attempt to destructure non-iterable instance");};}(),s8x=function(i8x){return i8x;},F6t=function(){function a8x(x8x){var k8x=x8x.id,w8x=x8x.root;x8x=x8x.order;x8x=void 0===x8x?999:x8x;d6t(this,a8x);this.id=k8x;this.root=V6t(w8x);this.order=x8x;Galactic.emitter(this);}U6t(a8x,[{key:"internalPath",value:function(Y8x){Y8x=V6t(Y8x);return Y8x.startsWith(this.root)?Y8x:o8x(this.root,Y8x);}},{key:"toFormat",value:function(A8x,r2x){var n2x=this,s2x=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};Galactic.fillTaskOptions(s2x);switch(r2x){case"entry":return Promise.resolve(A8x);default:return this.doFormatConversion(A8x,r2x,s2x).then(function(I2x){"blob"===r2x&&n2x.copyImportantPropertiesToBlob(A8x,I2x);return I2x;});}}},{key:"openInNewWindow",value:function(){return this.absoluteUrl().then(window.open);}},{key:"copyImportantPropertiesToBlob",value:function(T2x,c2x){c2x.name=T2x.name;}},{key:"getObjectUrlFromBlob",value:function(M2x){M2x=URL.createObjectURL(M2x);return Promise.resolve(M2x);}},{key:"read",value:function(O2x){var o2x=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},g2x=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};O2x=this.internalPath(O2x);o2x=X6t({as:"blob",safetyNet:true},o2x);Galactic.fillTaskOptions(g2x);return this.doRead(O2x,o2x,g2x);}},{key:"write",value:function(y2x){var h2x=arguments;return new Promise(function(u2x,Z2x){var E2x,H2x,q2x;E2x=1<h2x.length&&void 0!==h2x[1]?h2x[1]:"";H2x=2<h2x.length&&void 0!==h2x[2]?h2x[2]:{};q2x=3<h2x.length&&void 0!==h2x[3]?h2x[3]:{};y2x=this.internalPath(y2x);H2x=X6t({append:false,overwrite:true},H2x);Galactic.fillTaskOptions(q2x);return this.doWrite(y2x,E2x,H2x,q2x).then(function(j2x){try{return this.emit("write",{path:y2x}),u2x();}catch(J2x){return Z2x(J2x);}}.bind(this),Z2x);}.bind(this));}},{key:"delete",value:function(S2x){var K2x=arguments;return new Promise(function(C2x,b2x){var t2x;t2x=1<K2x.length&&void 0!==K2x[1]?K2x[1]:{};S2x=this.internalPath(S2x);if(S2x===this.root){return b2x(Error("cannot-delete-root"));}Galactic.fillTaskOptions(t2x);return this.doDelete(S2x,t2x).then(function(N2x){try{return this.emit("delete",{path:S2x}),C2x();}catch(f2x){return b2x(f2x);}}.bind(this),b2x);}.bind(this));}},{key:"move",value:function(B2x,m2x){var l2x=arguments;return new Promise(function(z2x,D2x){var Q2x;Q2x=2<l2x.length&&void 0!==l2x[2]?l2x[2]:{};B2x=this.internalPath(B2x);m2x=this.internalPath(m2x);if(B2x===m2x){return z2x(Promise.resolve());}Galactic.fillTaskOptions(Q2x);return this.doMove(B2x,m2x,Q2x).then(function(d2x){try{return this.emit("move",{from:B2x,to:m2x}),z2x();}catch(X2x){return D2x(X2x);}}.bind(this),D2x);}.bind(this));}},{key:"copy",value:function(W2x,U2x){var G2x=arguments;return new Promise(function(F2x,p2x){var e2x;e2x=2<G2x.length&&void 0!==G2x[2]?G2x[2]:{};W2x=this.internalPath(W2x);U2x=this.internalPath(U2x);if(W2x===U2x){return F2x(Promise.resolve());}Galactic.fillTaskOptions(e2x);return this.doCopy(W2x,U2x,e2x).then(function(V2x){try{return this.emit("copy",{from:W2x,to:U2x}),F2x();}catch(P2x){return p2x(P2x);}}.bind(this),p2x);}.bind(this));}},{key:"find",value:function(L2x){var v2x=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},R2x=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};L2x=this.internalPath(L2x);v2x=X6t({as:"blob",into:"array",filter:s8x},v2x);Galactic.fillTaskOptions(R2x);return this.doFind(L2x,v2x,R2x);}}]);return a8x;}();"absoluteUrl doFormatConversion doRead doWrite doDelete doMove doCopy doFind".split(" ").forEach(function(i2x){F6t.prototype[i2x]=function(){throw Error("not implemented");};});var v6t=function(x2x){function a2x(k2x){k2x=k2x.path;d6t(this,a2x);var w2x=W6t(this,(a2x.__proto__||Object.getPrototypeOf(a2x)).call(this,"An entry could not be found"));w2x.path=k2x;return w2x;}G6t(a2x,x2x);return a2x;}(Error),p6t=function(A2x){function Y2x(){d6t(this,Y2x);return W6t(this,(Y2x.__proto__||Object.getPrototypeOf(Y2x)).apply(this,arguments));}G6t(Y2x,A2x);return Y2x;}(Error),R6t=function(s0x){function r0x(){d6t(this,r0x);return W6t(this,(r0x.__proto__||Object.getPrototypeOf(r0x)).apply(this,arguments));}G6t(r0x,s0x);return r0x;}(Error),w6t=Object.freeze({EntryNotFound:v6t,AdapterNotSupported:p6t,NotImplementedError:R6t}),Y6t=sketch.util.uuid,L6t=function(){function n0x(){d6t(this,n0x);}U6t(n0x,[{key:"connect",value:function(){var T0x=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},I0x=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!this.isSupported){throw new p6t();}if(this.isConnected){return Promise.resolve();}Galactic.fillTaskOptions(I0x);return this.doConnect(T0x,I0x);}},{key:"disconnect",value:function(){var c0x=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!this.isSupported){throw new p6t();}if(!this.isConnected){return Promise.resolve();}Galactic.fillTaskOptions(c0x);return this.doDisconnect(c0x);}},{key:"mount",value:function(){var M0x=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o0x=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!this.isConnected){throw Error("not-connected");}M0x=X6t({id:Y6t(),root:"/"},M0x);Galactic.fillTaskOptions(o0x);return this.doMount(M0x,o0x);}},{key:"isSupported",get:function(){return false;}},{key:"isConnected",get:function(){return false;}}]);return n0x;}();["doConnect","doDisconnect","doMount"].forEach(function(O0x){L6t.prototype[O0x]=function(){throw new R6t();};});var r8x=sketch.string,P6t=function(){function g0x(h0x){var y0x=h0x.path,H0x=h0x.digest,q0x=h0x.size,Z0x=h0x.lastModified,E0x=h0x.src;h0x=h0x.extra;h0x=void 0===h0x?{}:h0x;d6t(this,g0x);this.path=y0x;this.name=r8x.filename(y0x);this.digest=H0x;this.size=q0x;this.lastModified=Z0x;this.extra=h0x;this.src=E0x;}U6t(g0x,[{key:"as",value:function(u0x,j0x){return this.src.toFormat(this,u0x,j0x);}}]);return g0x;}(),i6t=function(S0x){function J0x(K0x){d6t(this,J0x);K0x=W6t(this,(J0x.__proto__||Object.getPrototypeOf(J0x)).call(this,K0x));K0x.isFile=true;K0x.isFolder=false;return K0x;}G6t(J0x,S0x);return J0x;}(P6t),a6t=function(t0x){function b0x(C0x){d6t(this,b0x);C0x=W6t(this,(b0x.__proto__||Object.getPrototypeOf(b0x)).call(this,C0x));C0x.isFile=false;C0x.isFolder=true;return C0x;}G6t(b0x,t0x);return b0x;}(P6t),T8x=Galactic.chunkedAccumulator,e6t=function(){function N0x(){d6t(this,N0x);this.entries=[];}U6t(N0x,null,[{key:"fromArray",value:function(B0x){var f0x=new N0x();f0x.add(B0x);return f0x;}}]);U6t(N0x,[{key:"add",value:function(m0x){m0x instanceof N0x?this.entries=this.entries.concat(m0x.entries):Array.isArray(m0x)?this.entries=this.entries.concat(m0x):this.entries.push(m0x);}},{key:"get",value:function(Q0x){var l0x=arguments;return new Promise(function(X0x,D0x){D0x=Q0x.into;D0x=void 0===D0x?"array":D0x;var z0x=Q0x.as,d0x=void 0===z0x?"entry":z0x,z0x=(1<l0x.length&&void 0!==l0x[1]?l0x[1]:{}).onProgress,W0x=T8x({onProgress:void 0===z0x?h8x:z0x}),z0x=this.entries;switch(D0x){default:case"array":switch(d0x){case"entry":return X0x(Promise.resolve(z0x));default:return X0x(Promise.map(z0x,function(U0x){return new Promise(function(p0x,e0x){var G0x,F0x;G0x=W0x.getChunk();return U0x.as(d0x,{onProgress:G0x}).then(function(V0x){try{return F0x=V0x,G0x(1),p0x(F0x);}catch(P0x){return e0x(P0x);}}.bind(this),e0x);}.bind(this));}));}case"object":return X0x(Promise.reduce(z0x,function(v0x,L0x){var R0x=W0x.getChunk();return L0x.as(d0x,{onProgress:R0x}).then(function(i0x){v0x[L0x.path]=i0x;return v0x;});},{}));}}.bind(this));}}]);return N0x;}(),M8x=Galactic.chunkedAccumulator,k6t=Galactic.steppedAccumulator,O8x=function(x0x){function a0x(k0x){d6t(this,a0x);k0x=W6t(this,(a0x.__proto__||Object.getPrototypeOf(a0x)).call(this,X6t({id:"union-fs",root:"/"},k0x)));k0x.filesystems=[];return k0x;}G6t(a0x,x0x);U6t(a0x,[{key:"add",value:function(w0x){this.filesystems.some(function(Y0x){return Y0x.id===w0x.id;})||(this.filesystems.push(w0x),this.filesystems.sort(function(A0x,r3x){return A0x.order-r3x.order;}),this.emit("change"));}},{key:"remove",value:function(n3x){var s3x=this.filesystems.find(function(I3x){return I3x.id===n3x.id;}),s3x=this.filesystems.indexOf(s3x);this.filesystems.splice(s3x,1);this.emit("change");}},{key:"doRead",value:function(T3x,c3x,M3x){return new Promise(function(h3x,o3x){var y3x=c3x.as,O3x=c3x.safetyNet,H3x=M3x.onProgress;if(!this.filesystems.length){return O3x?o3x(v6t({path:T3x})):h3x();}var g3x=k6t({steps:1+this.filesystems.length,onProgress:H3x});o3x=this.filesystems.map(function(q3x){return q3x.read(T3x,{as:"entry",safetyNet:O3x},{onProgress:g3x});});return h3x(Promise.any(o3x).then(function(Z3x){if(Z3x){return Z3x.as(y3x,{onProgress:g3x});}}));}.bind(this));}},{key:"doWrite",value:function(J3x,S3x){var u3x=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},E3x=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};Galactic.fillTaskOptions(E3x);if(!this.filesystems.length){return Promise.resolve();}var j3x=M8x(E3x);return Promise.map(this.filesystems,function(b3x){var K3x=j3x.getChunk();return b3x.write(J3x,S3x,u3x,{onProgress:K3x});});}},{key:"doDelete",value:function(t3x,C3x){return this.filesystems.length?Promise.each(this.filesystems,function(N3x){return N3x.delete(t3x,C3x);}):Promise.resolve();}},{key:"doMove",value:function(f3x,B3x){return this.filesystems.length?Promise.each(this.filesystems,function(m3x){return m3x.move(f3x,B3x);}):Promise.resolve();}},{key:"doCopy",value:function(l3x,Q3x){return this.filesystems.length?Promise.each(this.filesystems,function(z3x){return z3x.copy(l3x,Q3x);}):Promise.resolve();}},{key:"doFind",value:function(X3x,D3x,d3x){return new Promise(function(p3x,v3x){var G3x,e3x,V3x,W3x,P3x,F3x,L3x,U3x;G3x=D3x.into;e3x=D3x.as;V3x=D3x.filter;W3x=d3x.onProgress;P3x=d3x.cancel;if(!this.filesystems.length){return p3x(new e6t().get({into:G3x,as:e3x}));}F3x=k6t({steps:1+this.filesystems.length,onProgress:W3x});W3x=this.filesystems.map(function(R3x){return R3x.find(X3x,{into:"array",as:"entry",filter:V3x},{onProgress:F3x,cancel:P3x});});return Promise.any(W3x).then(function(i3x){try{return L3x=i3x,U3x=new e6t(),U3x.add(L3x),p3x(U3x.get({into:G3x,as:e3x},{onProgress:F3x}));}catch(a3x){return v3x(a3x);}}.bind(this),v3x);}.bind(this));}}]);return a0x;}(F6t),g8x=sketch.convert,I8x=sketch.util.MD5File,c8x=function(k3x){function x3x(w3x){d6t(this,x3x);w3x=W6t(this,(x3x.__proto__||Object.getPrototypeOf(x3x)).call(this,X6t({root:"/"},w3x)));w3x.entries=new Map();return w3x;}G6t(x3x,k3x);U6t(x3x,[{key:"doFormatConversion",value:function(Y3x,A3x){return new Promise(function(r5x,s5x){switch(A3x){case"entry":return r5x(Y3x);case"previewUrl":return r5x(this.getObjectUrlFromBlob(Y3x.extra.blob));default:return r5x(g8x.blob(Y3x.extra.blob,A3x));}}.bind(this));}},{key:"doRead",value:function(I5x,n5x){var T5x=n5x.as;n5x=n5x.safetyNet;if(!this.entries.has(I5x)){if(n5x){throw new v6t({path:I5x});}return Promise.resolve();}return this.entries.get(I5x).as(T5x);}},{key:"doWrite",value:function(o5x,h5x,y5x){var H5x=this;var q5x=this,E5x=y5x.append;y5x=y5x.overwrite;var c5x=sketch.string,O5x=new Date(),Z5x=O5x.getTime()-O5x.getMilliseconds(),c5x=c5x.dirparent(o5x);if(c5x!==o5x){for(c5x=c5x.split("/"),O5x=[];c5x.length;){O5x.push(c5x.shift());var g5x=O5x.join("/");""!==g5x&&(H5x.entries.has(g5x)||H5x.entries.set(g5x,new a6t({path:g5x,lastModified:Z5x,src:H5x})));}}var c5x=h5x.type||"text/plain",M5x=new Blob([h5x],{type:c5x});h5x=this.entries.get(o5x);if(this.entries.has(o5x)){if(!y5x){return Promise.resolve();}E5x&&(M5x=new Blob([h5x.extra.blob,M5x],{type:c5x}));}return I8x(M5x).then(function(u5x){q5x.entries.set(o5x,new i6t({path:o5x,size:M5x.size,digest:u5x,lastModified:Z5x,src:q5x,extra:{blob:M5x}}));});}},{key:"doMove",value:function(j5x,J5x){var S5x=this;j5x=this.internalPath(j5x);J5x=this.internalPath(J5x);if(j5x===J5x){return Promise.resolve();}this.entries.forEach(function(t5x,K5x){if(K5x.startsWith(j5x)){var b5x=K5x.replace(j5x,J5x);S5x.entries.delete(K5x);S5x.entries.set(b5x,t5x);}});return Promise.resolve();}},{key:"doCopy",value:function(C5x,N5x){var f5x=this;C5x=this.internalPath(C5x);N5x=this.internalPath(N5x);if(C5x===N5x){return Promise.resolve();}this.entries.forEach(function(m5x,B5x){B5x.startsWith(C5x)&&(B5x=B5x.replace(C5x,N5x),f5x.entries.set(B5x,m5x));});return Promise.resolve();}},{key:"doDelete",value:function(l5x){var Q5x=this;l5x=this.internalPath(l5x);this.entries.forEach(function(D5x,z5x){z5x.startsWith(l5x)&&(Q5x.entries.delete(z5x),Q5x.emit("delete",{path:z5x}));});return Promise.resolve();}},{key:"doFind",value:function(L5x,d5x){var P5x=d5x.as,V5x=d5x.into;d5x=d5x.filter;var G5x=new e6t(),X5x=true,e5x=false,F5x=void 0;try{j.initSymbol();j.initSymbolIterator();for(var U5x=this.entries[Symbol.iterator](),v5x;!(X5x=(v5x=U5x.next()).done);X5x=true){var p5x=A6t(v5x.value,2),W5x=p5x[1];p5x[0].startsWith(L5x)&&W5x.isFile&&d5x(W5x)&&G5x.add(W5x);}}catch(R5x){e5x=true,F5x=R5x;}finally{try{!X5x&&U5x.return&&U5x.return();}finally{if(e5x){throw F5x;}}}return G5x.get({into:V5x,as:P5x});}}]);return x3x;}(F6t);Galactic.fs=Galactic.fs||{};Galactic.fs.adapters={};Object.assign(Galactic.fs,X6t({normalize:V6t,join:o8x,areProbablyIdentical:function(i5x,a5x){return new Promise(function(k5x,x5x){function A5x(){function n9x(){function I9x(){function T9x(){if(w5x&&Y5x){return k5x(w5x===Y5x);}if(i5x.size&&a5x.size){return k5x(i5x.size===a5x.size);}if(i5x.lastModified&&a5x.lastModified){return r9x=new Date(i5x.lastModifiedDate).getTime(),s9x=new Date(a5x.lastModifiedDate).getTime(),k5x(r9x===s9x);}console.error("UNHANDLED COMPARISON",i5x,a5x);return k5x(false);}return a5x instanceof Blob?x6t(a5x).then(function(c9x){try{return Y5x=c9x,T9x.call(this);}catch(M9x){return x5x(M9x);}}.bind(this),x5x):T9x.call(this);}Y5x=void 0;a5x.digest&&(Y5x=a5x.digest);return a5x.isFile&&"function"===typeof a5x.file?n8x(a5x).then(function(o9x){try{return a5x=o9x,I9x.call(this);}catch(O9x){return x5x(O9x);}}.bind(this),x5x):I9x.call(this);}return i5x instanceof Blob?x6t(i5x).then(function(g9x){try{return w5x=g9x,n9x.call(this);}catch(h9x){return x5x(h9x);}}.bind(this),x5x):n9x.call(this);}var w5x,Y5x,r9x,s9x;if("undefined"===typeof i5x||"undefined"===typeof a5x){return k5x(false);}w5x=void 0;i5x.digest&&(w5x=i5x.digest);return i5x.isFile&&"function"===typeof i5x.file?n8x(i5x).then(function(y9x){try{return i5x=y9x,A5x.call(this);}catch(H9x){return x5x(H9x);}}.bind(this),x5x):A5x.call(this);}.bind(this));},backup:function(Z9x){var q9x=arguments;return new Promise(function(f9x,E9x){var u9x,j9x,J9x,K9x,t9x,b9x,S9x,N9x,C9x;u9x=1<q9x.length&&void 0!==q9x[1]?q9x[1]:{};j9x=2<q9x.length&&void 0!==q9x[2]?q9x[2]:{};Galactic.fillTaskOptions(j9x);J9x=Galactic.steppedAccumulator(X6t({steps:3},j9x));u9x=u9x.backupName;K9x=j9x.onProgress;t9x=void 0===u9x?'backup.zip':u9x+".zip";return Z9x.find("/",{into:"object",as:"blob"},{onProgress:K9x}).then(function(m9x){try{b9x=m9x;J9x.step();S9x=[];for(var B9x in b9x){N9x=b9x[B9x],S9x.push({name:B9x,value:N9x});}return S9x.length?sketch.io.zip.encode(S9x,{onprogress:K9x}).then(function(l9x){try{return C9x=l9x,J9x.step(),sketch.download.blob(C9x,t9x).then(function(Q9x){try{return J9x.step(),f9x();}catch(z9x){return E9x(z9x);}}.bind(this),E9x);}catch(D9x){return E9x(D9x);}}.bind(this),E9x):E9x(Error("no-files-to-backup"));}catch(d9x){return E9x(d9x);}}.bind(this),E9x);}.bind(this));},FileSystem:F6t,Adapter:L6t},w6t,{Entry:P6t,File:i6t,Folder:a6t,EntryList:e6t,UnionFileSystem:O8x,MemoryFileSystem:c8x}));}();void function(){function x9x(Y9x,A9x,r1x){return new Promise(function(g1x,T1x){function I1x(h1x,y1x,H1x){M1x.push({type:h1x.type,path:h1x.path,src:y1x,dest:H1x});}var s1x,n1x,M1x,o1x,O1x,c1x;s1x=Y9x.src;n1x=A9x.src;M1x=[];return Y9x.since(r1x).then(function(q1x){try{return o1x=q1x,A9x.since(r1x).then(function(u1x){try{O1x=u1x;c1x=new Set();for(var Z1x in o1x){c1x.add(Z1x);}for(var E1x in O1x){c1x.add(E1x);}c1x.forEach(function(S1x){var j1x=o1x[S1x],J1x=O1x[S1x];if(j1x&&"undefined"===typeof J1x){I1x(j1x,s1x,n1x);}else if(J1x&&"undefined"===typeof j1x){I1x(J1x,n1x,s1x);}else{var K1x=j1x.timestamp-J1x.timestamp;if(0<K1x){I1x(j1x,s1x,n1x);}else if(0===K1x){if("delete"===j1x.type||"delete"===J1x.type){I1x({type:"delete",path:S1x},s1x,n1x),I1x({type:"delete",path:S1x},n1x,s1x);}}else{0>K1x&&I1x(J1x,n1x,s1x);}}});return g1x(M1x);}catch(b1x){return T1x(b1x);}}.bind(this),T1x);}catch(t1x){return T1x(t1x);}}.bind(this),T1x);}.bind(this));}function i9x(N1x,f1x,B1x){var C1x=arguments;return new Promise(function(D1x,m1x){var l1x,Q1x,z1x;l1x=3<C1x.length&&void 0!==C1x[3]?C1x[3]:{};Galactic.fillTaskOptions(l1x);Q1x=l1x.cancel;return x9x(N1x,f1x,B1x).then(function(d1x){try{return z1x=d1x,Promise.each(z1x,function(X1x){return new Promise(function(U1x,W1x){var F1x,G1x,P1x,p1x,v1x;Q1x.throwIfRequested();F1x=X1x.type;G1x=X1x.path;P1x=X1x.src;p1x=X1x.dest;switch(F1x){case"change":return P1x.read(G1x,{safetyNet:false}).then(function(L1x){try{return(v1x=L1x)?p1x.write(G1x,v1x).then(function(R1x){try{return U1x();}catch(i1x){return W1x(i1x);}}.bind(this),W1x):U1x();}catch(a1x){return W1x(a1x);}}.bind(this),W1x);case"delete":var V1x=function(){try{return U1x();}catch(x1x){return W1x(x1x);}}.bind(this),e1x=function(k1x){try{return V1x();}catch(w1x){return W1x(w1x);}}.bind(this);try{return p1x.delete(G1x).then(function(Y1x){try{return V1x();}catch(A1x){return e1x(A1x);}}.bind(this),e1x);}catch(r4x){e1x(r4x);}default:console.log("Not implemented:",F1x);}return U1x();}.bind(this));}).then(function(s4x){try{return D1x();}catch(n4x){return m1x(n4x);}}.bind(this),m1x);}catch(I4x){return m1x(I4x);}}.bind(this),m1x);}.bind(this));}function w9x(T4x,c4x){return new Promise(function(o4x,M4x){function h4x(){function q4x(){function Z4x(){function E4x(){if(O4x&&g4x){return o4x(O4x===g4x);}if(T4x.size&&c4x.size){return o4x(T4x.size===c4x.size);}if(T4x.lastModified&&c4x.lastModified){return y4x=new Date(T4x.lastModifiedDate).getTime(),H4x=new Date(c4x.lastModifiedDate).getTime(),o4x(y4x===H4x);}console.error("UNHANDLED COMPARISON",T4x,c4x);return o4x(false);}return c4x instanceof Blob?F9x(c4x).then(function(u4x){try{return g4x=u4x,E4x.call(this);}catch(j4x){return M4x(j4x);}}.bind(this),M4x):E4x.call(this);}g4x=void 0;c4x.digest&&(g4x=c4x.digest);return c4x.isFile&&"function"===typeof c4x.file?v9x(c4x).then(function(J4x){try{return c4x=J4x,Z4x.call(this);}catch(S4x){return M4x(S4x);}}.bind(this),M4x):Z4x.call(this);}return T4x instanceof Blob?F9x(T4x).then(function(K4x){try{return O4x=K4x,q4x.call(this);}catch(b4x){return M4x(b4x);}}.bind(this),M4x):q4x.call(this);}var O4x,g4x,y4x,H4x;if("undefined"===typeof T4x||"undefined"===typeof c4x){return o4x(false);}O4x=void 0;T4x.digest&&(O4x=T4x.digest);return T4x.isFile&&"function"===typeof T4x.file?v9x(T4x).then(function(t4x){try{return T4x=t4x,h4x.call(this);}catch(C4x){return M4x(C4x);}}.bind(this),M4x):h4x.call(this);}.bind(this));}function v9x(N4x){return new Promise(function(f4x,B4x){return N4x.file(f4x,B4x);});}function L9x(l4x,Q4x){var m4x=arguments;return new Promise(function(L4x,D4x){var z4x,d4x,U4x,X4x,P4x,e4x,F4x,p4x,G4x,W4x,V4x,v4x;z4x=2<m4x.length&&void 0!==m4x[2]?m4x[2]:{};Galactic.fillTaskOptions(z4x);d4x=z4x.onProgress;U4x=z4x.cancel;X4x=R9x({steps:2,onProgress:d4x});z4x={as:"entry",into:"object"};d4x=V9x({onProgress:X4x});return Promise.all([l4x.find(l4x.root,z4x,{onProgress:d4x.getChunk()}),Q4x.find(Q4x.root,z4x,{onProgress:d4x.getChunk()})]).then(function(a4x){try{P4x=a4x;e4x=a9x(P4x,2);F4x=e4x[0];p4x=e4x[1];X4x.step();G4x=new Set();for(var R4x in F4x){G4x.add(R4x);}for(var i4x in p4x){G4x.add(i4x);}W4x=[];V4x=V9x({onProgress:X4x});return Promise.each(G4x,function(x4x){return new Promise(function(Y4x,A4x){var k4x,w4x,r7x;U4x.throwIfRequested();k4x=F4x[x4x];w4x=p4x[x4x];return w9x(k4x,w4x).then(function(s7x){try{if(r7x=s7x){return Y4x();}W4x.push([k4x,w4x,Q4x,{onProgress:V4x.getChunk(),cancel:U4x}]);W4x.push([w4x,k4x,l4x,{onProgress:V4x.getChunk(),cancel:U4x}]);return Y4x();}catch(n7x){return A4x(n7x);}}.bind(this),A4x);}.bind(this));}).then(function(I7x){try{return Promise.map(W4x,function(T7x){return k9x.apply(null,T7x);},{concurrency:3}).then(function(c7x){try{return v4x=c7x,X4x.step(),L4x(v4x.filter(function(M7x){return M7x;}));}catch(o7x){return D4x(o7x);}}.bind(this),D4x);}catch(O7x){return D4x(O7x);}}.bind(this),D4x);}catch(g7x){return D4x(g7x);}}.bind(this),D4x);}.bind(this));}function k9x(h7x,H7x,q7x,y7x){return new Promise(function(j7x,J7x){function S7x(){y7x.onProgress(1);return j7x(E7x);}var E7x,K7x;Galactic.fillTaskOptions(y7x);if(y7x.cancel.isRequested||!h7x){return y7x.onProgress(1),j7x();}E7x={target:q7x.id,path:h7x.path,status:"notCopied"};if(!H7x||h7x.lastModified>H7x.lastModified){var u7x=function(){try{return S7x.call(this);}catch(b7x){return J7x(b7x);}}.bind(this),Z7x=function(t7x){try{return E7x.status="notCopied",E7x.reason=t7x,u7x();}catch(C7x){return J7x(C7x);}}.bind(this);try{return h7x.as("blob").then(function(N7x){try{return K7x=N7x,q7x.write(h7x.path,K7x,{},y7x).then(function(f7x){try{return E7x.status="copied",u7x();}catch(B7x){return Z7x(B7x);}}.bind(this),Z7x);}catch(m7x){return Z7x(m7x);}}.bind(this),Z7x);}catch(l7x){Z7x(l7x);}}return S7x.call(this);}.bind(this));}var F9x=sketch.util.MD5File,P9x=function(){function Q7x(X7x,d7x){for(var D7x=0;D7x<d7x.length;D7x++){var z7x=d7x[D7x];z7x.enumerable=z7x.enumerable||false;z7x.configurable=true;"value"in z7x&&(z7x.writable=true);Object.defineProperty(X7x,z7x.key,z7x);}}return function(W7x,U7x,G7x){U7x&&Q7x(W7x.prototype,U7x);G7x&&Q7x(W7x,G7x);return W7x;};}(),a9x=function(){return function(e7x,L7x){if(Array.isArray(e7x)){return e7x;}j.initSymbol();j.initSymbolIterator();if(Symbol.iterator in Object(e7x)){var F7x=[],p7x=true,P7x=false,v7x=void 0;try{j.initSymbol();j.initSymbolIterator();for(var V7x=e7x[Symbol.iterator](),R7x;!(p7x=(R7x=V7x.next()).done)&&(F7x.push(R7x.value),!L7x||F7x.length!==L7x);p7x=true){;}}catch(i7x){P7x=true,v7x=i7x;}finally{try{if(!p7x&&V7x["return"]){V7x["return"]();}}finally{if(P7x){throw v7x;}}}return F7x;}throw new TypeError("Invalid attempt to destructure non-iterable instance");};}(),V9x=Galactic.chunkedAccumulator,R9x=Galactic.steppedAccumulator,X9x=sketch.store,W9x=function(a7x){return"fs."+a7x.src.id+".lastSync";},p9x=function(x7x){return X9x.get(W9x(x7x));},e9x=function(k7x,w7x){return X9x.set(W9x(k7x),w7x);},G9x=function(Y7x){return X9x.unset(W9x(Y7x));},U9x=function(){function A7x(){if(!(this instanceof A7x)){throw new TypeError("Cannot call a class as a function");}this.logs=[];}P9x(A7x,[{key:"add",value:function(r6x){var s6x=r6x.src.id;this.logs.find(function(n6x){return n6x.src.id===s6x;})||this.logs.push(r6x);}},{key:"remove",value:function(I6x){var T6x=I6x.src.id;I6x=this.logs.find(function(M6x){return M6x.src.id===T6x;});var c6x=this.logs.indexOf(I6x);this.logs.splice(c6x,1);G9x(I6x);}},{key:"run",value:function(){var o6x=arguments;return new Promise(function(Z6x,g6x){var E6x,h6x,H6x,y6x,q6x,O6x;E6x=this;h6x=0<o6x.length&&void 0!==o6x[0]?o6x[0]:{};if(2>this.logs.length){return Z6x();}Galactic.fillTaskOptions(h6x);H6x=h6x.onProgress;y6x=h6x.cancel;q6x=Date.now();O6x={runTime:q6x,syncs:[]};return Promise.each(this.logs,function(u6x){return new Promise(function(K6x,J6x){var j6x,S6x;j6x=u6x.src;return p9x(u6x).then(function(b6x){try{return S6x=b6x,Promise.each(E6x.logs,function(t6x){return new Promise(function(m6x,l6x){var N6x,Q6x;y6x.throwIfRequested();if(u6x===t6x){return m6x();}var f6x=function(){try{return m6x();}catch(z6x){return l6x(z6x);}}.bind(this),C6x=function(D6x){try{debugger;console.error(D6x);O6x.syncs.push({src:j6x,dest:dest,success:false,reason:D6x});return f6x();}catch(d6x){return l6x(d6x);}}.bind(this);try{var B6x=function(){return e9x(u6x,q6x).then(function(X6x){try{return f6x();}catch(W6x){return C6x(W6x);}}.bind(this),C6x);};N6x=t6x.src;return null===S6x?L9x(j6x,N6x,{onProgress:H6x,cancel:y6x}).then(function(U6x){try{return Q6x=U6x,O6x.syncs.push({src:j6x,dest:N6x,method:"full",stats:Q6x}),B6x.call(this);}catch(G6x){return C6x(G6x);}}.bind(this),C6x):i9x(u6x,t6x,S6x,{onProgress:H6x,cancel:y6x}).then(function(e6x){try{return O6x.syncs.push({src:j6x,dest:N6x,method:"quick"}),B6x.call(this);}catch(F6x){return C6x(F6x);}}.bind(this),C6x);}catch(p6x){C6x(p6x);}}.bind(this));}).then(function(V6x){try{return K6x();}catch(P6x){return J6x(P6x);}}.bind(this),J6x);}catch(v6x){return J6x(v6x);}}.bind(this),J6x);}.bind(this));}).then(function(L6x){try{return Promise.all(this.logs.map(function(R6x){return R6x.flush();})).then(function(i6x){try{return Z6x(O6x);}catch(a6x){return g6x(a6x);}}.bind(this),g6x);}catch(x6x){return g6x(x6x);}}.bind(this),g6x);}.bind(this));}}]);return A7x;}();Object.assign(U9x.prototype,{getLastSync:p9x,setLastSync:e9x,clearLastSync:G9x});Galactic.fs=Galactic.fs||{};Galactic.fs.sync={quickSync:i9x,fullSync:L9x,SyncManager:U9x};}();void function(){var Y6x=function(o8y,O8y){if(!(o8y instanceof O8y)){throw new TypeError("Cannot call a class as a function");}},w6x=function(){function g8y(q8y,H8y){for(var y8y=0;y8y<H8y.length;y8y++){var h8y=H8y[y8y];h8y.enumerable=h8y.enumerable||false;h8y.configurable=true;"value"in h8y&&(h8y.writable=true);Object.defineProperty(q8y,h8y.key,h8y);}}return function(Z8y,E8y,u8y){E8y&&g8y(Z8y.prototype,E8y);u8y&&g8y(Z8y,u8y);return Z8y;};}(),M8y=Object.assign||function(K8y){for(var j8y=1;j8y<arguments.length;j8y++){var J8y=arguments[j8y],S8y;for(S8y in J8y){Object.prototype.hasOwnProperty.call(J8y,S8y)&&(K8y[S8y]=J8y[S8y]);}}return K8y;},r8y=function(t8y,b8y){if("function"!==typeof b8y&&null!==b8y){throw new TypeError("Super expression must either be null or a function, not "+typeof b8y);}t8y.prototype=Object.create(b8y&&b8y.prototype,{constructor:{value:t8y,enumerable:false,writable:true,configurable:true}});b8y&&(Object.setPrototypeOf?Object.setPrototypeOf(t8y,b8y):t8y.__proto__=b8y);},I8y=function(N8y,B8y){var f8y={},C8y;for(C8y in N8y){0<=B8y.indexOf(C8y)||Object.prototype.hasOwnProperty.call(N8y,C8y)&&(f8y[C8y]=N8y[C8y]);}return f8y;},A6x=function(l8y,m8y){if(!l8y){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return!m8y||"object"!==typeof m8y&&"function"!==typeof m8y?l8y:m8y;},k6x=function(){function Q8y(){var D8y=this,z8y=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Y6x(this,Q8y);if(z8y=z8y.src){this.src=z8y,this.src.on("write",function(d8y){return D8y.add({path:d8y.path,type:"change"});}),this.src.on("delete",function(X8y){return D8y.add({path:X8y.path,type:"delete"});});}}w6x(Q8y,[{key:"since",value:function(W8y){return this.allSince(W8y).then(function(U8y){return U8y.reduce(function(G8y,F8y){var p8y=F8y.timestamp,e8y=F8y.path;e8y in G8y?p8y>G8y[e8y].timestamp&&(G8y[e8y]=F8y):G8y[e8y]=F8y;return G8y;},{});});}},{key:"allSince",value:function(V8y){V8y=this.convertToTimestamp(V8y);return this.filter(function(P8y){return P8y.timestamp>=V8y;});}},{key:"add",value:function(v8y){return this.doAdd(M8y({timestamp:Date.now()},v8y));}},{key:"convertToTimestamp",value:function(L8y){return Number.isFinite(L8y)?L8y:new Date(L8y).getTime();}}]);return Q8y;}();["filter","records","flush"].forEach(function(R8y){k6x.prototype[R8y]=function(){throw Error("not-implemented");};});var s8y=function(a8y){function i8y(x8y){Y6x(this,i8y);x8y=A6x(this,(i8y.__proto__||Object.getPrototypeOf(i8y)).call(this,x8y));x8y.cache=[];return x8y;}r8y(i8y,a8y);w6x(i8y,[{key:"doAdd",value:function(k8y){this.cache.push(k8y);return Promise.resolve();}},{key:"filter",value:function(w8y){w8y=this.cache.filter(w8y);return Promise.resolve(w8y);}},{key:"records",value:function(){var Y8y=this.cache.slice(0);return Promise.resolve(Y8y);}},{key:"flush",value:function(){this.cache=[];return Promise.resolve();}}]);return i8y;}(k6x),c8y=function(r2y){function A8y(s2y){var I2y=s2y.path,n2y=s2y.writeDelay,n2y=void 0===n2y?0:n2y;s2y=I8y(s2y,["path","writeDelay"]);Y6x(this,A8y);s2y=A6x(this,(A8y.__proto__||Object.getPrototypeOf(A8y)).call(this,s2y));s2y.path=s2y.src.internalPath(I2y);s2y.writeDelay=n2y;s2y.nextWriteTimeoutId=null;s2y.initialized=false;s2y.cache=new s8y();s2y.pending=new s8y();s2y.df=Galactic.DelimitedFile({rowDelimiter:"\n",columnDelimiter:"\t",columnNames:["path","timestamp","type"]});return s2y;}r8y(A8y,r2y);w6x(A8y,[{key:"doAdd",value:function(T2y){return new Promise(function(M2y,c2y){return T2y.path===this.path?M2y():this.initialize().then(function(o2y){try{return this.cache.add(T2y).then(function(O2y){try{return this.pending.add(T2y).then(function(g2y){try{return this.scheduleWrite().then(function(h2y){try{return M2y();}catch(y2y){return c2y(y2y);}}.bind(this),c2y);}catch(H2y){return c2y(H2y);}}.bind(this),c2y);}catch(q2y){return c2y(q2y);}}.bind(this),c2y);}catch(Z2y){return c2y(Z2y);}}.bind(this),c2y);}.bind(this));}},{key:"filter",value:function(E2y){return new Promise(function(j2y,u2y){return this.initialize().then(function(J2y){try{return j2y(this.cache.filter(E2y));}catch(S2y){return u2y(S2y);}}.bind(this),u2y);}.bind(this));}},{key:"records",value:function(){return new Promise(function(b2y,K2y){return this.initialize().then(function(t2y){try{return b2y(this.cache.records());}catch(C2y){return K2y(C2y);}}.bind(this),K2y);}.bind(this));}},{key:"flush",value:function(){return new Promise(function(f2y,N2y){this.cancelWrites();return this.initialize().then(function(B2y){try{return this.cache.flush().then(function(m2y){try{return this.pending.flush().then(function(l2y){try{return this.writeInitialFileContents().then(function(Q2y){try{return f2y();}catch(z2y){return N2y(z2y);}}.bind(this),N2y);}catch(D2y){return N2y(D2y);}}.bind(this),N2y);}catch(d2y){return N2y(d2y);}}.bind(this),N2y);}catch(X2y){return N2y(X2y);}}.bind(this),N2y);}.bind(this));}},{key:"initialize",value:function(){return new Promise(function(e2y,W2y){var F2y,p2y;F2y=this;if(this.initialized){return e2y();}this.initialized=true;var G2y=function(){try{return e2y();}catch(V2y){return W2y(V2y);}}.bind(this),U2y=function(P2y){try{return this.writeInitialFileContents().then(function(v2y){try{return G2y();}catch(L2y){return W2y(L2y);}}.bind(this),W2y);}catch(R2y){return W2y(R2y);}}.bind(this);try{return this.src.read(this.path,{as:"string"}).then(function(i2y){try{return p2y=i2y,this.df.read(p2y).forEach(function(a2y){a2y.path&&a2y.timestamp&&a2y.type&&F2y.cache.add(a2y);}),G2y();}catch(x2y){return U2y(x2y);}}.bind(this),U2y);}catch(k2y){U2y(k2y);}}.bind(this));}},{key:"writeInitialFileContents",value:function(){return this.src.write(this.path,"");}},{key:"cancelWrites",value:function(){clearTimeout(this.nextWriteTimeoutId);}},{key:"scheduleWrite",value:function(){this.cancelWrites();if(!this.writeDelay){return this.writeRecords();}this.nextWriteTimeoutId=setTimeout(this.writeRecords.bind(this),this.writeDelay);}},{key:"writeRecords",value:function(){return new Promise(function(A2y,w2y){var Y2y,r0y;return this.pending.records().then(function(s0y){try{Y2y=s0y;if(!Y2y.length){return A2y();}r0y=this.df.write(Y2y);return this.src.write(this.path,r0y+"\n",{append:true}).then(function(n0y){try{return this.pending.flush().then(function(I0y){try{return A2y();}catch(T0y){return w2y(T0y);}}.bind(this),w2y);}catch(c0y){return w2y(c0y);}}.bind(this),w2y);}catch(M0y){return w2y(M0y);}}.bind(this),w2y);}.bind(this));}}]);return A8y;}(k6x),n8y=sketch.store,T8y=function(O0y){function o0y(g0y){var h0y=g0y.id;g0y=I8y(g0y,["id"]);Y6x(this,o0y);g0y=A6x(this,(o0y.__proto__||Object.getPrototypeOf(o0y)).call(this,g0y));g0y.id=h0y;g0y.cache=[];return g0y;}r8y(o0y,O0y);w6x(o0y,[{key:"doAdd",value:function(y0y){return new Promise(function(q0y,H0y){return this.initialize().then(function(Z0y){try{return this.cache.push(y0y),n8y.set(this.id,this.cache).then(function(E0y){try{return q0y();}catch(u0y){return H0y(u0y);}}.bind(this),H0y);}catch(j0y){return H0y(j0y);}}.bind(this),H0y);}.bind(this));}},{key:"filter",value:function(J0y){return new Promise(function(K0y,S0y){return this.initialize().then(function(b0y){try{return K0y(this.cache.filter(J0y));}catch(t0y){return S0y(t0y);}}.bind(this),S0y);}.bind(this));}},{key:"records",value:function(){return new Promise(function(N0y,C0y){return this.initialize().then(function(f0y){try{return N0y(this.cache.slice(0));}catch(B0y){return C0y(B0y);}}.bind(this),C0y);}.bind(this));}},{key:"flush",value:function(){return new Promise(function(l0y,m0y){this.cache=[];return n8y.set(this.id,[]).then(function(Q0y){try{return l0y();}catch(z0y){return m0y(z0y);}}.bind(this),m0y);}.bind(this));}},{key:"initialize",value:function(){return new Promise(function(D0y,d0y){return this.isInitialized?D0y():n8y.get(this.id).then(function(X0y){try{return this.cache=X0y||[],this.isInitialized=true,D0y();}catch(W0y){return d0y(W0y);}}.bind(this),d0y);}.bind(this));}}]);return o0y;}(k6x);Galactic.fs=Galactic.fs||{};Galactic.fs.changes={ChangeLog:k6x,combine:function(U0y,G0y,e0y){return new Promise(function(a0y,P0y){function V0y(x0y,k0y,w0y){L0y.push({type:x0y.type,path:x0y.path,src:k0y,dest:w0y});}var F0y,p0y,L0y,R0y,i0y,v0y;F0y=U0y.src;p0y=G0y.src;L0y=[];return U0y.since(e0y).then(function(Y0y){try{return R0y=Y0y,G0y.since(e0y).then(function(s3y){try{i0y=s3y;v0y=new Set();for(var A0y in R0y){v0y.add(A0y);}for(var r3y in i0y){v0y.add(r3y);}v0y.forEach(function(T3y){var n3y=R0y[T3y],I3y=i0y[T3y];if(n3y&&"undefined"===typeof I3y){V0y(n3y,F0y,p0y);}else if(I3y&&"undefined"===typeof n3y){V0y(I3y,p0y,F0y);}else{var c3y=n3y.timestamp-I3y.timestamp;if(0<c3y){V0y(n3y,F0y,p0y);}else if(0===c3y){if("delete"===n3y.type||"delete"===I3y.type){V0y({type:"delete",path:T3y},F0y,p0y),V0y({type:"delete",path:T3y},p0y,F0y);}}else{0>c3y&&V0y(I3y,p0y,F0y);}}});return a0y(L0y);}catch(M3y){return P0y(M3y);}}.bind(this),P0y);}catch(o3y){return P0y(o3y);}}.bind(this),P0y);}.bind(this));},FileSystemLog:c8y,MemoryLog:s8y,PersistentLog:T8y};}();void function(){}();void function(){var g3y=function(N3y,f3y){if(!(N3y instanceof f3y)){throw new TypeError("Cannot call a class as a function");}},q3y=function(){function B3y(z3y,Q3y){for(var l3y=0;l3y<Q3y.length;l3y++){var m3y=Q3y[l3y];m3y.enumerable=m3y.enumerable||false;m3y.configurable=true;"value"in m3y&&(m3y.writable=true);Object.defineProperty(z3y,m3y.key,m3y);}}return function(D3y,d3y,X3y){d3y&&B3y(D3y.prototype,d3y);X3y&&B3y(D3y,X3y);return D3y;};}(),E3y=function(U3y,W3y){if("function"!==typeof W3y&&null!==W3y){throw new TypeError("Super expression must either be null or a function, not "+typeof W3y);}U3y.prototype=Object.create(W3y&&W3y.prototype,{constructor:{value:U3y,enumerable:false,writable:true,configurable:true}});W3y&&(Object.setPrototypeOf?Object.setPrototypeOf(U3y,W3y):U3y.__proto__=W3y);},j3y=function(e3y,G3y){if(!e3y){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return!G3y||"object"!==typeof G3y&&"function"!==typeof G3y?e3y:G3y;},H3y=function(F3y){if(Array.isArray(F3y)){for(var p3y=0,V3y=Array(F3y.length);p3y<F3y.length;p3y++){V3y[p3y]=F3y[p3y];}return V3y;}return Array.from(F3y);},y3y=function P3y(){g3y(this,P3y);return Error("DataEncodingError");},O3y=Galactic.fs,J3y=O3y.File,S3y=O3y.EntryList,u3y=sketch,h3y=u3y.convert,K3y=u3y.fileinfo,b3y=sketch.util.MD5File,t3y=sketch.string.dirparent,Z3y=function(L3y){function v3y(R3y){var x3y=R3y.connection,k3y=["connection"],a3y={},i3y;for(i3y in R3y){0<=k3y.indexOf(i3y)||Object.prototype.hasOwnProperty.call(R3y,i3y)&&(a3y[i3y]=R3y[i3y]);}g3y(this,v3y);R3y=j3y(this,(v3y.__proto__||Object.getPrototypeOf(v3y)).call(this,a3y));R3y.connection=x3y;return R3y;}E3y(v3y,L3y);q3y(v3y,[{key:"doFormatConversion",value:function(w3y,Y3y,A3y){switch(Y3y){case"previewUrl":return Promise.resolve(w3y.extra.previewUrl);default:return h3y.blob(w3y.extra.blob,Y3y);}}},{key:"doWrite",value:function(r5y,s5y,n5y,I5y){return new Promise(function(h5y,T5y){var y5y,q5y,o5y,M5y,O5y,H5y,c5y,Z5y,g5y;y5y=n5y.append;q5y=n5y.overwrite;o5y=new Date();M5y="text/plain";Galactic.is(s5y,"Blob")&&(M5y=s5y.type);O5y=[h3y.toBlob(s5y)];return this.read(r5y,{as:"blob",safetyNet:false}).then(function(E5y){try{if(H5y=E5y){if(!q5y){return h5y(Promise.resolve());}y5y&&O5y.unshift(H5y);}c5y=this.connection.fs;return c5y.ensureDir(t3y(r5y)).then(function(u5y){try{return Z5y=new Blob(O5y,{type:M5y}),this.encodeData(Z5y).then(function(j5y){try{return g5y=j5y,c5y.writeFile(r5y,g5y).then(function(J5y){try{return c5y.utimes(r5y,o5y,o5y).then(function(S5y){try{return h5y();}catch(K5y){return T5y(K5y);}}.bind(this),T5y);}catch(b5y){return T5y(b5y);}}.bind(this),T5y);}catch(t5y){return T5y(t5y);}}.bind(this),T5y);}catch(C5y){return T5y(C5y);}}.bind(this),T5y);}catch(N5y){return T5y(N5y);}}.bind(this),T5y);}.bind(this));}},{key:"doRead",value:function(f5y,B5y,m5y){return new Promise(function(d5y,Q5y){var l5y=this,z5y=B5y.as,D5y=B5y.safetyNet;Q5y=this.connection.fs;return d5y(Promise.join(Q5y.readFile(f5y),Q5y.stat(f5y),function(W5y,U5y){var G5y=U5y.mtime.getTime()-U5y.mtime.getMilliseconds(),X5y=l5y.decodeData(W5y,f5y);X5y._blobURL="file://"+f5y;return Promise.join(b3y(X5y),l5y.getPreviewUrlFromBuffer(W5y),function(e5y,F5y){return new J3y({path:f5y,digest:e5y,size:X5y.size,lastModified:G5y,src:l5y,extra:{blob:X5y,previewUrl:F5y}}).as(z5y);});}).catch(function(p5y){if(D5y){throw p5y;}}));}.bind(this));}},{key:"doDelete",value:function(V5y,P5y){return this.connection.fs.remove(V5y);}},{key:"doMove",value:function(v5y,L5y,R5y){return this.connection.fs.move(v5y,L5y);}},{key:"doCopy",value:function(i5y,a5y,x5y){return this.connection.fs.copy(i5y,a5y);}},{key:"doFind",value:function(w5y,k5y,I9y){var Y5y=this,A5y=k5y.as,r9y=k5y.into,s9y=k5y.filter,n9y=this.connection;return Promise.join(this.doGlobSearch(w5y),this.doGlobSearch(w5y+"/**/*"),function(T9y,c9y){return[].concat(H3y(T9y),H3y(c9y));}).then(function(M9y){return Promise.filter(M9y,function(o9y){return n9y.fs.stat(o9y).then(function(O9y){return O9y.isFile();});});}).then(function(g9y){return Promise.map(g9y,function(h9y){return Y5y.read(h9y,{as:"entry"});});}).then(function(y9y){return y9y.filter(s9y);}).then(function(q9y){var H9y=new S3y();H9y.add(q9y);return H9y.get({as:A5y,into:r9y});});}},{key:"doGlobSearch",value:function(E9y){var Z9y=this;return new Promise(function(u9y,j9y){return Z9y.connection.glob(E9y,function(J9y,S9y){J9y?j9y(J9y):u9y(S9y);});});}},{key:"encodeData",value:function(K9y){return new Promise(function(C9y,t9y){var b9y=new FileReader();b9y.onloadend=function N9y(f9y){b9y.removeEventListener("loadend",N9y,false);f9y.error?t9y(f9y.error):C9y(Buffer.from(b9y.result));};b9y.onerror=function(B9y){t9y(new y3y(B9y));};b9y.readAsArrayBuffer(K9y);});}},{key:"decodeData",value:function(l9y,m9y){if(l9y instanceof Buffer){m9y=K3y.fromString(m9y);var Q9y={};Galactic.isDefined(m9y,"mime")&&(Q9y.type=m9y.mime);return new Blob([l9y],Q9y);}return l9y;}},{key:"getPreviewUrlFromBuffer",value:function(z9y){z9y=Uint8Array.from(z9y).buffer;z9y=new Blob([z9y]);return h3y.blob.toDataURL(z9y);}}]);return v3y;}(O3y.FileSystem),C3y=function D9y(){g3y(this,D9y);var d9y=require("electron").remote.require;this.fs=d9y("fs-extra");this.glob=d9y("glob");},O3y=function(W9y){function X9y(){g3y(this,X9y);return j3y(this,(X9y.__proto__||Object.getPrototypeOf(X9y)).apply(this,arguments));}E3y(X9y,W9y);q3y(X9y,[{key:"doConnect",value:function(){this.connection=new C3y();return Promise.resolve();}},{key:"doMount",value:function(U9y){return new Promise(function(p9y,e9y){var F9y,G9y;F9y=U9y.id;G9y=U9y.root;return this.connection.fs.ensureDir(G9y).then(function(V9y){try{return p9y(new Z3y({id:F9y,root:G9y,connection:this.connection}));}catch(P9y){return e9y(P9y);}}.bind(this),e9y);}.bind(this));}},{key:"isSupported",get:function(){return global.process&&global.process.versions?!!global.process.versions.v8:false;}},{key:"isConnected",get:function(){return!!this.connection;}}]);return X9y;}(Galactic.fs.Adapter);Galactic.fs.adapters.v8={DataEncodingError:y3y,V8Adapter:O3y,V8FileSystem:Z3y};}();void function(){function u1y(K1y,b1y){return new Promise(function(C1y,t1y){function B1y(){function Q1y(){function z1y(){function D1y(){if(N1y&&f1y){return C1y(N1y===f1y);}if(K1y.size&&b1y.size){return C1y(K1y.size===b1y.size);}if(K1y.lastModified&&b1y.lastModified){return m1y=new Date(K1y.lastModifiedDate).getTime(),l1y=new Date(b1y.lastModifiedDate).getTime(),C1y(m1y===l1y);}console.error("UNHANDLED COMPARISON",K1y,b1y);return C1y(false);}return b1y instanceof Blob?Y9y(b1y).then(function(d1y){try{return f1y=d1y,D1y.call(this);}catch(X1y){return t1y(X1y);}}.bind(this),t1y):D1y.call(this);}f1y=void 0;b1y.digest&&(f1y=b1y.digest);return b1y.isFile&&"function"===typeof b1y.file?q1y(b1y).then(function(W1y){try{return b1y=W1y,z1y.call(this);}catch(U1y){return t1y(U1y);}}.bind(this),t1y):z1y.call(this);}return K1y instanceof Blob?Y9y(K1y).then(function(G1y){try{return N1y=G1y,Q1y.call(this);}catch(e1y){return t1y(e1y);}}.bind(this),t1y):Q1y.call(this);}var N1y,f1y,m1y,l1y;if("undefined"===typeof K1y||"undefined"===typeof b1y){return C1y(false);}N1y=void 0;K1y.digest&&(N1y=K1y.digest);return K1y.isFile&&"function"===typeof K1y.file?q1y(K1y).then(function(F1y){try{return K1y=F1y,B1y.call(this);}catch(p1y){return t1y(p1y);}}.bind(this),t1y):B1y.call(this);}.bind(this));}function q1y(V1y){return new Promise(function(P1y,v1y){return V1y.file(P1y,v1y);});}function E1y(L1y){return function(i1y,R1y){return new Promise(function(w1y,a1y){a1y=this.connection;var x1y=L9y.filename(R1y),k1y=L9y.dirparent(R1y);return w1y(Promise.join(a1y.getEntryAtPath(k1y),a1y.getEntryAtPath(i1y),function(Y1y,A1y){return new Promise(function(r4y,s4y){A1y[L1y](Y1y,x1y,r4y,function(n4y){console.error("Unable to run command",{command:L1y,err:n4y,from:i1y,to:R1y});s4y(n4y);});});}));}.bind(this));};}function S1y(){}function J1y(){var T4y=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},I4y=T4y.bePersistent,o4y=void 0===I4y?true:I4y,I4y=T4y.requestBytes,c4y=void 0===I4y?1073741824:I4y,M4y=T4y.rootUrl;return new Promise(function(h4y,O4y){function g4y(y4y,H4y){return new Promise(function(u4y,Z4y){function E4y(){h4y(new w9y(y4y,q4y,H4y));return u4y();}var q4y;q4y=y4y.root;return M4y?new Promise(function(j4y,J4y){H4y.fileSystemResolver(M4y,j4y,function(S4y){J4y(new ResolveError({domException:S4y,url:M4y}));});}).then(function(K4y){try{return q4y=K4y,E4y.call(this);}catch(b4y){return Z4y(b4y);}}.bind(this),Z4y):E4y.call(this);}.bind(this));}T1y?global.chrome.syncFileSystem.requestFileSystem(function(t4y){g4y(t4y,{isDataPersistent:true,isSyncingWithGoogle:true,fileSystemResolver:j1y});}):false!==o4y?g1y?navigator.persistentStorage.requestQuota(c4y,function(C4y){C4y?requestFileSystem(global.PERSISTENT,C4y,function(N4y){g4y(N4y,{isDataPersistent:true,isSyncingWithGoogle:false,fileSystemResolver:resolveLocalFileSystemURL});},O4y):O4y(Error("requestQuota failed"));},O4y):requestFileSystem(global.PERSISTENT,c4y,function(f4y){g4y(f4y,{isDataPersistent:true,isSyncingWithGoogle:false,fileSystemResolver:resolveLocalFileSystemURL});},O4y):requestFileSystem(global.TEMPORARY,c4y,function(B4y){g4y(B4y,{isDataPersistent:false,isSyncingWithGoogle:false,fileSystemResolver:resolveLocalFileSystemURL});},O4y);});}function j1y(m4y,D4y,l4y){function Q4y(X4y){var d4y=m4y.shift();X4y.getDirectory(d4y,{},z4y,function(W4y){"TypeMismatchError"===W4y.name?X4y.getFile(d4y,{},z4y,l4y):l4y(W4y);});}function z4y(U4y){m4y.length?Q4y(U4y):D4y(U4y);}m4y=m4y.replace(this.rootUrl,"").split("/");Q4y(this.backing.root);}var Y9y=sketch.util.MD5File,i9y=function(G4y,e4y){if(!(G4y instanceof e4y)){throw new TypeError("Cannot call a class as a function");}},x9y=function(){function F4y(v4y,P4y){for(var V4y=0;V4y<P4y.length;V4y++){var p4y=P4y[V4y];p4y.enumerable=p4y.enumerable||false;p4y.configurable=true;"value"in p4y&&(p4y.writable=true);Object.defineProperty(v4y,p4y.key,p4y);}}return function(L4y,R4y,i4y){R4y&&F4y(L4y.prototype,R4y);i4y&&F4y(L4y,i4y);return L4y;};}(),H1y=Object.assign||function(w4y){for(var a4y=1;a4y<arguments.length;a4y++){var x4y=arguments[a4y],k4y;for(k4y in x4y){Object.prototype.hasOwnProperty.call(x4y,k4y)&&(w4y[k4y]=x4y[k4y]);}}return w4y;},a9y=function(A4y,Y4y){if("function"!==typeof Y4y&&null!==Y4y){throw new TypeError("Super expression must either be null or a function, not "+typeof Y4y);}A4y.prototype=Object.create(Y4y&&Y4y.prototype,{constructor:{value:A4y,enumerable:false,writable:true,configurable:true}});Y4y&&(Object.setPrototypeOf?Object.setPrototypeOf(A4y,Y4y):A4y.__proto__=Y4y);},k9y=function(s7y,r7y){if(!s7y){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return!r7y||"object"!==typeof r7y&&"function"!==typeof r7y?s7y:r7y;},I1y=sketch.convert,L9y=sketch.string,v9y=Galactic.fs,M1y=v9y.EntryList,o1y=v9y.EntryNotFound,O1y=sketch.util.MD5File,A9y=Galactic.fs,h1y=A9y.File,y1y=A9y.Folder,r1y=sketch.agent,R9y=function(I7y){function n7y(T7y){var o7y=T7y.connection,O7y=["connection"],M7y={},c7y;for(c7y in T7y){0<=O7y.indexOf(c7y)||Object.prototype.hasOwnProperty.call(T7y,c7y)&&(M7y[c7y]=T7y[c7y]);}i9y(this,n7y);T7y=k9y(this,(n7y.__proto__||Object.getPrototypeOf(n7y)).call(this,M7y));T7y.connection=o7y;return T7y;}a9y(n7y,I7y);x9y(n7y,[{key:"doFormatConversion",value:function(g7y,h7y){return new Promise(function(q7y,y7y){var H7y=g7y.extra;y7y=H7y.blob;H7y=H7y.previewUrl;switch(h7y){case"previewUrl":return q7y(Promise.resolve(H7y));case"blob":return y7y.fullPath||(y7y.fullPath=g7y.path),y7y.nativeURL||(y7y.nativeURL=g7y.nativeURL),q7y(Promise.resolve(y7y));default:return q7y(I1y.blob(y7y,h7y));}}.bind(this));}},{key:"absoluteUrl",value:function(){var Z7y=""+this.connection.fileSystemRootUrl+this.root+"/";if("string"!==typeof Z7y){throw new TypeError("Path must be a string.");}if(!Z7y){throw Error("Path must not be empty.");}Z7y=Z7y.replace(/[\\\/]+/g,"/");return Promise.resolve(Z7y);}},{key:"doRead",value:function(E7y,u7y){var j7y=u7y.as,J7y=u7y.safetyNet;return this.connection.getEntryAtPath(E7y).then(this.getGalacticEntryFromChromeEntry.bind(this)).then(function(S7y){return S7y.as(j7y);}).catch(function(){if(J7y){throw new o1y({path:E7y});}});}},{key:"doWrite",value:function(b7y,K7y,t7y,C7y){return new Promise(function(m7y,N7y){function d7y(){B7y=this.connection;return B7y.ensureDirectoryExists(W7y).then(function(e7y){try{return X7y=e7y,B7y.getOrCreateFileAtPath(D7y,{parent:X7y}).then(function(F7y){try{return f7y=F7y,u1y(K7y,f7y).then(function(p7y){try{return(G7y=p7y)?m7y():m7y(new Promise(function(P7y,V7y){f7y.createWriter(function(v7y){function L7y(){l7y(1);P7y(f7y);}v7y.onprogress=function(R7y){l7y(Math.min(1,R7y.loaded/R7y.total));};v7y.onerror=V7y;z7y?(v7y.onwriteend=L7y,v7y.seek(v7y.length),v7y.write(K7y)):(v7y.onwriteend=function(){v7y.onwriteend=L7y;v7y.write(K7y);},v7y.truncate(0));},V7y);}));}catch(i7y){return N7y(i7y);}}.bind(this),N7y);}catch(a7y){return N7y(a7y);}}.bind(this),N7y);}catch(x7y){return N7y(x7y);}}.bind(this),N7y);}var z7y,Q7y,l7y,W7y,D7y,U7y,B7y,X7y,f7y,G7y;z7y=t7y.append;Q7y=t7y.overwrite;l7y=C7y.onProgress;W7y=L9y.dirpath(b7y).trim();D7y=L9y.filename(b7y);"string"===typeof K7y&&(K7y=new Blob([K7y],{type:"text/plain"}));return Q7y?d7y.call(this):this.read(b7y,{as:"entry",safetyNet:false}).then(function(k7y){try{return(U7y=k7y)?m7y(Promise.resolve()):d7y.call(this);}catch(w7y){return N7y(w7y);}}.bind(this),N7y);}.bind(this));}},{key:"doDelete",value:function(Y7y){return new Promise(function(I6y,A7y){var s6y,r6y,n6y;s6y=this;return this.connection.getEntryAtPath(Y7y).then(function(c6y){try{var T6y=function(){return this.deleteEntry(r6y).then(function(M6y){try{return this.emit("delete",{path:Y7y}),I6y();}catch(o6y){return A7y(o6y);}}.bind(this),A7y);};r6y=c6y;return r6y.isDirectory?this.findEntriesInDirectory(r6y).then(function(O6y){try{return n6y=O6y,n6y.forEach(function(g6y){s6y.emit("delete",{path:s6y.internalPath(g6y.fullPath)});}),T6y.call(this);}catch(h6y){return A7y(h6y);}}.bind(this),A7y):T6y.call(this);}catch(y6y){return A7y(y6y);}}.bind(this),A7y);}.bind(this));}},{key:"doFind",value:function(S6y,q6y,K6y){function Z6y(t6y){var b6y=arguments;return new Promise(function(z6y,C6y){function B6y(){m6y(1);return z6y(N6y);}var N6y,m6y,l6y,f6y,Q6y;N6y=1<b6y.length&&void 0!==b6y[1]?b6y[1]:[];m6y=J6y.getChunk();if(t6y.isFile){return H6y.getGalacticEntryFromChromeEntry(t6y).then(function(D6y){try{return l6y=D6y,N6y.push(l6y),B6y.call(this);}catch(d6y){return C6y(d6y);}}.bind(this),C6y);}f6y=new Set();return H6y.findEntriesInDirectory(t6y).then(function(X6y){try{return Q6y=X6y,Promise.each(Q6y,function(W6y){return new Promise(function(U6y,G6y){var e6y;return W6y.isDirectory?(f6y.add(W6y),U6y()):H6y.getGalacticEntryFromChromeEntry(W6y).then(function(F6y){try{return e6y=F6y,N6y.push(e6y),U6y();}catch(p6y){return G6y(p6y);}}.bind(this),G6y);}.bind(this));}).then(function(V6y){try{return Promise.map(f6y.values(),function(P6y){return Z6y(P6y,N6y);}).then(function(v6y){try{return B6y.call(this);}catch(L6y){return C6y(L6y);}}.bind(this),C6y);}catch(R6y){return C6y(R6y);}}.bind(this),C6y);}catch(i6y){return C6y(i6y);}}.bind(this),C6y);}.bind(this));}var E6y=q6y.as,u6y=q6y.into,j6y=q6y.filter,J6y=Galactic.chunkedAccumulator({onProgress:K6y.onProgress}),H6y=this;return this.connection.getEntryAtPath(S6y).then(Z6y).catch(function(){console.log("An error occurred",arguments);return[];}).filter(function(a6y){return j6y(a6y);}).then(M1y.fromArray).then(function(x6y){return x6y.get({into:u6y,as:E6y});});}},{key:"findEntriesInDirectory",value:function(k6y){return new Promise(function(r87,s87){function Y6y(){A6y.readEntries(function(n87){n87.length?(w6y=w6y.concat(n87),Y6y()):r87(w6y);},s87);}var w6y=[],A6y=k6y.createReader();Y6y();});}},{key:"deleteEntry",value:function(I87){return new Promise(function(T87,c87){I87[I87.isFile?"remove":"removeRecursively"](T87,c87);});}},{key:"getGalacticEntryFromChromeEntry",value:function(M87){return new Promise(function(h87,y87){var H87,O87,o87,g87;H87=this;O87=M87.fullPath;this.root.startsWith("/")||(O87=L9y.trimLeft(M87.fullPath,"/"));return M87.isDirectory?h87(new y1y({path:O87,src:src})):new Promise(function(q87){return M87.file(function(Z87){return q87(Z87);});}).then(function(E87){try{return o87=E87,g87=void 0,g87=r1y.cordova&&r1y.ios?new Promise(function(j87,J87){var u87=new FileReader();u87.onloadend=function(){j87(new Blob([u87.result],{type:o87.type}));};u87.onerror=function(){console.error("fileReader.onerror",arguments,this);J87();};u87.readAsArrayBuffer(o87);}):sketch.fileinfo(o87).catch(S1y).then(function(K87){var S87={};Galactic.isDefined(K87,"mime")&&(S87.type=K87.mime);return new Blob([o87],S87);}),h87(Promise.join(O1y(o87),g87,function(C87,t87){var b87=new Date(o87.lastModified),b87=b87.getTime()-b87.getMilliseconds();return new h1y({path:O87,size:t87.size,digest:C87,lastModified:b87,extra:{blob:t87,previewUrl:M87.toURL()},src:H87});}));}catch(N87){return y87(N87);}}.bind(this),y87);}.bind(this));}}]);return n7y;}(v9y.FileSystem);R9y.prototype.doMove=E1y("moveTo");R9y.prototype.doCopy=E1y("copyTo");var Z1y=function(B87){function f87(m87){var Q87=m87.domException;m87=m87.url;i9y(this,f87);var l87=k9y(this,(f87.__proto__||Object.getPrototypeOf(f87)).call(this,"Unable to resolve FileSystem URL"));l87.domException=Q87;l87.url=m87;return l87;}a9y(f87,B87);return f87;}(Error),v9y=sketch.string,n1y=v9y.trimLeft,c1y=v9y.toAlphaNumeric,s1y={create:true,exclusive:false},w9y=function(){function z87(W87,U87,D87){var d87=D87.isDataPersistent,X87=D87.isSyncingWithGoogle;D87=D87.fileSystemResolver;i9y(this,z87);this.backing=W87;this.rootDirectory=U87;this.resolveFileSystemUrl=D87;this.isDataPersistent=d87;this.isSyncingWithGoogle=X87;}x9y(z87,[{key:"rebasePathOnRootUrl",value:function(){var G87=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e87=this.rootDirectory.toURL(),F87=e87.split(":").shift();return G87.startsWith(F87+":")?G87:c1y(G87)?e87+n1y(G87,"/"):G87;}},{key:"getEntryAtPath",value:function(V87){var p87=this;return new Promise(function(v87,L87){var P87=p87.rebasePathOnRootUrl(V87);p87.resolveFileSystemUrl.call(null,P87,v87,function(R87){L87(new Z1y({domException:R87,url:P87}));});});}},{key:"getOrCreateFileAtPath",value:function(x87){var a87=this,i87=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).parent;return new Promise(function(k87,w87){i87||(i87=a87.rootDirectory);i87.getFile(x87,s1y,k87,w87);});}},{key:"getOrCreateDirectoryAtPath",value:function(r27){var A87=this,Y87=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).parent;return new Promise(function(s27,n27){Y87||(Y87=A87.rootDirectory);Y87.getDirectory(r27,s1y,s27,n27);});}},{key:"ensureDirectoryExists",value:function(I27){return new Promise(function(g27,T27){var O27,c27;O27=this;I27=n1y(I27.replace(this.rootDirectory.toURL(),""),"/");c27=void 0;var o27=function(){try{return g27(c27);}catch(h27){return T27(h27);}}.bind(this),M27=function(y27){try{return Promise.reduce(I27.split("/"),function(H27,q27){return O27.getOrCreateDirectoryAtPath(q27,{parent:H27});}).then(function(Z27){try{return c27=Z27,o27();}catch(E27){return T27(E27);}}.bind(this),T27);}catch(u27){return T27(u27);}}.bind(this);try{return this.getOrCreateDirectoryAtPath(I27).then(function(j27){try{return c27=j27,o27();}catch(J27){return M27(J27);}}.bind(this),M27);}catch(S27){M27(S27);}}.bind(this));}},{key:"fileSystemRootUrl",get:function(){return this.rootDirectory.toURL();}}]);return z87;}(),v9y=Galactic.isDefined,T1y=v9y("chrome.syncFileSystem.requestFileSystem"),g1y=v9y("navigator.persistentStorage"),v9y=function(b27){function K27(){var C27=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};i9y(this,K27);var t27=k9y(this,(K27.__proto__||Object.getPrototypeOf(K27)).call(this));t27.rootUrl=C27.rootUrl;return t27;}a9y(K27,b27);x9y(K27,[{key:"doConnect",value:function(f27,B27){var N27=this;return J1y(H1y({},f27,{rootUrl:this.rootUrl})).then(function(m27){return N27.connection=m27;});}},{key:"doMount",value:function(l27,Q27){var d27=l27.id;Q27=l27.root;var z27=void 0===Q27?"/":Q27,X27=l27.order,D27=this.connection;return D27.ensureDirectoryExists(z27).then(function(){return new R9y({id:d27,root:z27,order:X27,connection:D27});});}},{key:"isSupported",get:function(){var U27=sketch.agent,W27=Galactic.isDefined,G27=W27("chrome.syncFileSystem.requestFileSystem");return W27("requestFileSystem")||G27?!U27.incognito:false;}},{key:"isConnected",get:function(){return!!this.connection;}}]);return K27;}(Galactic.fs.Adapter);Galactic.fs.adapters.chrome={ChromeAdapter:v9y,ChromeFileSystem:R9y,ChromeConnection:w9y};}();(function(F27){function c07(h07){h07=h07.split(",");var H07=atob(h07[1]);h07=h07[0].split(":")[1].split(";")[0];for(var q07=new ArrayBuffer(H07.length),Z07=new Uint8Array(q07),y07=0;y07<H07.length;y07++){Z07[y07]=H07.charCodeAt(y07);}return new Blob([q07],{type:h07});}function M07(u07,j07){var E07=new window.FileReader();E07.readAsDataURL(u07);E07.onloadend=function(){j07(E07.result);};}function a27(K07){var J07=K07.code,S07=K07.name;Object.defineProperty(this,"code",{set:function(b07){J07=b07;},get:function(){return J07;}});Object.defineProperty(this,"name",{set:function(t07){S07=t07;},get:function(){return S07;}});}function A27(f07,N07){var C07=N07;N07[0]!=e27&&(C07=f07,C07=f07!=e27?C07+(e27+N07):C07+N07);f07=C07.split(e27);for(N07=0;N07<f07.length;++N07){".."==f07[N07]&&(f07[N07-1]="",f07[N07]="");}C07=f07.filter(function(B07){return B07;}).join(e27);C07[0]!=e27&&(C07=e27+C07);C07=C07.replace(/\.\//g,e27);C07=C07.replace(/\/\//g,e27);C07=C07.replace(/\/\./g,e27);C07[C07.length-1]==e27&&C07!=e27&&(C07=C07.substring(0,C07.length-1));return C07;}function r07(l07){var m07=null;this.size=l07.size||0;this.name=l07.name||"";this.type=l07.type||"";this.lastModifiedDate=l07.lastModifiedDate||new Date();this.lastModified=new Date(this.lastModifiedDate).getTime();Object.defineProperty(this,"blob_",{enumerable:true,get:function(){return m07;},set:function(Q07){m07=Q07;this.size=m07.size;this.name=m07.name||l07.name;this.type=m07.type||l07.type;this.lastModifiedDate=m07.lastModifiedDate;this.lastModified=new Date(this.lastModifiedDate).getTime();}.bind(this)});}function o07(d07){if(!d07){throw Error("Expected fileEntry argument to write.");}var D07=0,z07=d07.file_?d07.file_.blob_:null;Object.defineProperty(this,"position",{get:function(){return D07;}});Object.defineProperty(this,"length",{get:function(){return z07?z07.size:0;}});this.seek=function(X07){D07=X07;D07>this.length&&(D07=this.length);0>D07&&(D07+=this.length);0>D07&&(D07=0);};this.truncate=function(W07){z07=z07?W07<this.length?z07.slice(0,W07):new Blob([z07,new Uint8Array(W07-this.length)],{type:z07.type}):new Blob([]);D07=0;this.write(z07);};this.write=function(U07){if(!U07){throw Error("Expected blob argument to write.");}if(this.onwritestart){this.onwritestart();}if(z07){var G07=z07.slice(0,D07),F07=z07.slice(D07+U07.size),e07=D07-G07.size;0>e07&&(e07=0);z07=new Blob([G07,new Uint8Array(e07),U07,F07],{type:z07.type});}else{z07=new Blob([U07],{type:U07.type});}G07=function(p07){d07.file_.blob_=p07;d07.file_.lastModifiedDate=U07.lastModifiedDate||new Date();d07.file_.lastModified=new Date(d07.file_.lastModifiedDate).getTime();p27.put(d07,function(V07){d07.file_.blob_=z07;D07+=U07.size;if(this.onwriteend){this.onwriteend();}}.bind(this),this.onerror);}.bind(this);k27.shimBlob?M07(z07,G07):G07(z07);};}function O07(v07){var P07=false;this.readEntries=function(L07,R07){if(!L07){throw Error("Expected successCallback argument.");}P07?L07([]):p27.getAllEntries(v07.fullPath,function(i07){P07=true;L07(i07);},R07);};}function s07(a07,x07){this.modificationTime_=a07||null;this.size_=x07||0;}function w27(){}function P27(k07){this.file_=null;Object.defineProperty(this,"isFile",{enumerable:true,get:function(){return true;}});Object.defineProperty(this,"isDirectory",{enumerable:true,get:function(){return false;}});k07&&(this.file_=k07.file_,this.name=k07.name,this.fullPath=k07.fullPath,this.filesystem=k07.filesystem,"string"===typeof this.file_.blob_&&(this.file_.blob_=c07(this.file_.blob_)));}function V27(w07){Object.defineProperty(this,"isFile",{enumerable:true,get:function(){return false;}});Object.defineProperty(this,"isDirectory",{enumerable:true,get:function(){return true;}});w07&&(this.name=w07.name,this.fullPath=w07.fullPath,this.filesystem=w07.filesystem);}function g07(Y07,A07){Y27=Y07==F27.TEMPORARY?"Temporary":"Persistent";this.name=(location.protocol+location.host).replace(/:/g,"_")+":"+Y27;this.root=new V27();this.root.fullPath=e27;this.root.filesystem=this;this.root.name="";}function k27(r37,n37,I37,s37){r37!=F27.TEMPORARY&&r37!=F27.PERSISTENT&&s37?s37(R27):(i27=new g07(r37,n37),p27.open(i27.name,function(T37){I37(i27);},s37));}function I07(){return"filesystem:"+(location.protocol+"//"+location.host)+e27+Y27.toLowerCase();}function T07(c37,o37,M37){c37=c37.replace(I07(),"");"/"===c37.substr(-1)&&(c37=c37.slice(0,-1));p27.get(c37,function(O37){if(O37){if(O37.isFile){return o37(new P27(O37));}if(O37.isDirectory){return o37(new V27(O37));}}else{M37&&M37(x27);}},M37);}function v27(g37){switch(g37.target.errorCode){case 12:console.error("Error - Attempt to open db with a lower version than the current one.");break;default:console.error("errorCode: "+g37.target.errorCode);}}if(!F27.requestFileSystem&&!F27.webkitRequestFileSystem){var L27=F27.indexedDB||F27.mozIndexedDB||F27.msIndexedDB;if(L27&&L27.deleteDatabase){(function(){var h37="blob-support-"+Math.random();L27.deleteDatabase(h37).onsuccess=function(){var y37=L27.open(h37,1);y37.onerror=function(){k27.shimBlob=true;};y37.onsuccess=function(){var H37=y37.result;try{var q37=new Blob([""],{type:"text/plain"});H37.transaction("store","readwrite").objectStore("store").put(q37,"key");k27.shimBlob=false;}catch(Z37){k27.shimBlob=true;}finally{H37.close(),L27.deleteDatabase(h37);}};y37.onupgradeneeded=function(){y37.result.createObjectStore("store");};};}());F27.PERSISTENT||(F27.TEMPORARY=0,F27.PERSISTENT=1);void 0===F27.FileError&&(window.FileError=function(){},FileError.prototype.prototype=Error.prototype);FileError.INVALID_MODIFICATION_ERR||(FileError.INVALID_MODIFICATION_ERR=9,FileError.NOT_FOUND_ERR=1);a27.prototype=FileError.prototype;a27.prototype.toString=Error.prototype.toString;var R27=new a27({code:FileError.INVALID_MODIFICATION_ERR,name:"INVALID_MODIFICATION_ERR"});new a27({code:1E3,name:"Not implemented"});var x27=new a27({code:FileError.NOT_FOUND_ERR,name:"Not found"}),i27=null,Y27="Temporary",p27={db:null},e27="/",n07=String.fromCharCode(e27.charCodeAt(0)+1);r07.prototype.constructor=r07;s07.prototype={get modificationTime(){return this.modificationTime_;},get size(){return this.size_;}};w27.prototype={name:null,fullPath:null,filesystem:null,getMetadata:function(u37,E37){if(!u37){throw Error("Expected successCallback argument.");}try{this.isFile?u37(new s07(this.file_.lastModifiedDate,this.file_.size)):E37(new a27({code:1001,name:"getMetadata() not implemented for DirectoryEntry"}));}catch(j37){E37&&E37(j37);}},getParent:function(S37,K37){var J37=this.fullPath.replace(/([^:]\/)\/+/g,"$1").replace(/\/[^\/]*$/,"").replace(/\/+$/,"");T07(J37,S37,K37);},copyTo:function(N37,f37,B37,b37){function t37(m37,Q37,z37,l37){m37.isDirectory?Q37.getDirectory(z37,{create:true},function(D37){m37.createReader().readEntries(function(X37){var d37=X37.length;(function W37(){if(0>--d37){l37&&l37();}else{var U37=X37[d37];U37.isDirectory?t37(U37,D37,U37.name,W37):U37.file(function(G37){C37(D37,G37,U37.name,W37);},b37);}}());},b37);},b37):m37.file(function(e37){C37(Q37,e37,z37,l37);},b37);}function C37(F37,p37,V37,P37){F37.getFile(V37,{create:true},function(v37){v37.createWriter(function(L37){L37.onwriteend=P37;L37.onerror=b37;L37.write(p37);},b37);},b37);}t37(this,N37,f37,B37);},moveTo:function(a37,x37,k37,i37){var R37=this;R37.copyTo(a37,x37,function(){R37.remove(k37,i37);},i37);},remove:function(w37,Y37){if(!w37){throw Error("Expected successCallback argument.");}p27["delete"](this.fullPath,function(){w37();},Y37);},toURL:function(){if(this.file_){var A37=this.file_.blob_;if(!A37){return I07()+this.fullPath;}A37.objectURL=A37.objectURL||URL.createObjectURL(A37);return A37.objectURL;}return I07()+this.fullPath;}};P27.prototype=new w27();P27.prototype.constructor=P27;P27.prototype.createWriter=function(r57){r57(new o07(this));};P27.prototype.file=function(n57,s57){if(!n57){throw Error("Expected successCallback argument.");}if(null==this.file_){if(s57){s57(x27);}else{throw x27;}}else{s57=null==this.file_.blob_?new Blob([]):this.file_.blob_,s57.lastModifiedDate=this.file_.lastModifiedDate,s57.lastModified=new Date(s57.lastModifiedDate).getTime(),s57.name=this.name,n57(s57);}};V27.prototype=new w27();V27.prototype.constructor=V27;V27.prototype.createReader=function(){return new O07(this);};V27.prototype.getDirectory=function(c57,T57,M57,I57){c57=A27(this.fullPath,c57);var o57=function(g57){g57();},O57=c57.split(e27).slice(0,-1).join(e27);c57!==e27&&O57.length&&(o57=function(h57){p27.get(O57,function(y57){y57?h57():I57("Parent does not exist");});});o57(function(){p27.get(c57,function(H57){T57||(T57={});true===T57.create&&true===T57.exclusive&&H57?I57&&I57(R27):true!==T57.create||H57?true===T57.create&&H57?H57.isDirectory?M57(new V27(H57)):I57&&I57(R27):T57.create&&false!==T57.create||H57?T57.create&&false!==T57.create||!H57||!H57.isFile?M57(new V27(H57)):I57&&I57(R27):c57==e27?(H57=new V27(),H57.name="",H57.fullPath=e27,H57.filesystem=i27,M57(H57)):I57&&I57(x27):(H57=new V27(),H57.name=c57.split(e27).pop(),H57.fullPath=c57,H57.filesystem=i27,p27.put(H57,M57,I57));},I57);});};V27.prototype.getFile=function(E57,Z57,u57,q57){E57=A27(this.fullPath,E57);var j57=function(S57){S57();},J57=E57.split(e27).slice(0,-1).join(e27);E57!==e27&&J57.length&&(j57=function(K57){p27.get(J57,function(b57){b57?K57():q57("Parent does not exist");});});j57(function(){p27.get(E57,function(t57){Z57||(Z57={});true===Z57.create&&true===Z57.exclusive&&t57?q57&&q57(R27):true!==Z57.create||t57?true===Z57.create&&t57?t57.isFile?u57(new P27(t57)):q57&&q57(R27):Z57.create&&false!==Z57.create||t57?Z57.create&&false!==Z57.create||!t57||!t57.isDirectory?u57(new P27(t57)):q57&&q57(R27):q57&&q57(x27):(t57=new P27(),t57.name=E57.split(e27).pop(),t57.fullPath=E57,t57.filesystem=i27,t57.file_=new r07({size:0,name:t57.name,lastModifiedDate:new Date()}),p27.put(t57,u57,q57));},q57);});};V27.prototype.removeRecursively=function(C57,N57){if(!C57){throw Error("Expected successCallback argument.");}this.remove(C57,N57);};p27.open=function(B57,l57,m57){var f57=this;B57=L27.open(B57.replace(":","_"),2);B57.onerror=m57||v27;B57.onupgradeneeded=function(Q57){f57.db=Q57.target.result;f57.db.onerror=v27;f57.db.objectStoreNames.contains("entries")||f57.db.createObjectStore("entries");};B57.onsuccess=function(z57){f57.db=z57.target.result;f57.db.onerror=v27;f57.db.transaction(["entries"],"readonly");l57(z57);};B57.onblocked=m57||v27;};p27.close=function(){this.db.close();this.db=null;};p27.drop=function(d57,X57){if(this.db){var D57=L27.deleteDatabase(this.db.name);D57.onsuccess=function(W57){d57(W57);};D57.onerror=X57||v27;p27.close();}};p27.get=function(G57,F57,p57){if(this.db){var U57=this.db.transaction(["entries"],"readonly");G57=IDBKeyRange.only(G57);var e57=U57.objectStore("entries").get(G57);U57.onabort=p57||v27;U57.oncomplete=function(V57){F57(e57.result);};}};p27.getAllEntries=function(P57,i57,a57){if(this.db){var v57=[],R57=null;P57!==e27&&(R57=IDBKeyRange.bound(P57+e27,P57+n07,false,true));var L57=this.db.transaction(["entries"],"readonly");L57.onabort=a57||v27;L57.oncomplete=function(x57){v57=v57.filter(function(Y57){var k57=Y57.fullPath.split(e27).length,w57=P57.split(e27).length;if(P57==e27&&k57<w57+1||P57!=e27&&k57==w57+1){return Y57;}});i57(v57);};L57.objectStore("entries").openCursor(R57).onsuccess=function(A57){if(A57=A57.target.result){var r97=A57.value;v57.push(r97.isFile?new P27(r97):new V27(r97));A57["continue"]();}};}};p27["delete"]=function(s97,I97,T97){if(this.db){var n97=this.db.transaction(["entries"],"readwrite");n97.oncomplete=I97;n97.onabort=T97||v27;s97=IDBKeyRange.bound(s97,s97+n07,false,true);n97.objectStore("entries")["delete"](s97);}};p27.put=function(M97,o97,O97){if(this.db){var c97=this.db.transaction(["entries"],"readwrite");c97.onabort=O97||v27;c97.oncomplete=function(g97){o97(M97);};c97.objectStore("entries").put(M97,M97.fullPath);}};F27.addEventListener("beforeunload",function(h97){p27.db&&p27.db.close();},false);F27.requestFileSystem=k27;F27.requestFileSystem.isUsingIndexedDbShim=true;F27.resolveLocalFileSystemURL=T07;F27.isUsingIndexedDbShim=true;F27.indexedDbShim={activeConnection:p27};F27===window&&F27.RUNNING_TESTS&&(F27.Entry=w27,F27.FileEntry=P27,F27.DirectoryEntry=V27,F27.resolveToFullPath_=A27,F27.Metadata=s07);}}}(self));void function(){function Q97(z97){return new Promise(function(d97){var D97=indexedDB.open("Galactic.filesystem.adapters.idb.tests",Date.now());D97.onupgradeneeded=function(){var X97=D97.result;X97.objectStoreNames.contains("tests")||X97.createObjectStore("tests",{keyPath:"test"});};D97.onerror=function(){d97(false);};D97.onsuccess=function(){z97(D97.result).tap(function(){D97.result.close();indexedDB.deleteDatabase("Galactic.filesystem.adapters.idb.tests");}).then(d97);};});}function C97(){return Q97(function(W97){return new Promise(function(G97){var U97=W97.transaction("tests","readwrite");U97.oncomplete=function(){return G97(true);};U97.onabort=function(){return G97(false);};U97.onerror=function(){return G97(false);};var e97=m97.toBlob("Hello","text/plain");U97.objectStore("tests").put({test:"testCanStoreBlobs",blob:e97});});});}var y97=function(F97,p97){if(!(F97 instanceof p97)){throw new TypeError("Cannot call a class as a function");}},u97=function(){function V97(R97,L97){for(var v97=0;v97<L97.length;v97++){var P97=L97[v97];P97.enumerable=P97.enumerable||false;P97.configurable=true;"value"in P97&&(P97.writable=true);Object.defineProperty(R97,P97.key,P97);}}return function(i97,a97,x97){a97&&V97(i97.prototype,a97);x97&&V97(i97,x97);return i97;};}(),j97=Object.assign||function(A97){for(var k97=1;k97<arguments.length;k97++){var w97=arguments[k97],Y97;for(Y97 in w97){Object.prototype.hasOwnProperty.call(w97,Y97)&&(A97[Y97]=w97[Y97]);}}return A97;},Z97=function(s17,r17){if("function"!==typeof r17&&null!==r17){throw new TypeError("Super expression must either be null or a function, not "+typeof r17);}s17.prototype=Object.create(r17&&r17.prototype,{constructor:{value:s17,enumerable:false,writable:true,configurable:true}});r17&&(Object.setPrototypeOf?Object.setPrototypeOf(s17,r17):s17.__proto__=r17);},E97=function(I17,n17){if(!I17){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return!n17||"object"!==typeof n17&&"function"!==typeof n17?I17:n17;},H97=function(){return function(T17,h17){if(Array.isArray(T17)){return T17;}j.initSymbol();j.initSymbolIterator();if(Symbol.iterator in Object(T17)){var c17=[],M17=true,O17=false,g17=void 0;try{j.initSymbol();j.initSymbolIterator();for(var o17=T17[Symbol.iterator](),y17;!(M17=(y17=o17.next()).done)&&(c17.push(y17.value),!h17||c17.length!==h17);M17=true){;}}catch(H17){O17=true,g17=H17;}finally{try{if(!M17&&o17["return"]){o17["return"]();}}finally{if(O17){throw g17;}}}return c17;}throw new TypeError("Invalid attempt to destructure non-iterable instance");};}(),B97=function(Z17){function q17(E17){E17=E17.path;y97(this,q17);var u17=E97(this,(q17.__proto__||Object.getPrototypeOf(q17)).call(this,"An entry could not be found"));u17.path=E17;return u17;}Z97(q17,Z17);return q17;}(Error);(function(J17){function j17(){y97(this,j17);return E97(this,(j17.__proto__||Object.getPrototypeOf(j17)).apply(this,arguments));}Z97(j17,J17);return j17;}(Error));(function(K17){function S17(){y97(this,S17);return E97(this,(S17.__proto__||Object.getPrototypeOf(S17)).apply(this,arguments));}Z97(S17,K17);return S17;}(Error));var S97=sketch.convert,l97=sketch.util.MD5File,q97=Galactic.fs,N97=q97.File,f97=q97.EntryList,K97=function(t17){function b17(C17){var B17=C17.connection,m17=["connection"],f17={},N17;for(N17 in C17){0<=m17.indexOf(N17)||Object.prototype.hasOwnProperty.call(C17,N17)&&(f17[N17]=C17[N17]);}y97(this,b17);C17=E97(this,(b17.__proto__||Object.getPrototypeOf(b17)).call(this,f17));C17.connection=B17;return C17;}Z97(b17,t17);u97(b17,[{key:"doFormatConversion",value:function(l17,Q17,z17){l17=l17.extra;z17=l17.contentType;l17=new Blob([this.connection.decodeData(l17.data)],{type:z17});switch(Q17){case"previewUrl":return Q17=URL.createObjectURL(l17),Promise.resolve(Q17);default:return S97.blob(l17,Q17);}}},{key:"doRead",value:function(D17,d17,G17){var X17=this,W17=d17.as,U17=d17.safetyNet;return this.connection.runInTransaction(function(F17){var e17=H97(F17,1)[0];return new Promise(function(p17,V17){e17.get(D17).onsuccess=function(P17){(P17=P17.target.result)?X17.getGalacticEntryFromIDBEntry(P17).then(function(v17){p17(v17.as(W17));}):U17?V17(new B97({path:D17})):p17();};});});}},{key:"doWrite",value:function(R17,L17,i17,a17){return new Promise(function(s47,T47){var I47,A17,r47,Y17,n47,x17,w17,c47,k17;I47=this;A17=i17.append;r47=i17.overwrite;Y17=new Date();n47=Y17.getTime()-Y17.getMilliseconds();x17="text/plain";Galactic.is(L17,"Blob")&&(x17=L17.type||x17);w17=[S97.toBlob(L17)];return this.read(R17,{as:"blob",safetyNet:false}).then(function(M47){try{if(c47=M47){if(!r47){return s47(Promise.resolve());}A17&&w17.unshift(c47);}k17=new Blob(w17,{type:x17});return s47(Promise.join(l97(k17),this.connection.encodeData(k17),function(o47,O47){return I47.connection.runInTransaction(function(g47){H97(g47,1)[0].put({path:R17,lastModified:n47,data:O47,contentType:x17,digest:o47,size:k17.size});});}));}catch(h47){return T47(h47);}}.bind(this),T47);}.bind(this));}},{key:"doDelete",value:function(y47,H47){return this.connection.runInTransaction(function(q47){q47=H97(q47,1)[0];var Z47=IDBKeyRange.lowerBound(y47);q47.openCursor(Z47).onsuccess=function(E47){if(E47=E47.target.result){E47.value.path.startsWith(y47)&&E47.delete(),E47.continue();}};});}},{key:"doMove",value:function(u47,j47,J47){return this.connection.runInTransaction(function(S47){var K47=H97(S47,1)[0];S47=IDBKeyRange.lowerBound(u47);K47.openCursor(S47).onsuccess=function(b47){if(b47=b47.target.result){var t47=b47.value,C47=t47.path.replace(u47,j47);b47.delete();K47.put(j97({},t47,{path:C47}));b47.continue();}};});}},{key:"doCopy",value:function(N47,f47,B47){return this.connection.runInTransaction(function(m47){var l47=H97(m47,1)[0];m47=IDBKeyRange.lowerBound(N47);l47.openCursor(m47).onsuccess=function(Q47){if(Q47=Q47.target.result){var z47=Q47.value,D47=z47.path.replace(N47,f47);l47.put(j97({},z47,{path:D47}));Q47.continue();}};});}},{key:"doFind",value:function(X47,d47,F47){var W47=this,U47=d47.as,G47=d47.into,e47=d47.filter;return this.connection.runInTransaction(function(V47){var p47=H97(V47,1)[0];return new Promise(function(L47){var v47=IDBKeyRange.lowerBound(X47),P47=[];p47.openCursor(v47).onsuccess=function(R47){(R47=R47.target.result)?(P47.push(W47.getGalacticEntryFromIDBEntry(R47.value)),R47.continue()):Promise.filter(P47,function(i47){return e47(i47)&&i47.path.startsWith(X47);}).then(function(x47){var a47=new f97();a47.add(x47);L47(a47.get({into:G47,as:U47}));});};});});}},{key:"getGalacticEntryFromIDBEntry",value:function(k47){return new Promise(function(w47,Y47){return w47(new N97({path:k47.path,lastModified:k47.lastModified,size:k47.size,digest:k47.digest,src:this,extra:{data:k47.data,contentType:k47.contentType}}));}.bind(this));}}]);return b17;}(q97.FileSystem),b97=function A47(r77){r77=r77.event;y97(this,A47);this.event=r77;Error("A transaction was unsuccessful").event=r77;},t97=sketch.convert,J97=function(){function s77(T77,n77){var I77=n77.objectStores;n77=n77.canStoreBlobs;y97(this,s77);this.activeDbConnection=T77;this.objectStores=I77;this.canStoreBlobs=n77;}u97(s77,[{key:"runInTransaction",value:function(M77){var c77=this;return new Promise(function(y77,O77){var o77=c77.activeDbConnection.transaction(c77.objectStores,"readwrite"),g77=c77.objectStores.map(o77.objectStore,o77),h77=M77(g77);o77.onabort=function(H77){O77(new b97({event:H77}));};o77.onerror=function(q77){O77(new b97({event:q77}));};o77.oncomplete=function(){y77(h77);};});}},{key:"encodeData",value:function(Z77){return this.canStoreBlobs?Promise.resolve(Z77):t97.blob.toArrayBuffer(Z77);}},{key:"decodeData",value:function(E77){return t97.toBlob(E77);}}]);return s77;}(),m97=sketch.convert,q97=function(j77){function u77(){var J77=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};y97(this,u77);var S77=E97(this,(u77.__proto__||Object.getPrototypeOf(u77)).call(this)),J77=J77.database;S77.database=void 0===J77?"galactic_filesystem":J77;return S77;}Z97(u77,j77);u97(u77,[{key:"doConnect",value:function(){return new Promise(function(f77,K77){var b77,t77,C77,N77;b77=this;t77=b77.database;return C97().then(function(B77){try{return C77=B77,b77.getDatabaseConnection(t77).then(function(m77){try{return N77=m77,b77.connection=new J97(N77,{objectStores:["EntryStore"],canStoreBlobs:C77}),f77();}catch(l77){return K77(l77);}}.bind(this),K77);}catch(Q77){return K77(Q77);}}.bind(this),K77);}.bind(this));}},{key:"doMount",value:function(z77){return Promise.resolve(new K97(j97({connection:this.connection},z77)));}},{key:"getDatabaseConnection",value:function(D77){return new Promise(function(X77,W77){var d77=indexedDB.open(D77,1);d77.onupgradeneeded=function(){var U77=d77.result;U77.objectStoreNames.contains("EntryStore")||U77.createObjectStore("EntryStore",{keyPath:"path"});};d77.onerror=function(G77){console.error(G77);W77();};d77.onsuccess=function(){X77(d77.result);};});}},{key:"isSupported",get:function(){return"indexedDB"in window;}},{key:"isConnected",get:function(){return!!this.connection;}}]);return u77;}(Galactic.fs.Adapter);Galactic.fs.adapters.idb={IDBAdapter:q97,IDBConnection:J97,IDBFileSystem:K97,testCanStoreBlobs:C97};}();void function(){function J67(D67){var B67=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l67=B67.tries,z67=void 0===l67?6:l67,B67=B67.backOff,Q67=void 0===B67?[1,5,10,15,30,60]:B67,m67=0;return new Promise(function(X67,W67){function d67(){m67>=z67?W67():D67().then(X67).catch(function(){m67+=1;setTimeout(d67,1E3*Q67[Math.min(Q67.length,m67)]);});}d67();});}function o67(U67,G67){return new Promise.resolve(function e67(){return new Promise.resolve(U67()).then(function(){if(G67()){return e67();}});}());}function f67(F67){return F67.type?Promise.resolve(F67.type):sketch.fileinfo(F67).then(function(p67){return p67.mime;}).catch(function(){return"text/plain";});}function N67(V67){if("string"!==typeof V67){throw new TypeError("Path must be a string.");}if(!V67){throw Error("Path must not be empty.");}return V67=V67.replace(/[\\\/]+/g,"/");}function C67(){}function M67(){}function a77(P67){return"application/vnd.google-apps.folder"===P67.mimeType;}function t67(v67){if(null!=v67){if(Galactic.is(v67,"Blob|File")){return v67;}if(Galactic.is(v67,"String|Number|Boolean")){return new Blob([v67],{type:"text/plain"});}console.error("CANNOT CONVERT THIS THING TO A BLOB",v67);}}function c67(){var L67=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).useRedirect,L67=void 0===L67?false:L67,i67=gapi.auth2.getAuthInstance(),R67=void 0,R67=i67.isSignedIn.get()?Promise.resolve(i67.currentUser.get()):Promise.resolve(gapi.auth2.getAuthInstance().signIn({prompt:"select_account",ux_mode:L67?"redirect":"popup"}));return R67.then(function(k67){var x67,a67=k67.getAuthResponse(true);k67=a67.access_token;a67=a67.expires_at;return x77.set((x67={},r67(x67,"fs.gdrive.accessToken",k67),r67(x67,"fs.gdrive.accessToken.expiresAt",a67),x67));});}function b67(w67,A67){var Y67=w67.response;switch(A67){case"json":if(!Y67.length){break;}try{return JSON.parse(w67.response);}catch(r86){return{error:w67.response};}case"xhr":return w67;default:return w67.response;}}function K67(n86){var s86=/\s*(\w+)\s*:(.*)$/;return(n86.getAllResponseHeaders()||"").split("\r\n").reduce(function(c86,I86){I86=I86.match(s86)||[];var T86=e77(I86,3);I86=T86[1];T86=T86[2];I86&&T86&&(c86[I86.trim()]=T86.trim());return c86;},{});}function u67(M86){return new Promise(function(o86,O86){var g86,h86;return M86&&"string"!==typeof M86?M86 instanceof Blob?sketch.convert.blob.toJSON(M86).then(function(y86){try{return g86=y86,h86=g86.error,o86(h86);}catch(H86){return O86(H86);}}.bind(this),O86):"error"in M86?o86(M86.error):o86({errors:[]}):o86({errors:[]});}.bind(this));}function S67(j86,E86){function J86(){q86&&j86();}function u86(){clearInterval(Z86);q86&&(Z86=setInterval(J86,E86));}var Z86=void 0,q86=false;return{start:function(){q86||(q86=true,u86());},stop:function(){q86=false;clearInterval(Z86);},get interval(){return E86;},set interval(S86){Number.isFinite(S86)&&(E86=S86,u86());}};}j.initSymbol();j.initSymbol();j.initSymbolIterator();var n67="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(K86){return typeof K86;}:function(b86){j.initSymbol();j.initSymbol();j.initSymbol();return b86&&"function"===typeof Symbol&&b86.constructor===Symbol&&b86!==Symbol.prototype?"symbol":typeof b86;},V77=function(t86,C86){if(!(t86 instanceof C86)){throw new TypeError("Cannot call a class as a function");}},F77=function(){function N86(l86,m86){for(var B86=0;B86<m86.length;B86++){var f86=m86[B86];f86.enumerable=f86.enumerable||false;f86.configurable=true;"value"in f86&&(f86.writable=true);Object.defineProperty(l86,f86.key,f86);}}return function(Q86,z86,D86){z86&&N86(Q86.prototype,z86);D86&&N86(Q86,D86);return Q86;};}(),r67=function(d86,X86,W86){X86 in d86?Object.defineProperty(d86,X86,{value:W86,enumerable:true,configurable:true,writable:true}):d86[X86]=W86;return d86;},P77=Object.assign||function(F86){for(var U86=1;U86<arguments.length;U86++){var G86=arguments[U86],e86;for(e86 in G86){Object.prototype.hasOwnProperty.call(G86,e86)&&(F86[e86]=G86[e86]);}}return F86;},E67=function p86(V86,P86,L86){null===V86&&(V86=Function.prototype);var v86=Object.getOwnPropertyDescriptor(V86,P86);if(void 0===v86){if(V86=Object.getPrototypeOf(V86),null!==V86){return p86(V86,P86,L86);}}else{if("value"in v86){return v86.value;}P86=v86.get;return void 0===P86?void 0:P86.call(L86);}},w77=function(i86,R86){if("function"!==typeof R86&&null!==R86){throw new TypeError("Super expression must either be null or a function, not "+typeof R86);}i86.prototype=Object.create(R86&&R86.prototype,{constructor:{value:i86,enumerable:false,writable:true,configurable:true}});R86&&(Object.setPrototypeOf?Object.setPrototypeOf(i86,R86):i86.__proto__=R86);},A77=function(x86,a86){if(!x86){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return!a86||"object"!==typeof a86&&"function"!==typeof a86?x86:a86;},e77=function(){return function(k86,n26){if(Array.isArray(k86)){return k86;}j.initSymbol();j.initSymbolIterator();if(Symbol.iterator in Object(k86)){var w86=[],Y86=true,r26=false,s26=void 0;try{j.initSymbol();j.initSymbolIterator();for(var A86=k86[Symbol.iterator](),I26;!(Y86=(I26=A86.next()).done)&&(w86.push(I26.value),!n26||w86.length!==n26);Y86=true){;}}catch(T26){r26=true,s26=T26;}finally{try{if(!Y86&&A86["return"]){A86["return"]();}}finally{if(r26){throw s26;}}}return w86;}throw new TypeError("Invalid attempt to destructure non-iterable instance");};}(),s67=function(c26){if(Array.isArray(c26)){for(var M26=0,o26=Array(c26.length);M26<c26.length;M26++){o26[M26]=c26[M26];}return o26;}return Array.from(c26);},v77=function(){function O26(){V77(this,O26);this.fields=new Map();this.parents=new Set();this.appProperties=new Map();}F77(O26,null,[{key:"go",value:function(){return new O26();}}]);F77(O26,[{key:"addField",value:function(g26,h26){this.fields.set(g26,h26);return this;}},{key:"addParent",value:function(y26){this.parents.add(y26);return this;}},{key:"addParents",value:function(H26){Array.isArray(H26)||(H26=[H26]);H26.forEach(this.addParent,this);return this;}},{key:"hasParents",value:function(){return 0<this.parents.size;}},{key:"addProperty",value:function(q26,Z26){this.appProperties.set(q26,Z26);return this;}},{key:"addProperties",value:function(u26){var j26=this;for(var E26 in u26){j26.addProperty(E26,u26[E26]);}return this;}},{key:"toString",value:function(){var J26=["trashed = false"],S26=[];this.fields.forEach(function(t26,C26){S26.push(C26+" = '"+t26+"'");});S26.length&&J26.push("("+S26.join(" and ")+")");var K26=[];this.parents.forEach(function(N26){K26.push("'"+N26+"' in parents");});K26.length&&J26.push("("+K26.join(" or ")+")");var b26=[];this.appProperties.forEach(function(f26,B26){b26.push("appProperties has { key = '"+B26+"' and value = '"+f26+"' }");});b26.length&&J26.push("("+b26.join(" and ")+")");return J26.join(" and ");}}]);return O26;}(),k77=sketch.store.getProxy("fs.gdrive.pageToken"),y67=Galactic.partition,T67=function(){function m26(l26){l26=l26.requestQueue;V77(this,m26);this.requestQueue=l26;this.pendingWrites=new Map();this.userInfo={};this.deltaTime=0;}F77(m26,[{key:"refreshPageToken",value:function(){return this.requestQueue.dispatch("https://www.googleapis.com/drive/v3/changes/startPageToken",{headers:{"X-DriveProxyMethod":"refreshPageToken"}}).then(function(Q26){Q26=e77(Q26,1)[0].startPageToken;k77.set(Q26);return Q26;});}},{key:"getChangeRecords",value:function(z26){return new Promise(function(p26,D26){function W26(V26){return new Promise(function(v26,P26){P26=d26.format("https://www.googleapis.com/drive/v3/changes",{pageToken:V26,pageSize:1E3,fields:"nextPageToken, newStartPageToken, changes(*)"});return v26(d26.requestQueue.dispatch(P26,{headers:{"X-DriveProxyMethod":"getChangeRecords"}},{onProgress:G26.getChunk()}).then(function(L26){L26=e77(L26,1)[0];var R26=L26.nextPageToken,i26=L26.newStartPageToken;L26.changes.forEach(function(a26){return X26.push(a26);});return R26?W26(R26):i26;}));}.bind(this));}var U26,G26,d26,X26,e26,F26;U26=this;G26=Galactic.chunkedAccumulator(z26);d26=this;X26=[];return k77.get().then(function(x26){return x26||U26.refreshPageToken();}).then(function(k26){try{return e26=k26,W26(e26).then(function(w26){try{return F26=w26,k77.set(F26).then(function(Y26){try{return p26(X26);}catch(A26){return D26(A26);}}.bind(this),D26);}catch(r06){return D26(r06);}}.bind(this),D26);}catch(s06){return D26(s06);}}.bind(this),D26);}.bind(this));}},{key:"addOrUpdateFileObject",value:function(n06,I06){return new Promise(function(o06,c06){var O06=this;Galactic.fillTaskOptions(I06);c06=n06.id;var g06=n06.name,M06=n06.path,h06=n06.blob,y06=n06.parent,H06=n06.lastModified;if(this.pendingWrites.has(M06)){return c06=this.pendingWrites.get(M06),c06.next=function(){return O06.addOrUpdateFileObject(n06,I06);},o06(c06.promise);}var T06=Promise.defer();T06.next=function(){};T06.promise.finally(function(){T06.resolve();T06.next();delete O06.pendingWrites[M06];});this.pendingWrites[M06]=T06;try{return o06(this.doMultipartUpload({blob:h06,id:c06,name:g06,parent:y06,lastModified:H06},I06));}catch(q06){console.error(q06),T06.reject();}finally{T06.next();}return o06();}.bind(this));}},{key:"createFolderObject",value:function(Z06,u06){var E06=this.format("https://content.googleapis.com/drive/v3/files",{fields:"kind, id, name, mimeType, modifiedTime, md5Checksum, parents, size, webContentLink, thumbnailLink, webViewLink",alt:"json"});Z06=JSON.stringify(P77({},Z06,{mimeType:"application/vnd.google-apps.folder"}));return this.requestQueue.dispatch(E06,{method:"POST",headers:{"Content-Type":"application/json","X-DriveProxyMethod":"createFolderObject"},data:Z06},u06).then(function(j06){return e77(j06,1)[0];});}},{key:"getObjectInfo",value:function(J06){var S06=this.format("https://www.googleapis.com/drive/v3/files/"+J06,{alt:"json",fields:"kind, id, name, mimeType, modifiedTime, md5Checksum, parents, size, webContentLink, thumbnailLink, webViewLink"});return this.requestQueue.dispatch(S06,{headers:{"X-DriveProxyMethod":"getObjectInfo","X-DriveProxyMethodArgs":JSON.stringify({id:J06})}}).then(function(K06){return e77(K06,1)[0];});}},{key:"getObjectBlob",value:function(b06,t06){b06=this.format("https://www.googleapis.com/drive/v3/files/"+b06,{alt:"media",fields:"kind, id, name, mimeType, modifiedTime, md5Checksum, parents, size, webContentLink, thumbnailLink, webViewLink"});return this.requestQueue.dispatch(b06,{as:"blob",headers:{"X-DriveProxyMethod":"getObjectBlob"}},t06).then(function(C06){return e77(C06,1)[0];});}},{key:"updateObject",value:function(f06,N06,B06){f06=this.format("https://www.googleapis.com/drive/v3/files/"+f06,{alt:"json",fields:"kind, id, name, mimeType, modifiedTime, md5Checksum, parents, size, webContentLink, thumbnailLink, webViewLink"});N06=JSON.stringify(N06);return this.requestQueue.dispatch(f06,{method:"PATCH",headers:{"Content-Type":"application/json","X-DriveProxyMethod":"updateObject","X-DriveProxyMethodArgs":N06},data:N06}).then(function(m06){return e77(m06,1)[0];});}},{key:"copyObject",value:function(Q06,l06,z06,D06){Q06=this.format("https://www.googleapis.com/drive/v3/files/"+Q06+"/copy",{alt:"json",fields:"kind, id, name, mimeType, modifiedTime, md5Checksum, parents, size, webContentLink, thumbnailLink, webViewLink"});l06=JSON.stringify(P77({},z06,{parents:[l06]}));return this.requestQueue.dispatch(Q06,{method:"POST",headers:{"Content-Type":"application/json","X-DriveProxyMethod":"copyObject","X-DriveProxyMethodArgs":l06},data:l06}).then(function(d06){return e77(d06,1)[0];});}},{key:"deleteObject",value:function(X06){return this.requestQueue.dispatch("https://www.googleapis.com/drive/v3/files/"+X06,{method:"delete",headers:{"X-DriveProxyMethod":"deleteObject"}});}},{key:"runQuery",value:function(P06){var e06=this,W06=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},F06=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};Galactic.fillTaskOptions(F06);var p06=Galactic.chunkedAccumulator({onProgress:F06.onProgress}),W06=W06.includeChildren,V06=void 0===W06?true:W06,G06=[],U06=[P06];return o67(function(){return new Promise(function(R06,i06){var a06,L06,v06,x06,k06;if(!U06.length){return R06();}a06=U06.shift();L06=void 0;v06=[];return o67(function(){return new Promise(function(T36,Y06){var A06,r36,s36,w06,n36,I36;A06=e06.format("https://www.googleapis.com/drive/v3/files",{pageToken:L06,corpora:"user",pageSize:1E3,spaces:"drive",fields:"nextPageToken, files(kind, id, name, mimeType, modifiedTime, md5Checksum, parents, size, webContentLink, thumbnailLink, webViewLink)",q:a06.toString()});return e06.requestQueue.dispatch(A06,{headers:{"X-DriveProxyMethod":"runQuery"}},{onProgress:p06.getChunk()}).then(function(c36){try{return r36=c36,s36=e77(r36,1),w06=s36[0],n36=w06.nextPageToken,I36=w06.files,L06=n36,v06.push.apply(v06,I36),T36();}catch(M36){return Y06(M36);}}.bind(this),Y06);}.bind(this));},function(){return!!L06;}).then(function(o36){try{return G06.push.apply(G06,v06),V06&&(x06=v06.filter(function(O36){return"application/vnd.google-apps.folder"===O36.mimeType;}),k06=y67(x06,100),k06.forEach(function(h36){h36=h36.map(function(y36){return y36.id;});var g36=v77.go();g36.addParents(h36);g36.hasParents()&&U06.push(g36);})),R06();}catch(H36){return i06(H36);}}.bind(this),i06);}.bind(this));},function(){return U06.length;}).then(function(){return G06;});}},{key:"getOrUpdateRootFolder",value:function(q36,Z36){return new Promise(function(b36,u36){function K36(){return new Promise(function(C36,t36){var N36,f36,B36,m36,l36;if(!J36.length){return C36();}N36=J36.shift();f36=v77.go().addParent(E36.id).addField("name",N36);return j36.runQuery(f36,{includeChildren:false}).then(function(Q36){try{return B36=Q36,m36=e77(B36,1),(l36=m36[0])?(E36=l36,S36.step(),C36(K36())):j36.createFolderObject({name:N36,parents:[E36.id]},S36.asTaskOptions()).then(function(z36){try{return E36=z36,S36.step(),C36(K36());}catch(D36){return t36(D36);}}.bind(this),t36);}catch(d36){return t36(d36);}}.bind(this),t36);}.bind(this));}var j36,J36,S36,E36;j36=this;J36=q36.split("/").filter(function(X36){return X36;});S36=Galactic.steppedAccumulator(P77({steps:J36.length},Z36));return j36.getObjectInfo("root").then(function(W36){try{return E36=W36,K36().then(function(U36){try{return b36(E36);}catch(G36){return u36(G36);}}.bind(this),u36);}catch(e36){return u36(e36);}}.bind(this),u36);}.bind(this));}},{key:"getChildrenOf",value:function(F36){return new Promise(function(L36,P36){var V36,p36,v36;Array.isArray(F36)||(F36=[F36]);for(V36=[];F36.length;){p36=v77.go(),name&&p36.addField("name",name),F36&&p36.addParents(F36.splice(0,100)),appProperties&&p36.addProperties(appProperties),V36.push(p36);}return Promise.map(V36,this.runQuery).then(function(R36){try{return v36=R36,L36(Array.prototype.concat.apply([],v36));}catch(i36){return P36(i36);}}.bind(this),P36);}.bind(this));}},{key:"getRuntimeInfo",value:function(){return new Promise(function(I56,k36){var w36,Y36,a36,r56,s56,x36,A36,n56;w36=Date.now();return this.requestQueue.dispatch("https://www.googleapis.com/oauth2/v1/userinfo",{headers:{"X-DriveProxyMethod":"getRuntimeInfo"}}).then(function(T56){try{return Y36=T56,a36=e77(Y36,2),r56=a36[0],s56=a36[1],x36=new Date(),A36=new Date(s56.date),n56=x36-A36-(x36-w36)/2,this.userInfo=r56,this.deltaTime=n56,I56();}catch(c56){return k36(c56);}}.bind(this),k36);}.bind(this));}},{key:"format",value:function(O56,o56){var M56=[];Object.keys(o56).forEach(function(h56){var g56=o56[h56];g56&&M56.push(encodeURIComponent(h56)+"="+encodeURIComponent(g56));});return O56+"?"+M56.join("&");}},{key:"doMultipartUpload",value:function(y56,H56){return new Promise(function(B56,S56){var j56,q56,Z56,J56,b56,E56,t56,C56,N56,f56,K56,u56;Galactic.fillTaskOptions(H56);j56=y56.blob;q56=y56.id;Z56=y56.name;J56=void 0===Z56?"":Z56;Z56=y56.lastModified;b56=void 0===Z56?Date.now():Z56;E56=y56.parent;return f67(j56).then(function(m56){try{return t56=m56,C56=q56?"https://www.googleapis.com/upload/drive/v3/files/"+q56:"https://www.googleapis.com/upload/drive/v3/files/",N56=this.format(C56,{uploadType:"multipart",fields:"kind, id, name, mimeType, modifiedTime, md5Checksum, parents, size, webContentLink, thumbnailLink, webViewLink",addParents:(E56?[E56]:[]).join(", ")}),f56=q56?"addParents":"parents",K56=JSON.stringify(r67({name:J56,mimeType:t56,modifiedTime:b56},f56,E56?[E56]:[])),u56=new FormData(),u56.append("metadata",new Blob([K56],{type:"application/json; charset=UTF-8"})),u56.append("media",j56),B56(this.requestQueue.dispatch(N56,{method:q56?"PATCH":"POST",data:u56,headers:{"X-DriveProxyMethod":"doMultipartUpload","X-DriveProxyMethodArgs":JSON.stringify({name:J56,id:q56,parent:E56})}},H56).then(function(l56){return e77(l56,1)[0];}));}catch(Q56){return S56(Q56);}}.bind(this),S56);}.bind(this));}}]);return m26;}(),q67=Galactic.chunkedAccumulator,Z67=function(){function z56(){V77(this,z56);this.entries=[];}F77(z56,null,[{key:"fromArray",value:function(d56){var D56=new z56();D56.add(d56);return D56;}}]);F77(z56,[{key:"add",value:function(X56){X56 instanceof z56?this.entries=this.entries.concat(X56.entries):Array.isArray(X56)?this.entries=this.entries.concat(X56):this.entries.push(X56);}},{key:"get",value:function(U56){var W56=arguments;return new Promise(function(p56,e56){e56=U56.into;e56=void 0===e56?"array":e56;var G56=U56.as,F56=void 0===G56?"entry":G56,G56=(1<W56.length&&void 0!==W56[1]?W56[1]:{}).onProgress,V56=q67({onProgress:void 0===G56?C67:G56}),G56=this.entries;switch(e56){default:case"array":switch(F56){case"entry":return p56(Promise.resolve(G56));default:return p56(Promise.map(G56,function(P56){return new Promise(function(i56,L56){var v56,R56;v56=V56.getChunk();return P56.as(F56,{onProgress:v56}).then(function(a56){try{return R56=a56,v56(1),i56(R56);}catch(x56){return L56(x56);}}.bind(this),L56);}.bind(this));}));}case"object":return p56(Promise.reduce(G56,function(k56,w56){var Y56=V56.getChunk();return w56.as(F56,{onProgress:Y56}).then(function(A56){k56[w56.path]=A56;return k56;});},{}));}}.bind(this));}}]);return z56;}(),Y77=function(){function r96(s96){V77(this,r96);this.fs=s96;this.objects={byId:{},byPath:{}};}F77(r96,[{key:"addObjectAtPath",value:function(n96,I96){I96=this.fs.internalPath(I96);n96.paths=n96.paths||[];n96.paths.push(I96);this.objects.byId[n96.id]=n96;this.objects.byPath[I96]=n96;}},{key:"addObject",value:function(T96){return new Promise(function(c96,M96){this.addObjects(T96);return c96();}.bind(this));}},{key:"addObjects",value:function(o96){return new Promise(function(u96,y96){function H96(j96){h96.objects.byId[j96]||O96.has(j96)||g96.add(j96);}function q96(J96){(J96.parents||[]).forEach(H96);}function Z96(){return new Promise(function(t96,S96){var K96,b96;if(!g96.size){return t96();}K96=g96.values().next().value;g96.delete(K96);return h96.fs.connection.getObjectInfo(K96).then(function(C96){try{return b96=C96,O96.set(K96,b96),q96(b96),Z96().then(function(N96){try{return t96();}catch(f96){return S96(f96);}}.bind(this),S96);}catch(B96){return S96(B96);}}.bind(this),S96);}.bind(this));}var E96,h96,O96,g96;E96=this;h96=this;Array.isArray(o96)||(o96=[o96]);O96=new Map();g96=new Set();o96.forEach(function(m96){switch("undefined"===typeof m96?"undefined":n67(m96)){case"object":O96.set(m96.id,m96);break;default:H96(m96);}});O96.forEach(q96);return Z96().then(function(l96){try{return O96.forEach(function(Q96,z96){E96.objects.byId[z96]=Q96;}),this.refreshPaths(),u96();}catch(D96){return y96(D96);}}.bind(this),y96);}.bind(this));}},{key:"update",value:function(d96){this.objects.byId[d96.id]=d96;this.refreshPaths();}},{key:"flush",value:function(W96){var U96=this;var G96=this,X96=this.objects.byId[W96];X96||(W96=this.fs.internalPath(W96),X96=this.objects.byPath[W96]);if(X96){delete this.objects.byId[X96.id];X96.paths.forEach(function(F96){return delete G96.objects.byPath[F96];});W96=X96.id;for(var e96 in U96.objects.byId){(X96=U96.objects.byId[e96])&&X96.parents&&X96.parents.includes(W96)&&U96.flush(X96.id);}}}},{key:"pathsFor",value:function(v96){for(var P96=this,p96=new Set([{id:v96,fragments:[]}]),V96=[];p96.size;){p96.forEach(function(L96){var k96,i96=L96.fragments,R96=P96.objects.byId[L96.id];p96.delete(L96);if(R96){var a96=R96.name;L96=R96.parents;L96=void 0===L96?[]:L96;var x96=(k96=Galactic.fs).join.apply(k96,[a96].concat(s67(i96)));R96.id===P96.fs.rootId?V96.push("/"+x96):L96.length?L96.forEach(function(w96){return p96.add({id:w96,fragments:[a96].concat(s67(i96))});}):V96.push("/"+x96);}});}return V96;}},{key:"refreshPathsFor",value:function(Y96){var r16=this,A96=this.pathsFor(Y96.id);Y96.paths=A96;A96.forEach(function(s16){return r16.objects.byPath[s16]=Y96;});}},{key:"refreshPaths",value:function(){var n16=this;this.objects.byPath={};for(var I16 in n16.objects.byId){n16.refreshPathsFor(n16.objects.byId[I16]);}}},{key:"trimObjectsOutsideRoot",value:function(){for(var M16=this,o16=Object.keys(this.objects.byId),T16=[this.fs.rootId],O16=new Set([this.fs.rootId]),c16=void 0;T16.length;){c16=T16.shift(),o16.forEach(function(g16){if(c16!==g16){var h16=M16.objects.byId[g16];h16.parents&&h16.parents.includes(c16)&&(O16.add(g16),T16.push(g16));}});}o16.forEach(function(y16){O16.has(y16)||delete M16.objects.byId[y16];});this.refreshPaths();}},{key:"knownIds",value:function(){return Object.keys(this.objects.byId);}}]);return r96;}(),p77=sketch.string,j67=sketch.convert,R77=Galactic.fs,i77=R77.EntryNotFound,I67=function(q16){function H16(Z16){var j16=Z16.rootId,J16=Z16.connection,S16=["rootId","connection"],u16={},E16;for(E16 in Z16){0<=S16.indexOf(E16)||Object.prototype.hasOwnProperty.call(Z16,E16)&&(u16[E16]=Z16[E16]);}V77(this,H16);Z16=A77(this,(H16.__proto__||Object.getPrototypeOf(H16)).call(this,u16));Z16.rootId=j16;Z16.connection=J16;Z16.cache=new Y77(Z16);return Z16;}w77(H16,q16);F77(H16,[{key:"internalPath",value:function(K16){""===K16&&(K16=this.root);return K16=E67(H16.prototype.__proto__||Object.getPrototypeOf(H16.prototype),"internalPath",this).call(this,K16);}},{key:"doFormatConversion",value:function(t16,C16){var b16=arguments;return new Promise(function(f16,N16){N16=2<b16.length&&void 0!==b16[2]?b16[2]:{};Galactic.fillTaskOptions(N16);switch(C16){case"previewUrl":return f16(Promise.resolve(t16.extra.previewUrl));default:return f16(this.read(t16.path,{as:C16},N16));}}.bind(this));}},{key:"absoluteUrl",value:function(){return new Promise(function(l16,B16){var m16;return this.connection.getObjectInfo(this.rootId).then(function(Q16){try{return m16=Q16,l16(m16.webViewLink);}catch(z16){return B16(z16);}}.bind(this),B16);}.bind(this));}},{key:"doRead",value:function(D16,d16,X16){return new Promise(function(G16,W16){var e16,F16,p16,V16,U16,P16,v16;e16=d16.as;F16=d16.safetyNet;p16=Galactic.steppedAccumulator({steps:2,onProgress:X16.onProgress});V16=p16.asTaskOptions();return this.findObjectByPath(D16,V16).catch(M67).then(function(i16){try{U16=i16;p16.step();if(!U16){return F16?W16(new i77({path:D16})):G16();}P16=this.getGalacticEntryFromDriveEntry(D16,U16);if("entry"===e16){return G16(P16);}if(a77(U16)){return W16(Error("cannot-read-folder"));}var R16=function(){try{return G16();}catch(a16){return W16(a16);}}.bind(this),L16=function(x16){try{console.error(x16,D16);if(F16){throw new i77({path:D16});}return R16();}catch(k16){return W16(k16);}}.bind(this);try{return this.connection.getObjectBlob(U16.id,V16).then(function(w16){try{return v16=w16,"blob"===e16&&this.copyImportantPropertiesToBlob(P16,v16),G16(j67.blob(v16,e16));}catch(Y16){return L16(Y16);}}.bind(this),L16);}catch(A16){L16(A16);}}catch(r46){return W16(r46);}}.bind(this),W16);}.bind(this));}},{key:"doWrite",value:function(s46,I46,n46,T46){return new Promise(function(u46,y46){var M46=this,g46=n46.append,h46=n46.overwrite,c46=T46.onProgress,H46=new Date().toISOString();y46=p77.dirparent(s46);var q46=p77.filename(s46),O46=t67(I46),E46=O46.type||"text/plain",o46=[O46],c46=Galactic.chunkedAccumulator({onProgress:c46}),Z46=Galactic.steppedAccumulator({onProgress:c46.getChunk()});return u46(Promise.join(this.read(s46,{as:"blob",safetyNet:false},{onProgress:c46.getChunk()}),this.ensureFolderExists(y46,{onProgress:c46.getChunk()}),function(j46,J46){if(j46){if(!h46){return Promise.resolve();}g46&&o46.unshift(j46);}j46=M46.cache.objects.byPath[s46];var S46=new Blob(o46,{type:E46});J46={id:j46?j46.id:null,name:q46,path:s46,blob:S46,parent:J46.id,lastModified:H46};j46=Z46.asTaskOptions();return M46.connection.addOrUpdateFileObject(J46,j46).then(function(K46){K46&&M46.cache.addObjectAtPath(K46,s46);});}));}.bind(this));}},{key:"doMove",value:function(t46,b46){return new Promise(function(D46,C46){var N46,f46,B46,m46,l46,Q46,z46;N46=this;f46=p77.dirparent(t46);B46=p77.filename(b46);m46=p77.dirparent(b46);return this.findObjectByPath(t46).then(function(d46){try{return l46=d46,this.findObjectByPath(f46).then(function(X46){try{return Q46=X46,this.ensureFolderExists(m46).then(function(G46){try{z46=G46;var U46=function(){try{return D46(this.connection.updateObject(l46.id,{addParents:[z46.id],removeParents:[Q46.id],name:B46}).then(function(e46){return N46.cache.update(e46);}));}catch(F46){return C46(F46);}}.bind(this),W46=function(p46){try{return U46();}catch(V46){return C46(V46);}}.bind(this);try{return this.findObjectByPath(b46).then(function(P46){try{return U46();}catch(v46){return W46(v46);}}.bind(this),W46);}catch(L46){W46(L46);}}catch(R46){return C46(R46);}}.bind(this),C46);}catch(i46){return C46(i46);}}.bind(this),C46);}catch(a46){return C46(a46);}}.bind(this),C46);}.bind(this));}},{key:"doCopy",value:function(k46,x46,w46){return new Promise(function(s76,Y46){var r76,A46,n76,I76,T76,c76,M76;r76=this;return this.findObjectByPath(k46).then(function(o76){try{A46=o76;if(a77(A46)){return this.ensureFolderExists(x46).then(function(O76){try{return n76=v77.go().addParents(A46.id),I76=this.connection.runQuery(n76,{includeChildren:false}),Promise.each(I76,function(g76){return r76.copy(k46+"/"+g76.name,x46+"/"+g76.name);}).then(function(h76){try{return s76();}catch(y76){return Y46(y76);}}.bind(this),Y46);}catch(H76){return Y46(H76);}}.bind(this),Y46);}T76=p77.dirparent(x46);c76=p77.filename(x46);return this.ensureFolderExists(T76).then(function(q76){try{return M76=q76,s76(this.connection.copyObject(A46.id,M76.id,{name:c76}).then(function(Z76){return r76.cache.addObjectAtPath(Z76,x46);}));}catch(E76){return Y46(E76);}}.bind(this),Y46);}catch(u76){return Y46(u76);}}.bind(this),Y46);}.bind(this));}},{key:"doDelete",value:function(j76){return new Promise(function(b76,J76){var K76,t76,S76;K76=this;t76=this.find(j76,{as:"entry"});return Promise.map(t76,function(C76){return K76.connection.deleteObject(C76.extra.id).then(function(){K76.cache.flush(C76.path);}).catch(M67);}).then(function(B76){try{var f76=function(){try{return b76();}catch(m76){return J76(m76);}}.bind(this),N76=function(l76){try{return f76();}catch(Q76){return J76(Q76);}}.bind(this);try{return this.findObjectByPath(j76).then(function(z76){try{return(S76=z76)&&a77(S76)?this.connection.deleteObject(S76.id).then(function(D76){try{return this.cache.flush(S76.id),f76();}catch(d76){return N76(d76);}}.bind(this),N76):b76();}catch(X76){return N76(X76);}}.bind(this),N76);}catch(W76){N76(W76);}}catch(U76){return J76(U76);}}.bind(this),J76);}.bind(this));}},{key:"doFind",value:function(e76,G76,F76){return new Promise(function(a76,P76){var p76=this;P76=G76.as;var v76=G76.into,L76=G76.filter,R76=F76.onProgress,i76=F76.cancel,V76=new Z67();Object.keys(this.cache.objects.byPath).filter(function(x76){return x76===e76||x76.startsWith(N67(e76+"/"));}).map(function(k76){return p76.cache.objects.byPath[k76];}).filter(L76).forEach(function(w76){return w76.paths.forEach(function(Y76){a77(w76)||V76.add(p76.getGalacticEntryFromDriveEntry(Y76,w76));});});return a76(V76.get({into:v76,as:P76},{onProgress:R76,cancel:i76}));}.bind(this));}},{key:"refresh",value:function(A76){return new Promise(function(c66,n66){var I66,T66,s66=function(){try{return c66();}catch(M66){return n66(M66);}}.bind(this),r66=function(o66){try{return console.error(o66),s66();}catch(O66){return n66(O66);}}.bind(this);try{return I66=v77.go().addParent(this.rootId),this.connection.runQuery(I66,{includeChildren:true},A76).then(function(g66){try{return T66=g66,this.cache.addObjects(T66).then(function(h66){try{return this.cache.trimObjectsOutsideRoot(),s66();}catch(y66){return r66(y66);}}.bind(this),r66);}catch(H66){return r66(H66);}}.bind(this),r66);}catch(q66){r66(q66);}}.bind(this));}},{key:"findObjectByPath",value:function(Z66){var E66=arguments;return new Promise(function(b66,j66){var u66,J66,K66,t66,C66,N66,f66,S66;u66=1<E66.length&&void 0!==E66[1]?E66[1]:{};Galactic.fillTaskOptions(u66);J66=Galactic.steppedAccumulator(P77({steps:2},u66));if(u66=this.cache.objects.byPath[Z66]){return b66(u66);}K66=p77.filename(Z66);return(u66=p77.dirparent(Z66))&&K66!==this.root?this.findObjectByPath(u66,J66.asTaskOptions()).then(function(B66){try{return t66=B66,J66.step(),C66=v77.go().addField("name",K66).addParent(t66.id),this.connection.runQuery(C66,J66.asTaskOptions()).then(function(m66){try{N66=m66;f66=e77(N66,1);S66=f66[0];J66.step();if(!S66){return j66(new i77({path:Z66}));}this.cache.addObjectAtPath(S66,Z66);return b66(S66);}catch(l66){return j66(l66);}}.bind(this),j66);}catch(Q66){return j66(Q66);}}.bind(this),j66):j66(new i77({path:Z66}));}.bind(this));}},{key:"ensureFolderExists",value:function(z66){var D66=arguments;return new Promise(function(P66,U66){function V66(){return new Promise(function(a66,L66){if(!W66.length){return a66();}p66.push(W66.shift());var i66=function(){try{return a66(V66());}catch(x66){return L66(x66);}}.bind(this),R66=function(k66){try{return d66.connection.createFolderObject({name:p77.filename(G66()),parents:[X66.id]},F66.asTaskOptions()).then(function(w66){try{return X66=w66,F66.step(),i66();}catch(Y66){return L66(Y66);}}.bind(this),L66);}catch(A66){return L66(A66);}}.bind(this);try{return d66.findObjectByPath(G66()).then(function(r81){try{return X66=r81,i66();}catch(s81){return R66(s81);}}.bind(this),R66);}catch(n81){R66(n81);}}.bind(this));}function G66(){var I81="";d66.root.startsWith("/")&&(I81="/");return I81+p66.join("/");}var e66,d66,v66,W66,F66,p66,X66;e66=1<D66.length&&void 0!==D66[1]?D66[1]:{};d66=this;Galactic.fillTaskOptions(e66);z66=d66.internalPath(z66);if(v66=d66.cache.objects.byPath[z66]){return P66(v66);}W66=z66.split("/").filter(function(T81){return T81;});F66=Galactic.steppedAccumulator(P77({steps:W66.length},e66));p66=[W66.shift()];return d66.findObjectByPath(G66()).then(function(c81){try{return X66=c81,V66().then(function(M81){try{return P66(X66);}catch(o81){return U66(o81);}}.bind(this),U66);}catch(O81){return U66(O81);}}.bind(this),U66);}.bind(this));}},{key:"getGalacticEntryFromDriveEntry",value:function(y81,h81){var g81=new Date(h81.modifiedTime),g81=g81.getTime()-g81.getMilliseconds();return a77(h81)?new Galactic.fs.Folder({path:y81,lastModified:g81,src:this}):new Galactic.fs.File({path:y81,digest:h81.md5Checksum,lastModified:g81,size:h81.size,src:this,extra:{id:h81.id,previewUrl:h81.thumbnailLink}});}}]);return H16;}(R77.FileSystem),x77=sketch.store,O67=Promise.resolve(),H67=function(){function H81(q81){q81=q81.clientId;V77(this,H81);this.clientId=q81;this.refresher=Promise.resolve();}F77(H81,[{key:"getValue",value:function(){var Z81=this,E81=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).refreshIfStale,u81=void 0===E81?true:E81;return this.refresher.then(function(){return new Promise(function(S81,j81){var J81,K81,b81;return x77.get("fs.gdrive.accessToken").then(function(t81){try{return J81=t81,x77.get("fs.gdrive.accessToken.expiresAt").then(function(C81){try{return K81=C81,b81=parseInt(K81),J81&&b81>Date.now()||!u81?S81(J81):S81(Z81.refresh());}catch(N81){return j81(N81);}}.bind(this),j81);}catch(f81){return j81(f81);}}.bind(this),j81);}.bind(this));}).tapCatch(function(){return Z81.refresher=Promise.resolve();});}},{key:"clear",value:function(){return x77.unset(["fs.gdrive.accessToken","fs.gdrive.accessToken.expiresAt"]);}},{key:"refresh",value:function(){return new Promise(function(m81,B81){return this.refresher.then(function(l81){try{return this.refresher=c67().catch(function(Q81){var z81=Q81;("undefined"===typeof Q81?false:"object"===n67(Q81))&&(z81=Q81.error);switch(z81.toLowerCase()){case"popup_blocked_by_browser":return c67({useRedirect:true});case"immediate_failed":case"user_logged_out":return c67();default:throw Q81;}}),m81(O67);}catch(D81){return B81(D81);}}.bind(this),B81);}.bind(this));}}]);return H81;}(),h67=function(){function d81(){var W81=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};V77(this,d81);var U81=W81.retries,X81=W81.interval,X81=void 0===X81?[100,1500]:X81;this.accessToken=W81.accessToken;this.queue=[];this.retries=void 0===U81?10:U81;this.minInterval=X81[0];this.maxInterval=X81[1];this.handlers=[];this.processor=S67(this.processCommand.bind(this),this.minInterval);}F77(d81,[{key:"addHandler",value:function(G81,e81){this.handlers.push({when:G81,then:e81});}},{key:"dispatch",value:function(P81){var V81=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},F81=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};Galactic.fillTaskOptions(F81);var p81=Promise.defer();this.queue.push([P81,V81,p81,this.retries,F81]);this.processor.start();return p81.promise;}},{key:"processCommand",value:function(){return new Promise(function(Y81,k81){function w81(){0<r21?x81.push([A81,s21,R81,r21-1]):R81.reject("Exceeded retries");}var x81,v81,A81,s21,R81,r21,i81,L81,n21,a81,T21,c21,M21,I21;x81=this.queue;if(0===x81.length){return this.processor.stop(),Y81();}v81=x81.shift();v81=e77(v81,5);A81=v81[0];s21=v81[1];R81=v81[2];r21=v81[3];v81=v81[4];return v81.cancel.isRequested?(R81.reject("canceled"),Y81()):this.sendRequest(A81,s21,v81).then(function(o21){try{return i81=o21,L81=i81.status,n21=i81.statusText,a81=i81.result,T21=i81.headers,c21=[{when:function(){return 199<L81&&310>L81;},then:function(){this.speedUp();R81.resolve([a81,T21,L81]);}},{when:function(){return 404===L81;},then:function(){R81.reject(n21);}},{when:function(){return 401===L81;},then:function(){return new Promise(function(g21,h21){(function(){try{return g21();}catch(y21){return h21(y21);}}.bind(this));var O21=function(H21){try{return R81.reject(H21),g21();}catch(q21){return h21(q21);}}.bind(this);try{return this.accessToken.refresh().then(function(Z21){try{return w81(),g21();}catch(E21){return O21(E21);}}.bind(this),O21);}catch(u21){O21(u21);}}.bind(this));}},{when:function(){return 499<L81&&600>L81;},then:function(){w81();}},{when:function(){return 403===L81;},then:function(){return new Promise(function(K21,J21){var S21,j21;return u67(a81).then(function(b21){try{return S21=b21,j21=false,(S21.errors||[]).forEach(function(t21){switch(t21.reason){case"sharingRateLimitExceeded":case"userRateLimitExceeded":case"rateLimitExceeded":break;default:j21=true;}}),j21||(this.slowDown(),w81()),K21();}catch(C21){return J21(C21);}}.bind(this),J21);}.bind(this));}}],M21=c21.find(function(N21){N21=N21.when;return N21();})||{then:function(){return new Promise(function(Q21,f21){var B21,l21;return u67(a81).then(function(z21){try{return l21=(B21=z21)&&B21.message||"unknown-error",R81.reject(l21),Q21();}catch(D21){return f21(D21);}}.bind(this),f21);}.bind(this));}},I21=M21.then,Promise.resolve(I21.apply(this)).then(function(d21){try{return Y81();}catch(X21){return k81(X21);}}.bind(this),k81);}catch(W21){return k81(W21);}}.bind(this),k81);}.bind(this));}},{key:"speedUp",value:function(){this.processor.interval=Math.max(this.minInterval,this.processor.interval*=.8);}},{key:"slowDown",value:function(){this.processor.interval=this.maxInterval;}},{key:"sendRequest",value:function(G21){var U21=arguments;return new Promise(function(R21,F21){var p21,P21,V21,v21,L21,e21;p21=1<U21.length&&void 0!==U21[1]?U21[1]:{};P21=U21[2];V21=p21.as;v21=void 0===V21?"json":V21;return this.accessToken.getValue().then(function(i21){try{return L21=i21,sketch.requestXHR(G21,P77({as:"json"},p21,{headers:P77({},p21.headers,{authorization:"Bearer "+L21})},P21)).then(function(a21){try{return e21=a21,R21({status:e21.status,statusText:e21.statusText,result:b67(e21,v21),headers:K67(e21)});}catch(x21){return F21(x21);}}.bind(this),F21);}catch(k21){return F21(k21);}}.bind(this),F21);}.bind(this));}}]);return d81;}(),R77=function(Y21){function w21(){var A21=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};V77(this,w21);var r01=A77(this,(w21.__proto__||Object.getPrototypeOf(w21)).call(this)),s01=A21.clientId,A21=A21.retry;r01.clientId=s01;r01.retry=void 0===A21?1:A21;r01.accessToken=new H67({clientId:s01});return r01;}w77(w21,Y21);F77(w21,[{key:"doConnect",value:function(n01){return new Promise(function(h01,I01){var M01=function(y01){return function(H01){try{return T01.step(),y01&&y01.call(this,H01);}catch(q01){return I01(q01);}}.bind(this);}.bind(this),O01,c01,g01,o01,T01;O01=n01.onProgress;c01=this;g01=c01.retry;o01=c01.accessToken;T01=Galactic.steppedAccumulator({steps:4,onProgress:O01});return sketch.require("https://apis.google.com/js/platform.js",{exposed:["gapi"]}).then(function(Z01){try{return T01.step(),new Promise(function(E01,u01){gapi.load("auth2",E01,u01);}).then(function(j01){try{return T01.step(),gapi.auth2.init({client_id:this.clientId,scope:"profile https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/userinfo.email"}).then(function(K01){try{T01.step();var S01=function(){try{return h01();}catch(b01){return I01(b01);}}.bind(this),J01=function(t01){try{throw console.error(t01),t01;}catch(C01){return M01(I01)(C01);}}.bind(this);try{return J67(function(){return o01.refresh().catch(function(N01){throw N01.toLowerCase();});},{tries:g01}).then(function(f01){try{return c01.connection=new T67({requestQueue:new h67({accessToken:o01})}),M01(S01)();}catch(B01){return J01(B01);}}.bind(this),J01);}catch(m01){J01(m01);}}catch(l01){return I01(l01);}}.bind(this),I01);}catch(Q01){return I01(Q01);}}.bind(this),I01);}catch(z01){return I01(z01);}}.bind(this),I01);}.bind(this));}},{key:"doDisconnect",value:function(){return new Promise(function(d01,D01){var X01;return this.isConnected?this.accessToken.clear().then(function(W01){try{return X01=gapi.auth2.getAuthInstance(),X01.signOut().then(function(U01){try{return d01();}catch(G01){return D01(G01);}}.bind(this),D01);}catch(e01){return D01(e01);}}.bind(this),D01):d01();}.bind(this));}},{key:"doMount",value:function(F01,p01){return new Promise(function(x01,V01){var i01,P01,a01,v01,R01,L01;i01=F01.id;P01=F01.root;a01=F01.order;v01=Galactic.steppedAccumulator(P77({steps:2},p01));return this.connection.getOrUpdateRootFolder(P01,v01.asTaskOptions()).then(function(k01){try{return R01=k01,v01.step(),L01=new I67({id:i01,root:P01,order:a01,rootId:R01.id,connection:this.connection}),L01.cache.addObjectAtPath(R01,P01),L01.refresh(v01.asTaskOptions()).then(function(w01){try{return x01(L01);}catch(Y01){return V01(Y01);}}.bind(this),V01);}catch(A01){return V01(A01);}}.bind(this),V01);}.bind(this));}},{key:"isSupported",get:function(){return navigator?navigator.onLine:false;}},{key:"isConnected",get:function(){return!!this.connection;}}]);return w21;}(Galactic.fs.Adapter),L77=Galactic.fs.changes,g67=L77.MemoryLog,L77=function(s31){function r31(n31){V77(this,r31);n31=A77(this,(r31.__proto__||Object.getPrototypeOf(r31)).call(this,n31));n31.initialized=false;n31.entryCache=new Y77(n31.src);n31.changeRecordCache=new g67();return n31;}w77(r31,s31);F77(r31,[{key:"doAdd",value:function(I31){return new Promise(function(T31,c31){return T31(this.changeRecordCache.add(I31));}.bind(this));}},{key:"filter",value:function(M31){return new Promise(function(O31,o31){return this.initialize().then(function(g31){try{return O31(this.changeRecordCache.filter(M31));}catch(h31){return o31(h31);}}.bind(this),o31);}.bind(this));}},{key:"records",value:function(){return new Promise(function(H31,y31){return this.initialize().then(function(q31){try{return H31(this.changeRecordCache.records());}catch(Z31){return y31(Z31);}}.bind(this),y31);}.bind(this));}},{key:"flush",value:function(){return Promise.all([this.changeRecordCache.flush(),this.src.connection.refreshPageToken()]);}},{key:"initialize",value:function(){return new Promise(function(J31,E31){var u31,j31,S31;u31=this;if(this.initialized){return J31();}this.initialized=true;return this.src.connection.getChangeRecords().then(function(K31){try{return j31=K31,S31=j31.map(function(b31){return b31.fileId;}),this.entryCache.addObjects(S31).then(function(t31){try{return this.entryCache.trimObjectsOutsideRoot(),j31.forEach(function(C31){var N31=u31.entryCache.objects.byId[C31.fileId];N31&&N31.paths.forEach(function(f31){return new Promise(function(B31,l31){return B31(u31.changeRecordCache.add({timestamp:u31.toServerTime(C31.time),type:C31.removed||C31.file.trashed?"delete":"change",path:f31}));}.bind(this));});}),J31();}catch(Q31){return E31(Q31);}}.bind(this),E31);}catch(z31){return E31(z31);}}.bind(this),E31);}.bind(this));}},{key:"toServerTime",value:function(D31){D31=D31||Date.now();return new Date(D31)-this.src.connection.deltaTime;}}]);return r31;}(L77.ChangeLog);Galactic.fs.adapters.gdrive={DriveAdapter:R77,DriveFileSystem:I67,DriveLog:L77,DriveConnection:T67,ObjectCache:Y77,Query:v77};}();(function(d31){"object"===typeof exports&&"undefined"!==typeof module?module.exports=d31():"function"===typeof define&&define.amd?define([],d31):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).Clipboard=d31();}(function(){return function X31(W31,U31,e31){function F31(V31,P31){if(!U31[V31]){if(!W31[V31]){var v31="function"==typeof require&&require;if(!P31&&v31){return v31(V31,true);}if(p31){return p31(V31,true);}P31=Error("Cannot find module '"+V31+"'");throw P31.code="MODULE_NOT_FOUND",P31;}P31=U31[V31]={exports:{}};W31[V31][0].call(P31.exports,function(R31){var L31=W31[V31][1][R31];return F31(L31?L31:R31);},P31,P31.exports,X31,W31,U31,e31);}return U31[V31].exports;}for(var p31="function"==typeof require&&require,G31=0;G31<e31.length;G31++){F31(e31[G31]);}return F31;}({1:[function(i31,a31,x31){"undefined"===typeof Element||Element.prototype.matches||(i31=Element.prototype,i31.matches=i31.matchesSelector||i31.mozMatchesSelector||i31.msMatchesSelector||i31.oMatchesSelector||i31.webkitMatchesSelector);a31.exports=function(k31,w31){for(;k31&&9!==k31.nodeType;){if("function"===typeof k31.matches&&k31.matches(w31)){return k31;}k31=k31.parentNode;}};},{}],2:[function(A31,r51,n51){function s51(I51,T51,M51,c51){return function(o51){o51.delegateTarget=Y31(o51.target,T51);o51.delegateTarget&&c51.call(I51,o51);};}var Y31=A31("./closest");r51.exports=function(g51,H51,h51,q51,y51){var O51=s51.apply(this,arguments);g51.addEventListener(h51,O51,y51);return{destroy:function(){g51.removeEventListener(h51,O51,y51);}};};},{"./closest":1}],3:[function(E51,u51,Z51){Z51.node=function(j51){return void 0!==j51&&j51 instanceof HTMLElement&&1===j51.nodeType;};Z51.nodeList=function(J51){var S51=Object.prototype.toString.call(J51);return void 0!==J51&&("[object NodeList]"===S51||"[object HTMLCollection]"===S51)&&"length"in J51&&(0===J51.length||Z51.node(J51[0]));};Z51.string=function(K51){return"string"===typeof K51||K51 instanceof String;};Z51.fn=function(b51){return"[object Function]"===Object.prototype.toString.call(b51);};},{}],4:[function(C51,f51,l51){function B51(Q51,z51,D51){Q51.addEventListener(z51,D51);return{destroy:function(){Q51.removeEventListener(z51,D51);}};}function m51(d51,X51,W51){Array.prototype.forEach.call(d51,function(U51){U51.addEventListener(X51,W51);});return{destroy:function(){Array.prototype.forEach.call(d51,function(G51){G51.removeEventListener(X51,W51);});}};}var t51=C51("./is"),N51=C51("delegate");f51.exports=function(e51,F51,p51){if(!e51&&!F51&&!p51){throw Error("Missing required arguments");}if(!t51.string(F51)){throw new TypeError("Second argument must be a String");}if(!t51.fn(p51)){throw new TypeError("Third argument must be a Function");}if(t51.node(e51)){return B51(e51,F51,p51);}if(t51.nodeList(e51)){return m51(e51,F51,p51);}if(t51.string(e51)){return N51(document.body,e51,F51,p51);}throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");};},{"./is":3,delegate:2}],5:[function(P51,V51,v51){V51.exports=function(L51){if("SELECT"===L51.nodeName){L51.focus(),L51=L51.value;}else if("INPUT"===L51.nodeName||"TEXTAREA"===L51.nodeName){var R51=L51.hasAttribute("readonly");R51||L51.setAttribute("readonly","");L51.select();L51.setSelectionRange(0,L51.value.length);R51||L51.removeAttribute("readonly");L51=L51.value;}else{L51.hasAttribute("contenteditable")&&L51.focus();var R51=window.getSelection(),i51=document.createRange();i51.selectNodeContents(L51);R51.removeAllRanges();R51.addRange(i51);L51=R51.toString();}return L51;};},{}],6:[function(k51,x51,w51){function a51(){}a51.prototype={on:function(A51,r91,s91){var Y51=this.e||(this.e={});(Y51[A51]||(Y51[A51]=[])).push({fn:r91,ctx:s91});return this;},once:function(I91,T91,c91){function n91(){M91.off(I91,n91);T91.apply(c91,arguments);}var M91=this;n91._=T91;return this.on(I91,n91,c91);},emit:function(y91){var g91=[].slice.call(arguments,1),O91=((this.e||(this.e={}))[y91]||[]).slice(),o91=0,h91=O91.length;for(o91;o91<h91;o91++){O91[o91].fn.apply(O91[o91].ctx,g91);}return this;},off:function(u91,j91){var Z91=this.e||(this.e={}),H91=Z91[u91],E91=[];if(H91&&j91){for(var q91=0,J91=H91.length;q91<J91;q91++){H91[q91].fn!==j91&&H91[q91].fn._!==j91&&E91.push(H91[q91]);}}E91.length?Z91[u91]=E91:delete Z91[u91];return this;}};x51.exports=a51;},{}],7:[function(S91,K91,b91){(function(C91,N91){if("undefined"!==typeof b91){N91(K91,S91("select"));}else{var t91={exports:{}};N91(t91,C91.select);C91.clipboardAction=t91.exports;}}(this,function(Q91,f91){var B91=f91&&f91.__esModule?f91:{default:f91};j.initSymbol();j.initSymbol();j.initSymbolIterator();var m91="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(z91){return typeof z91;}:function(D91){j.initSymbol();j.initSymbol();j.initSymbol();return D91&&"function"===typeof Symbol&&D91.constructor===Symbol&&D91!==Symbol.prototype?"symbol":typeof D91;},l91=function(){function d91(G91,U91){for(var W91=0;W91<U91.length;W91++){var X91=U91[W91];X91.enumerable=X91.enumerable||false;X91.configurable=true;"value"in X91&&(X91.writable=true);Object.defineProperty(G91,X91.key,X91);}}return function(e91,F91,p91){F91&&d91(e91.prototype,F91);p91&&d91(e91,p91);return e91;};}();f91=function(){function V91(P91){if(!(this instanceof V91)){throw new TypeError("Cannot call a class as a function");}this.resolveOptions(P91);this.initSelection();}l91(V91,[{key:"resolveOptions",value:function(){var v91=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=v91.action;this.container=v91.container;this.emitter=v91.emitter;this.target=v91.target;this.text=v91.text;this.trigger=v91.trigger;this.selectedText="";}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget();}},{key:"selectFake",value:function(){var L91=this,R91="rtl"==document.documentElement.getAttribute("dir");this.removeFake();this.fakeHandlerCallback=function(){return L91.removeFake();};this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||true;this.fakeElem=document.createElement("textarea");this.fakeElem.style.fontSize="12pt";this.fakeElem.style.border="0";this.fakeElem.style.padding="0";this.fakeElem.style.margin="0";this.fakeElem.style.position="absolute";this.fakeElem.style[R91?"right":"left"]="-9999px";this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px";this.fakeElem.setAttribute("readonly","");this.fakeElem.value=this.text;this.container.appendChild(this.fakeElem);this.selectedText=(0,B91.default)(this.fakeElem);this.copyText();}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandlerCallback=this.fakeHandler=null);this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null);}},{key:"selectTarget",value:function(){this.selectedText=(0,B91.default)(this.target);this.copyText();}},{key:"copyText",value:function(){var i91=void 0;try{i91=document.execCommand(this.action);}catch(a91){i91=false;}this.handleResult(i91);}},{key:"handleResult",value:function(x91){this.emitter.emit(x91?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)});}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus();window.getSelection().removeAllRanges();}},{key:"destroy",value:function(){this.removeFake();}},{key:"action",set:function(){this._action=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy";if("copy"!==this._action&&"cut"!==this._action){throw Error('Invalid "action" value, use either "copy" or "cut"');}},get:function(){return this._action;}},{key:"target",set:function(k91){if(void 0!==k91){if(k91&&("undefined"===typeof k91?false:"object"===m91(k91))&&1===k91.nodeType){if("copy"===this.action&&k91.hasAttribute("disabled")){throw Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');}if("cut"===this.action&&(k91.hasAttribute("readonly")||k91.hasAttribute("disabled"))){throw Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');}this._target=k91;}else{throw Error('Invalid "target" value, use a valid Element');}}},get:function(){return this._target;}}]);return V91;}();Q91.exports=f91;}));},{select:5}],8:[function(w91,Y91,A91){(function(r11,n11){if("undefined"!==typeof A91){n11(Y91,w91("./clipboard-action"),w91("tiny-emitter"),w91("good-listener"));}else{var s11={exports:{}};n11(s11,r11.clipboardAction,r11.tinyEmitter,r11.goodListener);r11.clipboard=s11.exports;}}(this,function(H11,I11,y11,T11){function c11(Z11){return Z11&&Z11.__esModule?Z11:{default:Z11};}function q11(u11,E11){if("function"!==typeof E11&&null!==E11){throw new TypeError("Super expression must either be null or a function, not "+typeof E11);}u11.prototype=Object.create(E11&&E11.prototype,{constructor:{value:u11,enumerable:false,writable:true,configurable:true}});E11&&(Object.setPrototypeOf?Object.setPrototypeOf(u11,E11):u11.__proto__=E11);}function M11(j11,J11){j11="data-clipboard-"+j11;if(J11.hasAttribute(j11)){return J11.getAttribute(j11);}}var O11=c11(I11);I11=c11(y11);var g11=c11(T11);j.initSymbol();j.initSymbol();j.initSymbolIterator();var h11="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(S11){return typeof S11;}:function(K11){j.initSymbol();j.initSymbol();j.initSymbol();return K11&&"function"===typeof Symbol&&K11.constructor===Symbol&&K11!==Symbol.prototype?"symbol":typeof K11;},o11=function(){function b11(f11,N11){for(var C11=0;C11<N11.length;C11++){var t11=N11[C11];t11.enumerable=t11.enumerable||false;t11.configurable=true;"value"in t11&&(t11.writable=true);Object.defineProperty(f11,t11.key,t11);}}return function(B11,l11,Q11){l11&&b11(B11.prototype,l11);Q11&&b11(B11,Q11);return B11;};}();T11=function(D11){function z11(X11,W11){if(!(this instanceof z11)){throw new TypeError("Cannot call a class as a function");}var d11;d11=(z11.__proto__||Object.getPrototypeOf(z11)).call(this);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}d11=!d11||"object"!==typeof d11&&"function"!==typeof d11?this:d11;d11.resolveOptions(W11);d11.listenClick(X11);return d11;}q11(z11,D11);o11(z11,[{key:"resolveOptions",value:function(){var U11=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"===typeof U11.action?U11.action:this.defaultAction;this.target="function"===typeof U11.target?U11.target:this.defaultTarget;this.text="function"===typeof U11.text?U11.text:this.defaultText;this.container="object"===h11(U11.container)?U11.container:document.body;}},{key:"listenClick",value:function(e11){var G11=this;this.listener=(0,g11.default)(e11,"click",function(F11){return G11.onClick(F11);});}},{key:"onClick",value:function(p11){p11=p11.delegateTarget||p11.currentTarget;this.clipboardAction&&(this.clipboardAction=null);this.clipboardAction=new O11.default({action:this.action(p11),target:this.target(p11),text:this.text(p11),container:this.container,trigger:p11,emitter:this});}},{key:"defaultAction",value:function(V11){return M11("action",V11);}},{key:"defaultTarget",value:function(P11){if(P11=M11("target",P11)){return document.querySelector(P11);}}},{key:"defaultText",value:function(v11){return M11("text",v11);}},{key:"destroy",value:function(){this.listener.destroy();this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null);}}],[{key:"isSupported",value:function(){var L11=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"],R11=!!document.queryCommandSupported;("string"===typeof L11?[L11]:L11).forEach(function(i11){R11=R11&&!!document.queryCommandSupported(i11);});return R11;}}]);return z11;}(I11.default);H11.exports=T11;}));},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8);}));function s8(a11){function w11(){}function Y11(r41){"OES_texture_float_linear"===r41?(void 0===this.$OES_texture_float_linear$&&Object.defineProperty(this,"$OES_texture_float_linear$",{enumerable:false,configurable:false,writable:false,value:new w11()}),r41=this.$OES_texture_float_linear$):r41=x11.call(this,r41);return r41;}function A11(){var s41=k11.call(this);-1===s41.indexOf("OES_texture_float_linear")&&s41.push("OES_texture_float_linear");return s41;}try{a11=a11||document.createElement("canvas").getContext("experimental-webgl");}catch(n41){}if(a11&&-1===a11.getSupportedExtensions().indexOf("OES_texture_float_linear")&&function(I41){if(!I41.getExtension("OES_texture_float")){return false;}var M41=I41.createFramebuffer(),c41=I41.createTexture();I41.bindTexture(I41.TEXTURE_2D,c41);I41.texParameteri(I41.TEXTURE_2D,I41.TEXTURE_MAG_FILTER,I41.NEAREST);I41.texParameteri(I41.TEXTURE_2D,I41.TEXTURE_MIN_FILTER,I41.NEAREST);I41.texParameteri(I41.TEXTURE_2D,I41.TEXTURE_WRAP_S,I41.CLAMP_TO_EDGE);I41.texParameteri(I41.TEXTURE_2D,I41.TEXTURE_WRAP_T,I41.CLAMP_TO_EDGE);I41.texImage2D(I41.TEXTURE_2D,0,I41.RGBA,1,1,0,I41.RGBA,I41.UNSIGNED_BYTE,null);I41.bindFramebuffer(I41.FRAMEBUFFER,M41);I41.framebufferTexture2D(I41.FRAMEBUFFER,I41.COLOR_ATTACHMENT0,I41.TEXTURE_2D,c41,0);M41=I41.createTexture();I41.bindTexture(I41.TEXTURE_2D,M41);I41.texParameteri(I41.TEXTURE_2D,I41.TEXTURE_MAG_FILTER,I41.LINEAR);I41.texParameteri(I41.TEXTURE_2D,I41.TEXTURE_MIN_FILTER,I41.LINEAR);I41.texParameteri(I41.TEXTURE_2D,I41.TEXTURE_WRAP_S,I41.CLAMP_TO_EDGE);I41.texParameteri(I41.TEXTURE_2D,I41.TEXTURE_WRAP_T,I41.CLAMP_TO_EDGE);I41.texImage2D(I41.TEXTURE_2D,0,I41.RGBA,2,2,0,I41.RGBA,I41.FLOAT,new Float32Array([2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]));var c41=I41.createProgram(),T41=I41.createShader(I41.VERTEX_SHADER),o41=I41.createShader(I41.FRAGMENT_SHADER);I41.shaderSource(T41,"      attribute vec2 vertex;      void main() {        gl_Position = vec4(vertex, 0.0, 1.0);      }    ");I41.shaderSource(o41,"      uniform sampler2D texture;      void main() {        gl_FragColor = texture2D(texture, vec2(0.5));      }    ");I41.compileShader(T41);I41.compileShader(o41);I41.attachShader(c41,T41);I41.attachShader(c41,o41);I41.linkProgram(c41);T41=I41.createBuffer();I41.bindBuffer(I41.ARRAY_BUFFER,T41);I41.bufferData(I41.ARRAY_BUFFER,new Float32Array([0,0]),I41.STREAM_DRAW);I41.enableVertexAttribArray(0);I41.vertexAttribPointer(0,2,I41.FLOAT,false,0,0);T41=new Uint8Array(4);I41.useProgram(c41);I41.viewport(0,0,1,1);I41.bindTexture(I41.TEXTURE_2D,M41);I41.drawArrays(I41.POINTS,0,1);I41.readPixels(0,0,1,1,I41.RGBA,I41.UNSIGNED_BYTE,T41);return 127===T41[0]||128===T41[0];}(a11)){var x11=WebGLRenderingContext.prototype.getExtension,k11=WebGLRenderingContext.prototype.getSupportedExtensions;WebGLRenderingContext.prototype.getExtension=Y11;WebGLRenderingContext.prototype.getSupportedExtensions=A11;}}void function(){function Z41(N41,b41,t41,C41){b41||(b41=N41.offsetWidth);t41||(t41=N41.offsetHeight);var K41=this;this.pixelRatio=C41||1;this.source=N41;this.layers=[];this.animating=this.display=false;this.render=function(X41){var Q41=K41.source,D41=K41.filters;if(D41){for(var d41=K41.layers,U41=Math.max(D41.length,d41.length),W41=D41.length-1,B41=0;B41<U41;B41++){var f41=d41[B41]||(d41[B41]=H41()),z41=D41[B41];if(z41){var l41;f41.glfx?(l41=f41._.srcTexture)?l41.clean?l41.clean=false:l41.loadContentsOf(Q41,b41*C41,t41*C41):l41=f41._.srcTexture=f41.texture(Q41):(l41=f41._.srcTexture=f41.texture(Q41),f41.glfx=K41,f41.className="texture"+B41,f41.pixelRatio=K41.pixelRatio||1,Q41.parentNode&&Q41.parentNode.appendChild(f41));f41.style.display=K41.display?K41.display:B41===W41?"block":"none";f41=f41.draw(l41,b41*C41,t41*C41);z41=K41.loadStack(z41,f41,X41);if(false!==z41){console.warn(z41);return;}f41.update();}else{f41.style.display="none";}}}else{console.warn("no filters");}X41&&X41();};this.viewport=function(P41,v41,e41,F41,p41){p41=K41.pixelRatio=p41||K41.pixelRatio;K41.msaa&&(e41*=2,F41*=2);b41=e41;t41=F41;e41=K41.layers;F41=e41.length;for(var V41=0;V41<F41;V41++){var G41=e41[V41];G41.style.width=b41+"px";G41.style.height=t41+"px";G41.ctx.viewport(P41,v41,b41*p41,t41*p41);G41._.srcTexture&&(G41._.srcTexture.destroy(),G41._.srcTexture=G41.texture(K41.source));}};this.loadStack=function(Y41,w41,r71){function A41(){--k41||K41.render(r71);}for(var k41=0,a41=false,x41=0;x41<Y41.length;x41++){var i41=Y41[x41],R41=i41.id,L41=i41.data;if(false!==i41.enabled&&"shader"===i41.cmd){if(void 0===w41[R41]){console.error("filter does not exist",R41);}else{switch(R41){case"colormap":glfx.filters.colormap.loadResource(L41.mapId,A41)&&(k41++,a41="ColorMap is loading.");break;case"displacement":glfx.filters.displacement.loadResource(L41.textureId,A41)&&(k41++,a41="DisplacementMap is loading.");break;case"blend":L41=Object.assign([],L41),L41.layer0=K41.layers[0],L41.layer1=K41.layers[1];}false===a41&&w41[R41].apply(w41,[L41]);}}}return a41;};this.setFilter=function(s71){K41.filters=s71;};this.setDefaults=function(){var I71=this;this.filters={};for(var n71 in glfx.filters){I71.filters[n71]={index:0,enabled:false,values:glfx.filters[n71].defaults};}};this.animate=function(T71){K41.animating=T71;glfx.animate(T71);};this.play=function(){K41.animating=true;glfx.animate(true);};this.pause=function(){K41.animating=false;glfx.animate(false);};this.getComposite=function(){var c71=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(K41.filters){var M71=K41.layers[K41.filters.length-1];return c71.mime?M71.toDataURL(c71.mime,c71.quality):M71;}};this.setDefaults();}function h41(o71){return o71?o71.split(",").map(function(O71){return"width"===O71?window.innerWidth:"width/2"===O71?window.innerWidth/2:"height"===O71?window.innerHeight:"height/2"===O71?window.innerHeight/2:parseFloat(O71);}):"";}function y41(h71,g71){g71||(g71={preserveDrawingBuffer:true,premultipliedAlpha:false});return h71.getContext("webgl",g71)||h71.getContext("experimental-webgl",g71);}function H41(y71){y71||(y71=document.createElement("canvas"));var H71=void 0;try{H71=glfx.gl=y41(y71),"function"===typeof s8&&(s8(H71),s8=false);}catch(Z71){throw H71=glfx.gl=null,"This browser does not support WebGL";}y71._={gl:H71,isInitialized:false,dirty:false,texture:null,srcTexture:null,spareTexture:null,extraTexture:null};y71.ctx=H71;y71.texture=O41(q41);y71.draw=O41(u41);y71.update=O41(j41);y71.getPixelArray=O41(J41);for(var q71 in glfx.filters){y71[q71]=O41(glfx.filters[q71].shader);}y71.addEventListener("webglcontextrestored",function(){for(var E71 in y71._){y71._[E71]instanceof glfx.Shader&&delete y71._[E71],y71._[E71]instanceof glfx.Texture&&delete y71._[E71];}},false);y71.addEventListener("webglcontextlost",function(u71){u71.preventDefault();},false);return y71;}function q41(j71){var J71={_:glfx.Texture.fromElement(j71),loadContentsOf:function(S71,K71,b71){glfx.gl=this._.gl;this._.loadContentsOf(S71,K71,b71);},destroy:function(){this._&&(glfx.gl=this._.gl,this._.destroy());}};return j71.texture=J71;}function S41(t71){var C71=void 0;if(t71.getExtension("OES_texture_float")&&t71.getExtension("OES_texture_float_linear")){var N71=new glfx.Texture(100,100,t71.RGBA,t71.FLOAT);N71.drawTo(function(){C71=t71.FLOAT;},function(){C71=t71.UNSIGNED_BYTE;});N71.destroy();}else{C71=t71.UNSIGNED_BYTE;}return C71;}function E41(m71,l71){var f71=glfx.gl,B71=S41(f71);this.width=m71;this.height=l71;this.randomSeed=sketch.PseudoRandom(1);this._.texture&&this._.texture.destroy();this._.spareTexture&&this._.spareTexture.destroy();this._.extraTexture&&this._.extraTexture.destroy();this._.texture=new glfx.Texture(m71,l71,f71.RGBA,B71);this._.spareTexture=new glfx.Texture(m71,l71,f71.RGBA,B71);this._.extraTexture=new glfx.Texture(0,0,f71.RGBA,B71);this._.mainShader||(this._.mainShader=new glfx.Shader(null,"\n    \tuniform sampler2D texture;\n    \tvarying vec2 texCoord;\n    \tvoid main() {\n    \t\tgl_FragColor = texture2D(texture, vec2(texCoord.x, 1.0 - texCoord.y));\n    \t}\n    "));this._.isInitialized=true;this._.dirty=false;}function u41(Q71,z71,D71){!this._.dirty&&this._.isInitialized&&Q71._.width==this.width&&Q71._.height==this.height||E41.call(this,z71?z71:Q71._.width,D71?D71:Q71._.height);this.now=Date.now();this.startTime=this.startTime||this.now-1;this.random=this.randomSeed.toDouble();Q71._.use();this._.texture.drawTo(function(){return glfx.Shader.getDefaultShader().drawRect();});return this;}function j41(){this._.texture.use();this._.mainShader.drawRect();return this;}function J41(){var d71=glfx.gl,X71=this._.texture.width,W71=this._.texture.height,U71=new Uint8Array(X71*W71*4);this._.texture.drawTo(function(){return d71.readPixels(0,0,X71,W71,d71.RGBA,d71.UNSIGNED_BYTE,U71);});return U71;}function O41(G71){return function(){glfx.gl=this._.gl;return G71.apply(this,arguments);};}window.glfx||(window.glfx={});var g41=sketch.util;glfx.debug=false;glfx.filters={};glfx.presets=[];glfx.presetId=0;glfx.contexts=[];glfx.textures={};glfx.loadFilters=function(e71){glfx.filters.colormap?glfx.filters.colormap.construct():(glfx.presets=[[[{cmd:"input",id:"source0",name:"natural displace",enabled:true}]]],e71());};glfx.destroy=function(){for(var p71=0;p71<glfx.contexts.length;p71++){var F71=glfx.contexts[p71];F71.parentNode&&F71.parentNode.removeChild(F71);for(var P71=F71.gl,v71=P71.layers,V71=0;V71<v71.length;V71++){F71=v71[V71],F71._.srcTexture&&F71._.srcTexture.destroy(),F71.parentNode&&F71.parentNode.removeChild(el);}P71.layers=[];}glfx.contexts=[];};glfx.applyShader=function(R71,L71,i71,a71){L71=new Z41(R71,L71,i71,a71);glfx.contexts.push({source:R71,gl:L71});return L71;};glfx.renderAll=function(w71){function k71(){x71.removeEventListener("playing",k71);setTimeout(function(){glfx.requestAnimation();glfx.cancelAnimation();x71.pause();},250);}if(!glfx.animationId||w71){if(glfx.animationId||!sketch.rtc){glfx.requestAnimation(),glfx.cancelAnimation();}else{var x71=sketch.rtc.getFocusVideo();x71&&(x71.addEventListener("playing",k71),x71.play());}}};glfx.animate=function(Y71){Y71?glfx.requestAnimation():glfx.cancelAnimation();};glfx.requestAnimation=function(r61){null==r61&&glfx.animationId&&glfx.cancelAnimation();r61=0;for(var n61=glfx.contexts,I61=n61.length,s61=0;s61<I61;s61++){var A71=n61[s61].gl;A71&&A71.animating&&"none"!==A71.display&&(A71.render(),r61++);}r61&&(glfx.animationId=requestAnimationFrame(glfx.requestAnimation));};glfx.cancelAnimation=function(){glfx.animationId&&(cancelAnimationFrame(glfx.animationId),delete glfx.animationId);};glfx.loadResource=function(c61,M61,o61,T61,O61,g61){T61=T61||sketch.loc.MEDIA+c61[M61];if("string"!==typeof T61||glfx.textures[T61]){return false;}var h61=sketch.requestImage(T61,{onProgress:void 0}).then(function(q61){var y61=document.createElement("canvas"),H61=y61.getContext("2d");if(O61&&g61){y61.width=O61,y61.height=g61,H61.drawImage(q61,0,0);}else{var Z61=H61.createPattern(q61,"repeat");y61.width=q61.width;y61.height=q61.height;H61.scale(1,1);H61.fillStyle=Z61;H61.fillRect(0,0,1*y61.width,1*y61.height);}setTimeout(function(){y61.ctx=H61;glfx.textures[T61]=c61[M61]=y61;o61&&o61(y61);},0);});glfx.textures[T61]=h61.image;return true;};glfx.param=function(j61,u61,J61){var E61=u61.replace(")","").split("(");u61="percent"===E61[0]?"%":E61[0];E61=h41(E61[1]);return{param:j61,format:u61,value:J61,range:E61};};glfx.config={};glfx.register=function(K61){var C61=K61.type,t61="gl_"+C61,S61=glfx.config[t61]={};S61.toolkitId="media";S61.type=t61;var f61=K61.defaults={},N61={temperature:["#568fcf","#f7e146"],tint:["#00ae47","#c73baf"],exposure:["#777","#eee"],brightness:["#777","#eee"],contrast:["#777","#eee"]};K61.param||console.log(K61);var b61=sketch.ui&&sketch.ui.dataTypes;b61&&(t61=K61.param,K61.param={},t61.forEach(function(z61){var B61=z61.param,l61=z61.format,Q61=z61.value,m61=z61.range;K61.param[B61]=z61;f61[B61]=Q61;switch(l61){case"px":case"int":S61[B61]=new b61.Range({format:l61,value:Q61,param:B61,min:m61[0]||0,max:m61[1]||100});break;case"%":case"float":S61[B61]=new b61.Range({format:l61,value:Q61,param:B61,min:m61[0]||0,max:m61[1]||1});break;case"degree":S61[B61]=new b61.Range({format:l61,value:Q61,param:B61,min:m61[0]||0,max:m61[1]||360});break;case"radian":S61[B61]=new b61.Range({format:l61,value:Q61,param:B61,min:m61[0]||0,max:m61[1]||360*g41.DEG_RAD});break;case"color":S61[B61]=new b61.ColorPicker({color:Q61});break;case"boolean":S61[B61]=new b61.Checkbox({label:B61,checked:true});break;default:console.warn(l61);}N61[B61]&&S61[B61]&&(S61[B61].gradient=N61[B61]);}));glfx.filters[C61]=K61;};glfx.dragCenterPoint=function(D61,W61){var X61=W61.env,d61=X61.type;D61&&D61.activeFilter&&(d61=glfx.config["gl_"+d61],d61.centerX.value=D61.activeFilter.data.centerX=W61.x/X61.width,d61.centerY.value=D61.activeFilter.data.centerY=W61.y/X61.height,D61.render());};glfx.getStack=function(G61){var U61=glfx.presets[glfx.presetId].map(function(F61){var e61=[];F61.forEach(function(p61){false!==p61.enabled&&("blend"===p61.id?(e61.shift(),e61.push({cmd:"shader",id:"blend",data:[p61.data.blendmode,p61.data.srcAmount,p61.data.dstAmount,"texture0","texture1"]})):e61.push(p61));});return e61;});return G61?encodeURIComponent(JSON.stringify(U61)):JSON.stringify(U61);};glfx.getShader=function(v61){var P61=glfx.gl,V61=glfx.filters[v61];V61.dirty&&(delete P61[v61],V61.dirty=false);var P61=P61.canvas,L61=P61._[v61];if(L61){return L61;}V61=V61.shaderCode;return Array.isArray(V61)?P61._[v61]=new glfx.Shader(V61[0],V61[1]):P61._[v61]=new glfx.Shader(null,V61);};glfx.debugRestore=function(){var R61=glfx.gl.getExtension("WEBGL_lose_context");R61.loseContext();setTimeout(function(){return R61.restoreContext();},0);};glfx.simpleShader=function(x61,k61,i61,a61){i61||(i61=this._.texture);a61||(a61=this._.texture);i61.use();this._.spareTexture.drawTo(function(){x61.invalid||x61.uniforms(k61).drawRect();});this._.spareTexture.swapWith(a61);};}();void function(){glfx.Shader=function(){function r8L(c8L,n8L,T8L){var s8L=glfx.gl;T8L=T8L||"NORMAL";this.texCoordAttribute=this.vertexAttribute=null;this.program=s8L.createProgram();c8L=w61(s8L.VERTEX_SHADER,c8L||"\tattribute vec2 vertex;\tattribute vec2 _texCoord;\tvarying vec2 texCoord;\tvoid main() {\t\tvec2 coord = vertex * 2.0 - 1.0;\t\tgl_Position = vec4(coord.x, coord.y, 0.0, 1.0);\t\ttexCoord = _texCoord;\t}");if(!c8L){return this.invalid=true;}s8L.attachShader(this.program,c8L);n8L=n8L||"\tuniform sampler2D texture;\tvarying vec2 texCoord;\tvoid main() {\t\tgl_FragColor = texture2D(texture, texCoord);\t}";if(A61){n8L="#define "+T8L+";\nprecision "+A61+" float;"+n8L;var I8L=w61(s8L.FRAGMENT_SHADER,n8L);if(!I8L){return this.invalid=true;}s8L.attachShader(this.program,I8L);}else{try{I8L=w61(s8L.FRAGMENT_SHADER,"#define "+T8L+";\nprecision highp float;"+n8L),s8L.attachShader(this.program,I8L),A61="highp";}catch(M8L){I8L=w61(s8L.FRAGMENT_SHADER,"#define "+T8L+";\nprecision mediump float;"+n8L),s8L.attachShader(this.program,I8L),A61="mediump";}}s8L.linkProgram(this.program);if(!s8L.getProgramParameter(this.program,s8L.LINK_STATUS)){throw"link error: "+s8L.getProgramInfoLog(this.program);}this.invalid=false;}var w61=function(o8L,g8L){var O8L=glfx.gl;o8L=O8L.createShader(o8L);O8L.shaderSource(o8L,g8L);O8L.compileShader(o8L);if(!O8L.getShaderParameter(o8L,O8L.COMPILE_STATUS)){g8L=O8L.getShaderInfoLog(o8L);if(glfx.handleError){glfx.handleError(g8L);return;}throw"compile error: "+O8L.getShaderInfoLog(o8L);}return o8L;},A61;r8L.getDefaultShader=function(){var h8L=glfx.gl.canvas._;h8L.defaultShader=h8L.defaultShader||new glfx.Shader();return h8L.defaultShader;};var Y61=r8L.prototype;Y61.destroy=function(){glfx.gl.deleteProgram(this.program);this.program=null;};Y61.uniforms=function(u8L){var j8L=this;var H8L=glfx.gl;H8L.useProgram(this.program);for(var Z8L in u8L){if(u8L.hasOwnProperty(Z8L)){var q8L=H8L.getUniformLocation(j8L.program,Z8L);if(null!==q8L){var y8L=u8L[Z8L];if(Array.isArray(y8L)){if(y8L.format){var E8L=y8L.format;if(-1!==E8L.indexOf("matrix")){H8L[E8L](q8L,false,new Float32Array(y8L));}else{H8L[E8L](q8L,new Float32Array(y8L));}}else{switch(y8L.length){case 1:H8L.uniform1fv(q8L,new Float32Array(y8L));break;case 2:H8L.uniform2fv(q8L,new Float32Array(y8L));break;case 3:H8L.uniform3fv(q8L,new Float32Array(y8L));break;case 4:H8L.uniform4fv(q8L,new Float32Array(y8L));break;case 9:H8L.uniformMatrix3fv(q8L,false,new Float32Array(y8L));break;case 16:H8L.uniformMatrix4fv(q8L,false,new Float32Array(y8L));break;default:throw"dont\u2019t know how to load uniform \u201c"+Z8L+"\u201d of length "+y8L.length;}}}else if(isFinite(y8L)){H8L.uniform1f(q8L,y8L);}else{throw"attempted to set uniform \u201c"+Z8L+"\u201d to invalid value "+(y8L||"undefined").toString();}}}}return this;};Y61.textures=function(K8L){var b8L=this;var J8L=glfx.gl;J8L.useProgram(this.program);for(var S8L in K8L){K8L.hasOwnProperty(S8L)&&J8L.uniform1i(J8L.getUniformLocation(b8L.program,S8L),K8L[S8L]);}return this;};Y61.drawRect=function(N8L,f8L,B8L,m8L){var t8L=glfx.gl,C8L=t8L.getParameter(t8L.VIEWPORT);f8L=void 0!==f8L?(f8L-C8L[1])/C8L[3]:0;N8L=void 0!==N8L?(N8L-C8L[0])/C8L[2]:0;B8L=void 0!==B8L?(B8L-C8L[0])/C8L[2]:1;m8L=void 0!==m8L?(m8L-C8L[1])/C8L[3]:1;null==this.vertexBuffer&&(this.vertexBuffer=t8L.createBuffer());t8L.bindBuffer(t8L.ARRAY_BUFFER,this.vertexBuffer);t8L.bufferData(t8L.ARRAY_BUFFER,new Float32Array([N8L,f8L,N8L,m8L,B8L,f8L,B8L,m8L]),t8L.STATIC_DRAW);null==this.texCoordBuffer&&(this.texCoordBuffer=t8L.createBuffer(),t8L.bindBuffer(t8L.ARRAY_BUFFER,this.texCoordBuffer),t8L.bufferData(t8L.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),t8L.STATIC_DRAW));null==this.vertexAttribute&&(this.vertexAttribute=t8L.getAttribLocation(this.program,"vertex"),t8L.enableVertexAttribArray(this.vertexAttribute));null==this.texCoordAttribute&&(this.texCoordAttribute=t8L.getAttribLocation(this.program,"_texCoord"),t8L.enableVertexAttribArray(this.texCoordAttribute));t8L.useProgram(this.program);t8L.bindBuffer(t8L.ARRAY_BUFFER,this.vertexBuffer);t8L.vertexAttribPointer(this.vertexAttribute,2,t8L.FLOAT,false,0,0);t8L.bindBuffer(t8L.ARRAY_BUFFER,this.texCoordBuffer);t8L.vertexAttribPointer(this.texCoordAttribute,2,t8L.FLOAT,false,0,0);t8L.drawArrays(t8L.TRIANGLE_STRIP,0,4);};return r8L;}();}();void function(){glfx.Texture=function(){function z8L(X8L,W8L,U8L,G8L){var d8L=glfx.gl;this.gl=d8L;this.id=d8L.createTexture();this.width=X8L;this.height=W8L;this.format=U8L;this.type=G8L;d8L.bindTexture(d8L.TEXTURE_2D,this.id);d8L.texParameteri(d8L.TEXTURE_2D,d8L.TEXTURE_MAG_FILTER,d8L.LINEAR);d8L.texParameteri(d8L.TEXTURE_2D,d8L.TEXTURE_MIN_FILTER,d8L.LINEAR);d8L.texParameteri(d8L.TEXTURE_2D,d8L.TEXTURE_WRAP_S,d8L.CLAMP_TO_EDGE);d8L.texParameteri(d8L.TEXTURE_2D,d8L.TEXTURE_WRAP_T,d8L.CLAMP_TO_EDGE);X8L&&W8L&&d8L.texImage2D(d8L.TEXTURE_2D,0,U8L,X8L,W8L,0,U8L,G8L,null);}function D8L(e8L){null==Q8L&&(Q8L=document.createElement("canvas"));Q8L.width=e8L.width;Q8L.height=e8L.height;e8L=Q8L.getContext("2d");e8L.clearRect(0,0,Q8L.width,Q8L.height);return e8L;}z8L.fromElement=function(p8L,V8L,P8L){var F8L=glfx.gl;if(F8L){return F8L=new glfx.Texture(0,0,F8L.RGBA,F8L.UNSIGNED_BYTE),F8L.loadContentsOf(p8L,V8L,P8L),F8L;}console.error("gl undefined");};var l8L=z8L.prototype;l8L.loadContentsOf=function(v8L,R8L,i8L){var L8L=glfx.gl;v8L&&(this.width=R8L||v8L.width||v8L.videoWidth,this.height=i8L||v8L.height||v8L.videoHeight,this.width&&this.height&&(L8L.bindTexture(L8L.TEXTURE_2D,this.id),L8L.texImage2D(L8L.TEXTURE_2D,0,this.format,this.format,this.type,v8L)));};l8L.initFromBytes=function(x8L,k8L,w8L){var a8L=glfx.gl;this.width=x8L;this.height=k8L;this.format=a8L.RGBA;this.type=a8L.UNSIGNED_BYTE;a8L.bindTexture(a8L.TEXTURE_2D,this.id);a8L.texImage2D(a8L.TEXTURE_2D,0,a8L.RGBA,x8L,k8L,0,a8L.RGBA,this.type,new Uint8Array(w8L));};l8L.destroy=function(){glfx.gl.deleteTexture(this.id);this.id=null;};l8L.use=function(A8L){var Y8L=glfx.gl;Y8L.activeTexture(Y8L.TEXTURE0+(A8L||0));Y8L.bindTexture(Y8L.TEXTURE_2D,this.id);};l8L.unuse=function(s2L){var r2L=glfx.gl;r2L.activeTexture(r2L.TEXTURE0+(s2L||0));r2L.bindTexture(r2L.TEXTURE_2D,null);};l8L.ensureFormat=function(T2L,c2L,M2L,o2L){var n2L=glfx.gl;if(1==arguments.length){var I2L=arguments[0];T2L=I2L.width;c2L=I2L.height;M2L=I2L.format;o2L=I2L.type;}if(T2L!=this.width||c2L!=this.height||M2L!=this.format||o2L!=this.type){this.width=T2L,this.height=c2L,this.format=M2L,this.type=o2L,n2L.bindTexture(n2L.TEXTURE_2D,this.id),n2L.texImage2D(n2L.TEXTURE_2D,0,this.format,T2L,c2L,0,this.format,this.type,null);}};l8L.drawTo=function(g2L,y2L){var O2L=glfx.gl;this.framebuffer||(this.framebuffer=O2L.createFramebuffer());O2L.bindFramebuffer(O2L.FRAMEBUFFER,this.framebuffer);O2L.framebufferTexture2D(O2L.FRAMEBUFFER,O2L.COLOR_ATTACHMENT0,O2L.TEXTURE_2D,this.id,0);var h2L=O2L.checkFramebufferStatus(O2L.FRAMEBUFFER);if(h2L!==O2L.FRAMEBUFFER_COMPLETE){g2L=glfx.gl;switch(h2L){case g2L.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:console.error("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_ATTACHMENT");break;case g2L.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:console.error("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT");break;case g2L.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:console.error("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_DIMENSIONS");break;case g2L.FRAMEBUFFER_UNSUPPORTED:console.error("Incomplete framebuffer: FRAMEBUFFER_UNSUPPORTED");break;default:console.error("Incomplete framebuffer: "+h2L);}y2L();}else{O2L.viewport(0,0,this.width,this.height),g2L(),O2L.bindFramebuffer(O2L.FRAMEBUFFER,null);}};var Q8L=void 0;l8L.fillUsingCanvas=function(q2L){var H2L=glfx.gl;q2L(D8L(this));this.format=H2L.RGBA;this.type=H2L.UNSIGNED_BYTE;H2L.bindTexture(H2L.TEXTURE_2D,this.id);H2L.texImage2D(H2L.TEXTURE_2D,0,H2L.RGBA,H2L.RGBA,H2L.UNSIGNED_BYTE,Q8L);return this;};l8L.toImage=function(S2L){var Z2L=glfx.gl;this.use();glfx.Shader.getDefaultShader().drawRect();var E2L=this.width*this.height*4,u2L=new Uint8Array(E2L),j2L=D8L(this),J2L=j2L.createImageData(this.width,this.height);Z2L.readPixels(0,0,this.width,this.height,Z2L.RGBA,Z2L.UNSIGNED_BYTE,u2L);for(Z2L=0;Z2L<E2L;Z2L++){J2L.data[Z2L]=u2L[Z2L];}j2L.putImageData(J2L,0,0);S2L.src=Q8L.toDataURL();};l8L.swapWith=function(K2L){var b2L;b2L=K2L.id;K2L.id=this.id;this.id=b2L;b2L=K2L.width;K2L.width=this.width;this.width=b2L;b2L=K2L.height;K2L.height=this.height;this.height=b2L;b2L=K2L.format;K2L.format=this.format;this.format=b2L;};return z8L;}();}();void function(){glfx.helper={};glfx.helper.warpShader=function(t2L,C2L){return new glfx.Shader(null,t2L+"    uniform sampler2D texture;    uniform vec2 texSize;    varying vec2 texCoord;    void main() {        vec2 coord = texCoord * texSize;        "+C2L+"        gl_FragColor = texture2D(texture, coord / texSize);        vec2 clampedCoord = clamp(coord, vec2(0.0), texSize);        if (coord != clampedCoord) {            /* fade to transparent if we are outside the image */            gl_FragColor.a *= max(0.0, 1.0 - length(coord - clampedCoord));        }    }");};glfx.randomShader="    float random(vec3 scale, float seed) {        /* use the fragment position for a different seed per-pixel */        return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);    }";glfx.helper.RGB_HSL="vec3 RGB_HSL(vec3 rgb) {\n\tvec3 hsl;\n\tfloat fmin = min(min(rgb.r, rgb.g), rgb.b);\n\tfloat fmax = max(max(rgb.r, rgb.g), rgb.b);\n\tfloat fdelta = fmax - fmin;\n\thsl.z = (fmax + fmin) / 2.0;\n\tif (fdelta == 0.0) {\n\t\thsl.x = 0.0;\n\t\thsl.y = 0.0;\n\t} else {\n\t\tif (hsl.z < 0.5) {\n\t\t\thsl.y = fdelta / (fmax + fmin);\n\t\t} else {\n\t\t\thsl.y = fdelta / (2.0 - fmax - fmin);\n\t\t}\n\t\tvec3 delta = (((fmax - rgb) / 6.0) + (fdelta / 2.0)) / fdelta;\n\t\tif (rgb.r == fmax ) {\n\t\t\thsl.x = delta.z - delta.y;\n\t\t} else if (rgb.g == fmax) {\n\t\t\thsl.x = (1.0 / 3.0) + delta.x - delta.z;\n\t\t} else if (rgb.b == fmax) {\n\t\t\thsl.x = (2.0 / 3.0) + delta.y - delta.x;\n\t\t}\n\t\tif (hsl.x < 0.0) {\n\t\t\thsl.x += 1.0;\n\t\t} else if (hsl.x > 1.0) {\n\t\t\thsl.x -= 1.0;\n\t\t}\n\t}\n\treturn hsl;\n}";glfx.helper.simplex_noise="vec3 mod289(vec3 x) {\n\treturn x - floor(x * (1.0 / 289.0)) * 289.0;\n}\nvec2 mod289(vec2 x) {\n\treturn x - floor(x * (1.0 / 289.0)) * 289.0;\n}\nvec3 permute(vec3 x) {\n\treturn mod289(((x*34.0)+1.0)*x);\n}\nfloat snoise (vec2 v) {\n\tconst vec4 C = vec4(0.211324865405187, 0.366025403784439, -0.577350269189626, 0.024390243902439);\n\tvec2 i  = floor(v + dot(v, C.yy) );\n\tvec2 x0 = v -   i + dot(i, C.xx);\n\tvec2 i1;\n\ti1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n\tvec4 x12 = x0.xyxy + C.xxzz;\n\tx12.xy -= i1;\n\ti = mod289(i);\n\tvec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 )) + i.x + vec3(0.0, i1.x, 1.0 ));\n\tvec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n\tm = m*m ;\n\tm = m*m ;\n\tvec3 x = 2.0 * fract(p * C.www) - 1.0;\n\tvec3 h = abs(x) - 0.5;\n\tvec3 ox = floor(x + 0.5);\n\tvec3 a0 = x - ox;\n\tm *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\tvec3 g;\n\tg.x  = a0.x  * x0.x  + h.x  * x0.y;\n\tg.yz = a0.yz * x12.xz + h.yz * x12.yw;\n\treturn 130.0 * dot(m, g);\n}";}();void function(){glfx.register({type:"colorMatrix",param:[glfx.param("invert","int(0,1)",0),glfx.param("hue","degree",0),glfx.param("saturation","percent(0,2)",1),glfx.param("tint","int(-100,100)",0),glfx.param("temperature","int(-100,100)",0),glfx.param("contrast","float(-0.5,1)",0),glfx.param("brightness","percent(-0.5,0.5)",0),glfx.param("exposure","float(0.5, 1.5)",1),glfx.param("colorize","int(0,16777215)",-1),glfx.param("monotone","int(0,16777215)",-1),glfx.param("sepia","%",0)],shaderCode:"\n\t\tuniform sampler2D texture;\n\t\tuniform float m0;\n\t\tuniform float m1;\n\t\tuniform float m2;\n\t\tuniform float m3;\n\t\tuniform float m4;\n\t\tuniform float m5;\n\t\tuniform float m6;\n\t\tuniform float m7;\n\t\tuniform float m8;\n\t\tuniform float m9;\n\t\tuniform float m10;\n\t\tuniform float m11;\n\t\tuniform float m12;\n\t\tuniform float m13;\n\t\tuniform float m14;\n\t\tuniform float m15;\n\t\tuniform float m16;\n\t\tuniform float m17;\n\t\tuniform float m18;\n\t\tuniform float m19;\n\n\t\tvarying vec2 texCoord;\n\n\t\tvoid main() {\n\t\t\tvec4 color = texture2D(texture, texCoord).rgba;\n\t\t\tfloat r = clamp((color.r * m0) + (color.g * m1) + (color.b * m2) + (color.a * m3) + m4, 0.0, 1.0);\n\t\t\tfloat g = clamp((color.r * m5) + (color.g * m6) + (color.b * m7) + (color.a * m8) + m9, 0.0, 1.0);\n\t\t\tfloat b = clamp((color.r * m10) + (color.g * m11) + (color.b * m12) + (color.a * m13) + m14, 0.0, 1.0);\n\t\t\tfloat a = clamp((color.r * m15) + (color.g * m16) + (color.b * m17) + (color.a * m18) + m19, 0.0, 1.0);\n\t\t\tcolor.r = r;\n\t\t\tcolor.g = g;\n\t\t\tcolor.b = b;\n\t\t\tcolor.a = a;\n\t\t\tgl_FragColor = color;\n\t\t}\n\t",shader:function(f2L){var m2L=glfx.getShader("colorMatrix");f2L=sketch.canvasUtils.ColorMatrix.setFilter(f2L).matrix;for(var B2L={},N2L=0;N2L<f2L.length;N2L++){B2L["m"+N2L]=f2L[N2L];}glfx.simpleShader.call(this,m2L,B2L);}});}();void function(){glfx.register({type:"mirror",param:[glfx.param("flipX","int(0,1)",0),glfx.param("flipY","int(0,1)",0)],shaderCode:["\tattribute vec2 vertex;\n\tattribute vec2 _texCoord;\n\tuniform float flipX;\n\tuniform float flipY;\n\tvarying vec2 texCoord;\n\tvoid main() {\n\t\tvec2 coord = vertex * 2.0 - 1.0;\n\t\tfloat x = flipX > 0.0 ? 1.0 - coord.x - 1.0 : coord.x;\n\t\tfloat y = flipY > 0.0 ? 1.0 - coord.y - 1.0 : coord.y;\n\t\tgl_Position = vec4(x, y, 0.0, 1.0);\n\t\ttexCoord = _texCoord;\n\t}","    uniform sampler2D texture;\n    varying vec2 texCoord;\n    void main() {\n        gl_FragColor = texture2D(texture, texCoord);\n    }"],shader:function(l2L){var Q2L=l2L.flipX;l2L=l2L.flipY;var z2L=glfx.getShader("mirror");glfx.simpleShader.call(this,z2L,{flipX:isFinite(Q2L)?Q2L:0,flipY:isFinite(l2L)?l2L:0});}});}();void function(){self.glfx||(self.glfx={});glfx.loadFilters=function(d2L){glfx.filters.colormap&&glfx.filters.colormap.construct();var U2L=glfx.presets=[[[{cmd:"input",id:"source0",name:"default",enabled:true}]],[[{cmd:"input",id:"source0",name:"old tv",enabled:true},{cmd:"shader",id:"film",enabled:true,data:[.5,.06637168141592921,.6902654867256637,1024]},{cmd:"shader",id:"bulgePinch",enabled:true,data:[.5,.5,.8,.5663716814159292]},{cmd:"shader",id:"oldFilm",enabled:true,data:[.7,0,.3,.22123893805309736]},{cmd:"shader",id:"vignette",enabled:true,data:[1,1]}]],[[{cmd:"input",id:"source0",name:"natural displace",enabled:true},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[.23008849557522115,.3097345132743363]},{cmd:"shader",id:"colormap",enabled:true,data:[.5707964601769911,1]},{cmd:"shader",id:"displacement",enabled:true,data:[.9734513274336283,.2654867256637168,.2654867256637168,0,0,.017699115044247815]}]],[[{cmd:"input",id:"source0",name:"turquoise displace"},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[-.026548672566371667,.10619469026548678]},{cmd:"shader",id:"colormap",enabled:true,data:[.9424778761061947,11]},{cmd:"shader",id:"vignette",enabled:true,data:[.6415929203539823,1]},{cmd:"shader",id:"triangleBlur",enabled:true,data:[6.6371681415929205]},{cmd:"shader",id:"displacement",enabled:true,data:[.6858407079646017,.4646017699115045,1.3274336283185841,1.0176991150442478]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[-3,.05752212389380531,1]}]],[[{cmd:"input",id:"source0",name:"dot shift"},{cmd:"shader",id:"bulgePinch",enabled:true,data:[.5,.5132743362831859,.5,.6814159292035398]},{cmd:"shader",id:"dotScreen",enabled:true,data:[.5,.5,.001,1.504424778761062]},{cmd:"shader",id:"RGBShift",enabled:true,data:[2.057326162527829,.030530973451327433]},{cmd:"shader",id:"colorMatrixOld",enabled:true,data:[116.28318584070797]}]],[[{cmd:"input",id:"source0",name:"wood",enabled:true},{cmd:"shader",id:"edgeDetect",data:[-2.2566371681415927,.12389380530973451,1],enabled:true},{id:"invert",cmd:"shader",enabled:true,data:[]},{id:"displacement",cmd:"shader",enabled:true,data:[.9424778761061947,.1327433628318584,0,.9690265486725664,41,.1327433628318584]},{id:"colormap",cmd:"shader",enabled:true,data:[.8805309734513275,3]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[.5929203539823009,.5486725663716814,22.90265486725664,0,0,0,0],enabled:true},{id:"oldFilm",cmd:"shader",enabled:true,data:[.7,0,0,.3]}],[{cmd:"shader",id:"blend",data:[13,1,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{id:"zoomBlur",cmd:"shader",enabled:true,data:[.5,.5,.08108108108108109]},{id:"displacement",cmd:"shader",enabled:true,data:[.95,.05405405405405406,2.47787610619469,1.4867256637168142,0,-.6106194690265487]},{id:"ink",cmd:"shader",enabled:true,data:[.2657657657657657]}],[{cmd:"input",id:"source0",enabled:true},{id:"displacement",cmd:"shader",enabled:true,data:[.972972972972973,1.8716814159292035,7.4774774774774775,.5270270270270271,0,.18018018018018012]},{id:"triangleBlur",cmd:"shader",enabled:true,data:[50,50]}],[{cmd:"shader",id:"blend",data:[13,1,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{id:"zoomBlur",cmd:"shader",enabled:true,data:[.5,.5,.0752212389380531]},{id:"colormap",cmd:"shader",enabled:true,data:[1,7]},{id:"displacement",cmd:"shader",enabled:true,data:[.95,.0663716814159292,2.47787610619469,1.4867256637168142,0,-.6106194690265487]},{id:"ink",cmd:"shader",enabled:true,data:[.2743362831858407]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[1.920353982300885,1,1,.025,5.640884955752212,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,19]},{id:"displacement",cmd:"shader",enabled:true,data:[1,1.8716814159292035,.08849557522123894,.584070796460177,0,-.026548672566371723]}],[{cmd:"shader",id:"blend",data:[13,1,1,"texture0","texture1"]},{id:"hueSaturation",cmd:"shader",enabled:true,data:[-1,0]}]],[[{cmd:"input",id:"source0",name:"sepia glow sketch",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[3,.0752212389380531,.11946902654867257]},{cmd:"shader",id:"oldFilm",enabled:true,data:[.6238938053097345,.001,.6548672566371682,.001]},{id:"unsharpMask",cmd:"shader",enabled:true,data:[.8849557522123894,9.823008849557521]},{cmd:"shader",id:"vignette",enabled:true,data:[1,1]},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[.2566371681415929,.5]}]],[[{cmd:"input",id:"source0",name:"bronze hatch",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{cmd:"shader",id:"film",enabled:true,data:[10,0,.6371681415929203,0]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[3,.11946902654867257,.1592920353982301]},{cmd:"shader",id:"vignette",enabled:true,data:[.7477876106194691,.9557522123893806]},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[.19469026548672574,.415929203539823]},{cmd:"shader",id:"colorMatrixOld",enabled:true,data:[92]},{id:"unsharpMask",cmd:"shader",enabled:true,data:[1.0619469026548671,10]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{id:"zoomBlur",cmd:"shader",enabled:true,data:[.5,.5,.10619469026548672]},{id:"displacement",cmd:"shader",enabled:true,data:[.95,.5973451327433629,.6194690265486725,1.752212389380531,0,-.6371681415929203]},{id:"ink",cmd:"shader",enabled:true,data:[.2743362831858407]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[2,1,1,.025,5.640884955752212,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[.6548672566371682,3]},{id:"displacement",cmd:"shader",enabled:true,data:[.584070796460177,.9823008849557522,8.141592920353983,2.0442477876106193,0,-.7787610619469026]}],[{cmd:"shader",id:"blend",data:[4,1,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"hueSaturation",cmd:"shader",enabled:true,data:[.9292035398230087,-.19469026548672563]},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{id:"zoomBlur",cmd:"shader",enabled:true,data:[.5,.5,.10619469026548672]},{id:"displacement",cmd:"shader",enabled:true,data:[.7168141592920354,.0663716814159292,.17699115044247787,3,0,-.6460176991150443]},{id:"ink",cmd:"shader",enabled:true,data:[.2743362831858407]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[2,1,1,.025,5.640884955752212,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,11]},{id:"displacement",cmd:"shader",enabled:true,data:[1,3,1.1504424778761062,1,0,-.026548672566371723]}],[{cmd:"shader",id:"blend",data:[16,.7964601769911505,.7300884955752213,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"hueSaturation",cmd:"shader",enabled:true,data:[.9292035398230087,-.19469026548672563]},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{id:"zoomBlur",cmd:"shader",enabled:true,data:[.5,.5,.10619469026548672]},{id:"displacement",cmd:"shader",enabled:true,data:[.95,.0663716814159292,.17699115044247787,1.4867256637168142,0,-.6106194690265487]},{id:"ink",cmd:"shader",enabled:true,data:[.2743362831858407]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[2,1,1,.025,5.640884955752212,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,11]},{id:"displacement",cmd:"shader",enabled:true,data:[1,3,1.1504424778761062,1,0,-.026548672566371723]}],[{cmd:"shader",id:"blend",data:[16,.7964601769911505,.7300884955752213,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,7]},{id:"denoise",cmd:"shader",enabled:true,data:[10]},{id:"displacement",cmd:"shader",enabled:true,data:[1.0221238938053097,.41150442477876104,.7079646017699115,2.1238938053097343,0,-.9469026548672567]},{id:"colormap",cmd:"shader",enabled:true,data:[1,8]}],[{cmd:"input",id:"source0",enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,19]},{id:"displacement",cmd:"shader",enabled:true,data:[.9955752212389382,3,.5309734513274336,0,0,-.21238938053097345]},{id:"zoomBlur",cmd:"shader",enabled:true,data:[.5,.5,.26548672566371684]}],[{cmd:"shader",id:"blend",data:[16,.7964601769911505,.7300884955752213,"texture0","texture1"]},{id:"hueSaturation",cmd:"shader",enabled:true,data:[.053097345132743445,.18584070796460184]}]],[[{cmd:"input",id:"source0",name:"turquoise displace",enabled:true},{id:"bulgePinch",cmd:"shader",enabled:true,data:[.4774774774774775,.31981981981981983,.5,.4864864864864864]},{id:"displacement",cmd:"shader",enabled:true,data:[1.7162162162162162,2.972972972972973,8.378378378378379,0,10,.072072072072072]},{id:"denoise",cmd:"shader",enabled:true,data:[10]},{cmd:"shader",id:"colormap",enabled:true,data:[1,17]},{cmd:"shader",id:"displacement",enabled:true,data:[3,.13513513513513514,10.18018018018018,0]},{id:"film",cmd:"shader",enabled:true,data:[0,.2,.018018018018018018,2015]},{id:"colormap",cmd:"shader",enabled:true,data:[.7612612612612613,6]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[-3,.04954954954954955,1]}]],[[{cmd:"input",id:"source0",name:"turquoise displace",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[29]},{id:"denoise",cmd:"shader",enabled:true,data:[29]},{cmd:"shader",id:"displacement",enabled:true,data:[3,.7027027027027026,3.153153153153153,1.2297297297297296]},{id:"edgeWork",cmd:"shader",enabled:true,data:[.885135135135135]},{id:"colorify",cmd:"shader",enabled:true,data:[.2072072072072072,[255,0,0]]},{id:"colormap",cmd:"shader",enabled:true,data:[1,1]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"hueSaturation",cmd:"shader",enabled:true,data:[-.584070796460177,.831858407079646]},{id:"displacement",cmd:"shader",enabled:true,data:[.9955752212389382,2.5353982300884956,9.29203539823009,2.7876106194690267,0,.07079646017699126]},{id:"zoomBlur",cmd:"shader",enabled:true,data:[.5,.5,.048672566371681415]},{id:"denoise",cmd:"shader",enabled:true,data:[26]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[2,1,1,.025,5.640884955752212,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,15]}],[{cmd:"shader",id:"blend",data:[17,.7964601769911505,.7300884955752213,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[.5309734513274337,5]}],[{cmd:"input",id:"source0",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[20]},{cmd:"shader",id:"tron",data:[.35398230088495575,.7920353982300885,84.23008849557522,0,0,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,4]}],[{cmd:"shader",id:"blend",data:[9,1,.9778761061946902,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[.6548672566371682,18]},{id:"displacement",cmd:"shader",enabled:true,data:[.7035398230088495,.10619469026548672,.8849557522123894,1.1017699115044248,0,-.23893805309734517]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[.21238938053097345,1,34.29203539823009,.0051991150442477875,5.640884955752212,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[.7256637168141593,1]}],[{cmd:"shader",id:"blend",data:[13,1,.9778761061946902,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"hueSaturation",cmd:"shader",enabled:true,data:[.9292035398230087,.7345132743362832]},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{id:"zoomBlur",cmd:"shader",enabled:true,data:[.5,.5,.10619469026548672]},{id:"displacement",cmd:"shader",enabled:true,data:[.95,.0663716814159292,.17699115044247787,1.4867256637168142,0,-.6106194690265487]},{id:"ink",cmd:"shader",enabled:true,data:[.2743362831858407]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[2,1,1,.025,5.640884955752212,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,19]},{id:"displacement",cmd:"shader",enabled:true,data:[1.008849557522124,3,.5309734513274336,1,0,-.008849557522123908]}],[{cmd:"shader",id:"blend",data:[10,.7964601769911505,.7300884955752213,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"hueSaturation",cmd:"shader",enabled:true,data:[.9292035398230087,.7345132743362832]},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{id:"zoomBlur",cmd:"shader",enabled:true,data:[.5,.5,.10619469026548672]},{id:"displacement",cmd:"shader",enabled:true,data:[.95,.0663716814159292,.17699115044247787,1.4867256637168142,0,-.6106194690265487]},{id:"ink",cmd:"shader",enabled:true,data:[.2743362831858407]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[2,1,1,.025,5.640884955752212,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,11]},{id:"displacement",cmd:"shader",enabled:true,data:[1,3,1.1504424778761062,1,0,-.026548672566371723]}],[{cmd:"shader",id:"blend",data:[16,.7964601769911505,.7300884955752213,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"hueSaturation",cmd:"shader",enabled:true,data:[.9292035398230087,.7345132743362832]},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{id:"zoomBlur",cmd:"shader",enabled:true,data:[.5,.5,.10619469026548672]},{id:"displacement",cmd:"shader",enabled:true,data:[.95,.0663716814159292,.17699115044247787,1.4867256637168142,0,-.6106194690265487]},{id:"ink",cmd:"shader",enabled:true,data:[.2743362831858407]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[2,1,1,.025,5.640884955752212,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,3]},{id:"displacement",cmd:"shader",enabled:true,data:[1,3,1.1504424778761062,1,0,-.026548672566371723]}],[{cmd:"shader",id:"blend",data:[16,.7964601769911505,.7300884955752213,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{id:"zoomBlur",cmd:"shader",enabled:true,data:[.5,.5,.0752212389380531]},{id:"colormap",cmd:"shader",enabled:true,data:[1,7]},{id:"displacement",cmd:"shader",enabled:true,data:[.95,.0663716814159292,.17699115044247787,1.4867256637168142,0,-.6106194690265487]},{id:"ink",cmd:"shader",enabled:true,data:[.2743362831858407]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[1.920353982300885,1,1,.025,5.640884955752212,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,19]},{id:"displacement",cmd:"shader",enabled:true,data:[1,3,1.1504424778761062,1,0,-.026548672566371723]}],[{cmd:"shader",id:"blend",data:[4,.7964601769911505,.7300884955752213,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{id:"displacement",cmd:"shader",enabled:true,data:[.95,.0663716814159292,.17699115044247787,1.4867256637168142,0,-.6106194690265487]},{id:"ink",cmd:"shader",enabled:true,data:[.2743362831858407]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[1.920353982300885,1,2.752212389380531,.025,5.640884955752212,0,0],enabled:true},{id:"ripple",cmd:"shader",enabled:true,data:[.84070796460177,.4424778761061947,1,.5]},{id:"hueSaturation",cmd:"shader",enabled:true,data:[1,-.12389380530973448]}],[{cmd:"shader",id:"blend",data:[4,.7566371681415929,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{id:"colormap",cmd:"shader",enabled:true,data:[1,16]},{id:"displacement",cmd:"shader",enabled:true,data:[.95,.0663716814159292,.17699115044247787,1.4867256637168142,0,-.6106194690265487]}],[{cmd:"input",id:"source0",enabled:true},{id:"ripple",cmd:"shader",enabled:true,data:[.84070796460177,.4424778761061947,1,.5]},{id:"hueSaturation",cmd:"shader",enabled:true,data:[1,.008849557522123908]},{cmd:"shader",id:"tron",data:[1.3097345132743363,1,7.570796460176992,.025,5.640884955752212,0,0],enabled:true}],[{cmd:"shader",id:"blend",data:[4,.7566371681415929,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{id:"colormap",cmd:"shader",enabled:true,data:[1,18]},{id:"displacement",cmd:"shader",enabled:true,data:[.95,.0663716814159292,.17699115044247787,1.4867256637168142,0,-.6106194690265487]},{id:"unsharpMask",cmd:"shader",enabled:true,data:[.4424778761061947,1.991150442477876]}],[{cmd:"input",id:"source0",enabled:true},{id:"ripple",cmd:"shader",enabled:true,data:[.84070796460177,.4424778761061947,1,.5]},{id:"hueSaturation",cmd:"shader",enabled:true,data:[1,.008849557522123908]},{cmd:"shader",id:"tron",data:[1.3097345132743363,1,7.570796460176992,.025,5.640884955752212,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,3]}],[{cmd:"shader",id:"blend",data:[16,.7566371681415929,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{id:"colormap",cmd:"shader",enabled:true,data:[.6194690265486725,15]},{id:"displacement",cmd:"shader",enabled:true,data:[1.0353982300884956,.03982300884955752,.2654867256637168,1.4867256637168142,0,-.6106194690265487]},{id:"unsharpMask",cmd:"shader",enabled:true,data:[.4424778761061947,1.991150442477876]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[1.3097345132743363,1,7.570796460176992,.025,5.640884955752212,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,3]}],[{cmd:"shader",id:"blend",data:[13,.7787610619469026,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[.6194690265486725,10]},{id:"displacement",cmd:"shader",enabled:true,data:[1.0353982300884956,0,10.442477876106196,1.4867256637168142,0,-.6106194690265487]},{id:"unsharpMask",cmd:"shader",enabled:true,data:[1.7699115044247788,7.300884955752212]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[.6460176991150443,1,15.017699115044248,.0051991150442477875,5.640884955752212,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,4]}],[{cmd:"shader",id:"blend",data:[4,.7699115044247787,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[.6194690265486725,10]},{id:"displacement",cmd:"shader",enabled:true,data:[1.0353982300884956,0,10.442477876106196,1.4867256637168142,0,-.6106194690265487]},{id:"zoomBlur",cmd:"shader",enabled:true,data:[.16371681415929204,.19469026548672566,.048672566371681415]},{id:"unsharpMask",cmd:"shader",enabled:true,data:[1.7699115044247788,7.300884955752212]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[.6460176991150443,1,15.017699115044248,.0051991150442477875,5.640884955752212,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,4]}],[{cmd:"shader",id:"blend",data:[4,.7699115044247787,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[.7831858407079646,9]},{id:"displacement",cmd:"shader",enabled:true,data:[1.0353982300884956,0,10.442477876106196,1.4867256637168142,0,-.6106194690265487]},{id:"zoomBlur",cmd:"shader",enabled:true,data:[.5,.19469026548672566,.03982300884955752]},{id:"unsharpMask",cmd:"shader",enabled:true,data:[.9734513274336283,9.15929203539823]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[.6460176991150443,1,15.017699115044248,.0051991150442477875,5.640884955752212,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,4]}],[{cmd:"shader",id:"blend",data:[2,.7699115044247787,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[.7831858407079646,9]},{id:"displacement",cmd:"shader",enabled:true,data:[1.0353982300884956,0,10.442477876106196,.9424778761061947,0,.053097345132743445]},{id:"zoomBlur",cmd:"shader",enabled:true,data:[.5,.27876106194690264,.004424778761061947]},{id:"unsharpMask",cmd:"shader",enabled:true,data:[.9734513274336283,9.15929203539823]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[.6460176991150443,1,15.017699115044248,.02190265486725664,5.640884955752212,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,4]}],[{cmd:"shader",id:"blend",data:[2,.7699115044247787,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,3]},{id:"displacement",cmd:"shader",enabled:true,data:[1.0353982300884956,0,10.442477876106196,1.4867256637168142,0,-.6106194690265487]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[.12389380530973451,.45132743362831856,15.017699115044248,.0051991150442477875,5.640884955752212,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,4]}],[{cmd:"shader",id:"blend",data:[2,1,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,3]},{id:"displacement",cmd:"shader",enabled:true,data:[.7433628318584071,.10619469026548672,.8849557522123894,1.8185840707964602,0,-.23893805309734517]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[.12389380530973451,.45132743362831856,15.017699115044248,.0051991150442477875,5.640884955752212,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,4]}],[{cmd:"shader",id:"blend",data:[2,1,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[.9292035398230089,11]},{id:"displacement",cmd:"shader",enabled:true,data:[3,3,13.008849557522124,3,0,-.22123893805309736]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[.11504424778761062,.336283185840708,100,0,0,0,0],enabled:true},{id:"lumaKey",cmd:"shader",enabled:true,data:[0,.22566371681415928]}],[{cmd:"shader",id:"blend",data:[2,1,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[.5309734513274337,6]},{id:"displacement",cmd:"shader",enabled:true,data:[.7433628318584071,.10619469026548672,.8849557522123894,1.8185840707964602,0,-.23893805309734517]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[.12389380530973451,.45132743362831856,15.017699115044248,.0051991150442477875,5.640884955752212,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,4]}],[{cmd:"shader",id:"blend",data:[0,1,.9778761061946902,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[.5309734513274337,5]},{id:"displacement",cmd:"shader",enabled:true,data:[.7433628318584071,.10619469026548672,.8849557522123894,1.8185840707964602,0,-.23893805309734517]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[.23893805309734514,.43565309734513274,100,0,0,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,4]}],[{cmd:"shader",id:"blend",data:[9,1,.9778761061946902,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"newsprint",enabled:true},{cmd:"shader",id:"film",enabled:true,data:[.5,0,1,5]},{cmd:"shader",id:"dotScreen",enabled:true,data:[.19911504424778761,.21238938053097345,4.36486766914688,2.920353982300885]},{cmd:"shader",id:"RGBShift",enabled:true,data:[.001,.001327433628318584]},{cmd:"shader",id:"oldFilm",enabled:true,data:[.672566371681416,.5176991150442478,.4424778761061947,.21238938053097345]},{cmd:"shader",id:"vignette",enabled:true,data:[.6946902654867256,.7212389380530974]},{cmd:"shader",id:"tiltShift",enabled:true,data:[.001,.22566371681415928,.5796460176991151,.4557522123893805,2.6548672566371683,1063.0088495575221]},{cmd:"shader",id:"sepia",enabled:true,data:[1]}]],[[{cmd:"input",id:"source0",name:"newsprint"},{cmd:"shader",id:"film",enabled:true,data:[2.0132743362831858,.001,.3185840707964602,1309.3097345132744]},{cmd:"shader",id:"dotScreen",enabled:true,data:[.5,.5,.001,5.20353982300885]},{cmd:"shader",id:"RGBShift",enabled:true,data:[2.1963346870229525,.003982300884955752]},{cmd:"shader",id:"oldFilm",enabled:true,data:[.7,.3,.3,.3]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[.9292035398230089,11]},{id:"displacement",cmd:"shader",enabled:true,data:[.7433628318584071,.915929203539823,.7964601769911505,1.470962389380531,0,.5381637168141593]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[.09734513274336283,.39297566371681414,100,0,0,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,18]}],[{cmd:"shader",id:"blend",data:[14,1,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[.9292035398230089,11]},{id:"displacement",cmd:"shader",enabled:true,data:[.7433628318584071,.6238938053097345,.7964601769911505,1.3805309734513274,0,.7079646017699115]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[.09734513274336283,.39297566371681414,100,0,0,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,18]}],[{cmd:"shader",id:"blend",data:[2,1,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[.9292035398230089,10]},{id:"displacement",cmd:"shader",enabled:true,data:[.7433628318584071,0,0,2.190265486725664,0,-1]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[.008849557522123894,.39297566371681414,100,0,0,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,4]}],[{cmd:"shader",id:"blend",data:[18,1,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{id:"colormap",cmd:"shader",enabled:true,data:[.9292035398230089,10]},{id:"displacement",cmd:"shader",enabled:true,data:[.7433628318584071,0,0,2.190265486725664,0,-1]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[.008849557522123894,.39297566371681414,100,0,0,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,4]}],[{cmd:"shader",id:"blend",data:[18,1,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{id:"colormap",cmd:"shader",enabled:true,data:[.41150442477876104,6]},{id:"displacement",cmd:"shader",enabled:true,data:[.7433628318584071,0,0,2.190265486725664,0,-1]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[.008849557522123894,.39297566371681414,100,0,0,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,4]}],[{cmd:"shader",id:"blend",data:[18,1,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{id:"colormap",cmd:"shader",enabled:true,data:[.41150442477876104,6]},{id:"displacement",cmd:"shader",enabled:true,data:[.7433628318584071,.7433628318584071,.08849557522123894,2.176991150442478,0,.23008849557522115]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[.008849557522123894,.39297566371681414,100,0,0,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,4]}],[{cmd:"shader",id:"blend",data:[18,1,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[.9292035398230089,11]},{id:"displacement",cmd:"shader",enabled:true,data:[.7433628318584071,.915929203539823,.7964601769911505,1.470962389380531,0,.5381637168141593]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[.09734513274336283,.39297566371681414,100,0,0,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,18]},{id:"lumaKey",cmd:"shader",enabled:true,data:[.1504424778761062,.23008849557522124]}],[{cmd:"shader",id:"blend",data:[14,1,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[.9380530973451328,11]},{id:"displacement",cmd:"shader",enabled:true,data:[1.2610619469026547,.09292035398230089,1.0619469026548671,0,0,.5381637168141593]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[0,.41150442477876104,19.836283185840706,0,0,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,18]}],[{cmd:"shader",id:"blend",data:[14,1,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{id:"colormap",cmd:"shader",enabled:true,data:[.41150442477876104,6]},{id:"displacement",cmd:"shader",enabled:true,data:[.7433628318584071,0,20,3,0,.23008849557522115]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[.008849557522123894,.39297566371681414,100,0,0,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,4]}],[{cmd:"shader",id:"blend",data:[18,1,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{id:"colormap",cmd:"shader",enabled:true,data:[.6415929203539823,18]},{id:"displacement",cmd:"shader",enabled:true,data:[.7433628318584071,0,20,3,0,.23008849557522115]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[.008849557522123894,.39297566371681414,100,0,0,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,4]}],[{cmd:"shader",id:"blend",data:[0,1,1,"texture0","texture1"]},{id:"edgeDetect",cmd:"shader",enabled:true,data:[-.8761061946902657,.30973451327433627,1]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"oldFilm",cmd:"shader",enabled:true,data:[.7,.3,.3,.3]},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{id:"colormap",cmd:"shader",enabled:true,data:[.41150442477876104,6]},{id:"displacement",cmd:"shader",enabled:true,data:[.7433628318584071,0,20,3,0,.23008849557522115]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[.008849557522123894,.39297566371681414,100,0,0,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,4]}],[{cmd:"shader",id:"blend",data:[18,1,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[.3407079646017699,4]},{id:"displacement",cmd:"shader",enabled:true,data:[.7433628318584071,0,.7964601769911505,1.470962389380531,0,.5381637168141593]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[.09734513274336283,.30973451327433627,100,0,0,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,7]}],[{cmd:"shader",id:"blend",data:[9,1,.9778761061946902,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[.3407079646017699,4]},{id:"displacement",cmd:"shader",enabled:true,data:[.7433628318584071,.8495575221238938,.17699115044247787,1.3805309734513274,15,.6017699115044248]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[.09734513274336283,.30973451327433627,100,0,0,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,7]}],[{cmd:"shader",id:"blend",data:[9,1,.9778761061946902,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,4]},{id:"displacement",cmd:"shader",enabled:true,data:[.7699115044247788,.8495575221238938,.17699115044247787,1.3805309734513274,15,.6017699115044248]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[.09734513274336283,.30973451327433627,100,0,0,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,12]}],[{cmd:"shader",id:"blend",data:[9,1,.9778761061946902,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,4]},{id:"displacement",cmd:"shader",enabled:true,data:[.7699115044247788,.8495575221238938,.17699115044247787,1.3805309734513274,15,.6017699115044248]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[.09734513274336283,.30973451327433627,100,0,0,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,8]}],[{cmd:"shader",id:"blend",data:[9,1,.9778761061946902,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{id:"colormap",cmd:"shader",enabled:true,data:[.41150442477876104,6]},{id:"displacement",cmd:"shader",enabled:true,data:[.7433628318584071,0,20,3,0,.23008849557522115]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[.008849557522123894,.39297566371681414,100,0,0,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,4]}],[{cmd:"shader",id:"blend",data:[18,1,1,"texture0","texture1"]},{id:"brightnessContrast",cmd:"shader",enabled:true,data:[.06194690265486735,.18584070796460184]},{id:"sepia",cmd:"shader",enabled:true,data:[.4026548672566372]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{id:"colormap",cmd:"shader",enabled:true,data:[.6415929203539823,18]},{id:"displacement",cmd:"shader",enabled:true,data:[.7433628318584071,.10619469026548672,0,2.495575221238938,0,.6283185840707965]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[.008849557522123894,.39297566371681414,100,0,0,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,4]}],[{cmd:"shader",id:"blend",data:[0,1,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"green displace",enabled:true},{cmd:"shader",id:"colormap",enabled:true,data:[1,11]},{cmd:"shader",id:"vignette",enabled:true,data:[.6415929203539823,1]},{cmd:"shader",id:"triangleBlur",enabled:true,data:[7.743362831858407]},{cmd:"shader",id:"hueSaturation",enabled:true,data:[-.47787610619469023,.4070796460176991]},{cmd:"shader",id:"displacement",enabled:true,data:[.9424778761061947,.0663716814159292,.08849557522123894,.6504424778761062]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[-2.601769911504425,.048672566371681415,1]}]],[[{cmd:"input",id:"source0",name:"pink"},{cmd:"shader",id:"edgeDetect",data:[-3,.05752212389380531,1],enabled:true},{cmd:"shader",id:"colormap",data:[1,10],enabled:true},{cmd:"shader",id:"hueSaturation",enabled:true,data:[-.16814159292035402,.34513274336283195]},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[.001,.004424778761061954]},{cmd:"shader",id:"lumaKey",enabled:true,data:[.001,.9336283185840708]}]],[[{cmd:"input",id:"source0",name:"blue"},{cmd:"shader",id:"edgeDetect",data:[-3,.09734513274336283,1],enabled:true},{cmd:"shader",id:"colormap",data:[1,10],enabled:true},{cmd:"shader",id:"hueSaturation",enabled:true,data:[-.5486725663716814,.5929203539823009]}]],[[{cmd:"input",id:"source0",name:"Rainbow room"},{cmd:"shader",id:"edgeDetect",data:[3,.07079646017699115,1],enabled:true},{cmd:"shader",id:"colormap",data:[1,19],enabled:true},{cmd:"shader",id:"invert",enabled:true,data:[30]},{cmd:"shader",id:"hueSaturation",enabled:true,data:[.3982300884955752,.2920353982300885]}]],[[{cmd:"input",id:"source0",name:"crisp",enabled:true},{id:"unsharpMask",cmd:"shader",enabled:true,data:[3.274336283185841,4.0265486725663715]},{id:"denoise",cmd:"shader",enabled:true,data:[20]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[.18584070796460228,.26548672566371684,1]}]],[[{cmd:"input",id:"source0",name:"sepia glow sketch"},{cmd:"shader",id:"edgeDetect",enabled:true,data:[.5,1,0]},{cmd:"shader",id:"oldFilm",enabled:true,data:[.6238938053097345,.001,.6548672566371682,.001]},{cmd:"shader",id:"vignette",enabled:true,data:[1,1]},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[.2566371681415929,.5]}]],[[{cmd:"input",id:"source0",name:"bronze hatch"},{cmd:"shader",id:"film",enabled:true,data:[10,.001,.6106194690265486,5]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[.8495575221238938,1,.1592920353982301]},{cmd:"shader",id:"vignette",enabled:true,data:[.7433628318584071,.9557522123893806]},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[.12831858407079644,.5]},{cmd:"shader",id:"colorMatrixOld",enabled:true,data:[121.06194690265488]}]],[[{cmd:"input",id:"source0",name:"dark glow",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{cmd:"shader",id:"tron",data:[.31858407079646023,.32,56.19469026548672,0,0,0,0],enabled:true}]],[[{cmd:"input",id:"source0",name:"tron kaleidoscope",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{cmd:"shader",id:"tron",data:[.25663716814159293,.28761061946902655,84.66814159292035,0,0,11.283185840707963,0],enabled:true}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"swirl",enabled:true,data:[0,.5,335.4424778761062,1]},{cmd:"shader",id:"tron",data:[.35,0,42,0,3,10,2],enabled:true},{cmd:"shader",id:"kaleidoscope",enabled:true,data:[1.55,5]},{cmd:"shader",id:"vignette",enabled:true,data:[1,.5]}],[{cmd:"shader",id:"blend",data:["ADD",1,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,18]},{id:"displacement",cmd:"shader",enabled:true,data:[.7433628318584071,.915929203539823,.7964601769911505,0,17,.32743362831858414]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[.336283185840708,.32,100,0,0,0,0],enabled:true}],[{cmd:"shader",id:"blend",data:[14,1,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"light glow",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{cmd:"shader",id:"edgeDetect",data:[.7,1,1],enabled:true}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[.4,.32,24,0,0,0,0],enabled:true}],[{cmd:"shader",id:"blend",data:["ADD",1,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"cracks",enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,10]},{cmd:"shader",id:"edgeDetect",data:[.7,1,1],enabled:true},{id:"displacement",cmd:"shader",enabled:true,data:[.9955752212389382,0,0,1.0221238938053097,50,-.8053097345132744]}],[{cmd:"input",id:"source0",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{cmd:"shader",id:"tron",data:[.168141592920354,.5309734513274337,100,0,0,0,0],enabled:true},{id:"oldFilm",cmd:"shader",enabled:true,data:[.7,.1,.3,.3]}],[{cmd:"shader",id:"blend",data:[11,1,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"high contrast",enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,1]},{id:"lensBlur",cmd:"shader",enabled:true,data:[7.079646017699115,.75,0]},{cmd:"shader",id:"edgeDetect",data:[-.5575221238938051,1,1],enabled:true}],[{cmd:"input",id:"source0",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{cmd:"shader",id:"tron",data:[.1238938053097347,.8805309734513275,100,0,0,0,0],enabled:true},{id:"oldFilm",cmd:"shader",enabled:true,data:[.7,.1,.3,.3]}],[{cmd:"shader",id:"blend",data:[11,1,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"green canvas",enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,9]},{id:"lensBlur",cmd:"shader",enabled:true,data:[29.646017699115045,.75,0]},{cmd:"shader",id:"edgeDetect",data:[-.5575221238938051,1,1],enabled:true},{id:"displacement",cmd:"shader",enabled:true,data:[.9955752212389382,0,0,1.7256637168141593,28,-.11504424778761058]}],[{cmd:"input",id:"source0",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{cmd:"shader",id:"tron",data:[.13274336283185842,.8805309734513275,100,0,0,0,0],enabled:true},{id:"oldFilm",cmd:"shader",enabled:true,data:[.7,.1,.3,.3]}],[{cmd:"shader",id:"blend",data:[11,1,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"coffee stains",enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,14]},{id:"lensBlur",cmd:"shader",enabled:true,data:[29.646017699115045,.75,0]},{cmd:"shader",id:"edgeDetect",data:[-.5575221238938051,1,1],enabled:true},{id:"displacement",cmd:"shader",enabled:true,data:[.9955752212389382,1.247787610619469,10.353982300884956,.7831858407079646,22,.1504424778761062]}],[{cmd:"input",id:"source0",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{cmd:"shader",id:"tron",data:[.13274336283185842,.8805309734513275,100,0,0,0,0],enabled:true},{id:"oldFilm",cmd:"shader",enabled:true,data:[.7,.1,.3,.3]}],[{cmd:"shader",id:"blend",data:[11,1,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"sunrise",enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,15]},{cmd:"shader",id:"edgeDetect",data:[.7,1,1],enabled:true},{id:"displacement",cmd:"shader",enabled:true,data:[.9955752212389382,.15486725663716813,0,2.349557522123894,29,.10619469026548667]}],[{cmd:"input",id:"source0",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{cmd:"shader",id:"tron",data:[.11504424778761062,.4823008849557522,100,0,0,0,3.451327433628318],enabled:true},{id:"oldFilm",cmd:"shader",enabled:true,data:[.7,.1,.3,.3]}],[{cmd:"shader",id:"blend",data:[11,1,1,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"orange radiant"},{cmd:"shader",id:"edgeDetect",enabled:true,data:[.7699115044247787,1,1]},{cmd:"shader",id:"oldFilm",enabled:true,data:[.6327433628318584,.001,.4,.001]},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[-.37168141592920356,.23451327433628322]},{cmd:"shader",id:"colorMatrixOld",enabled:true,data:[264.42477876106193]},{cmd:"shader",id:"hueSaturation",enabled:true,data:[.5044247787610618,.7699115044247788]}]],[[{cmd:"input",id:"source0",name:"blue radiant"},{cmd:"shader",id:"film",enabled:true,data:[6.3008849557522115,.001,.001,1693.4557522123894]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[.8849557522123894,1,1]},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[-.37168141592920356,.23451327433628322]},{cmd:"shader",id:"colorMatrixOld",enabled:true,data:[265]},{cmd:"shader",id:"denoise",enabled:true,data:[30]},{cmd:"shader",id:"hueSaturation",enabled:true,data:[.49557522123893816,.7699115044247788]}]],[[{cmd:"input",id:"source0",name:"burn radiant"},{cmd:"shader",id:"film",enabled:false,data:[6.3008849557522115,.001,.001,1693.4557522123894]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[.672566371681416,1,1]},{cmd:"shader",id:"oldFilm",enabled:true,data:[1,.001,.28761061946902655,.001]},{cmd:"shader",id:"hueSaturation",enabled:true,data:[-.20353982300884954,.8230088495575221]}]],[[{cmd:"input",id:"source0",name:"burn fire",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{cmd:"shader",id:"film",enabled:true,data:[6.3008849557522115,0,.5221238938053098,1943]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[.672566371681416,1,.3]},{cmd:"shader",id:"oldFilm",enabled:true,data:[1,.001,.28761061946902655,.001]},{cmd:"shader",id:"hueSaturation",enabled:true,data:[-.20353982300884954,.8230088495575221]}]],[[{cmd:"input",id:"source0",name:"kiwi",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{cmd:"shader",id:"film",enabled:true,data:[10,.001,.6106194690265486,5]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[.7699115044247788,.40707964601769914,1]},{cmd:"shader",id:"vignette",enabled:true,data:[.9513274336283186,1]},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[.19469026548672574,.584070796460177]},{cmd:"shader",id:"colorMatrixOld",enabled:true,data:[149.73451327433628]}]],[[{cmd:"input",id:"source0",name:"yellow monster",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{cmd:"shader",id:"edgeDetect",data:[.6902654867256635,.5486725663716814,1],enabled:true},{cmd:"shader",id:"colormap",data:[.8716814159292036,13],enabled:true},{cmd:"shader",id:"hueSaturation",enabled:true,data:[-.4601769911504425,.8407079646017699]}]],[[{cmd:"input",id:"source0",name:"oompa loompa"},{cmd:"shader",id:"edgeDetect",data:[-3,.03982300884955752,.8938053097345132],enabled:true},{cmd:"shader",id:"colormap",data:[1,0],enabled:true},{cmd:"shader",id:"hueSaturation",enabled:true,data:[-.5663716814159292,.5929203539823009]}]],[[{cmd:"input",id:"source0",name:"green displace"},{cmd:"shader",id:"colormap",enabled:true,data:[1,11]},{cmd:"shader",id:"vignette",enabled:true,data:[.6415929203539823,1]},{cmd:"shader",id:"triangleBlur",enabled:true,data:[6.6371681415929205]},{cmd:"shader",id:"hueSaturation",enabled:true,data:[-.47787610619469023,.4070796460176991]},{cmd:"shader",id:"displacement",enabled:true,data:[.5973451327433629,1,16,1]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[-3,.030973451327433628,1]}]],[[{cmd:"input",id:"source0",name:"natural displace"},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[.2743362831858407,.5]},{cmd:"shader",id:"colormap",enabled:true,data:[.5707964601769911,8]},{cmd:"shader",id:"vignette",enabled:true,data:[.6415929203539823,1]},{cmd:"shader",id:"triangleBlur",enabled:true,data:[6.6371681415929205]},{cmd:"shader",id:"displacement",enabled:true,data:[.9734513274336283,.17699115044247787,.1327433628318584,.6637168141592921]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[-3,.030973451327433628,1]}]],[[{cmd:"input",id:"source0",name:"white displace"},{cmd:"shader",id:"colormap",enabled:true,data:[.8849557522123894,6]},{cmd:"shader",id:"displacement",enabled:true,data:[.30973451327433627,1.836283185840708,.01,2.433628318584071]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[-1.7256637168141593,.04424778761061947,1]},{cmd:"shader",id:"invert",enabled:true,data:[]},{cmd:"shader",id:"hueSaturation",enabled:true,data:[.7345132743362832,.2743362831858407]}]],[[{cmd:"input",id:"source0",name:"blue displace"},{cmd:"shader",id:"colormap",enabled:true,data:[1,18]},{cmd:"shader",id:"triangleBlur",enabled:true,data:[.001]},{cmd:"shader",id:"displacement",enabled:true,data:[.30973451327433627,1.0619469026548671,2.1238938053097343,2.433628318584071]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[-1.7256637168141593,.04424778761061947,1]},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[.15486725663716816,.26106194690265483]},{cmd:"shader",id:"invert",enabled:true,data:[]}]],[[{cmd:"input",id:"source0",name:"red displace"},{cmd:"shader",id:"colormap",enabled:true,data:[.34513274336283184,10]},{cmd:"shader",id:"triangleBlur",enabled:true,data:[.001]},{cmd:"shader",id:"displacement",enabled:true,data:[.5530973451327434,1.6150442477876106,.24336283185840707,2.3451327433628317]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[-1.7256637168141593,.04424778761061947,1]},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[.15486725663716816,.26106194690265483]}]],[[{cmd:"input",id:"source0",name:"vulcan"},{cmd:"shader",id:"edgeDetect",enabled:true,data:[.42,1,.5398230088495575]},{cmd:"shader",id:"vignette",enabled:true,data:[.7433628318584071,.9557522123893806]},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[.28,.5]},{cmd:"shader",id:"colorMatrixOld",enabled:true,data:[106.72566371681417]},{cmd:"shader",id:"hueSaturation",enabled:true,data:[.008849557522123908,.3982300884955752]},{cmd:"shader",id:"vibrance",enabled:true,data:[.017699115044247815]}]],[[{cmd:"input",id:"source0",name:"monster"},{cmd:"shader",id:"edgeDetect",enabled:true,data:[.6371681415929205,1,.7964601769911505]},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[.22123893805309736,.5]},{cmd:"shader",id:"colorMatrixOld",enabled:true,data:[194.3362831858407]}]],[[{cmd:"input",id:"source0",name:"old film"},{cmd:"shader",id:"film",enabled:true,data:[10,.001,.5088495575221239,5]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[.3,1,.4778761061946903]},{cmd:"shader",id:"oldFilm",enabled:true,data:[.001,.001,.8053097345132744,.3]},{cmd:"shader",id:"sepia",enabled:true,data:[.8]},{cmd:"shader",id:"vibrance",enabled:true,data:[1]}]],[[{cmd:"input",id:"source0",name:"invert green"},{cmd:"shader",id:"edgeDetect",data:[3,.2079646017699115,1],enabled:true},{cmd:"shader",id:"colormap",data:[1,3],enabled:true},{cmd:"shader",id:"denoise",enabled:true,data:[30]},{cmd:"shader",id:"hueSaturation",enabled:true,data:[-.16814159292035402,.34513274336283195]}]],[[{cmd:"input",id:"source0",name:"invert blue"},{cmd:"shader",id:"edgeDetect",data:[3,.07079646017699115,1],enabled:true},{cmd:"shader",id:"colormap",data:[.8716814159292036,15],enabled:true},{cmd:"shader",id:"invert",enabled:true,data:[30]},{cmd:"shader",id:"hueSaturation",enabled:true,data:[-.1415929203539823,.7079646017699115]}]],[[{cmd:"input",id:"source0",name:"zoom distort #1"},{cmd:"shader",id:"film",enabled:true,data:[.5,.3893805309734513,.6592920353982301,5]},{cmd:"shader",id:"colorHalftone",enabled:true,data:[.5,.5,3.169394358488818,3.101769911504425]},{cmd:"shader",id:"oldFilm",enabled:true,data:[.7,.3,.3,.3]},{cmd:"shader",id:"zoomBlur",enabled:true,data:[.5,.5,.10176991150442478]}]],[[{cmd:"input",id:"source0",name:"zoom distort #2"},{cmd:"shader",id:"oldFilm",enabled:true,data:[.7,.8451327433628318,1,1]},{cmd:"shader",id:"zoomBlur",enabled:true,data:[.5,.5,.33185840707964603]},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[0,.5]}]],[[{cmd:"input",id:"source0",name:"zoom distort #3"},{cmd:"shader",id:"film",enabled:true,data:[10,.001,.5088495575221239,5]},{cmd:"shader",id:"bulgePinch",enabled:true,data:[.6742857142857143,.32857142857142857,200,.5]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[.4424778761061947,1,.2]},{cmd:"shader",id:"vignette",enabled:true,data:[.7433628318584071,.9557522123893806]},{cmd:"shader",id:"noise",enabled:true,data:[.001]},{cmd:"shader",id:"zoomBlur",enabled:true,data:[.41,.2342857142857143,.4336283185840708]},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[.17699115044247793,.5]},{cmd:"shader",id:"colorMatrixOld",enabled:true,data:[313.8053097345133]},{cmd:"shader",id:"hueSaturation",enabled:true,data:[0,.3982300884955752]}]],[[{cmd:"input",id:"source0",name:"kaleidoscope",enabled:true},{cmd:"shader",id:"swirl",enabled:true,data:[.5,.5,662.3362831858408,2.477876106194689]},{cmd:"shader",id:"kaleidoscope",enabled:true,data:[5.754952914098117,12.787610619469026]},{cmd:"shader",id:"vignette",enabled:true,data:[.7079646017699115,.6769911504424779]},{cmd:"shader",id:"hueSaturation",enabled:true,data:[.03539823008849563,.31858407079646023]}]],[[{cmd:"input",id:"source0",name:"green kaleidoscope"},{cmd:"shader",id:"popArt",enabled:true,data:[]},{cmd:"shader",id:"swirl",enabled:true,data:[.5,.5,862.3008849557523,.9734513274336276]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[.5,1,1]},{cmd:"shader",id:"kaleidoscope",enabled:true,data:[1.1,4.716814159292035]},{cmd:"shader",id:"vignette",enabled:true,data:[.7654867256637168,.1902654867256637]},{cmd:"shader",id:"hueSaturation",enabled:true,data:[-1,0]}]],[[{cmd:"input",id:"source0",name:"ancient kaleidoscope"},{cmd:"shader",id:"film",enabled:true,data:[.5,.22123893805309736,1.5663716814159292,1068.1017699115046]},{cmd:"shader",id:"popArt",enabled:true,data:[]},{cmd:"shader",id:"bulgePinch",enabled:true,data:[.5,.5,1,-.06194690265486724]},{cmd:"shader",id:"swirl",enabled:true,data:[.5,.5,999,1]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[.5,1,0]},{cmd:"shader",id:"kaleidoscope",enabled:true,data:[4.976505176925425,7.6902654867256635]},{cmd:"shader",id:"oldFilm",enabled:true,data:[.7,.3,.3,.3]},{cmd:"shader",id:"vignette",enabled:true,data:[1,.7964601769911505]},{cmd:"shader",id:"sepia",enabled:true,data:[.8]}]],[[{cmd:"input",id:"source0",name:"ancient kaleidoscope"},{cmd:"shader",id:"film",enabled:true,data:[.5,.2,1,2024]},{cmd:"shader",id:"popArt",enabled:true,data:[]},{cmd:"shader",id:"bulgePinch",enabled:true,data:[.5,.5,.1415929203539823,.12389380530973448]},{cmd:"shader",id:"swirl",enabled:true,data:[.5,.5,.001,1.6814159292035402]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[.5,1,.6371681415929203]},{cmd:"shader",id:"colorIsolation",enabled:true,data:[.5]},{cmd:"shader",id:"kaleidoscope",enabled:true,data:[3.169394358488818,2.911504424778761]},{cmd:"shader",id:"oldFilm",enabled:true,data:[.7,.3,.09734513274336283,.3]},{cmd:"shader",id:"vignette",enabled:true,data:[.6592920353982301,.6504424778761062]},{cmd:"shader",id:"tiltShift",enabled:true,data:[.001,.24336283185840707,.5929203539823009,.5619469026548672,15,200]},{cmd:"shader",id:"sepia",enabled:true,data:[.8]}]],[[{cmd:"input",id:"source0",name:"ancient kaleidoscope",enabled:true},{cmd:"shader",id:"popArt",enabled:true,data:[]},{cmd:"shader",id:"bulgePinch",enabled:true,data:[.5,.5,.1415929203539823,.12389380530973448]},{cmd:"shader",id:"swirl",enabled:true,data:[.5,.5,.001,1.6814159292035402]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[.32432432432432456,.38288288288288286,.6371681415929203]},{cmd:"shader",id:"colorIsolation",enabled:true,data:[.5]},{cmd:"shader",id:"oldFilm",enabled:true,data:[1,.08558558558558559,.09734513274336283,0]},{cmd:"shader",id:"vignette",enabled:true,data:[.6592920353982301,.6504424778761062]}]],[[{cmd:"input",id:"source0",name:"turquoise displace",enabled:true},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[-.026548672566371667,.10619469026548678]},{cmd:"shader",id:"colormap",enabled:true,data:[.9324324324324325,3]},{cmd:"shader",id:"vignette",enabled:true,data:[1,1]},{cmd:"shader",id:"displacement",enabled:true,data:[.6858407079646017,.4646017699115045,1.3274336283185841,1.0176991150442478]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[-3,.04954954954954955,1]}]],[[{cmd:"input",id:"source0",name:"turquoise displace",enabled:true},{id:"tron",cmd:"shader",enabled:true,data:[1.4234234234234233,.5180180180180181,9.91891891891892,.009346846846846847,0,2.027027027027027,4.324324324324325]},{cmd:"shader",id:"colormap",enabled:true,data:[.6261261261261262,6]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[-.21621621621621623,.25225225225225223,1]}]],[[{cmd:"input",id:"source0",name:"turquoise displace",enabled:true},{cmd:"shader",id:"colormap",enabled:true,data:[.4189189189189189,5]},{id:"invert",cmd:"shader",enabled:true,data:[]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[-.21621621621621623,.25225225225225223,1]},{id:"film",cmd:"shader",enabled:true,data:[.4504504504504504,.11261261261261261,1,1714]}]],[[{cmd:"input",id:"source0",name:"turquoise displace",enabled:true},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[-.3423423423423423,-.3783783783783784]},{cmd:"shader",id:"colormap",enabled:true,data:[.4189189189189189,5]},{id:"invert",cmd:"shader",enabled:true,data:[]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[-.21621621621621623,.25225225225225223,1]},{id:"vibrance",cmd:"shader",enabled:true,data:[.43243243243243246]},{id:"film",cmd:"shader",enabled:true,data:[.4504504504504504,.11261261261261261,1,1714]}]],[[{cmd:"input",id:"source0",name:"turquoise displace",enabled:true},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[-.3423423423423423,-.3783783783783784]},{cmd:"shader",id:"colormap",enabled:true,data:[.7252252252252253,0]},{id:"invert",cmd:"shader",enabled:true,data:[]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[-.21621621621621623,.25225225225225223,1]},{id:"vibrance",cmd:"shader",enabled:true,data:[.43243243243243246]}]],[[{cmd:"input",id:"source0",name:"turquoise displace",enabled:true},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[-.05405405405405406,.10810810810810811]},{cmd:"shader",id:"colormap",enabled:true,data:[.7297297297297297,19]},{cmd:"shader",id:"vignette",enabled:true,data:[1,1]},{id:"invert",cmd:"shader",enabled:true,data:[]},{id:"hueSaturation",cmd:"shader",enabled:true,data:[.8198198198198199,-1]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[-.21621621621621623,.25225225225225223,1]},{id:"vibrance",cmd:"shader",enabled:true,data:[.36036036036036045]},{id:"film",cmd:"shader",enabled:true,data:[.4504504504504504,0,1.009009009009009,1714]}]],[[{cmd:"input",id:"source0",name:"turquoise displace",enabled:true},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[-.05405405405405406,.06306306306306309]},{cmd:"shader",id:"colormap",enabled:true,data:[.7297297297297297,19]},{cmd:"shader",id:"vignette",enabled:true,data:[1,1]},{id:"invert",cmd:"shader",enabled:true,data:[]},{id:"hueSaturation",cmd:"shader",enabled:true,data:[-.5225225225225225,.11711711711711703]},{id:"brightnessContrast",cmd:"shader",enabled:true,data:[.15315315315315314,.08108108108108114]},{id:"film",cmd:"shader",enabled:true,data:[0,.04954954954954955,.954954954954955,1833]},{id:"colorHalftone",cmd:"shader",enabled:true,data:[.009009009009009009,.18468468468468469,2.717053105807389,18]},{id:"hueSaturation",cmd:"shader",enabled:true,data:[-.5225225225225225,.11711711711711703]}]],[[{cmd:"input",id:"source0",name:"turquoise displace",enabled:true},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[-.05405405405405406,.06306306306306309]},{cmd:"shader",id:"colormap",enabled:true,data:[.6711711711711712,19]},{cmd:"shader",id:"vignette",enabled:true,data:[1,1]},{id:"invert",cmd:"shader",enabled:true,data:[]},{id:"hueSaturation",cmd:"shader",enabled:true,data:[-.5315315315315315,.32432432432432434]},{id:"film",cmd:"shader",enabled:true,data:[0,.04954954954954955,.954954954954955,1833]},{id:"colorHalftone",cmd:"shader",enabled:true,data:[.4954954954954955,.12162162162162163,6.283185307179586,8]},{id:"hueSaturation",cmd:"shader",enabled:true,data:[-.5315315315315315,.32432432432432434]}]],[[{cmd:"input",id:"source0",name:"turquoise displace",enabled:true},{id:"hexagonalPixelate",cmd:"shader",enabled:true,data:[.5,.11711711711711711,8.135135135135135]},{cmd:"shader",id:"vignette",enabled:true,data:[1,1]},{id:"hueSaturation",cmd:"shader",enabled:true,data:[-.5315315315315315,.32432432432432434]},{cmd:"shader",id:"colormap",enabled:true,data:[.6711711711711712,19]},{id:"film",cmd:"shader",enabled:true,data:[0,.04954954954954955,.954954954954955,1833]},{id:"colorHalftone",cmd:"shader",enabled:true,data:[.4954954954954955,.12162162162162163,6.283185307179586,8]},{id:"hueSaturation",cmd:"shader",enabled:true,data:[-.5315315315315315,.32432432432432434]}]],[[{cmd:"input",id:"source0",name:"turquoise displace",enabled:true},{id:"hexagonalPixelate",cmd:"shader",enabled:true,data:[.5451923076923076,.3923076923076923,16.60810810810811]},{cmd:"shader",id:"colormap",enabled:true,data:[.43243243243243246,19]},{id:"hueSaturation",cmd:"shader",enabled:true,data:[-.45760000000000056,.5945945945945945]},{cmd:"shader",id:"vignette",enabled:true,data:[1,1]},{id:"lumaKey",cmd:"shader",enabled:true,data:[.3153153153153153,.04954954954954955]},{cmd:"shader",id:"colormap",enabled:true,data:[.43243243243243246,19]},{id:"film",cmd:"shader",enabled:true,data:[0,0,0,1833]},{id:"colorHalftone",cmd:"shader",enabled:true,data:[.4954954954954955,.12162162162162163,6.283185307179586,8]},{id:"hueSaturation",cmd:"shader",enabled:true,data:[-.45760000000000056,.5945945945945945]}]],[[{cmd:"input",id:"source0",name:"turquoise displace",enabled:true},{id:"hexagonalPixelate",cmd:"shader",enabled:true,data:[.5451923076923076,.3923076923076923,16.60810810810811]},{cmd:"shader",id:"colormap",enabled:true,data:[.43243243243243246,19]},{id:"hueSaturation",cmd:"shader",enabled:true,data:[-.46846846846846846,.5945945945945945]},{cmd:"shader",id:"vignette",enabled:true,data:[1,1]},{id:"lumaKey",cmd:"shader",enabled:true,data:[.3153153153153153,.04954954954954955]},{cmd:"shader",id:"colormap",enabled:true,data:[.43243243243243246,19]},{id:"colorHalftone",cmd:"shader",enabled:true,data:[.4954954954954955,.8693693693693694,.5377500938577123,19]},{id:"hueSaturation",cmd:"shader",enabled:true,data:[-.46846846846846846,.5945945945945945]}]],[[{cmd:"input",id:"source0",name:"turquoise displace",enabled:true},{id:"tron",cmd:"shader",enabled:true,data:[0,.30180180180180183,70.56756756756756,.014076576576576579,2.14990990990991,48.1981981981982,5.900900900900901]},{cmd:"shader",id:"triangleBlur",enabled:true,data:[14.63963963963964]},{cmd:"shader",id:"vignette",enabled:true,data:[1,.46396396396396394]},{id:"film",cmd:"shader",enabled:true,data:[0,0,.07207207207207207,1823]},{id:"oldFilm",cmd:"shader",enabled:true,data:[.38738738738738737,.12612612612612611,.481981981981982,0]},{id:"lumaKey",cmd:"shader",enabled:true,data:[.3783783783783784,0]},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[-.027027027027026973,.1351351351351351]},{id:"invert",cmd:"shader",enabled:true,data:[]}]],[[{cmd:"input",id:"source0",name:"turquoise displace",enabled:true},{id:"tron",cmd:"shader",enabled:true,data:[0,.23873873873873874,1,.014076576576576579,2.14990990990991,48.1981981981982,5.900900900900901]},{cmd:"shader",id:"vignette",enabled:true,data:[1,.46396396396396394]},{id:"film",cmd:"shader",enabled:true,data:[0,0,.07207207207207207,1823]},{id:"oldFilm",cmd:"shader",enabled:true,data:[0,.10810810810810811,.44144144144144143,0]},{id:"lumaKey",cmd:"shader",enabled:true,data:[.3783783783783784,0]},{id:"invert",cmd:"shader",enabled:true,data:[]},{id:"colorHalftone",cmd:"shader",enabled:true,data:[.4189189189189189,.35135135135135137,4.783145571681757,2]}]],[[{cmd:"input",id:"source0",name:"turquoise displace",enabled:true},{id:"tron",cmd:"shader",enabled:true,data:[0,.23873873873873874,1,.014076576576576579,2.14990990990991,48.1981981981982,5.900900900900901]},{cmd:"shader",id:"colormap",enabled:true,data:[.26126126126126126,15]},{cmd:"shader",id:"displacement",enabled:true,data:[1.635135135135135,0,3.873873873873874,1.8918918918918919]},{cmd:"shader",id:"vignette",enabled:true,data:[.9279279279279279,.38738738738738737]},{cmd:"shader",id:"colormap",enabled:true,data:[.26126126126126126,15]},{id:"film",cmd:"shader",enabled:true,data:[0,.0945945945945946,.26126126126126126,1823]},{id:"oldFilm",cmd:"shader",enabled:true,data:[.545045045045045,.11261261261261261,.8378378378378378,0]},{id:"lumaKey",cmd:"shader",enabled:true,data:[.3963963963963964,0]},{id:"tiltShift",cmd:"shader",enabled:true,data:[.1,.11711711711711711,.9,.9,61.261261261261254,1046]},{id:"invert",cmd:"shader",enabled:true,data:[]}]],[[{cmd:"input",id:"source0",name:"turquoise displace",enabled:true},{id:"tron",cmd:"shader",enabled:true,data:[0,.23873873873873874,1,.014076576576576579,2.14990990990991,48.1981981981982,5.900900900900901]},{cmd:"shader",id:"colormap",enabled:true,data:[.26126126126126126,15]},{cmd:"shader",id:"vignette",enabled:true,data:[.9279279279279279,.38738738738738737]},{cmd:"shader",id:"colormap",enabled:true,data:[.26126126126126126,15]},{id:"film",cmd:"shader",enabled:true,data:[0,.0945945945945946,.18018018018018017,1641]},{id:"oldFilm",cmd:"shader",enabled:true,data:[.1036036036036036,.11261261261261261,.34684684684684686,0]},{id:"lumaKey",cmd:"shader",enabled:true,data:[.11711711711711711,0]},{id:"invert",cmd:"shader",enabled:true,data:[]},{id:"sepia",cmd:"shader",enabled:true,data:[.2972972972972973]}]],[[{cmd:"input",id:"source0",name:"turquoise displace",enabled:true},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[-.026548672566371667,.10619469026548678]},{id:"displacement",cmd:"shader",enabled:true,data:[1.6621621621621623,.5405405405405406,1.0810810810810811,.8648648648648649,30,.1]},{cmd:"shader",id:"colormap",enabled:true,data:[1,9]},{id:"colorIsolation",cmd:"shader",enabled:true,data:[198,360]},{id:"hueSaturation",cmd:"shader",enabled:true,data:[-.2072072072072072,.5675675675675675]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[-3,.04954954954954955,1]}]],[[{cmd:"input",id:"source0",name:"turquoise displace",enabled:true},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[-.026548672566371667,.10619469026548678]},{id:"displacement",cmd:"shader",enabled:true,data:[1.6621621621621623,.5405405405405406,0,0,10,.072072072072072]},{id:"denoise",cmd:"shader",enabled:true,data:[10]},{cmd:"shader",id:"colormap",enabled:true,data:[1,9]},{cmd:"shader",id:"displacement",enabled:true,data:[3,.10810810810810811,13.243243243243244,0]},{id:"colormap",cmd:"shader",enabled:true,data:[1,11]},{id:"invert",cmd:"shader",enabled:true,data:[]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[-3,.04954954954954955,1]}]],[[{cmd:"input",id:"source0",name:"turquoise displace",enabled:true},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[.19819819819819817,.1351351351351351]},{id:"displacement",cmd:"shader",enabled:true,data:[1.5135135135135134,.5945945945945946,0,0,10,.072072072072072]},{cmd:"shader",id:"colormap",enabled:true,data:[1,9]},{id:"ink",cmd:"shader",enabled:true,data:[.06407567567567574]},{cmd:"shader",id:"vignette",enabled:true,data:[0,1]},{cmd:"shader",id:"displacement",enabled:true,data:[3,.10810810810810811,13.243243243243244,0]},{id:"colorIsolation",cmd:"shader",enabled:true,data:[198,360]},{id:"hueSaturation",cmd:"shader",enabled:true,data:[-.43243243243243246,-1]},{id:"colormap",cmd:"shader",enabled:true,data:[1,11]},{id:"invert",cmd:"shader",enabled:true,data:[]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[-3,.04954954954954955,1]}]],[[{cmd:"input",id:"source0",name:"turquoise displace",enabled:true},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[.19819819819819817,.1351351351351351]},{id:"displacement",cmd:"shader",enabled:true,data:[1.5135135135135134,.5945945945945946,0,0,10,.072072072072072]},{cmd:"shader",id:"colormap",enabled:true,data:[1,9]},{cmd:"shader",id:"displacement",enabled:true,data:[3,.013513513513513514,.09009009009009009,0,0]},{id:"colormap",cmd:"shader",enabled:true,data:[.8198198198198198,4]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[-3,.04954954954954955,1]}]],[[{cmd:"input",id:"source0",name:"rainbow tron",enabled:true},{id:"hueSaturation",cmd:"shader",enabled:true,data:[.9292035398230087,-.19469026548672563]},{id:"denoise",cmd:"shader",enabled:true,data:[30]},{id:"zoomBlur",cmd:"shader",enabled:true,data:[.5,.5,.10619469026548672]},{id:"displacement",cmd:"shader",enabled:true,data:[.95,.0663716814159292,.17699115044247787,1.4867256637168142,0,-.6106194690265487]},{id:"ink",cmd:"shader",enabled:true,data:[.2743362831858407]}],[{cmd:"input",id:"source0",enabled:true},{cmd:"shader",id:"tron",data:[2,1,1,.025,5.640884955752212,0,0],enabled:true},{id:"colormap",cmd:"shader",enabled:true,data:[1,11]},{id:"displacement",cmd:"shader",enabled:true,data:[1,3,1.1504424778761062,1,0,-.026548672566371723]}],[{cmd:"shader",id:"blend",data:[17,1,.8423423423423423,"texture0","texture1"]}]],[[{cmd:"input",id:"source0",name:"turquoise displace",enabled:true},{id:"displacement",cmd:"shader",enabled:true,data:[.41891891891891886,2.27027027027027,7.567567567567568,3,36,-.7657657657657657]},{id:"displacement",cmd:"shader",enabled:true,data:[1.135135135135135,.4864864864864865,18.01801801801802,1.743243243243243,29,.6126126126126126]},{id:"denoise",cmd:"shader",enabled:true,data:[10]},{cmd:"shader",id:"displacement",enabled:true,data:[3,.12162162162162163,.18018018018018017,.41891891891891886]},{id:"colormap",cmd:"shader",enabled:true,data:[1,4]},{id:"hueSaturation",cmd:"shader",enabled:true,data:[-.22522522522522526,.7297297297297298]},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[.1711711711711712,.32432432432432434]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[-3,.02252252252252252,1]}]],[[{cmd:"input",id:"source0",name:"turquoise displace",enabled:true},{id:"displacement",cmd:"shader",enabled:true,data:[.41891891891891886,2.27027027027027,7.567567567567568,3,36,-.7657657657657657]},{id:"displacement",cmd:"shader",enabled:true,data:[1.135135135135135,.4864864864864865,18.01801801801802,1.743243243243243,29,.6126126126126126]},{id:"lensBlur",cmd:"shader",enabled:true,data:[0,.75,1.726460827648445]},{id:"denoise",cmd:"shader",enabled:true,data:[10]},{cmd:"shader",id:"displacement",enabled:true,data:[3,.12162162162162163,.18018018018018017,.41891891891891886]},{id:"bleachBypass",cmd:"shader",enabled:true,data:[.4774774774774775]},{id:"hueSaturation",cmd:"shader",enabled:true,data:[-.22522522522522526,.7297297297297298]},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[.1711711711711712,.32432432432432434]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[-3,.02252252252252252,1]}]],[[{cmd:"input",id:"source0",name:"turquoise displace",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[10]},{cmd:"shader",id:"displacement",enabled:true,data:[3,.12162162162162163,.18018018018018017,.41891891891891886]},{id:"edgeWork",cmd:"shader",enabled:true,data:[.885135135135135]},{id:"colorify",cmd:"shader",enabled:true,data:[.2072072072072072,[255,0,0]]},{id:"colormap",cmd:"shader",enabled:true,data:[1,1]}]],[[{cmd:"input",id:"source0",name:"turquoise displace",enabled:true},{id:"denoise",cmd:"shader",enabled:true,data:[10]},{cmd:"shader",id:"displacement",enabled:true,data:[3,.12162162162162163,.18018018018018017,.41891891891891886]},{id:"invert",cmd:"shader",enabled:true,data:[]},{id:"edgeWork",cmd:"shader",enabled:true,data:[.885135135135135]},{id:"colorify",cmd:"shader",enabled:true,data:[.2072072072072072,[255,0,0]]},{id:"colormap",cmd:"shader",enabled:true,data:[1,1]},{id:"invert",cmd:"shader",enabled:true,data:[]},{id:"film",cmd:"shader",enabled:true,data:[0,.15315315315315314,.42342342342342343,775]},{id:"denoise",cmd:"shader",enabled:true,data:[10]},{id:"oldFilm",cmd:"shader",enabled:true,data:[.7,.18468468468468469,.15315315315315314,.0045045045045045045]}]],[[{cmd:"input",id:"source0",name:"turquoise displace",enabled:true},{id:"ripple",cmd:"shader",enabled:true,data:[4.1887902047863905,1,.5,.5]},{id:"denoise",cmd:"shader",enabled:true,data:[10]},{cmd:"shader",id:"displacement",enabled:true,data:[3,.12162162162162163,.18018018018018017,.41891891891891886]},{id:"edgeWork",cmd:"shader",enabled:true,data:[.885135135135135]},{id:"oldFilm",cmd:"shader",enabled:true,data:[.21621621621621623,1,1,0]},{id:"denoise",cmd:"shader",enabled:true,data:[10]}]],[[{cmd:"input",id:"source0",name:"turquoise displace",enabled:true},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[.19819819819819817,.1351351351351351]},{id:"displacement",cmd:"shader",enabled:true,data:[1.5135135135135134,.5945945945945946,0,0,10,.072072072072072]},{cmd:"shader",id:"colormap",enabled:true,data:[1,9]},{id:"ink",cmd:"shader",enabled:true,data:[.06407567567567574]},{cmd:"shader",id:"vignette",enabled:true,data:[0,1]},{cmd:"shader",id:"displacement",enabled:true,data:[3,.10810810810810811,13.243243243243244,0]},{id:"colorIsolation",cmd:"shader",enabled:true,data:[198,360]},{id:"colormap",cmd:"shader",enabled:true,data:[1,11]},{id:"hueSaturation",cmd:"shader",enabled:true,data:[-.7027027027027026,-.29729729729729726]},{id:"invert",cmd:"shader",enabled:true,data:[]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[-3,.04954954954954955,1]}]],[[{cmd:"input",id:"source0",name:"turquoise displace",enabled:true},{cmd:"shader",id:"brightnessContrast",enabled:true,data:[.19819819819819817,.19819819819819817]},{id:"displacement",cmd:"shader",enabled:true,data:[1.5135135135135134,.16216216216216217,2.0720720720720722,0,10,.09009009009009006]},{cmd:"shader",id:"colormap",enabled:true,data:[1,9]},{cmd:"shader",id:"displacement",enabled:true,data:[3,.10810810810810811,13.243243243243244,0]},{id:"colormap",cmd:"shader",enabled:true,data:[.36486486486486486,7]},{id:"hueSaturation",cmd:"shader",enabled:true,data:[.027027027027026973,.15315315315315314]},{cmd:"shader",id:"vignette",enabled:true,data:[.7702702702702703,1]},{cmd:"shader",id:"edgeDetect",enabled:true,data:[-3,.04954954954954955,1]}]]];d2L&&d2L();for(d2L=0;d2L<U2L.length;d2L++){var D2L=U2L[d2L];D2L.name=D2L[0][0].name;1<D2L.length&&(D2L[D2L.length-1]=[{cmd:"input",id:"source0"},D2L[D2L.length-1][0]]);for(var X2L=0;X2L<D2L.length;X2L++){for(var G2L=D2L[X2L],W2L=0;W2L<G2L.length;W2L++){var e2L=G2L[W2L];"undefined"===typeof e2L.enabled&&(e2L.enabled=true);}}}glfx.removed=[];glfx.presets.removeItem=function(F2L){F2L=glfx.presets.splice(F2L,1);for(var p2L=0;p2L<F2L.length;p2L++){glfx.removed.push(F2L[p2L]);}};};}();void function(){glfx.register({type:"bleachBypass",param:[glfx.param("opacity","float(0,2)",1)],shaderCode:"\n\n\t\tuniform sampler2D texture;\n\t\tvarying vec2 texCoord;\n\t\tuniform float opacity;\n\n\t\tvoid main() {\n\t\t\tvec4 base = texture2D( texture, texCoord );\n\t\t\tvec3 lumCoeff = vec3( 0.25, 0.65, 0.1 );\n\t\t\tfloat lum = dot( lumCoeff, base.rgb );\n\t\t\tvec3 blend = vec3( lum );\n\t\t\tfloat L = min( 1.0, max( 0.0, 10.0 * ( lum - 0.45 ) ) );\n\t\t\tvec3 result1 = 2.0 * base.rgb * blend;\n\t\t\tvec3 result2 = 1.0 - 2.0 * ( 1.0 - blend ) * ( 1.0 - base.rgb );\n\t\t\tvec3 newColor = mix( result1, result2, L );\n\t\t\tfloat A2 = opacity * base.a;\n\t\t\tvec3 mixRGB = A2 * newColor.rgb;\n\t\t\tmixRGB += ( ( 1.0 - A2 ) * base.rgb );\n\t\t\tgl_FragColor = vec4( mixRGB, base.a );\n\t\t}\n\t",shader:function(P2L){var V2L=glfx.getShader("bleachBypass");glfx.simpleShader.call(this,V2L,P2L);}});}();void function(){glfx.register({type:"brightnessContrast",param:[glfx.param("brightness","float(-0.5,0.5)",0),glfx.param("contrast","float(-0.5,0.5)",0)],shaderCode:"\n\n\t\tuniform sampler2D texture;\n\t\tuniform float brightness;\n\t\tuniform float contrast;\n\t\tvarying vec2 texCoord;\n\n\t\tvoid main() {\n\t\t\tvec4 color = texture2D(texture, texCoord);\n\t\t\tcolor.rgb += brightness;\n\t\t\tif (contrast > 0.0) {\n\t\t\t\tcolor.rgb = (color.rgb - 0.5) / (1.0 - contrast) + 0.5;\n\t\t\t} else {\n\t\t\t\tcolor.rgb = (color.rgb - 0.5) * (1.0 + contrast) + 0.5;\n\t\t\t}\n\t\t\tgl_FragColor = color;\n\t\t}\n\t",shader:function(v2L){var L2L=v2L.brightness;v2L=v2L.contrast;var R2L=glfx.getShader("brightnessContrast");glfx.simpleShader.call(this,R2L,{brightness:sketch.util.clamp(L2L,-1,1),contrast:sketch.util.clamp(v2L,-1,1)});}});}();void function(){glfx.register({type:"colorify",param:[glfx.param("amount","float(0,2)",.2),glfx.param("color","color",[255,0,0])],shaderCode:"\n\n\t\tuniform vec3 color;\n\t\tuniform float amount;\n\t\tuniform sampler2D texture;\n\t\tvarying vec2 texCoord;\n\n\t\tvoid main() {\n\t\t\tvec4 point = texture2D( texture, texCoord );\n\t\t\tvec3 luma = vec3( 0.299, 0.587, 0.114 );\n\t\t\tfloat v = dot( point.xyz, luma );\n\t\t\tgl_FragColor = vec4( v * color, point.w ) * amount + (1.0 - amount) * point;\n\t\t}\n\t",shader:function(a2L){var i2L=glfx.getShader("colorify");glfx.simpleShader.call(this,i2L,a2L);}});}();void function(){glfx.register({type:"colorIsolation",param:[glfx.param("hueStart","int(0,360)",180),glfx.param("hueEnd","int(0,360)",260)],shaderCode:"\n\n\t\tuniform sampler2D texture;\n\t\tuniform float hueStart;\n\t\tuniform float hueEnd;\n\t\tvarying vec2 texCoord;\n\n\t\t"+glfx.helper.RGB_HSL+"\n\n\t\tvoid main(void) {\n\t\t\tvec3 color = texture2D(texture, texCoord).rgb;\n\t\t\tvec3 hsl = RGB_HSL(color);\n\t\t\tfloat gray = 0.299 * color.r + 0.587 * color.g + 0.114 * color.b;\n\t\t\tgl_FragColor.a = 1.0;\n\t\t\tif (hsl.x >= hueStart && hsl.x <= hueEnd) {\n\t\t\t\tgl_FragColor.rgb = color;\n\t\t\t} else {\n\t\t\t\tgl_FragColor.rgb = vec3(gray, gray, gray);\n\t\t\t}\n\t\t}\n\t",shader:function(x2L){var k2L=x2L.hueStart;x2L=x2L.hueEnd;var w2L=glfx.getShader("colorIsolation");glfx.simpleShader.call(this,w2L,{hueEnd:(x2L||1E-4)/360,hueStart:(k2L||1E-4)/360});}});}();void function(){(function(){var Y2L="bgy black-white blues color-negative funky-contrast googley high-contrast-bw hue-minus-60 hue-plus-60 hue-plus-180 infrared inverse monochrome nightvision posterize radioactive red-to-cyan saturated sepia thermal".split(" ");glfx.register({type:"colormap",textures:Y2L,construct:function(){for(var r0L="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAICAYAAABJYvnfAAAETklEQVRIS22TW2gcdRTGv5nd2czeN8mmm1vVFR/WxocYKVEQrII3qC+2FaSKbcEqpoJCKdRKIFgQfOhDH7y8BHwVoQ/iW60taY1tUxtSrbdoQpo0lybbzWZnd2Zvf8/5z+zsrpuFgWW+Pd/5fuecVSDeEfjmNnB8ErgD+gToCUFVYlDQgUrmEWDsCnDmb3rfRk+Q3kegkK4qnShfDwIf/AhMGKT57VpESW+nh/TP14GPpoC0KmuBsOvN9aVDpI0vOt4h8g7LWtZUJY7iwDlgptTgTbkcb6n7vgYKmpPb9uZaBZ3wqF0wy1+RpstcnFttqFWVLnqX9ArMMbgT3gGXAdQ4rOo4UPW1gNcbfOk2qIN3UKMuGaBQOtsUjoda8/bSb4zSGSdcMzjDeak+V/zMGWoNvO7t14eQ3nrPWRgNvNGbaiOdr2N5ec+24BqxxXrfJw1hUd9ah9yax2nuD+/Bevqgs5XmyXrJINp1BEtLw04DDshbI3B6NE8fNTiKhblU08Z5qAwejL6EttAgFucH3Wti6Bp4LPE2quS8cocA5Nbq4Lo2gHBiP4rmItZWXmsBD7fvg6YnYRq3sLHxoXNNdjYeanvPCCoVA4XNn6CoyqNCgX2uDM5bC4SeQSD6NKzCLO6tHW46KRv8MOAJwdy6gUxmtB5OgvdK8JK1hnxmArnCeNPGg9EXCfxxWMYfMLIXYJV+cM+Vw9XAza3rMPNTKJZvyKFwrjZtFyKJAxI8n7lE2r8EMisvlWsbwfPZCZSrKxBiwx1qHXwSpjWDCumKV90rag0CgWEE258n8DkYmxdQrixRg3nZQOOTir8BVesk8Gnkc5PUYBkQWdmA9VjvMZRLaRQyV2AVb9sNFIU2Hoc//Bz8kSdh5WfJ+zxpqzKgl7Yrh7rjCKDqcqgF4xppq6iSrnkehs+TRLTnLRStuyjcvwyr/Jesr4oV6J4hhGKvwBfcRRv/DfnsJcq9gopgfRUB77OIdb9L38swN3+GaU7LvlVZvwbFr50QAf9uBDteIPB55Am8VFmU4dnA732KwA8SeJzC3ZTgrNkBVhHUXibwkRZwDiCoQWfHp9DDu1vAuVaIe+jt+57AfeT9C4FfdcE5nBDr2JmkK7CWCXyiCZxrebv9D00T+O8EfrEJnGv56d05ReDXCPxmE7jUcR/KA8msKBYWYGQuEvi8C2YHoAYPUoPcDPJbl5vABbhBGj39V+V/ybJ+dXU7HDfIIJE4T950TdW7zlDX5OTZG9ikAX2LQo7B61uR9RSO9WjgC/qb/Ck3Zg+17g3kEGz7ZBtw2xswEPCNbgsOZNHdXYES1s+KUmWhBdw2yJHBWAM4BZfg3CALXTehVE86OkPZW2Nw1lMpFfP/HPsfeJo01g3sO7AD35171T3HRvBIpIjjJ1M4/fHwtuBDT/gwenoI+/f2OwO1L6IG/uahPpwaG8RjSa87cAHubYOfODWAoyMp/AcbUr3EZfSLKAAAAABJRU5ErkJggg== data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAICAYAAABJYvnfAAAAcklEQVRIS+2VwQ7AIAhD4f8/GiUZxjBK3DjswEg8vbRiJcpEJHO1Lf4D+HACRISY9Q7iqnDVaiH/xdEEHBuAA2R6Y6jBCt+1kf+N+wAeG7gAMr1nvsEKj7S7P+QWwGuDK4BMj5g1WOHV15vn5r1/ge4BDJuRXu/4rz6bAAAAAElFTkSuQmCC data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAICAYAAABJYvnfAAAAeklEQVRIS2NkYGD4D8RYwX8GYQYZ4Yu4pBmevGVk4GSdiFP++28mBkaGDpzyIPMZGd7SVJ6ZUROn+X//swDtHw2A0RQwmgVGy4DRQnAk1wL/g3GWAf/+MzMwMc7EU00xAquReTjl//1nBOo/gkceZP5fGssL4DGfiQEAQpWPHrbb0F0AAAAASUVORK5CYII= data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAICAYAAABJYvnfAAABbElEQVRIS+2TvU4CQRDHZwGNNja+iU9oiImFiTZamegj2EDQeKAJH4FGVCz8iIlUEhotFBG4HX+7d8DhC1yhkwx7e7+dY+Y/s0axiYg08TK+Kcrv3FSeZMy2hZ/j+QUqYvXY86ZRz7d+xVt9SXCFO5v/h9VsqtxoP1QbF1gxIoc8d5MC6KOECX5A8r0kt0cy4V2L2DLrNmy4EP8MR0AEcjyPu+9NTREgTW50Z+jbcU2CNdYzCikkEwwf/K7N+xpeooDSAt/3uyviq3gR7iZhVqBtx9xKVawU/aTMJ0Dtcqrc6Manz6aTFWngF3Gh0y69Du59go7X8QoFuDOua87ePvb8eptDwIxKgJ/AZwIMLv3jTW5M/EQCE8LdzEWmX2upcsqJBLijEY1Vilty95m7HRfR7UcT0KFrjRUE4FwtI7Mx7r3vRgLQ3TqrG/NT+HccPw4DVyZ8BB9JgHQFzo6mAsh6qvxfgP8J+ONX4Adw0T2ZvsIGMgAAAABJRU5ErkJggg== data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAICAYAAABJYvnfAAAFIklEQVRISy2VyW8cRRTGv+q9p6vtWew4Hs/m8Y6dsd3eZmwCSUjuRBFCkTjkwok7/wpnJMQBLogDnBAIFBQWkUgBQhSQyCEocgyOkYCIKG5+PdjWN6+6vlre+6reKyMp9/hJwQRYl6OL8jRQqCUFMjpULF9l+qbAOu1zcNtws0P+VyWyOg1aipSBPZUYF6tD2+iGRlTRpKpaABk7bTO2B6Zou+YzjZqqGif84LiqDfoX4SewpeAHeMaC53KrnadW28epZli7CsbTIyXGVx1flvNQ/aeBsicBfMC+vtqnKirlwj9p5VjMl9aeGHX/FV4K/zzlgSONekaTrtG66+gCE3eOQy0882WeHqnkeaqBpuspcwOdNYE280BdYP56IOtFqgepprGZGyFeSasmRJCSzOObrG3VCCpaDAnOSbVlUi07VpO03UfXVfYRz69qOayp71W1DjcPxl0E2L+jMms2Q6sVxg28VBmYdkJV6B/bP1Lqumr4gXo+AuDfmodvXqgEf1uPRrHSFKe8SozbtHugw3ccFAKUnTzioww5FTtaDz2dDwJth6FmAwS4+1g28jXuO2phN8JAe3AZtsM48/1DjcSxpqJIMyALY+1EMc5EakQIcOtHlaNEzYgA0hq8ZY1US9jTWPPtNxqDb0WpehYBkopWac/CjTEnvPGTxlmzydqrFgESq7UkVZvvMvtUrh+qgs9NsJaEGliESPDNhirh79TnViOhmM/t5sh3Em6CNWolRmyLAPNBHgZGE4HLKTrKmPwCkzexM1jz5YEiFm3BF8jYZJf+NfraBf/pvko20qyN1Q08bdiStvhexjbSWObje0pxfA4spym81bod0Tzt0wRjPrypCn3z4IxNNajVhnYajDHGvH9HE0nEeEQFgwrpUxtRiz1G2dN790B16zPfQyBf/WqglVqkVpUbwPfo26HGCXSWoDMrDapGi6AB4ppBgFdO5SLwJpgOXa0S5FmCK4SYSTnhr/6gQBS3wdECAfbgBwTeg2sjhvnid/gIVWOthD68r03aS6ABzCf3JYLLCCbDrnF7egQ+VwiQjsh8dHvI7xDwFn2bJ0J1GDMU4IO7w/X3WKuPABuIcWZsZLh2uRD4vQM5icehedpNi719LSFAAwFs6sm847G80V5qODhxAEYLVUd1gi8NBXirl4vrL8/Reeym52qLOrAee1xDFrj/j0SO1OCfBxl8gRWuVycmRe79DR+pG4Xao05kvq8Vcm+RvkZMEbxzAJ9oAVyMOX3yc5Fc7ZICk1xxc/tnkhFhaL8EdmIKHGPatGuMMbd+gS/SKmJ+rK0w0hztepECfJuvOQD8OIuPl/B5i0Po4ludQytS19wg4UmBi7HRpYgaQCp0sKcQogSMvruQU/glgj7noBLYAsvG0RwBmz+fST6LOI4u09/H9sAC/DQBmyNKLA67nq9rjqdNsOS46hrykkJkDhHIK1GEEl2lGGaOr1knUAM7ybf5/QG81SJjrriWImjVppDVGVMr+H1uUFFcWeuyxy2g3QHj7DOKNQ8P4Tl98DI+9EH7pGgnHIZ5gO/UuAvgsv9/EWxw0JWiCIaFAPkVIij+DNVfenH4FJInueGZI27DDL4LvAp2wQro5o7aWIcXAYWGeEMuTxzCYZu5O3w2HVPMjXiUSnoTbNJqM7YOxnlFHEOK0d/hMX0d7IIhx7FVsEa/wZM2rHEN2wdN2sWzbIHREXzxbHt67cTWsWXmIj//hf/cAHCVr/7Jcz86nCX9B+yIwCAYJ6H7AAAAAElFTkSuQmCC data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAICAYAAABJYvnfAAAA/klEQVRIS6WVLQ7CQBCFZw2Cy6CxKASSIyAIByBBI0h6AAwW1wtwARSKHgDbhAOQoJa2YZtheLPdn8p+eV9n325bQ+urJXDZzaG7a447hCmHu6zm93HOUD6aywKiBaIgX14yuYAcjrLcr3JXQLLgW4Avr7LLi+ix70+TPGomgNv5GJ7QLttcQ9zYagFfgVDB0AMQd25twBzOs8gv+V8BsQK5QF9eMjlgDkdZ7td4X0CqwBWA8u/tnUbVlFR3wymR2zbbfqSLCf5Ih3IqZvgvECoAA6xuNZ3KpzqgG15bgI9zhvLRXBYQLWAFLKsnlef6Z0f4Dkm3XICPI8bzqfwD3FHc1cBpDLIAAAAASUVORK5CYII= data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAICAYAAABJYvnfAAABa0lEQVRIS7WV4a1FQBCFKQEloAS0QAsoAS3QAkpAC7pCCd6bm5zNWLv25iYkfsiZ3Znz7eywLcs6/1/tE8fxR9v3Xbw8uKoq8YmYbdtE7DiOl70phutt295yc70sS21ttJfruk/lGzX7GwA687Q7ASCdQ4KB4ziseZ6FjhhusO/7i04xXG+aRmkCNQVBYDT5FGAEQAm4QXkzAOCQyACZpwcA+B7c4DRNt87ietd1Ai7PjXzo0F8pGAFQi6F4VZI8zy8G0OIqANwY4tZ1FetJlzsJVwiGUQPWZ1mm9X6ep2XbZFH/GAGYyKZpqjxBABiG4dGgDEDupGVZLlDkTiqKQlsiAfU8710AURQphyMA0JBTzRCcIL8C/JShqwDwTqrr+maQd1IYhu8C8H3/YxCG5WxUoG6IUqEYgqoY0gkA1wAGV0UHAGuSJHkXgOM4WvOUmVqU/x7laniH4GR5DM0A1e8VMRwA3XkZpAnAHyu6DAchzeRWAAAAAElFTkSuQmCC data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAICAYAAABJYvnfAAAE4klEQVRIS0WUTWhcVRiG3zMzmWSSpklTU1MzM5lkfjNJmoptBFMQrZYkTREVYzcilKJWGom4qYgiglD8qa0ibpS6UBD8wULtzoVVxI0IFrXJTGpEqtid9DftzFyf79xJXZycyX2/c+73Pue9x0kKChpSQdnmsN85xpD6mV1uq1y1oYJDt9Gsy/s5p+Suh6XluqLL8nouwnNGkd/5SE737D8kVeuMQPFzgXJRnjNsLlL3xCsf+PWqNLweX5EGY1llGQVqXvvoG/SG123upKblTymFnmN8/v159jbN9gjUthxo3e+BYn9L/eg/XmgP37+2B+t76CWxEij6j/CXiweR6nXlMVzEkBkrMuz/pAdwB38HeGY6z4O1OatkkJUrbkPNKE4TZjqEGQL0gKb2agN6Fw3GabDgmnpzvvfpF+hiULfQ5HqDgIGCYz16nvnJIx9yRBlvcjP6unMNtVCTt3cB+PUvv0UfbBqsK4XWgcEWIOQB/MUZXArdH0JD7Yw+atoZVuOmpnqCSOWS3PKNm8ZDADSPifTUPo2oT5FKqBcAUMB4odEEUL5bafQyGEreNIACAzAYAizs0Hp+bTdIlbrXSzzPNYGmpx+jwbR2ACGB3mIg/fvDFO08+DKABjROfRd6G7rVWBJNf+rox6wf0K1ASqJ3olkKYgzb582TP6ADkH5S6H3onaShDUhW4w7OZ4IoAAyCgGCNhzG3BGR1//w7NNyjaGVVkSV0A9AIISTrWXU9tKAJzniY6uhSLQTgk8ILAeFKs1rH+jvRy+xdZJSa+6csQfmdNLdZk0DYgtbCSa3p1kd6ej96v8YwOUEqWtFjJGEtkfcdfBVAaXWxfpb6BHorRmMYLAHowNFPPCAbD9BbJ3q7/9wASSLdW8fGgpgBWCIFS1fkVgxC5uYJHjh2moY6AXAVSKvU1FQ0AHUAAWDy0HEaX09Nn2IAilSB4FNiADC450XdxfoxTFpKouhFSxBm06YX9tJcJzWb2WcAkBmfJDM4gCGXn0XfpFEATvBkxCBhcA1AZvqAB9SG/iApGke3pMU4adtn1/wbXjcAe9h7G8/agBBvgnQnv5oMYtVLnN5FucplucVr0h8GIeU/gSOn/qXhDqhf8RAc94X77YbydQzWstp3/Cea6tBw0OtTEjXdkgCEFJ/J2HOf8tIODGzyKYlVaoA0HQDs73YfRuvgE+llTlEDJK8P0S56wRLQAbxeUpSixiCFSRoyQLlH0HsU0W2aY8dxD2noZpIGp59F72MktRvdPsUx9Dh3UgxQ7uzilE9AFAiOFERIgX4Fwl81j+DEUlqlIAHRy0AiIdVriiyuUoNeG9Th7+o0lwDSRhJw1QOIVEIIKUzMvVfR7ZzPsDaqHPR7Pcp9YhDS6G7hlB5l/Rb0UUyUaDJMUj0EMPM2zScwt1Fb0cvoZRRL0pCtzz/jdYOwl5Mep2tLSYkau8hd/nG0bg9hxt9FA7wr4yFakly9MecvQVUuMpirADjLOIPJC3X90thJcSsNX5aWGKZXALR4Xfq5ps8ulDHWygs3hPBMw6SAoLM1vfR1AuIGoJs6u0zZ1zQMCEgz754nIa3UbPCX7XCQJIn/627htKbQJ1g/ymcygklLiQOgzMDM+5hro6abhPSxj9014ackalz+ea8bhGn07ej2qRlEg/AfgMD6H2ekyGsAAAAASUVORK5CYII= data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAICAYAAABJYvnfAAAEyklEQVRIS1WVW2xUVRSG/zOdzkynM5SmpdDSM5dzzp7Ti4gSuYghvsjlSY3RGkMCPpiIIbxI4oUHjAZjTNQQ35UQEwyRN2J4NzEx0Wh8I1GghSqoeEOjIdA5fmvPacGHxaZ7rVmz/2//e00gKUuifiVRTS6uK2nXe2v+t1v9rQqaV9IsqhPX7tRFdUXU7XlAKpIX0WkU5Np5H2pb1Bx6ZqNKukL+kg+3VnKOGvo3qDn+2j5VtEjuYh4L6owGcklVIXWffvSOqvrR5zJdyGuuyFUyhRuqOv/lOdV0Ld//Pl/nqV1UyL9LWlCffsr3lz9v32VnXlSAokwcsJ3UNOVWKU0IZxBsXaWw+BUlBaKfvTKABlir/D3IOqhk6DpgAgUZANp97JfZH2CtAmgQQBPqRIGK2QKoAdAAQFxRQk2LmoN7dyttSaUMSNkFjmwgqWmXATSg468fVtoMVOkuKiNvPZRdlFsPAFfW2VMf+nx1CUhd8l1A+bp5heGSzn/9hdJQCpauSksIt7A63+cSAPY8AgAOp+uaQPBMUte0B1FXh3XX9J9qcsAASClfmHIzqRtUJ7Goq125prgVKAaSi4sIL3G7gIoqHoQb6vL/wEPqOcnqSh5UBIjdW2fUacrnPSRzCYKSdr9a5A/uexIBvc+XyGcIMze4sAugko4fOwoMKeU7yhlOAo7MKYgLJ7s6e+ZjpRP0bwfsWd6E5wDoE+jQ8zmAH/jgDQlRD+GAGZwwzfri42Na3cjU5fBlXdU9yQD7Jt4cU9OeDXU1aZ4AoQDITlICUIXVoqqp2m21EBRR42JzSJGVJ9cGFI6Kh3EDABwCUlfwPVyr57gIgbu2bVIHAD6f3IGU4JIWfV54dq8XuJzvOaln8Uajq/feekOddQBsAyEp5BDuBvD+25k8+cuEvZV/6YYLALEFB5x8abuElcxSvZrr2gaAWRwwA4DDT9yvYW5/tkkb6PbzXqdwSgdQU66qR+9tKkR8HHPzHtJlnNW/AmrDUFmTiDFAvafWlzsJULipMzqkaJJ7IW8CLJadFOG4XTu2yY3bkwEQLrF8X+6kFmAPPrdfyVr2cbHlEw/BdPSeUqBzZ3AA4vymueBX4qZ3ggCgD/ZL62/1hoZvbAPpd4bUoDYD4NSrc5y+oI1A6gKgi8AqQ2nWO2VALz+1U2vscNSkLYM0z9Bc9ACmcMrcplmNczuRF0+sOAlIgNoCgPH1AfOCI5GP2/aElp1UVLpmRM0cgMMhDtDLTopw0u6HtysZYx8AzgDZReC0nhabAd99AwCb0ADwEMwFfxCIxgn67Jg0AZAVADbRGSj6m3xNOnHEAxgF0k363KTxbQQ29Iu24oDTRw70AJlLGksegA26CpDMKa88/ZjGsXeCMH+43EkGacqVtH/zJo0CpZU75P9OKmrHuhGtYQbYM4sRaLPobifNrhtTyC+PzSmbIwmRJgA0J3COQNmNHMDyM7Ab/pn4i7gNj9PSWp5F/lNnvxg9p1jNP9LnJ7xAjRskA3l3n9+kk+/6/DACd0ze8rPEAHTpUwP2J0cP+/x95Gfs9iaBRJ+MPmXc9ubeOY1w+LYN2VycQbLzFOlx4MGtGuZ2GzaI+fwKgNxJO8MxjYwHCnkOMaB93upyJ/0HOBGQJypfZzsAAAAASUVORK5CYII= data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAICAYAAABJYvnfAAAElUlEQVRIS02V22tdRRTG125NCYoiliRNT25nn71PbkYRLOINXyxpUkEpBd+rUsWTFlPEB198FjRNpLSC/4AXBGljowUfpVopatKanHPS9GKorYqapiTNuYy/b/ZO0sAwOfOtWTPrN9/MDszMWRSZb/nYLEcfp7/j2KK40cqEWJRjHF294tRHse0Z2mUX0K+RyOIuxrL0m7GFQ6/YLPqPyEs+TwadmDRubGLM5tB+RfteOXyeHejt9KGd+nrK5gJnMwyfI0a9/4ua0dtstjhvs4HZb2jnGf5ca2zkabKaq6Chk0Nr/MT/p72exAV5C11JPzc2LQCbIPJxg9WBU6EtMf7POhwB4/dw1Gh15l4kx79oSx6QAApSZIeHnrBa3O4hnCVmOQpTQAnkj0ZeRW9FvwuCB6S40KYmxq1KsSpyJi3AQ0gBlSe/sWrc5CHpIH5B+nQDQJu54gL72+7Xv0COafpz6FNpTPCC7XYlhDKtpqJy6emlQPbu6fUbLTKhQmHL/P+XiktB7I23mWNOnd8VgNyhv0X/B2M36N+K7kULfROkVQ8ysqvk/488xwaftHq+DQhZf1LTNOllAKwy/0zhNQ+oFndyiuaL/IGYWXStuTA+jtYMpHZ/ylpDED7TCbOmm/yWvonYjF1E1xoCKUcKQjBqr7vSlgTAPE0A1jyI5CqMjrzo7V5EE4Qq/6+w8espoNGhfg9ADpKVq8y5w8ZvM3aTfn++0SxkI+g1rk6V3Gv0AiGYg9n7zXV3miNvDcDa4Bo5VmjSDw8+xdyMB1TL57xT5IAV4m8Rc+zNg+g7OLyORPdOkJsEMmeTRyc2rks9n/VOki6QghCcsPcBEFhxKwAAcVWDYc4qYWSrbOj42BFghCZIglBGr7GwCvib9oEAEe9YXADkpiqFrwHgNv2B4X6zbKLXyechAkCQlePp+D5z2S6uTaLLhZpfEUhAP9P1oLmedorMcooxa+cSSAAQ6AO7n7V6904AdnkA67reBDnovcIbCQAAWT45CDlFOQQp+M6+9A4oNlAcEC5RwCJtSwcbwgVfnDzuARQFKb0qZRJI00l9cvQIBST33rsETb0Kkf7uyEtmndznnggICQCdQo0CKhT48vCA1123IMX+PVl3kq7U4/EDZh0A6CEm1WuMy0nSd2W2m/Vl0ABE/rp3UuydIoj7nn/OrJtHVQ80V0IPtPYhXdcl+N1+diquvM1sDghywQIbvEHb2pazs9PcIU64BJxielV0ygLlgHD65Im0wJDCAu+A9abH8+NxHARMFWDdsQcwl14nWf6dAoBYx/UKQswJRR6AYuS0/UOPmMvwKPYlG9e9v9tJj0YPme3ky9KXZf6mvu6k3pYWs4FW1pbLdK31xiXXWy7gvJbdIgBKXNVSg/MuEITLbOBP2pWbl7BwaIv34ADG/XtBm2fmAgnOz5zxBVpvzq6peMWoT6/DV6dwUAadAowNKkYOUYxgfDj+tlkrcPoTQNrkFcblJIEoHNpn1oL2MPN70s1zwpe9kxyf4cfMmiluQPP1KU8/43pIiYnyAGjCAQPE4EIPQJ/x9A37H9Jl4SYYwSaSAAAAAElFTkSuQmCC data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAICAYAAABJYvnfAAACYElEQVRIS51Vu1JUQRQ8s+wuS1laBgSKhQr8AJGvn/EH+AJ/wBwDM80slKJICYgMzC1U1BL/Qk2wlu57pu85d3ZNDC5z7+np091nBihmNl/Hj008Ozaya1hXu6d06779tdtY7+F7s9aITVGbYX1pl3YH71t4X6/1jL8Cfhf1HTyz2ldc9n8D/D6wjdp7mjSIHwPfgq+bjS9pnMDfdsOlL2qQ/x74rSW+hJddDGAbAtcrgQZoVEZO0YABnOBD0craB+AMrrrCaf9H4GtdP+fJnL4/Adf7kOseiLN364vf3O/4oi/tP+v6O54H47Vi5amN5mEugrcCy8yxqQf4l4FiZzjBbDAPUgGHNQ04ArZDzQOj/mIwz8F9n9OA+O2DKTaph1L2bGWeT1xEXbH/ERCXvb7UAYR4mJsAP683IIbgxvlkXD1zb4YgXzdEq7SIf+37D4PTG/uXZzbubkA+RYlzlcG49m6QZHLOu4Diy7wmXGDgsj+N1jy/yc/afjJujjrfml8R1TOeg6vuPZwfuuFbGcpzm/S/Ajn4sMHw1HRLFgUiOHuNYeJ7cwMioJv5AYO6jjk4a8KzrzyAMfZc1AG1wanN2kU34MXg5HJPeWHT/gZQlNPi6g1cIJvWYNice35CoD01x1yUuDhDrtkDqB3Z78GJh3axR0AO7U8KEL6o/QT8dx1ft8Zxaj8Etob3t8BjaO6Je9ibeHltq/NlwXex4Qb+O1CgPTU14B+ToUAEfwz+DPwD+9UPQINhcIpz2Ac1gIKzt3PdqALqQBSc3BGCcoDBjeActuE5hr4OIwdfqfgVGtt+FRgQnlgAAAAASUVORK5CYII= data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAICAYAAABJYvnfAAADXUlEQVRIS12V8U4TQRDG56gan8On8WV8GZ9CY2KMRvEPE0PUPxBFQQXaQu8OegUhIK0Vabnu+H0zu9fWJpM97rezM/PN7JEpfnsiQvsG2xSVZ1jTT6UEU9mN/DPW5ws8GJcFrvJikeuR7GVz/w2c9XKJD8Dpr7KN959gc64S9NT4Djjz24C9wnP6BR1Z/B3EcK7g81/QmwWu8hFo1bCfkWm31gMKYEFchDXAw3iGaiH75BbE+Rvwk8RDKft4T/6DReD5NZ4vFng3chbBIingGO8sjdCXrsVX+Ivxp7BJTFL1ZIlv4YwnYLMmv0twtfwZfwvvH2NNEikEcM7znT9aEmB1ihJF2thgRcK+wqiU4FCd5ZJj7eDP3SjSJp45CV5AAa7SJqc/9pB9SQVAoByB29ZlJuldolDufyS9GH/OXWh2ScNAetjb5hTGIpnb9yb+BTjjk7uI63jm6udPwcOS/7rlkSbg4bWy250YhIlSBG4a8wAIcBgFoMoMxMPfNgEKXAKN/j5JTG4tcfiX9I8C21XD3+8aXjqPXUxX7X1MUEMF7gWyi/TnlHxo4p/9x33K5vwa+UEA8/UztrEmnumDv9rHS44pi+c4spsshFdD61zIOQHkXNN1oXDkR8k/7knfk4HxHngUOJ7DKeEonhovzd8aECeJDeCUXXAC68PIvXgKSc5vxaU16CcaFJC/F+gNVPtWjIxfOYcIe5wE8/dvwW9YpvevtGIBK54kBaAYHMsKdj7pSQXWCBSL4XeBe67B+5HTnwnaymSZwNQF5PkMbgKDsxgTeFqYf+OXrhP25MZLb8BKOtfvOyelMH4M/wB/FMc9jQhik6nTMfjMecaVIgWbYjYw03t/dHALBTIJ2D4Njrz37FB/lEtF3mISYBSJAsHY4TPjKKzl/mQMcoCVAUZD8NvOmWASmgJyz+SyMN5BDBbpQs0nUYcQiP6IYSLERpnAiKPDATg63EKByJGTQKFTM3U4BK/hPwPHChGcsxkKAQQCMPG7sJjoAf4ukMQZrDzNUWhM/A73uEgU6AR2/AsTwqlhQiwAnMX2sMcmaJy4XyMTAJwxSo7hBAKZv39IuSahTaAaAvGdWeRxSil2jf8iFca7Y+ZF8Xth+cACLkolN3iuzbr4/+GcH0aRfyr+o1L6Opf/AAAAAElFTkSuQmCC data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAICAYAAABJYvnfAAAB00lEQVRIS32V4W3CMBCFkxGSjEBnoCOgroC6AVJHQOoGtIUFQKQL0BIWACVdgLZhASroBBU9O3nmcr7kB3LE8V587z6bMAiCSxzHQRxFQZIk3vo0ndJPgtb6fJnaekgfTf+WZa6u+WzzolGXPp9l6dW5z/F0Vuvw+bPVan/qSs1fuho0AdiA6JMo6+RlSo3H1lyrL9JXq8XLpc9qnTk9Nsl9dsVHQy999t+lp+c+P+dfVQ+fsHfTswG0TXC+XFJjSWuDEwoIG9ZCep7NiB4TYFR7EGX0bDzNagKCHhvnPu+bTUMvQzIBST0P6etwUPWOiP5t3wWgkWAQ7ppgNeHIvsRSQDSYZ6w2AH7EBEkgCE1LkkAQjqgkAARxPQ8JBEm9I2BwN2gEIEnY5rkjQEN0RQF1TXCRpvW0qyMkG+QEaSRxgkBN5eETpO2DE8T1joDh/dALgJNgLiFOgJxAlfCVABmS3QAjQOo5QaCGk+QRhMu6JskRBOrq7xG0JEiSEI4eRmoAIOF4OnkE8Cb3FFDXGdwVhUcA13OCtAleCcK90SRJI4iTpBHUIGH8OG4NwKRo/kY0AjDJ6pb1CUCT9hJSCICeE8QJgF4SJCeoEcR9WgmqSfoHqy297CyhZKsAAAAASUVORK5CYII= data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAICAYAAABJYvnfAAAD0ElEQVRIS+WU+28UVRSAv9lOd7ZPiu3WtpTaLLSNfVg3tKDQEiovixAjgmLQgCRqMLXxxSKgBEJYiQH5xUfib4YEkgYiakyIxMQQDE0U67NQ7FKxRR59bLfd7mN2dsa7s6W1drf8AZ5kktl8Z+/c+91zjgQY4vnfhmSdm2mwwI7l+hh6fwB9REUf0zAiBoYedyNnp6IHNXRN/E6gKyUrlehoJKnElEzB/TNxWXAt+f8zBBd7ShaWdBk9MANPE1zsP1FIuOuNOU1luIpW0hHw8MNoH795+6HHB13DWD7uRFrvIPr0PLgyDJe8KJ5RuB3E8IZRbwaRLBJKvR19IITuEwL9KoY6KRAJbHX5RDqH0MNRjJjIf8c4V38XPNFBYtyZh3p5OClXHswlctmX9KBx7kUP6VM//VLXfmOzvZmarApy5Gx0QyeghxjR/AyogyzasJr73atoLVxD0+xF3FBvcy34N53Bq3T4e/jygaMoNfcQPvwwrzoa+Gmsl299N+CaFzwjsP9H84PWgjTUPU4h0Yftkg/jVgBjKIR6PWDy1Pw0Im87sR3rxhgIEvWFzUrUw/ENm3xXrcljIoyYyOikSNluQ3PVohzvJtIlRPxHpJyrxPkJT5yPV4T0Z6DPmGsrxCJZEpfI+Y1cqNlNdWYFmSnpU3LEHZPmmEX4YD0nml6jIaeOIls+oajKSHSUQdVLtRAr51jRXq7Ete1ZNthXmgJ/Dfwhnr/4rPqwuaYlVUJ+rJTF+5rjAvtEBcYqblxgjKeuKqHuwKN8d7bDrE6le5TwOZErQpIlrCuKcbqbaT/TgdJ2FWNQVGivf4IrjxRTJS7z4pmfsbX1oF7xIhkiZpqAZwfPsyJ3iahiUYcJQvpgCR8+vp3n52wkzaJMy0jJEPNjk4NNb6zn6PzXudeaN2UtSRIrixayNhRQ8t5yTlbupiLDgV8bY1AbFu+i9cZDKRey313IF40uPMFevh/r5nile5LPF/zQQk4v3cGhvpO0j9yCZZ9PcOu8bFR3PaeWuXD3tnHx61/uLkAzNGRJTupop+cIu+57wWyfRGFbW4rzwGo+rdhJebpjWoo5P2pzCR9ZzDnnOzTOrp+SExNktkCRaIG9C/hkbQtbCp/AarHGb3acx97NYby1nJaWZ9hXun2aQHMYbynjxdanOFj6Ct8MXbi7gJmqI8Zuqv0UWO1J04rbN/NV1R5qsyoTC6rIMW/1dOMO1uUtn9aKsQOa/dtaxd7ntvJmyTayUjIm1rojwKJYkJ50sOatdXxU5qLYVjBN0J1hHHp/qdnWD81y8g/5bJgXFalsYwAAAABJRU5ErkJggg== data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAICAYAAABJYvnfAAABTklEQVRIS+WUTU4CQRCFq3oYTZANG+LChKUnYKsuNCbyM5PIMIAbjHoWr+CGC3g3d8Zo4swI9d7AwhQXmAU8ur9+3Z1XRauIVJuPLCRsReZyZDqRE1OVD1OPx+HCeFaabPxKP/aLQ3GQd9uJ8SGWSf4DHXOfbtuu5/J+LzV+xfOzb5w/+sQ+/R78Ht+ubngAGSKaMvGHMrLE0gKdoPGXqc8HxjMELssKFUgLdIC22AEej0dGcvIF/UmBfbSF0nq8c4wOSlBoyakT+jsxJjyu0vgA3gcW0TUr8FKhcjOqhl8b+/zc+A39z+ykWckO4Bvg8ujWnPgWeWIFM3aCBky4PBobH9K34vlTjmu/y6XxAVT3dVaW5JoJPrICQfk8c/4/P2Pt8J9dc7T383ne+bFgzy9tjBdH5I3rVrxVUPzw+Z3xU/pfa//uVvAf4M0O4A92eNe5n4UIVQAAAABJRU5ErkJggg== data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAICAYAAABJYvnfAAAD10lEQVRIS21TS2hUZxT+buZ9J2Ym87p3HomvuHHluosuXbhQQ2uT+qC1Ig0KQVwr7hTaTSlIN4VCV+5KcaeYqK21D9CFoPRBaRcWkWhijKkzk8z1fOf//8lknMAlmXz3fK9zxgMQbRnxUCjGUQlTCOs+6o0samNZ1Md8fHr4V+TyQyiVE6jUMqgSF6zW8NGoZ/HJ9F2MFmIoVZIIBa/1zNZrPj56/w6KRcHDtMFkzs3Xqj6OTt5CUWaDKmd9fYe6deGuyv+OHLyJUpBCINy9vjhbDTOYPjgvvtPqSz2TnzqCB0Ea05Pzhpv4OHF55G/OVsppeFu3xSOaC8UshY0BEkhYeWnqwJwSdAUoQgIRCCtpTE3O6awWYwVq/GwFPnxvXkt1wTlLM0Elg3IxhcNTN/VzVXQbMs9ZalcEL+WTOHb0tmJaOH1Zbs4Wckl8fPxHwU2pDfmtvgKZHU0iP5zAyZm7qLJQF5zFlFMoymzOj8PbN1mO3GacAAlUYCSB4yfumM1ocFNM4ASycZw89fNG8xIklOCBNEtzuUwMp87+1sW5lVC2Qu7RLQn4iSGcPX/fbI3B5OEszeeyCQiMc5ceKK7BWUyR3AmMpGNyvMDFLx8pzsKr9FUw3Om4p/gXX/9huBlcFlaUUvMSfIjwegTvwme7I3cyNO+CZ5OiLj+ff/V7dyu9wZMxYYiAy9/+pXh/cJVfi/DNd//arWwOruTNDq5c/0+D9QdHB/D+X8f3vzzVjVZKm4OT21tZw7VHSxqsLMHzEjxjg+N1B97LNn54/EpPncG5cYXJvboGLLfhXZ17N9oInsRwygRHmwJt3Phz2ZijwHAcKRvce70OvFzDT09WVYBbyWfkpFyzq4K/aOPearu7cVcqWmJOzGOpjYdxmI2LOVcqg9McFlv4u5DUS+Q16Q+DvzLm8byFx+M+RsVXhudiS2VwchNf2D2iG48RtqU6bjxrwvvn6YGoIM31B6d5PGvhycTwwOA0R4LFPXkx93Zwh6+8U8Kg4HjeBBZaaO4Noccm16TBaV6M6yP60f7awOCc5TvRocbA4JxV/Mj4wOCKL8oFdDofiLTdOJvV4GLOEUyNGQF7UtrsguDWZHRsq/ku0TxntRgbgAZObIdunNx2Kzov4nw3mtm5EZy403b46Ql7rjKvmqY4nV+S+dld5pr6fBtcnjO7TKl9vhSTx+s0D0VqjgQkd+YdwewEYM+1txhHoAL2XHuDK/5CeM/IvHL3FEMzxPh/4gOCY0lw6s7uNGGdN1sMlqVw+j69YzM3ufiOfD3BpczIAnoW0vW9Iph8jd8AGXkDBBF2wzEAAAAASUVORK5CYII= data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAICAYAAABJYvnfAAACoklEQVRIS32UTWgTQRTHXxCF1pa6CYiIYt1sJIpeetngrUoRNnoWqyl4EMFLcvJSvKTgQY9JLoooIR8IpeAhJDlJhUpIDqLXJApFEISQ+gGStFjfm+YNs7uzLgzDzv+9NzO/+c+EAGAfrLMgWiyKjfrJv2VCOBLHEICZE3OwfdU6iDtnYj+PzQQrtix0+iKRCBw6MwvvlzHuwkEtO/FU6hxDcX/NKSjfjoKT2XTpHBMOh0W9brfr02mA9cFgoNW5TqA4EUJYaF8tSJPuXDwGvfh1+L6wAOErl8VkY9z4z5gJOwIQASBIBMAWOn1TJw3YXESN9AlEO/FA6jzPkdMz8JIgXTLBSb4AwzC0kMaxadiuf/LpKqRer+eqrxaidQ2HQ20+x4UsyxIA1NMhCEy4WCzKCdTxHwjp2/kb8PnuLaFT28WNjxDML3TIV+wHCMhOXJM6zTF7fA62lqLwJTYPv1F3kqtigQyR13H41FFYvWNB6t6GT1cPrN1ui1wvRK7T7/e1+RKAbdsSgAqBAdRqNd8JEgiGUSqVXBvkPOpH8WlYf/Rc6jS2h2DGCOgP9gRgL3lTLlB10sdFBIlAjZUnPl110tbGWwlAhch76XQ62nwJwHEcFwDvHWy1WoEWpQnr9br2BBlEuVz2LUB1Ui6Xc+kCEm58F6/QCAH1Vu77dHbShyUThplnLgBeJzWbTW2+BJBKpXwAVIvRIxRkL5qMLOi1sJrfaDQCT5BAVCoV7QIZYD6f9+nsJLpy7zIPfQBUJ7159VqbLwGk02ktAHYCvbJea3EyjfMjFARJvaM6ixIgvsP8lqhvEgHy6lyHABIgnc5OWl97rAXANULZbDYQAC9EtznW+JUNgqQ+QroY7x31xugsrMZUq9X/brBQKATqVOcfWDzWBBi0sj0AAAAASUVORK5CYII= data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAICAYAAABJYvnfAAAE10lEQVRIS1WVz28VVRTHv3fmta9A6e8f0J/vzcx7ry2lVWmxYEAiRqkCGlkQEzf+ZAHEf8CF7tyyMCYm7vwbXLiUBApUFrIw8Jo2mjRSKKWEtrZ9pePnzLwKTnI6b+73nHvP+dxzb52kuMifgpyK8jAfy/CdUa9qGGnkt+lSCZ/nfk49qBmvR1GMjj2fx36b7pTN5BSgmU9xO12nVF2vh/febF59vEO04jP07bg6j0d8rNb6UF3E2hwF9KhCHsk8Qpf2N4fqRMvbGjaOXti0tWJ1s1Z/R6g2tBxma0S2RoU61onHxymqiSMrHodS7JGAzwK+ClsAqGTkGhsUsdDpmTkSZxwwBsjgqH2fXFOXaucCXdyyomfRV/F7RnKs1tFGfE71fwU6wefpSoz+EL9V9A2ps07ZJvT5QKPor5P8Mayox+j/UN2mGhrz2rMQkps0TvKHCTu6acU9lboX1d4YaPfDQP3k+DJzHKK4MUKHWEt9s+ppCNWBlsOimHINUtV6tgzAqea4F/GA7QwORSAYiGLsqxcQrnYPkWu6iD50d03Fp7FK6069Gz4JdqLvZ8ZIp8oz+vyXaY1tb7KjwGntlEbzcllSiwPt+61V363FGl+dBt4D4NVKIy3E51SzEqj1TqCPgPjlSkzxd4DzUBp2xOfVtByooZxCPLfhdBYfdd+WBpe0Kxuq6RHzw+MQw4epYYJ5RgxAYVat6F3UF1jX2dDOm7l6+Xa63BfX8zqMMFSFMMAkBdq7HxDO3w2ALU2gnzcIf2+o9HRb/WsM7GpGp9DIumFeP+H/2rVF5ebJINsMhD65DA0e0kPtbbp8fUqfXr2l0XmyPcieDNB7GQDVk95qoKM3Hut7S37+Fsms0pIN6Ggu0J4HeRXhcuGZ04V16/cpWmUNPS9tBCqRT2mJDkIyUGOYolm5mjApfsA6fOcoV49kXwLgyjAv2gobqZ7PwW07px7nhh3w65jIHNkd/p5k7MCjTeVXCdvYJee1p4ePLjmPz9dAGLj9RFrI8MUR8brRGhOIWv5D122HrtEBK8TtzaEDIAoxFlle1pWpG/ri1ynVdaAXAeRRYAslZIFwX3p/6rF+NL5t0+hskAfIulBZjsZxuB64H+sMqb1hAApz6BwRkrcNHLJ7rAqiSB52bJx+PpIAMPFVPgftN6J1QZgAoFUj2r3aASd5H2e89IQsFjgifksVAN88PzDHJ0Dwb7Ili43oNGCUTQDJLegrfL5B966S1cp+EuQqi9owOk2PFC7/rpvoLdfpKlJ0zgABx8w5jQDpWzpp8u4MALhSHQA6AERnjHL5jXM8RsvbukSOilIA9oxT5UsMWZ0DCQgn0JLtvbcSADsFjiYwDEDq5DwDYLspHcHOoh3DJtD8cgW9KQXgKsmt/LF1ifmge/dq0bkjIlZ2bBGX3yX+nkF/M9GbAGQAuGdE9lrT21rSZ+gfmF7uIJ4jFO1D4wZURZP4jOtPOo3cyl3PAQHHnjPYGPEflsvJeU/L5LxjJ7Bh/BIIdgwSPT5XBcB9mASnR2GQUQPhOys+ndz0cezg//SGRNvR7S4ZfqGTfGd3cPpMvhjPb1vDd3ZF2eP0zn/royU6EJylnj7v4mP5HTStal7yTzR9Tifxrqqn3eyS+z993sNeYWT4hfh/ASIGdLzkBWWRAAAAAElFTkSuQmCC data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAICAYAAABJYvnfAAACGUlEQVRIS41UzytEURS+L2yMhcdojEfKno218gco/gNZSFmQzSyU8qP8KMKCWfgxmiz8SKZJyUIWM0pKShIWrGxIVtbMd59z577z7n05det1v3vvO9/3nXMcIcRPaYn2xgrR5iVEazJeWnXCa6gtLVd0jWUAW/HhhazEEab7i7tnCscHf//w/CaA+2fK/79+eA3h2KD83j6+jLh/xrViBDj/EUAXpyXhCiw8Hqv3RH9qThInchyfWt2WpCk4vnOQl+/pob9/UShKsjzo/8+P91aiyO/7803maQunRE5WgM1BOBxFkAQASSTejPUnTizuidTEjBSASHJ8bT2t7lEe+v2T433ltk4CpPD+bfFMmcFJAn9/upYC4NsUTm9nkxKAXNRLECUc5SA5bCOoC6A7i4Rq4k1iYXoiIBxyoISB720sKwF0J+l+IZdRAnCSuP9ymQu8x0VwRno6AgL4IpR7ED0aVaJUwnDW5KDuMJzlBLkAinx9Ugq0OZ8KCEAka/7w063ZgADYp8D9u3w6IICO45yzNNgdEgAADRkMoagepB7lA4eI6CVscpA7zAmaBAAxEKmuTYijpdGQAMARwK+ykyEBsE/h7I33GQXwRXAFpqxtmoIQDSHToOE9aipRXsLcQZPDOkGbACBZWZcUxZUhowDAZAUUlgesApBKUVOUpqxtyOhDiBLX+5D3KC9RUwnrDtocJoLRAlSJXzPjvXzSk6dAAAAAAElFTkSuQmCC data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAICAYAAABJYvnfAAAFmklEQVRIS22VaXBTZRSGn6RNmqQtTbc0TRcEBRQUlUVBUAuyuMDoiCJWGdfxB/4RR0cdl9Hxh6PiuAwD6kABgY6yKVbBUVlkp6VQUBFq9422aW1paZM2aa7vbS1U8f7M991z3uc977mxGCQbDH1muiA3He7y0uSJIc22+9Kp1QqPu2GRD6alcNJu5fqh52NtOvPAAh/B0fHsMgzuse+59P68OHhIte/0Uue28W13mCUJ+wbO41X7sSR40IcxJYXiKPiyuYdlvoMD5xNi4NE0mJ9O5xWx/NQXYV1NgO2jj+rQAverdm4GzPRQER/N9gshPq4MUDXhGGREw8OqvTAD48ZEDuj6l+eCrKjqwXLRgOlOeMQLd3tp8Tn5IRQhr6qb3WMLBxosThCcGtyWymmHlW3ne3m9MogxWQ1GmeAp8EAGobHD2Ks38usDrK3qxcgphrmxAldtmdqYEkNBsI+86gBH6g2M+3S+OHEAfLpMtVnY1NLDOxJHix3jNdU3Tb3XR9dVceyWqSb41poQdCdgrCoaMHVWGtUytUCmrhT46XPSbPFi/HikfyDG5CSOyONNTUE+ki7aZKjrShkwNcPgYTk7L532LBc/hiOslbiddX3Qk4SxUQ4v1MRneCh1RfFNR4h3qwL81aQRRcvRXw7L/XT6xrvZp55fNQT4zGzQIej4URilSoDA/WkOdvQIXOL31Sl04WRIHo/RvgME/rvStLmtl7eqguCXofYs8E7CsG7uT5OZow213eTXhOFCPCSM0WRvwYj7nIZEOwWBsPoGONGgi4Z4UsdD9mwiCW/3p2mzv4f3TFNb7eAcCemTdGeODKicZ7RnOvvB10jcD7UmuCaSOE4FcjCGfUip83JwPBMkYA4h98vs/xe4VihuFPhuUo05NLmfZmevaWo3e4eAk5UDtkmcci9i6/+A450tsV6+H5lLfl2AjYPgw0ZD5jSZezsUBVg5/Rk+vwx8FkSkP/8sLyx6hWXVg+AjLoJTr1XOK8SyJbjAWG/ukgke1I/uayDrVrmkJnta+WDWsyyvDlLZqPxYFTXPjRIgccErYfVJljz1JiuqNfF2B8RepQaTNdk5UKYpri1k5nPL2F0XgV7tYPK1qi3h9pthRz18fQL7q5/S26wdtWm9vBP1vmqf1/RXHyf6l1LC76yHTu230kTGFE3+DjipFGw8huNQBcFPvhFsqmpfp4HpLOoGxbAMdv6Kq7iO7lW7wJHdnybS5kKzkre6CNv+Muxn/FruXXMNgtpv99gh4H/B1uO4jlbRvUIRjTLBVThTYCb4mlNY9pzFdaqBrnX7Ba7fzEglq0G5IibwmIPl2Mva6NxaMpAmEzxmELwE17EaEv1B6gvKJU5pMsE7JHR1MdF7S4k53cSobij5uUVp0nuD4PkCP1iBs6qDaYad7w7oW5A9Qxo1mE0C3/GbwGtJVarm98Wz/KS+bR7V9sukVYUD4Gf9jAtayQ0ly4ADbxj9kYrV1A91qkgxzsOVxNZ3MSPiYPNR7WuWIhXSzq0/DT/9QWxJPb7OMPf1JfD+r5pOihrUaC/zjmI/VI6ttJWJoWge703lyVpBOabCrmbYIlOLqhnWGGBWxMnSUBYT/UpF1xUytQSrTHX+1sjICxHVdvNS33Di/II/o73+okjgMrXiPLdE7DzR62Eh6Vj80r29GgpOqXYtSa1B7u6LZWk4i6uJx3JGbHkydd+fxPzRzJiAvpnhJJ6PZBNNlAzwBwwOdyg2/wZfEvKRgxyqV4MNAv9Z4Ccugb8QzsaDA0uRBK4rwn6w7CL4YyY4irTKW/K1FttO/Ac8kwlo3cwbr8VilTjn742M6BwCjlbIPH86jEMDsZe3M1XgT/4DPvjfapnfhut4HUktA+DPCfwagQ8+tik1Avf3gz8QTuTFyPB+8MHnb+qTbKvji/PkAAAAAElFTkSuQmCC".split(" "),s0L=glfx.filters.colormap.textures,A2L=0;A2L<Y2L.length;A2L++){glfx.loadResource(s0L,A2L,null,r0L[A2L],64,8,"colormap/"+Y2L[A2L]);}},output:function(){for(var I0L=Y2L.length,T0L=[],n0L=0;n0L<Y2L.length;n0L++){false===glfx.filters.colormap.loadResource(n0L,function(){if(!--I0L){for(var c0L=0;c0L<Y2L.length;c0L++){var M0L=glfx.filters.colormap.textures[c0L].toDataURL();T0L.push(M0L);}}})&&--I0L;}},loadResource:function(O0L,g0L){var o0L=glfx.filters.colormap.textures;return"string"!==typeof o0L[O0L]?false:glfx.loadResource(o0L,O0L,g0L,sketch.loc.MEDIA+"colormap/"+o0L[O0L]+".png",64,8);},param:[glfx.param("amount","float(0,1)",1),glfx.param("mapId","int(0,"+(Y2L.length-1)+")",1)],shaderCode:"\n\n\t\tuniform sampler2D texture0;\n\t\tuniform sampler2D texture1;\n\t\tuniform vec2 texSize;\n\n\t\tvarying vec2 texCoord;\n\n\t\tuniform float time;\n\t\tuniform float amount;\n\n\t\tvec4 sampleAs3DTexture(sampler2D tex, vec3 texCoord, float size) {\n\t\t\tfloat sliceSize = 1.0 / size;\n\t\t\tfloat slicePixelSize = sliceSize / size;\n\t\t\tfloat sliceInnerSize = slicePixelSize * (size - 1.0);\n\t\t\tfloat zSlice0 = min(floor(texCoord.z * size), size - 1.0);\n\t\t\tfloat zSlice1 = min(zSlice0 + 1.0, size - 1.0);\n\t\t\tfloat xOffset = slicePixelSize * 0.5 + texCoord.x * sliceInnerSize;\n\t\t\tfloat s0 = xOffset + (zSlice0 * sliceSize);\n\t\t\tfloat s1 = xOffset + (zSlice1 * sliceSize);\n\t\t\tvec4 slice0Color = texture2D(tex, vec2(s0, texCoord.y));\n\t\t\tvec4 slice1Color = texture2D(tex, vec2(s1, texCoord.y));\n\t\t\tfloat zOffset = mod(texCoord.z * size, 1.0);\n\t\t\treturn mix(slice0Color, slice1Color, zOffset);\n\t\t}\n\n\t\tvoid main(void) {\n\t\t\tvec4 sample = texture2D(texture0, texCoord);\n\t\t\tvec4 colorMap = sampleAs3DTexture(texture1, sample.rgb, 8.0);\n\t\t\tgl_FragColor = amount * colorMap + sample * (1.0 - amount);\n\t\t\tgl_FragColor.a = sample.a;\n\t\t}\n\t",shader:function(h0L){var y0L=h0L.amount;h0L=h0L.mapId;var H0L=glfx.getShader("colormap"),q0L=glfx.filters.colormap.textures;if("string"===typeof q0L[h0L]){return console.log("string");}this._.extraTexture.loadContentsOf(q0L[h0L]);this._.extraTexture.use(1);H0L.textures({texture0:0,texture1:1});glfx.simpleShader.call(this,H0L,{time:Math.max(1,(this.now-this.startTime)/1E3),amount:Math.max(0,isFinite(y0L)?y0L:1),texSize:[this.width,this.height]});this._.extraTexture.unuse(1);}});}());}();void function(){glfx.register({type:"colorMatrixOld",param:[glfx.param("hue","int(0,360)",100)],shaderCode:"\n\t\tuniform sampler2D texture;\n\t\tuniform mat4 matrix;\n\t\tuniform float hue;\n\t\tvarying vec2 texCoord;\n\t\tvoid main() {\n\t\t\tvec4 sample = texture2D(texture, texCoord);\n\t\t\tvec3 z = sample.rgb;\n\t\t\tfloat n = hue * 0.01745;\n\t\t\tfloat r = 0.212671, g = 0.715160, b = 0.072169, c = cos(n), s = sin(n);\n\t\t\tfloat m0 = (r+(c*(1.0-r)))+(s*(-r)), m1 = (g+(c*(-g)))+(s*(-g)), m2 = (b+(c*(-b)))+(s*(1.0-b)), m3 = 0.0, m4 = 0.0,\n\t\t\t\t  m5 = (r+(c*(-r)))+(s*0.143), m6 = (g+(c*(1.0-g)))+(s*0.14), m7 = (b+(c*(-b)))+(s*-0.283), m8 = 0.0, m9 = 0.0,\n\t\t\t\t  m10 = (r+(c*(-r)))+(s*(-(1.0-r))), m11 = (g+(c*(-g)))+(s*g), m12 = (b+(c*(1.0-b)))+(s*b), m13 = 0.0, m14 = 0.0,\n\t\t\t\t  m15 = 0.0, m16 = 0.0, m17 = 0.0, m18 = 1.0, m19 = 0.0,\n\t\t\t\t  m20 = 0.0, m21 = 0.0, m22 = 0.0, m23 = 0.0, m24 = 1.0;\n\t\t\tz.r = clamp((z.r * m0) + (z.g * m1) + (z.b * m2) + (1.0 * m3) + m4, 0.0, 1.0);\n\t\t\tz.g = clamp((z.r * m5) + (z.g * m6) + (z.b * m7) + (1.0 * m8) + m9, 0.0, 1.0);\n\t\t\tz.b = clamp((z.r * m10) + (z.g * m11) + (z.b * m12) + (1.0 * m13) + m14, 0.0, 1.0);\n\t\t\tgl_FragColor = vec4(z, sample.a);\n\t\t}\n\t",shader:function(Z0L){Z0L=Z0L.hue;var E0L=glfx.getShader("colorMatrixOld");glfx.simpleShader.call(this,E0L,{hue:sketch.util.clamp(Z0L,0,100)});}});}();void function(){glfx.register({type:"hueSaturation",param:[glfx.param("hue","float(-1,1)",0),glfx.param("saturation","float(-1,1)",0)],shaderCode:"\n\t\tuniform sampler2D texture;\n\t\tuniform float hue;\n\t\tuniform float saturation;\n\t\tvarying vec2 texCoord;\n\n\t\tvoid main() {\n\t\t\tvec4 color = texture2D(texture, texCoord);\n\t\n\t\t\t/* hue adjustment, wolfram alpha: RotationTransform[angle, {1, 1, 1}][{x, y, z}] */\n\t\t\tfloat angle = hue * 3.14159265;\n\t\t\tfloat s = sin(angle), c = cos(angle);\n\t\t\tvec3 weights = (vec3(2.0 * c, -sqrt(3.0) * s - c, sqrt(3.0) * s - c) + 1.0) / 3.0;\n\t\t\tfloat len = length(color.rgb);\n\t\t\tcolor.rgb = vec3(\n\t\t\t\tdot(color.rgb, weights.xyz),\n\t\t\t\tdot(color.rgb, weights.zxy),\n\t\t\t\tdot(color.rgb, weights.yzx)\n\t\t\t);\n\t\n\t\t\t/* saturation adjustment */\n\t\t\tfloat average = (color.r + color.g + color.b) / 3.0;\n\t\t\tif (saturation > 0.0) {\n\t\t\t\tcolor.rgb += (average - color.rgb) * (1.0 - 1.0 / (1.001 - saturation));\n\t\t\t} else {\n\t\t\t\tcolor.rgb += (average - color.rgb) * (-saturation);\n\t\t\t}\n\t\n\t\t\tgl_FragColor = color;\n\t\t}\n\t",shader:function(u0L){var j0L=u0L.hue;u0L=u0L.saturation;var J0L=glfx.getShader("hueSaturation");glfx.simpleShader.call(this,J0L,{hue:sketch.util.clamp(j0L,-1,1),saturation:sketch.util.clamp(u0L,-1,1)});}});}();void function(){glfx.register({type:"invert",param:[glfx.param("enabled","boolean",0)],shaderCode:"\n\t\tuniform sampler2D texture;\n\t\tvarying vec2 texCoord;\n\t\tvoid main() {\n\t\t\tgl_FragColor = texture2D(texture, texCoord);\n\t\t\tgl_FragColor = vec4(1.0 - gl_FragColor.rgb, gl_FragColor.a);\n\t\t}\n\t",shader:function(S0L){S0L=glfx.getShader("invert");glfx.simpleShader.call(this,S0L,{});}});}();void function(){glfx.register({type:"lumaKey",param:[glfx.param("clipBlack","float(0,2)",.9),glfx.param("clipWhite","float(0,1)",1)],shaderCode:"\n\t\tvarying vec2 texCoord;\n\t\tuniform sampler2D texture;\n\t\tuniform float threshold;\n\t\tuniform float clipBlack;\n\t\tuniform float clipWhite;\n\n\t\tconst vec3 lumcoeff = vec3(0.2125, 0.7154, 0.0721);\n\n\t\tvoid main (void) {\n\t\t\tvec4 pixel = texture2D(texture, texCoord);\n\t\t\tfloat luma = dot(pixel.rgb, lumcoeff);\n\t\t\tfloat alpha = 1.0 - smoothstep(clipBlack, clipWhite, luma);\n\t\t\tgl_FragColor = vec4(pixel.rgb, min(pixel.a, alpha) );\n\t\t}\n\t",shader:function(K0L){var b0L=K0L.clipBlack;K0L=K0L.clipWhite;var t0L=glfx.getShader("lumaKey");glfx.simpleShader.call(this,t0L,{clipBlack:b0L,clipWhite:K0L});}});}();void function(){glfx.register({type:"sepia",param:[glfx.param("amount","float",.8)],shaderCode:"\n\t\tuniform sampler2D texture;\n\t\tuniform float amount;\n\n\t\tvarying vec2 texCoord;\n\n\t\tvoid main() {\n\t\t\tvec4 color = texture2D(texture, texCoord);\n\t\t\tfloat r = color.r;\n\t\t\tfloat g = color.g;\n\t\t\tfloat b = color.b;\n\t\n\t\t\tcolor.r = min(1.0, (r * (1.0 - (0.607 * amount))) + (g * (0.769 * amount)) + (b * (0.189 * amount)));\n\t\t\tcolor.g = min(1.0, (r * 0.349 * amount) + (g * (1.0 - (0.314 * amount))) + (b * 0.168 * amount));\n\t\t\tcolor.b = min(1.0, (r * 0.272 * amount) + (g * 0.534 * amount) + (b * (1.0 - (0.869 * amount))));\n\t\n\t\t\tgl_FragColor = color;\n\t\t}\n\t",shader:function(C0L){C0L=C0L.amount;var N0L=glfx.getShader("sepia");glfx.simpleShader.call(this,N0L,{amount:sketch.util.clamp(C0L,0,1)});}});}();void function(){glfx.register({type:"vibrance",param:[glfx.param("amount","float(-1,1)",0)],shaderCode:"\n\t\tuniform sampler2D texture;\n\t\tuniform float amount;\n\t\tvarying vec2 texCoord;\n\t\tvoid main() {\n\t\t\tvec4 color = texture2D(texture, texCoord);\n\t\t\tfloat average = (color.r + color.g + color.b) / 3.0;\n\t\t\tfloat mx = max(color.r, max(color.g, color.b));\n\t\t\tfloat amt = (mx - average) * (-amount * 3.0);\n\t\t\tcolor.rgb = mix(color.rgb, vec3(mx), amt);\n\t\t\tgl_FragColor = color;\n\t\t}\n\t",shader:function(B0L){var f0L=glfx.getShader("vibrance");glfx.simpleShader.call(this,f0L,{amount:B0L.amount,resolution:[1/this.width,1/this.height]});}});}();void function(){glfx.register({type:"lensBlur",param:[glfx.param("radius","px",10),glfx.param("brightness","float(-1,1)",.75),glfx.param("angle","radian",0)],shader:function(m0L){var D0L=this;var Q0L=m0L.radius,X0L=m0L.brightness,W0L=m0L.angle;m0L=glfx.gl.canvas._;m0L.lensBlurPrePass=m0L.lensBlurPrePass||new glfx.Shader(null,"\n\t\t\tuniform sampler2D texture;\n\t\t\tuniform float power;\n\t\t\tvarying vec2 texCoord;\n\t\t\tvoid main() {\n\t\t\t\tvec4 color = texture2D(texture, texCoord);\n\t\t\t\tcolor = pow(color, vec4(power));\n\t\t\t\tgl_FragColor = vec4(color);\n\t\t\t}\n\t\t");var l0L="\n\t\t\tuniform sampler2D texture0;\n\t\t\tuniform sampler2D texture1;\n\t\t\tuniform vec2 delta0;\n\t\t\tuniform vec2 delta1;\n\t\t\tuniform float power;\n\t\t\tvarying vec2 texCoord;\n\t\t\t"+glfx.randomShader+"\n\t\t\tvec4 sample(vec2 delta) {\n\t\t\t\t/* randomize the lookup values to hide the fixed number of samples */\n\t\t\t\tfloat offset = random(vec3(delta, 151.7182), 0.0);\n\t\t\t\t\n\t\t\t\tvec4 color = vec4(0.0);\n\t\t\t\tfloat total = 0.0;\n\t\t\t\tfor (float t = 0.0; t <= 30.0; t++) {\n\t\t\t\t\tfloat percent = (t + offset) / 30.0;\n\t\t\t\t\tcolor += texture2D(texture0, texCoord + delta * percent);\n\t\t\t\t\ttotal += 1.0;\n\t\t\t\t}\n\t\t\t\treturn color / total;\n\t\t\t}\n\t\t";m0L.lensBlur0=m0L.lensBlur0||new glfx.Shader(null,l0L+"\n\t\t\tvoid main() {\n\t\t\t\tgl_FragColor = sample(delta0);\n\t\t\t}\n\t\t");m0L.lensBlur1=m0L.lensBlur1||new glfx.Shader(null,l0L+"\n\t\t\tvoid main() {\n\t\t\t\tgl_FragColor = (sample(delta0) + sample(delta1)) * 0.5;\n\t\t\t}\n\t\t");m0L.lensBlur2=m0L.lensBlur2||new glfx.Shader(null,l0L+"\n\t\t\tvoid main() {\n\t\t\t\tvec4 color = (sample(delta0) + 2.0 * texture2D(texture1, texCoord)) / 3.0;\n\t\t\t\tgl_FragColor = pow(color, vec4(power));\n\t\t\t}\n\t\t").textures({texture1:1});for(var l0L=[],z0L=0;3>z0L;z0L++){var d0L=W0L+z0L*Math.PI*2/3;l0L.push([Q0L*Math.sin(d0L)/D0L.width,Q0L*Math.cos(d0L)/D0L.height]);}Q0L=Math.pow(10,sketch.util.clamp(X0L,-1,1));glfx.simpleShader.call(this,m0L.lensBlurPrePass,{power:Q0L});this._.extraTexture.ensureFormat(this._.texture);glfx.simpleShader.call(this,m0L.lensBlur0,{delta0:l0L[0]},this._.texture,this._.extraTexture);glfx.simpleShader.call(this,m0L.lensBlur1,{delta0:l0L[1],delta1:l0L[2]},this._.extraTexture,this._.extraTexture);glfx.simpleShader.call(this,m0L.lensBlur0,{delta0:l0L[1]});this._.extraTexture.use(1);glfx.simpleShader.call(this,m0L.lensBlur2,{power:1/Q0L,delta0:l0L[2]});return this;}});}();void function(){glfx.register({type:"tiltShift",param:[glfx.param("startX","float",.1),glfx.param("startY","float",.1),glfx.param("endX","float",.9),glfx.param("endY","float",.9),glfx.param("blurRadius","px(0,100)",15),glfx.param("gradientRadius","px(0,width)",200)],shaderCode:"\n\t\tuniform sampler2D texture;\n\t\tuniform float blurRadius;\n\t\tuniform float gradientRadius;\n\t\tuniform vec2 start;\n\t\tuniform vec2 end;\n\t\tuniform vec2 delta;\n\t\tuniform vec2 texSize;\n\t\tvarying vec2 texCoord;\n\n\t\t"+glfx.randomShader+"\n\n\t\tvoid main() {\n\t\t\tvec4 color = vec4(0.0);\n\t\t\tfloat total = 0.0;\n\t\n\t\t\t/* randomize the lookup values to hide the fixed number of samples */\n\t\t\tfloat offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\t\n\t\t\tvec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\n\t\t\tfloat radius = smoothstep(0.0, 1.0, abs(dot(texCoord * texSize - start, normal)) / gradientRadius) * blurRadius;\n\t\t\tfor (float t = -30.0; t <= 30.0; t++) {\n\t\t\t\tfloat percent = (t + offset - 0.5) / 30.0;\n\t\t\t\tfloat weight = 1.0 - abs(percent);\n\t\t\t\tvec4 sample = texture2D(texture, texCoord + delta / texSize * percent * radius);\n\t\t\n\t\t\t\t/* switch to pre-multiplied alpha to correctly blur transparent images */\n\t\t\t\tsample.rgb *= sample.a;\n\t\t\n\t\t\t\tcolor += sample * weight;\n\t\t\t\ttotal += weight;\n\t\t\t}\n\t\n\t\t\tgl_FragColor = color / total;\n\t\n\t\t\t/* switch back from pre-multiplied alpha */\n\t\t\tgl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n\t\t}\n\t",shader:function(U0L){var G0L=U0L.startX,e0L=U0L.startY,F0L=U0L.endX,P0L=U0L.endY,R0L=U0L.blurRadius;U0L=U0L.gradientRadius;var L0L=glfx.getShader("tiltShift"),G0L=G0L*this.width,e0L=e0L*this.height,F0L=F0L*this.width,V0L=F0L-G0L,p0L=P0L-e0L,v0L=Math.sqrt(V0L*V0L+p0L*p0L);glfx.simpleShader.call(this,L0L,{blurRadius:R0L,gradientRadius:U0L,start:[G0L,e0L],end:[F0L,P0L*this.height],delta:[-p0L/v0L,V0L/v0L],texSize:[this.width,this.height]});}});}();void function(){glfx.register({type:"triangleBlur",param:[glfx.param("blurX","px(0,250)",50),glfx.param("blurY","px(0,250)",50)],shaderCode:"\n\n\t\tuniform sampler2D texture;\n\t\tuniform vec2 delta;\n\t\tvarying vec2 texCoord;\n\n\t\t"+glfx.randomShader+"\n\n\t\tvoid main() {\n\t\t\tvec4 color = vec4(0.0);\n\t\t\tfloat total = 0.0;\n\t\t\t/* randomize the lookup values to hide the fixed number of samples */\n\t\t\tfloat offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\t\t\tfor (float t = -30.0; t <= 30.0; t++) {\n\t\t\t\tfloat percent = (t + offset - 0.5) / 30.0;\n\t\t\t\tfloat weight = 1.0 - abs(percent);\n\t\t\t\tvec4 sample = texture2D(texture, texCoord + delta * percent);\n\t\t\t\tsample.rgb *= sample.a;\n\t\t\t\tcolor += sample * weight;\n\t\t\t\ttotal += weight;\n\t\t\t}\n\t\t\tgl_FragColor = color / total;\n\t\t\tgl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n\t\t}\n\t",shader:function(i0L){var a0L=i0L.blurX;i0L=i0L.blurY;null==i0L&&(i0L=a0L);var x0L=glfx.getShader("triangleBlur");glfx.simpleShader.call(this,x0L,{delta:[a0L/this.width*this.pixelRatio,0]});glfx.simpleShader.call(this,x0L,{delta:[0,i0L/this.height*this.pixelRatio]});}});}();void function(){glfx.register({type:"zoomBlur",param:[glfx.param("centerX","float",.5),glfx.param("centerY","float",.5),glfx.param("strength","float",.3)],ondrag:glfx.dragCenterPoint,shader:function(k0L){var Y0L=k0L.centerX,A0L=k0L.centerY;k0L=k0L.strength;var w0L=glfx.gl.canvas._;w0L.zoomBlur=w0L.zoomBlur||new glfx.Shader(null,"\n\n\t\t\tuniform sampler2D texture;\n\t\t\tuniform vec2 center;\n\t\t\tuniform float strength;\n\t\t\tuniform vec2 texSize;\n\t\t\tvarying vec2 texCoord;\n\n\t\t\t"+glfx.randomShader+"\n\n\t\t\tvoid main() {\n\t\t\t\tvec4 color = vec4(0.0);\n\t\t\t\tfloat total = 0.0;\n\t\t\t\tvec2 toCenter = center - texCoord * texSize;\n\t\t\t\t\n\t\t\t\t/* randomize the lookup values to hide the fixed number of samples */\n\t\t\t\tfloat offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\t\t\t\t\n\t\t\t\tfor (float t = 0.0; t <= 40.0; t++) {\n\t\t\t\t\tfloat percent = (t + offset) / 40.0;\n\t\t\t\t\tfloat weight = 4.0 * (percent - percent * percent);\n\t\t\t\t\tvec4 sample = texture2D(texture, texCoord + toCenter * percent * strength / texSize);\n\t\t\t\t\t\n\t\t\t\t\t/* switch to pre-multiplied alpha to correctly blur transparent images */\n\t\t\t\t\tsample.rgb *= sample.a;\n\t\t\t\t\t\n\t\t\t\t\tcolor += sample * weight;\n\t\t\t\t\ttotal += weight;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tgl_FragColor = color / total;\n\t\t\t\t\n\t\t\t\t/* switch back from pre-multiplied alpha */\n\t\t\t\tgl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n\t\t\t}\n\t\t");glfx.simpleShader.call(this,w0L.zoomBlur,{center:[this.width*(1-Y0L),this.height*A0L],strength:k0L,texSize:[this.width,this.height]});}});}();void function(){glfx.register({type:"colorHalftone",param:[glfx.param("centerX","float",.5),glfx.param("centerY","float",.5),glfx.param("angle","radian",320),glfx.param("size","int(1,20)",7)],ondrag:glfx.dragCenterPoint,shaderCode:"\n\t\tuniform sampler2D texture;\n\t\tuniform vec2 center;\n\t\tuniform float angle;\n\t\tuniform float scale;\n\t\tuniform vec2 texSize;\n\t\tvarying vec2 texCoord;\n\t\t\n\t\tfloat pattern(float angle) {\n\t\t\tfloat s = sin(angle), c = cos(angle);\n\t\t\tvec2 tex = texCoord * texSize - center;\n\t\t\tvec2 point = vec2(\n\t\t\t\tc * tex.x - s * tex.y,\n\t\t\t\ts * tex.x + c * tex.y\n\t\t\t) * scale;\n\t\t\treturn (sin(point.x) * sin(point.y)) * 4.0;\n\t\t}\n\t\t\n\t\tvoid main() {\n\t\t\tvec4 color = texture2D(texture, texCoord);\n\t\t\tvec3 cmy = 1.0 - color.rgb;\n\t\t\tfloat k = min(cmy.x, min(cmy.y, cmy.z));\n\t\t\tcmy = (cmy - k) / (1.0 - k);\n\t\t\tcmy = clamp(cmy * 10.0 - 3.0 + vec3(pattern(angle + 0.26179), pattern(angle + 1.30899), pattern(angle)), 0.0, 1.0);\n\t\t\tk = clamp(k * 10.0 - 5.0 + pattern(angle + 0.78539), 0.0, 1.0);\n\t\t\tgl_FragColor = vec4(1.0 - cmy - k, color.a);\n\t\t}\n\t",shader:function(r3L){var s3L=r3L.centerX,n3L=r3L.centerY,I3L=r3L.angle;r3L=r3L.size;var T3L=glfx.getShader("colorHalftone");glfx.simpleShader.call(this,T3L,{center:[this.width*(1-s3L),this.height*n3L],angle:I3L,scale:Math.PI/r3L,texSize:[this.width,this.height]});}});}();void function(){glfx.register({type:"dotScreen",param:[glfx.param("centerX","float",.5),glfx.param("centerY","float",.5),glfx.param("angle","radian",1.1),glfx.param("size","px(0,20)",3)],ondrag:glfx.dragCenterPoint,shaderCode:"\n\t\tuniform sampler2D texture;\n\t\tuniform vec2 center;\n\t\tuniform float angle;\n\t\tuniform float scale;\n\t\tuniform vec2 texSize;\n\t\tvarying vec2 texCoord;\n\t\t\n\t\tfloat pattern() {\n\t\t\tfloat s = sin(angle), c = cos(angle);\n\t\t\tvec2 tex = texCoord * texSize - center;\n\t\t\tvec2 point = vec2(\n\t\t\t\tc * tex.x - s * tex.y,\n\t\t\t\ts * tex.x + c * tex.y\n\t\t\t) * scale;\n\t\t\treturn (sin(point.x) * sin(point.y)) * 4.0;\n\t\t}\n\t\t\n\t\tvoid main() {\n\t\t\tvec4 color = texture2D(texture, texCoord);\n\t\t\tfloat average = (color.r + color.g + color.b) / 3.0;\n\t\t\tgl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\n\t\t}\n\t",shader:function(c3L){var M3L=c3L.centerX,o3L=c3L.centerY,O3L=c3L.angle;c3L=c3L.size;var g3L=glfx.getShader("dotScreen");glfx.simpleShader.call(this,g3L,{center:[this.width*(1-M3L),this.height*o3L],angle:O3L,scale:Math.PI/c3L,texSize:[this.width,this.height]});}});}();void function(){glfx.register({type:"edgeWork",param:[glfx.param("radius","px(0.1,25)",4)],shader:function(y3L){y3L=y3L.radius;var h3L=glfx.gl.canvas._;h3L.edgeWork1=h3L.edgeWork1||new glfx.Shader(null,"\n\t\t\tuniform sampler2D texture;\n\t\t\tuniform vec2 delta;\n\t\t\tvarying vec2 texCoord;\n\t\t\t"+glfx.randomShader+"\n\t\t\tvoid main() {\n\t\t\t\tvec2 color = vec2(0.0);\n\t\t\t\tvec2 total = vec2(0.0);\n\t\t\t\t\n\t\t\t\t/* randomize the lookup values to hide the fixed number of samples */\n\t\t\t\tfloat offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\t\t\t\t\n\t\t\t\tfor (float t = -30.0; t <= 30.0; t++) {\n\t\t\t\t\tfloat percent = (t + offset - 0.5) / 30.0;\n\t\t\t\t\tfloat weight = 1.0 - abs(percent);\n\t\t\t\t\tvec3 sample = texture2D(texture, texCoord + delta * percent).rgb;\n\t\t\t\t\tfloat average = (sample.r + sample.g + sample.b) / 3.0;\n\t\t\t\t\tcolor.x += average * weight;\n\t\t\t\t\ttotal.x += weight;\n\t\t\t\t\tif (abs(t) < 15.0) {\n\t\t\t\t\t\tweight = weight * 2.0 - 1.0;\n\t\t\t\t\t\tcolor.y += average * weight;\n\t\t\t\t\t\ttotal.y += weight;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tgl_FragColor = vec4(color / total, 0.0, 1.0);\n\t\t\t}\n\t\t");h3L.edgeWork2=h3L.edgeWork2||new glfx.Shader(null,"\n\t\t\tuniform sampler2D texture;\n\t\t\tuniform vec2 delta;\n\t\t\tvarying vec2 texCoord;\n\t\t\t"+glfx.randomShader+"\n\t\t\tvoid main() {\n\t\t\t\tvec2 color = vec2(0.0);\n\t\t\t\tvec2 total = vec2(0.0);\n\t\t\t\t\n\t\t\t\t/* randomize the lookup values to hide the fixed number of samples */\n\t\t\t\tfloat offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\t\t\t\t\n\t\t\t\tfor (float t = -30.0; t <= 30.0; t++) {\n\t\t\t\t\tfloat percent = (t + offset - 0.5) / 30.0;\n\t\t\t\t\tfloat weight = 1.0 - abs(percent);\n\t\t\t\t\tvec2 sample = texture2D(texture, texCoord + delta * percent).xy;\n\t\t\t\t\tcolor.x += sample.x * weight;\n\t\t\t\t\ttotal.x += weight;\n\t\t\t\t\tif (abs(t) < 15.0) {\n\t\t\t\t\t\tweight = weight * 2.0 - 1.0;\n\t\t\t\t\t\tcolor.y += sample.y * weight;\n\t\t\t\t\t\ttotal.y += weight;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfloat c = clamp(10000.0 * (color.y / total.y - color.x / total.x) + 0.5, 0.0, 1.0);\n\t\t\t\tgl_FragColor = vec4(c, c, c, 1.0);\n\t\t\t}\n\t\t");glfx.simpleShader.call(this,h3L.edgeWork1,{delta:[y3L/this.width,0]});glfx.simpleShader.call(this,h3L.edgeWork2,{delta:[0,y3L/this.height]});}});}();void function(){glfx.register({type:"film",param:[glfx.param("pixelSize","float(0,10)",.5),glfx.param("amount","float(0,1)",.2),glfx.param("opacity","float(0,2)",1),glfx.param("sCount","int(0,2024)",1024)],shaderCode:"\n\t\tuniform sampler2D texture;\n\t\tvarying vec2 texCoord;\n\t\tuniform float time;\n\t\t// scanlines effect intensity value (0 = no effect, 1 = full effect)\n\t\tuniform float opacity;\n\t\t// scanlines effect count value (0 = no effect, 4096 = full effect)\n\t\tuniform float sCount;\n\t\tuniform float amount;\n\t\tuniform float pixelSize;\n\t\t\n\t\t"+glfx.helper.simplex_noise+"\n\n\t\tvoid main() {\n\t\t\tvec4 sample = texture2D(texture, texCoord);\n\t\t\tvec3 color = sample.rgb; \n\t\t\tfloat alpha = sample.a;\n\n\t\t\t// add noise\n\t\t\tfloat noise = texCoord.x * texCoord.y * time * 1000.0;\n\t\t\tvec3 cResult = color + color * clamp(0.1 + noise * 100.0, 0.0, 1.0);\n\n\t\t\t// add scanlines\n\t\t\tvec2 sc = vec2(sin(texCoord.y * sCount), cos(texCoord.y * sCount));\n\t\t\tcResult += color * vec3(sc.x, sc.y, sc.x) * opacity;\n\n\t\t\t// from StaticShader.js by felixturner in THREE.js\n\t\t\tfloat xs = floor(gl_FragCoord.x / pixelSize);\n\t\t\tfloat ys = floor(gl_FragCoord.y / pixelSize);\n\t\t\tvec4 snow = vec4(snoise(vec2(xs * time, ys * time)) * amount);\n\t\t\tvec4 res = vec4(cResult, alpha);\n\t\t\tgl_FragColor = vec4((res.rgb + snow.rgb), alpha);\n\t\t}\n\t",shader:function(H3L){var q3L=H3L.pixelSize,Z3L=H3L.amount,E3L=H3L.opacity;H3L=H3L.sCount;var u3L=glfx.getShader("film");glfx.simpleShader.call(this,u3L,{time:Math.max(1,(this.now-this.startTime)/1E3),amount:Z3L||0,pixelSize:isFinite(q3L)?q3L:10,opacity:E3L||0,sCount:Math.min(2.5*this.height,H3L)||0,texSize:[this.width,this.height]});}});}();void function(){glfx.register({type:"kaleidoscope",param:[glfx.param("angle","radian",1.1),glfx.param("sides","int(1,25)",3)],shaderCode:"\n\t\tuniform sampler2D texture;\n\t\tvarying vec2 texCoord;\n\t\tuniform float sides;\n\t\tuniform float angle;\n\t\tvoid main() {\n\t\t\tvec2 p = texCoord - 0.5;\n\t\t\tfloat r = length(p);\n\t\t\tfloat a = atan(p.y, p.x) + angle;\n\t\t\tfloat tau = 2.0 * 3.1416 ;\n\t\t\ta = mod(a, tau/sides);\n\t\t\ta = abs(a - tau/sides/2.) ;\n\t\t\tp = r * vec2(cos(a), sin(a));\n\t\t\tvec4 color = texture2D(texture, p + 0.5);\n\t\t\tgl_FragColor = color;\n\t\t}\n\t",shader:function(j3L){var J3L=j3L.angle;j3L=j3L.sides;var S3L=glfx.getShader("kaleidoscope");glfx.simpleShader.call(this,S3L,{angle:J3L,sides:Math.round(j3L)});}});}();void function(){glfx.register({type:"oldFilm",param:[glfx.param("sepia","%",.7),glfx.param("noise","float",.3),glfx.param("burn","float",.3),glfx.param("scratch","float",.3)],shaderCode:"\n\t\tuniform vec2 ImageSize;\n\t\tuniform sampler2D Sample0;\n\t\tuniform float sepia;\n\t\tuniform float noise;\n\t\tuniform float burn;\n\t\tuniform float scratch;\n\t\tuniform float random;\n\t\tuniform float time;\n\t\tvarying vec2 texCoord;\n\t\t\n\t\t"+glfx.helper.simplex_noise+"\n\n\t\tvoid main () {\n\t\t\tvec4 sample = texture2D(Sample0, texCoord);\n\t\t\tvec3 color = sample.xyz;\n\t\t\tcolor += color * burn;\n\t\t\tfloat average = (color.x + color.y + color.z) / 3.0;\n\t\t\tcolor.xyz += (average - color.xyz) * (1.0);\n\t\t\tfloat r = color.x;\n\t\t\tfloat g = color.y;\n\t\t\tfloat b = color.z;\n\t\t\tcolor.x = min(1.0, (r * (1.0 - (0.607 * sepia))) + (g * (0.769 * sepia)) + (b * (0.189 * sepia)));\n\t\t\tcolor.y = min(1.0, (r * 0.349 * sepia) + (g * (1.0 - (0.314 * sepia))) + (b * 0.168 * sepia));\n\t\t\tcolor.z = min(1.0, (r * 0.272 * sepia) + (g * 0.534 * sepia) + (b * (1.0 - (0.869 * sepia))));\n\t\t\tfloat coord = snoise(texCoord * vec2(1024.0 + random * 512.0, 1024.0 + random * 512.0)) * 0.5;\n\t\t\tcolor += coord * noise;\n\t\t\tif ( random < scratch ) {\n\t\t\t\tfloat dist = 1.0 / scratch;\n\t\t\t\tfloat d = distance(texCoord, vec2(random * dist, random * dist));\n\t\t\t\tif ( d < 0.4 ) {\n\t\t\t\t\tfloat xPeriod = 8.0;\n\t\t\t\t\tfloat yPeriod = 1.0;\n\t\t\t\t\tfloat pi = 3.141592;\n\t\t\t\t\tfloat phase = time;\n\t\t\t\t\tfloat turbulence = snoise(texCoord * 2.5);\n\t\t\t\t\tfloat vScratch = 0.5 + (sin(((texCoord.x * xPeriod + texCoord.y * yPeriod + turbulence)) * pi + phase) * 0.5);\n\t\t\t\t\tvScratch = clamp((vScratch * 10000.0) + 0.35, 0.0, 1.0);\n\t\t\t\t\tcolor.xyz *= vScratch;\n\t\t\t\t}\n\t\t\t}\n\t\t\tgl_FragColor.xyz = color;\n\t\t\tgl_FragColor.w = sample.a;\n\t\t}\n\t",shader:function(K3L){var b3L=K3L.sepia,t3L=K3L.noise,C3L=K3L.burn;K3L=K3L.scratch;var N3L=glfx.getShader("oldFilm");glfx.simpleShader.call(this,N3L,{sepia:b3L,noise:t3L,burn:C3L,scratch:K3L,random:this.random,time:Math.max(1,(this.now-this.startTime)/1E3)});}});}();void function(){glfx.register({type:"popArt",param:[glfx.param("dividerValue","float(0,1)",1),glfx.param("gamma","float(0,10)",10),glfx.param("numColors","float(0,256)",256)],shaderCode:"\n\t\tuniform sampler2D texture;\n\t\tuniform float dividerValue;\n\t\tuniform float gamma;\n\t\tuniform float numColors;\n\t\tvarying vec2 texCoord;\n\t\tvoid main() {\n\t\t\tvec2 off = texCoord;\n\t\t\tif (texCoord.s > 0.5) {\n\t\t\t\toff.s = (off.s - 0.5) * 2.0;\n\t\t\t\tif (texCoord.t > 0.5) {\n\t\t\t\t\toff.t = (off.t - 0.5) * 2.0;\n\t\t\t\t} else {\n\t\t\t\t\toff.t *= 2.0;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (texCoord.t > 0.5) {\n\t\t\t\t\toff.s *= 2.0;\n\t\t\t\t\toff.t = (off.t - 0.5) * 2.0;\n\t\t\t\t} else {\n\t\t\t\t\toff.s *= 2.0;\n\t\t\t\t\toff.t *= 2.0;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvec3 color = texture2D(texture, vec2(off)).rgb;\n\t\t\tif (texCoord.s > 0.5) {\n\t\t\t\tif (texCoord.t < 0.5) {\n\t\t\t\t} else {\n\t\t\t\t\tcolor.g *= 0.25;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (texCoord.t > 0.5) {\n\t\t\t\t\tcolor.b *= 0.25;\n\t\t\t\t} else {\n\t\t\t\t\tcolor.r *= 0.25;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvec4 c = vec4(0.0);\n\t\t\tif (texCoord.x < dividerValue) {\n\t\t\t\tvec3 x = color;\n\t\t\t\tx = pow(x, vec3(gamma, gamma, gamma));\n\t\t\t\tx = x * numColors;\n\t\t\t\tx = floor(x);\n\t\t\t\tx = x / numColors;\n\t\t\t\tx = pow(x, vec3(1.0/gamma));\n\t\t\t\tc = vec4(x, 1.0);\n\t\t\t} else {\n\t\t\t\tc = texture2D(texture, texCoord);\n\t\t\t}\n\t\t\tgl_FragColor.a = 1.0;\n\t\t\tgl_FragColor.rgb = c.rgb * 1.5;\n\t\t}\n\t",shader:function(f3L){var B3L=f3L.dividerValue,m3L=f3L.gamma;f3L=f3L.numColors;var l3L=glfx.getShader("popArt");glfx.simpleShader.call(this,l3L,{numColors:f3L||12,dividerValue:B3L||1,gamma:m3L||1.2});}});}();void function(){glfx.register({type:"RGBShift",param:[glfx.param("angle","radian",1.1),glfx.param("amount","float(0,0.1)",.05)],shaderCode:"uniform sampler2D texture;\nuniform vec2 texSize;\nvarying vec2 texCoord;\nuniform float time;\nuniform float amount;\nuniform float angle;\nvoid main() {\n\tvec2 offset = amount * vec2( cos(angle), sin(angle));\n\tfloat value = 0.0;\n    vec3 col;\n    vec4 sample0 = texture2D(texture, vec2(texCoord.x + value, texCoord.y) + offset);\n    vec4 sample1 = texture2D(texture, texCoord);\n    vec4 sample2 = texture2D(texture, vec2(texCoord.x - value, texCoord.y) - offset);\n    float alpha = max(max(sample0.a, sample1.a), sample2.a);\n    col.r = sample0.r;\n    col.g = sample1.g;\n    col.b = sample2.b;\n    gl_FragColor = vec4(col, alpha);\n}",shader:function(Q3L){var z3L=Q3L.angle;Q3L=Q3L.amount;var D3L=glfx.getShader("RGBShift");glfx.simpleShader.call(this,D3L,{texSize:[this.width,this.height],time:Math.max(1,(this.now-this.startTime)/1E3),angle:z3L,amount:Q3L});}});}();void function(){glfx.register({type:"tron",param:[glfx.param("amount","float(0,2)",.2),glfx.param("opacity","float(0,1)",1),glfx.param("colorIntensity","float(1,100)",5),glfx.param("alphaCutoff","float(0,0.025)",0),glfx.param("variation","float(0,6.28)",3),glfx.param("distance","float(0,50)",3),glfx.param("speed","float(0,10)",3)],shaderCode:"uniform sampler2D texture0;\nuniform vec2 texSize;\nvarying vec2 texCoord;\nuniform float time;\nuniform float alphaCutoff;\nuniform float colorIntensity;\nuniform float amount;\nuniform float opacity;\nuniform float speed;\nuniform float distance;\nuniform float variation;\nfloat luma(vec2 p, float dx, float dy) {\n\tvec4 c = texture2D(texture0, (p + vec2(dx * amount, dy * amount)) / texSize);\n\treturn 0.212656 * c.r + 0.715158 * c.g + 0.072186 * c.b;\n}\nvoid main(void) {\n\tvec2 wave = gl_FragCoord.xy;\n\twave.x = wave.x - 1.0 * sin(wave.y * variation + time * speed) * distance;\n  \twave.y = wave.y + sin(wave.y * variation + time * (speed * 0.66)) * distance;\n\tfloat t1 = luma(wave, -1.0, -1.0);\n\tfloat t3 = luma(wave, -1.0, 1.0);\n\tfloat t4 = luma(wave, 1.0, -1.0);\n\tfloat t6 = luma(wave, 1.0, 1.0);\n\tfloat H = -t1 - luma(wave, -1.0, 0.0) * 2.0 - t3 + t4 + luma(wave, 1.0, 0.0) * 2.0 + t6;\n\tfloat V = -t1 - luma(wave, 0.0, -1.0) * 2.0 - t4 + t3 + luma(wave, 0.0, 1.0) * 2.0 + t6;\n\tfloat sobel = H * H + V * V;\n\tvec2 p = gl_FragCoord.xy / texSize;\n\tvec4 edgeGradient = vec4(p.x * sobel, p.y * sobel, sobel, 1.0);\n\tvec4 original = texture2D(texture0, p);\n\tif (sobel < alphaCutoff) {\n\t\tedgeGradient *= 1.0 / colorIntensity;\n\t}\n\tif (amount < 0.0) {\n\t\tgl_FragColor = original * opacity - edgeGradient * colorIntensity;\n\t} else {\n\t\tgl_FragColor = original * opacity + edgeGradient * colorIntensity;\n\t}\n}",shader:function(d3L){var X3L=d3L.amount,W3L=d3L.opacity,U3L=d3L.colorIntensity,G3L=d3L.alphaCutoff,e3L=d3L.variation,F3L=d3L.distance;d3L=d3L.speed;var p3L=glfx.getShader("tron");glfx.simpleShader.call(this,p3L,{time:Math.max(1,(this.now-this.startTime)/1E3),amount:X3L||0,opacity:W3L||0,alphaCutoff:G3L||0,colorIntensity:U3L||0,variation:e3L||0,distance:F3L||0,speed:d3L||0,texSize:[this.width,this.height]});}});}();void function(){glfx.register({type:"vignette",param:[glfx.param("size","float",.5),glfx.param("blur","%",1)],shaderCode:"\n\n\t\tuniform sampler2D texture;\n\t\tuniform float size;\n\t\tuniform float blur;\n\n\t\tvarying vec2 texCoord;\n\n\t\tvoid main() {\n\t\t\tvec4 color = texture2D(texture, texCoord);\n\t\n\t\t\tfloat dist = distance(texCoord, vec2(0.5, 0.5));\n\t\t\tcolor.rgb *= smoothstep(0.8, blur * 0.799, dist * (size + blur));\n\t\n\t\t\tgl_FragColor = color;\n\t\t}\n\t",shader:function(V3L){var P3L=V3L.size;V3L=V3L.blur;var v3L=glfx.getShader("vignette");glfx.simpleShader.call(this,v3L,{size:sketch.util.clamp(P3L,0,1),blur:sketch.util.clamp(1-V3L,0,1)});}});}();void function(){glfx.register({type:"denoise",param:[glfx.param("exponent","int(10,30)",20)],shader:function(i3L){var L3L=this;i3L=i3L.exponent;var R3L=glfx.gl.canvas._;R3L.denoise=R3L.denoise||new glfx.Shader(null,"\n\t\t\tuniform sampler2D texture;\n\t\t\tuniform float exponent;\n\t\t\tuniform float strength;\n\t\t\tuniform vec2 texSize;\n\t\t\tvarying vec2 texCoord;\n\t\t\tvoid main() {\n\t\t\t\tvec4 center = texture2D(texture, texCoord);\n\t\t\t\tvec4 color = vec4(0.0);\n\t\t\t\tfloat total = 0.0;\n\t\t\t\tfor (float x = -4.0; x <= 4.0; x += 1.0) {\n\t\t\t\t\tfor (float y = -4.0; y <= 4.0; y += 1.0) {\n\t\t\t\t\t\tvec4 sample = texture2D(texture, texCoord + vec2(x, y) / texSize);\n\t\t\t\t\t\tfloat weight = 1.0 - abs(dot(sample.rgb - center.rgb, vec3(0.25)));\n\t\t\t\t\t\tweight = pow(weight, exponent);\n\t\t\t\t\t\tcolor += sample * weight;\n\t\t\t\t\t\ttotal += weight;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcolor = color / total;\n\t\t\t\tif (color.a > 1.0) color.a = 1.0;\n\t\t\t\tif (color.r > 1.0) color.r = 1.0;\n\t\t\t\tif (color.g > 1.0) color.g = 1.0;\n\t\t\t\tif (color.b > 1.0) color.b = 1.0;\n\t\t\t\tgl_FragColor = color;\n\t\t\t}\n\t\t");for(var a3L=0;2>a3L;a3L++){glfx.simpleShader.call(L3L,R3L.denoise,{exponent:Math.max(0,i3L),texSize:[L3L.width,L3L.height]});}}});}();void function(){glfx.register({type:"noise",param:[glfx.param("amount","float",.5)],shaderCode:"\n\n\t\tuniform sampler2D texture;\n\t\tuniform float amount;\n\t\tuniform float random;\n\t\tvarying vec2 texCoord;\n\n\t\t"+glfx.helper.simplex_noise+"\n\n\t\tvoid main() {\n\t\t\tvec4 color = texture2D(texture, texCoord);\n\t\t\tfloat diff = snoise(texCoord * vec2(1024.0 + random * 512.0, 1024.0 + random * 512.0)) * 0.5;\n\t\t\tcolor.r += diff;\n\t\t\tcolor.g += diff;\n\t\t\tcolor.b += diff;\n\t\t\tgl_FragColor = color;\n\t\t}\n\t",shader:function(x3L){x3L=x3L.amount;var k3L=glfx.getShader("noise");glfx.simpleShader.call(this,k3L,{amount:sketch.util.clamp(x3L,0,1),random:Math.random()});}});}();void function(){glfx.register({type:"mosaic",param:[glfx.param("sizeX","float(0,50)",.9),glfx.param("sizeY","float(0,50)",.9)],shaderCode:"\n\t\tuniform sampler2D texture;\n\t\tvarying vec2 texCoord;\n\t\tuniform vec2 texSize;\n\t\tuniform vec2 pixelSize;\n\t\tvoid main(void) {\n\t\t   vec2 size = texSize / pixelSize;\n\t\t   vec2 color = floor(texCoord * size) / size + pixelSize / texSize * 0.5;\n\t\t   gl_FragColor = texture2D(texture, color);\n\t\t}\n\t",shader:function(w3L){var Y3L=w3L.sizeX;w3L=w3L.sizeY;var A3L=glfx.getShader("mosaic");w3L=isFinite(w3L)?w3L:Y3L;glfx.simpleShader.call(this,A3L,{pixelSize:[Y3L*this.pixelRatio,w3L*this.pixelRatio],texSize:[this.width,this.height]});}});}();void function(){glfx.register({type:"hexagonalPixelate",param:[glfx.param("centerX","float",.5),glfx.param("centerY","float",.5),glfx.param("scale","px(1,100)",15)],ondrag:glfx.dragCenterPoint,shaderCode:"\n\n\t\tuniform sampler2D texture;\n\t\tuniform vec2 center;\n\t\tuniform float scale;\n\t\tuniform vec2 texSize;\n\n\t\tvarying vec2 texCoord;\n\n\t\tvoid main() {\n\t\t\tvec2 tex = (texCoord * texSize - center) / scale;\n\t\t\ttex.y /= 0.866025404;\n\t\t\ttex.x -= tex.y * 0.5;\n\t\n\t\t\tvec2 a;\n\t\t\tif (tex.x + tex.y - floor(tex.x) - floor(tex.y) < 1.0) a = vec2(floor(tex.x), floor(tex.y));\n\t\t\telse a = vec2(ceil(tex.x), ceil(tex.y));\n\t\t\tvec2 b = vec2(ceil(tex.x), floor(tex.y));\n\t\t\tvec2 c = vec2(floor(tex.x), ceil(tex.y));\n\t\n\t\t\tvec3 TEX = vec3(tex.x, tex.y, 1.0 - tex.x - tex.y);\n\t\t\tvec3 A = vec3(a.x, a.y, 1.0 - a.x - a.y);\n\t\t\tvec3 B = vec3(b.x, b.y, 1.0 - b.x - b.y);\n\t\t\tvec3 C = vec3(c.x, c.y, 1.0 - c.x - c.y);\n\t\n\t\t\tfloat alen = length(TEX - A);\n\t\t\tfloat blen = length(TEX - B);\n\t\t\tfloat clen = length(TEX - C);\n\t\n\t\t\tvec2 choice;\n\t\t\tif (alen < blen) {\n\t\t\t\tif (alen < clen) choice = a;\n\t\t\t\telse choice = c;\n\t\t\t} else {\n\t\t\t\tif (blen < clen) choice = b;\n\t\t\t\telse choice = c;\n\t\t\t}\n\t\n\t\t\tchoice.x += choice.y * 0.5;\n\t\t\tchoice.y *= 0.866025404;\n\t\t\tchoice *= scale / texSize;\n\t\t\tgl_FragColor = texture2D(texture, choice + center / texSize);\n\t\t}\n\t",shader:function(r5L){var s5L=r5L.centerX,n5L=r5L.centerY;r5L=r5L.scale;var I5L=glfx.getShader("hexagonalPixelate");glfx.simpleShader.call(this,I5L,{center:[this.width*(1-s5L),this.height*n5L],scale:r5L,texSize:[this.width,this.height]});}});}();void function(){glfx.register({type:"edgeDetect",param:[glfx.param("amount","float(-3,3)",.5),glfx.param("diameter","float(0,1)",1),glfx.param("opacity","float(0,1)",1)],shaderCode:"\n\t\tuniform sampler2D texture;\n\t\tvarying vec2 texCoord;\n\t\tuniform float amount;\n\t\tuniform float diameter;\n\t\tuniform float opacity;\n\t\tvoid main() {\n\t\t\tfloat step_x = 0.0015 * diameter;\n\t\t\tfloat step_y = 0.0015 * diameter;\n\t\t\tvec4 sample = texture2D(texture, texCoord);\n\t\t\tvec3 t1 = texture2D(texture, vec2(texCoord.x - step_x, texCoord.y - step_y)).rgb;\n\t\t\tvec3 t2 = texture2D(texture, vec2(texCoord.x, texCoord.y - step_y)).rgb * 2.0;\n\t\t\tvec3 t3 = texture2D(texture, vec2(texCoord.x + step_x, texCoord.y - step_y)).rgb;\n\t\t\tvec3 t4 = texture2D(texture, vec2(texCoord.x - step_x, texCoord.y)).rgb * 2.0;\n\t\t\tvec3 t5 = sample.rgb;\n\t\t\tvec3 t6 = texture2D(texture, vec2(texCoord.x + step_x, texCoord.y)).rgb * 2.0;\n\t\t\tvec3 t7 = texture2D(texture, vec2(texCoord.x - step_x, texCoord.y + step_y)).rgb;\n\t\t\tvec3 t8 = texture2D(texture, vec2(texCoord.x, texCoord.y + step_y)).rgb * 2.0;\n\t\t\tvec3 t9 = texture2D(texture, vec2(texCoord.x + step_x, texCoord.y + step_y)).rgb;\n\t\t\tvec3 H = t1 + t2 + t3 - t7 - t8 - t9;\n\t\t\tvec3 V = t1 - t3 + t4 - t6 + t7 - t9;\n\t\t\tvec3 res = sqrt(H * H + V * V);\n\t\t\tgl_FragColor.a = sample.a;\n\t\t\tgl_FragColor.rgb = (res * amount) + (t5 * opacity);\n\t\t}\n\t",shader:function(T5L){var c5L=T5L.amount,M5L=T5L.diameter;T5L=T5L.opacity;var o5L=glfx.getShader("edgeDetect");glfx.simpleShader.call(this,o5L,{amount:Number.isFinite(c5L)?c5L:.5,opacity:Number.isFinite(T5L)?T5L:1,diameter:Number.isFinite(M5L)?M5L:1});}});}();void function(){glfx.register({type:"ink",param:[glfx.param("strength","float(-0.5,0.5)",.25)],shaderCode:"\n\n\t\tuniform sampler2D texture;\n\t\tuniform float strength;\n\t\tuniform vec2 texSize;\n\n\t\tvarying vec2 texCoord;\n\n\t\tvoid main() {\n\t\t\tvec2 dx = vec2(1.0 / texSize.x, 0.0);\n\t\t\tvec2 dy = vec2(0.0, 1.0 / texSize.y);\n\t\t\tvec4 color = texture2D(texture, texCoord);\n\t\t\tfloat bigTotal = 0.0;\n\t\t\tfloat smallTotal = 0.0;\n\t\t\tvec3 bigAverage = vec3(0.0);\n\t\t\tvec3 smallAverage = vec3(0.0);\n\t\t\tfor (float x = -2.0; x <= 2.0; x += 1.0) {\n\t\t\t\tfor (float y = -2.0; y <= 2.0; y += 1.0) {\n\t\t\t\t\tvec3 sample = texture2D(texture, texCoord + dx * x + dy * y).rgb;\n\t\t\t\t\tbigAverage += sample;\n\t\t\t\t\tbigTotal += 1.0;\n\t\t\t\t\tif (abs(x) + abs(y) < 2.0) {\n\t\t\t\t\t\tsmallAverage += sample;\n\t\t\t\t\t\tsmallTotal += 1.0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvec3 edge = max(vec3(0.0), bigAverage / bigTotal - smallAverage / smallTotal);\n\t\t\tgl_FragColor = vec4(color.rgb - dot(edge, edge) * strength * 100000.0, color.a);\n\t\t}\n\t",shader:function(O5L){O5L=O5L.strength;var g5L=glfx.getShader("ink");glfx.simpleShader.call(this,g5L,{strength:O5L*O5L*O5L*O5L*O5L,texSize:[this.width,this.height]});}});}();void function(){glfx.register({type:"unsharpMask",param:[glfx.param("radius","float(0,20)",10),glfx.param("strength","float(0,10)",1)],defaults:[20,2],shaderCode:"\n\t\tuniform sampler2D blurredTexture;\n\t\tuniform sampler2D originalTexture;\n\t\tuniform float strength;\n\t\tuniform float threshold;\n\t\tvarying vec2 texCoord;\n\t\tvoid main() {\n\t\t\tvec4 blurred = texture2D(blurredTexture, texCoord);\n\t\t\tvec4 original = texture2D(originalTexture, texCoord);\n\t\t\tgl_FragColor = mix(blurred, original, 1.0 + strength);\n\t\t}\n\t",shader:function(h5L){var H5L=h5L.radius;h5L=h5L.strength;var y5L=glfx.getShader("unsharpMask");this._.extraTexture.ensureFormat(this._.texture);this._.texture.use();this._.extraTexture.drawTo(function(){glfx.Shader.getDefaultShader().drawRect();});this._.extraTexture.use(1);this.triangleBlur(H5L);y5L.textures({originalTexture:1});glfx.simpleShader.call(this,y5L,{strength:h5L});this._.extraTexture.unuse(1);}});}();void function(){(function(){var q5L="NORMAL ADD SUBTRACT MULTIPLY DARKEN COLOUR_BURN LINEAR_BURN LIGHTEN SCREEN COLOUR_DODGE LINEAR_DODGE OVERLAY SOFT_LIGHT HARD_LIGHT VIVID_LIGHT LINEAR_LIGHT PIN_LIGHT DIFFERENCE EXCLUSION".split(" ");glfx.register({type:"blend",param:[glfx.param("blendmode","int(0,"+(q5L.length-1)+")",1),glfx.param("srcAmount","float(0,1)",1),glfx.param("dstAmount","float(0,1)",1)],getBlendMode:function(Z5L){return isFinite(Z5L)?q5L[Z5L]:Z5L;},shaderCode:"uniform vec3 blendmode;\nuniform float srcAmount;\nuniform float dstAmount;\nuniform sampler2D texture0;\nuniform sampler2D texture1;\nvarying vec2 texCoord;\nvec3 blend (vec3 src, vec3 dst) {\n\t#ifdef NORMAL\n\t\treturn src + dst;\n\t#endif\n\t#ifdef ADD\n\t\treturn src + dst;\n\t#endif\n\t#ifdef SUBTRACT\n\t\treturn src - dst;\n\t#endif\n\t#ifdef MULTIPLY\n\t\treturn src * dst;\n\t#endif\n\t#ifdef DARKEN\n\t\treturn min(src, dst);\n\t#endif\n\t#ifdef COLOUR_BURN\n\t\treturn vec3((src.x == 0.0) ? 0.0 : (1.0 - ((1.0 - dst.x) / src.x)),\n\t\t\t\t\t(src.y == 0.0) ? 0.0 : (1.0 - ((1.0 - dst.y) / src.y)),\n\t\t\t\t\t(src.z == 0.0) ? 0.0 : (1.0 - ((1.0 - dst.z) / src.z)));\n\t#endif\n\t#ifdef LINEAR_BURN\n\t\treturn (src + dst) - 1.0;\n\t#endif\n\t#ifdef LIGHTEN\n\t\treturn max(src, dst);\n\t#endif\n\t#ifdef SCREEN\n\t\treturn (src + dst) - (src * dst);\n\t#endif\n\t#ifdef COLOUR_DODGE\n\t\treturn vec3((src.x == 1.0) ? 1.0 : min(1.0, dst.x / (1.0 - src.x)),\n\t\t\t\t\t(src.y == 1.0) ? 1.0 : min(1.0, dst.y / (1.0 - src.y)),\n\t\t\t\t\t(src.z == 1.0) ? 1.0 : min(1.0, dst.z / (1.0 - src.z)));\n\t#endif\n\t\t\t\n\t#ifdef LINEAR_DODGE\n\t\treturn src + dst;\n\t#endif\n\t#ifdef OVERLAY\n\t\treturn vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),\n\t\t\t\t\t(dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),\n\t\t\t\t\t(dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));\n\t#endif\n\t#ifdef SOFT_LIGHT\n\t\treturn vec3((src.x <= 0.5) ? (dst.x - (1.0 - 2.0 * src.x) * dst.x * (1.0 - dst.x)) : (((src.x > 0.5) && (dst.x <= 0.25)) ? (dst.x + (2.0 * src.x - 1.0) * (4.0 * dst.x * (4.0 * dst.x + 1.0) * (dst.x - 1.0) + 7.0 * dst.x)) : (dst.x + (2.0 * src.x - 1.0) * (sqrt(dst.x) - dst.x))),\n\t\t\t\t\t(src.y <= 0.5) ? (dst.y - (1.0 - 2.0 * src.y) * dst.y * (1.0 - dst.y)) : (((src.y > 0.5) && (dst.y <= 0.25)) ? (dst.y + (2.0 * src.y - 1.0) * (4.0 * dst.y * (4.0 * dst.y + 1.0) * (dst.y - 1.0) + 7.0 * dst.y)) : (dst.y + (2.0 * src.y - 1.0) * (sqrt(dst.y) - dst.y))),\n\t\t\t\t\t(src.z <= 0.5) ? (dst.z - (1.0 - 2.0 * src.z) * dst.z * (1.0 - dst.z)) : (((src.z > 0.5) && (dst.z <= 0.25)) ? (dst.z + (2.0 * src.z - 1.0) * (4.0 * dst.z * (4.0 * dst.z + 1.0) * (dst.z - 1.0) + 7.0 * dst.z)) : (dst.z + (2.0 * src.z - 1.0) * (sqrt(dst.z) - dst.z))));\n\t#endif\n\t#ifdef HARD_LIGHT\n\t\treturn vec3((src.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - src.x) * (1.0 - dst.x)),\n\t\t\t\t\t(src.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - src.y) * (1.0 - dst.y)),\n\t\t\t\t\t(src.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - src.z) * (1.0 - dst.z)));\n\t#endif\n\t#ifdef VIVID_LIGHT\n\t\treturn vec3((src.x <= 0.5) ? (1.0 - (1.0 - dst.x) / (2.0 * src.x)) : (dst.x / (2.0 * (1.0 - src.x))),\n\t\t\t\t\t(src.y <= 0.5) ? (1.0 - (1.0 - dst.y) / (2.0 * src.y)) : (dst.y / (2.0 * (1.0 - src.y))),\n\t\t\t\t\t(src.z <= 0.5) ? (1.0 - (1.0 - dst.z) / (2.0 * src.z)) : (dst.z / (2.0 * (1.0 - src.z))));\n\t#endif\n\t#ifdef LINEAR_LIGHT\n\t\treturn 2.0 * src + dst - 1.0;\n\t#endif\n\t#ifdef PIN_LIGHT\n\t\treturn vec3((src.x > 0.5) ? max(dst.x, 2.0 * (src.x - 0.5)) : min(dst.x, 2.0 * src.x),\n\t\t\t\t\t(src.x > 0.5) ? max(dst.y, 2.0 * (src.y - 0.5)) : min(dst.y, 2.0 * src.y),\n\t\t\t\t\t(src.z > 0.5) ? max(dst.z, 2.0 * (src.z - 0.5)) : min(dst.z, 2.0 * src.z));\n\t#endif\n\t#ifdef DIFFERENCE\n\t\treturn abs(dst - src);\n\t#endif\n\t#ifdef EXCLUSION\n\t\treturn src + dst - 2.0 * src * dst;\n\t#endif\n}\nvoid main() {\n   vec4 src = texture2D(texture0, texCoord);\n   vec4 dst = texture2D(texture1, texCoord);\n\tvec3 color = clamp(blend(src.xyz*srcAmount, dst.xyz*dstAmount), 0.0, 1.0);\n   gl_FragColor.rgb = color;\n   gl_FragColor.a = src.a * dst.a;\n}",shader:function(j5L){var E5L=j5L.blendmode,S5L=j5L.srcAmount,K5L=j5L.dstAmount,b5L=j5L.layer0;j5L=j5L.layer1;var u5L=glfx.gl,E5L=isFinite(E5L)?q5L[E5L]:E5L,J5L=glfx.filters.blend;if(J5L.dirty||this.mode!==E5L){delete u5L.blend,this.mode=E5L;}u5L=u5L.canvas._;u5L.blend=u5L.blend||new glfx.Shader(null,J5L.shaderCode,E5L);this._.texture.loadContentsOf(b5L);this._.extraTexture.loadContentsOf(j5L);this._.extraTexture.use(1);u5L.blend.textures({texture0:0,texture1:1});glfx.simpleShader.call(this,u5L.blend,{blendmode:E5L,srcAmount:S5L,dstAmount:K5L,texSize:[this.width,this.height]});this._.extraTexture.unuse(1);return this;}});}());}();void function(){glfx.register({type:"bulgePinch",param:[glfx.param("centerX","%",.5),glfx.param("centerY","%",.5),glfx.param("radius","%",.5),glfx.param("strength","float(-1,1)",.5)],ondrag:glfx.dragCenterPoint,shaderCode:["uniform float radius;\nuniform float strength;\nuniform vec2 center;","coord -= center;\nfloat distance = length(coord);\nif (distance < radius) {\n\tfloat percent = distance / radius;\n\tif (strength > 0.0) {\n\t\tcoord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);\n\t} else {\n\t\tcoord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);\n\t}\n}\ncoord += center;"],shader:function(t5L){var f5L=t5L.centerX,B5L=t5L.centerY,m5L=t5L.radius;t5L=t5L.strength;var C5L=glfx.gl,N5L=glfx.filters.bulgePinch;N5L.dirty&&delete C5L.bulgePinch;C5L.bulgePinch=C5L.bulgePinch||glfx.helper.warpShader(N5L.shaderCode[0],N5L.shaderCode[1]);glfx.simpleShader.call(this,C5L.bulgePinch,{radius:m5L*this.width,strength:sketch.util.clamp(t5L,-1,1),center:[this.width*(1-f5L),this.height*B5L],texSize:[this.width,this.height]});}});}();void function(){(function(){var l5L="texture/concrete_1.jpeg texture/concrete_2.jpeg texture/concrete_3.jpeg texture/concrete_4.jpeg texture/concrete_5.jpeg texture/fabric_1.jpeg texture/fabric_2.jpeg texture/fabric_3.jpeg texture/leather_1.jpeg texture/leather_2.jpeg texture/leather_3.jpeg texture/leather_4.jpeg texture/leather_5.jpeg texture/leather_6.jpeg texture/leather_7.jpeg texture/leather_8.jpeg texture/paint_1.jpeg texture/paint_2.jpeg texture/paint_3.jpeg texture/paper_1.jpeg texture/paper_2.jpeg texture/paper_3.jpeg texture/paper_4.jpeg texture/paper_5.jpeg texture/paper_6.jpeg texture/paper_7.jpeg texture/plastic_1.jpeg texture/plastic_2.jpeg texture/plastic_3.jpeg texture/plastic_4.jpeg texture/plastic_5.jpeg texture/rocks_1.jpeg texture/rocks_2.jpeg texture/rocks_3.jpeg texture/rocks_4.jpeg texture/rocks_5.jpeg texture/rocks_6.jpeg texture/rocks_7.jpeg texture/water_1.jpeg texture/water_2.jpeg texture/water_3.jpeg texture/wood_1.jpeg texture/wood_2.jpeg texture/wood_3.jpeg texture/wood_4.jpeg texture/wood_5.jpeg texture/wood_6.jpeg texture/wood_7.jpeg texture/wood_8.jpeg texture/wood_9.jpeg texture/crack3.jpg".split(" ");glfx.register({type:"displacement",textures:l5L,loadResource:function(z5L,D5L){var Q5L=glfx.filters.displacement.textures;return"string"!==typeof Q5L[z5L]?false:glfx.loadResource(Q5L,z5L,D5L);},param:[glfx.param("zoom","float(0,3)",1),glfx.param("dotDepth","float(0,3)",1),glfx.param("dotSize","float(0,20)",1),glfx.param("textureDepth","float(0,3)",1),glfx.param("textureId","int(0,"+(l5L.length-1)+")",1),glfx.param("strength","float(-1,1)",.1)],shaderCode:"\n\t\tuniform sampler2D texture0;\n\t\tuniform sampler2D texture1;\n\t\tuniform float time;\n\t\tuniform float zoom;\n\t\tuniform float dotDepth;\n\t\tuniform float dotSize;\n\t\tuniform float strength;\n\t\tuniform float textureDepth;\n\t\tuniform float textureId;\n\t\tvarying vec2 texCoord;\n\t\tfloat random(float seed) {\n\t\t\treturn fract(sin(seed)*23443.23);\n\t\t}\n\t\tvec2 random2f(vec2 p) {\n\t\t\treturn vec2(random(p.x+p.y*100.0), random(p.x+p.y*1000.0));\n\t\t}\n\t\tfloat voronoi( in vec2 x ) {\n\t\t\tvec2 p = floor( x );\n\t\t\tvec2 f = fract( x );\n\t\t\tfloat res = 8.0;\n\t\t\tfor( float j=-1.0; j<=1.0; j++ )\n\t\t\tfor( float i=-1.0; i<=1.0; i++ ) {\n\t\t\t    vec2  b = vec2( i, j );\n\t\t\t    vec2  r = b - f + random2f( p + b );\n\t\t\t    float d = dot( r, r );\n\t\t\t    res = min( res, d );\n\t\t\t}\n\t\t\treturn sqrt( res );\n\t\t}\n\t\tvoid main() {\n\t\t\tfloat t = time / dotSize;\n\t\t\tfloat b = voronoi(0.003 * sin(t) * texCoord + 2.0 * t);\n\t\t\tfloat g = voronoi(0.2 * sin(t) * texCoord);\n\t\t\tfloat r = voronoi(t * texCoord - 1.0 * t);\n\t\t\tvec4 tex = texture2D(texture1, texCoord);\n\t\t\tvec4 dot = tex * vec4(r, g, b, 1.0);\n\t\t\tvec4 dis;\n\t\t\tif (textureId == 0.0) {\n\t\t\t\tdis = dot * dotDepth + tex * textureDepth;\n\t\t\t} else {\n\t\t\t\tdis = dot * dotDepth + 1.0 - tex * textureDepth;\n\t\t\t}\n\t\t\tdis.x -= 0.5;\n\t\t\tdis.y -= 0.5;\n\t\t\tdis.x *= strength;\n\t\t\tdis.y *= strength;\n\t\t\tvec2 res_uv = texCoord;\n\t\t\tres_uv.x = res_uv.x + dis.x;\n\t\t\tres_uv.y = res_uv.y + dis.y;\n\t\t\tgl_FragColor = texture2D(texture0, zoom * res_uv);\n\t\t}\n\t",shader:function(d5L){var W5L=d5L.zoom,U5L=d5L.dotDepth,F5L=d5L.dotSize,G5L=d5L.textureDepth,X5L=d5L.textureId;d5L=d5L.strength;var e5L=glfx.getShader("displacement");Number.isFinite(X5L)&&0<X5L?(this._.extraTexture.loadContentsOf(glfx.filters.displacement.textures[X5L]),this._.extraTexture.use(1)):this._.texture.use(1);e5L.textures({texture0:0,texture1:1});glfx.simpleShader.call(this,e5L,{time:100,zoom:Number.isFinite(W5L)?W5L:1,dotDepth:Number.isFinite(U5L)?U5L:1,dotSize:F5L||.001,textureDepth:Number.isFinite(G5L)?G5L:1,strength:Number.isFinite(d5L)?d5L:1,textureId:X5L||0});}});}());}();void function(){glfx.register({type:"ripple",param:[glfx.param("wave","float(0,10)",Math.PI/.75),glfx.param("distortion","float(0,100)",1),glfx.param("centerX","float",.5),glfx.param("centerY","float",.5)],shaderCode:"varying vec2 texCoord;\nuniform vec2 center;\nuniform sampler2D texture;\nuniform float time;\nuniform float wave;\nuniform float distortion;\nvoid main(void) {\n\tfloat scalar = abs(1.0 - abs(distance(texCoord, center)));\n\tfloat sinOffset = sin(wave * time / scalar);\n\tsinOffset = clamp(sinOffset, 0.0, 1.0);\n\tfloat sinSign = cos(wave / scalar);\n\tsinOffset = sinOffset * distortion / 32.0;\n\tgl_FragColor = texture2D(texture, texCoord + sinOffset * sinSign);\n}",shader:function(p5L){var V5L=p5L.wave,P5L=p5L.distortion,v5L=p5L.centerX;p5L=p5L.centerY;var L5L=glfx.getShader("ripple");glfx.simpleShader.call(this,L5L,{time:Math.max(1,(this.now-this.startTime)/1E3),texSize:[this.width,this.height],center:[1-v5L,p5L],distortion:P5L,wave:V5L});}});}();void function(){glfx.register({type:"swirl",param:[glfx.param("centerX","float",.5),glfx.param("centerY","float",.5),glfx.param("radius","int(0,width)",200),glfx.param("angle","radian(-10,10)",1)],ondrag:glfx.dragCenterPoint,shaderCode:["uniform float radius;\nuniform float angle;\nuniform vec2 center;","coord -= center;\nfloat distance = length(coord);\nif (distance < radius) {\n\tfloat percent = (radius - distance) / radius;\n\tfloat theta = percent * percent * angle;\n\tfloat s = sin(theta);\n\tfloat c = cos(theta);\n\tcoord = vec2(\n\t\tcoord.x * c - coord.y * s,\n\t\tcoord.x * s + coord.y * c\n\t);\n}\ncoord += center;"],shader:function(R5L){var x5L=R5L.centerX,k5L=R5L.centerY,w5L=R5L.radius;R5L=R5L.angle;var i5L=glfx.gl,a5L=glfx.filters.swirl;a5L.dirty&&delete i5L.swirl;i5L.swirl=i5L.swirl||glfx.helper.warpShader(a5L.shaderCode[0],a5L.shaderCode[1]);glfx.simpleShader.call(this,i5L.swirl,{radius:w5L,center:[this.width*(1-x5L),this.height*k5L],angle:R5L,texSize:[this.width,this.height]});return this;}});}();void function(){sketch.module.BlendModeRenderer=function(Y5L,A5L,r9L){function s9L(c9L,o9L){c9L.width=Y5L;c9L.height=A5L;var M9L;if("disco"===o9L){return M9L=s9L(sketch.Canvas2D(),"darken"),c9L.ctx.drawImage(M9L.canvas,Y5L/2,0,Y5L,A5L,Y5L/2,0,Y5L,A5L),M9L=s9L(sketch.Canvas2D(),"lighten"),c9L.ctx.drawImage(M9L.canvas,0,0,Y5L/2,A5L,0,0,Y5L/2,A5L),c9L.ctx;}if("erase"===o9L){return c9L=s9L(c9L,"normal"),c9L.globalCompositeOperation="source-atop",c9L.fillStyle=sketch.generate.interlace().pattern,c9L.fillRect(0,0,c9L.canvas.width,c9L.canvas.height),c9L;}M9L=c9L.ctx;M9L.drawImage(n9L,0,0,Y5L,A5L);M9L.globalCompositeOperation=o9L;M9L.drawImage(I9L,0,0,Y5L,A5L);M9L.globalCompositeOperation="source-over";M9L.fillStyle="rgba(0,0,0,0.8)";M9L.fillRect(0,A5L,Y5L,20*r9L);return M9L;}function T9L(O9L,g9L,h9L,y9L){O9L.save();O9L.translate(g9L,h9L);O9L.scale(r9L/2,r9L/2);O9L.beginPath();O9L.fillStyle=y9L;O9L.fillRect(0,0,30,30);O9L.fill();O9L.restore();}Y5L=Math.round(Y5L*r9L);A5L=Math.round(A5L*r9L);var n9L=sketch.Canvas2D(Y5L,A5L),I9L=sketch.Canvas2D(Y5L,A5L);(function(){var q9L=.85*Y5L/160,Z9L=.85*A5L/160,H9L=I9L.getContext("2d");H9L.save();H9L.scale(q9L,Z9L);T9L(H9L,5,5,"#f00");H9L.translate(15,15);H9L.scale(.5,.5);H9L.globalCompositeOperation="lighter";H9L.beginPath();H9L.fillStyle="rgba(255,0,0,1)";H9L.arc(100,200,100,2*Math.PI,0,false);H9L.fill();H9L.beginPath();H9L.fillStyle="rgba(0,0,255,1)";H9L.arc(220,200,100,2*Math.PI,0,false);H9L.fill();H9L.beginPath();H9L.fillStyle="rgba(0,255,0,1)";H9L.arc(160,100,100,2*Math.PI,0,false);H9L.fill();H9L.restore();}());(function(){for(var b9L=sketch.color.space.HSV_RGB,u9L=n9L.getContext("2d"),S9L=u9L.createImageData(Y5L,A5L),K9L=S9L.data,l9L=Y5L/2,m9L=A5L/2,t9L=Y5L/2,J9L=0,C9L=0;C9L<A5L;C9L++){for(var N9L=0;N9L<Y5L;N9L++,J9L+=4){var E9L=N9L-l9L,f9L=C9L-m9L,j9L=E9L*E9L+f9L*f9L;if(j9L<t9L*t9L){var B9L=Math.sqrt(j9L)/t9L,j9L=1-2*B9L+1,E9L=b9L({H:360*((Math.atan2(f9L,E9L)+Math.PI)/(2*Math.PI)+Math.PI/2+.015)%360,S:Math.min(100,200*B9L),V:100});K9L[J9L]=E9L.R;K9L[J9L+1]=E9L.G;K9L[J9L+2]=E9L.B;K9L[J9L+3]=255*j9L;}}}u9L.putImageData(S9L,0,0);b9L=Y5L/160;S9L=A5L/160;u9L.save();u9L.scale(b9L,S9L);T9L(u9L,10,10,"#00f");u9L.restore();}());return{$top:I9L,$bottom:n9L,draw:s9L};};}();void function(){function G9L(F9L,L9L,P9L){var p9L=F9L.type,V9L=sketch.doc.toolkit.getToolkitId(p9L),v9L="text"===V9L;if("brush"===V9L){if("magicBrush"===p9L&&(F9L.type="pencil"),!F9L.path||!F9L.path.length){for(F9L.path=[],p9L=0,F9L=F9L.path,P9L=P9L/2/2,V9L=5;p9L<L9L;p9L+=V9L){V9L=Math.max(.5,V9L+-.1),F9L.push({cmd:0===p9L?"M":"L",x:p9L,y:P9L*Math.sin(.1*p9L)+0+P9L});}}}else{v9L&&!F9L.content&&(F9L.content=D9L.translate("text-preview-settings"));}}function W9L(){return Q9L.$preview||(Q9L.$preview=z9L.create("\n\t\t<ui-object-preview>\n\t\t\t<canvas></canvas>\n\t\t\t<popout-arrow></popout-arrow>\n\t\t</ui-object-preview>\n\t"));}function e9L(){var R9L=W9L().querySelector("canvas");R9L.ctx=R9L.getContext("2d");return Q9L.canvas||(Q9L.canvas=R9L);}function U9L(i9L){i9L=sketch.doc.toolkit.getToolkitId(i9L);return"brush"===i9L||"clipart"===i9L||"image"===i9L||"shape"===i9L||"text"===i9L;}var z9L=sketch.dom,D9L=sketch.lang,d9L=sketch.style,X9L=sketch.ui,Q9L={};sketch.render=function(w9L){var k9L=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(Array.isArray(w9L)){return Promise.all(w9L.map(function(Y9L){return sketch.render(Y9L,k9L);}));}var a9L=k9L.ctx,x9L=k9L.pixelRatio;return sketch.Layer(w9L).then(function(r1L){var A9L=r1L.bbox;a9L||(a9L=sketch.Context2D(A9L.computedWidth,A9L.computedHeight));Number.isFinite(x9L)||(x9L=1);a9L.scale(x9L,x9L);r1L.draw(a9L);a9L.scale(1/x9L,1/x9L);return a9L.canvas;});};sketch.renderLayerPreview=function(I1L){function h1L(y1L){var q1L=M1L.toolkit.getToolkitId(O1L),Z1L="brush"===q1L,E1L="clipart"===q1L,u1L="text"===q1L,q1L=T1L.canvas;q1L.width=s1L*o1L;q1L.height=n1L*o1L;q1L.style.width=s1L+"px";q1L.style.height=n1L+"px";var H1L=y1L.bbox;H1L.width=s1L;H1L.height=n1L;q1L=new sketch.Matrix2D();q1L.scale(o1L);Z1L?(d9L.cachePaint(y1L,y1L.fill),d9L.cachePaint(y1L,y1L.stroke),y1L.centerPoint||(y1L.centerPoint={x:s1L/2,y:n1L/4}),y1L.dirtyBoundingBox=true,y1L.iteration=0,y1L.seed=1,M1L.render.ensureLayerIsReadyToRender(y1L),H1L.x=0,H1L.y=n1L/4,"mirrorBrush"===y1L.type&&(H1L.y=0),Z1L=H1L.padding,q1L.translate(-Z1L,-Z1L),q1L.translate(H1L.x,H1L.y),Z1L=y1L.brush,Z1L.copyInDefaults&&Z1L.copyInDefaults()):E1L?(Z1L=(s1L-10)/Math.max(H1L.assetHeight,H1L.assetWidth),H1L.width=H1L.assetWidth*Z1L,H1L.height=H1L.assetHeight*Z1L,q1L.translate((s1L-H1L.width)/2,(n1L-H1L.height)/2)):u1L&&y1L.updateBoundingBox();g1L&&g1L(T1L,y1L);q1L.applySetTransform(T1L);y1L.render(T1L,true);return{canvas:T1L.canvas,layer:y1L};}var c1L=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},M1L=sketch.doc,T1L=c1L.ctx||sketch.Context2D(),s1L=c1L.width||100,n1L=c1L.height||100,g1L=c1L.transformLayer,o1L=c1L.pixelRatio||M1L.pixelRatio,O1L=I1L.type;if(!U9L(O1L)){return Promise.reject("Preview is not supported for "+O1L+" layers");}G9L(I1L,s1L,n1L);return I1L instanceof M1L.Layer?Promise.resolve(h1L(I1L)):Array.isArray(I1L)?sketch.LayerCollection(I1L).then(function(j1L){return j1L.forEach(h1L);}):sketch.Layer(I1L).then(h1L);};X9L.renderPreviewOverlay=function(){function l1L(d1L){return sketch.renderLayerPreview(d1L,{ctx:z1L,width:200,height:200,transformLayer:D1L});}function Q1L(X1L){Q9L.removing&&(Q9L.removing.cancel(),Q9L.removing=null);t1L instanceof JSEvent?t1L.END?(N1L(X1L),f1L(500)):N1L(X1L):(N1L(X1L),f1L(500));}function N1L(G1L){if(!Q9L.attached){var U1L=S1L.classList,W1L=S1L.style;K1L.$element.contains(S1L)?(W1L.display="block",W1L.opacity=1):(Q9L.timestamp=Date.now(),global.Velocity(S1L,"fadeIn",150),K1L.$element.appendChild(S1L));B1L?(U1L.remove("hide-arrow"),X9L.popoutAt(S1L,B1L,{align:D9L.rtl?"center right to center left":"center left to center right"})):(U1L.add("hide-arrow"),W1L.left=0,W1L.top=0);W1L=m1L.style;W1L.width="200px";W1L.height="200px";W1L.opacity=G1L.opacity;Q9L.attached=K1L.on("tool:change",f1L);}}function f1L(e1L){Q9L.attached&&(Q9L.attached.detach(),Q9L.attached=null,Q9L.removing=z9L.remove(S1L,{delay:e1L}));}var J1L=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},B1L=J1L.$at,D1L=J1L.transformLayer,t1L=J1L.gevent||{},C1L=t1L.env||{},K1L=sketch.doc;if(!K1L.gesture.length&&!K1L.selection.length){var S1L=W9L(),m1L=e9L(),z1L=m1L.ctx,J1L=K1L.toolkit.getCurrentConfig();if(U9L(J1L.type)){if(t1L.START||!C1L.layer){return J1L=Object.assign({},J1L),C1L.layer=l1L(J1L).then(function(F1L){F1L=F1L.layer;C1L.layer=F1L;Q1L(F1L);});}var b1L=C1L.layer;b1L.then||(sketch.copyConfig(J1L,b1L),l1L(b1L),Q1L(b1L));}}};}();void function(){function a1L(x1L,w1L){function k1L(Y1L){var A1L=sketch.share.sitesDefs[Y1L];Y1L=sketch.share.sites[Y1L]({shareUrl:x1L,mediaUrl:x1L,title:"blah",description:""});var r4L=Y1L.startsWith("http")?"_blank":"";return'<a href="'+Y1L+'" class="'+A1L.icon+'" target="'+r4L+'"></a>';}x1L=window.location.origin+x1L;w1L='\n\t\t<div class="share-alert">\n\t\t\t<h3>'+p1L.translate("image-ready-to-share")+"</h3>\n\t\t\t"+('<button id="copy-button" class="icon-clipboard sk-button" data-clipboard-text="'+x1L+'" style="cursor:pointer" title="'+p1L.translate("copy-to-clipboard")+'"></button>')+'\n\t\t\t<a href="'+x1L+'" target="_blank">'+sketch.string.hellip(x1L,50)+"</a>\n\t\t\t<br>\n\t\t\t"+k1L("facebook")+"\n\t\t\t"+k1L("twitter")+"\n\t\t\t"+k1L("googleplus")+"\n\t\t\t"+k1L("pinterest")+"\n\t\t\t"+k1L("tumblr")+"\n\t\t\t"+k1L("email")+"\n\t\t</div>\n\t";V1L.alert(w1L);w1L=R1L.$("#copy-button");new Clipboard(w1L).on("success",function(){V1L.log(sketch.lang.translate("share-link-copied"));});}function P1L(s4L,n4L){this.provider=s4L;this.proper=sketch.share.sitesDefs[s4L].proper;this.icon=sketch.share.sitesDefs[s4L].icon;this.init=function(I4L,T4L){I4L&&I4L();};this.post=function(c4L){return sketch.agent.get("io.blob").then(function(O4L){if(false===O4L){sketch.share.imgur.post(c4L);}else{var M4L=c4L.onpost,o4L=c4L.onupload;return c4L.canvas.toBlobURL(function(g4L){g4L=window.location.protocol+n4L+g4L;o4L&&o4L(g4L);M4L&&M4L(g4L);});}});};}function v1L(h4L){console.log(h4L);}function L1L(y4L){console.log(y4L.loaded/y4L.total*100>>0);}var R1L=sketch.dom,p1L=sketch.lang,V1L=sketch.ui;sketch.share=new function(){var H4L=this,q4L={};H4L.test=function(j4L,S4L,K4L,b4L){var Z4L=q4L[j4L]||{};Z4L.close&&Z4L.close();var E4L=sketch.share[j4L],u4L=E4L.proper,J4L=0;E4L.init(function(){var t4L="loader-"+j4L,C4L='<span id="'+t4L+'">...</span>';E4L.uploading?V1L.log(p1L.translate("still-uploading-to",u4L)+C4L):Z4L=q4L[j4L]=V1L.log('<img src="./media/ux/loader.gif" style="border-radius: 50%;"> '+p1L.translate("uploading-to",u4L)+C4L,0);E4L.post({title:K4L,description:b4L,canvas:S4L,hash:sketch.assets._createId(S4L),onupload:function(f4L){var N4L=p1L.translate("upload-complete",u4L);Z4L.$log?(Z4L.$log.innerHTML=N4L,Z4L.close(Z4L.$log)):V1L.log(N4L);E4L.shareProxy||a1L(f4L,"");},onprogress:function(B4L){B4L="number"===typeof B4L?100*B4L>>0:B4L.loaded/B4L.total*100>>0;if(B4L+5>J4L){var m4L=R1L.$("#"+t4L);m4L&&(m4L.textContent=": "+B4L+"%");J4L=B4L+5;}},onerror:function(){var l4L=p1L.translate("upload-failed",u4L)+" :(";Z4L.$log?(Z4L.$log.innerHTML=l4L,Z4L.close(Z4L.$log)):V1L.log(l4L);}});},function(){V1L.log(p1L.translate("could-not-authorize")+" :(");});};H4L.construct=function(D4L,z4L,Q4L,d4L){if(window[z4L]){Q4L&&Q4L();}else{return sketch.require(D4L,{exposed:[z4L]}).then(function(){setTimeout(function(){Q4L&&Q4L();},100);}).catch(function(X4L){d4L(X4L);});}};H4L.verify=function(U4L,G4L,W4L){if(U4L.verified){return U4L.verified;}U4L.init(function(){G4L(W4L[0],W4L[1],W4L[2],W4L[3],W4L[4],W4L[5],W4L[6],W4L[7]);});};H4L.share=function(p4L){var e4L=p4L.target,F4L=H4L.sites[e4L];F4L&&a1L(F4L(p4L),e4L);};H4L.shareProxy=function(V4L){var P4L=this;this.provider=V4L;this.proper=sketch.share.sitesDefs[V4L].proper;this.icon=sketch.share.sitesDefs[V4L].icon;this.shareProxy=true;this.init=function(v4L,L4L){P4L.verified=true;v4L&&v4L();};this.post=function(R4L){if(sketch.share.verify(P4L,P4L.post,arguments)){var a4L=R4L.title,x4L=R4L.description,i4L=R4L.onupload;sketch.share.local.post({hash:R4L.hash,canvas:R4L.canvas,onprogress:R4L.onprogress||L1L,onerror:R4L.onerror||v1L,onupload:function(k4L){i4L&&i4L(k4L);sketch.share.share({target:V4L,title:a4L,description:x4L,shareUrl:k4L,mediaUrl:k4L});}});}};};H4L.sites={digg:function(w4L){return"http://digg.com/submit?url="+encodeURIComponent(w4L.shareUrl);},stumbleupon:function(Y4L){return"https://www.stumbleupon.com/submit?url="+encodeURIComponent(Y4L.shareUrl);},reddit:function(A4L){return"http://www.reddit.com/submit?url="+encodeURIComponent(A4L.shareUrl);},googleplus:function(r7L){return"https://plus.google.com/share?url="+encodeURIComponent(r7L.shareUrl);},gmail:function(s7L){return"http://mail.google.com/mail/"+("?view=cm&fs=1&su="+encodeURIComponent(s7L.title)+"&body="+encodeURIComponent(s7L.shareUrl));},delicious:function(n7L){return"http://del.icio.us/post"+("?url1="+encodeURIComponent(n7L.shareUrl)+"&title="+encodeURIComponent(n7L.title));},myspace:function(I7L){return"http://www.myspace.com/Modules/PostTo/Pages/"+("?u="+encodeURIComponent(I7L.shareUrl)+"&t="+encodeURIComponent(I7L.title));},slashdot:function(T7L){return"http://slashdot.org/slashdot-it.pl?op=basic&url="+encodeURIComponent(T7L.shareUrl);},yahoo:function(c7L){return"http://buzz.yahoo.com/submit/?url="+encodeURIComponent(c7L.shareUrl);},technorati:function(M7L){return"http://www.technorati.com/faves?add="+encodeURIComponent(M7L.shareUrl);},linkedin:function(o7L){return"http://www.linkedin.com/shareArticle"+("?mini=true&url="+encodeURIComponent(o7L.mediaUrl)+"&title="+encodeURIComponent(o7L.title)+"&summary="+encodeURIComponent(o7L.description)+"&source="+encodeURIComponent(o7L.shareUrl));},tumblr:function(O7L){return"http://www.tumblr.com/share/link"+("?url="+encodeURIComponent(O7L.shareUrl)+"&name="+encodeURIComponent(O7L.title)+"&description="+encodeURIComponent(O7L.description));},twitter:function(g7L){return"http://twitter.com/share"+("?text="+encodeURIComponent(g7L.title)+" "+encodeURIComponent(g7L.description)+"&url="+encodeURIComponent(g7L.shareUrl));},facebook:function(h7L){return"https://www.facebook.com/sharer/sharer.php"+("?s=100&p[title]="+encodeURIComponent(h7L.title)+"&p[summary]="+encodeURIComponent(h7L.description)+"&p[url]="+encodeURIComponent(h7L.shareUrl)+"&p[images][0]="+encodeURIComponent(h7L.mediaUrl));},pinterest:function(y7L){return"https://pinterest.com/pin/create/button"+("?url="+encodeURIComponent(y7L.shareUrl)+"&media="+encodeURIComponent(y7L.mediaUrl)+"&description="+encodeURIComponent(y7L.title)+" "+encodeURIComponent(y7L.description));},sketchio:function(H7L){return H7L.shareUrl;},email:function(q7L){return"mailto:?subject="+q7L.title+"&body="+q7L.shareUrl;}};}();sketch.share.sitesDefs={email:{icon:"icon-email",proper:"eMail"},googleplus:{icon:"icon-google-plus",proper:"Google+"},delicious:{icon:"icon-delicious",proper:"Delicious"},facebook:{icon:"icon-facebook",proper:"Facebook"},gmail:{icon:"icon-email",proper:"GMail"},linkedin:{icon:"icon-image",proper:"LinkedIn"},imgur:{icon:"icon-image",proper:"Image"},myspace:{icon:"icon-myspace",proper:"MySpace"},pinterest:{icon:"icon-pinterest",proper:"Pinterest"},reddit:{icon:"icon-reddit",proper:"Reddit"},sketchio:{icon:"icon-infinity",proper:"Sketch.IO"},sketchpad:{icon:"icon-infinity",proper:"Sketchpad"},stumbleupon:{icon:"icon-stumbleupon",proper:"StumbleUpon"},tumblr:{icon:"icon-tumblr",proper:"Tumblr"},twitter:{icon:"icon-twitter",proper:"Twitter"},webcamfx:{icon:"icon-infinity",proper:"WebcamFX"}};void function(){for(var E7L="twitter pinterest sketchio reddit tumblr stumbleupon gmail".split(" "),Z7L=0;Z7L<E7L.length;Z7L++){var u7L=E7L[Z7L];sketch.share[u7L]=new sketch.share.shareProxy(u7L);}}();sketch.share.facebook=new sketch.share.shareProxy("facebook");if("sketch.io"===window.location.host){sketch.share.sketchpad=new P1L("sketchpad","//sketch.io/sketchpad/?image="),sketch.share.webcamfx=new P1L("webcamfx","//sketch.io/webcam-fx/?image=");}else{var i1L=window.location.host;sketch.share.sketchpad=new P1L("sketchpad","//"+i1L+"/sketch.io/sketch-src/www/?image=");sketch.share.webcamfx=new P1L("webcamfx","//"+i1L+"/sketch.io/sketch-filter/www/?image=");}sketch.share.imgur=new function(J7L){var j7L=this;j7L.uploading=false;j7L.lastHash=void 0;j7L.src="";j7L.appId="4a049ad1cf40d49";j7L.init=function(S7L,K7L){S7L&&S7L();};j7L.post=function(b7L){if(!j7L.uploading){var N7L=b7L.hash,B7L=b7L.canvas,t7L=b7L.onpost,C7L=b7L.onupload,m7L=b7L.onprogress||L1L,f7L=b7L.onerror||v1L;j7L.lastHash===N7L?(C7L&&C7L(j7L.src),t7L&&t7L(j7L.src)):(j7L.uploading=true,B7L.toBlob(function(Q7L){var l7L=new FormData();l7L.append("image",Q7L);sketch.request("https://api.imgur.com/3/image.json",{data:l7L,headers:{Authorization:"Client-ID "+j7L.appId},onProgress:m7L}).then(function(D7L){j7L.uploading=false;try{var z7L=JSON.parse(D7L).data.link,z7L=J7L.indexOf("https://")?J7L+z7L.replace("http://","https://"):J7L+z7L;C7L&&C7L(z7L);t7L&&t7L(z7L);j7L.src=z7L;j7L.lastHash=N7L;}catch(d7L){console.warn(d7L);}}).catch(function(X7L){j7L.uploading=false;f7L&&f7L(X7L);});}));}};}("");sketch.share.filepicker=new function(){var W7L=this;W7L.appId="AmXVSjplaSwalHIqs9E6Qz";W7L.init=function(G7L,e7L){var U7L=window.location.protocol,U7L=0===U7L.indexOf("http")?U7L:"https:";sketch.share.construct(U7L+"//api.filepicker.io/v1/filepicker.js","filepicker",function(){W7L.verified=true;filepicker.setKey(W7L.appId);G7L&&G7L();},e7L||function(){console.log(FPError.toString());});};W7L.store=function(L7L,V7L,P7L,v7L){if(sketch.share.verify(W7L,W7L.store,arguments)){var F7L=L7L.toDataURL("image/png").split(",")[1],p7L=F7L.length;filepicker.store(F7L,{mimetype:"image/png",base64decode:true},function(R7L){V7L&&V7L(R7L.url);},function(i7L){P7L&&P7L(i7L.toString());},function(a7L){v7L&&v7L({loaded:a7L/100*p7L,total:p7L});});}};W7L.post=function(x7L){if(sketch.share.verify(W7L,W7L.post,arguments)){var k7L=x7L.onpost,w7L=x7L.onupload;sketch.share.local.post({hash:x7L.hash,canvas:x7L.canvas,onprogress:x7L.onprogress,onerror:x7L.onerror,onupload:function(Y7L){w7L&&w7L(Y7L);filepicker.exportFile(Y7L,function(A7L){k7L&&k7L(A7L.url);});}});}};}();sketch.share.local=new function(s6L){var r6L=this;r6L.src="";r6L.lastHash=void 0;r6L.uploading=false;r6L.host=window.location.host;r6L.init=function(n6L,I6L){n6L&&n6L();};r6L.post=function(T6L){if(!r6L.uploading){var c6L=T6L.hash,h6L=T6L.canvas,M6L=T6L.onpost||function(){},o6L=T6L.onupload||function(){},y6L=T6L.onprogress||L1L,O6L=T6L.onerror||v1L;if(r6L.lastHash===c6L){o6L(r6L.src),M6L(r6L.src);}else{r6L.uploading=true;var g6L=sketch.loc.POST;sketch.request(g6L+"?prefix="+sketch.feature.prefix,{as:"json",data:"canvasData="+h6L.toDataURL("image/jpeg"),headers:{"Content-Type":"canvas/upload"},onProgress:y6L}).then(function(H6L){H6L.basename?(H6L=sketch.string.dirparent(g6L)+"/render/"+H6L.basename,o6L(H6L),M6L(H6L),r6L.src=H6L,r6L.lastHash=c6L):O6L(H6L.error);r6L.uploading=false;}).catch(function(q6L){O6L(q6L);r6L.uploading=false;});}}};}();}();void function(){sketch.tools.timeMachine=function(E6L){function j6L(J6L){var K6L=J6L.env;J6L.START&&(K6L.delta=0);var b6L=J6L.start,t6L=u6L.overlay,S6L=t6L.ctx;S6L.clearRect(0,0,t6L.width,t6L.height);S6L.beginPath();S6L.moveTo(b6L.x,b6L.y+.5);S6L.lineTo(J6L.x,b6L.y+.5);S6L.lineWidth=1;S6L.stroke();K6L.delta+=J6L.delta().x;J6L=K6L.delta/10>>0;if(0!==J6L){if(0>J6L){if(!Z6L.canUndo()){return;}Z6L.undo(Math.abs(J6L));}else{if(!Z6L.canRedo()){return;}Z6L.redo(J6L);}K6L.delta-=10*J6L;}}var u6L=E6L.contexts,Z6L=E6L.history;this._enable=function(C6L){sketch.keyboard.enable(E6L,C6L);C6L.drag=Gesture.drag(E6L.$inputPointer,j6L);};};}();void function(){function N6L(m6L){function z6L(D6L){D6L&&(D6L.onchange=function(d6L){if(D6L.files&&D6L.files.length){m6L.handleFiles(d6L.target.files,function(){D6L.value="";},d6L);}else{var X6L=D6L.value,W6L=X6L.replace(/\\/g,"/").replace(/.*\//,"");m6L.handleFiles([{src:X6L,name:W6L}],null,d6L);}});}var l6L=sketch.dom;m6L.addInput=function(F6L){function p6L(){null==p6L.fired&&(p6L.fired=true,U6L.parentNode&&U6L.parentNode.replaceChild(e6L,U6L),e6L.appendChild(U6L),e6L.appendChild(G6L));var v6L=l6L.measure(U6L),L6L=v6L.width,v6L=v6L.height;L6L&&v6L&&(e6L.style.width=L6L+"px",e6L.style.height=v6L+"px");}var U6L=l6L.$(F6L.target),V6L=F6L.onchange||m6L.onChange,e6L=F6L.wrapper;F6L=U6L&&U6L.parentNode;if(!F6L||"sk-file-input"!==F6L.className){if(!U6L||!U6L.querySelector(".sk-fileInput")){if(U6L||e6L){var G6L=l6L.create('\n\t\t\t<input class="sk-fileInput" />\n\t\t');Gesture.on(G6L,["mousedown","mouseout","mouseover"],function(R6L){U6L&&U6L.dispatchEvent&&Gesture.dispatchEvent(U6L,R6L);});Gesture.on(G6L,"mousedown",function(x6L){function i6L(){m6L.onChange=m6L.onChangeDefault;a6L.detach();}var a6L=Gesture.on(document.body,"mousedown",i6L);Gesture.stop(x6L);m6L.onChange=function(){V6L.apply(m6L,arguments);i6L();};});m6L.formats.length&&sketch.open.hasDiskAccess&&sketch.open.hasDiskAccess()?Gesture.click(G6L,function(k6L){k6L.cancel();sketch.open.fromDisk().then(function(w6L){m6L.handleFiles([w6L]);});}):G6L.setAttribute("type","file");1<m6L.maxFiles?(G6L.setAttribute("name","files[]"),G6L.setAttribute("multiple","multiple")):G6L.setAttribute("name","file");m6L.directory&&(G6L.setAttribute("directory",""),G6L.setAttribute("mozdirectory",""),G6L.setAttribute("webkitdirectory",""));if(e6L){e6L.appendChild(G6L);}else{F6L=Q6L[U6L.nodeName];e6L=l6L.create('<span class="sk-file-input" style="position: relative; overflow: hidden; z-index: 0;"></span>');U6L.style.cssText&&(e6L.style.cssText+=U6L.style.cssText);F6L&&(e6L.style.display="inline-block");F6L=l6L.measure(U6L);var P6L=F6L.height;F6L.width||P6L?p6L():setTimeout(p6L,250);}z6L(G6L);}}}};var Q6L={A:true,SPAN:true};}function f6L(Y6L){function r80(I80,T80){for(var n80=I80.length;n80--;){if(I80[n80]===T80){return true;}}return false;}function s80(o80,g80){var c80=this;c80.files=[];c80.pending=0;c80.recurse=function(h80,y80,H80){c80.pending++;if(!h80){return c80.runCallback();}h80.isFile?h80.file(function(q80){q80.path=y80+q80.name;c80.files.push(q80);c80.runCallback();}):h80.isDirectory&&h80.createReader().readEntries(function(E80){for(var Z80=0;Z80<E80.length;Z80++){c80.recurse(E80[Z80],y80+h80.name+"/",H80+1);}c80.runCallback();});};c80.runCallback=function(){--c80.pending||g80(c80.files);};for(var M80=0;M80<o80.length;M80++){if(o80[M80].webkitGetAsEntry){var O80=o80[M80].webkitGetAsEntry();c80.recurse(O80,"",0);}}}var A6L=sketch.dom;Y6L.addDropArea=function(J80){function S80(){u80.classList.remove("visible");S80.timeout=setTimeout(function(){j80.display="none";},250);}var u80=A6L.create('<form class="sk-uploader"></form>'),j80=u80.style;u80.innerHTML=Y6L.dropAreaMessage;Y6L.dropAreaStyle&&(j80.cssText+=Y6L.dropAreaStyle);u80.onclick=function(){S80();};u80.ondragenter=function(K80){Gesture.cancel(K80);return false;};u80.ondragover=function(b80){Gesture.cancel(b80);return false;};u80.ondrop=function(C80){Gesture.cancel(C80);S80();var t80=C80.dataTransfer;t80&&(t80.items?new s80(t80.items,function(N80){N80.length&&Y6L.handleFiles(N80,null,C80);}):t80.files&&(t80=t80.files,t80.length&&Y6L.handleFiles(t80,null,C80)));};u80.ondragleave=function(B80){var f80=Gesture.asPageXY(B80);if(0!==f80.x||0!==f80.y){for(f80=document.elementFromPoint(f80.x,f80.y);f80!==document&&f80;){if(f80.classList.contains("sk-uploader")){return;}f80=f80.parentNode;}}Gesture.cancel(B80);setTimeout(S80,100);};J80===window&&(J80=document.body);J80.contains(u80)||J80.appendChild(u80);J80.ondragenter=function(m80){(m80=m80.dataTransfer)&&m80.types&&r80(m80.types,"Files")&&(clearTimeout(S80.timeout),j80.display="block",setTimeout(function(){u80.classList.add("visible");j80.display="table";},10));};if(J80===document.body){Gesture.on(window,"resize",function(){window.innerWidth&&window.innerHeight&&(j80.width=window.innerWidth+"px",j80.height=window.innerHeight+"px");});}};}function B6L(l80){function D80(X80,G80){var W80=Object.prototype.toString.call(X80);"[object Object]"===W80&&X80.src&&(W80="");switch(W80){case"[object Array]":for(var W80=X80.length,U80=0;U80<W80;U80++){G80(X80[U80]);}break;case"[object Object]":for(U80 in X80){G80(X80[U80],U80);}break;default:G80(X80);}}function d80(e80){var F80=void 0;"[object Blob]"===String(e80.files)?F80=e80.files:(F80=new FormData(),D80(e80.files,function(V80,P80){V80.name&&V80.value?F80.append(V80.name,V80.value):"undefined"!==typeof V80.data?F80.append(P80||V80.name||V80.fileName,V80.data):V80.src&&"data:"===V80.src.substr(0,5)?F80.append(P80||V80.name||V80.fileName,JSON.stringify(V80)):F80.append(P80||V80.hash,V80);}));var p80=new XMLHttpRequest();p80.upload.onprogress=function(v80){if(v80.lengthComputable){var L80=v80.loaded;e80.lengthComputable=true;e80.transferPercent=Math.round(100*L80/v80.total);e80.transferTotal=Q80.bytes.toHumanReadable(L80);var R80=2*(L80-e80.bytes);0!==R80&&(e80.bytes=L80,e80.transferSpeed=Q80.bytes.toHumanReadable(R80),e80.timeRemaining=z80.getTimeFormat((v80.total-e80.bytes)/R80*1E3,true),e80.timeLapse=z80.getTimeFormat(Date.now()-v80.timeStamp,true));if(e80.onProgress){e80.onProgress(e80,v80);}}else{e80.lengthComputable=false,e80.transferSpeed=0,e80.transferTotal=0,e80.transferPercent=0,e80.timeRemaining=0;}};p80.onload=function(a80){"[object Blob]"!==String(e80.files)&&D80(e80.files,function(x80){"undefined"===typeof x80.date&&(x80.isUploaded=true);});var i80=a80.target.responseText;if("json"===e80.confirm){try{i80=JSON.parse(i80);}catch(k80){console.log(a80.target.responseText);}}if(l80.UPLOAD_ERR[i80]){if(l80.onError(l80,i80),e80.onError){e80.onError(l80,i80);}}else if(e80.onUpload){e80.onUpload(e80,i80);}};p80.onerror=function(w80){l80.onError(l80,"UPLOAD_ERR_XHTTP",w80);if(e80.onError){e80.onError(l80,"UPLOAD_ERR_XHTTP",w80);}};p80.onabort=function(Y80){if(e80.onAbort){e80.onAbort(l80,"UPLOAD_ERR_XHTTP",Y80);}};p80.open("POST",e80.action,true);p80.send(F80);}var Q80=sketch.convert,z80=sketch.util;l80.upload=function(A80){this.onAbort=A80.onAbort;this.onUpload=A80.onUpload;this.onProgress=A80.onProgress;this.onError=A80.onError;this.action=A80.action;this.confirm=A80.confirm||l80.confirm;this.files=0===String(A80.file).indexOf("[object")?[A80.file]:A80.files;this.bytes=this.timeLapse=this.timeRemaining=this.transferPercent=this.transferTotal=this.transferSpeed=0;d80(this,this.onUpload);};l80.UPLOAD_ERR={UPLOAD_ERR_INI_SIZE:"The uploaded file exceeds the upload_max_filesize directive",UPLOAD_ERR_FORM_SIZE:"The uploaded file exceeds the MAX_FILE_SIZE directive",UPLOAD_ERR_PARTIAL:"The uploaded file was only partially uploaded",UPLOAD_ERR_NO_FILE:"No file was uploaded",UPLOAD_ERR_NO_TMP_DIR:"Missing a temporary folder",UPLOAD_ERR_CANT_WRITE:"Failed to write file to disk",UPLOAD_ERR_EXTENSION:"A PHP extension stopped the file upload",UPLOAD_ERR_FORMAT:"The uploaded file was an invalid format",UPLOAD_ERR_XHTTP:""};}sketch.util.Uploader=function(){function n20(T20){var I20={};I20.name=T20.name||T20.fileName;I20.src=T20.src;I20.size=T20.size||T20.fileSize;I20.type=T20.type;T20=JSON.stringify(I20);for(var I20=5381,c20=0,M20=T20.length;c20<M20;c20++){I20=(I20<<5)+I20+T20.substr(c20,1).charCodeAt();}return I20;}var s20=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r20=Galactic.emitter(this);r20.debug=false;r20.confirm=s20.confirm||"text";r20.onError=s20.onerror||console.error;r20.onChange=s20.onchange||console.error;r20.onChangeDefault=r20.onChange;r20.directory=!!s20.directory;r20.maxFiles=s20.maxFiles||1;r20.maxFileSize=s20.maxFileSize||104857600;r20.dropArea=s20.dropArea;r20.dropAreaMessage=s20.dropAreaMessage||"Drop File(s) Here";r20.dropAreaStyle=s20.dropAreaStyle||"";r20.files={};r20.formats=s20.formats;N6L(r20);f6L(r20);B6L(r20);r20.handleFiles=function(g20,O20,y20){function H20(q20){q20.upload=new r20.upload({file:q20,action:sketch.loc.POST,onUpload:function(Z20,E20){E20.src&&(E20=[E20]);for(var j20 in E20){Z20=r20.files[j20];var u20=E20[j20];Z20.src=u20.src;Z20.size=u20.size;Z20.type=u20.type;Z20.name=u20.name;}o20();}});}function o20(){var J20=g20[h20];if(++h20>r20.maxFiles||!J20){if(1===r20.maxFiles){if("undefined"===typeof g20[0]){r20.onError(r20,"UPLOAD_ERR_FORMAT");O20&&O20();return;}J20=n20(g20[0]);r20.file=r20.files[J20]||g20[0];O20&&O20();return r20.onChange(r20,y20||{});}for(var t20 in r20.files){return O20&&O20(),r20.onChange(r20,y20||{});}}else{t20=J20.name||J20.fileName||"";var S20=J20.type||"",K20=void 0;S20&&(K20=S20.split("/").pop());r20.formats.includes(K20)||(K20=t20.split(".").pop().toLowerCase());var S20=n20(J20),b20=r20.files[S20];if(b20&&(r20.changedFiles[S20]=b20,r20.changedFilesByName[t20]=b20,b20.isRead||b20.isUploaded)){o20();return;}if(r20.formats.includes(K20)){if(K20=J20.fileSize||J20.size,0===K20){r20.onError(r20,"UPLOAD_ERR_NO_FILE"),o20();}else if(K20&&K20>r20.maxFileSize){r20.onError(r20,"UPLOAD_ERR_FORM_SIZE"),o20();}else{J20.hash=S20;r20.files[S20]=J20;r20.changedFiles[S20]=J20;r20.changedFilesByName[t20]=J20;try{var C20=J20.hash,N20=URL.createObjectURL(J20);r20.files[C20].src=N20;r20.files[C20].isRead=true;o20();}catch(f20){H20(J20);}}}else{r20.onError(r20,"UPLOAD_ERR_FORMAT"),o20();}}}var h20=0;r20.changedFiles={};r20.changedFilesByName={};o20();};r20.dropArea&&r20.addDropArea(r20.dropArea);};}();void function(){sketch.module.addOnce(function(){function F20(p20){function V20(){var R20=sketch.assets,P20=sketch.doc.tool,v20=P20.type,i20="stamp"===v20,L20="text"===P20.toolkitId;if(i20||"tileBrush"===v20||L20){var P20=m20.changedFiles,k20;for(k20 in P20){var a20=P20[k20],x20=void 0;L20&&(x20=a20.name.match(/([^:\\/]*?)(?:\.([^ :\\/.]*))?$/)[1]);R20.add(a20,{placeIntoResources:true,targetId:x20,type:v20}).then(function(w20){i20?sketch.config("stamp",{src:w20.assetId,stroke:new sketch.Stroke({color:"passthrough"})}):L20?sketch.doc.setFont(R20.unprefixed(w20.assetId)):sketch.config("tileBrush",{stroke:new sketch.Stroke({pattern:{src:w20.assetId}})});d20.showConfigPane();sketch.palette&&sketch.palette.setIndicator();});}}}p20=Gesture.asClientXY(p20);return G20.elementFromPoint(p20,function(Y20){if("sk-configure"===Y20.id){V20();}else if("sketch-document"===Y20.nodeName.toLowerCase()){return sketch.docs.focus(Y20.getAttribute("data-uuid")),true;}});}function W20(r00){function M00(O00){O00&&(Array.isArray(O00)?O00.forEach(M00):"string"===typeof O00?d20.logSuccess(O00):O00.id&&n00.push(O00.id));}var s00=sketch.doc,I00=sketch.doc.scene,T00=sketch.uploader,A20=r00.point||s00.getCenterOfViewport(),o00=r00.openAsNew;s00.toolkit.config.applyPresetValues("defaults","image");var c00=T00.changedFiles;r00=T00.changedFilesByName;if(r00["sketch.json"]){return sketch.open.fromBlobs(Object.values(r00));}var n00=[];r00=Object.keys(c00);return Promise.each(r00,function(h00){function q00(){return s00.addMedia(g00,{openAsNew:o00,centerOnPoint:true,x:A20.x,y:A20.y}).then(function(Z00){A20.x+=B20.io.incrementX;A20.y+=B20.io.incrementY;M00(Z00);}).catch(function(E00){console.error(E00,g00);});}var g00=c00[h00];h00=0===(g00.type||"").indexOf("image/");var y00=g00.src;if(l20&&h00&&Number.isFinite(A20.x+A20.y)){var H00=D20.hashString(y00);l20.create({id:H00,point:s00.pointInWindowFromScene(A20),message:g00.name||"adding image"});return sketch.assets.load(y00).then(q00).finally(function(){return l20.destroy(H00);});}return q00();}).then(function(){n00.length&&(I00.deselectAll(),I00.select(n00),sketch.exec("select"));});}var e20=sketch.agent,G20=sketch.dom,B20=sketch.feature,d20=sketch.ui,D20=sketch.util,l20=sketch.vortex,U20=sketch.lang.translate;sketch.fileinfo.register([{extension:"abr"},{extension:"gbr"},{extension:"ggr"},{extension:"gpl"}]);var X20=sketch.getSupportedFormats(),z20=void 0,Q20=void 0;B20.uploader.DnD&&(z20=B20.uploader.DnDArea||sketch.$container,Q20=B20.uploader.DnDMessage||'\n\t\t\t<div class="sk-uploader-animation"></div>\n\t\t\t  <div class="sk-uploader-text">\n\t\t\t  \t'+U20("drop-files-here")+"\n\t\t\t  \t<br>\n\t\t\t\t<div>\n\t\t\t\t\t<i>Accepted formats: </i>\n\t\t\t\t\t<br>\n\t\t\t\t\t."+X20.join(" .")+"\n\t\t\t\t</div>\n\t\t\t  </div>\n\t\t\t</div>\n\t\t");var m20=sketch.uploader=new D20.Uploader({confirm:"json",mode:"read",maxFiles:e20.ios?1:Infinity,formats:X20.concat(["ttf","woff"]),dropArea:z20,dropAreaMessage:Q20,onerror:function(u00){sketch.debug&&console.error(u00);},onchange:function(J00,j00){Number.isFinite(j00.pageX)?F20(j00)&&(J00=sketch.doc.pointInSceneFromEvent(j00),W20({point:J00})):W20({});}});m20.initElement=function(K00){var S00=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};m20.addInput({target:K00,onchange:function(b00){if(S00.onChange){S00.onChange(b00.changedFiles);}W20(S00);}});return K00;};});}();void function(){sketch.convert.arrayFromGGR=function(f00){function l00(z00,D00){var X00=Math.round(255*D00[z00[2]]),W00=Math.round(255*D00[z00[3]]),U00=Math.round(255*D00[z00[4]]),G00=Math.round(255*D00[z00[5]]),d00=D00[z00[1]]-B00;B00+=d00;z00=0===d00?0:(D00[z00[0]]-(B00-d00))/d00;C00.push((G00<<24|X00<<16|W00<<8|U00)>>>0);C00.push(Math.round(1E6*d00)/1E6);C00.push(Math.round(1E6*z00)/1E6);}var B00=0;f00=f00.split("\n");for(var C00=[],N00=[],Q00=f00.length-1,m00=3;m00<Q00;m00++){var t00=f00[m00].split(" ").map(parseFloat);t00[3]===N00[0]&&t00[4]===N00[1]&&t00[5]===N00[2]||l00([0,1,3,4,5,6],t00);l00([2,2,7,8,9,10],t00);N00=[t00[7],t00[8],t00[9]];}return function(L00){for(var p00=sketch.color.space,v00=[],P00=0,e00="",F00=0;F00<L00.length;F00+=3){var R00=L00[F00],a00=p00(R00,"HEX32>W3"),i00=parseFloat(L00[F00+1]),x00=parseFloat(L00[F00+2])*i00+P00;if(0<=e00){var V00=p00(R00,"HEX32>RGBA"),e00=p00(e00,"HEX32>RGBA");v00.push({color:p00({R:.5*V00.R+.5*e00.R,G:.5*V00.G+.5*e00.G,B:.5*V00.B+.5*e00.B,A:.5*V00.A+.5*e00.A},"RGBA>HEX32>W3"),offset:P00});}v00.push({color:a00,offset:x00});P00+=i00;e00=R00;}return v00;}(C00);};}();void function(){sketch.convert.arrayFromGPL=function(k00){k00=k00.split("\n");for(var Y00=[],w00=0;w00<k00.length;w00++){isNaN(parseInt(k00[w00].substr(0,3)))||Y00.push(sketch.color.space({R:parseInt(k00[w00].substr(0,3)),G:parseInt(k00[w00].substr(4,3)),B:parseInt(k00[w00].substr(8,3))},"RGB>HEX24>W3"));}return Y00;};}();void function(){function A00(n30,I30){if(!(this instanceof A00)){return new A00(n30,I30);}this.filters={};this.id="ColorMatrix";if(null==n30){return this.matrix=r30.slice(0),this;}if("undefined"===typeof n30?false:"object"===s30(n30)){I30=void 0;for(I30 in n30){;}null==I30&&(this.matrix=r30.slice(0));if("number"===typeof n30[I30]){if(isNaN(I30)){this.update(n30);}else{I30={};for(var T30 in n30){I30[T30]=o[T30];}this.matrix=I30;}}else{"object"===s30(n30[I30])&&this.combine(n30);}return this;}this.update(n30,I30);return this;}j.initSymbol();j.initSymbol();j.initSymbolIterator();var s30="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c30){return typeof c30;}:function(M30){j.initSymbol();j.initSymbol();j.initSymbol();return M30&&"function"===typeof Symbol&&M30.constructor===Symbol&&M30!==Symbol.prototype?"symbol":typeof M30;},r30=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];A00.prototype={brightness:function(o30){return[1,0,0,0,o30,0,1,0,0,o30,0,0,1,0,o30,0,0,0,1,0];},contrast:function(O30,g30){g30=g30||.5;return[++O30,0,0,0,g30*(1-O30),0,O30,0,0,g30*(1-O30),0,0,O30,0,g30*(1-O30),0,0,0,1,0];},sepia:function(H30){for(var q30=this.matrix,Z30=[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],y30=[],h30=0;20>h30;h30++){y30[h30]=(1-H30)*q30[h30]+H30*Z30[h30];}return y30;},exposure:function(E30){return[E30,0,0,0,0,0,E30,0,0,0,0,0,E30,0,0,0,0,0,1,0];},colorize:function(j30){var J30=(j30>>>16&255)/255,u30=(j30>>>8&255)/255,S30=(j30&255)/255;j30=(j30>>>24)/255;J30=[.212656*J30,.715158*J30,.072186*J30,0,0,.212656*u30,.715158*u30,.072186*u30,0,0,.212656*S30,.715158*S30,.072186*S30,0,0,0,0,0,1,0];if(1>j30){for(u30=0;20>u30;u30++){J30[u30]=(1-j30)*r30[u30]+j30*J30[u30];}}return J30;},monotone:function(b30){var t30=(b30>>>16&255)/255,K30=(b30>>>8&255)/255,C30=(b30&255)/255;b30=(b30>>>24)/255;t30=[t30,K30,C30,0,0,t30,K30,C30,0,0,t30,K30,C30,0,0,0,0,0,1,0];if(1>b30){for(K30=0;20>K30;K30++){t30[K30]=(1-b30)*r30[K30]+b30*t30[K30];}}return t30;},hue:function(N30){N30*=sketch.util.DEG_RAD;var f30=Math.cos(N30);N30=Math.sin(N30);return[.212656+.787344*f30+-.212656*N30,.715158+-.715158*f30+-.715158*N30,.072186+-.072186*f30+.927814*N30,0,0,.212656+-.212656*f30+.143*N30,.715158+f30*0.28484200000000004+.14*N30,.072186+-.072186*f30+-.283*N30,0,0,.212656+-.212656*f30+-.787344*N30,.715158+-.715158*f30+.715158*N30,.072186+.927814*f30+.072186*N30,0,0,0,0,0,1,0];},invert:function(m30,B30){B30=B30||1;m30*=-1;return[m30,0,0,0,B30,0,m30,0,0,B30,0,0,m30,0,B30,0,0,0,1,0];},temperature:function(l30){return[1+l30/256,0,0,0,0,0,1,0,0,0,0,0,1+-l30/256,0,0,0,0,0,1,0];},tint:function(Q30){return[1+Q30/256,0,0,0,0,0,1+-Q30/256,0,0,0,0,0,1+Q30/256,0,0,0,0,0,1,0];},saturation:function(z30){var D30=.212656*(1-z30),d30=.715158*(1-z30),X30=.072186*(1-z30);return[D30+z30,d30,X30,0,0,D30,d30+z30,X30,0,0,D30,d30,X30+z30,0,0,0,0,0,1,0];},blend:function(F30,G30){for(var e30=this.matrix,U30=[],W30=0;20>W30;W30++){U30[W30]=(1-G30)*e30[W30]+G30*F30[W30];}this.matrix=U30;return this;},light:function(n50,Y30,p30,x30){p30=x30.highlights;Y30=-clamp(p30.value*(p30.max-p30.min)+p30.min,p30.min,p30.max);p30=x30.shadows;x30=-clamp(p30.value*(p30.max-p30.min)+p30.min,p30.min,p30.max);var L30=Math.PI;p30=Math.cos(L30);for(var L30=Math.sin(L30),w30=n50.data,I50=w30.length,k30=0;k30<I50;k30+=4){var V30=w30[k30],a30=w30[k30+1],i30=w30[k30+2],R30=V30,v30=a30,P30=i30,V30=V30^255,a30=a30^255,i30=i30^255,A30=(.299+.701*p30+.168*L30)*V30+(.587-.587*p30+.33*L30)*a30+(.114-.114*p30-.497*L30)*i30,r50=(.299-.299*p30-.328*L30)*V30+(.587+.413*p30+.035*L30)*a30+(.114-.114*p30+.292*L30)*i30,s50=(.299-.3*p30+1.25*L30)*V30+(.587-.588*p30-1.05*L30)*a30+(.114+.886*p30-.203*L30)*i30,V30=R30<A30?R30:A30,a30=v30<r50?v30:r50,i30=P30<s50?P30:s50,R30=(1-Y30)*R30+Y30*V30,v30=(1-Y30)*v30+Y30*a30,P30=(1-Y30)*P30+Y30*i30,V30=R30>A30?R30:A30,a30=v30>r50?v30:r50,i30=P30>s50?P30:s50,R30=(1-x30)*R30+x30*V30,v30=(1-x30)*v30+x30*a30,P30=(1-x30)*P30+x30*i30;w30[k30]=0>R30?0:256>R30?R30>>0:255;w30[k30+1]=0>v30?0:256>v30?v30>>0:255;w30[k30+2]=0>P30?0:256>P30?P30>>0:255;}return n50;},duotone:function(j50,H50,q50,O50){H50=Color.HSV_RGB({H:360*O50.hue.value,S:100*O50.saturation.value,V:100*O50.saturation.value});q50=1.5*O50.luminance.value;O50=O50.amount.value;for(var y50=j50.data,J50=y50.length,h50=0;h50<J50;h50+=4){var E50=y50[h50],u50=y50[h50+1],Z50=y50[h50+2],T50=.212656*E50+.715158*u50+.072186*Z50,o50=(1-T50/255)*H50.R+T50/255*T50,M50=(1-T50/255)*H50.G+T50/255*T50,c50=(1-T50/255)*H50.B+T50/255*T50,T50=T50-(o50+M50+c50)/3,o50=o50+T50,M50=M50+T50,c50=c50+T50,T50=(o50+M50+c50)/3,g50=Math.min(o50,M50,c50);0>g50&&(o50=T50+(o50-T50)*T50/(T50-g50),M50=T50+(M50-T50)*T50/(T50-g50),c50=T50+(c50-T50)*T50/(T50-g50));g50=Math.max(o50,M50,c50);255<g50&&(o50=T50+(o50-T50)*(255-T50)/(g50-T50),M50=T50+(M50-T50)*(255-T50)/(g50-T50),c50=T50+(c50-T50)*(255-T50)/(g50-T50));o50=((1-O50)*E50+O50*o50)*q50;M50=((1-O50)*u50+O50*M50)*q50;c50=((1-O50)*Z50+O50*c50)*q50;y50[h50]=o50;y50[h50+1]=M50;y50[h50+2]=c50;}return j50;},combine:function(f50){var K50=[];if("number"===typeof f50[0]){for(var S50=0,C50=arguments.length;S50<C50;S50++){K50[S50]=arguments[S50];}}else{K50=f50;}var S50=this.matrix,C50=[],N50;for(N50 in K50){if(S50){for(var b50=0;5>b50;b50++){for(var t50=0;20>t50;t50+=5){C50[t50+b50]=S50[t50]*K50[N50][b50]+S50[t50+1]*K50[N50][b50+5]+S50[t50+2]*K50[N50][b50+10]+S50[t50+3]*K50[N50][b50+15]+(4===b50?S50[t50+4]:0);}}S50=C50;}else{S50=K50[N50];}}this.matrix=S50;return this;},update:function(B50,Q50){var l50=this;if("string"===typeof B50){if(!this[B50]){return this;}"number"===typeof Q50?this.filters[B50]=this[B50](Q50):delete this.filters[B50];}else{for(var m50 in B50){l50[m50]&&("number"===typeof B50[m50]?l50.filters[m50]=l50[m50](B50[m50]):delete l50.filters[m50]);}}delete this.matrix;this.combine(this.filters);return this;},toString:function(){return this.matrix.toString();},apply:function(X50,D50,L50,p50){var U50=X50.canvas;p50||(p50=[0,0]);L50||(L50=X50);D50||(D50=[0,0,U50.width,U50.height]);X50=X50.getImageData(D50[0],D50[1],D50[2],D50[3]);D50=X50.data;for(var z50=this.matrix,U50=z50[0],I90=z50[1],T90=z50[2],c90=z50[3],M90=z50[4],o90=z50[5],O90=z50[6],g90=z50[7],R50=z50[8],i50=z50[9],a50=z50[10],x50=z50[11],k50=z50[12],w50=z50[13],Y50=z50[14],A50=z50[15],r90=z50[16],s90=z50[17],n90=z50[18],z50=z50[19],W50,G50,e50,F50,V50,P50,v50,h90=D50.length,d50=0;d50<h90;d50+=4){W50=D50[d50],G50=D50[d50+1],e50=D50[d50+2],F50=D50[d50+3],V50=W50*U50+G50*I90+e50*T90+F50*c90+M90,P50=W50*o90+G50*O90+e50*g90+F50*R50+i50,v50=W50*a50+G50*x50+e50*k50+F50*w50+Y50,W50=W50*A50+G50*r90+e50*s90+F50*n90+z50,X50.data[d50]=0>V50?0:255>V50?V50>>0:255,X50.data[d50+1]=0>P50?0:255>P50?P50>>0:255,X50.data[d50+2]=0>v50?0:255>v50?v50>>0:255,X50.data[d50+3]=0>W50?0:255>W50?W50>>0:255;}L50.putImageData(X50,p50[0],p50[1]);},reset:function(){this.matrix=r30.slice(0);}};A00.isIdentity=function(y90){return 1===y90.saturation&&0===y90.hue&&0===y90.sepia&&0===y90.tint&&0===y90.temperature&&1===y90.exposure&&0===y90.brightness&&0===y90.contrast;};A00.setFilter=function(H90){var q90=new A00();Number.isFinite(H90.hue)&&0<H90.hue&&q90.update("hue",H90.hue);Number.isFinite(H90.sepia)&&0<H90.sepia&&q90.update("sepia",H90.sepia);Number.isFinite(H90.saturation)&&q90.update("saturation",H90.saturation);Number.isFinite(H90.invert)&&H90.invert&&q90.update("invert",H90.invert);Number.isFinite(H90.tint)&&q90.update("tint",H90.tint);Number.isFinite(H90.temperature)&&q90.update("temperature",H90.temperature);Number.isFinite(H90.exposure)&&q90.update("exposure",H90.exposure);Number.isFinite(H90.brightness)&&q90.update("brightness",H90.brightness);Number.isFinite(H90.contrast)&&q90.update("contrast",H90.contrast,1);Number.isFinite(H90.monotone)&&-1<H90.monotone&&q90.update("monotone",4283782485);Number.isFinite(H90.colorize)&&-1<H90.colorize&&q90.update("colorize",4294901760);return q90;};sketch.canvasUtils=sketch.canvasUtils||{};sketch.canvasUtils.ColorMatrix=A00;}();void function(){function Z90(j90,J90){navigator.mozGetUserMedia?(j90.mozSrcObject=J90,j90.play()):window.URL&&(j90.src=URL.createObjectURL(J90));}function E90(S90,C90){function t90(N90,f90){Gesture.on(N90,"mousedown",Gesture.cancel);Gesture.click(N90,function(){var m90=C90.gl,l90=glfx.presets,B90=l90.length,B90=(m90.presetId+f90+B90)%B90;m90.presetId=B90;m90.setFilter(l90[B90]);m90.render();});}var K90=sketch.dom,b90=K90.append(S90,"span");b90.className="next icon-right";t90(b90,1);S90=K90.append(S90,"span");S90.className="prev icon-left";t90(S90,-1);}function u90(D90,Q90){var z90=sketch.dom.create("span");z90.className="pause icon-pause";D90.appendChild(z90);Gesture.click(z90,function(){Q90.playing?Q90.pause():Q90.play();});Q90.play=function(){Q90.playing=true;Q90.gl.play();Q90.$video.play();z90.classList.remove("icon-play");z90.classList.add("icon-pause");};Q90.pause=function(){Q90.playing=false;Q90.gl.pause();Q90.$video.pause();z90.classList.add("icon-play");z90.classList.remove("icon-pause");};}sketch.tools.camera=function(W90){function L90(){var R90=arguments[1],a90=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).video,i90=sketch.Canvas2D(640,480);i90.ctx.drawImage(a90,0,0);i90.toBlobURL(function(x90){p90.add({centerOnPoint:true,type:"image",src:x90,filter:d90.userMedia.gl.filters}).then(function(){d90.capturing=false;R90&&R90();});});}function V90(w90){var k90=d90.userMedia;k90.gl?(X90.style.display="block",Velocity(X90,"fadeIn",350).then(function(){L90({video:k90.$video},w90);Velocity(X90,"fadeOut",350).then(function(){X90.style.display="none";});})):U90.logError("camera-error");}function v90(){var Y90=arguments;Galactic.isDefined("chrome.permissions.request")?chrome.permissions.request({permissions:["videoCapture"]},function(A90){A90?V90.apply(d90,Y90):U90.logError("camera-error");}):V90.apply(d90,arguments);}var d90=this,e90=sketch.dom,p90=W90.scene,U90=sketch.ui,P90=sketch.util,G90=sketch.feature.tools.camera;d90._enable=function(r10){W90.tools.select.searchParam=G90.searchParam;W90.tools.select._enable(r10,{useKeyCommands:false});r10.hide=F90;};var F90={detach:function(){var s10=d90.userMedia;s10.pause&&(s10.$container=false,s10.pause(),s10.stream.getTracks().forEach(function(n10){return n10.stop();}));}},X90=e90.create("div");X90.id="snapshot";X90.style.display="none";sketch.$container.appendChild(X90);d90.userMedia={};d90.capturing=false;d90.capture=function(I10){P90.throttle(v90,500)(I10);};};sketch.tools.camera.getUserMedia=function(T10){return new Promise(function(o10,O10){var c10=sketch.dom,M10=sketch.ui;Z90.waiting||(Z90.waiting=true,navigator.getUserMedia({video:{mandatory:{},optional:[]}},function(y10){Z90.waiting=false;console.log(y10);var h10=c10.create("div");h10.className="videoStream";var g10=c10.create("video");g10.style.display="none";g10.volume=0;g10.setAttribute("autoplay","true");h10.appendChild(g10);Z90(g10,y10);u90(h10,T10);E90(h10,T10);T10.stream=y10;T10.playing=true;T10.$video=g10;T10.$container=h10;g10.play();var H10=setTimeout(function(){return g10.play();},500);Gesture.on(g10,"playing",function q10(){clearTimeout(H10);Gesture.off(g10,"playing",q10);if(glfx.applyShader){var Z10=glfx.presets[glfx.presetId||0];T10.gl=glfx.applyShader(g10,220,165,sketch.doc.pixelRatio);T10.gl.presetId=0;T10.gl.setFilter(Z10);T10.gl.animate(true);}setTimeout(o10,500);});},function(E10){Z90.waiting=false;O10(E10);M10.logError("camera-error");}));});};}();void function(){function t10(B10){var m10=[];B10=B10.split(",");for(var l10=0;l10<B10.length;l10++){var N10=B10[l10].trim().split(S10),f10=N10[0]||"none",Q10=N10[1]||"solid",N10=N10[2]||"inherit";"none"!==f10&&(m10[f10]=[],m10[f10].push({line:f10,style:Q10,color:N10}));}return m10;}function C10(z10){var d10=[];if(z10&&"none"!==z10){z10=z10.match(K10);if(!z10){return d10;}for(var X10=0;X10<z10.length;X10++){var D10=z10[X10].match(b10);d10.push({color:D10[0],x:parseFloat(D10[1])||0,y:parseFloat(D10[2])||0,blur:parseFloat(D10[3])||0});}}return d10.reverse();}var j10=sketch.vector=sketch.vector||{},u10=j10.text=j10.text||{},J10=Math.PI/180;u10._fontFamily="Arial";u10._italicAngle=12*J10;u10._boldFactor=1.03;u10._wordWrap="break-word";u10._wordBreak="normal";u10._whiteSpace="pre-wrap";u10.entities=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");};u10.format=function(W10,U10){var G10=U10.textTransform;U10=U10.whiteSpace;if(G10){switch(G10){case"uppercase":W10=W10.toUpperCase();break;case"lowercase":W10=W10.toLowerCase();break;case"capitalize":W10=W10.replace(/^(.)|\s(.)/g,function(e10){return e10.toUpperCase();});}}if(U10){switch(U10){case"pre-nowrap":W10=W10.split("\n").join(" ");break;case"pre-line":case"nowrap":case"normal":W10=W10.replace(/\s{2,}/g," ");}}return W10;};u10.textTransform=function(F10,p10){switch(p10){case"uppercase":return F10.toUpperCase();case"lowercase":return F10.toLowerCase();case"capitalize":return F10.replace(/^(.)|\s(.)/g,function(V10){return V10.toUpperCase();});default:return F10;}};u10.getFontStyle=function(P10){var v10="",R10=P10.fontFamily,L10=P10.fontWeight,a10=(P10.fontSize||16)+"px",i10=P10.fontVariant;(P10=P10.fontStyle)&&(v10+=P10+" ");i10&&(v10+=i10+" ");L10&&sketch.font.getOrDefault(L10+" "+R10)&&(v10+=L10+" ");return v10=v10+(a10+" ")+(R10+', "'+u10._fontFamily+'", sans-serif');};u10.setFontStyle=function(x10,Y10){var w10=(x10.fontSize||30)*(2<arguments.length&&void 0!==arguments[2]?arguments[2]:1),k10=Y10.style;k10.fontStyle=x10.fontStyle||"normal";k10.fontVariant=x10.fontVariant||"normal";k10.fontWeight=x10.fontWeight||"normal";k10.fontSize=w10+"px";k10.fontFamily=x10.fontFamily+', "'+u10._fontFamily+'", sans-serif';k10.letterSpacing=Number.isFinite(x10.letterSpacing)?x10.letterSpacing+"px":"normal";k10.lineHeight=Number.isFinite(x10.lineHeight)?x10.lineHeight+"em":"normal";k10.wordSpacing=Number.isFinite(x10.wordSpacing)?x10.wordSpacing+"px":"normal";k10.textAlign=x10.textAlign||"center";k10.textDecoration=x10.textDecoration||"none";k10.textShadow=x10.textShadow||"none";k10.textTransform=x10.textTransform||"none";};var S10=/\s+/,K10=/((#[0-F]+|(rgba|rgb)\([^)]+\))(\s-?\d+px)*)/gi,b10=/(#[0-F]+)|((rgb|rgba)\(.+\))|(-?\d+px)/gi;u10.drawLineBreaks=function(r40,A10){function G40(){r40.save();r40.translate(-K40/y40/l40,0);T40.forEach(function(e40){r40.shadowColor=e40.color;r40.shadowOffsetX=e40.x*y40+K40;r40.shadowOffsetY=e40.y*y40;r40.shadowBlur=e40.blur*y40;m40();});r40.restore();}function m40(){var F40=[];F40.pathSegCount=0;S40(function(p40,P40,V40){j40("underline",p40,V40);j40("overline",p40,V40);});S40(function(v40,L40,R40,i40){F40.pathSegCount+=v40.pathSegCount;F40.push({paths:v40.paths,pathSegCount:v40.pathSegCount,content:J40[i40],x:L40,y:R40});});U40(F40);S40(function(a40,k40,x40){j40("line-through",a40,x40);});}function S40(n70){for(var s70=J40.length,w40=0;w40<s70;w40++){var Y40=N40[w40],A40=Y40.top+H40.top,r70=A40*Math.abs(Q40);r70>Z40+z40+Y40.height||r70<Z40||n70(Y40,Y40.left,A40,w40);}}function U40(I70){var T70=u40&&5E3<I70.pathSegCount;r40.beginPath();sketch.style.apply(r40,A10,{offsetPath:d40,needsTemporaryCanvas:T70,draw:function(O70,Z70){for(var h70=0,q70=I70.length,g70=0;g70<q70;g70++){var c70=I70[g70],H70=c70.paths,M70=void 0;if(b40){var o70=o40.width/2,c70=c70.y,M70=new sketch.Matrix2D();M70.translate(o70,c70);M70.skew(-u10._italicAngle,0);M70.translate(-o70,-c70);M70.applyTransform(O70);}o70=H70.length;for(c70=0;c70<o70;c70++){var y70=H70[c70];sketch.drawPath(O70,y70,0,0,true);u40&&(h70+=y70.length,5E3<h70&&(Z70(O70),O70.beginPath(),h70=0));}b40&&M70.applyInverseTransform(O70);}}});}function j40(E70,K70,j70){function t70(f70,B70,m70,l70){j10.Shape.rect(b70,f70>>0,B70>>0,m70+.5>>0,l70+.5>>0);}E70=g40[E70];if(null!=E70&&E70.length){j70+=h40;for(var b70=new j10.Record(),N70=E70.length,S70=0;S70<N70;S70++){var C70=E70[S70].line;if("none"!==C70){var J70=K70.width,u70=K70.left;switch(C70){case"underline":t70(u70,j70,J70,h40);break;case"overline":t70(u70,j70+(H40.alphabetic-H40.top),J70,h40);break;case"line-through":t70(u70,j70+(.47*K70.height-H40.top),J70,h40);}}}sketch.style.apply(r40,A10,{draw:function(Q70){Q70.beginPath();sketch.drawPath(Q70,b70.path);}});}}var c40=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},u40=false!==c40.batchPathRendering,M40=c40.getLineBreakMeasurements,n40=A10.content;if(null!=n40){if("string"!==typeof n40){console.error("drawLineBreaks() - content must be string:",n40);}else{var c40=u10.getFontStyle(A10),o40=A10.bbox,f40=o40.width,q40=A10.fontFamily||u10._fontFamily,O40=sketch.convert.cssUnits(A10.fontSize||"medium","px"),I40=A10.fontStyle||"normal",E40=A10.fontWeight||"normal",B40=0<A10.letterSpacing?A10.letterSpacing:"normal",W40=0<A10.lineHeight?A10.lineHeight:"normal",y40=A10.pixelRatio||1,D40=A10.textAlign||"left",X40=A10.textTransform||"none",t40=0<A10.wordSpacing?A10.wordSpacing:"normal",C40=A10.scrollLeft||0,Z40=A10.scrollTop||0,g40=A10.textDecoration||"none",s40=A10.textMetrics,T40=A10.textShadow||"none",n40=u10.format(n40,A10),n40=u10.entities(n40);s40&&s40.data||(s40=u10.getLineBreaks({font:c40,fontSize:O40,fontStyle:I40,fontFamily:q40,fontWeight:E40,content:n40,textAlign:D40,textTransform:X40,lineHeight:W40,letterSpacing:B40,wordSpacing:t40,width:f40}));n40={baseline:s40.baseline,data:s40.data,largestLineWidth:s40.largestLineWidth,lineHeight:s40.lineHeight,lineMetrics:s40.lineMetrics,height:s40.height,width:s40.width,offsets:s40.offsets,x:o40.x,y:o40.y};if(!r40||M40){return n40;}var M40=o40.scale||{x:1,y:1},l40=M40.x,Q40=M40.y,K40=r40.canvas.width,z40=r40.canvas.height;"string"===typeof T40&&(T40=C10(T40));"string"===typeof g40&&(g40=t10(g40));var b40="italic"===I40,d40="normal"!==E40?.03*O40:0,I40=sketch.font.getOrDefault(q40);if(!I40){return console.error(q40+" not loaded"),n40;}var H40=s40.baseline,J40=s40.data,N40=s40.lineMetrics,h40=I40.tables.post?1/I40.unitsPerEm*I40.tables.post.underlineThickness*O40:1/I40.unitsPerEm*O40;r40.save();r40.translate(-C40,-Z40);r40.font=c40;T40&&T40.length&&G40();m40();r40.restore();return n40;}}};}();void function(){function W70(F70,V70){var e70;if(!(e70=z70[F70])){if(!z70.$textMetrics){e70=document.body.parentNode;var p70=z70.$textMetrics=document.createElement("sketch-measure-text");e70.insertBefore(p70,e70.firstChild);}e70={};p70=e70.$bbox=document.createElement("span");e70.$content=document.createElement("span");p70.appendChild(e70.$content);V70&&(e70.$content.innerHTML=V70);e70.$image=document.createElement("img");e70.$image.style.cssText="vertical-align: baseline; background: #000; width: 10px; height: 1px; display: inline;";e70.$image.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQIW2NkAAIAAAoAAggA9GkAAAAASUVORK5CYII=";p70.appendChild(e70.$image);e70.$display=document.createElement("div");e70.$display.className="sk-measure";e70.$display.setAttribute("data-measure",F70);e70.$display.appendChild(p70);z70.$textMetrics.appendChild(e70.$display);e70=z70[F70]=e70;}F70=e70;F70.$display.style.display="block";return F70;}function U70(){var P70=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},v70=W70(P70.type||"measurer");if(P70.callback){return v70.$content.innerHTML=P70.text,v70.$display.style.display="block",P70=P70.callback(v70.$bbox),v70.$display.style.display="none",P70;}v70.$display.style.display="none";return z70.$textMetrics;}function D70(L70){return L70+', "'+z70._fontFamily+'", sans-serif';}j.initSymbol();j.initSymbol();j.initSymbolIterator();var G70="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(R70){return typeof R70;}:function(i70){j.initSymbol();j.initSymbol();j.initSymbol();return i70&&"function"===typeof Symbol&&i70.constructor===Symbol&&i70!==Symbol.prototype?"symbol":typeof i70;},d70=sketch.vector,z70=d70.text||(d70.text={});z70.offsets=function(k70){var x70=k70.fontSize,a70=sketch.font.getOrDefault(k70.fontFamily);if(a70){var x70=1/a70.unitsPerEm*x70,w70=a70.tables.hhea,a70={top:0,bottom:Math.max(0,-(x70*a70.descender)),left:Math.abs(w70.minLeftSideBearing*x70),right:Math.abs(w70.minRightSideBearing*x70)},Y70=k70.fontSize,w70=k70.fontStyle,x70=k70.lineHeight;"bold"===k70.fontWeight&&(k70=Y70*z70._boldFactor-Y70,a70.left+=k70,a70.top+=k70,a70.right+=k70,a70.bottom+=k70);"italic"===w70&&("normal"===x70&&(x70=1.2),k70=new sketch.Point(),x70=new sketch.Point(0,x70+a70.top+a70.bottom),a70.right-=sketch.Point.rotateAt(x70,k70,d70.text._italicAngle).x);return a70;}};z70.measureText=function(r60,A70){return{width:z70.width(r60,A70),height:z70.lineHeight(A70)};};z70.width=function(s60,n60){return U70({type:"measureDefault",text:s60+s60+s60,callback:function(I60){I60.style.cssText="font: "+D70(n60)+"; white-space: nowrap; display: inline;";return I60.offsetWidth/3;}});};z70.lineHeight=function(T60){return U70({type:"measureLineHeight",text:"1<br>2<br>3<br>4<br>5<br>6<br>7",callback:function(c60){c60.style.cssText="font: "+D70(T60)+"; white-space: nowrap; display: inline;";return Math.round(c60.offsetHeight/7);}});};var X70={};z70.baseline=function(M60){if(X70[M60]){return X70[M60];}var o60=W70("measureBaseline","test"),O60=W70("measureLineHeight","1<br>2<br>3<br>4<br>5<br>6<br>7");o60.$bbox.style.cssText="font: "+D70(M60)+"; white-space: nowrap; display: block;";O60.$bbox.style.cssText="font: "+D70(M60)+"; white-space: nowrap; display: inline;";var g60=o60.$image.offsetTop+1,h60=g60-Math.round(O60.$bbox.offsetHeight/7);o60.$display.style.display="none";O60.$display.style.display="none";return X70[M60]={alphabetic:0,top:g60,hanging:8*g60/10,ideographic:h60,bottom:h60};};z70.fitText=function(y60){var q60=y60.target,j60=Math.floor(y60.targetWidth||q60.offsetWidth),J60=Math.floor(y60.targetHeight||q60.offsetHeight),Z60=Number.isFinite(y60.minFontSize)?y60.minFontSize:1,E60=Number.isFinite(y60.maxFontSize)?y60.maxFontSize:1E3;y60=Number.isFinite(y60.guessFontSize)?y60.guessFontSize:(Z60+E60)/2;q60.style.cssText+="\n\t\tword-wrap: "+z70._wordWrap+";\n\t\tword-break: "+z70._wordBreak+";\n\t\twhite-space: "+z70._whiteSpace+";\n\t\twidth: "+j60+"px;\n\t\theight: "+J60+"px;\n\t\toverflow: 'auto';\n\t";for(var H60=y60>>0,u60=0;10>=u60;u60++){q60.style.fontSize=H60+"px";var S60=q60.scrollHeight>J60||H60>j60;S60?E60=H60:Z60=H60;if(1>=E60-Z60){break;}H60=0===u60&&y60?S60?H60-7:H60+7:(Z60+E60)/2;}return Z60;};z70.getMeasureElement=function(b60){var t60;if(!(t60=z70.$measure)){t60=document.createElement("span");t60.className="lineBreakData";var K60=document.createElement("div");K60.appendChild(t60);K60.className="sk-measure";z70.$textMetrics||(z70.$textMetrics=U70({type:"measureDefault"}));z70.$textMetrics.appendChild(K60);t60=z70.$measure=t60;}t60.parentNode.style.display="block";K60=t60.style;K60.cssText="";K60.whiteSpace=z70._whiteSpace;K60.wordBreak=z70._wordBreak;K60.wordWrap=z70._wordWrap;if("undefined"===typeof b60?true:"object"!==G70(b60)){return t60;}K60.display="inline-block";K60.font=b60.font||"serif";K60.letterSpacing=Number.isFinite(b60.letterSpacing)?b60.letterSpacing+"px":"normal";K60.lineHeight=Number.isFinite(b60.lineHeight)?b60.lineHeight+"em":"normal";K60.overflow="visible";K60.position="absolute";K60.textAlign=b60.textAlign||"left";K60.textTransform=b60.textTransform||"none";K60.width=Number.isFinite(b60.width)?b60.width+"px":"auto";K60.wordSpacing=Number.isFinite(b60.wordSpacing)?b60.wordSpacing+"px":"normal";b60=z70.preformat(b60.content);t60.innerHTML=b60;return t60;};z70.preformat=function(){var C60=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return C60=C60.substr(0,8192);};z70.getLineBreaks=function(f60){function s8D(c8D,o8D){if(B60=B60.replace(/[\n\r]/,"")){L60.push(B60);var I8D=U60,M8D=V60+k60.top;if("justify"!==v60){c8D=0;}else{var T8D=z70.preformat(B60).match(/\u00a0+|\S+/g),T8D=T8D&&T8D.length||0;c8D=1<T8D&&"end"!==c8D?(e60-o8D)/(T8D-1):0;}I8D=n8D(B60,I8D,M8D,c8D);l60="justify"===v60?e60:Math.min(Math.max(l60,I8D.width-U60),e60-U60);I8D.top=V60;I8D.left=U60;I8D.width=l60;I8D.height=Y60;l60>p60&&(p60=l60);w60.push(I8D);}}function n8D(q8D,y8D,u8D,t8D){function S8D(N8D){if(E8D[N8D]){return E8D[N8D];}var C8D=q8D[N8D]||"",f8D=z60.charToGlyph(C8D);if(null==f8D.unicode){if(160===C8D.charCodeAt(0)){if(C8D=z60){O8D=C8D.charToGlyph(" "),h8D=1/C8D.unitsPerEm*F60;}}else if(C8D.trim()){var B8D=sketch.font.get("Arial");B8D&&(O8D=B8D.charToGlyph(C8D),h8D=1/B8D.unitsPerEm*F60);}}f8D.fontScale=1/z60.unitsPerEm*F60;return E8D[N8D]=f8D;}function b8D(l8D){var m8D=(q8D[l8D]||"").charCodeAt(0);32!==m8D&&160!==m8D||32===(q8D[l8D+1]||"").charCodeAt(0)||(y8D+=t8D);}for(var J8D=[],j8D=0,Z8D=q8D.length,E8D=Array(Z8D),O8D=void 0,g8D=void 0,h8D=void 0,H8D=0;H8D<Z8D;H8D+=1){O8D=S8D(H8D);if(null!=O8D.unicode){h8D=O8D.fontScale;g8D=O8D.getPath(y8D,u8D,F60).commands;J8D.push(g8D);j8D+=g8D.length;if("space"!==O8D.name){var g8D=O8D.xMax*h8D+y8D,K8D=O8D.yMax*h8D+u8D;R60.extendTo(O8D.xMin*h8D+y8D,O8D.yMin*h8D+u8D);R60.extendTo(g8D,K8D);}O8D.advanceWidth&&(y8D+=O8D.advanceWidth*h8D);H8D<Z8D-1&&(g8D=S8D(H8D+1),g8D=z60.getKerningValue(O8D,g8D),y8D+=g8D*h8D,y8D+=r8D);"space"===O8D.name&&(y8D+=A60);}b8D(H8D);}return{width:y8D,pathSegCount:j8D,paths:J8D};}var D60=f60.font,F60=f60.fontSize,d60=f60.fontFamily||z70._fontFamily,v60=f60.textAlign||"left",r8D=Number.isFinite(f60.letterSpacing)?f60.letterSpacing:0,A60=Number.isFinite(f60.wordSpacing)?f60.wordSpacing:0,N60=z70.getMeasureElement(f60);"justify"===v60&&(N60.style.textAlign="left");var k60=z70.baseline(D60),e60=N60.offsetWidth,D60=N60.offsetHeight,z60=sketch.font.getOrDefault(d60);if(!z60){return{data:[],height:1,width:1};}var G60=N60.firstChild||N60,Q60=document.createRange();Q60.setStart(G60,0);Q60.setEnd(G60,0);d60=Q60.getClientRects();if(0===d60.length){return N60.parentNode.style.display="none",{data:[],height:1,width:1};}var x60=window.pageXOffset,X60=window.pageYOffset,N60=d60[d60.length-1],Y60=N60.height,U60=N60.left+x60,V60=N60.top+X60,i60=N60.bottom+X60,l60=0,B60="",L60=[],w60=[],W60=0,a60=1,p60=0,m60=G60.textContent,R60=new sketch.PathBBox(),P60=m60.length;(function(){function G8D(V8D,F8D){for(var p8D=0;F8D.endsWith(" ");){F8D=F8D.substr(0,F8D.length-1),p8D++;}return W8D(W60,V8D-p8D).right;}function e8D(R8D,v8D,P8D){P8D>v8D&&(P8D=v8D);for(var L8D=void 0,i8D=0;30>i8D;i8D++){var L8D=W8D(W60,P8D),a8D=.001<Math.abs(i60-(L8D.bottom+X60));a8D?v8D=P8D:R8D=P8D;if(1>v8D-R8D){break;}P8D=0===i8D?a8D?Math.round(P8D-D8D/2):Math.round(P8D+D8D/2):Math.round((R8D+v8D)/2);}return{width:0,index:R8D,rect:L8D};}function W8D(x8D,k8D){var w8D=x8D+" "+k8D;if(d8D[w8D]){return d8D[w8D];}U8D++;Q60.setStart(G60,Math.max(0,x8D));Q60.setEnd(G60,Math.min(P60,k8D));x8D=Q60.getClientRects();k8D=x8D.length-1;var Y8D=x8D[k8D];1>=Y8D.width&&k8D&&(Y8D=x8D[k8D-1]);return d8D[w8D]=Y8D;}for(var d8D={},U8D=0,D8D=P60;m60;){var Q8D=e8D(W60,P60,a60+D8D),X8D=Q8D.rect,Q8D=Q8D.index,z8D=Q8D-W60;B60=m60.substr(0,z8D);m60=m60.substr(z8D);z8D=G8D(Q8D,B60);m60?s8D("append",z8D):s8D("end",z8D);D8D=Math.round(1.5*B60.length);U60=X8D.left+x60;V60=X8D.top+X60;i60=X8D.bottom+X60;l60=0;W60=Q8D;a60=Q8D+1;}}());return{data:L60,offsets:z70.offsets(f60),baseline:k60,largestLineWidth:p60,lineMetrics:w60,lineHeight:D60/L60.length,height:D60,width:e60};};}();(function(){function c2D(E2D){var q2D,Z2D;if(!E2D){throw Error("cannot create a random attribute name for an undefined object");}do{for(q2D="",Z2D=0;12>Z2D;Z2D++){q2D+="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz"[Math.floor(51*Math.random())];}}while(E2D[q2D]);return q2D;}function h2D(j2D){var u2D={left:"start",right:"end",center:"middle",start:"start",end:"end"};return u2D[j2D]||u2D.start;}function y2D(S2D){var J2D={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return J2D[S2D]||J2D.alphabetic;}function M2D(K2D){var b2D=Math.sqrt(K2D[0]*K2D[0]+K2D[1]*K2D[1]);return[K2D[0]/b2D,K2D[1]/b2D];}function g2D(l2D,d2D){var t2D=this.__currentElement,Q2D=this.__currentMatrix.toString(),z2D=this.__currentDefaultPath,m2D=this.__closestGroupOrSvg(),f2D=m2D.__extras||(m2D.__extras={}),C2D="path"===t2D.nodeName;if(f2D[l2D]||f2D[d2D]&&f2D.matrixString!==Q2D){if(z2D===f2D.currentPath){if(C2D){var N2D,t2D=this.__currentElement,C2D=m2D.__extras;N2D=C2D.id;if(!N2D){N2D=C2D.currentPath;for(var B2D=5381,D2D=N2D.length;D2D;){B2D=33*B2D^N2D.charCodeAt(--D2D);}N2D=C2D.id="path-"+(B2D>>>0);C2D=this.__createElement("path");C2D.setAttribute("id",N2D);C2D.setAttribute("d",t2D.getAttribute("d"));this.__defs.appendChild(C2D);}if("path"===t2D.nodeName){for(t2D.remove(),C2D=t2D.attributes,t2D=O2D.call(this,m2D,N2D),N2D=0;N2D<C2D.length;N2D++){B2D=C2D[N2D],"d"!==B2D.name&&t2D.setAttribute(B2D.name,B2D.value);}}}t2D=O2D.call(this,m2D,f2D.id);}else{t2D=this.__currentElement=this.__createElement("path",{},true),m2D.appendChild(t2D),this.__applyCurrentDefaultPath();}}else{C2D&&this.__applyCurrentDefaultPath();}t2D.setAttribute("paint-order",d2D+" "+l2D+" markers");f2D[l2D]=true;f2D.currentPath=z2D;f2D.matrixString=Q2D;this.__applyStyleToCurrentElement(l2D);this.__applyTransform(t2D,l2D);return t2D;}function O2D(W2D,U2D){var X2D=this.__currentElement=this.__createElement("use",{},true);X2D.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+U2D);W2D.appendChild(X2D);return X2D;}function H2D(){var G2D=this.__root.childNodes[1];G2D.childNodes.forEach(function(e2D){e2D.remove();});this.__currentElement=G2D;this.__groupStack=[];}function r2D(F2D,p2D,V2D){return F2D.isIdentity?{x:p2D,y:V2D}:{x:F2D.a*p2D+F2D.c*V2D+F2D.e,y:F2D.b*p2D+F2D.d*V2D+F2D.f};}function I2D(P2D,v2D){return P2D.__document.createElementNS("http://www.w3.org/2000/svg",v2D);}var n2D,A8D,s2D,T2D,o2D;o2D=function(L2D,a2D){var R2D,x2D,i2D={},k2D;L2D=L2D.split(",");a2D=a2D||10;for(R2D=0;R2D<L2D.length;R2D+=2){x2D="&"+L2D[R2D+1]+";",k2D=parseInt(L2D[R2D],a2D),i2D[x2D]="&#"+k2D+";";}i2D["\\xa0"]="&#160;";return i2D;}("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);n2D={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"},lineDash:{svgAttr:"stroke-dasharray",canvas:[],svg:null,apply:"stroke"}};s2D=function(w2D,Y2D){this.__root=w2D;this.__ctx=Y2D;this.__linkedReferences=0;};s2D.prototype.addColorStop=function(s0D,A2D){var r0D=this.__ctx.__createElement("stop");r0D.setAttribute("offset",s0D);-1!==A2D.indexOf("rgba")?(s0D=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi,A2D=s0D.exec(A2D),r0D.setAttribute("stop-color","rgb("+A2D[1]+","+A2D[2]+","+A2D[3]+")"),r0D.setAttribute("stop-opacity",A2D[4])):r0D.setAttribute("stop-color",A2D);this.__root.appendChild(r0D);};T2D=function(n0D,I0D){this.__root=n0D;this.__ctx=I0D;this.__linkedReferences=0;};A8D=function(M0D){var c0D={width:500,height:500,enableMirroring:false},T0D;1<arguments.length?(T0D=c0D,T0D.width=arguments[0],T0D.height=arguments[1]):T0D=M0D?M0D:c0D;if(!(this instanceof A8D)){return new A8D(T0D);}this.width=T0D.width||c0D.width;this.height=T0D.height||c0D.height;this.enableMirroring=void 0!==T0D.enableMirroring?T0D.enableMirroring:c0D.enableMirroring;this.canvas=this;this.__document=T0D.document||document;T0D.ctx?this.__ctx=T0D.ctx:(this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d"));this.__globalMatrix=new DOMMatrix();this.__currentMatrix=new DOMMatrix();this.__setDefaultStyles();this.__stack=[this.__getStyleState()];this.__groupStack=[];c0D=this.__root=I2D(this,"svg");c0D.setAttribute("version",1.1);c0D.setAttribute("xmlns","http://www.w3.org/2000/svg");c0D.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");c0D.setAttribute("width",this.width);c0D.setAttribute("height",this.height);this.__ids={};this.__defs=I2D(this,"defs");c0D.appendChild(this.__defs);T0D=I2D(this,"g");c0D.appendChild(T0D);this.__currentElement=T0D;};A8D.prototype.__isCanvas2SVG=true;A8D.prototype.__createElement=function(o0D,g0D,O0D){"undefined"===typeof g0D&&(g0D={});o0D=I2D(this,o0D);var h0D=Object.keys(g0D),y0D;O0D&&(o0D.setAttribute("fill","none"),o0D.setAttribute("stroke","none"));for(O0D=0;O0D<h0D.length;O0D++){y0D=h0D[O0D],o0D.setAttribute(y0D,g0D[y0D]);}return o0D;};A8D.prototype.__setDefaultStyles=function(){var E0D=this;var q0D=Object.keys(n2D),H0D,Z0D;for(H0D=0;H0D<q0D.length;H0D++){Z0D=q0D[H0D],E0D[Z0D]=n2D[Z0D].canvas;}};A8D.prototype.__applyStyleState=function(j0D){var K0D=this;var J0D=Object.keys(j0D),u0D,S0D;for(u0D=0;u0D<J0D.length;u0D++){S0D=J0D[u0D],K0D[S0D]=j0D[S0D];}this.__currentMatrix=new DOMMatrix(j0D.transform);};A8D.prototype.__getStyleState=function(){var f0D=this;var b0D,t0D={},C0D=Object.keys(n2D),N0D;for(b0D=0;b0D<C0D.length;b0D++){N0D=C0D[b0D],t0D[N0D]=f0D[N0D];}t0D.transform=new DOMMatrix(this.__currentMatrix);return t0D;};A8D.prototype.__applyStyleToCurrentElement=function(X0D){var D0D=this;var Q0D=this.__currentElement,z0D=this.__currentElementsToStyle;z0D&&(Q0D.setAttribute(X0D,""),Q0D=z0D.element,z0D.children.forEach(function(e0D){e0D.setAttribute(X0D,"");}));var z0D=Object.keys(n2D),d0D,m0D,B0D,l0D;for(d0D=0;d0D<z0D.length;d0D++){if(B0D=z0D[d0D],m0D=n2D[B0D],(l0D=m0D.apply)&&l0D.includes(X0D)){if(B0D=D0D[B0D],B0D instanceof T2D){if(B0D.__ctx){for(var U0D=B0D.__ctx.__defs.childNodes,W0D=0;W0D<U0D.length;W0D++){var G0D=U0D[W0D];m0D=G0D.getAttribute("id");D0D.__ids[m0D]=m0D;D0D.__defs.appendChild(G0D);}}m0D=B0D.__root.getAttribute("id");Q0D.setAttribute(l0D,"url(#"+m0D+")");}else if(B0D instanceof s2D){m0D=B0D.__root.getAttribute("id"),Q0D.setAttribute(l0D,"url(#"+m0D+")");}else if(-1!==l0D.indexOf(X0D)&&m0D.svg!==B0D){if("stroke"!==m0D.svgAttr&&"fill"!==m0D.svgAttr||!B0D.indexOf||-1===B0D.indexOf("rgba")){l0D=m0D.svgAttr;if("globalAlpha"===z0D[d0D]&&(l0D=X0D+"-"+m0D.svgAttr,Q0D.getAttribute(l0D))){continue;}Q0D.setAttribute(l0D,B0D);}else{l0D=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi,B0D=l0D.exec(B0D),Q0D.setAttribute(m0D.svgAttr,"rgb("+B0D[1]+","+B0D[2]+","+B0D[3]+")"),B0D=B0D[4],l0D=D0D.globalAlpha,null!=l0D&&(B0D*=l0D),Q0D.setAttribute(m0D.svgAttr+"-opacity",B0D);}}}}};A8D.prototype.__closestGroupOrSvg=function(F0D){F0D=F0D||this.__currentElement;return"g"===F0D.nodeName||"svg"===F0D.nodeName?F0D:this.__closestGroupOrSvg(F0D.parentNode);};A8D.prototype.getSerializedSvg=function(P0D){var p0D=new XMLSerializer().serializeToString(this.__root),v0D,V0D,L0D;/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi.test(p0D)&&(p0D=p0D.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink'));if(P0D){for(P0D=Object.keys(o2D),v0D=0;v0D<P0D.length;v0D++){V0D=P0D[v0D],L0D=o2D[V0D],V0D=new RegExp(V0D,"gi"),V0D.test(p0D)&&(p0D=p0D.replace(V0D,L0D));}}return p0D;};A8D.prototype.getSvg=function(){return this.__root;};A8D.prototype.save=function(){var R0D=this.__createElement("g"),i0D=this.__closestGroupOrSvg(),a0D=this.__getStyleState();this.__groupStack.push(i0D);i0D.appendChild(R0D);this.__applyTransform(R0D);this.__currentElement=R0D;this.__currentMatrix=new DOMMatrix();this.__stack.push(a0D);};A8D.prototype.restore=function(){var x0D=this.__groupStack.pop(),k0D=this.__stack.pop();this.__currentElementsToStyle=null;this.__currentElement=x0D||this.__root.childNodes[1];this.__applyStyleState(k0D);};A8D.prototype.__applyTransform=function(w0D,s3D){if(w0D){var r3D=this.__currentMatrix;if(!r3D.isIdentity){if(s3D){var Y0D=this[s3D+"Style"];if(Y0D&&Y0D.__root){var n3D=Y0D.__root.getAttribute("id"),A0D=++Y0D.__linkedReferences,A0D=n3D+"-"+A0D;w0D.setAttribute(s3D,"url(#"+A0D+")");w0D=this.__createElement(Y0D.__root.nodeName);w0D.setAttribute("id",A0D);w0D.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+n3D);Y0D instanceof s2D?w0D.setAttribute("gradientTransform",r3D.toString()):Y0D instanceof T2D&&w0D.setAttribute("patternTransform",r3D.toString());this.__defs.appendChild(w0D);}}else{w0D.setAttribute("transform",r3D.toString());}}}};A8D.prototype.scale=function(T3D,I3D){I3D=void 0===I3D?T3D:I3D;this.__currentMatrix.scaleSelf(T3D,I3D);this.__globalMatrix.scaleSelf(T3D,I3D);};A8D.prototype.rotate=function(c3D){c3D=180*c3D/Math.PI;this.__currentMatrix.rotateSelf(c3D);this.__globalMatrix.rotateSelf(c3D);};A8D.prototype.translate=function(M3D,o3D){this.__currentMatrix.translateSelf(M3D,o3D);this.__globalMatrix.translateSelf(M3D,o3D);};A8D.prototype.transform=function(O3D,g3D,h3D,y3D,H3D,q3D){O3D=new DOMMatrix([O3D,g3D,h3D,y3D,H3D,q3D]);this.__currentMatrix.multiplySelf(O3D);this.__globalMatrix.multiplySelf(O3D);};A8D.prototype.setTransform=function(Z3D,E3D,u3D,j3D,J3D,S3D){this.__currentMatrix=new DOMMatrix([Z3D,E3D,u3D,j3D,J3D,S3D]);this.__globalMatrix=new DOMMatrix([Z3D,E3D,u3D,j3D,J3D,S3D]);};A8D.prototype.beginPath=function(){var K3D,b3D;this.__currentDefaultPath="";this.__currentPosition={};K3D=this.__createElement("path",{},true);b3D=this.__closestGroupOrSvg();b3D.appendChild(K3D);this.__currentElement=K3D;this.__applyTransform(b3D);};A8D.prototype.__applyCurrentDefaultPath=function(){var t3D=this.__currentElement;"path"===t3D.nodeName?t3D.setAttribute("d",this.__currentDefaultPath):console.error("Attempted to apply path command to node",t3D.nodeName);};A8D.prototype.moveTo=function(C3D,N3D){"path"!==this.__currentElement.nodeName&&this.beginPath();this.__currentPosition=C3D=r2D(this.__currentMatrix,C3D,N3D);this.__currentDefaultPath+="M "+C3D.x+" "+C3D.y;};A8D.prototype.closePath=function(){this.__currentDefaultPath&&(this.__currentDefaultPath+="Z");};A8D.prototype.lineTo=function(f3D,B3D){this.__currentPosition=f3D=r2D(this.__currentMatrix,f3D,B3D);this.__currentDefaultPath+="L "+f3D.x+" "+f3D.y;};A8D.prototype.bezierCurveTo=function(m3D,d3D,l3D,X3D,Q3D,z3D){var D3D=r2D(this.__currentMatrix,Q3D,z3D);m3D=r2D(this.__currentMatrix,m3D,d3D);l3D=r2D(this.__currentMatrix,l3D,X3D);this.__currentPosition=D3D;this.__currentDefaultPath+="C "+m3D.x+" "+m3D.y+" "+l3D.x+" "+l3D.y+" "+Q3D+" "+z3D;};A8D.prototype.quadraticCurveTo=function(U3D,G3D,W3D,e3D){W3D=r2D(this.__currentMatrix,W3D,e3D);U3D=r2D(this.__currentMatrix,U3D,G3D);this.__currentPosition=W3D;this.__currentDefaultPath+="Q "+U3D.x+" "+U3D.y+" "+W3D.x+" "+W3D.y;};A8D.prototype.arcTo=function(P3D,v3D,p3D,L3D,R3D){var F3D=this.__currentPosition&&this.__currentPosition.x,V3D=this.__currentPosition&&this.__currentPosition.y;if("undefined"!=typeof F3D&&"undefined"!=typeof V3D){if(0>R3D){throw Error("IndexSizeError: The radius provided ("+R3D+") is negative.");}F3D===P3D&&V3D===v3D||P3D===p3D&&v3D===L3D||0===R3D?this.lineTo(P3D,v3D):(F3D=M2D([F3D-P3D,V3D-v3D]),p3D=M2D([p3D-P3D,L3D-v3D]),F3D[0]*p3D[1]===F3D[1]*p3D[0]?this.lineTo(P3D,v3D):(V3D=Math.acos(Math.abs(F3D[0]*p3D[0]+F3D[1]*p3D[1])),L3D=M2D([F3D[0]+p3D[0],F3D[1]+p3D[1]]),V3D=R3D/Math.sin(V3D/2),P3D+=V3D*L3D[0],v3D+=V3D*L3D[1],F3D=[-F3D[1],F3D[0]],L3D=[p3D[1],-p3D[0]],V3D=function(a3D){var i3D=a3D[0];return 0<=a3D[1]?Math.acos(i3D):-Math.acos(i3D);},p3D=V3D(F3D),L3D=V3D(L3D),this.lineTo(P3D+F3D[0]*R3D,v3D+F3D[1]*R3D),this.arc(P3D,v3D,R3D,p3D,L3D)));}};A8D.prototype.fill=function(k3D,w3D){var x3D=g2D.call(this,"fill","stroke");"evenodd"!==k3D&&"evenodd"!==w3D||x3D.setAttribute("fill-rule","evenodd");};A8D.prototype.stroke=function(){g2D.call(this,"stroke","fill");};A8D.prototype.rect=function(Y3D,A3D,r5D,s5D){this.moveTo(Y3D,A3D);this.lineTo(Y3D+r5D,A3D);this.lineTo(Y3D+r5D,A3D+s5D);this.lineTo(Y3D,A3D+s5D);this.lineTo(Y3D,A3D);this.closePath();};A8D.prototype.fillRect=function(n5D,I5D,T5D,c5D){n5D=this.__createElement("rect",{x:n5D,y:I5D,width:T5D,height:c5D},true);this.__closestGroupOrSvg().appendChild(n5D);this.__currentElement=n5D;this.__applyStyleToCurrentElement("fill");this.__applyTransform(n5D);};A8D.prototype.strokeRect=function(M5D,o5D,O5D,g5D){M5D=this.__createElement("rect",{x:M5D,y:o5D,width:O5D,height:g5D},true);this.__closestGroupOrSvg().appendChild(M5D);this.__currentElement=M5D;this.__applyStyleToCurrentElement("stroke");this.__applyTransform(M5D);};A8D.prototype.clearRect=function(h5D,H5D,Z5D,E5D){var y5D=r2D(this.__globalMatrix,h5D,H5D),q5D=r2D(this.__globalMatrix,h5D+Z5D,H5D+E5D);0>=y5D.x&&0>=y5D.y&&q5D.x>=this.width&&q5D.y>=this.height?H2D.call(this):(y5D=this.__closestGroupOrSvg(),h5D=this.__createElement("rect",{x:h5D,y:H5D,width:Z5D,height:E5D,fill:"#FFFFFF"},true),y5D.appendChild(h5D));};A8D.prototype.createLinearGradient=function(u5D,j5D,J5D,S5D){u5D=this.__createElement("linearGradient",{id:c2D(this.__ids),x1:u5D+"px",x2:J5D+"px",y1:j5D+"px",y2:S5D+"px",gradientUnits:"userSpaceOnUse"});this.__defs.appendChild(u5D);return new s2D(u5D,this);};A8D.prototype.createRadialGradient=function(K5D,b5D,f5D,t5D,C5D,N5D){K5D=this.__createElement("radialGradient",{id:c2D(this.__ids),cx:t5D+"px",cy:C5D+"px",r:N5D+"px",fx:K5D+"px",fy:b5D+"px",gradientUnits:"userSpaceOnUse"});this.__defs.appendChild(K5D);return new s2D(K5D,this);};A8D.prototype.__parseFont=function(){var B5D=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\'\"\sa-z0-9]+?)\s*$/i.exec(this.font),B5D={style:B5D[1]||"normal",size:B5D[4]||"10px",family:B5D[6]||"sans-serif",weight:B5D[3]||"normal",decoration:B5D[2]||"normal",href:null};"underline"===this.__fontUnderline&&(B5D.decoration="underline");this.__fontHref&&(B5D.href=this.__fontHref);return B5D;};A8D.prototype.__wrapTextLink=function(l5D,Q5D){if(l5D.href){var m5D=this.__createElement("a");m5D.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l5D.href);m5D.appendChild(Q5D);return m5D;}return Q5D;};A8D.prototype.__applyText=function(W5D,D5D,U5D,d5D){var z5D=this.__parseFont(),X5D=this.__closestGroupOrSvg();D5D=this.__createElement("text",{"font-family":z5D.family,"font-size":z5D.size,"font-style":z5D.style,"font-weight":z5D.weight,"text-decoration":z5D.decoration,x:D5D,y:U5D,"text-anchor":h2D(this.textAlign),"dominant-baseline":y2D(this.textBaseline)},true);D5D.appendChild(this.__document.createTextNode(W5D));X5D.appendChild(this.__wrapTextLink(z5D,D5D));this.__currentElement=D5D;this.__applyStyleToCurrentElement(d5D);this.__applyTransform(D5D,d5D);};A8D.prototype.fillText=function(G5D,e5D,F5D){this.__applyText(G5D,e5D,F5D,"fill");};A8D.prototype.strokeText=function(p5D,V5D,P5D){this.__applyText(p5D,V5D,P5D,"stroke");};A8D.prototype.measureText=function(v5D){this.__ctx.font=this.font;return this.__ctx.measureText(v5D);};A8D.prototype.arc=function(x5D,k5D,i5D,L5D,R5D,a5D){if(L5D!==R5D){L5D%=2*Math.PI;R5D%=2*Math.PI;L5D===R5D&&(R5D=(R5D+2*Math.PI-(a5D?-0.001:0.001))%(2*Math.PI));var w5D=x5D+i5D*Math.cos(R5D),Y5D=k5D+i5D*Math.sin(R5D);x5D+=i5D*Math.cos(L5D);k5D+=i5D*Math.sin(L5D);var A5D=a5D?0:1;L5D=R5D-L5D;0>L5D&&(L5D+=2*Math.PI);a5D=a5D?L5D>Math.PI?0:1:L5D>Math.PI?1:0;this.lineTo(x5D,k5D);this.__currentDefaultPath+="A "+i5D+" "+i5D+" 0 "+a5D+" "+A5D+" "+w5D+" "+Y5D;this.__currentPosition={x:w5D,y:Y5D};}};A8D.prototype.clip=function(){var r9D=this.__closestGroupOrSvg(),s9D=this.__createElement("clipPath"),n9D=c2D(this.__ids),I9D=this.__createElement("g");this.__applyCurrentDefaultPath();r9D.removeChild(this.__currentElement);s9D.setAttribute("id",n9D);s9D.appendChild(this.__currentElement);this.__defs.appendChild(s9D);r9D.setAttribute("clip-path","url(#"+n9D+")");r9D.appendChild(I9D);this.__currentElement=I9D;};A8D.prototype.drawImage=function(){var E9D=this;var c9D=Array.prototype.slice.call(arguments),T9D=c9D[0],O9D,o9D,M9D,h9D,g9D=0,Z9D=0,H9D,y9D,q9D,u9D;if(3===c9D.length){O9D=c9D[1],o9D=c9D[2],H9D=T9D.width,y9D=T9D.height,M9D=H9D,h9D=y9D;}else if(5===c9D.length){O9D=c9D[1],o9D=c9D[2],M9D=c9D[3],h9D=c9D[4],H9D=T9D.width,y9D=T9D.height;}else if(9===c9D.length){g9D=c9D[1],Z9D=c9D[2],H9D=c9D[3],y9D=c9D[4],O9D=c9D[5],o9D=c9D[6],M9D=c9D[7],h9D=c9D[8];}else{throw Error("Invalid number of arguments passed to drawImage: "+arguments.length);}c9D=this.__closestGroupOrSvg();O9D="translate("+O9D+", "+o9D+")";if(T9D instanceof A8D){if(T9D=T9D.getSvg().cloneNode(true),T9D.childNodes&&1<T9D.childNodes.length){for(M9D=T9D.childNodes[0];M9D.childNodes.length;){g9D=M9D.childNodes[0].getAttribute("id"),E9D.__ids[g9D]=g9D,E9D.__defs.appendChild(M9D.childNodes[0]);}if(T9D=T9D.childNodes[1]){M9D=T9D.getAttribute("transform"),T9D.setAttribute("transform",M9D?M9D+" "+O9D:O9D),c9D.appendChild(T9D);}}}else if("CANVAS"===T9D.nodeName||"IMG"===T9D.nodeName){o9D=this.__createElement("image");o9D.setAttribute("width",M9D);o9D.setAttribute("height",h9D);o9D.setAttribute("opacity",this.globalAlpha);o9D.setAttribute("preserveAspectRatio","none");if(g9D||Z9D||H9D!==T9D.width||y9D!==T9D.height){q9D=this.__document.createElement("canvas"),q9D.width=M9D,q9D.height=h9D,u9D=q9D.getContext("2d"),u9D.drawImage(T9D,g9D,Z9D,H9D,y9D,0,0,M9D,h9D),T9D=q9D;}o9D.setAttribute("transform",O9D);o9D.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===T9D.nodeName?T9D.toDataURL():T9D.getAttribute("src"));c9D.appendChild(o9D);}};A8D.prototype.createPattern=function(j9D,J9D){J9D=I2D(this,"pattern");var S9D=c2D(this.__ids);J9D.setAttribute("id",S9D);J9D.setAttribute("width",j9D.width);J9D.setAttribute("height",j9D.height);J9D.setAttribute("patternUnits","userSpaceOnUse");"CANVAS"===j9D.nodeName||"IMG"===j9D.nodeName?(S9D=I2D(this,"image"),S9D.setAttribute("width",j9D.width),S9D.setAttribute("height",j9D.height),S9D.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===j9D.nodeName?j9D.toDataURL():j9D.getAttribute("src")),J9D.appendChild(S9D),this.__defs.appendChild(J9D)):j9D instanceof A8D&&(J9D.appendChild(j9D.__root.childNodes[1]),this.__defs.appendChild(J9D));return new T2D(J9D,this);};A8D.prototype.setLineDash=function(K9D){this.lineDash=K9D&&0<K9D.length?K9D.join(","):null;};A8D.prototype.drawFocusRing=function(){};A8D.prototype.createImageData=function(){};A8D.prototype.getImageData=function(){};A8D.prototype.putImageData=function(){};A8D.prototype.globalCompositeOperation=function(){};"object"===typeof window&&(window.C2S=A8D);"object"===typeof module&&"object"===typeof module.exports&&(module.exports=A8D);}());void function(){function Q9D(R9D){var L9D=sketch.doc,i9D=L9D.toolkit;return new Promise(function(w9D){function x9D(g1D){for(var c1D=0;c1D<g1D.length;c1D++){var Y9D=g1D[c1D];Y9D.tool&&console.log(Y9D);Y9D.childNodes&&x9D(Y9D.childNodes);if(Y9D.data){for(var s1D=new sketch.Matrix2D(Y9D.matrix).decompose(),n1D=s1D.rotation,I1D=s1D.scale,s1D=s1D.translate,T1D=new sketch.PathBBox(Y9D.data).asRect(),M1D=T1D.x,o1D=T1D.y,r1D=sketch.util.copy(Y9D.data),A9D=0;A9D<r1D.length;A9D++){Number.isFinite(r1D[A9D].x)&&(r1D[A9D].x-=M1D,r1D[A9D].y-=o1D),Number.isFinite(r1D[A9D].x1)&&(r1D[A9D].x1-=M1D,r1D[A9D].y1-=o1D),Number.isFinite(r1D[A9D].x2)&&(r1D[A9D].x2-=M1D,r1D[A9D].y2-=o1D);}var A9D=Y9D.type,h1D=i9D.getToolkitId(A9D),O1D=100*Y9D.style.fillOpacity,n1D={id:L9D.scene.createId({id:Y9D.id}),toolkitId:h1D,type:A9D,idx:c1D,data:r1D,opacity:O1D,fill:new sketch.Fill({color:Y9D.style.fillStyle}),stroke:new sketch.Stroke({lineWidth:Y9D.style.strokeWidth,color:Y9D.style.strokeStyle}),dirtyBoundingBox:true,bbox:{x:M1D*I1D.x+s1D.x,y:o1D*I1D.y+s1D.y,width:T1D.width/I1D.x,height:T1D.height/I1D.y,units:"objectBoundingBox",scale:{x:I1D.x,y:I1D.y},rotation:n1D}};Y9D.license&&(n1D.license=Y9D.license);Y9D.author&&(n1D.author=Y9D.author);a9D.push(n1D);}}}var k9D=R9D.svg,a9D=[];R9D.mergeIntoScene||L9D.scene.setChildren(a9D);x9D(k9D.vob.childNodes);w9D(a9D);});}function V9D(j1D,y1D,q1D,J1D){function Z1D(N1D){var f1D=1<arguments.length&&void 0!==arguments[1]?arguments[1]:q1D,t1D={type:N1D,bbox:new sketch.PathBBox(H1D).asDiagonal()};"path"===N1D?t1D.d=S1D(H1D):t1D.points=K1D(H1D);var C1D=y1D.bbox.padding;J1D.translate(C1D,C1D);C9D(f1D,j1D,y1D,t1D);}function u1D(){var m1D=m9D.toID(y1D.id),l1D=y1D.bbox,B1D={};Z1D("path",B1D);B1D.filter="url(#"+m1D+"_blur)";B1D.style.strokeLinecap="round";B1D.style.strokeWidth=y1D.diameter*l1D.scale.x;m1D={type:"filter",filterUnits:"userSpaceOnUse",id:m1D+"_blur",childNodes:[{type:"feGaussianBlur",stdDeviation:Math.sqrt(y1D.blur/100*y1D.diameter)}]};q1D.type="g";q1D.childNodes=[m1D,B1D];}function b1D(){u1D();q1D.childNodes.find(function(Q1D){return"path"===Q1D.type;}).style.stroke="white";}var S1D=sketch.SVG.svgPathFromVOB,K1D=sketch.SVG.svgPolygonFromVOB,H1D=G9D.copy(y1D.data),H1D=y1D.tool.smoothPath(y1D,H1D),H1D=b9D.roundPath(H1D,2),E1D=y1D.type;switch(E1D){case"arrow":case"calligraphy":case"fur":case"pen":case"sketchy":case"streamer":case"web":return d9D(y1D,j1D,q1D,J1D);case"eraser":return b1D();case"paintbrush":case"mirrorBrush":return u1D();case"pencil":Z1D("path");q1D.style.strokeLinecap="round";q1D.style.strokeWidth=y1D.diameter;break;case"path":return Z1D("path");case"lineSegment":case"polyline":return Z1D("polyline");case"floodfill":case"polygon":return Z1D("polygon");default:console.error("exportSVG() does not support "+E1D);}}function X9D(d1D,z1D,D1D,G1D,X1D){var W1D=X1D.inlineClipart||"merge",U1D=z1D.bbox;(X1D=z1D.svg)?"base64"===W1D?(d1D=U1D.width,z1D=U1D.height,D1D.type="image",D1D["xlink:href"]=X1D.toDataURL(),D1D.width=d1D,D1D.height=z1D,D1D.bbox={x1:0,y1:0,x2:d1D,y2:z1D}):"merge"===W1D&&l9D(D1D,d1D,z1D,X1D,G1D):console.error("Object not loaded",z1D);}function v9D(F1D,e1D,p1D){C9D(p1D,F1D,e1D,{type:"path",bbox:new sketch.PathBBox(e1D.path).asDiagonal(),d:sketch.SVG.svgPolygonFromVOB(e1D.path)});}function e9D(v1D,P1D,V1D,i1D,a1D){v1D=P1D.bbox;var L1D=v1D.width,R1D=v1D.height;if(a1D.exportRaw){v1D=m9D.toID(P1D.id),i1D=P1D.filter[0],"colorMatrix"===i1D.id?(i1D=W9D.ColorMatrix.setFilter(i1D.data).toString(),V1D.type="g",V1D.childNodes=[{type:"filter",filterUnits:"userSpaceOnUse",id:v1D+"_colorMatrix",childNodes:[{type:"feColorMatrix",_type:"matrix","in":"SourceGraphic",values:i1D}]},{type:"image","xlink:href":B9D.getDataURL(P1D.src),filter:"url(#"+v1D+"_colorMatrix)",width:L1D,height:R1D}]):(V1D.width=L1D,V1D.height=R1D,V1D.bbox={x1:0,y1:0,x2:L1D,y2:R1D},V1D["xlink:href"]=B9D.getDataURL(P1D.src));}else{return function(x1D){return x1D.ctx?Promise.resolve():(x1D=a1D.doc.render.cache.add(x1D))&&x1D.then?x1D:Promise.resolve();}(P1D).then(function(){V1D.width=L1D;V1D.height=R1D;V1D.bbox={x1:0,y1:0,x2:L1D,y2:R1D};V1D["xlink:href"]=P1D.ctx.canvas.toDataURL();});}}function P9D(s4D,Y1D,r4D,n4D){if(t9D.symbol[Y1D.type]){return X9D.apply(void 0,arguments);}var k1D=Y1D.bbox,w1D=k1D.width,A1D=k1D.height,k1D=new b9D.Record();(0,sketch.tools["shape_"+Y1D.type])(k1D,w1D/2,A1D/2,Math.max(w1D,A1D)/2,Y1D);w1D=k1D.paths;w1D.forEach(function(I4D){return b9D.roundPath(I4D,2);});C9D(r4D,s4D,Y1D,{type:"path",bbox:new sketch.PathBBox(w1D).asDiagonal(),d:k1D.stringify()});r4D.style.vectorEffect="non-scaling-stroke";}function F9D(g4D,c4D,y4D,h4D,M4D){if("outline"===(M4D.inlineFont||"outline")){return d9D(c4D,g4D,y4D,h4D);}M4D=c4D.fontFamily;var T4D=sketch.font.loaded[M4D];T4D&&(T4D=T4D.toArrayBuffer(),T4D=f9D.arrayBuffer.toBase64(T4D),g4D.fonts[M4D]={src:"url(data:application/x-font-ttf;charset=utf-8;base64,"+T4D+") format('truetype')","font-family":M4D,"font-weight":"normal","font-style":"normal"});M4D=c4D.bbox;var T4D=b9D.text.offsets(c4D),o4D=c4D.tool.measureText(c4D),O4D=M4D.width-o4D.largestLineWidth,o4D=0;switch(c4D.textAlign){case"right":o4D=O4D;break;case"center":o4D=O4D/2;}O4D=T4D.top+T4D.bottom;h4D.e+=o4D-(T4D.left+T4D.right);h4D.f+=M4D.height-O4D;C9D(y4D,g4D,c4D,sketch.copyConfig(c4D,{type:"text"}));}function d9D(Z4D,j4D,J4D,S4D){function E4D(C4D,N4D,f4D,B4D){var b4D=C4D.__parseFont(),t4D=b4D.family.replace(/['"]/g,""),t4D=sketch.font.get(t4D),b4D=parseFloat(b4D.size),K4D;if(K4D=!(t4D.tables.os2.fsSelection&1)){K4D=C4D.font.toLowerCase().includes("italic");}K4D?(K4D=new sketch.Matrix2D(),K4D.translate(f4D,B4D),K4D.skew(-b9D.text._italicAngle,0),K4D.applyTransform(C4D),t4D.draw(C4D,N4D,0,0,b4D),K4D.invert().applyTransform(C4D)):t4D.draw(C4D,N4D,f4D,B4D,b4D);}function u4D(){var m4D=H4D.getSerializedSvg(true);return b9D.createSVG({src:m4D}).then(function(l4D){l9D(J4D,j4D,Z4D,l4D,S4D);});}var q4D=Z4D.bbox,H4D=new C2S(q4D.width,q4D.height),q4D=H4D.canvas;q4D.getContext=function(){return H4D;};q4D.style={};H4D.fillText=function(Q4D,z4D,D4D){E4D(H4D,Q4D,z4D,D4D);H4D.fill();};H4D.strokeText=function(d4D,X4D,W4D){E4D(H4D,d4D,X4D,W4D);H4D.stroke();};return(q4D=Z4D.render(H4D,true))?q4D.then(u4D):u4D();}function l9D(U4D,F4D,G4D,p4D,V4D){U4D.type="g";U4D.style=N9D(G4D);U4D.childNodes=p4D.vob.childNodes;Object.assign(F4D.defs,p4D.defs);var e4D=G4D.type,P4D=t9D.svg[e4D];if(e4D=t9D.symbol[e4D]){U4D.style=Object.assign(N9D(G4D),z9D(G4D,F4D),D9D(G4D,F4D));}if(P4D||e4D){U4D=G4D.bbox,V4D.multiply(p4D.setPlacement({ctx:F4D.ctx,width:U4D.width,height:U4D.height}));}V4D.multiply(p4D.vob.matrix);}function C9D(v4D,L4D,i4D,a4D){v4D.style=N9D(i4D);v4D.style.fill="none";var R4D=z9D(i4D,L4D);L4D=D9D(i4D,L4D);R4D&&L4D&&(v4D.style.paintOrder="stroke fill markers");R4D&&Object.assign(v4D.style,R4D);L4D&&Object.assign(v4D.style,L4D);Object.assign(v4D,a4D);}function N9D(x4D){return{mixBlendMode:U9D.getCtxBlendMode(x4D),opacity:x4D.opacity};}function z9D(w4D,Y4D){var k4D=w4D.fill;if(k4D&&k4D.enabled&&k4D.opacity){return w4D._copyFillToSVG({},k4D,Y4D);}}function D9D(r7D,s7D){var A4D=r7D.stroke;if(A4D&&A4D.enabled&&A4D.opacity&&A4D.lineWidth){return r7D._copyStrokeToSVG({},A4D,s7D,null,null,1);}}function p9D(n7D,T7D,I7D){switch(T7D){case"string":return n7D.toString(I7D);case"base64":return n7D.btoa(I7D);case"blob":return n7D.toBlob(I7D);case"blobURL":return n7D.toBlobURL(I7D);case"arrayBuffer":return n7D.toBlob(I7D).then(f9D.blob.toArrayBuffer);case"dataURL":return n7D.toDataURL(I7D);case"htmlElement":return n7D.toSVGElement(I7D);default:return n7D;}}sketch.open.svg=function(g7D){function y7D(H7D){H7D.forEach(function(q7D){O7D.getById(q7D.id)||O7D._appendChild(q7D);});return O7D.load();}var M7D=sketch.doc,O7D=M7D.scene,c7D=g7D.data||g7D,h7D=g7D.mergeIntoScene;0===c7D.indexOf("<polygon")&&(c7D='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:sketchjs="https://sketch.io/dtd/" sketchjs:version="3.0">'+c7D+"</svg>");0===c7D.indexOf("<svg")&&(c7D='<?xml version="1.0" encoding="UTF-8"?>'+c7D);0===c7D.indexOf("<?xml")&&(c7D="data:image/svg+xml;base64,"+global.btoa(c7D));var o7D=Galactic.emitter(new Promise(function(Z7D,E7D){new sketch.SVG({src:c7D,skipRender:true,onerror:E7D,onsuccess:function(j7D){o7D.emit("progress",0);var u7D=j7D.vob.metadata;u7D&&(u7D=JSON.parse(atob(u7D)),M7D.license=u7D.license,M7D.author=u7D.author);Q9D({svg:j7D,mergeIntoScene:h7D}).then(function(J7D){if(h7D){return y7D(J7D).then(function(){o7D.emit("progress",1);});}var S7D=j7D.viewBox||[0,0,window.innerWidth,window.innerHeight];M7D.setOrientation({width:S7D[2],height:S7D[3],units:"px"});M7D.history.reset();M7D.scene.setChildren(J7D);M7D.scene.load().then(function(){Z7D(J7D);o7D.emit("progress",1);M7D.emit("open");});});}});}));o7D.progress=function(K7D){return o7D.on("progress",K7D);};return o7D;};sketch.open.svg.nodesToObjects=Q9D;var B9D=sketch.assets,f9D=sketch.convert,t9D=sketch.detect,W9D=sketch.canvasUtils,m9D=sketch.string,U9D=sketch.style,G9D=sketch.util,b9D=sketch.vector;sketch.save.svg=function(){function l7D(d7D,D7D,X7D){D7D.style.visibility=d7D.visible?"visible":"hidden";D7D.transform=X7D;(d7D=t7D.getBoundingBox({childNodes:[D7D],calcStroke:true}))?D7D.bbox=t7D.BBox(d7D,D7D.transform):console.error("getBoundingBox(...) is null",D7D);B7D.push(D7D);}function z7D(W7D,U7D){W7D.author&&(U7D.author=W7D.author);W7D.license&&(U7D.license=W7D.license);}var b7D=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};b7D.doc||(b7D.doc=sketch.doc);var f7D=b7D.doc,N7D=f7D.scene,m7D=b7D.as||"blob",C7D=b7D.region,Q7D=!!b7D.clipToObjects,N7D=N7D.selection.toLayers(b7D.layers||N7D.children),t7D=new sketch.SVG(),B7D=[];return Promise.each(N7D,function(G7D){if(!G7D.error){var F7D=G7D.bbox,e7D=new sketch.Matrix2D();e7D.translate(F7D.x,F7D.y);e7D.rotate(F7D.rotation);e7D.scale(F7D.scale.x,F7D.scale.y);var F7D=G7D.toolkitId,P7D=G7D.type,p7D={type:P7D,tool:P7D,style:{},parentNode:t7D.vob};z7D(G7D,p7D);var V7D=void 0;if("brush"===F7D){V7D=V9D(t7D,G7D,p7D,e7D,b7D);}else if("shape"===F7D){V7D=P9D(t7D,G7D,p7D,e7D,b7D);}else if("text"===F7D){V7D=F9D(t7D,G7D,p7D,e7D,b7D);}else if("floodfill"===P7D){V7D=v9D(t7D,G7D,p7D,e7D,b7D);}else if("clipart"===P7D){V7D=X9D(t7D,G7D,p7D,e7D,b7D);}else if("image"===P7D){V7D=e9D(t7D,G7D,p7D,e7D,b7D);}else{console.error(P7D+" is unsupported");return;}if(V7D&&V7D.then){return V7D.then(function(){return l7D(G7D,p7D,e7D);});}l7D(G7D,p7D,e7D);}}).then(function(){var v7D=t7D.vob;v7D.metadata=global.btoa(JSON.stringify(f7D.config.json()));v7D.childNodes=B7D;a:{if(Q7D){var L7D=t7D.getBoundingBox({childNodes:[v7D],calcStroke:true,clipRegion:C7D});if(L7D){var R7D=L7D[0],i7D=L7D[1],a7D=L7D[2]-R7D,L7D=L7D[3]-i7D;v7D.width=a7D;v7D.height=L7D;v7D.viewBox=[R7D,i7D,a7D,L7D];break a;}console.error("clipToObjects");}C7D?(R7D=C7D.x,i7D=C7D.y,a7D=C7D.width,L7D=C7D.height,v7D.width=a7D,v7D.height=L7D,v7D.viewBox=[R7D,i7D,a7D,L7D]):(R7D=f7D.pixelWidth,i7D=f7D.pixelHeight,v7D.width=R7D,v7D.height=i7D,v7D.viewBox=[0,0,R7D,i7D]);}return p9D(t7D,m7D,b7D);});};}();void function(){function x6D(s8X,A6D,r8X,T8X,I8X){if(r8X=l6D.call(s8X,r8X,T8X,I8X)){if("fill"===I8X){return A6D.fill=r8X,A6D;}A6D.stroke=r8X;return A6D;}if((s8X=s8X.currentNode.parentNode)&&s8X.style){r8X=K6D.copy(s8X.style);for(var n8X in A6D){r8X[n8X]=A6D[n8X];}return r8X;}return A6D;}function l6D(c8X,O8X,M8X){if(c8X=O8X[M8X]||c8X.getAttribute(M8X)){(O8X=sketch.color.webcolors[c8X])?c8X=O8X:"none"===c8X?c8X="none":"currentColor"===c8X?c8X=this.state.color:"url"===c8X.substr(0,3)&&(c8X=this.parseUrl(c8X),this.parseDefs(this.ctx,c8X)||(c8X=""));if("inherit"===c8X){var o8X=this.currentNode.style;(M8X=B6D[M8X])&&o8X&&M8X.forEach(function(g8X){o8X[g8X]||(o8X[g8X]="inherit");});}return c8X;}}function A7D(){var h8X=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.type="svg";this.placement=h8X.placement||"bbox";this.uid=this.batch=0;this.debug=!!h8X.debug;this.debugSVG=!!h8X.debugSVG;this.debugBBox=!!h8X.debugBBox;this.debugHitArea=!!h8X.debugHitArea;this.useCache=!!h8X.useCache;this.useViewBox=h8X.viewBox||false;this.defPromises=[];this.defs={};this.fonts={};this.state={fill:"black"};this.vob={type:"svg",style:{},childNodes:[]};h8X.src&&(this.src=h8X.src);h8X.document&&(this.document=h8X.document);h8X.ctx&&(this.ctx=h8X.ctx);h8X.ctxCache&&(this.ctxCache=h8X.ctxCache);h8X.onerror&&(this.onerror=h8X.onerror);h8X.onsuccess&&(this.onsuccess=h8X.onsuccess);return h8X.src||h8X.data||h8X.document?Y6D(this):this;}function Y6D(y8X){function q8X(j8X,J8X){var u8X=y8X.onerror;u8X&&u8X({message:J8X,code:j8X});}var Z8X=y8X.onsuccess,E8X=y8X.onerror;if(!y8X.src&&!y8X.document){return y8X;}var H8X=y8X.src;if(H8X){if("string"!==typeof H8X){return q8X(400,"Bad Request"),y8X;}y8X.hashOfSrc=c6D.hashString(H8X);if(A7D.isSVGString(H8X)){return y8X.fromString(H8X,Z8X,E8X),y8X;}}if(y8X.document){return N6D(y8X,Z8X,E8X),y8X;}if(u6D[H8X]){return q8X(404,"Not Found"),y8X;}sketch.request(H8X).then(function(S8X){A7D.isSVGString(S8X)?y8X.fromString(S8X,Z8X,E8X):q8X(422,S8X);}).catch(function(K8X){u6D[H8X]=true;q8X(404,"Not Found");console.error(K8X);});return y8X;}function N6D(b8X,C8X,N8X){var t8X=o6D[b8X.hashOfSrc];if(t8X){if(b8X.onsuccess){b8X.onsuccess(t8X);}}else{b8X.debug&&(b8X.perf=Galactic.perf()),b8X.element=b8X.document.contentDocument||b8X.document,b8X.parse({document:b8X.element,node:{childNodes:[]},onerror:N8X,onsuccess:function(f8X){f8X&&Promise.all(b8X.defPromises).then(function(){b8X.loaded=true;Object.assign(b8X.vob,f8X[0]);b8X.viewBox=function(){switch(b8X.useViewBox){case true:return b8X.vob.viewBox;case false:return b8X.getBoundingBox()||[0,0,0,0];default:return b8X.useViewBox;}}();b8X.setPlacement();b8X.perf&&b8X.perf("SVG.parse",true);b8X.useCache&&(o6D[b8X.hashOfSrc]=b8X);C8X&&C8X(b8X);if(!b8X.debug){try{document.body.removeChild(b8X.document);}catch(B8X){}}});}});}}function e6D(Q8X,z8X){for(var l8X=0,D8X=Q8X.length;l8X<D8X;l8X++){var m8X=Q8X[l8X];if(m8X.id===z8X){return m8X;}if(m8X=m8X.childNodes){if(m8X=e6D(m8X,z8X)){return m8X;}}}}function F6D(W8X,U8X,G8X){for(var X8X=0,e8X=W8X.length;X8X<e8X;X8X++){var d8X=W8X[X8X];if(String(d8X[U8X])===G8X){return d8X;}if(d8X=d8X.childNodes){if(d8X=F6D(d8X,U8X,G8X)){return d8X;}}}}function P6D(V8X,P8X){for(var F8X=0,v8X=V8X.length;F8X<v8X;F8X++){var p8X=V8X[F8X];P8X(p8X,F8X,V8X);(p8X=p8X.childNodes)&&P6D(p8X,P8X);}}function v6D(L8X){for(var R8X in L8X){var i8X=L8X[R8X];"string"===typeof i8X&&(L8X[R8X]={param:R8X,format:i8X,value:""});}return L8X;}function h6D(){var a8X=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.type=a8X.type||"linearGradient";this.id=a8X.id||"MyGradient";this.gradientTransform=a8X.gradientTransform;this.gradientUnits=a8X.gradientUnits||"objectBoundingBox";this.spreadMethod=a8X.spreadMethod||"pad";this.stops=a8X.stops||[{color:"#fff",offset:0},{color:"#000",offset:1}];if("radialGradient"===this.type){return this.cx=Number.isFinite(a8X.cx)?a8X.cx:0,this.cy=Number.isFinite(a8X.cy)?a8X.cy:1,this.fx=Number.isFinite(a8X.fx)?a8X.fx:0,this.fy=Number.isFinite(a8X.fy)?a8X.fy:0,this.r=Number.isFinite(a8X.r)?a8X.r:1,this;}this.x1=Number.isFinite(a8X.x1)?a8X.x1:0;this.x2=Number.isFinite(a8X.x2)?a8X.x2:1;this.y1=Number.isFinite(a8X.y1)?a8X.y1:0;this.y2=Number.isFinite(a8X.y2)?a8X.y2:0;this.x1===this.x2&&this.y1===this.y2&&(this.x1+=.001,this.y1+=.001,this.x2-=.001,this.y2-=.001);}function y6D(){var x8X=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.type=x8X.type||"pattern";this.id=x8X.id||"MyPattern";this.src=x8X.src;this.patternContentUnits=x8X.patternContentUnits;this.patternTransform=x8X.patternTransform;this.patternUnits=x8X.patternUnits||"userSpaceOnUse";this.width=x8X.width||100;this.height=x8X.height||100;Object.defineProperty(this,"pattern",{value:x8X.pattern});}function m6D(r2X,T2X,n2X,A8X){if(n2X&&n2X.length){for(var o2X=sketch.Point,g2X=sketch.Polygon,M2X=new r6D(r2X.vob._matrix).invert(),s2X=A8X.debug,O2X=n2X.length,c2X=0;c2X<O2X;c2X++){var w8X=n2X[c2X];r2X.currentNode=w8X;T2X.save();if(w8X.matrix){var k8X=w8X.matrix;T2X.transform(k8X.a,k8X.b,k8X.c,k8X.d,k8X.e,k8X.f);}if(w8X.bbox){if(k8X=sketch.PathBBox.toPolygon(w8X.bbox),A8X.point){var Y8X=M2X.point2d(A8X.point.x,A8X.point.y);o2X.inPolygon(k8X,Y8X.x,Y8X.y)&&(k8X=w8X._vertices||(w8X._vertices=z6D(w8X)),s2X&&b6D(Y8X,k8X,A8X.ctx),o2X.inPolygonChain(k8X,Y8X.x,Y8X.y)&&r2X._hitAreas.push(w8X));}else if(A8X.rect&&(Y8X=M2X.flatten(A8X.rect,true),s2X&&b6D(Y8X,k8X,A8X.ctx),g2X.SAT(Y8X,k8X))){k8X=w8X._vertices||(w8X._vertices=z6D(w8X));s2X&&b6D(Y8X,k8X,A8X.ctx);a:{for(var h2X=sketch.Polygon,y2X=k8X.length,I2X=0;I2X<y2X;I2X++){if(h2X.collision(Y8X,k8X[I2X])){k8X=true;break a;}}k8X=void 0;}k8X&&r2X._hitAreas.push(w8X);}}T2X.restore();w8X.childNodes&&w8X.childNodes.length&&m6D(r2X,T2X,w8X.childNodes,A8X);}}}function b6D(E2X,u2X,H2X){function Z2X(j2X,J2X){H2X.fillStyle=J2X;H2X.beginPath();Array.isArray(j2X)?(H2X.globalCompositeOperation="destination-over",Array.isArray(j2X[0])?j2X.forEach(function(S2X){sketch.drawPath(H2X,S2X);}):sketch.drawPath(H2X,j2X)):(H2X.globalCompositeOperation="source-over",E6D.Shape.circle(H2X,j2X.x,j2X.y,5));H2X.fill();}var q2X=sketch.doc;q2X&&(H2X=q2X.contexts.debug.ctx,H2X.save(),Z2X(E2X,"red"),Z2X(u2X,"green"),H2X.restore());}function z6D(b2X){var K2X=new E6D.PathSegmenter();sketch.VOBNode(K2X,b2X);b2X=new r6D(b2X.matrix).flatten(K2X.path);for(var K2X=[],t2X=void 0,C2X=0;C2X<b2X.length;C2X++){var N2X=b2X[C2X];"M"!==N2X.cmd&&t2X?t2X.push(N2X):K2X.push(t2X=[N2X]);}return K2X;}function D6D(m2X,B2X,f2X,l2X){null==f2X.strokeLinecap||(B2X.lineCap=f2X.strokeLinecap);null==f2X.strokeLinejoin||(B2X.lineJoin=f2X.strokeLinejoin);null==f2X.strokeMiterlimit||(B2X.miterLimit=f2X.strokeMiterlimit);null==f2X.strokeWidth||(B2X.lineWidth=f2X.strokeWidth||1E-10);"non-scaling-stroke"===f2X.vectorEffect&&B2X.setTransform(1,0,0,1,0,0);var Q2X=f2X.type;"linearGradient"===Q2X?m2X.setLinearGradient(B2X,f2X,l2X):"radialGradient"===Q2X?m2X.setRadialGradient(B2X,f2X,l2X):"pattern"===Q2X?m2X.setPattern(B2X,f2X,l2X):(m2X=m2X.getValue("strokeStyle"===l2X?"stroke":"fill",m2X.currentNode))&&(B2X[l2X]=m2X);}function d6D(X2X,z2X,D2X,d2X){var W2X="objectBoundingBox"===z2X.gradientUnits;W2X&&(D2X>d2X?X2X.scale(1,d2X/D2X):X2X.scale(D2X/d2X,1));if(z2X=z2X.gradientTransform){z2X=new r6D(z2X),W2X&&(D2X=Math.max(D2X,d2X),z2X.e*=D2X,z2X.f*=D2X),z2X.applyTransform(X2X);}}function X6D(F2X,G2X,e2X){var U2X=new r6D();U2X.multiply(F2X);G2X>e2X?U2X.scale(1,e2X/G2X):U2X.scale(G2X/e2X,1);U2X.invert();return U2X;}function U6D(L2X,P2X){for(var v2X=P2X.length,V2X=0;V2X<v2X;V2X++){var p2X=P2X[V2X];0<=p2X.offset?L2X.addColorStop(p2X.offset,p2X.color):console.error(p2X);}}function G6D(i2X){var R2X=J6D(this);i2X&&(i2X=Object.assign(R2X.options,i2X),i2X.aiCompatibility&&this.ensureAICompatibility());i2X=this.encodeChildren([this.vob],R2X,"");(R2X=this.encodeDefs("\t",R2X))&&(R2X="<defs>\n"+R2X+"</defs>\n");i2X=i2X.replace("\x3c!-- #defs --\x3e\n",R2X||"");(R2X=this.encodeFontFaces())&&(R2X='<style type="text/css">'+R2X+"</style>");return i2X=i2X.replace("\x3c!-- #style --\x3e\n",R2X||"");}function J6D(a2X){return{style:Object.assign({},a2X.vob.style),options:{aiCompatibility:false,xmlHeader:true},defs:{}};}function s6D(w2X,x2X,Y2X){if(w6D[x2X]){return{};}var k2X=w2X.__attributes[x2X];k2X||((k2X=w2X.__attributesNS[x2X])?x2X=w2X.__namespace+":"+x2X:(x2X=Z6D(x2X),(k2X=w2X.__attributes[x2X])||(k2X={format:"string"},sketch.debug&&console.error("debug: "+x2X+" not implemented"))));if(k2X.value===Y2X){return{};}switch(k2X.format){case"string":case"gradientTransform":case"patternTransform":case"transform":if("string"!==typeof Y2X){return{};}break;case"coordinate":case"float":case"int":if(!Number.isFinite(Y2X)){return{};}break;case"numarray":break;default:return console.warn("unhandled",k2X),{};}return{type:x2X,value:Y2X};}function p6D(s0X,r0X,n0X,A2X){"default"===A2X&&(A2X="fill"===n0X?r0X.style.fill:r0X.style.stroke);return s0X.defs[A2X]?(r0X.defs[A2X]=true,"url(#"+A2X+")"):A2X;}function M6D(I0X,T0X){I0X.forEach(function(c0X){H6D[c0X]=T0X;});}var T6D=sketch.vector,j6D=sketch.Matrix2D,i6D=["g","switch","a"],a6D={svg:"SVGElement",a:"SVGContainer",g:"SVGContainer","switch":"SVGContainer",use:"SVGUse",image:"SVGImage",text:"SVGText",rect:"SVGRect",circle:"SVGCircle",ellipse:"SVGEllipse",line:"SVGLine",path:"SVGPath",polyline:"SVGPolyline",polygon:"SVGPolyline",pencil:"SVGPolyline",fegaussianblur:"feGaussianBlur",title:"title",desc:"desc"},R6D={title:function(O0X,g0X,o0X,M0X,h0X){M0X&&(M0X.title=o0X.textContent);},desc:function(q0X,Z0X,H0X,y0X,E0X){y0X&&(y0X.desc=H0X.textContent);},SVGElement:function(S0X,t0X,K0X,b0X,J0X){var j0X=this;J0X=S0X.ctx||j0X.ctx;var u0X=j0X.currentNode=j0X.getAttributes(K0X,"id,x,y,width,height,viewBox,version,source,author,license,metadata");u0X.matrix=j6D.getIdentity();u0X.type="svg";u0X.style=j0X.parseStyle(K0X);if(sketch.SVG.Font){for(S0X=j0X.element.getElementsByTagName("font"),S0X.length&&(j0X.vob.type||(j0X.vob=u0X),j0X.typeface=new sketch.SVG.Font(J0X),j0X.document.width=u0X.width||1,j0X.document.height=u0X.height||1,b0X=u0X),J0X=0;J0X<S0X.length;J0X++){j0X.typeface.load(S0X[J0X].cloneNode(true)).then(function(C0X){});}}u0X.viewBox&&(S0X=u0X.viewBox,J0X=new j6D(),J0X.translate(-S0X[0],-S0X[1]),u0X.matrix=J0X,u0X.transform=J0X,u0X.transform.type="transform");t0X.push(u0X);u0X.childNodes=[];return new Promise(function(N0X,f0X){j0X.parse({document:K0X,node:u0X,svg:b0X,onerror:f0X,onsuccess:function(B0X){u0X.childNodes=B0X;N0X();}});});},SVGContainer:function(z0X,D0X,Q0X,d0X,X0X){var l0X=this,m0X=l0X.currentNode=l0X.getAttributes(Q0X,"id"+X0X);m0X.parentNode=z0X.node;m0X.type="g";l0X.parseTransform(Q0X);l0X.parseClipPath(Q0X,true);m0X.style=l0X.parseStyle(Q0X);if(Q0X.hasChildNodes){return D0X.push(m0X),m0X.childNodes=[],new Promise(function(W0X){l0X.parse({document:Q0X,node:m0X,svg:d0X,onsuccess:function(U0X){m0X.childNodes=U0X;W0X();}});});}},SVGUse:function(R0X,v0X,p0X,L0X,i0X){var G0X=this,P0X=G0X.parseHref(p0X);if(P0X){var e0X=G0X.currentNode=G0X.getAttributes(p0X,"id,xlink:href"+i0X);e0X.type="use";e0X.childNodes=[];e0X.parentNode=R0X.node;G0X.parseTransform(p0X);G0X.parseClipPath(p0X,true);var V0X=P0X.substr(1),F0X=G0X.getElementById(V0X);F0X&&i6D.includes(F0X.nodeName)&&(G0X.parseTransform(F0X,"transform",false),G0X.parseClipPath(F0X,true));if(G0X.defs[V0X]){e0X.style=G0X.parseStyle(p0X),v0X.push(e0X);}else{return new Promise(function(a0X){G0X.parse({document:F0X,node:e0X,svg:L0X,onsuccess:function(x0X){G0X.defs[V0X]=x0X[0];e0X.style=G0X.parseStyle(p0X);v0X.push(e0X);a0X();}});});}}},SVGImage:function(s3X,n3X,Y0X){var A0X=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},r3X=arguments[4],k0X=this,w0X=k0X.parseHref(Y0X);if(w0X&&(A0X.cors||"http"!==w0X.substr(0,4))){return new Promise(function(M3X){var I3X=k0X.currentNode=k0X.getAttributes(Y0X,"id,x,y,width,height,preserveAspectRatio"+r3X,true);I3X.parentNode=s3X.node;I3X.type="image";I3X.x||(I3X.x=0);I3X.y||(I3X.y=0);k0X.parseTransform(Y0X);k0X.parseClipPath(Y0X,true);I3X.style=k0X.parseStyle(Y0X);var T3X="";A0X.data&&(T3X=A0X.data.split("/"),T3X.pop(),(T3X=T3X.join("/"))&&(T3X+="/"));var c3X=new Image();Object.defineProperty(I3X,"image",{value:new Image()});c3X.onload=function(){var g3X=c3X.width,h3X=c3X.height,o3X=I3X.preserveAspectRatio;if(o3X&&"none"!==o3X){var O3X=o3X.split(" ")[0];g3X>I3X.width&&(h3X*=I3X.width/g3X,g3X=I3X.width);h3X>I3X.height&&(g3X*=I3X.height/h3X,h3X=I3X.height);o3X=O3X.substr(1,3);switch(o3X){case"Min":o3X=0;break;case"Mid":o3X=(I3X.width-g3X)/2;break;case"Max":o3X=I3X.width-g3X;}O3X=O3X.substr(5,3);switch(O3X){case"Min":O3X=0;break;case"Mid":O3X=(I3X.height-h3X)/2;break;case"Max":O3X=I3X.height-h3X;}I3X.x=o3X;I3X.y=O3X;I3X.width=g3X;I3X.height=h3X;}I3X.bbox=k0X.BBox([I3X.x,I3X.y,I3X.x+I3X.width,I3X.y+I3X.height],I3X.matrix);n3X.push(I3X);M3X();};c3X.onerror=M3X;-1!==w0X.indexOf("base64")||"http"===w0X.substr(0,4)?I3X.href=c3X.src=w0X:I3X.href=c3X.src=T3X+w0X;});}},SVGText:function(u3X,m3X,Z3X,H3X,b3X){var K3X=this;if(T6D.text){H3X=this.currentNode=this.getAttributes(Z3X,"id,x,y,dx,dy"+b3X,true);H3X.parentNode=u3X.node;H3X.type="text";H3X.childNodes=[];this.parseTransform(Z3X);this.parseClipPath(Z3X,true);H3X.style=this.parseStyle(Z3X);b3X=u3X=Infinity;var J3X=-Infinity,t3X=-Infinity,S3X=H3X.dx||0+(H3X.x||0),C3X=H3X.dy||0+(H3X.y||0);Z3X=Z3X.childNodes;for(var j3X=0,B3X=Z3X.length,N3X=0;N3X<B3X;N3X++){var E3X=Z3X[N3X],q3X=E3X.textContent,f3X=q3X.trim();if(f3X){var y3X;"[object Text]"===String(E3X)?y3X={style:{fontSize:16}}:(y3X=K3X.currentNode=K3X.getAttributes(E3X,"id,x,y,dx,dy",true),y3X.style=K3X.parseStyle(E3X));void 0!==y3X.x&&(S3X=0);void 0!==y3X.y&&(C3X=0);S3X=0!==(y3X.dy||0)?y3X.dx||0:S3X+(y3X.dx||0);C3X+=y3X.dy||0;y3X.x=S3X+(y3X.x||0);y3X.y=C3X+(y3X.y||0);y3X.parentNode=H3X;y3X.type="tspan";y3X.content=f3X;H3X.childNodes.push(y3X);E3X=K3X.fontStyleToString(y3X.style);q3X=T6D.text.measureText(q3X,E3X);u3X>y3X.x&&(u3X=y3X.x);b3X>y3X.y&&(b3X=y3X.y-y3X.style.fontSize);t3X<y3X.y+q3X.height&&(t3X=y3X.y+q3X.height-y3X.style.fontSize);J3X<y3X.x+q3X.width&&(J3X=y3X.x+q3X.width);S3X+=q3X.width;j3X+=q3X.width;}}switch(H3X.style.textAnchor){case"middle":u3X-=j3X/2;J3X-=j3X/2;break;case"end":u3X-=j3X,J3X-=j3X;}H3X.bbox=this.BBox([u3X,b3X,J3X,t3X],H3X.matrix);m3X.push(H3X);}else{console.log("missing text module");}},feGaussianBlur:function(Q3X,z3X,l3X,D3X,d3X){l3X=this.currentNode=this.getAttributes(l3X,"id,stdDeviation");l3X.parentNode=Q3X.node;l3X.type="GaussianBlur";z3X.push(l3X);},SVGPolyline:function(F3X,p3X,W3X,U3X,X3X){U3X=W3X.type;var G3X=this.parsePoints(W3X,U3X),e3X=G3X.points;X3X=this.currentNode=this.getAttributes(W3X,"id"+X3X);X3X.parentNode=F3X.node;X3X.type=U3X.toLowerCase();X3X.points=e3X;X3X.data=G3X.data;this.parseTransform(W3X);this.parseClipPath(W3X,true);X3X.style=this.parseStyle(W3X);X3X.bbox=new sketch.PathBBox(X3X.data).asDiagonal();p3X.push(X3X);},SVGRect:function(v3X,L3X,P3X,V3X,R3X){V3X=this.currentNode=this.getAttributes(P3X,"id,x,y,rx,ry,width,height"+R3X);V3X.parentNode=v3X.node;V3X.type="rect";V3X.x||(V3X.x=0);V3X.y||(V3X.y=0);V3X.width&&V3X.height&&(null==V3X.rx&&void 0!==V3X.ry&&(V3X.rx=V3X.ry),null==V3X.ry&&void 0!==V3X.rx&&(V3X.ry=V3X.rx),this.parseTransform(P3X),this.parseClipPath(P3X,true),V3X.style=this.parseStyle(P3X),V3X.bbox=this.BBox([V3X.x,V3X.y,V3X.x+V3X.width,V3X.y+V3X.height],V3X.matrix),L3X.push(V3X));},SVGLine:function(x3X,k3X,a3X,i3X,w3X){i3X=this.currentNode=this.getAttributes(a3X,"id,x1,y1,x2,y2"+w3X);i3X.parentNode=x3X.node;i3X.type="line";i3X.x1=i3X.x1||0;i3X.y1=i3X.y1||0;i3X.x2=i3X.x2||0;i3X.y2=i3X.y2||0;this.parseTransform(a3X);this.parseClipPath(a3X,true);i3X.style=this.parseStyle(a3X);i3X.bbox=this.BBox([i3X.x1,i3X.y1,i3X.x2,i3X.y2],i3X.matrix);k3X.push(i3X);},SVGCircle:function(r5X,s5X,A3X,Y3X,n5X){Y3X=this.currentNode=this.getAttributes(A3X,"id,cx,cy,r"+n5X);Y3X.parentNode=r5X.node;Y3X.type="circle";Y3X.cx=Y3X.cx||0;Y3X.cy=Y3X.cy||0;this.parseTransform(A3X);this.parseClipPath(A3X,true);Y3X.style=this.parseStyle(A3X);Y3X.bbox=this.BBox([Y3X.cx-Y3X.r,Y3X.cy-Y3X.r,Y3X.cx+Y3X.r,Y3X.cy+Y3X.r],Y3X.matrix);s5X.push(Y3X);},SVGEllipse:function(c5X,M5X,T5X,I5X,o5X){I5X=this.currentNode=this.getAttributes(T5X,"id,cx,cy,rx,ry"+o5X);I5X.parentNode=c5X.node;I5X.type="ellipse";I5X.cx=I5X.cx||0;I5X.cy=I5X.cy||0;this.parseTransform(T5X);this.parseClipPath(T5X,true);I5X.style=this.parseStyle(T5X);I5X.bbox=new sketch.PathBBox({path:T6D.toPath(T6D.Shape.ellipse,[I5X.cx,I5X.cy,I5X.rx,I5X.ry]),matrix:I5X.matrix}).asDiagonal();M5X.push(I5X);},SVGPath:function(h5X,y5X,g5X,O5X,H5X){O5X=this.currentNode=this.getAttributes(g5X,"id,d"+H5X);O5X.parentNode=h5X.node;O5X.type="path";this.parseTransform(g5X);this.parseClipPath(g5X,true);O5X.element=g5X;O5X.style=this.parseStyle(g5X);O5X.data=sketch.SVG.svgPathToVOB(O5X.d);O5X.bbox=new sketch.PathBBox({path:O5X.data,matrix:O5X.matrix}).asDiagonal();y5X.push(O5X);}},k6D="opacity paint-order fill-rule fill-opacity stroke-width stroke-linecap stroke-linejoin stroke-miterlimit stroke-dasharray stroke-dashoffset stroke-opacity vector-effect font-size font-family font-weight font-style line-height text-anchor".split(" "),K6D=sketch.util,B6D={fill:["fillRule","fillOpacity","fill"],stroke:"strokeWidth strokeLinecap strokeLinejoin strokeMiterlimit strokeDasharray strokeDashoffset strokeOpacity stroke".split(" ")},n6D=sketch.Matrix2D,O6D=1/(180/Math.PI),Q6D=/(\w+\(([+-]?\d*\.?(e[+-]?\d+)*[, ]?)+\))+/gi;j.initSymbol();j.initSymbol();j.initSymbolIterator();var g6D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(q5X){return typeof q5X;}:function(Z5X){j.initSymbol();j.initSymbol();j.initSymbol();return Z5X&&"function"===typeof Symbol&&Z5X.constructor===Symbol&&Z5X!==Symbol.prototype?"symbol":typeof Z5X;},f6D=sketch.convert,x7D=sketch.vector,c6D=sketch.util,W6D=sketch.Matrix2D,u6D={},o6D={};if(sketch.SVG){for(var w7D in sketch.SVG){var I6D=sketch.SVG[w7D];"function"===typeof I6D&&(A7D[w7D]=I6D);}}var k7D=A7D.prototype;k7D.parseStyleAttribute=function(u5X){if(u5X.__style){return u5X.__style;}if(u5X.getAttribute){var E5X=u5X.getAttribute("style");if(E5X){for(var E5X=E5X.split(";"),S5X={},b5X=E5X.length,J5X=0;J5X<b5X;J5X++){var j5X=E5X[J5X].split(":"),K5X=j5X[0];(j5X=j5X[1])&&K5X&&(S5X[K5X.trim()]=j5X.trim());}return u5X.__style=S5X;}}return u5X.__style={};};k7D.parseStyle=function(f5X){var N5X=this.currentNode,B5X=N5X.parentNode,t5X=this.state=K6D.copy(B5X&&B5X.style||this.state);N5X.uid=this.uid++;var l5X=this.parseStyleAttribute(f5X),C5X=this.getAttributes(f5X,k6D,true);t5X.opacity=void 0!==C5X.opacity?C5X.opacity:B5X&&B5X.style?B5X.style.opacity:1;B5X=f5X.attributes;if(!B5X){return{};}var D5X=B5X.length;D5X&&!N5X.attributes&&(N5X.attributes={});for(var Q5X=0;Q5X<D5X;Q5X++){var z5X=B5X[Q5X];if("data-"===z5X.name.substr(0,5)){var m5X=z5X.name.substr(5).split("-");m5X[1]&&(m5X[1]=m5X[1][0].toUpperCase()+m5X[1].substr(1));m5X=m5X.join("");N5X.attributes[m5X]=z5X.value;}}C5X.vectorEffect&&(t5X.vectorEffect=C5X.vectorEffect);if(N5X=l5X.filter||f5X.getAttribute("filter")){if(t5X.filter=B5X=this.parseUrl(N5X),this.defs[B5X]&&(N5X=this.getElementById(B5X))){B5X=this.defs[B5X]=this.getAttributes(N5X,"id,x,y,width,height"),B5X.type="filter",B5X.filter=this.parse({document:N5X,node:{childNodes:[]}});}}else{delete t5X.filter;}C5X.fontSize&&(t5X.fontSize=C5X.fontSize);C5X.fontFamily&&(t5X.fontFamily=C5X.fontFamily,N5X=C5X.fontFamily.split(",").shift(),t5X.fontRenderer=this.typeface&&this.typeface.packages[N5X]?"SVG":"native");C5X.fontWeight&&(t5X.fontWeight=C5X.fontWeight);C5X.fontStyle&&(t5X.fontStyle=C5X.fontStyle);C5X.lineHeight&&(t5X.lineHeight=C5X.lineHeight);C5X.paintOrder&&(t5X.paintOrder=C5X.paintOrder);C5X.textAnchor&&(t5X.textAnchor=C5X.textAnchor);if(N5X=l6D.call(this,f5X,l5X,"color")){t5X.color=N5X;}N5X=x6D(this,C5X,f5X,l5X,"fill");t5X.fill=N5X.fill;t5X.fillRule=N5X.fillRule;t5X.fillOpacity=N5X.fillOpacity;(N5X=this.defs[t5X.fill])&&N5X._usageTally++;f5X=x6D(this,C5X,f5X,l5X,"stroke");t5X.strokeWidth=f5X.strokeWidth;t5X.stroke=f5X.stroke;t5X.strokeLinecap=f5X.strokeLinecap;t5X.strokeLinejoin=f5X.strokeLinejoin;t5X.strokeMiterlimit=f5X.strokeMiterlimit;t5X.strokeDasharray=f5X.strokeDasharray;t5X.strokeDashoffset=f5X.strokeDashoffset;t5X.strokeOpacity=f5X.strokeOpacity;(f5X=this.defs[t5X.stroke])&&f5X._usageTally++;return t5X;};k7D.parseTransform=function(P5X){var L5X=this;var G5X=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"transform",V5X=2<arguments.length&&void 0!==arguments[2]?arguments[2]:true,e5X=this.currentNode,X5X=e5X.parentNode;if(P5X){var F5X=P5X.getAttribute(G5X),X5X=(G5X="transform"===G5X)?e5X.matrix?e5X.matrix:X5X&&X5X.matrix?e5X.matrix=n6D.copy(X5X.matrix):e5X.matrix=n6D.getIdentity():n6D.getIdentity();if(F5X){var X5X=new n6D(X5X),U5X=new n6D();if(F5X=F5X.match(Q6D)){for(var v5X=F5X.length,p5X=0;p5X<v5X;p5X++){var d5X=F5X[p5X].replace(/^\s+|\s+$/,"").split("("),W5X=d5X[0].replace(/^\s+|\s+$/,""),d5X=L5X.parseFloatArray(d5X[1]);switch(W5X){case"matrix":G5X&&U5X.transform(d5X[0],d5X[1],d5X[2],d5X[3],d5X[4],d5X[5]);X5X.transform(d5X[0],d5X[1],d5X[2],d5X[3],d5X[4],d5X[5]);break;case"translate":W5X=d5X[0];d5X=d5X[1];G5X&&U5X.translate(W5X,d5X);X5X.translate(W5X,d5X);break;case"scale":W5X=d5X[0];d5X=d5X[1];G5X&&U5X.scale(W5X,d5X);X5X.scale(W5X,d5X);break;case"rotate":W5X=d5X[0]*O6D;3===d5X.length?(G5X&&(U5X.translate(d5X[1],d5X[2]),U5X.rotate(W5X),U5X.translate(-d5X[1],-d5X[2])),X5X.translate(d5X[1],d5X[2]),X5X.rotate(W5X),X5X.translate(-d5X[1],-d5X[2])):(G5X&&U5X.rotate(W5X),X5X.rotate(W5X));break;case"skewX":W5X=d5X[0]*O6D;G5X&&U5X.skew(W5X,0);X5X.skew(W5X,0);break;case"skewY":W5X=d5X[0]*O6D,G5X&&U5X.skew(0,W5X),X5X.skew(0,W5X);}}}V5X&&(e5X.matrix=X5X,e5X.transform=U5X,e5X.transform.type="transform");return{matrix:X5X,transform:U5X};}}};Object.defineProperties(k7D,{width:{get:function(){var R5X=this.viewBox;return R5X[2]-R5X[0];}},height:{get:function(){var i5X=this.viewBox;return i5X[3]-i5X[1];}}});k7D.fromString=function(x5X,k5X,w5X){function A5X(s9X){s9X=s9X.split(/;(.+)/);s9X.shift();s9X=s9X.shift().split(/,(.+)/);var n9X=s9X.shift();s9X=s9X.shift();return"utf8"===n9X?s9X:atob(f6D.utf8.decode(s9X));}function r9X(M9X,T9X){if(M9X){var c9X=M9X.querySelectorAll("style");if(c9X.length){var o9X=document.body,I9X=document.createElement("iframe");o9X.appendChild(I9X);I9X.style.cssText="position: absolute; width: 1px; height: 1px; left: -1px; top: -1px;";I9X.src="about:blank";I9X.addEventListener("error",T9X);I9X.addEventListener("load",function(){for(var g9X=I9X.contentWindow.document,h9X=g9X.body,O9X=0,q9X=c9X.length;O9X<q9X;O9X++){var y9X=c9X[O9X].innerHTML;if(y9X){var H9X=document.createElement("style");H9X.innerHTML=y9X;h9X.appendChild(H9X);}}c6D.forEach(g9X.styleSheets,function(Z9X){c6D.forEach(Z9X.cssRules,function(E9X){c6D.forEach(M9X.querySelectorAll(E9X.selectorText),function(K9X){for(var u9X=E9X.style,j9X=0,S9X=u9X.length;j9X<S9X;j9X++){var J9X=u9X[j9X];K9X.style[J9X]=u9X[J9X];}});});});T9X();h9X.removeChild(I9X);});}else{T9X();}}else{T9X();}}var a5X=this;0===x5X.indexOf("data:image/svg")&&(x5X=A5X(x5X));a5X.sourceXML=x5X;x5X=x5X.replace(/\<(\?xml|(\!DOCTYPE[^\>\[]+(\[[^\]]+)?))+[^>]+\>/g,"");x5X=x5X.replace(/(xmlns(:.*|)='&.*;')/g,"");x5X="<object>"+x5X+"</object>";var Y5X=new DOMParser();a5X.svgElement=Y5X.parseFromString(x5X,"text/xml").documentElement;a5X.document=a5X.svgElement;a5X.document.id=a5X.hashOfSrc;a5X.debugSVG&&("undefined"===typeof document?false:"object"===g6D(document))&&document.body.appendChild(a5X.document);if(a5X.svgElement.querySelector){return x5X=a5X.svgElement=a5X.svgElement.querySelector("svg"),r9X(x5X,function(){N6D(a5X,k5X,w5X);}),a5X;}N6D(a5X,k5X,w5X);return a5X;};k7D.parse=function(b9X){var N9X=this;if(!b9X||!b9X.node){if(b9X.onerror){b9X.onerror();}return N9X;}var t9X=b9X.document;if(t9X&&t9X.childNodes&&t9X.childNodes.length){t9X=t9X.childNodes;}else{if(!t9X){if(b9X.onsuccess){b9X.onsuccess([]);}return N9X;}var f9X=t9X.nodeName.toLowerCase();if(!V6D[f9X]){if(b9X.onsuccess){b9X.onsuccess([]);}return N9X;}t9X=[t9X];}b9X.defs&&(N9X.defs=b9X.defs);for(var B9X=b9X.node.childNodes,D9X=b9X.svg||N9X.svgElement,m9X=[],f9X=t9X.length,l9X=0;l9X<f9X;l9X++){var Q9X=t9X[l9X],C9X=Q9X.nodeName.toLowerCase();"#"!==C9X[0]&&(0===C9X.indexOf("svg:")&&(C9X=C9X.substr(4)),0===C9X.indexOf("scalable_vector_graphics:")&&(C9X=C9X.substr(25)),0===C9X.indexOf("sketchjs:")&&(C9X=C9X.substr(9)),Q9X.type=C9X,m9X.push(Q9X));}var d9X=m9X.length,z9X=-1;void function X9X(){if(0===++N9X.batch%250){return Promise.resolve().then(X9X);}if(++z9X>=d9X){if(b9X.onsuccess){b9X.onsuccess(B9X);}}else{var W9X=m9X[z9X],U9X=W9X.type,G9X=N9X.getAttributes(W9X,"visibility,display");if("none"===G9X.display||"hidden"===G9X.visibility||"none"===N9X.parseStyleAttribute(W9X).display){return X9X();}if(U9X=a6D[U9X]){return(W9X=R6D[U9X].apply(N9X,[b9X,B9X,W9X,D9X,",tool"]))&&W9X.then?W9X.then(X9X):X9X();}X9X();}}();return B9X;};k7D.parseDefs=function(V9X,F9X){var e9X=this.defs[F9X];if(e9X){return e9X;}e9X=this.getElementById(F9X);if(!e9X){return{};}var p9X=e9X.nodeName.toLowerCase();switch(p9X){case"pattern":return this.defs[F9X]=this.extractPattern(V9X,e9X);case"lineargradient":case"radialgradient":return this.defs[F9X]=this.extractGradient(V9X,e9X,p9X);default:return{};}};k7D.parseHref=function(P9X){return P9X.getAttribute("xlink:href")||P9X.getAttribute("href");};k7D.parseClipPath=function(v9X,i9X){var R9X=this.currentNode;if(v9X&&(v9X=v9X.getAttribute("clip-path"))){v9X=this.parseUrl(v9X);var L9X=this.defs[v9X];if(L9X){return i9X&&(R9X.clipPath=L9X),L9X;}if(L9X=this.getElementById(v9X)){return this.defs[v9X]=this.getAttributes(L9X,"id,x,y,width,height,clipPathUnits"),this.defs[v9X].type="clipPath",L9X=this.parse({document:L9X,matrix:this.vob.matrix,node:{childNodes:[]}}),L9X.id=v9X,this.defs[v9X].d=L9X,i9X&&(R9X.clipPath=L9X),this.defs[v9X];}}};k7D.parsePoints=function(x9X,s1X){if(x9X=x9X.getAttribute("points")){var k9X=x9X.replace(/[\s,]+/g," ").trim().split(/[, ]/);if(!(2>k9X.length)){x9X=[];for(var a9X=[],w9X=k9X.length,Y9X=0;Y9X<w9X;Y9X+=2){var A9X=k9X[Y9X],r1X=k9X[Y9X+1];x9X.push({cmd:a9X.length?"L":"M",x:parseFloat(A9X),y:parseFloat(r1X)});a9X.push([A9X,r1X]);}k9X=a9X.length-1;w9X=a9X[k9X];isFinite(w9X[1])||(x9X[k9X].y=w9X[1]=a9X[0][1]);"polygon"===s1X.toLowerCase()?(a9X=""+a9X.join(" ")+"",x9X.push({cmd:"Z",x:x9X[0].x,y:x9X[0].y})):a9X=""+a9X.join(" ");return{points:a9X,data:x9X};}}};k7D.getAttributes=function(o1X,O1X,q1X){var M1X=this;if(!o1X||!o1X.getAttribute){return{};}"string"===typeof O1X&&(O1X=O1X.split(","));for(var y1X=k7D.parseStyleAttribute(o1X),I1X={},H1X=O1X.length,h1X=0;h1X<H1X;h1X++){var n1X=O1X[h1X],c1X=M1X.__attributes[n1X],g1X=false;if(null==c1X){if(c1X=M1X.__attributesNS[n1X]){n1X=M1X.__namespace+":"+n1X,g1X=true;}else if(n1X=sketch.string.dasherize(n1X),c1X=M1X.__attributes[n1X],null==c1X){console.log(n1X);continue;}}var c1X=c1X.format,T1X;q1X?(T1X=y1X[n1X]||o1X.getAttribute(n1X),-1!==n1X.indexOf("-")&&(n1X=n1X.split("-"),n1X[1]&&(n1X[1]=n1X[1][0].toUpperCase()+n1X[1].substr(1)),n1X=n1X.join(""))):(T1X=o1X.getAttribute(n1X)||y1X[n1X],"id"!==n1X||T1X||(T1X=o1X.getAttribute("xml:id")));if(T1X){if("none"===T1X){I1X[n1X]=T1X;}else{switch(g1X&&(n1X=n1X.replace(M1X.__namespace+":","")),c1X){case"numarray":I1X[n1X]=M1X.parseFloatArray(T1X);break;case"coordinate":I1X[n1X]=f6D.cssUnits(T1X,"px");Infinity===I1X[n1X]&&(I1X[n1X]=4294967295);-Infinity===I1X[n1X]&&(I1X[n1X]=-4294967295);break;case"float":I1X[n1X]=parseFloat(T1X);Infinity===I1X[n1X]&&(I1X[n1X]=4294967295);-Infinity===I1X[n1X]&&(I1X[n1X]=-4294967295);break;case"gradientTransform":case"patternTransform":case"transform":g1X=M1X.parseTransform(o1X,c1X,false);I1X[n1X]=g1X.matrix;break;case"string":I1X[n1X]=T1X;}}}}return I1X;};k7D.getBoundingBox=function(){function f1X(W1X){for(var X1X=0,U1X=W1X.length;X1X<U1X;X1X++){var l1X=W1X[X1X];if(l1X){var Q1X=l1X.bbox;if(Q1X){var z1X=Q1X.x1,D1X=Q1X.x2,d1X=Q1X.y1,Q1X=Q1X.y2;E1X&&(z1X<b1X||d1X<N1X||D1X>C1X||Q1X>K1X)||(m1X&&l1X.style&&l1X.style.stroke&&(l1X=t1X.getValue("strokeWidth",l1X)/2||0,z1X-=l1X,D1X+=l1X,d1X-=l1X,Q1X+=l1X),z1X<u1X&&(u1X=z1X),d1X<j1X&&(j1X=d1X),D1X>J1X&&(J1X=D1X),Q1X>S1X&&(S1X=Q1X));}else{l1X.childNodes&&f1X(l1X.childNodes);}}}}var Z1X=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t1X=this,m1X=Z1X.calcStroke,B1X=Z1X.childNodes||t1X.vob.childNodes,E1X=Z1X.clipRegion,Z1X=Z1X.expandBy,u1X=Number.POSITIVE_INFINITY,j1X=Number.POSITIVE_INFINITY,J1X=Number.NEGATIVE_INFINITY,S1X=Number.NEGATIVE_INFINITY,b1X=void 0,N1X=void 0,C1X=void 0,K1X=void 0;E1X&&(b1X=E1X.x,N1X=E1X.y,C1X=E1X.x+E1X.width,K1X=E1X.y+E1X.height);f1X(B1X);Z1X&&(u1X-=Z1X,j1X-=Z1X,J1X+=Z1X,S1X+=Z1X);return Number.isFinite(u1X+j1X+J1X+S1X)?[u1X,j1X,J1X,S1X]:null;};k7D.getElementById=function(F1X){var G1X=this.element.ownerDocument||this.element,e1X=G1X.getElementById(F1X);return e1X?e1X:"undefined"!==typeof XPathResult?G1X.evaluate('//*[@xml:id="'+F1X+'"]',G1X,function(){return"http://www.w3.org/XML/1998/namespace";},XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue:null;};k7D.getNodeById=function(p1X){return e6D(this.vob.childNodes,p1X);};k7D.getNodeBy=function(v1X,V1X){var P1X=this.vob;V1X=String(V1X);return F6D(P1X.childNodes,v1X,V1X);};k7D.fontStyleToString=function(L1X,i1X){if(L1X){var R1X=L1X.textAnchor||"left";"middle"===R1X&&(R1X="center");i1X&&(i1X.textAlign=R1X);i1X=L1X.fontFamily||"sans-serif";R1X=Number.isFinite(parseInt(L1X.fontSize))?L1X.fontSize+"px":"normal";return(L1X.fontStyle||"normal")+" "+(L1X.fontWeight||"normal")+" "+R1X+" "+i1X;}};k7D.createContext=function(){var a1X;a1X=sketch._noRendering?new NodeCanvas():document.createElement("canvas");a1X.ctx=a1X.getContext("2d");return a1X.ctx;};k7D.walk=function(x1X){P6D(this.vob.childNodes,x1X);};k7D.BBox=function(k1X,w1X){w1X=new W6D(w1X);var Y1X=w1X.point2d(k1X[0],k1X[1]),A1X=w1X.point2d(k1X[0],k1X[3]),r4X=w1X.point2d(k1X[2],k1X[3]);k1X=w1X.point2d(k1X[2],k1X[1]);return{x1:Math.min(Y1X.x,A1X.x,r4X.x,k1X.x),y1:Math.min(Y1X.y,A1X.y,r4X.y,k1X.y),x2:Math.max(Y1X.x,A1X.x,r4X.x,k1X.x),y2:Math.max(Y1X.y,A1X.y,r4X.y,k1X.y)};};k7D.parseFloatArray=function(s4X){var n4X=[];if(s4X){if("string"===typeof s4X){var I4X=-1===s4X.indexOf(",")?" ":",";s4X=s4X.split(I4X);}for(;s4X.length;){n4X.push(parseFloat(s4X.shift()));}}return n4X;};k7D.parseUrl=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").replace(/url\([#'"]{0,1}|['"]{0,1}\)$/gi,"");};var V6D={text:true,rect:true,circle:true,ellipse:true,line:true,polyline:true,polygon:true,path:true};x7D.createSVG=function(T4X){return new Promise(function(c4X,M4X){new sketch.SVG(Object.assign({},T4X,{onsuccess:c4X,onerror:M4X}));});};A7D.cache=o6D;A7D.resetCache=function(){A7D.cache=o6D={};};A7D.isSVGString=function(o4X){if("string"!==typeof o4X){return false;}o4X.startsWith("\x3c!--")&&(o4X=o4X.replace(/\x3c!--.*--\x3e/,""));o4X.startsWith(" ")&&(o4X=o4X.trim());return o4X.startsWith("data:image/svg")||o4X.startsWith("<?xml")&&o4X.includes("<svg")||o4X.startsWith("<svg");};sketch.SVG=A7D;x7D=sketch.SVG.prototype;x7D.nodeType=1;x7D.__dtd="https://sketch.io/dtd/";x7D.__namespace="sketchjs";x7D.__attributesNS=v6D({license:"string",author:"string",source:"string",version:"string",metadata:"string",tool:"string",uid:"int"});x7D.__attributes=v6D({id:"string",src:"string",href:"string","xlink:href":"string",display:{param:"display",format:"string",valid:"inline | block | list-item | run-in | compact | marker | table | inline-table | table-row-group | table-header-group | table-footer-group | table-row | table-column-group | table-column | table-cell | table-caption | none | inherit",value:"inline"},visibility:{param:"visibility",format:"string",valid:"visible | hidden | collapse | inherit",value:"visible"},viewBox:{param:"viewBox",format:"numarray",value:0},preserveAspectRatio:{param:"preserveAspectRatio",format:"string",valid:"[defer] <align> [<meetOrSlice>]",value:"xMidYMid meet"},x:"coordinate",y:"coordinate",width:"coordinate",height:"coordinate",transform:{param:"transform",format:"transform",value:"matrix(1,0,0,1,0,0)"},dx:"coordinate",dy:"coordinate",cx:"coordinate",cy:"coordinate",rx:"float",ry:"float",r:"coordinate",x1:"float",y1:"float",x2:"float",y2:"float",d:"string",points:"string","font-size":{param:"font-size",format:"float",valid:"<absolute-size> | <relative-size> | <length> | <percentage> | inherit",value:"medium"},"font-style":{param:"font-style",format:"string",valid:"normal | italic | oblique | inherit",value:"normal"},"font-family":{param:"font-family",format:"string",valid:"[[ <family-name> | <generic-family> ],]* [<family-name> | <generic-family>] | inherit",value:"sans-serif"},"font-weight":{param:"font-weight",format:"string",valid:"normal | bold | bolder | lighter | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900 | inherit",value:"normal"},"line-height":{param:"line-height",format:"float",valid:"normal | <number> | <length> | <percentage> | inherit",value:"normal"},"text-decoration":{param:"text-decoration",format:"string",valid:"none | [ underline || overline || line-through || blink ] | inherit",value:"none"},"text-anchor":{param:"text-anchor",format:"string",valid:"start | middle | end | inherit",value:"start"},kerning:{param:"kerning",format:"float",valid:"auto | <length> | inherit",value:"auto"},"letter-spacing":{param:"letter-spacing",format:"float",valid:"normal | <length> | inherit",value:"normal"},"word-spacing":{param:"word-spacing",format:"float",valid:"normal | <length> | inherit",value:"normal"},"clip-path":"string",clipPathUnits:{param:"clipPathUnits",format:"string",value:"userSpaceOnUse"},opacity:{param:"opacity",format:"float",value:1},"paint-order":{param:"paint-order",format:"string",value:"normal"},fill:{param:"fill",format:"string",value:"black"},"fill-rule":{param:"fill-rule",format:"string",valid:"nonzero | evenodd | inherit",value:"nonzero"},"fill-opacity":{param:"fill-opacity",format:"float",valid:"<opacity-value> | inherit",value:1},stroke:{param:"stroke",format:"string",value:"none"},"stroke-width":{param:"stroke-width",format:"coordinate",valid:"<percentage> | <length> | inherit",value:1},"stroke-linecap":{param:"stroke-linecap",format:"string",valid:"butt | round | square | inherit",value:"butt"},"stroke-linejoin":{param:"stroke-linejoin",format:"string",valid:"miter | round | bevel | inherit",value:"miter"},"stroke-miterlimit":{param:"stroke-miterlimit",format:"float",valid:"<miterlimit> | inherit",value:4},"stroke-dasharray":{param:"stroke-dasharray",format:"numarray",valid:"none | <dasharray> | inherit",value:"none"},"stroke-dashoffset":{param:"stroke-dashoffset",format:"coordinate",valid:"<percentage> | <length> | inherit",value:0},"stroke-opacity":{param:"stroke-opacity",format:"float",valid:"<opacity-value> | inherit",value:1},"vector-effect":{param:"vector-effect",format:"string",valid:"non-scaling-stroke | none | inherit",value:"none"},stops:"string",gradientUnits:{param:"gradientUnits",format:"string",valid:"userSpace | userSpaceOnUse | objectBoundingBox",value:"userSpace"},gradientTransform:{param:"gradientTransform",format:"gradientTransform",value:"matrix(1,0,0,1,0,0)"},spreadMethod:{param:"spreadMethod",format:"string",valid:"pad | reflect | repeat",value:"pad"},fx:"coordinate",fy:"coordinate",patternUnits:{param:"patternUnits",format:"string",value:"objectBoundingBox"},patternContentUnits:{param:"patternContentUnits",format:"string",value:"objectBoundingBox"},patternTransform:{param:"patternTransform",format:"patternTransform",value:"matrix(1,0,0,1,0,0)"},stdDeviation:{param:"stdDeviation",format:"float",value:0},filter:"string",filterUnits:"string","in":"string",values:"string",color:"string","color-interpolation-filters":{param:"color-interpolation-filters",format:"string",valid:"auto | sRGB | linearRGB | inherit",value:"sRGB"}});x7D=sketch.SVG.prototype;x7D.clone=function(g4X){var O4X=this.sourceXML;return new sketch.SVG().fromString(O4X,function(h4X){h4X.sourceXML=O4X;g4X&&g4X(h4X);});};x7D.toCanvas=function(H4X,q4X,Z4X,E4X){var y4X=this.ctx;y4X||(y4X=this.ctx=this.createContext());this.drawTo(y4X,{placement:"crop",x:H4X,y:q4X,width:Z4X,height:E4X});return Promise.resolve(y4X.canvas);};x7D.toSVGElement=function(){var u4X=this.stringify({xmlHeader:false}),u4X=sketch.dom.create(u4X);return Promise.resolve(u4X);};x7D.toBlob=function(j4X){j4X=this.stringify(j4X);return Promise.resolve(new Blob([j4X],{type:"image/svg+xml"}));};x7D.toBlobURL=function(J4X){return this.toBlob(J4X).then(function(S4X){return URL.createObjectURL(S4X);});};x7D.toDataURL=function(K4X){return"data:image/svg+xml;base64,"+this.btoa(K4X);};x7D.btoa=function(b4X){return global.btoa(this.stringify(b4X));};sketch.SVG.prototype.ensureAICompatibility=function(){this.walk(function(f4X,N4X,Q4X){function m4X(d4X){var D4X={},z4X;for(z4X in B4X){z4X.startsWith(d4X)&&(D4X[z4X]=B4X[z4X],delete B4X[z4X]);}return D4X;}var C4X=f4X.style;if(C4X){var t4X=C4X.paintOrder;if(t4X&&(delete C4X.paintOrder,t4X=t4X.split(" "),"fill"!==t4X[0])){f4X=Object.assign({},f4X);t4X=sketch.util.uuid();f4X.id=t4X;f4X.style={};var B4X=Object.assign({},C4X),C4X=m4X("fill"),l4X=m4X("stroke");N4X=Q4X[N4X]={};N4X.type="g";N4X.style=B4X;N4X.style.fill="none";N4X.style.stroke="none";N4X.childNodes=[f4X,{type:"use","xlink:href":"#"+t4X,style:l4X},{type:"use","xlink:href":"#"+t4X,style:C4X}];}}});};sketch.SVG.Font=function(e4X){function U4X(F4X){var p4X;"string"===typeof F4X?(p4X=F4X,F4X=W4X.fonts[p4X]):(p4X=F4X.family||"unknown",W4X.fonts[p4X]=F4X);X4X.pkg.family!==p4X&&(F4X?X4X.pkg=X4X.pkgs[p4X]=F4X:p4X in X4X.pkgs&&(X4X.pkg=X4X.pkgs[p4X]));return F4X;}var G4X=sketch.util,W4X=sketch.vector;W4X.fonts=W4X.fonts||{};var X4X={direction:"ltr",font:"",fontFamily:"sans-serif",fontSize:"40px",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"alphabetic",textDecoration:"none",textTransform:"none",lineHeight:"1em",letterSpacing:0,whiteSpace:"normal",ctx:e4X,scaleFactor:1,pkg:{},pkgs:{},load:function(V4X){function P4X(w4X){var n7X,a4X=document.createElement("div");"string"===typeof w4X?a4X.innerHTML=w4X:a4X.appendChild(w4X);var L4X=null,R4X=a4X.getElementsByTagName("font")[0],v4X=a4X.getElementsByTagName("font-face")[0];w4X=v4X.getAttribute("font-family")||w4X.id;var M7X=(L4X=v4X.getElementsByTagName("font-face-name")[0])?L4X.getAttribute("name"):w4X,o7X=v4X.getAttribute("font-style")||"all",h7X=v4X.getAttribute("font-variant")||"normal",y7X=v4X.getAttribute("font-weight")||"all",H7X=v4X.getAttribute("font-stretch")||"normal",q7X=v4X.getAttribute("unicode-range")||"U+0-10FFFF",Z7X=v4X.getAttribute("panose-1")||"0 0 0 0 0 0 0 0 0 0",E7X=v4X.getAttribute("cap-height")||0,c7X=v4X.getAttribute("x-height")||0,I7X=parseFloat(v4X.getAttribute("units-per-em")||1E3,10),L4X=a4X.getElementsByTagName("missing-glyph")[0],s7X={x:parseFloat(R4X.getAttribute("horiz-adv-x"),10),y:parseFloat(R4X.getAttribute("vert-adv-y")||0,10)||I7X};parseFloat(L4X?L4X.getAttribute("horiz-adv-x"):s7X.x,10);var R4X={horiz:{x:parseFloat(R4X.getAttribute("horiz-origin-x")||0,10),y:parseFloat(R4X.getAttribute("horiz-origin-y")||0,10)},vert:{x:parseFloat(R4X.getAttribute("vert-origin-x")||0,10),y:parseFloat(R4X.getAttribute("vert-origin-y")||0,10)}},O7X=parseFloat(v4X.getAttribute("ascent")||I7X-R4X.vert.y,10),g7X=parseFloat(v4X.getAttribute("descent")||R4X.vert.y,10),T7X={},L4X=G4X.arrayToLookup(["alphabetic","ideographic","mathematical","hanging"]),k4X;for(k4X in L4X){if(L4X=v4X.getAttribute(k4X)){T7X[k4X]=parseFloat(L4X,10);}}var v4X={},a4X=a4X.getElementsByTagName("glyph"),i4X;for(n7X in a4X){if((L4X=a4X[n7X]).getAttribute&&(k4X=L4X.getAttribute("unicode"))){if(k4X.match(q6D)){var Y4X=k4X;if(Y4X.match(q6D)){for(var A4X={amp:"&",apos:"'",quot:'"',lt:"<",gt:">"},x4X="";null!==(i4X=q6D.exec(Y4X));){x4X="x"===i4X[1].charAt(1)?x4X+String.fromCharCode(i4X[1].slice(2),16):isNaN(parseInt(i4X[1].slice(1),10))?x4X+A4X(i4X[1]):x4X+String.fromCharCode(i4X[1].slice(1));}i4X=x4X;}else{i4X=Y4X;}i4X=i4X.charCodeAt();}else{i4X=k4X.charCodeAt();}var Y4X=parseFloat(L4X.getAttribute("horiz-adv-x")||s7X.x,10),A4X=L4X.getAttribute("d"),x4X=sketch.SVG.svgPathToVOB(A4X)||[],r7X=new sketch.PathBBox(x4X).asDiagonal();v4X[i4X]={unicode:k4X,name:L4X.getAttribute("glyph-name"),xadv:Y4X,width:r7X.x2-r7X.x1,height:r7X.y2-r7X.y1,path:A4X,data:x4X};}}n7X={family:w4X,name:M7X,style:o7X,variant:h7X,weight:y7X,stretch:H7X,range:q7X,panose:Z7X.split(" ").map(parseFloat),capHeight:E7X,unitsPerEm:I7X,origin:R4X,advance:s7X,ascent:O7X,descent:g7X,xheight:c7X,baseline:T7X,glyphs:v4X};return U4X(n7X);}return V4X?"string"!==typeof V4X||V4X.includes("<font")||V4X.includes("<?xml")?Promise.resolve(P4X(V4X)):V4X.includes("Error 500")?Promise.reject("SVGFont(...) SVG is invalid, contents are Error 500."):sketch.request(V4X).then(P4X):Promise.reject("SVGFont(...) Has no content.");},measureText:function(u7X){if(u7X){u7X=""+u7X;for(var b7X=X4X.pkg.glyphs,t7X=u7X.length,S7X=0,C7X=X4X.pkg.advance.y,K7X=0,j7X=0;j7X<t7X;j7X++){var J7X=b7X[u7X.charCodeAt(j7X)];J7X&&(S7X+=J7X.xadv,K7X+=J7X.width);}return{width:S7X*X4X.scaleFactor,height:C7X*X4X.scaleFactor,actualWidth:K7X*X4X.scaleFactor,actualHeight:0*X4X.scaleFactor};}},strokeText:function(f7X,N7X,B7X,m7X){if(f7X&&isFinite(N7X+B7X)){return f7X=this.drawText(f7X,N7X,B7X,m7X),N7X=X4X.ctx,N7X.stroke(),N7X.beginPath(),f7X;}},fillText:function(Q7X,l7X,z7X,D7X){if(Q7X&&isFinite(l7X+z7X)){return Q7X=this.drawText(Q7X,l7X,z7X,D7X),l7X=X4X.ctx,l7X.fill(),l7X.beginPath(),Q7X;}},getTextBaseline:function(d7X){switch(d7X||this.textBaseline){case"alphabetic":return 0;case"top":return X4X.pkg.ascent*X4X.scaleFactor;case"hanging":return 8*X4X.pkg.ascent/10*X4X.scaleFactor;case"middle":case"absmiddle":return((X4X.pkg.ascent-X4X.pkg.descent)/2+X4X.pkg.descent)*X4X.scaleFactor;case"ideographic":return X4X.pkg.descent*X4X.scaleFactor;case"bottom":return X4X.pkg.descent*X4X.scaleFactor;default:return 0;}},getTextAlign:function(W7X,X7X){switch(W7X){case"left":return 0;case"start":return"ltr"===X4X.direction?0:X4X.measureText(X7X).width;case"end":return"ltr"===X4X.direction?X4X.measureText(X7X).width:0;case"right":return X4X.measureText(X7X).width;case"center":return X4X.measureText(X7X).width/2;}},getScaleFactor:function(){var U7X=X4X.fontSize,G7X;"number"===typeof U7X?G7X="px":(G7X=U7X.toLowerCase(),U7X=parseFloat(G7X),G7X=G7X.replace(U7X,""));isFinite(U7X)||(U7X=1);G4X.getScreenMetrics&&(2<G7X.length?U7X=sketch.convert.cssUnits.ratio(G7X+" to px"):"px"!==G7X&&(U7X*=sketch.convert.cssUnits.ratio(G7X+" to px")));X4X.scaleFactor=U7X/X4X.pkg.unitsPerEm;return X4X.scaleFactor;},drawText:function(v7X,p7X,i7X,P7X){if(v7X.length){for(var F7X=0;F7X<S6D.length;F7X++){v7X=v7X.split(S6D[F7X]).join(" ");}X4X.getScaleFactor();var V7X,e7X=i7X||0;V7X=(p7X||0)-this.getTextAlign(this.textAlign,v7X);var e7X=e7X+this.getTextBaseline(this.textBaseline),x7X=p7X=void 0,L7X=void 0,R7X=void 0,w7X=void 0;("undefined"===typeof P7X?false:"object"===g6D(P7X))&&(p7X=P7X,x7X=p7X.minWidth,P7X=p7X.maxWidth,L7X=p7X.maxHeight,w7X=p7X.targetWidth,R7X=p7X.targetHeight,p7X=p7X.getData);i7X=X4X.ctx;i7X.save();i7X.beginPath();var F7X=this.measureText(v7X),a7X=F7X.width,k7X=F7X.height,F7X=p7X?new sketch.Matrix2D():i7X;isFinite(w7X)?(F7X.scale(w7X/a7X,1),V7X=V7X*a7X/w7X):(isFinite(P7X)&&a7X>P7X&&(F7X.scale(P7X/a7X,1),V7X=V7X*a7X/P7X),isFinite(x7X)&&a7X<x7X&&(F7X.scale(x7X/a7X,1),V7X=V7X*a7X/x7X));isFinite(R7X)?(F7X.scale(1,R7X/k7X),e7X=e7X*k7X/R7X):isFinite(L7X)&&k7X>L7X&&(F7X.scale(1,L7X/k7X),e7X=e7X*k7X/L7X);(V7X||e7X)&&F7X.translate(V7X||0,e7X||0);F7X.scale(X4X.scaleFactor,-X4X.scaleFactor);P7X=X4X.pkg.glyphs;V7X=[];"number"===typeof v7X&&(v7X=String(v7X));x7X=v7X.length;for(L7X=0;L7X<x7X;L7X++){e7X=P7X[R7X=v7X.charCodeAt(L7X)],10!==R7X&&13!==R7X&&(e7X||(e7X=P7X["?".charCodeAt()]),e7X&&(e7X.data||(e7X.data=sketch.SVG.svgPathToVOB(e7X.path)||[]),e7X.data&&(R7X=e7X.data,p7X&&e7X.path?V7X.push({d:e7X.path,data:F7X.flatten(e7X.data,true)}):(i7X.beginPath(),sketch.drawPath(i7X,R7X),i7X.fill()),F7X.translate(e7X.xadv,0))));}i7X.restore();if(p7X){return{childNodes:V7X};}}},toSVG:function(Y7X,A7X){new sketch.SVG({ctx:X4X.ctx,src:Y7X,onsuccess:function(n6X){n6X=n6X.typeface.pkg.glyphs;var T6X={},o6X;for(o6X in n6X){var I6X=n6X[o6X];if(I6X.path){var s6X=sketch.SVG.svgPathToVOB(I6X.path),r6X=new sketch.PathBBox(s6X).asDiagonal(),s6X=new sketch.Matrix2D().translate(0,r6X.y2).scale(1,-1).flatten(s6X,true),s6X=sketch.SVG.svgPathFromVOB(s6X),c6X=r6X.x2-r6X.x1,M6X=r6X.y2-r6X.y1,r6X=r6X.x1;T6X[I6X.unicode.charCodeAt()+".svg"]='<?xml version="1.0" encoding="UTF-8"?><svg version="1.1" width="'+c6X+'" height="'+M6X+'" viewBox="'+r6X+" 0 "+c6X+" "+M6X+'" xmlns="http://www.w3.org/2000/svg"><path d="'+s6X+'"/></svg>';}}A7X(T6X);}});},setFont:function(Z6X){if(X4X.font!==Z6X){for(var h6X=Z6X.trim().split(" "),H6X=h6X.length,O6X=0,g6X=0,q6X=Math.min(3,H6X);O6X<q6X;){var y6X=h6X[O6X];if(0===(g6X&1)&&-1!==" normal italic oblique ".indexOf(" "+y6X+" ")){X4X.fontStyle=h6X[O6X++],g6X|=1;}else if(0===(g6X&2)&&-1!==" normal small-caps ".indexOf(" "+y6X+" ")){X4X.fontVariant=h6X[O6X++],g6X|=2;}else if(0===(g6X&4)&&(-1!==" normal bold bolder lighter ".indexOf(" "+y6X+" ")||3===y6X.length&&"1"<=y6X.charAt(0)&&"9">=y6X.charAt(0)&&"0"===y6X.charAt(1)&&"0"===y6X.charAt(2))){X4X.fontWeight=L6D[h6X[O6X++]],g6X|=4;}else{break;}}O6X<H6X&&(g6X=h6X[O6X],q6X=g6X.indexOf("/"),-1===q6X?O6X++:(g6X=g6X.substring(0,q6X),h6X[O6X]=h6X[O6X].substring(q6X)),X4X.fontSize=g6X);O6X<H6X&&"/"===h6X[O6X].substr(0,1)&&("/"!==h6X[O6X]?X4X.lineHeight=h6X[O6X++].substring(1):++O6X<H6X&&(X4X.lineHeight=h6X[O6X++]));if(O6X<H6X){for(g6X=h6X[O6X++];O6X<H6X;){g6X+=" "+h6X[O6X++];}X4X.fontFamily=g6X;U4X(g6X);}X4X.font=Z6X;}}};W4X.font&&(U4X(W4X.font),X4X.fontFamily=W4X.font.name);return X4X;};var q6D=/&(quot|apos|lt|gt|amp|#x[^;]+|#\d+);/g,S6D=["\t","\n","\x0B","\f","\r"],L6D={normal:400,bold:700,lighter:300,bolder:500};("undefined"===typeof module?false:"object"===g6D(module))&&module.exports&&(module.exports=sketch.SVG.Font);x7D=sketch.SVG;w7D=x7D.prototype;I6D=sketch.util.defineProperties;I6D(h6D.prototype,{copy:function(){return Object.assign({},this);},clone:function(){return new h6D(this);}});w7D.stringifyGradient=function(S6X){var j6X=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",u6X;u6X=""+(j6X+"<"+S6X.type);u6X+=this.encodeAttributes(S6X);u6X+=">\n";for(var b6X=S6X.stops,K6X=0;K6X<b6X.length;K6X++){var J6X=b6X[K6X],E6X=J6X.color;if("rgba"===E6X.substr(0,4)){var E6X=sketch.color.space(E6X,"W3>RGBA"),t6X=E6X.A/255,E6X=sketch.color.space(E6X,"RGB>W3");u6X+=j6X+'\t<stop offset="'+J6X.offset+'" style="stop-color:'+E6X+";stop-opacity:"+t6X+';"/>\n';}else{u6X+=j6X+'\t<stop offset="'+J6X.offset+'" style="stop-color:'+J6X.color+';"/>\n';}}return u6X+=j6X+"</"+S6X.type+">\n";};w7D.extractGradient=function(Q6X,m6X,N6X){var X6X=this;"lineargradient"===N6X?(N6X=this.getAttributes(m6X,"x1,y1,x2,y2,id,spreadMethod,gradientUnits,gradientTransform"),N6X.type="linearGradient"):(N6X=this.getAttributes(m6X,"cx,cy,r,fx,fy,id,spreadMethod,gradientUnits,gradientTransform"),N6X.type="radialGradient",null==N6X.fx&&(N6X.fx=N6X.cx,N6X.fy=N6X.cy));var l6X=this.parseHref(m6X);l6X&&(Q6X=this.parseDefs(Q6X,l6X.substr(1)))&&(N6X=Object.assign({},Q6X,N6X));Q6X=[];var l6X=m6X.childNodes,z6X=0,B6X=this.parseStyleAttribute(m6X);m6X=B6X.color||m6X.getAttribute("color")||this.state.color;var D6X=sketch.color.webcolors,d6X;for(d6X in l6X){var f6X=l6X[d6X],C6X=f6X.nodeName;C6X&&"stop"===C6X.toLowerCase()&&(B6X=X6X.parseStyleAttribute(f6X),C6X=B6X["stop-color"]||f6X.getAttribute("stop-color")||m6X||"black",D6X[C6X]?C6X=D6X[C6X]:"none"===C6X?C6X="transparent":"currentColor"===C6X?C6X=m6X||"black":"inherit"===C6X&&(C6X=m6X||"black"),(B6X=B6X["stop-opacity"]||f6X.getAttribute("stop-opacity"))&&"1"!==B6X&&("inherit"===B6X&&(B6X=1),"#"===C6X.substr(0,1)?(C6X=sketch.color.space(C6X,"W3>HEX24>RGB"),C6X.A=255*parseFloat(B6X)):"rgba"===C6X.substr(0,4)?(C6X=sketch.color.space(C6X,"W3>RGBA"),C6X.A*=parseFloat(B6X)):"rgb"===C6X.substr(0,3)&&(C6X=sketch.color.space(C6X,"W3>RGB"),C6X.A=255*parseFloat(B6X)),C6X=sketch.color.space.RGBA_W3(C6X)),f6X=f6X.getAttribute("offset")||"0",B6X=-1!==f6X.indexOf("%")?100:1,f6X=parseFloat(f6X)/B6X,f6X<z6X&&(f6X=z6X),z6X=f6X,Q6X.push({color:C6X,offset:f6X}));}N6X.gradientUnits||(N6X.gradientUnits="objectBoundingBox");if(!N6X.stops||Q6X.length){N6X.stops=Q6X;}Object.defineProperty(N6X,"_usageTally",{writable:true});N6X._usageTally=0;return N6X;};I6D(y6D.prototype,{copy:function(){return Object.assign({},this);},clone:function(){return new y6D(this);}});w7D.stringifyPattern=function(W6X){var U6X=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",G6X;G6X=""+(U6X+"<pattern")+this.encodeAttributes(W6X);G6X+=">\n";W6X.childNodes?G6X+=this.encodeChildren(W6X.childNodes,null,U6X+"\t"):W6X.pattern&&W6X.pattern.toDataURL&&(G6X+=this.encodeChildren([{type:"image","xlink:href":W6X.pattern.toDataURL(),width:W6X.width,height:W6X.height}],null,U6X+"\t"));return G6X+(U6X+"</pattern>\n");};w7D.extractPattern=function(P6X,p6X){var F6X=this,e6X=F6X.getAttributes(p6X,"patternUnits,patternContentUnits,patternTransform,x,y,width,height,preserveAspectRatio,href"),V6X=F6X.parseHref(p6X);V6X&&(e6X.href=V6X);e6X.id=p6X.id;e6X.type="pattern";F6X.defPromises.push(new Promise(function(L6X){var v6X=new sketch.SVG();v6X.element=p6X;v6X.parse({skipRender:true,document:p6X,node:{childNodes:[]},onerror:L6X,onsuccess:function(R6X){var x6X=e6X.childNodes=R6X;if(R6X.length){var a6X=F6X.createContext();R6X=a6X.canvas;var i6X=F6X.getBoundingBox({childNodes:x6X,expandBy:.5});i6X&&(R6X.width=i6X[2]-i6X[0],R6X.height=i6X[3]-i6X[1],v6X.drawTo(a6X,{childNodes:x6X,viewBox:i6X,placement:"crop"}));R6X.width&&R6X.height&&(e6X.pattern=a6X.createPattern(R6X,"repeat"),e6X.pattern.toDataURL=function(k6X){return a6X.toDataURL(k6X);});}e6X.href&&F6X.parseDefs(P6X,e6X.href.substr(1));L6X();}});}));Object.defineProperty(e6X,"_usageTally",{writable:true});e6X._usageTally=0;return e6X;};w7D.addDef=function(w6X){if(w6X){return"string"===typeof w6X?w6X:this.defs[w6X.id]=w6X;}console.error("svg.addDef(...) is missing `svgPaint`");};w7D.removeDef=function(Y6X){delete this.defs[Y6X];};w7D.Pattern=y6D;x7D.Pattern=y6D;w7D.Gradient=h6D;x7D.Gradient=h6D;var E6D=sketch.vector,r6D=sketch.Matrix2D,x7D=sketch.SVG.prototype;x7D.drawTo=function(r8T){var A6X=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};A6X.matrix||(A6X.matrix=new r6D(A6X.matrix));var s8T=A6X.childNodes||(A6X.childNodes=[this.vob]);r8T.save();this.setPlacement(Object.assign({},A6X,{ctx:r8T}));this.renderChildNodes(r8T,s8T,A6X);r8T.restore();};x7D.hitTest=function(n8T){var I8T=n8T.matrix,T8T=n8T.childNodes||(n8T.childNodes=[this.vob]);this._hitAreas=[];I8T.save();this.setPlacement(n8T);m6D(this,I8T,T8T,n8T);I8T.restore();return this._hitAreas;};x7D.setPlacement=function(){var c8T=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},q8T=c8T.ctx,M8T=c8T.matrix,E8T=c8T.x,Z8T=c8T.y,o8T=c8T.width,g8T=c8T.height,O8T=c8T.pixelRatio,H8T=c8T.placement,c8T=c8T.viewBox;M8T||(M8T=new r6D());H8T||(H8T=this.placement);c8T||(c8T=this.viewBox);var y8T=c8T[2]-c8T[0],h8T=c8T[3]-c8T[1];Number.isFinite(E8T+Z8T)&&M8T.translate(E8T,Z8T);switch(H8T){case"crop":M8T.translate(-c8T[0],-c8T[1]);E8T=M8T.a;Z8T=y8T;H8T=h8T;o8T&&g8T&&("auto"===o8T&&(o8T=g8T/h8T*y8T),"auto"===g8T&&(g8T=o8T/y8T*h8T),Number.isFinite(O8T)&&(o8T*=O8T,g8T*=O8T),O8T=Math.min(o8T/y8T,g8T/h8T),M8T.a*=O8T,M8T.d*=O8T,M8T.e+=c8T[0]*(1-O8T),M8T.f+=c8T[1]*(1-O8T),h8T>y8T?(Z8T=y8T/(h8T/g8T),H8T=g8T):(Z8T=o8T,H8T=h8T/(y8T/o8T)));if(q8T){if(o8T=q8T.canvas){o8T.width=Math.ceil(Z8T*E8T),o8T.height=Math.ceil(H8T*E8T);}M8T.applyTransform(q8T);}this.vob&&(this.vob._matrix=M8T);break;case"bbox":o8T&&g8T?(Number.isFinite(O8T)&&(o8T*=O8T,g8T*=O8T),M8T.scale(o8T/y8T,g8T/h8T)):(o8T=c8T[2]*M8T.a,M8T.scale(o8T/(o8T-c8T[0]*M8T.a)));this.useViewBox||M8T.translate(-c8T[0],-c8T[1]);q8T&&M8T.applyTransform(q8T);this.vob&&(this.vob._matrix=M8T);break;default:q8T&&M8T.applyTransform(q8T);}return M8T;};x7D.renderChildNodes=function(S8T,B8T,z8T,Q8T){var j8T=this;var l8T=z8T.matrix;if(B8T&&B8T.length&&B8T[0]){this.typeface&&(this.typeface.ctx=S8T);for(var D8T=B8T.length,m8T=0;m8T<D8T;m8T++){var b8T=B8T[m8T],N8T=b8T.bbox;j8T.currentNode=b8T;S8T.save();S8T.beginPath();if(b8T.matrix){var u8T=b8T.matrix;S8T.transform(u8T.a,u8T.b,u8T.c,u8T.d,u8T.e,u8T.f);}(u8T=b8T.clipPath)&&u8T.length&&(j8T.renderChildNodes(S8T,u8T,z8T,true),S8T.clip(),S8T.beginPath());sketch.VOBNode(S8T,b8T);u8T=b8T.style;if(!Q8T&&u8T){S8T.save();u8T=u8T.opacity;0<=u8T&&1>=u8T&&(S8T.globalAlpha=u8T);var u8T=S8T,J8T=b8T,K8T=j8T.vob.style,C8T=J8T.style,t8T=j8T.getValue("fill",J8T);if(t8T&&!C6D[t8T]){var f8T=j8T.getValue("fillOpacity",J8T);f8T&&(u8T.save(),u8T.globalAlpha*=f8T,K8T=K8T.fill,D6D(j8T,u8T,j8T.defs[t8T]||j8T.defs[K8T]||C8T,"fillStyle"),(t8T=J8T.content)?(u8T.font=j8T.fontStyleToString(C8T,u8T),"SVG"===C8T.fontRenderer?(C8T=j8T.typeface,C8T.setFont(u8T.font),C8T.fillText(t8T,J8T.x,J8T.y)):u8T.fillText(t8T,J8T.x,J8T.y)):u8T.fill(),u8T.restore());}u8T=S8T;J8T=b8T;K8T=j8T.vob.style;C8T=J8T.style;(t8T=j8T.getValue("stroke",J8T))&&!C6D[t8T]&&(K8T=K8T.stroke,t8T=j8T.defs[t8T]||j8T.defs[K8T]||C8T)&&(K8T=j8T.getValue("strokeOpacity",J8T),f8T=j8T.getValue("strokeWidth",J8T),K8T&&f8T&&(u8T.save(),u8T.globalAlpha*=K8T,u8T.lineWidth=f8T,u8T.lineCap=j8T.getValue("strokeLinecap",J8T),u8T.lineJoin=j8T.getValue("strokeLinejoin",J8T),u8T.miterLimit=j8T.getValue("strokeMiterlimit",J8T),u8T.setLineDash&&(K8T=j8T.getValue("strokeDasharray",J8T),Array.isArray(K8T)&&u8T.setLineDash(K8T),K8T=j8T.getValue("strokeDashoffset",J8T),0<K8T&&(u8T.lineDashOffset=K8T)),D6D(j8T,u8T,t8T,"strokeStyle"),J8T.content?(u8T.font=j8T.fontStyleToString(C8T,u8T),"SVG"===C8T.fontRenderer?(j8T.typeface.setFont(u8T.font),j8T.typeface.strokeText(J8T.content,J8T.x,J8T.y)):u8T.strokeText(J8T.content,J8T.x,J8T.y)):u8T.stroke(),u8T.restore()));S8T.restore();}!Q8T&&N8T&&j8T.debugBBox&&(S8T.save(),S8T.setTransform(1,0,0,1,0,0),l8T.applyTransform(S8T),S8T.strokeStyle="red",S8T.lineWidth=1/l8T.a,S8T.strokeRect(N8T.x1,N8T.y1,N8T.x2-N8T.x1,N8T.y2-N8T.y1),S8T.restore());S8T.restore();b8T.childNodes&&b8T.childNodes.length&&j8T.renderChildNodes(S8T,b8T.childNodes,z8T,Q8T);}}};x7D.getValue=function(W8T,X8T){var d8T=X8T.style[W8T];if("inherit"===d8T){for(;(X8T=X8T.parentNode)&&(d8T=X8T.style[W8T],null==d8T||"inherit"===d8T);){;}}if(null==d8T){X8T=this.vob.style;if(!X8T){return t6D[W8T];}d8T=X8T[W8T];return null==d8T?t6D[W8T]:X8T[W8T];}return d8T;};var t6D={fillRule:"nonzero",fillOpacity:1,fill:"black",strokeWidth:1,strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeDashoffset:0,strokeOpacity:1},C6D={"null":true,undefined:true,transparent:true,none:true};x7D.setPattern=function(G8T,U8T,p8T){G8T.translate(U8T.x||0,U8T.y||0);var e8T=U8T.patternTransform;if(e8T){var F8T=new r6D();F8T.multiply(e8T);F8T.applyTransform(G8T);}G8T[p8T]=U8T.pattern||"transparent";};x7D.setLinearGradient=function(R8T,V8T,w8T){if(R8T){var L8T=this.currentNode,P8T=L8T.bbox;if(P8T){null==V8T.x1&&(V8T.x1=0);null==V8T.y1&&(V8T.y1=0);null==V8T.x2&&(V8T.x2=0);null==V8T.y2&&(V8T.y2=0);var i8T=P8T.x2-P8T.x1,a8T=P8T.y2-P8T.y1;if(i8T&&a8T){d6D(R8T,V8T,i8T,a8T);var v8T;if("objectBoundingBox"===V8T.gradientUnits){0===V8T.x1+V8T.y1+V8T.x2+V8T.y2&&(V8T.x2=1);var x8T=P8T.x1+i8T*V8T.x1,k8T=P8T.y1+a8T*V8T.y1;v8T=P8T.x1+i8T*V8T.x2;P8T=P8T.y1+a8T*V8T.y2;L8T=X6D(L8T.matrix,i8T,a8T);x8T=L8T.point2d(x8T,k8T);v8T=L8T.point2d(v8T,P8T);v8T=R8T.createLinearGradient(x8T.x,x8T.y,v8T.x,v8T.y);}else{v8T=R8T.createLinearGradient(V8T.x1,V8T.y1,V8T.x2,V8T.y2);}U6D(v8T,V8T.stops);R8T[w8T]=v8T;}else{R8T[w8T]="transparent";}}}};x7D.setRadialGradient=function(T2T,A8T,g2T){if(T2T){var n2T=this.currentNode,s2T=n2T.bbox;if(s2T){var O2T=Number.isFinite(A8T.cx)?A8T.cx:.5,c2T=Number.isFinite(A8T.cy)?A8T.cy:.5,M2T=Number.isFinite(A8T.fx)?A8T.fx:.5,o2T=Number.isFinite(A8T.fy)?A8T.fy:.5,I2T=Number.isFinite(A8T.r)?A8T.r:.5,Y8T=s2T.x2-s2T.x1,r2T=s2T.y2-s2T.y1;Y8T&&r2T?(d6D(T2T,A8T,Y8T,r2T),"objectBoundingBox"===A8T.gradientUnits?(M2T=s2T.x1+Y8T*M2T,o2T=s2T.y1+r2T*o2T,O2T=s2T.x1+Y8T*O2T,c2T=s2T.y1+r2T*c2T,n2T=n2T.matrix,I2T=Math.max(0,I2T*Math.max(Y8T/n2T.a,r2T/n2T.d)),Y8T=X6D(n2T,Y8T,r2T),r2T=Y8T.point2d(M2T,o2T),Y8T=Y8T.point2d(O2T,c2T),Y8T=T2T.createRadialGradient(r2T.x,r2T.y,0,Y8T.x,Y8T.y,I2T)):(I2T=Math.max(0,I2T),Y8T=T2T.createRadialGradient(M2T,o2T,0,O2T,c2T,I2T)),U6D(Y8T,A8T.stops),T2T[g2T]=Y8T):T2T[g2T]="transparent";}}};var Z6D=sketch.string.dasherize,Y7D=sketch.SVG.prototype;Y7D.stringify=G6D;Y7D.toString=G6D;Y7D.encodeDefs=function(){var q2T=this;var Z2T=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",u2T=arguments[1],y2T="",j2T;for(j2T in u2T.defs){var h2T=q2T.defs[j2T];if(h2T){var H2T=h2T.type,E2T=H6D[H2T];if(E2T){y2T+=E2T(q2T,h2T,u2T,Z2T);}else{switch(H2T){case"linearGradient":case"radialGradient":y2T+=q2T.stringifyGradient(h2T,Z2T);break;case"pattern":y2T+=q2T.stringifyPattern(h2T,Z2T);break;case"filter":y2T+=Z2T+"<filter"+q2T.encodeAttributes(h2T)+">\n";h2T=h2T.filter;H2T=0;for(E2T=h2T.length;H2T<E2T;H2T++){var J2T=h2T[H2T],y2T=y2T+(Z2T+"\t<fe"+J2T.type+q2T.encodeAttributes(J2T)+"/>\n");}y2T+=Z2T+"</filter>\n";break;default:console.log(H2T);}}}else{console.warn("Node "+j2T+" not defined.");}}return y2T;};Y7D.encodeFontFaces=function(){var S2T="",C2T;for(C2T in Y7D.fonts){var b2T=Y7D.fonts[C2T],S2T=S2T+"@font-face {\n",t2T;for(t2T in b2T){var K2T=b2T[t2T];"string"===typeof K2T&&-1===K2T.indexOf("'")&&(K2T="'"+K2T+"'");S2T+=t2T+": "+K2T+";\n";}S2T+="}\n";}return S2T;};Y7D.encodeChildren=function(z2T,N2T,X2T){var Q2T=this;N2T||(N2T=J6D(this));if(!z2T){return"";}for(var B2T="",W2T=z2T.length,m2T=0;m2T<W2T;m2T++){var f2T=z2T[m2T];if(f2T){var D2T={options:N2T.options,style:Object.assign({},N2T.style),defs:N2T.defs},d2T=f2T.type,l2T=H6D[d2T];l2T?B2T+=l2T(Q2T,f2T,D2T,X2T):(console.warn(d2T+" is unsupported"),B2T+=Q2T.encodeChildren(f2T.childNodes,D2T,X2T+"\t"));}}return B2T;};Y7D.encodeAttributes=function(P2T){var e2T=this;var R2T=1<arguments.length&&void 0!==arguments[1]?arguments[1]:J6D(this),x2T="",V2T;for(V2T in P2T){var U2T=P2T[V2T];if(null!=U2T){switch(V2T){case"attributes":case"element":continue;case"href":case"xlink:href":U2T=s6D(e2T,"xlink:href",U2T);if(U2T.value){var p2T=U2T.value.substr(1);e2T.defs[p2T]&&(R2T.defs[p2T]=true);}break;case"clipPath":U2T=s6D(e2T,"clip-path","url(#"+U2T.id+")");break;case"gradientTransform":case"patternTransform":case"transform":U2T=s6D(e2T,V2T,"matrix("+U2T.a+","+U2T.b+","+U2T.c+","+U2T.d+","+U2T.e+","+U2T.f+")");break;case"style":var p2T=U2T={type:"style"},G2T;G2T=void 0;var v2T=R2T,i2T="",a2T=Object.assign({fill:P2T.fill,stroke:P2T.stroke},P2T.style);for(G2T in a2T){var F2T=a2T[G2T];"fill"===G2T?F2T=p6D(e2T,v2T,G2T,F2T):"stroke"===G2T&&(F2T=p6D(e2T,v2T,G2T,F2T));var L2T;null!=F2T&&v2T.style[G2T]!==F2T?(v2T.style[G2T]=F2T,L2T=true):L2T=void 0;L2T&&(i2T+=Z6D(G2T)+": "+F2T+"; ");}G2T=i2T.trim();p2T.value=G2T;break;case"viewBox":U2T=s6D(e2T,V2T,U2T.join(" "));break;case"_type":U2T=s6D(e2T,"type",U2T);break;default:U2T=s6D(e2T,V2T,U2T);}U2T&&null!=U2T.value&&(x2T+=" "+U2T.type+'="'+U2T.value+'"');}}return x2T;};var w6D={_originalStyle:true,bbox:true,childNodes:true,data:true,matrix:true,parentNode:true,pattern:true,type:true},H6D={};M6D(["svg"],function(w2T,Y2T,A2T,n0T){var k2T=w2T.__attributes,r0T;for(r0T in k2T){var s0T=k2T[r0T];null!=s0T.value&&(A2T.style[Z6D(r0T)]=s0T.value);}k2T="";A2T.options.xmlHeader&&(k2T=k2T+'<?xml version="1.0" encoding="utf-8"?>\n'+("\x3c!-- Generator: SketchAPI "+sketch.version+" <https://api.sketch.io/> --\x3e\n"));k2T=k2T+'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(" xmlns:"+w2T.__namespace+'="'+w2T.__dtd+'"');Y2T.version||(Y2T.version=sketch.version);k2T+=w2T.encodeAttributes(Y2T,A2T);k2T=k2T+">\n\x3c!-- #style --\x3e\n\x3c!-- #defs --\x3e\n"+w2T.encodeChildren(Y2T.childNodes,A2T,""+n0T);return k2T+"</svg>";});M6D(["text"],function(O0T,I0T,g0T,o0T){var c0T;c0T=""+(o0T+"<text "+O0T.encodeAttributes(I0T,g0T)+">");if(I0T.content){c0T+=I0T.content;}else if(I0T=I0T.childNodes){for(var M0T=0,h0T=I0T.length;M0T<h0T;M0T++){var T0T=I0T[M0T],y0T=T0T.content,T0T=O0T.encodeAttributes(T0T,g0T);c0T+=o0T+"\t<tspan "+T0T+">"+y0T+"</tspan>\n";}}return c0T+(o0T+"</text>\n");});M6D("circle ellipse image line path polygon polyline rect use feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence".split(" "),function(H0T,q0T,Z0T,E0T){H0T=""+(E0T+"<"+q0T.type)+H0T.encodeAttributes(q0T,Z0T);return H0T+"/>\n";});M6D(["a","g","filter","clipPath","switch"],function(K0T,u0T,b0T,j0T){var J0T=u0T.type,S0T;S0T=""+(j0T+"<"+J0T+K0T.encodeAttributes(u0T,b0T)+">\n");S0T+=K0T.encodeChildren(u0T.childNodes,b0T,j0T+"\t");return S0T+(j0T+"</"+J0T+">\n");});M6D(["eraser","floodfill","paintbrush","pencil","stamp"],function(t0T,N0T,f0T,B0T){var C0T=t0T.__namespace+":"+N0T.type;t0T=""+(B0T+"<"+C0T)+t0T.encodeAttributes(N0T,f0T);return t0T+("></"+C0T+">\n");});}();void function(){function W0T(p0T){function V0T(v0T,k0T){var L0T=v0T[k0T];if(L0T){var R0T=v0T.svg,i0T=R0T.vob,a0T=v0T.id,x0T=i0T.childNodes[0].matrix;"fill"===k0T?v0T._copyFillToSVG(i0T.style,L0T,R0T,x0T,a0T+"-fill"):v0T._copyStrokeToSVG(i0T.style,L0T,R0T,x0T,a0T+"-stroke");}}var F0T=p0T.asset,G0T=p0T.layer,P0T=sketch.detect,e0T=G0T.bbox;Q0T(e0T,F0T.viewBox);G0T.svg=F0T;G0T.render=function(Y0T){var w0T=G0T.svg;w0T&&w0T.loaded?(P0T.symbol[G0T.type]&&(V0T(G0T,"fill"),V0T(G0T,"stroke")),w0T.drawTo(Y0T,{width:e0T.width,height:e0T.height})):sketch.debug&&console.error("svg not loaded",w0T);};G0T.dirtyHash=true;G0T.env.assetType="svg";return G0T._svgApplyPatch().then(function(){G0T.updateBoundingBox();return G0T;}).catch(function(A0T){console.error(A0T);throw A0T;});}function U0T(I3T){var n3T=I3T.asset,r3T=I3T.layer,T3T=sketch.style,s3T=r3T.bbox;I3T=n3T.nodeName;if("CANVAS"!==I3T&&"IMG"!==I3T){return Promise.reject("loadLayer() Asset must be an IMG or CANVAS'");}Q0T(s3T,[0,0,n3T.width,n3T.height]);r3T.render=function(c3T){var M3T=s3T.width,O3T=s3T.height,o3T=r3T.objectFit;o3T&&"none"!==o3T?sketch.thumbnailer(n3T,{allowCanvasResizing:false,canvas:c3T.canvas,center:true,crop:o3T,width:M3T,height:O3T}):c3T.drawImage(n3T,0,0,M3T,O3T);if(T3T.visible(r3T.fill)||T3T.visible(r3T.stroke)){var o3T=s3T.scale.x,g3T=s3T.scale.y;c3T.save();c3T.beginPath();c3T.rect(0,0,M3T,O3T);c3T.scale(1/o3T,1/g3T);M3T=r3T.stroke;T3T.apply(c3T,r3T,{lineWidth:M3T&&M3T.lineWidth/s3T.scale.x});c3T.restore();}};r3T.dirtyTransform=true;r3T.env.assetType="image";return Promise.resolve(r3T);}function Q0T(h3T,y3T){var H3T=y3T[2]-y3T[0];y3T=y3T[3]-y3T[1];h3T.width||h3T.height?h3T.height?h3T.width||(h3T.width=h3T.height/y3T*H3T):h3T.height=h3T.width/H3T*y3T:(h3T.width=H3T,h3T.height=y3T);h3T.assetWidth=H3T;h3T.assetHeight=y3T;}var z0T=sketch.assets,m0T=sketch.detect,D0T=sketch.feature,d0T=sketch.string,X0T=sketch.Angle,l0T=sketch.Point;(function(q3T){var Z3T=q3T.attributes,E3T=q3T.loader,u3T=q3T.updateSize;sketch.tools.clipart=function(j3T){var J3T=this,S3T=D0T.tools.clipart,t3T=j3T.render,K3T=j3T.scene,b3T=j3T.toolkit,C3T=j3T.viewport;J3T._attributes=Z3T;J3T._enable=function(N3T){j3T.tools.select.searchParam=S3T.searchParam;j3T.tools.select._enable(N3T,{useKeyCommands:false});};J3T.loadLayer=function(f3T){var l3T=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).onProgress,m3T=f3T.src,B3T=f3T.type;if(!m3T||!b3T.exists(B3T)){return Promise.reject("clipart.loadLayer(...) '"+B3T+"' is unavailable");}m0T.symbol[B3T]&&(B3T="svg");return z0T.add(m3T,{type:B3T,referenceId:f3T.id,onProgress:function(Q3T){l3T&&l3T(Q3T.loaded/Q3T.total);}}).then(function(z3T){f3T.tool=b3T.getTool(f3T);return E3T({doc:j3T,asset:z3T,layer:f3T,src:m3T});}).catch(function(D3T){console.error(D3T);throw"clipart.loadLayer(...) \u201c"+d0T.filename(m3T)+"\u201d could not be reached.";});};J3T.onRecord=function(e3T){function a3T(){W3T.resetScaleCache();W3T.env.lastSampleSize=Math.sqrt(d3T.width*d3T.height);t3T.cache.add(W3T);K3T.render();}var v3T=j3T.gesture.getOrCreate(e3T,J3T);if(v3T&&(v3T.pointer&&(v3T=v3T.pointer),!v3T.then)){e3T.START&&(e3T.env.hadSelection=K3T.selection.length,K3T.deselectAll());var P3T=j3T.zoom,U3T=P3T*j3T.scale,i3T=e3T.originalEvent,L3T=new l0T(e3T.start).divide(U3T),X3T=new l0T(e3T).divide(U3T).clone().subtract(L3T),F3T=0>X3T.x?-1:1,G3T=0>X3T.y?-1:1,W3T=v3T.layer,V3T=W3T.type,d3T=W3T.bbox,U3T=2*Math.abs(X3T.x||1),p3T=2*Math.abs(X3T.y||1);U3T/d3T.width>p3T/d3T.height?p3T=U3T/d3T.width*d3T.height:U3T=p3T/d3T.height*d3T.width;e3T.START&&(W3T.dirtyHash=true,W3T.svgPatch||(W3T.svgPatch={}),W3T.svgPatch.now=Date.now(),W3T.env.lastSampleSize=Math.sqrt(U3T*p3T));S3T.units&&(d3T.units=S3T.units);d3T.x=L3T.x-C3T.paddingLeft/P3T;d3T.y=L3T.y-C3T.paddingTop/P3T;d3T.width=U3T;d3T.height=p3T;d3T.scale={x:1,y:1};P3T=b3T.constrainBox(W3T,true);d3T.width=P3T.width;d3T.height=P3T.height;var L3T="objectBoundingBox"===S3T.units,V3T=!m0T.useNonUniform[V3T],V3T=L3T||V3T,R3T="boolean"===typeof e3T.shiftKey?e3T.shiftKey:Keyster.shift;d3T.rotation=R3T||false===V3T?0:X0T.clamp(-Math.atan2(X3T.x,X3T.y));X3T=d3T.scale;if(R3T||false===V3T){if(X3T.x!==F3T||X3T.y!==G3T){P3T.constrained=true,X3T.x=F3T,X3T.y=G3T;}}V3T?L3T?(d3T.x-=X3T.x*d3T.width/2,d3T.y-=X3T.y*d3T.height/2):(F3T=-d3T.width/2*d3T.scale.x,G3T=-d3T.height/2*d3T.scale.y,X3T=d3T.rotation,d3T.x=Math.cos(X3T)*F3T-Math.sin(X3T)*G3T+d3T.x,d3T.y=Math.sin(X3T)*F3T+Math.cos(X3T)*G3T+d3T.y):(d3T.x-=X3T.x*d3T.width/2,d3T.y-=X3T.y*d3T.height/2);F3T=Math.sqrt(d3T.width*d3T.height)/W3T.env.lastSampleSize;d3T.scaleCache={x:F3T,y:F3T};W3T.dirtyTransform=true;W3T.isCreating=!e3T.END;if(e3T.END){if(U3T*p3T<J3T.minWidth*J3T.minHeight){if(!S3T.useAddByClick||e3T.env.hadSelection){j3T.gesture.remove(W3T);return;}X3T=G3T=void 0;5>=U3T&&5>=p3T?(G3T=J3T.defaultWidth,X3T=J3T.defaultHeight):(G3T=J3T.minWidth,X3T=J3T.minHeight);G3T/U3T>X3T/p3T&&(X3T=G3T/U3T*p3T);G3T/U3T<X3T/p3T&&(G3T=X3T/p3T*U3T);d3T.width=G3T;d3T.height=X3T;d3T.x-=(G3T-U3T)/2;d3T.y-=(X3T-p3T)/2;}j3T.emit("clipart:start");j3T.on.once("deselect",function(){return j3T.emit("clipart:end");});}sketch.layerUtils.clampBoundingBox(W3T,j3T.pixelWidth,j3T.pixelHeight);clearTimeout(W3T.timeout);if(e3T.END){return W3T.resetScaleCache(),j3T.gesture.router(e3T,v3T,true).then(function(x3T){x3T.parent&&(i3T&&K3T.select(x3T),t3T.scene());});}(.5>F3T||3<F3T||1!==F3T&&P3T.constrained)&&F3T?a3T():1!==F3T&&(W3T.timeout=setTimeout(a3T,100));}};J3T.updateBoundingBox=u3T;};}({toolId:"clipart",updateSize:function(Y3T){var k3T=Y3T.svg;if(k3T){var w3T=k3T.viewBox;if(k3T=k3T.getBoundingBox({calcStroke:true})){Y3T.env.outerPadding=null,Y3T.env.extraPadding={left:Math.abs(k3T[0]-w3T[0]),right:Math.abs(k3T[1]-w3T[1]),top:Math.abs(k3T[2]-w3T[2]),bottom:Math.abs(k3T[3]-w3T[3])};}}},loader:function(A3T){return"image"===A3T.asset.assetType?U0T.apply(void 0,arguments):W0T.apply(void 0,arguments);},attributes:{objectFit:"string",src:"string",svgPatch:"object"}}));}();void function(){function T5T(o5T,M5T){function g5T(j5T,m5T,N5T,f5T,S5T,b5T,B5T){var K5T=S5T/2,J5T=o5T.pixelRatio,C5T=Math.round(N5T-K5T+(O5T.paddingLeft-h5T.x)*J5T),t5T=Math.round(f5T-K5T+(O5T.paddingTop-h5T.y)*J5T);j5T.beginPath();j5T.globalCompositeOperation="source-over";j5T.fillStyle="rgba(255,255,255,1)";j5T.strokeStyle="rgba(0,0,0,0.7)";j5T.rect(C5T+.5,t5T+.5,S5T,S5T);j5T.fill();j5T.stroke();m5T&&(j5T=o5T.zoom,H5T(B5T,"",(N5T-K5T-b5T)/j5T/J5T,(f5T-K5T-b5T)/j5T/J5T,(S5T+2*b5T)/j5T/J5T,(S5T+2*b5T)/j5T/J5T));}function H5T(l5T,Q5T,z5T,D5T,d5T,X5T){q5T.addControl({id:l5T,title:Q5T,cursor:M5T.getCropCursor(l5T),event:function(){return function(W5T){M5T.cropMode=l5T;M5T.onRecord(W5T);};},bbox:{x:z5T,y:D5T,width:d5T,height:X5T}});}var Z5T=o5T.contexts,u5T=sketch.feature,q5T=o5T.scene,h5T=o5T.scroll,y5T=sketch.util,E5T=sketch.vector,O5T=o5T.viewport,c5T=M5T.cropRegion;M5T.drawController=function(U5T){M5T._drawController();u5T.debugControls&&q5T.debugControls();return true;};M5T._drawController=function(){var F5T=M5T.gevent||GEvent.END(),w5T=o5T.theme.getControls({type:"crop"}).padding,R5T=o5T.pixelRatio,v5T=o5T.zoom,V5T=v5T*R5T,L5T=c5T.x,P5T=c5T.y,i5T=c5T.width,k5T=c5T.height,G5T=Z5T.overlay.ctx,F5T=F5T.END;var e5T=M5T.hasRegion();if(!e5T&&F5T){M5T.resetRegion();}else{G5T.save();var p5T=o5T.pixelRatio,a5T=O5T.width,x5T=O5T.height;G5T.scale(p5T,p5T);G5T.globalCompositeOperation="copy";G5T.fillStyle="rgba(0, 0, 0, 0.75)";G5T.fillRect(0,0,a5T,x5T);F5T&&H5T("crop","",0,0,a5T,x5T);if(e5T){var e5T=o5T.zoom,p5T=c5T.x,a5T=c5T.y,x5T=c5T.width,Y5T=c5T.height;G5T.translate(Math.round(O5T.paddingLeft-h5T.x),Math.round(O5T.paddingTop-h5T.y));G5T.scale(e5T,e5T);G5T.globalCompositeOperation="destination-out";G5T.beginPath();G5T.rect(p5T,a5T,x5T,Y5T);G5T.fillStyle="black";G5T.fill();F5T&&H5T("move","dblclick-to-crop",p5T,a5T,x5T,Y5T);}G5T.restore();}e5T=(O5T.paddingLeft-h5T.x)*R5T;p5T=(O5T.paddingTop-h5T.y)*R5T;G5T.beginPath();G5T.save();G5T.translate(e5T,p5T);G5T.scale(V5T,V5T);G5T.lineWidth=1/v5T;G5T.strokeStyle="rgba(0, 0, 0, 0.25)";G5T.shadowColor="rgba(255, 255, 255, 1)";G5T.shadowOffsetX=1;G5T.shadowOffsetY=1;if(!F5T){e5T=c5T.x;p5T=c5T.y;a5T=c5T.width;x5T=c5T.height;G5T.beginPath();for(Y5T=1;3>Y5T;Y5T++){var r9T=y5T.round(Y5T*a5T/3+e5T,.5,true),A5T=y5T.round(Y5T*x5T/3+p5T,.5,true);G5T.moveTo(r9T,p5T);G5T.lineTo(r9T,p5T+x5T);G5T.moveTo(e5T,A5T);G5T.lineTo(e5T+a5T,A5T);}G5T.stroke();e5T=y5T.round(L5T+i5T/2,.5,true);p5T=y5T.round(P5T+k5T/2,.5,true);G5T.beginPath();G5T.strokeStyle="rgba(255, 255, 255, 0.5)";G5T.shadowColor="rgba(0, 0, 0, 0.25)";E5T.Shape.cross(G5T,e5T,p5T,15/v5T);G5T.stroke();}G5T.restore();v5T=L5T*V5T;L5T=(L5T+i5T)*V5T;i5T=P5T*V5T;V5T*=P5T+k5T;P5T=10*R5T;k5T=26*R5T;R5T*=16;e5T=M5T.config;e5T.constrain||e5T.constrainSides||(Math.abs(v5T-L5T)>k5T&&Math.abs(i5T-V5T)>R5T&&(e5T=Math.round((L5T+v5T)/2),g5T(G5T,F5T,e5T,i5T,P5T,w5T,"n"),g5T(G5T,F5T,e5T,V5T,P5T,w5T,"s")),Math.abs(i5T-V5T)>k5T&&Math.abs(v5T-L5T)>R5T&&(k5T=Math.round((V5T+i5T)/2),g5T(G5T,F5T,v5T,k5T,P5T,w5T,"w"),g5T(G5T,F5T,L5T,k5T,P5T,w5T,"e")));Math.abs(v5T-L5T)>R5T&&Math.abs(i5T-V5T)>R5T&&(g5T(G5T,F5T,v5T,i5T,P5T,w5T,"nw"),g5T(G5T,F5T,v5T,V5T,P5T,w5T,"sw"),g5T(G5T,F5T,L5T,V5T,P5T,w5T,"se"),g5T(G5T,F5T,L5T,i5T,P5T,w5T,"ne"));};}j.initSymbol();j.initSymbol();j.initSymbolIterator();var I5T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(s9T){return typeof s9T;}:function(n9T){j.initSymbol();j.initSymbol();j.initSymbol();return n9T&&"function"===typeof Symbol&&n9T.constructor===Symbol&&n9T!==Symbol.prototype?"symbol":typeof n9T;},s5T=function(){return function(I9T,g9T){if(Array.isArray(I9T)){return I9T;}j.initSymbol();j.initSymbolIterator();if(Symbol.iterator in Object(I9T)){var T9T=[],c9T=true,o9T=false,O9T=void 0;try{j.initSymbol();j.initSymbolIterator();for(var M9T=I9T[Symbol.iterator](),h9T;!(c9T=(h9T=M9T.next()).done)&&(T9T.push(h9T.value),!g9T||T9T.length!==g9T);c9T=true){;}}catch(y9T){o9T=true,O9T=y9T;}finally{try{if(!c9T&&M9T["return"]){M9T["return"]();}}finally{if(o9T){throw O9T;}}}return T9T;}throw new TypeError("Invalid attempt to destructure non-iterable instance");};}();sketch.module.add(function(Z9T){function K9T(){var l9T=q9T.docConfig,Q9T=N9T(),z9T;for(z9T in Q9T){var m9T=Q9T[z9T];if(m9T.width===l9T.width&&m9T.height===l9T.height&&m9T.units===l9T.units&&m9T.dpi===l9T.dpi){return m9T.type;}}return"custom";}function N9T(){var d9T=H9T.param.presetData||f9T(),D9T=d9T.viewport;D9T.units="px";D9T.width=Z9T.viewport.width;D9T.height=Z9T.viewport.height;D9T.dpi=72;B9T(d9T);return d9T;}function B9T(X9T){var U9T=function(){var e9T=global.screen.orientation;if(!e9T){return false;}var G9T=e9T.type;switch(e9T.type){case"portrait-primary":case"portrait-secondary":return 90===G9T||270===G9T;case"landscape-primary":case"landscape-secondary":return 90===G9T||270===G9T;}return false;}(),W9T=global.screen;X9T=X9T.screen;X9T.units="px";X9T.width=U9T?W9T.height:W9T.width;X9T.height=U9T?W9T.width:W9T.height;X9T.dpi=72;}function f9T(){var F9T=H9T.param.preset,p9T=H9T.param.presetData={},V9T;for(V9T in F9T){var P9T=function(i9T){var L9T={type:i9T};if(i9T.includes(",")&&(i9T.split(",").forEach(function(x9T){x9T=x9T.split(":");x9T=s5T(x9T,2);L9T[x9T[0]]=x9T[1];}),L9T.dpi=parseInt(L9T.dpi),L9T.size)){var R9T=L9T.size.split("x"),R9T=s5T(R9T,2),a9T=R9T[1];L9T.width=parseFloat(R9T[0]);L9T.height=parseFloat(a9T);}p9T[i9T]=L9T;},v9T;for(v9T in F9T[V9T]){P9T(v9T);}}return p9T;}var t9T=sketch.convert,J9T=sketch.dom,S9T=sketch.feature,b9T=sketch.lang,q9T=sketch.ui,C9T=sketch.util.forEach,E9T=sketch.lang.translate,u9T=q9T.cropState={};u9T.setConfig=function(){var k9T=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},Y9T=k9T.dpi||k9T.exportDPI,A9T=k9T.width,r1T=k9T.height,k9T=k9T.units,w9T=q9T.docConfig;w9T.param.unit[k9T]&&(w9T.units=k9T);0<=A9T&&(w9T.width=A9T);0<=r1T&&(w9T.height=r1T);0<Y9T&&(w9T.dpi=Y9T);w9T.preset=K9T();};u9T.setConfigToDefaults=function(s1T){u9T.setConfig(s1T.config.json(s1T));};var j9T=q9T.cropInputs={},H9T=q9T.docConfig={controller:{},param:{unit:{"in":"in",mm:"mm",cm:"cm",px:"px"},preset:{device:{screen:"size-of-screen",viewport:"size-of-viewport"},"social-media":{"size:377x197,units:px,dpi:72":"crop-377x197","size:640x640,units:px,dpi:72":"crop-640x640"},"digital-ads":{"size:180x150,units:px,dpi:72":"crop-180x150","size:200x250,units:px,dpi:72":"crop-200x250","size:728x90,units:px,dpi:72":"crop-728x90","size:550x250,units:px,dpi:72":"crop-550x250"},"digital-screens":{"size:640x480,units:px,dpi:72":"crop-640x480","size:800x600,units:px,dpi:72":"crop-800x600","size:1024x768,units:px,dpi:72":"crop-1024x768","size:1280x800,units:px,dpi:72":"crop-1280x800","size:1680x1050,units:px,dpi:72":"crop-1680x1050","size:1920x1200,units:px,dpi:72":"crop-1920x1200"},paper:{"size:2x3,units:in,dpi:300":"crop-2x3","size:3x5,units:in,dpi:300":"crop-3x5","size:4x6,units:in,dpi:300":"crop-4x6","size:5x7,units:in,dpi:300":"crop-5x7","size:8x10,units:in,dpi:300":"crop-8x10","size:8.5x11,units:in,dpi:300":"crop-8.5x11","size:11x14,units:in,dpi:300":"crop-11x14","size:11x17,units:in,dpi:300":"crop-11x17","size:16x20,units:in,dpi:300":"crop-16x20","size:20x30,units:in,dpi:300":"crop-20x30"},apparel:{"size:12x14,units:in,dpi:150":"crop-12x14","size:10x12,units:in,dpi:150":"crop-10x12"},other:{custom:"custom-size"}}},background:S9T.doc.background,dpi:S9T.doc.exportDPI,width:Z9T.width,height:Z9T.height,units:Z9T.units,preset:"viewport"};q9T.createCropDimensions=function(){function O1T(q1T,Z1T){sketch.emit("tooltip:attach",q1T,b9T.translate(Z1T),{stickToEdge:true});}function H1T(E1T){var u1T=Z9T.tools.crop;E1T=J9T.append(E1T,'<span class="icon-flip"></span>',{click:function(){u1T.setRegion({width:H9T.height,height:H9T.width});}});O1T(E1T,"flip-values");}function y1T(t1T){function K1T(){J1T.className=j1T.constrain?"icon-locked":"icon-unlocked";}var j1T=Z9T.toolkit.config.crop,J1T=J9T.append(t1T,'<span class="icon-locked"></span>',{click:function(){var C1T=!j1T.constrain;sketch.config("crop",{constrain:C1T,constrainCorners:C1T,constrainSides:C1T});K1T();Z9T.render.dirtyControls=true;}});O1T(J1T,"constrain-values");K1T();var S1T=Z9T.tools.crop,b1T={onPointerMove:S1T.on("pointermove",function(){return S1T._updateInputs();})};q9T.elements.push({type:"CropPane",destroy:function(){Gesture.bulk(b1T,"detach");}});}function g1T(N1T,B1T){function f1T(m1T){H9T[N1T]=m1T;T1T("presets",K9T());n1T&&n1T({param:N1T,value:m1T,config:H9T});}j9T[N1T]=q9T.Input({parentNode:c1T(N1T),type:B1T,value:H9T[N1T],min:0,max:16384,className:"sk-input",onchange:f1T,oninput:f1T});}function o1T(Q1T){function l1T(z1T,D1T){C9T(D1T,function(d1T,X1T){("undefined"===typeof d1T?false:"object"===I5T(d1T))?l1T(z1T[E9T(X1T)]={},d1T):z1T[X1T]=E9T(d1T);});return z1T;}return l1T({},Q1T);}function c1T(W1T){return M1T.querySelector('[data-input="'+W1T+'"]');}function T1T(U1T,G1T){if(U1T=j9T[U1T]){U1T.setValue?U1T.setValue(G1T):U1T.value=G1T;}}var I1T=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n1T=I1T.onChange,h1T=I1T.showFlip,I1T=I1T.showLock;u9T.setConfigToDefaults(Z9T);var M1T=J9T.create('\n\t\t\t<div class="sk-crop-dimensions divider">\n\t\t\t\t<span data-input="presets"></span>\n\t\t\t\t<div class="row">\n\t\t\t\t\t<span class="column-1">'+E9T("width")+'</span>\n\t\t\t\t\t<span data-input="width"></span>\n\t\t\t\t\t<span data-input="units"></span>\n\t\t\t\t</div>\n\t\t\t\t<span data-input="flip"></span>\n\t\t\t\t<div class="row">\n\t\t\t\t\t<span class="column-1">'+E9T("height")+'</span>\n\t\t\t\t\t<span data-input="height"></span>\n\t\t\t\t\t<span data-input="lock"></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t');g1T("width","number");g1T("height","number");j9T.units=new q9T.SelectMenu({id:"units",tooltip:E9T("choose-units"),parentNode:c1T("units"),selected:H9T.units,options:o1T(H9T.param.unit),onchange:function(e1T){if(H9T.units!==e1T){var p1T=H9T.width,V1T=H9T.height,F1T=t9T.cssUnits.ratio(H9T.units+" to "+e1T);H9T.width=p1T*F1T;H9T.height=V1T*F1T;H9T.units=e1T;T1T("presets",K9T());T1T("width",H9T.width);T1T("height",H9T.height);n1T&&n1T({param:"units",value:e1T,config:H9T});}}});j9T.presets=new q9T.SelectMenu({id:"presets",tooltip:E9T("choose-preset-size"),parentNode:c1T("presets"),cssText:"direction: ltr;",selected:H9T.preset,options:o1T(H9T.param.preset),onchange:function(P1T){if(P1T!==H9T.preset){H9T.preset=P1T;var v1T=N9T()[P1T];v1T.units&&u9T.setConfig(v1T);T1T("units",H9T.units);T1T("width",H9T.width);T1T("height",H9T.height);v1T.units&&n1T&&n1T({param:"preset",value:P1T,config:H9T});}}});h1T&&H1T(c1T("flip"));I1T&&y1T(c1T("lock"));return M1T;};});var n5T=sketch.ui;n5T.CropFooter=function(L1T){return n5T.ContextualFooter({doc:L1T,onStartKey:"crop:start",onEndKey:"crop:end",buttons:[{title:"apply-crop",className:"sk-attention",onclick:function(){L1T.tools.crop.stopTransaction();}}]});};var r5T=sketch.ui;r5T.CropPane=function(R1T){return new r5T.dataTypes.HTML(function(){var i1T=R1T.tools.crop,a1T=r5T.createCropDimensions({onChange:function(k1T){var x1T=k1T.config;k1T=k1T.param;var w1T=i1T._ratio,A1T=x1T.units,Y1T=x1T.width,x1T=x1T.height;i1T.config.constrain&&("width"===k1T?x1T=Y1T*w1T.height/w1T.width:"height"===k1T&&(Y1T=x1T*w1T.width/w1T.height));i1T.setRegion(R1T._parseSizeQuery(Y1T,x1T,A1T));},showFlip:true,showLock:true});(function(){var r4T=a1T.querySelectorAll(".sk-input");Keyster.on(r4T,"enter",function(s4T){s4T.START&&i1T.apply();return false;});}());return a1T;});};sketch.tools.crop=function(I4T){var O4T,o4T,C4T,b4T;function R4T(){var i4T=n4T.gevent;i4T&&i4T.DOWN&&(i4T.START&&GEvent.CHANGE(i4T),n4T.onRecord(n4T.gevent));}function W4T(a4T){var x4T=I4T.zoom;a4T=new T4T(a4T);a4T.x-=E4T.paddingLeft;a4T.y-=E4T.paddingTop;a4T.x/=x4T;a4T.y/=x4T;return a4T;}function L4T(k4T){if(k4T.END){return"reset";}var w4T;w4T="crop"!==n4T.cropMode||k4T.CHANGED?"move"===n4T.cropMode&&k4T.hasMoved()?"X: "+(g4T.x>>0)+" px<br>Y: "+(g4T.y>>0)+" px":"W: "+(g4T.width>>0)+" px<br>H: "+(g4T.height>>0)+" px":X4T("drag-to-create-crop-region");return{point:k4T.asClientXY(),content:w4T};}function l4T(A4T){A4T.prevent();var Y4T=m4T[A4T.command.replace("shift+","")],s7T=Keyster.shift?10:1,r7T=Y4T.x*s7T||0,Y4T=Y4T.y*s7T||0;if(!A4T.END){if(!Number.isFinite(r7T+Y4T)){return console.error(r7T,Y4T),false;}c4T.x+=r7T;c4T.y+=Y4T;M4T.x+=r7T;M4T.y+=Y4T;}M4T.state=A4T.state;K4T(c4T,M4T,A4T);return false;}function z4T(n7T){n7T.START&&n4T.apply();return false;}function v4T(I7T){I7T.START&&(n4T.resetUI(),n4T.emit("escape"));return false;}function P4T(T7T){T7T.START&&(c4T.set(0,0),M4T.set(I4T.pixelWidth,I4T.pixelHeight),K4T(c4T,M4T,T7T));return false;}function N4T(){var o7T,c7T=0<arguments.length&&void 0!==arguments[0]?arguments[0]:g4T,M7T=c7T.x,O7T=c7T.y,g7T=c7T.width,h7T=c7T.height;if(!Number.isFinite(M7T+O7T+g7T+h7T)){throw Error("Provided rectangle is invalid.");}o7T=new T4T(M7T,O7T);M7T=new T4T(M7T+g7T,O7T+h7T);T4T.exists(o7T)&&T4T.exists(M7T)&&!T4T.equals(o7T,M7T)?(o7T=Math.round(c7T.x),M7T=Math.round(c7T.y),O7T=Math.round(c7T.width),c7T=Math.round(c7T.height),0===o7T&&0===M7T&&I4T.width===O7T&&I4T.height===c7T?n4T.resetUI():(g7T=h4T.copy(n4T.metricsPrior),h7T={x:-o7T,y:-M7T},I4T.setOrientation({width:O7T,height:c7T}),B4T(-o7T,-M7T),f4T(g7T,h7T,{x:o7T,y:M7T,width:O7T,height:c7T}),n4T.emit("apply"),n4T.resetRegion(),S4T())):n4T.resetUI();}function B4T(y7T,H7T){J4T.filter().transform({x:y7T,y:H7T});n4T.metricsCurrent.x+=y7T;n4T.metricsCurrent.y+=H7T;}function q4T(){var q7T=0<arguments.length&&void 0!==arguments[0]?arguments[0]:GEvent.END();g4T.x=Math.round(Math.min(c4T.x,M4T.x));g4T.y=Math.round(Math.min(c4T.y,M4T.y));g4T.width=Math.round(Math.abs(M4T.x-c4T.x));g4T.height=Math.round(Math.abs(M4T.y-c4T.y));g4T.width&&g4T.height?I4T.emit("crop:start",q7T):I4T.emit("crop:end",q7T);}function K4T(K7T,S7T,Z7T){var J7T=Z7T.env,j7T=Z7T.originalEvent;Z7T.START&&(J7T.originalMetrics=I4T.getOrientation(),J7T.originalMetrics.start=h4T.copy(c4T),J7T.originalMetrics.end=h4T.copy(M4T),O4T=S7T.x-c4T.x,o4T=S7T.y-c4T.y,C4T=j4T.x,b4T=j4T.y,n4T.gevent=Z7T,n4T.cropMode||(n4T.cropMode="crop"));y4T(n4T.cropMode);Q4T.apply(void 0,arguments);c4T.set(K7T);M4T.set(S7T);n4T._drawController();Z7T.CHANGE&&(q4T(Z7T),n4T.emit("pointermove",j7T));if(Z7T.END){var u7T=c4T,E7T=M4T;if(J7T=Z7T.env.originalMetrics){j7T=I4T.getOrientation(),j7T.start=h4T.copy(u7T),j7T.end=h4T.copy(E7T),E7T=void 0,(u7T=I4T.history.getLastCmd())&&"crop-draw"===u7T.cmd&&(u7T=u7T.data.after,E7T=T4T.distance(u7T.start,u7T.end)),(E7T=!E7T&&!T4T.distance(c4T,M4T))||(E7T=j7T,E7T=JSON.stringify(u7T)===JSON.stringify(E7T)),E7T||I4T.history.store("crop-draw",{name:"crop-draw",data:h4T.copy({after:j7T,before:J7T})},{autoSave:false});}0===T4T.distance(c4T,M4T)?(n4T.resetRegion(),n4T.emit("reset")):q4T(Z7T);n4T.emit("pointerend",Z7T);y4T(n4T.cropMode="");}}function Q4T(t7T,b7T){function X7T(U7T,W7T){d7T(U7T,W7T);var G7T=W7T.x-U7T.x||1,e7T=W7T.y-U7T.y||1,F7T=new T4T(H4T.height/H4T.width||1,H4T.width/H4T.height||1);e4T[n4T.cropMode]||!p4T[n4T.cropMode]&&Math.abs(G7T)*F7T.x>Math.abs(e7T)?W7T.y=U7T.y+e7T/Math.abs(e7T)*Math.abs(G7T)*F7T.x:W7T.x=U7T.x+G7T/Math.abs(G7T)*Math.abs(e7T)*F7T.y;var G7T=0>W7T.y-0,e7T=W7T.y-0>z7T,p7T=(0-Math.max(U7T.y,W7T.y))*F7T.y,V7T=(z7T-Math.min(U7T.y,W7T.y))*F7T.y;W7T.x>U7T.x?G7T?W7T.x=U7T.x-p7T:e7T&&(W7T.x=U7T.x+V7T):G7T?W7T.x=U7T.x+p7T:e7T&&(W7T.x=U7T.x-V7T);G7T=0>W7T.x-0;e7T=W7T.x-0>D7T;p7T=(0-Math.max(U7T.x,W7T.x))*F7T.x;F7T=(D7T-Math.min(U7T.x,W7T.x))*F7T.x;W7T.y>U7T.y?G7T?W7T.y=U7T.y-p7T:e7T&&(W7T.y=U7T.y+F7T):G7T?W7T.y=U7T.y+p7T:e7T&&(W7T.y=U7T.y-F7T);}function d7T(){var P7T=0<arguments.length&&void 0!==arguments[0]?arguments[0]:c4T,v7T=1<arguments.length&&void 0!==arguments[1]?arguments[1]:M4T;P7T.x=h4T.clamp(P7T.x,0,I4T.pixelWidth);P7T.y=h4T.clamp(P7T.y,0,I4T.pixelHeight);v7T.x=h4T.clamp(v7T.x,0,I4T.pixelWidth);v7T.y=h4T.clamp(v7T.y,0,I4T.pixelHeight);}var Q7T=2<arguments.length&&void 0!==arguments[2]?arguments[2]:GEvent.END(),f7T=Q7T.env.originalMetrics;if(f7T){var N7T=f7T.start,C7T=f7T.end,m7T=f7T=0;Q7T&&(f7T=j4T.x,m7T=j4T.y);var D7T=I4T.pixelWidth,z7T=I4T.pixelHeight,B7T=I4T.zoom,f7T=(f7T-C4T)/B7T,m7T=(m7T-b4T)/B7T,B7T=C7T.x-N7T.x,l7T=C7T.y-N7T.y;"move"!==n4T.cropMode&&(B7T+=f7T,l7T+=m7T);if(Number.isFinite(B7T+l7T)){switch(n4T.cropMode){case"n":t7T.x=N7T.x;t7T.y=C7T.y;b7T.x=C7T.x;b7T.y-=o4T;t7T.y<b7T.y&&(N7T.y=C7T.y,o4T=O4T=0,y4T("s"));break;case"ne":t7T.x=N7T.x;t7T.y=C7T.y;b7T.x=b7T.x-O4T+B7T;b7T.y-=o4T;t7T.y<b7T.y?(N7T.y=C7T.y,C7T.x-=B7T,o4T=O4T=0,y4T("se")):t7T.x>b7T.x&&(C7T.x=N7T.x,o4T=O4T=0,y4T("nw"));break;case"e":t7T.x=N7T.x;t7T.y=N7T.y;b7T.x=Math.min(D7T,b7T.x-O4T+B7T);b7T.y=C7T.y;t7T.x>b7T.x&&(C7T.x=N7T.x,o4T=O4T=0,y4T("w"));break;case"se":t7T.x=N7T.x;t7T.y=N7T.y;b7T.x=Math.min(D7T,b7T.x-O4T+B7T);b7T.y=Math.min(z7T,b7T.y-o4T+l7T);t7T.x>b7T.x&&t7T.y>b7T.y?y4T("nw"):t7T.y>b7T.y?(C7T.y=N7T.y,C7T.x-=B7T,o4T=O4T=0,y4T("ne")):t7T.x>b7T.x?(C7T.x=N7T.x,C7T.y-=l7T,o4T=O4T=0,y4T("sw")):y4T("se");break;case"s":t7T.x=N7T.x;t7T.y=N7T.y;b7T.x=C7T.x;b7T.y=Math.min(z7T,b7T.y-o4T+l7T);t7T.y>b7T.y&&(C7T.y=N7T.y,o4T=O4T=0,y4T("n"));break;case"sw":t7T.x=C7T.x;t7T.y=N7T.y;b7T.x=Math.max(0,b7T.x-O4T+f7T);b7T.y=Math.min(z7T,b7T.y-o4T+l7T);t7T.y>b7T.y?(C7T.y=N7T.y,o4T=O4T=0,y4T("nw")):t7T.x<b7T.x&&(N7T.x=C7T.x,C7T.y-=l7T,o4T=O4T=0,y4T("se"));break;case"w":t7T.x=C7T.x;t7T.y=N7T.y;b7T.x=Math.max(0,b7T.x-O4T+f7T);b7T.y=C7T.y;t7T.x<b7T.x&&(N7T.x=C7T.x,o4T=O4T=0,y4T("e"));break;case"nw":t7T.x=C7T.x;t7T.y=C7T.y;b7T.x=Math.max(0,b7T.x-O4T+f7T);b7T.y=Math.max(0,b7T.y-o4T+m7T);t7T.y<b7T.y?(N7T.y=C7T.y,o4T=O4T=0,y4T("sw")):t7T.x<b7T.x&&(N7T.x=C7T.x,o4T=O4T=0,y4T("ne"));break;case"move":C7T=Math.max(0,b7T.x-O4T);N7T=Math.max(0,b7T.y-o4T);C7T=C7T-Math.max(0,C7T+B7T-D7T)+0;N7T=N7T-Math.max(0,N7T+l7T-z7T)+0;t7T.x=C7T+f7T;t7T.y=N7T+m7T;b7T.x=B7T+C7T+f7T;b7T.y=l7T+N7T+m7T;break;default:b7T.x+=f7T,b7T.y+=m7T;}f7T=n4T.config.constrainSides&&F4T[n4T.cropMode];N7T=n4T.config.constrainCorners&&U4T[n4T.cropMode];m7T=n4T.config.constrainShift&&Keyster.shift;n4T.config.constrain&&"crop"===n4T.cropMode||f7T||N7T||m7T?!T4T.equals(t7T,b7T)&&Q7T&&X7T(t7T,b7T):(Q7T=Math.abs(b7T.x-t7T.x),f7T=Math.abs(b7T.y-t7T.y),Q7T&&f7T&&(H4T.width=Q7T,H4T.height=f7T));V4T(t7T,b7T);d7T(t7T,b7T);}else{console.error(t7T,b7T,Q7T);}}}function V4T(L7T,R7T){R7T.x<L7T.x&&(L7T.x^=R7T.x,R7T.x^=L7T.x,L7T.x^=R7T.x);R7T.y<L7T.y&&(L7T.y^=R7T.y,R7T.y^=L7T.y,L7T.y^=R7T.y);}function y4T(i7T){I4T.$inputPointer.style.cursor=n4T.getCropCursor(i7T);}function d4T(){H4T.width=I4T.pixelWidth;H4T.height=I4T.pixelHeight;n4T.metricsOriginal=Z4T({x:0,y:0});n4T.metricsPrior=Z4T({x:0,y:0});n4T.metricsCurrent=Z4T({x:0,y:0});}function Z4T(a7T){return Object.assign(a7T,I4T.getOrientation());}function S4T(){Z4T(n4T.metricsPrior);n4T._updateInputs();}function f4T(k7T,x7T,w7T){Z4T(x7T);if(k7T.x!==-x7T.x||k7T.y!==-x7T.y||k7T.width!==x7T.width||k7T.height!==x7T.height||k7T.units!==x7T.units){k7T.x=-x7T.x,k7T.y=-x7T.y,I4T.history.store("crop",{name:"crop",data:h4T.copy({after:x7T,before:k7T,rect:w7T})});}}var n4T=this,u4T=sketch.ui,h4T=sketch.util,J4T=I4T.scene,j4T=I4T.scroll,E4T=I4T.viewport,t4T=sketch.convert.cssUnits,X4T=sketch.lang.translate,T4T=sketch.Point,U4T=h4T.arrayToLookup(["nw","ne","se","sw"]),G4T=h4T.arrayToLookup("nw ne se sw n s e w".split(" ")),e4T=h4T.arrayToLookup(["e","w"]),F4T=h4T.arrayToLookup(["n","s","e","w"]),p4T=h4T.arrayToLookup(["n","s"]),H4T=n4T._ratio={width:377,height:197};b4T=C4T=o4T=O4T=0;var M4T=n4T.endPoint=new T4T(),c4T=n4T.startPoint=new T4T(),g4T=n4T.cropRegion={x:0,y:0,width:0,height:0,units:"px"};n4T.useCompactHistory=true;I4T.on("open",d4T);T5T(I4T,n4T);n4T._enable=function(Y7T){I4T.tools.select.searchParam={selected:true};I4T.tools.select._enable(Y7T,{useKeyCommands:false});Y7T.scroll=I4T.on("scroll",R4T);Y7T.arrow=Keyster.on(["left","right","up","down"],l4T);Y7T.enter=Keyster.on("enter",z4T);Y7T.escape=Keyster.on("escape",v4T);Y7T.metaA=Keyster.on("meta+a",P4T);Y7T.metaK=Keyster.on("meta+k",z4T);Y7T.shiftArrow=Keyster.on(["shift+left","shift+right","shift+up","shift+down"],l4T);Y7T.redo=I4T.on("redo",S4T);Y7T.undo=I4T.on("undo",S4T);Y7T.resize=I4T.on("resize",S4T);Y7T.hide=D4T;d4T();H4T.width=I4T.width;H4T.height=I4T.height;};var D4T={detach:function(){f4T(n4T.metricsOriginal,n4T.metricsCurrent);n4T.resetRegion();}};n4T.onRecord=function(r6T){var s6T=W4T(r6T.start),A7T=W4T(r6T);r6T.isDblClick()&&A7T.x>=c4T.x&&A7T.x<=M4T.x&&A7T.y>=c4T.y&&A7T.y<=M4T.y?n4T.apply():(K4T(s6T,A7T,r6T),J4T.drawCursorTip(L4T(r6T)));};var m4T={down:new T4T(0,1),up:new T4T(0,-1),left:new T4T(-1,0),right:new T4T(1,0)};n4T.apply=N4T;n4T.stopTransaction=N4T;n4T.setRegion=function(n6T,o6T){var T6T=n6T.x,c6T=n6T.y,I6T=n6T.width,M6T=n6T.height;n6T=n6T.units;n6T=t4T.ratio(void 0===n6T?'px to px':n6T+" to px");I6T*=n6T;M6T*=n6T;Number.isFinite(T6T+c6T+I6T+M6T)?(c4T.set(T6T,c6T),M4T.set(T6T+I6T,c6T+M6T),q4T(o6T)):Number.isFinite(I6T+M6T)&&(T6T=new T4T(g4T.width,g4T.height),c6T=new T4T(I6T,M6T),I6T=new T4T(I4T.pixelWidth,I4T.pixelHeight),M6T=new T4T(E4T.width,E4T.height),n6T=new T4T(c6T),T6T.equals(new T4T())?n6T.subtract(new T4T(I6T).min(M6T)):n6T.subtract(new T4T(I6T).min(T6T)),c4T.subtract(n6T.divide(2)),c4T.max(0),T6T=new T4T(c4T).add(c6T),c4T.add(new T4T(I6T).subtract(T6T).min(0)).max(0),M4T.set(c4T).add(c6T),q4T(o6T));n4T.cropMode="crop";Q4T(c4T,M4T,o6T);n4T._drawController();n4T._updateInputs();};n4T.resetRegion=function(){J4T.clearOverlayCanvas();c4T.set(new T4T());M4T.set(new T4T());n4T.gevent=null;n4T.cropMode=null;q4T();};n4T.hasRegion=function(){return g4T.width&&g4T.height;};n4T.resetUI=function(){n4T.resetRegion();J4T.drawCursorTip("reset");};n4T.getCropCursor=function(O6T){return G4T[O6T]?O6T+"-resize":"default";};n4T._updateInputs=function(){var g6T=u4T.docConfig;if(g6T){var H6T=g4T.width||I4T.width,q6T=g4T.height||I4T.height,Z6T=g6T.units,y6T=t4T.ratio("px to "+Z6T),H6T=H6T*y6T,q6T=q6T*y6T;g6T.width=H6T;g6T.height=q6T;var h6T=u4T.cropInputs,g6T=h6T.width,y6T=h6T.height,E6T=h6T.presets,h6T=h6T.units;g6T&&y6T&&h6T&&E6T&&(u4T.cropState.setConfig(),g6T.value=H6T,y6T.value=q6T,h6T.setValue(Z6T,{quiet:true}),E6T.setValue(u4T.docConfig.preset,{quiet:true}));}};I4T.history.register("crop",{apply:function(j6T){var u6T=j6T.data,J6T=(j6T=j6T.undo)?u6T.before:u6T.after;B4T(J6T.x,J6T.y);I4T.setOrientation(J6T);(u6T=u6T.rect)&&j6T?n4T.setRegion(u6T):n4T.resetRegion();n4T.emit("apply-history");}});I4T.history.register("crop-draw",{apply:function(S6T){var K6T=S6T.data;S6T=S6T.undo?K6T.before:K6T.after;var K6T=S6T.start,b6T=S6T.end;I4T.setOrientation(S6T);c4T.set(K6T);M4T.set(b6T);q4T();n4T._drawController();}});};}();void function(){sketch.tools.eyedropper=function(C6T){function N6T(){return B6T().then(N6T);}function f6T(Q6T){sketch.keyboard.enable(C6T,Q6T);sketch.palette&&(Q6T.onPaletteChange=sketch.palette.on("change",C6T.configSelection));Q6T.onCursor=Gesture.drag(C6T.$inputPointer,l6T,{monitor:true,fingers:1});}function l6T(z6T){var D6T=m6T.findPixel(z6T.originalEvent);z6T.HOVER?t6T.emit("hover",D6T,z6T.state,z6T):z6T.END&&t6T.emit("select",D6T);}function B6T(){return new Promise(function(U6T,e6T,G6T){function d6T(F6T,V6T,P6T){var p6T=sketch.ui.colorpicker;p6T&&p6T.update&&(F6T=sketch.color.space(F6T,"RGB>HSV"),sketch.ui.colorpicker.update(F6T,V6T,P6T));}function X6T(v6T){W6T();d6T(v6T,"end",GEvent.END());U6T();}function W6T(){sketch.emit("cursor:show","default");t6T.off("hover",d6T);t6T.off("select",X6T);}sketch.emit("cursor:show","crosshair");t6T.on("hover",d6T);t6T.on("select",X6T);G6T(W6T);});}var t6T=Galactic.emitter(this),m6T=C6T.scene;t6T._enable=function(L6T){f6T(L6T);L6T.listen={};L6T.listen.remove=N6T().cancel;};t6T.choose=function(){var R6T=C6T.tool;R6T.detach();var i6T={};f6T(i6T);return B6T().then(function(){Gesture.bulk(i6T,"detach");R6T.attach();});};};}();void function(){function x6T(k6T){this.src=k6T.src;this.srcRect=k6T.srcRect||{x:0,y:0,width:this.src.canvas.width,height:this.src.canvas.height};this.dst=k6T.dst;this.dstRect=k6T.dstRect||{x:0,y:0};this.width=Math.ceil(this.srcRect.width||0);this.height=Math.ceil(this.srcRect.height||0);this.stride=4*this.width;this.contiguous=false!==k6T.contiguous;this.setTolerance(k6T.tolerance||0);}var a6T=x6T.prototype;a6T.setTolerance=function(w6T){Number.isFinite(w6T)?this.tolerance=[255*w6T,255*w6T,255*w6T,255*w6T]:Array.isArray(w6T)?this.tolerance=[255*w6T[0],255*w6T[1],255*w6T[2],255*w6T[3]]:sketch.debug&&console.error("'tolerance' must be an Array or Number");};a6T.render=function(Y6T){if(Number.isFinite(Y6T.x+Y6T.y)){var n8K=this.dstRect,A6T=this.srcRect,s8K=Math.round(Y6T.x);Y6T=Math.round(Y6T.y);if(!Number.isFinite(s8K)||0>s8K||s8K>=A6T.width||!Number.isFinite(Y6T)||0>Y6T||Y6T>=A6T.height){sketch.debug&&console.error("QLFloodFill(...) Point is out of bounds.",s8K,Y6T,A6T);}else{var r8K=this.stride*Y6T+4*s8K;sketch.agent.chrome64DrawImageBug&&!this.srcData&&(this.src=sketch.Context2D.copy(this.src));this.srcData||(this.srcData=this.src.getImageData(A6T.x,A6T.y,A6T.width,A6T.height));this.srcBits=this.srcData.data;this.dstData||(this.dstData=this.dst.createImageData(A6T.width,A6T.height));this.dstBits=this.dstData.data;this.rMin=this.srcBits[r8K]-this.tolerance[0];this.gMin=this.srcBits[r8K+1]-this.tolerance[1];this.bMin=this.srcBits[r8K+2]-this.tolerance[2];this.aMin=this.srcBits[r8K+3]-this.tolerance[3];this.rMax=this.srcBits[r8K]+this.tolerance[0];this.gMax=this.srcBits[r8K+1]+this.tolerance[1];this.bMax=this.srcBits[r8K+2]+this.tolerance[2];this.aMax=this.srcBits[r8K+3]+this.tolerance[3];this.rangeArray=[];this.rangeSize=this.rangeID=0;this.xMin=Infinity;this.xMax=-Infinity;this.yMin=Infinity;this.yMax=-Infinity;this.contiguous?this.checkContiguous(s8K,Y6T):this.checkAllPixels();this.dst.putImageData(this.dstData,n8K.x,n8K.y);return this.rect={x:this.xMin,y:this.yMin,width:this.xMax+1-this.xMin,height:this.yMax+1-this.yMin};}}else{sketch.debug&&console.error("QLFloodFill: point is not valid.");}};a6T.checkAllPixels=function(){var c8K=this;for(var j8K=this.dstBits,T8K=this.srcBits,O8K=this.stride,J8K=this.aMax,g8K=this.aMin,h8K=this.bMax,y8K=this.bMin,H8K=this.gMax,q8K=this.gMin,Z8K=this.rMax,E8K=this.rMin,u8K=T8K.length,I8K=0;I8K<u8K;I8K+=4){if(T8K[I8K]>=E8K&&T8K[I8K]<=Z8K&&T8K[I8K+1]>=q8K&&T8K[I8K+1]<=H8K&&T8K[I8K+2]>=y8K&&T8K[I8K+2]<=h8K&&T8K[I8K+3]>=g8K&&T8K[I8K+3]<=J8K){var o8K=I8K%O8K/4,M8K=I8K/O8K>>0;c8K.xMin>o8K&&(c8K.xMin=o8K);c8K.xMax<o8K&&(c8K.xMax=o8K);c8K.yMin>M8K&&(c8K.yMin=M8K);c8K.yMax<M8K&&(c8K.yMax=M8K);j8K[I8K+3]=255;}}};a6T.checkContiguous=function(C8K,N8K){var b8K=this;var K8K=this.srcBits,W8K=this.checked=this.dst.createImageData(Math.ceil(this.width*this.height/4),1).data,U8K=this.stride,B8K=this.aMax,m8K=this.aMin,l8K=this.bMax,Q8K=this.bMin,z8K=this.gMax,D8K=this.gMin,d8K=this.rMax,X8K=this.rMin;for(this.linearFill(C8K,N8K);0<this.rangeSize;){b8K.range=b8K.rangeArray[b8K.rangeID];b8K.rangeID++;b8K.rangeSize--;var S8K=b8K.range.xStart;C8K=b8K.range.y;N8K=C8K-1;for(var f8K=C8K+1,G8K=S8K+this.width*N8K,e8K=S8K+this.width*f8K,F8K=this.range.xEnd,t8K=S8K;t8K<=F8K;t8K++){S8K=4*t8K+U8K*N8K,0<C8K&&!W8K[G8K]&&K8K[S8K+0]>=X8K&&K8K[S8K+0]<=d8K&&K8K[S8K+1]>=D8K&&K8K[S8K+1]<=z8K&&K8K[S8K+2]>=Q8K&&K8K[S8K+2]<=l8K&&K8K[S8K+3]>=m8K&&K8K[S8K+3]<=B8K&&b8K.linearFill(t8K,N8K),S8K=U8K*f8K+4*t8K,C8K<b8K.height-1&&!W8K[e8K]&&K8K[S8K+0]>=X8K&&K8K[S8K+0]<=d8K&&K8K[S8K+1]>=D8K&&K8K[S8K+1]<=z8K&&K8K[S8K+2]>=Q8K&&K8K[S8K+2]<=l8K&&K8K[S8K+3]>=m8K&&K8K[S8K+3]<=B8K&&b8K.linearFill(t8K,f8K),e8K++,G8K++;}}};a6T.linearFill=function(R8K,P8K){for(var V8K=this.srcBits,s2K=this.dstBits,n2K=this.checked,I2K=this.aMax,a8K=this.aMin,x8K=this.bMax,k8K=this.bMin,w8K=this.gMax,Y8K=this.gMin,A8K=this.rMax,r2K=this.rMin,i8K=R8K,p8K=this.stride*P8K+4*R8K,v8K=this.width*P8K+R8K;!(n2K[v8K]=1,s2K[p8K+3]=255,v8K--,p8K-=4,i8K--,0>i8K||V8K[p8K]<r2K||V8K[p8K]>A8K||V8K[p8K+1]<Y8K||V8K[p8K+1]>w8K||V8K[p8K+2]<k8K||V8K[p8K+2]>x8K||V8K[p8K+3]<a8K||V8K[p8K+3]>I2K);){;}for(var L8K=R8K,p8K=this.stride*P8K+4*R8K,v8K=this.width*P8K+R8K;!(n2K[v8K]=1,s2K[p8K+3]=255,v8K++,p8K+=4,L8K++,L8K>=this.width||V8K[p8K]<r2K||V8K[p8K]>A8K||V8K[p8K+1]<Y8K||V8K[p8K+1]>w8K||V8K[p8K+2]<k8K||V8K[p8K+2]>x8K||V8K[p8K+3]<a8K||V8K[p8K+3]>I2K);){;}this.rangeSize+this.rangeID===this.rangeArray.length&&(this.rangeArray.splice(0,this.rangeID),this.rangeID=0);this.rangeArray[this.rangeID+this.rangeSize]={xStart:++i8K,xEnd:--L8K,y:P8K};this.xMin>i8K&&(this.xMin=i8K);this.xMax<L8K&&(this.xMax=L8K);this.yMin>P8K&&(this.yMin=P8K);this.yMax<P8K&&(this.yMax=P8K);this.rangeSize++;};sketch.canvasUtils.QLFloodFill=x6T;}();void function(){function c2K(){}var T2K=c2K.prototype;T2K.NONE=0;T2K.UP=1;T2K.LEFT=2;T2K.DOWN=3;T2K.RIGHT=4;T2K.getOutlines=function(M2K,H2K){var o2K=this;var h2K=M2K.width+2,q2K=M2K.height+2;M2K=M2K.getContext("2d");this.check=M2K.createImageData(Math.ceil(h2K*q2K/4),1).data;this.sourceData=H2K||(H2K=M2K.getImageData(-1,-1,h2K,q2K));this.search=255;M2K=[];H2K=H2K.data;for(var O2K=0;O2K<h2K;O2K++){for(var g2K=0;g2K<q2K;g2K++){var y2K=H2K[4*(g2K*h2K+O2K)+3];if(255===o2K.search){if(255!==y2K){continue;}if(o2K.check[O2K+g2K*h2K]){continue;}y2K=o2K.walkPerimeter(O2K,g2K);o2K.search=0;}else{if(0!==y2K){continue;}if(o2K.check[O2K+g2K*h2K]){continue;}y2K=o2K.walkPerimeter(O2K,g2K);o2K.search=255;}2<y2K.length&&M2K.push(y2K);}}return M2K;};T2K.walkPerimeter=function(t2K,N2K){var u2K=this;this.nextStep=null;var J2K=[],E2K=t2K,Z2K=N2K,b2K=this.check,j2K=this.sourceData,C2K=j2K.data,S2K=j2K.width,j2K=j2K.height,K2K;do{switch(K2K=4*(Z2K*S2K+E2K),u2K.step(K2K,C2K,4*S2K),-1<E2K&&E2K<S2K&&-1<Z2K&&Z2K<j2K&&(J2K.push({x:E2K,y:Z2K}),b2K[K2K/4]=1),u2K.nextStep){case u2K.UP:Z2K--;break;case u2K.LEFT:E2K--;break;case u2K.DOWN:Z2K++;break;case u2K.RIGHT:E2K++;}}while(E2K!==t2K||Z2K!==N2K);J2K.push({x:E2K,y:Z2K});b2K[(K2K+4)/4]=1;return J2K;};T2K.step=function(f2K,B2K,m2K){this.upLeft=32<B2K[f2K+3];this.upRight=32<B2K[f2K+7];this.downLeft=32<B2K[f2K+m2K+3];this.downRight=32<B2K[f2K+m2K+7];this.previousStep=this.nextStep;this.state=0;this.upLeft&&(this.state|=1);this.upRight&&(this.state|=2);this.downLeft&&(this.state|=4);this.downRight&&(this.state|=8);switch(this.state){case 1:this.nextStep=this.UP;break;case 2:this.nextStep=this.RIGHT;break;case 3:this.nextStep=this.RIGHT;break;case 4:this.nextStep=this.LEFT;break;case 5:this.nextStep=this.UP;break;case 6:this.nextStep=this.previousStep===this.UP?this.LEFT:this.RIGHT;break;case 7:this.nextStep=this.RIGHT;break;case 8:this.nextStep=this.DOWN;break;case 9:this.nextStep=this.previousStep===this.RIGHT?this.UP:this.DOWN;break;case 10:this.nextStep=this.DOWN;break;case 11:this.nextStep=this.DOWN;break;case 12:this.nextStep=this.LEFT;break;case 13:this.nextStep=this.UP;break;case 14:this.nextStep=this.LEFT;break;default:this.nextStep=this.NONE;}};sketch.canvasUtils.MarchingSquares=c2K;}();void function(){var l2K=sketch.canvasUtils,Q2K=sketch.Canvas2D,z2K=l2K.QLFloodFill;l2K.floodfill=function(L2K,e2K){var W2K=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},F2K=W2K.env||{},G2K=W2K.dstCanvas||Q2K(),P2K=!!W2K.contiguous,W2K=W2K.tolerance||0,p2K=e2K.width,V2K=e2K.height;Q2K.resizeOrClear(G2K,p2K,V2K);var U2K=F2K._floodfill,v2K;v2K=U2K?e2K!==U2K.src.canvas?false:G2K!==U2K.dst.canvas?false:true:false;v2K?U2K.dstData=null:U2K=F2K._floodfill=new z2K({contiguous:P2K,tolerance:W2K/100,dst:G2K.ctx,src:e2K.ctx,srcRect:{x:0,y:0,width:p2K,height:V2K}});U2K.render(L2K);return U2K;};var D2K=sketch.canvasUtils.MarchingSquares,d2K=global.simplify2.douglasPeucker,X2K=sketch.vector.roundPath;l2K.toOutlines=function(w2K,Y2K){var i2K,x2K=(i2K=new D2K()).getOutlines.apply(i2K,arguments);i2K=[];for(var k2K=x2K.length,a2K=0;a2K<k2K;a2K++){var R2K=x2K[a2K],R2K=d2K(R2K,.5),R2K=X2K(R2K);i2K.push(R2K);}return i2K;};sketch.module.add(function(A2K){var s0K=A2K.scene,n0K=sketch.Point,r0K=sketch.Context2D;A2K.createFloodfill=function(T0K){function o0K(h0K){var g0K=A2K.pixelRatio,y0K=new n0K(T0K.origin).multiply(g0K),g0K=r0K.tempCheckout();h0K=l2K.floodfill(y0K,h0K,{env:c0K,dstCanvas:g0K.canvas,contiguous:T0K.contiguous,tolerance:T0K.tolerance});r0K.tempRecycle(g0K);return h0K;}var I0K=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c0K=T0K.tx||T0K.env;if(c0K._cachedFloodfill){return Promise.resolve(o0K(c0K._cachedFloodfill));}var M0K=I0K.clipToSelection,I0K=I0K.layers;if(!I0K){var O0K=T0K.idx-1,I0K=s0K.filter(function(H0K){return H0K.findable&&H0K.idx<=O0K;}).layers(),M0K=false;}return sketch.save.canvas({doc:A2K,layers:I0K,clipToSelection:M0K}).then(function(q0K){c0K._cachedFloodfill=q0K;return o0K(q0K);});};});}();void function(){sketch.tools.floodfill=function(Z0K){function Q0K(){var e0K=j0K.transaction;e0K&&b0K.remove(e0K.layer);return false;}function G0K(F0K){if(u0K.inPaintApplicatorMode&&(F0K.START||F0K.HOVER)){j0K.record(F0K);}else if(!F0K.HOVER){var V0K=Z0K.gesture.getOrCreate(F0K,u0K);if(V0K&&(V0K.pointer&&(V0K=V0K.pointer),!V0K.then)){var p0K=V0K.layer;F0K.START?(p0K.isCreating=true,p0K.origin=Z0K.pointInSceneFromCanvasSubScroll(F0K.start),z0K(p0K)?j0K.startTransaction(p0K,p0K.fill,F0K):F0K.intercept(null)):F0K.CHANGE?j0K.record(F0K):F0K.END&&(delete p0K.env.QLFloodFill,C0K(p0K).then(function(){p0K.isCreating=false;return sketch.globals.paintIntoShapes?(j0K.stopTransaction(),Z0K.gesture.router(F0K,V0K,true)):Z0K.gesture.router(F0K,V0K,true).then(function(){u0K.inPaintApplicatorMode=true;U0K(F0K,p0K);j0K.transaction.flagNewlyCreated=true;j0K.record(F0K);j0K.drawController(Z0K.contexts.overlay.ctx);b0K.selection.on("Empty",function P0K(){b0K.selection.off("Empty",P0K);u0K.inPaintApplicatorMode=false;});});}).catch(function(v0K){console.error(v0K);Z0K.gesture.remove(p0K);}));}}}function U0K(i0K,R0K){var L0K;R0K=R0K.bbox;L0K=Z0K.visibleRect;var a0K=Z0K.zoom;L0K=new E0K(Math.min(0,R0K.x*a0K+L0K.offScreenX),Math.min(0,R0K.y*a0K+L0K.offScreenY));R0K=new E0K(i0K.start).subtract(L0K);L0K=new E0K(i0K).subtract(L0K);i0K.x=L0K.x;i0K.y=L0K.y;i0K.start.x=R0K.x;i0K.start.y=R0K.y;}function W0K(x0K){var k0K=this.isCreating||this.isEditing;this.pathHash===N0K(this)||k0K&&!E0K.inRect(this.origin,d0K())||(this.pathHash=this.path=null);var w0K=this.path;if(!w0K){if(k0K){X0K(x0K,this);return;}return C0K(this);}var k0K=this.blend,Y0K=this.bbox.scale;x0K.save();x0K.beginPath();w0K.forEach(function(A0K){return sketch.drawPolygon(x0K,A0K);});x0K.scale(1/Y0K.x,1/Y0K.y);J0K.apply(x0K,this,{blend:k0K});x0K.restore();}function X0K(T3K,s3K){var c3K=Z0K.pixelRatio,M3K=Z0K.zoom,o3K=s3K.bbox,r3K=s3K.env._floodfill;if(r3K&&r3K.rect){var n3K=r3K.rect,O3K=M3K*c3K,I3K=r3K.dstClipped;I3K.save();I3K.beginPath();I3K.rect(0,0,n3K.width,n3K.height);I3K.scale(O3K,O3K);J0K.apply(I3K,s3K,{blend:"source-atop",opacity:1});I3K.restore();}n3K=JSON.stringify([Z0K.scroll,s3K.origin,s3K.contiguous,s3K.tolerance]);r3K&&r3K.hash===n3K||z0K(s3K);r3K&&r3K.dstClipped&&(r3K=r3K.dstClipped,n3K=o3K.scale,o3K=1/(n3K.x*M3K*c3K),c3K=1/(n3K.y*M3K*c3K),T3K.save(),T3K.globalAlpha=s3K.fill.opacity,T3K.globalCompositeOperation=J0K.getCtxBlendMode(s3K,false),T3K.scale(o3K,c3K),T3K.drawImage(r3K.canvas,0,0),T3K.restore());}function z0K(g3K){var u3K=Z0K.pixelRatio,t3K=Z0K.scroll,q3K=Z0K.zoom,J3K=g3K.bbox,y3K=g3K.origin,j3K=g3K.contiguous,E3K=g3K.tolerance,Z3K=JSON.stringify([Z0K.scroll,g3K.origin,g3K.contiguous,g3K.tolerance]),h3K=g3K.env;g3K=h3K._floodfill;if(!g3K||g3K.hash!==Z3K){var H3K=d0K(),N3K=H3K.x,C3K=H3K.y,b3K=H3K.width,K3K=H3K.height,H3K=(y3K.x*q3K+Math.min(0,S0K.x))*u3K,S3K=(y3K.y*q3K+Math.min(0,S0K.y))*u3K;if(0>H3K||H3K>N3K+b3K||0>S3K||S3K>C3K+K3K){return;}(y3K=g3K&&g3K.dst)?K0K.resizeOrClear(y3K.canvas,b3K,K3K):y3K=m0K(b3K,K3K);g3K=Z0K.getComposite().ctx;g3K=h3K._floodfill=new f0K({dst:y3K,src:g3K});g3K.hash=Z3K;g3K.contiguous=j3K;g3K.setTolerance(E3K/100);g3K.render(new E0K(H3K,S3K));g3K.rect&&(h3K=g3K.rect,j3K=h3K.x,E3K=h3K.y,Z3K=h3K.width,h3K=h3K.height,g3K.dstClipped=K0K.copy(y3K.canvas,j3K,E3K,Z3K,h3K,0,0,Z3K,h3K).ctx,g3K.needsFreshRender=j3K<t3K.x||E3K<t3K.y||Z3K+j3K>=y3K.canvas.width-1||h3K+E3K>=y3K.canvas.height-1,J3K.x=j3K/u3K/q3K-Math.min(0,S0K.x)/q3K,J3K.y=E3K/u3K/q3K-Math.min(0,S0K.y)/q3K,J3K.width=Z3K/u3K/q3K,J3K.height=h3K/u3K/q3K);}return g3K;}function d0K(){var B3K=Z0K.pixelRatio,f3K=Z0K.visibleRect;return{x:f3K.x,y:f3K.y,width:f3K.width*B3K,height:f3K.height*B3K};}function C0K(m3K){function z3K(W3K,d3K,X3K){var D3K=Z0K.pixelRatio;W3K.forEach(function(U3K){U3K.forEach(function(G3K){G3K.x=(G3K.x-d3K.x)/D3K/X3K;G3K.y=(G3K.y-d3K.y)/D3K/X3K;});});}var l3K=m3K.env._floodfill||{needsFreshRender:true};if(!l3K){return Promise.reject("vectorize(...) No floodfill.");}var Q3K=l3K.needsFreshRender;return function(){var e3K=void 0,e3K=Q3K?Z0K.createFloodfill(m3K).then(function(F3K){return F3K.dst.canvas;}):Promise.resolve(m3K.env._floodfill.dstClipped.canvas);return e3K.then(function(p3K){sketch.agent.chrome64DrawImageBug&&(p3K=K0K.copy(p3K));return t0K.toOutlines(p3K);});}().then(function(a3K){if(!a3K.length){return Promise.reject("vectorize(...) No outlines were generated.");}var P3K=new sketch.PathBBox(a3K).asRect();if(Q3K){z3K(a3K,P3K,1);var L3K=m3K.bbox,n5K=L3K.width,s5K=L3K.height,w3K=new E0K(L3K.x,L3K.y),k3K=new E0K(n5K,s5K),v3K=Z0K.pixelRatio,Y3K=P3K.x/v3K,A3K=P3K.y/v3K,x3K=P3K.width/v3K||1,P3K=P3K.height/v3K||1,v3K=new E0K(Y3K,A3K),r5K=new E0K(x3K,P3K),V3K=m3K.fill;if("gradient"===V3K.type){var V3K=V3K.gradient,R3K=new E0K(V3K.x0,V3K.y0),i3K=new E0K(V3K.x1,V3K.y1);R3K.mult(k3K).add(w3K);i3K.mult(k3K).add(w3K);R3K.subtract(v3K).divide(r5K);i3K.subtract(v3K).divide(r5K);V3K.x0=R3K.x;V3K.y0=R3K.y;V3K.x1=i3K.x;V3K.y1=i3K.y;"radialGradient"===V3K.type&&(V3K.r1*=Math.max(n5K,s5K)/Math.max(x3K,P3K));}L3K.x=Y3K;L3K.y=A3K;L3K.width=x3K;L3K.height=P3K;sketch.layerUtils.updateTransform(m3K);}else{z3K(a3K,P3K,Z0K.zoom);}m3K.dirtyHash=true;m3K.path=a3K;m3K.pathHash=N0K(m3K);l0K.dirty=true;return Promise.resolve();});}function N0K(I5K){var T5K=I5K.origin;return B0K(T5K.x+","+T5K.y+","+I5K.contiguous+","+I5K.tolerance);}var u0K=this,t0K=sketch.canvasUtils,j0K=Z0K.tools.paintApplicator,l0K=Z0K.render,b0K=Z0K.scene,J0K=sketch.style,D0K=sketch.util,S0K=Z0K.viewport,K0K=sketch.Canvas2D,m0K=sketch.Context2D,B0K=sketch.util.hashString,E0K=sketch.Point,f0K=t0K.QLFloodFill;u0K._attributes={origin:"object",path:"object",pathHash:"string",contiguous:"boolean",tolerance:"number"};u0K._enable=function(c5K){u0K.inPaintApplicatorMode=false;c5K.backspace=Keyster.on("backspace",Q0K);c5K.delete=Keyster.on("delete",Q0K);c5K.createOrTransform=u0K.createLayerOrTransformScene(G0K,{monitor:true});j0K.listenForStopTransaction(c5K);};u0K.loadLayer=function(M5K){return J0K.loadPaintStack(M5K).then(function(){M5K.origin||(M5K.origin=new E0K(0,0));M5K.render=W0K;return M5K;});};u0K.getOutlinePath=function(o5K){return D0K.copy(o5K.path);};u0K.drawController=function(O5K,g5K){if(j0K.transaction.layer){return j0K.drawController(O5K);}};};}();void function(){sketch.tools.screenshot=function(h5K){function u5K(J5K){J5K.START&&(y5K.cancelDrag=true,y5K.isDragging||h5K.setTool("select"));}function j5K(S5K){y5K.isDragging=S5K.DOWN;H5K.clearOverlayCanvas();if(y5K.cancelDrag){y5K.cancelDrag=S5K.DOWN;}else{var b5K=h5K.pointInSceneFromEvent(S5K.originalEvent),C5K=S5K.env.origin||(S5K.env.origin=b5K),t5K=Math.min(C5K.x,b5K.x),K5K=Math.min(C5K.y,b5K.y),N5K=Math.abs(C5K.x-b5K.x),b5K=Math.abs(C5K.y-b5K.y),C5K=Math.round(N5K/2),B5K=Math.round(b5K/2),f5K=C5K%42+t5K,l5K=B5K%42+K5K;if(S5K.END){sketch.exec("download",{format:"png",dpi:72*h5K.pixelRatio,region:N5K&&b5K?{x:t5K,y:K5K,width:N5K,height:b5K}:null}),h5K.setTool("select");}else{S5K=q5K.overlay.ctx;S5K.save();S5K.fillStyle="rgba(0,0,0,0.5)";S5K.fillRect(0,0,S5K.canvas.width,S5K.canvas.height);H5K.setTransform(S5K);S5K.beginPath();S5K.clearRect(t5K+.5,K5K+.5,N5K,b5K);S5K.rect(t5K+.5,K5K+.5,N5K,b5K);S5K.clip();S5K.beginPath();S5K.lineWidth=1;S5K.strokeStyle="#333";S5K.strokeRect(t5K+.5,K5K+.5,N5K,b5K);S5K.strokeStyle="rgba(0, 0, 0, 0.15)";S5K.shadowColor="rgba(255, 255, 255, 0.15)";for(var m5K=.5;m5K<N5K;m5K+=42){t5K+C5K+.5!==m5K+f5K&&(S5K.moveTo(m5K+f5K,K5K),S5K.lineTo(m5K+f5K,K5K+b5K));}for(f5K=.5;f5K<b5K;f5K+=42){K5K+B5K+.5!==f5K+l5K&&(S5K.moveTo(t5K,f5K+l5K),S5K.lineTo(t5K+N5K,f5K+l5K));}S5K.stroke();S5K.beginPath();S5K.strokeStyle="rgba(0, 0, 0, 0.5)";S5K.shadowColor="rgba(255, 255, 255, 0.15)";S5K.moveTo(t5K,K5K+B5K+.5);S5K.lineTo(t5K+N5K,K5K+B5K+.5);S5K.moveTo(t5K+C5K+.5,K5K);S5K.lineTo(t5K+C5K+.5,K5K+b5K);S5K.stroke();S5K.beginPath();S5K.strokeStyle="rgba(255, 255, 255, 0.5)";S5K.shadowColor="rgba(255, 255, 255, 0)";S5K.moveTo(t5K+C5K-7.5,K5K+B5K+.5);S5K.lineTo(t5K+C5K+8.5,K5K+B5K+.5);S5K.moveTo(t5K+C5K+.5,K5K+B5K-7.5);S5K.lineTo(t5K+C5K+.5,K5K+B5K+8.5);S5K.stroke();S5K.restore();}}}var y5K=this,q5K=h5K.contexts,H5K=h5K.scene,Z5K=sketch.lang.translate,E5K=sketch.ui;y5K._enable=function(Q5K){sketch.keyboard.enable(h5K,Q5K);Q5K.drag=Gesture.on(h5K.$inputPointer,"drag",j5K);Q5K.escape=Keyster.on("escape",u5K);E5K.log(Z5K("screenshot-log"));};};}();void function(){function d5K(v5K){for(var F5K={next:{x:1,y:1},x:0,y:1},e5K=1,p5K=1,W5K,G5K,V5K,P5K,U5K,R5K=0.3333333333333333,L5K=0;L5K<v5K;L5K++){for(W5K=F5K;W5K.next;){G5K=W5K.next,U5K=R5K+D5K.toDouble()*(1-2*R5K),P5K=W5K.x+U5K*(G5K.x-W5K.x),V5K=.5>U5K?P5K-W5K.x:G5K.x-P5K,U5K=W5K.y+U5K*(G5K.y-W5K.y),U5K+=V5K*(2*D5K.toDouble()-1),U5K<e5K?e5K=U5K:U5K>p5K&&(p5K=U5K),V5K={x:P5K,y:U5K},V5K.next=G5K,W5K.next=V5K,W5K=G5K;}}if(p5K!==e5K){for(v5K=1/(p5K-e5K),W5K=F5K;W5K;){W5K.y=v5K*(W5K.y-e5K),W5K=W5K.next;}}else{for(W5K=F5K;W5K;){W5K.y=1,W5K=W5K.next;}}return F5K;}var z5K=sketch.vector=sketch.vector||{},X5K=sketch.Point,z5K=z5K.Shape=z5K.Shape||{},D5K={};z5K.imperfectCircle=function(n9K,A5K,r9K,w5K,s9K,Y5K){D5K=sketch.PseudoRandom(Y5K);Y5K=2*Math.PI;var a5K=d5K(9),i5K=0,x5K=w5K+a5K.y*(s9K-w5K),k5K=A5K+x5K*Math.cos(i5K),i5K=r9K+x5K*Math.sin(i5K);for(n9K.lineTo(k5K,i5K);null!=a5K.next;){a5K=a5K.next,i5K=Y5K*a5K.x+0,x5K=w5K+a5K.y*(s9K-w5K),k5K=A5K+x5K*Math.cos(i5K),i5K=r9K+x5K*Math.sin(i5K),n9K.lineTo(k5K,i5K);}};z5K.imperfect=function(H9K,E9K,c9K,y9K){D5K=sketch.PseudoRandom(c9K);c9K=sketch.Polygon.distance(y9K);var I9K=Math.round(Math.log(c9K/5)/Math.LN2);d5K(I9K);c9K=0;for(var q9K=y9K.length;c9K<q9K;c9K++){var T9K=y9K[c9K],h9K=y9K[(c9K+1)%q9K];0===c9K&&H9K.moveTo(T9K.x,T9K.y);for(var g9K=X5K.distance(T9K,h9K),I9K=Math.round(Math.sqrt(g9K/5)),M9K=-X5K.angle(T9K,h9K),g9K=Math.sin(M9K)*E9K,M9K=Math.cos(M9K)*E9K,I9K=d5K(I9K),Z9K=I9K.y;I9K;){var o9K=T9K.x+I9K.x*(h9K.x-T9K.x),O9K=T9K.y+I9K.x*(h9K.y-T9K.y),o9K=o9K+g9K*(I9K.y-Z9K),O9K=O9K+M9K*(I9K.y-Z9K),I9K=I9K.next;H9K.lineTo(o9K,O9K);}}H9K.closePath();};}();void function(){function N9K(X9K,v9K,d9K){function V9K(L9K){L9K=L9K.keyCode;return 10===L9K||13===L9K;}var G9K=d9K.convertTabToSpace,U9K=d9K.delayedFreshRender,F9K=d9K.emitChanges,W9K=d9K.insertContent,D9K=d9K.freshRender,P9K=X9K.scene,e9K=sketch.vector,p9K=sketch.feature.tools.text;return{onKeyDown:function(a9K){var R9K=X9K.selection.layer;if(R9K){var i9K=a9K.keyCode;if(null==i9K){D9K(true);}else if("htmlText"===R9K.type){R9K=[];Keyster.meta&&R9K.push("Meta");Keyster.ctrl&&R9K.push("Ctrl");Keyster.shift&&R9K.push("Shift");Keyster.alt&&R9K.push("Alt");R9K.push(Keyster.keyCodeToName(i9K));if(i9K=t9K[R9K.join(" ")]){document.execCommand(i9K[0],i9K[1],i9K[2]),Gesture.cancel(a9K);}D9K(true);}else{var x9K;p9K.returnToCommitChanges&&V9K(a9K)&&!Keyster.shift?(Gesture.prevent(a9K),v9K.stopEditing(),x9K=true):x9K=void 0;if(!x9K){if(Keyster.meta){if(90===i9K||88===i9K){U9K(true);return;}if(85===i9K){Gesture.prevent(a9K);R9K.textDecoration="none"===R9K.textDecoration?"underline":"none";D9K();return;}if(73===i9K){Gesture.prevent(a9K);R9K.fontStyle="normal"===R9K.fontStyle?"italic":"normal";D9K();return;}66===i9K&&(Gesture.prevent(a9K),R9K.fontWeight="normal"===R9K.fontWeight?"bold":"normal");}9===i9K&&(Gesture.prevent(a9K),W9K("    "));D9K(true);}}}},onKeyPress:function(w9K){var k9K=X9K.selection.layer;k9K&&"pre-nowrap"===k9K.whiteSpace&&V9K(w9K)&&Gesture.prevent(w9K);},onKeyUp:function(A9K){var Y9K=X9K.selection.layer;if(Y9K){if("htmlText"===Y9K.type){D9K(true);}else{switch(A9K.keyCode){case 27:P9K.deselectAll();break;default:D9K(true);}F9K("change");}}},onPaste:function(s1K){if(s1K.clipboardData){var r1K=s1K.clipboardData.getData("text/plain");null!=r1K&&(r1K=G9K(r1K),r1K=e9K.text.preformat(r1K),W9K(r1K),D9K(true),Gesture.cancel(s1K));}}};}function z9K(o1K,c1K,I1K){function E1K(J1K){var j1K=o1K.selection.layer;j1K&&(J1K&&j1K.updateBoundingBox(),sketch.layerUtils.updateTransform(j1K),o1K.render.dirtyControls=true,Z1K());}function g1K(S1K){clearTimeout(g1K.timeout);g1K.timeout=setTimeout(function(){return E1K(S1K);},10);}var q1K=I1K.onScroll,M1K=I1K.convertTabToSpace,O1K=I1K.emitChanges,Z1K=I1K.renderObject,h1K=I1K.stopEditing;I1K=I1K.editAsOverlay;var y1K=c1K.$textContainer=j9K.create('<div class="sk-doc-textarea"></div>'),H1K=c1K.$textGhost=j9K.create('<div class="sk-doc-textarea-ghost"></div>');c1K.$textStyle=j9K.append(c1K.$textContainer,'<style type="text/css"></style>');var T1K=N9K(o1K,c1K,{convertTabToSpace:M1K,delayedFreshRender:g1K,emitChanges:O1K,freshRender:E1K,insertContent:function(K1K){j9K.text.paste(n1K,K1K);},stopEditing:h1K}),M1K=T1K.onKeyDown,O1K=T1K.onKeyPress,u1K=T1K.onKeyUp,T1K=T1K.onPaste;sketch.emit("tooltip:attach",y1K,"");var n1K=c1K.$textArea=j9K.append(y1K,"div");n1K.className="textarea";n1K.setAttribute("contentEditable","true");I1K()&&o1K.$document.classList.add("edit-text-as-overlay");sketch._noRendering||(Gesture.on(n1K,"drag",Gesture.stop,{preventDefault:false}),Gesture.on(n1K,"drop",function(){return g1K(true);}),Gesture.on(n1K,"input",M1K),Gesture.on(n1K,"keydown",M1K),Gesture.on(n1K,"keypress",O1K),Gesture.on(n1K,"keyup",u1K),Gesture.on(n1K,["mousedown","mouseup"],Gesture.stop),Gesture.on(n1K,"mouseup",function(){return c1K.focus();}),Gesture.on(n1K,"paste",T1K),Gesture.on(n1K,"scroll",q1K),JSEvent.on(H1K,"mousedown",Gesture.cancel),JSEvent.on(H1K,"mouseup",function(b1K){Gesture.cancel(b1K);o1K.render.scene();h1K();}));}function Q9K(C1K,t1K,d1K){function D1K(U1K,G1K){var e1K=U1K.ctx,W1K=G1K.bbox,V1K=W1K.width,P1K=W1K.height,X1K=G1K.env,W1K=G1K.hash;if(!X1K.$doc){var p1K=document.implementation.createHTMLDocument(""),F1K=document.createElementNS("http://www.w3.org/1999/xhtml","body");p1K.documentElement.appendChild(F1K);J9K.append(F1K,"\n\t\t\t\t\t<style>\n\t\t\t\t\t\tbody {\n\t\t\t\t\t\t\tword-wrap: break-word;\n\t\t\t\t\t\t\twhite-space: pre-wrap;\n\t\t\t\t\t\t\tmargin: 0;\n\t\t\t\t\t\t\tpadding: 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t</style>\n\t\t\t\t");X1K.$doc=p1K;X1K.$dummy=J9K.append(F1K,"<div></div>");}t1K._prepareDummy(U1K,X1K.$dummy);U1K=f1K(G1K);e1K.translate(-U1K.left,-U1K.top);if(X1K.image&&(e1K.drawImage(X1K.image,0,0),X1K.hashOfRender===W1K)){return;}if(!X1K.processing){return X1K.hashOfRender=W1K,X1K.processing=true,rasterizeHTML.drawDocument(X1K.$doc).then(function(v1K){X1K.image=v1K.image;X1K.processing=false;e1K.clearRect(0,0,V1K,P1K);e1K.drawImage(v1K.image,0,0);G1K.dirtyCache=true;m1K.dirty=true;},function(){X1K.processing=false;});}}function z1K(L1K,i1K){var x1K=Galactic.perf(),k1K=L1K.ctx,R1K=i1K.bbox;i1K=R1K.width;R1K=R1K.height;L1K=t1K._prepareDummy(L1K);var w1K=L1K.parentNode,a1K=L1K.style;a1K.width=i1K+"px";a1K.height=R1K+"px";L1K.setAttribute("data-html2canvas-visible",true);return html2canvas(L1K,{canvas:k1K.canvas,drawHidden:true,logging:t1K.DEBUG_HTML,strict:true}).then(function(){t1K.DEBUG_HTML?(t1K.$textMetrics=J9K.$("sketch-measure-text"),t1K.$textMetrics.style.visibility="visible",t1K.$textMetrics.style.zIndex=9999,x1K("draw text")):w1K.style.display="none";}).catch(console.error);}function f1K(Y1K){var A1K=0,r4K=0;N1K(Y1K)&&(Y1K=Y1K.bbox.scale,r4K=Math.abs(t1K._scrollLeft*Y1K.x),A1K=Math.abs(t1K._scrollTop*Y1K.y));return{scrollTop:r4K,scrollLeft:A1K};}var N1K=d1K.isEditing,m1K=C1K.render,B1K=C1K.scene,Q1K=sketch.util,l1K=sketch.vector;return function(s4K,T4K){var n4K=N1K(this);if(!n4K||"htmlText"!==this.type){if(this.isCreating){sketch.layerUtils.updateTransform(this),B1K.renderOutline(s4K,this);}else{var I4K=this.env,I4K=I4K.textMetrics||(I4K.textMetrics=t1K.measureText(this));s4K=sketch.copyAttributes(t1K._attributes,this,{ctx:s4K,pixelRatio:C1K.pixelRatio,bbox:Q1K.copy(this.bbox),blend:this.blend,opacity:this.opacity,textMetrics:I4K});this.fill&&(s4K.fill=this.fill);this.stroke&&(s4K.stroke=this.stroke);n4K&&(n4K=f1K(this),s4K.scrollTop=n4K.top,s4K.scrollLeft=n4K.left,s4K.content=t1K.getContent(this));n4K=s4K.bbox;n4K.scale.x=1;n4K.scale.y=1;n4K.rotation=0;n4K.x=0;n4K.y=0;if("htmlText"===this.type){return S9K.rasterizeHTML?D1K(s4K,this):z1K(s4K,this);}l1K.text.drawLineBreaks(s4K.ctx,s4K,{batchPathRendering:!T4K});}}};}function l9K(M4K,o4K,y4K){var O4K=y4K.isEditing,c4K=sketch.assets,g4K=sketch.feature,h4K=sketch.style;o4K.loadLayer=function(H4K){return h4K.loadPaintStack(H4K).then(function(){function q4K(){q4K.fired=true;H4K.dirtyBoundingBox=true;H4K.render=Q9K(M4K,o4K,{isEditing:O4K});}var Z4K=setTimeout(q4K,350),E4K;E4K="htmlText"===H4K.type?sketch.require("html",{exposed:["html2canvas"]}):Promise.resolve();return E4K.then(function(){var u4K=H4K.fontFamily;return sketch.resources.get(u4K)?c4K.add(c4K.prefixed(u4K),{type:"font",referenceId:H4K.id}):sketch.font.load(g4K.defaults.font);}).then(function(){clearTimeout(Z4K);if(q4K.fired){return H4K.env.textMetrics=null,H4K.dirtyCache=true,H4K.dirtyBoundingBox=true,M4K.render.dirty=true,H4K;}q4K();return H4K;});});};}function m9K(C4K,j4K,S4K){var K4K=S4K.getDummy,b4K=S4K.isEditing,t4K=S4K.recordHistoryChange,J4K=sketch.dom;j4K.setForeColor=function(N4K,Q4K,f4K,B4K){function X4K(){z4K.innerHTML=l4K;d4K(z4K.childNodes,function(W4K){W4K.style&&(W4K.style.color="",W4K.color="");});N4K.content=j4K.$textArea.innerHTML=z4K.innerHTML;N4K.dirtyHash=true;}function d4K(e4K,F4K){for(var G4K=0;G4K<e4K.length;G4K++){var U4K=e4K[G4K];U4K&&(F4K(U4K),U4K.childNodes.length&&d4K(U4K.childNodes,F4K));}}if("fancyText"!==N4K.type){var m4K=N4K.env;B4K=B4K.state||"end";"start"===B4K&&(m4K.content=N4K.content);var z4K=K4K();if(b4K(N4K)){if(j4K.hasSelection()){"change"!==B4K&&"end"!==B4K||document.execCommand("undo",false,null),document.execCommand("foreColor",false,Q4K);}else{if(f4K=window.getSelection().focusNode){false===j4K.$textArea.contains(f4K)&&(f4K=j4K.$textArea,J4K.text.select(f4K,0,0));var m4K=J4K.text.getRange(f4K),D4K=B4K=void 0;m4K&&(B4K=m4K.startOffset,D4K=m4K.endOffset);J4K.text.selectAll(f4K.parentNode);Q4K?document.execCommand("foreColor",false,Q4K):document.execCommand("removeFormat",false,"foreColor");m4K&&J4K.text.select(f4K,B4K,D4K);}}}else{var l4K=N4K.content;f4K&&-1!==l4K.indexOf(f4K)?(j4K.$textArea.innerHTML=l4K,N4K.content=l4K.split(f4K).join(Q4K),N4K.dirtyHash=true):X4K();"end"===B4K&&t4K({id:N4K.id,type:N4K.type,content:m4K.content},{id:N4K.id,type:N4K.type,content:N4K.content});}}};}function B9K(P4K,p4K,V4K){var v4K=V4K.Ætext,L4K=V4K.ensureTextLayer,R4K=V4K.isEditing,i4K=V4K.useFitText;p4K.updateBoundingBox=L4K(function(a4K){var x4K;x4K=R4K(a4K)?p4K.getContent(a4K)||" ":a4K.content||" ";var Y4K=a4K.env,w4K=sketch.copyAttributes(p4K._attributes,a4K,{type:a4K.type,pixelRatio:P4K.pixelRatio,bbox:b9K.copy(a4K.bbox)});w4K.content="htmlText"===a4K.type?x4K:u9K.text.format(x4K,a4K);var A4K=P4K.createHash(w4K);if(A4K!==Y4K.hashOfLayer){Y4K.hashOfRender=null;Y4K.hashOfLayer=A4K;Y4K.textMetrics=null;a4K.content!==x4K&&(a4K.content=x4K,a4K.dirtyHash=true);if(i4K(a4K)){x4K=a4K.bbox,w4K=u9K.text.getMeasureElement({font:u9K.text.getFontStyle(a4K),content:a4K.content,textAlign:a4K.textAlign,textTransform:a4K.textTransform,lineHeight:a4K.lineHeight,letterSpacing:a4K.letterSpacing,wordSpacing:a4K.wordSpacing,width:x4K.width}),x4K=u9K.text.fitText({target:w4K,targetWidth:x4K.width,targetHeight:x4K.height,guessFontSize:a4K.fontSize}),w4K.parentNode.style.display="none",a4K.fontSize=x4K;}else{var k4K="pre-nowrap"===a4K.whiteSpace,A4K=v4K.useAutoHeight;if(k4K||A4K){k4K&&(w4K.bbox.width="auto");w4K=p4K.measureText(w4K);x4K=a4K.bbox;if(k4K){var k4K=u9K.text.getFontStyle(a4K),r7K=u9K.text.width("M",k4K),k4K=x4K.width,r7K=w4K.width+r7K;r7K!==k4K&&(x4K.width=r7K,x4K.x+=(k4K-r7K)/2*x4K.scale.x,a4K.dirtyTransform=true);}A4K&&(A4K=x4K.height,k4K=w4K.height,w4K.height!==A4K&&(x4K.height=k4K,x4K.y+=(A4K-k4K)/2*x4K.scale.y,a4K.dirtyTransform=true));}}if(Y4K=(Y4K.textMetrics=p4K.measureText(a4K)).offsets){a4K.env.outerPadding=null,a4K.env.extraPadding={left:Math.abs(Y4K.left),right:Math.abs(Y4K.right),top:Math.abs(Y4K.top),bottom:Math.abs(Y4K.bottom)};}}p4K.updateCSS(a4K);});}function f9K(n7K,s7K,I7K){var H7K=I7K.Ætext,E7K=I7K.canScroll,o7K=I7K.editAsOverlay,O7K=I7K.ensureTextLayer,M7K=I7K.isEditing,h7K=I7K.setTransform,g7K=I7K.useFitText,T7K=sketch.agent,q7K=sketch.dom,Z7K=n7K.scene,c7K=sketch.vector,y7K=180/Math.PI;s7K.updateCSS=function(u7K){s7K.updateCSSStyle(u7K);s7K.updateCSSTransform(u7K);};s7K.updateCSSTransform=O7K(function(S7K){if(M7K(S7K)){var J7K=n7K.zoom*n7K.scale,j7K=S7K.bbox,m7K=S7K.opacity,B7K=j7K.rotation*y7K,K7K=j7K.scale.x+1E-7,C7K=j7K.scale.y+1E-7,N7K=j7K.width,t7K=j7K.height,b7K=Math.max(0,N7K)*J7K,f7K=Math.max(0,t7K-n7K.render.cache.padding/2)*J7K;c7K.text.setFontStyle(S7K,s7K.$textContainer,J7K);s7K.$textContainer.style.textDecoration="none";(function(){var z7K,l7K,X7K;z7K=n7K.viewport;var D7K=b7K,d7K=f7K;H7K.useClipBounds&&(l7K=sketch.layerUtils.getBoundingBox(Z7K.children),D7K=Math.min(D7K,(z7K.width-l7K.x)/K7K),d7K=Math.min(d7K,(z7K.height-l7K.y)/C7K));z7K=j7K.x;l7K=j7K.y;var Q7K="0% 0%";"objectBoundingBox"===j7K.units&&(l7K=.5*(t7K-t7K*j7K.scale.y),z7K=j7K.x-.5*(N7K-N7K*j7K.scale.x),l7K=j7K.y-l7K,Q7K="50% 50%");z7K=z7K*J7K+n7K.viewport.paddingLeft;l7K=l7K*J7K+n7K.viewport.paddingTop;X7K=Q7K;Q7K=s7K.$textContainer.style;Q7K.opacity=m7K;Q7K.width=D7K+"px";Q7K.height=d7K+"px";o7K()?(D7K="scale("+K7K+", "+C7K+")",d7K=X7K):(D7K="rotate("+B7K+"deg) scale("+K7K+", "+C7K+")",d7K=X7K,Q7K.top=l7K+"px",Q7K.left=z7K+"px");h7K(s7K.$textContainer,D7K,d7K);}());(function(){var W7K=s7K.$textArea.style;W7K.height=f7K+"px";W7K.width=b7K+"px";if(!g7K(S7K)){if(s7K.$textArea.scrollHeight>s7K.$textArea.offsetHeight){var U7K=n7K.theme.getControls({type:"text"}),G7K=q7K.scrollbarX(s7K.$textArea),U7K=Math.round(U7K.width/2)+2;W7K.width=b7K+G7K+U7K+"px";W7K.paddingRight=U7K+"px";}else{W7K.paddingRight=0;}}}());}});s7K.updateCSSStyle=O7K(function(F7K){function P7K(i7K,R7K){var L7K=T7K.cssTextFillColor;L7K?(e7K.color=i7K,e7K[L7K]=R7K):e7K.color=R7K;}var e7K=s7K.$textArea.style;e7K.cssText="";e7K.fontWeight="normal";e7K.wordWrap=c7K.text._wordWrap;e7K.wordBreak=c7K.text._wordBreak;e7K.whiteSpace=c7K.text._whiteSpace;E7K(F7K)?(e7K.overflowX="hidden",e7K.overflowY="auto"):g7K(F7K)&&!s7K.DEBUG_CANVAS_RENDERER?e7K.overflow="hidden":e7K.overflow="visible";if("fancyText"===F7K.type){s7K.DEBUG_CANVAS_RENDERER||M7K(F7K)&&o7K()?P7K("black","black"):(P7K("black","rgba(0,0,0,0)"),s7K.$textStyle.innerHTML="");}else{var p7K=F7K.fill,v7K=F7K.textShadow,V7K="";T7K.cssBackgroundClip&&T7K.cssFilter&&"fancyText"===F7K.type&&!v7K?(V7K=".sketch-api .sk-doc-textarea div.textarea { "+style.toCSSBG(p7K)+" }",s7K.$textArea.setAttribute("data-content",s7K.$textArea.innerHTML),e7K[T7K.cssBackgroundBlendMode]=style.getCtxBlendMode(F7K),e7K[T7K.cssBackgroundClip]="text",e7K[T7K.cssTextFillColor]="transparent"):e7K.color="color"===p7K.type?p7K.color:"black";F7K.textDecoration?(p7K=F7K.textDecoration.split(","),e7K.textDecoration=p7K[0],s7K.$textContainer.style.textDecoration=p7K[1]):(e7K.textDecoration="",s7K.$textContainer.style.textDecoration="");p7K=F7K.background||{};p7K.enabled?V7K+=".sketch-api .sk-doc-textarea { "+style.toCSSBG(p7K)+" }":s7K.$textContainer.style.background="";if(F7K=F7K.padding){e7K.padding=F7K.top+"px "+F7K.right+"px "+F7K.bottom+"px "+F7K.left+"px";}s7K.$textStyle.innerHTML=V7K;}});}function K9K(a7K){sketch.tools[a7K.toolId]=function(k7K){function E6K(){var B6K=x7K.currentLayer;x7K.currentLayer=null;k7K._editing&&(k7K._editing=false,x7K.$textArea.scrollTop&&(x7K.$textArea.scrollTop=0,x7K.$textArea.scrollLeft=0,x7K._scrollTop=0,x7K._scrollLeft=0,O6K()),x7K.$textContainer.style.display="none",x7K.$textGhost.style.display="none",x7K.blur(),o6K("end"),x7K.emit("hide"),k7K.emit("text:end",B6K),s6K.scene());if(y6K(B6K)){B6K.highRes=false;B6K.isEditing="text:end";var f6K=B6K.env;if(null!=f6K.cacheContent){var m6K=g6K(B6K);if(""===m6K.trim()){f6K=(f6K=k7K.history.getLastCmd())&&"add"===f6K.cmd&&"text"===f6K.name?f6K:void 0,f6K?(k7K.history.pop(),r6K.remove(B6K,{recordHistory:false})):r6K.remove(B6K,{recordHistory:true});}else{var l6K=f6K.cacheContent;l6K&&(f6K.lastHistory?(f6K.lastHistory.data[0].content=m6K,k7K.pingAutoSave()):J6K(l6K,r6K.getById(l6K.id)),f6K.lastHistory=null,f6K.cacheContent=null);B6K.content=m6K;B6K.dirtyHash=true;B6K.dirtyBoundingBox=true;s6K.scene();}}}}function j6K(){x7K.$textContainer.style.display="block";x7K.$textGhost.style.display="block";x7K.focus();x7K.selectAll();}function N6K(Q6K){k7K._editing||(k7K._editing=true,x7K.$textArea.classList.toggle("canvas-renderer","fancyText"===Q6K.type),x7K.pointerId=sketch.getEventId(),Q6K.highRes=true,Q6K.isEditing="text:start",Q6K.updateBoundingBox(),j6K(),o6K("start"),x7K.emit("show",Q6K),setTimeout(function(){return x7K.focus();},0),k7K.emit("text:start"));}function h6K(z6K){return z6K.replace(/\t/g,"    ");}function o6K(d6K){var D6K=k7K.selection.layer;D6K&&k7K.on.handlers.change&&k7K.emit("change",{op:"SCENE_UPDATE",data:{pointerId:x7K.pointerId,state:d6K,changes:[{id:D6K.id,content:g6K(D6K)}]}});}function O6K(){var X6K=k7K.selection.layer;X6K&&(X6K.dirtyCache=true,s6K.dirty=true);}function u6K(U6K,W6K){W6K=h6K(W6K);W6K=A7K.text.preformat(W6K);U6K.innerHTML=W6K;}function g6K(e6K,G6K){G6K||(G6K=x7K.getContent(e6K));return G6K===b6K()?"":G6K;}function J6K(p6K,F6K){p6K&&F6K&&k7K.history.store("update",{name:"update-text",data:{pointerId:x7K.pointerId,from:[{id:F6K.id,type:F6K.type,content:p6K.content}],to:[{id:F6K.id,type:F6K.type,content:F6K.content}]}});}function S6K(){return x7K.dummy||(x7K.dummy=A7K.text.getMeasureElement());}function b6K(){var V6K=sketch.lang.translate(w7K.defaultContent);return V6K[0]+Z6K+V6K.slice(1);}function t6K(P6K){return!(P6K.whiteSpace||"").includes("nowrap")&&!c6K(P6K);}function M6K(v6K){return function(L6K){L6K||(L6K=k7K.selection.layer);y6K(L6K)&&v6K(L6K);};}function n6K(R6K){return"text:start"===R6K.isEditing;}function y6K(i6K){return i6K&&i6K instanceof k7K.Layer&&"text"===i6K.toolkitId;}function H6K(){return false;}function q6K(a6K,x6K,k6K){a6K=a6K.style;a6K[I6K.cssTransform]=x6K;a6K[I6K.cssTransformOrigin]=k6K;}function c6K(w6K){return w6K&&w6K.fitText||w7K.fitText;}var x7K=this,I6K=sketch.agent,Y7K=sketch.dom,s6K=k7K.render,r6K=k7K.scene,K6K=k7K.toolkit,A7K=sketch.vector,T6K=k7K.viewport,w7K=sketch.feature.tools.text;x7K.DEBUG_CANVAS_RENDERER=false;x7K.DEBUG_HTML=false;z9K(k7K,x7K,{convertTabToSpace:h6K,editAsOverlay:H6K,emitChanges:o6K,onScroll:function(A6K){var Y6K=x7K.currentLayer;Y6K&&(t6K(Y6K)?(x7K._scrollTop=x7K.$textArea.scrollTop,x7K._scrollLeft=x7K.$textArea.scrollLeft):Gesture.cancel(A6K),O6K());},renderObject:O6K,stopEditing:E6K});l9K(k7K,x7K,{isEditing:n6K});m9K(k7K,x7K,{getDummy:S6K,isEditing:n6K,recordHistoryChange:J6K});B9K(k7K,x7K,{"\u0192text":w7K,ensureTextLayer:M6K,isEditing:n6K,useFitText:c6K});f9K(k7K,x7K,{"\u0192text":w7K,canScroll:t6K,editAsOverlay:H6K,ensureTextLayer:M6K,isEditing:n6K,setTransform:q6K,useFitText:c6K});x7K._attributes=C9K;x7K._enable=function(r8Q){r8Q.selfDestruct=C6K;r8Q.resize=sketch.on("resize",function(){setTimeout(function(){x7K.updateCSSTransform();},1);});k7K.tools.select.searchParam=w7K.searchParam;k7K.tools.select._enable(r8Q,{useKeyCommands:false});};var C6K={detach:function(){x7K.stopEditing();}};x7K.startEditing=M6K(function(s8Q){k7K.selection.id!==s8Q.id&&k7K.selection.select(s8Q,true);s8Q.env.cacheContent={id:s8Q.id,content:g6K(s8Q,s8Q.content)};x7K.currentLayer=s8Q;x7K.setContent(s8Q.content);N6K(s8Q);s6K.scene();});x7K.stopEditing=E6K;x7K.disableArea=function(){x7K.$textContainer.style.pointerEvents="none";x7K.blur();};x7K.enableArea=function(){x7K.$textContainer.style.pointerEvents="auto";x7K.focus();};x7K.blur=function(){return x7K.$textArea.blur();};x7K.focus=function(){var n8Q=k7K.$scroll,I8Q=n8Q.scrollTop,T8Q=n8Q.scrollLeft;x7K.$textArea.focus();n8Q.scrollTop=I8Q;n8Q.scrollLeft=T8Q;I6K.mobile&&(n8Q={behavior:"smooth"},I8Q=x7K.$textArea,I8Q.scrollIntoView&&I8Q.scrollIntoView(n8Q));};x7K.hasFocus=function(){return Y7K.text.hasFocus(x7K.$textArea);};x7K.hasSelection=function(){return Y7K.text.hasSelection(x7K.$textArea);};x7K.setCursorPos=function(c8Q){return Y7K.text.setCursorPosition(x7K.$textArea,c8Q);};x7K.selectAll=function(){return Y7K.text.selectAll(x7K.$textArea);};x7K._scrollTop=0;x7K._scrollLeft=0;x7K.onRecord=function(M8Q){var g8Q=k7K.gesture.getOrCreate(M8Q,x7K);if(g8Q&&(g8Q.pointer&&(g8Q=g8Q.pointer),!g8Q.then)){M8Q.START&&(M8Q.env.hadSelection=r6K.selection.length,r6K.deselectAll());var J8Q=M8Q.originalEvent,O8Q=k7K.zoom,H8Q=O8Q*k7K.scale,u8Q=M8Q.start.x/H8Q,j8Q=M8Q.start.y/H8Q,Z8Q=M8Q.x/H8Q,E8Q=M8Q.y/H8Q,h8Q=g8Q.layer,o8Q=h8Q.bbox,y8Q=Math.min(u8Q,Z8Q)-T6K.paddingLeft/O8Q,S8Q=Math.min(j8Q,E8Q)-T6K.paddingTop/O8Q,O8Q=Math.abs(u8Q-Z8Q)||1,q8Q=Math.abs(j8Q-E8Q)||1;if(M8Q.START){x7K.blur();}else if(o8Q.x=y8Q,o8Q.y=S8Q,o8Q.width=O8Q,o8Q.height=q8Q,w7K.units&&(o8Q.units=w7K.units),h8Q.dirtyHash=true,h8Q.highRes=!M8Q.END,h8Q.isCreating=!M8Q.END,y8Q=K6K.constrainBox(h8Q,false),Z8Q<u8Q&&(o8Q.x-=y8Q.width-o8Q.width),E8Q<j8Q&&(o8Q.y-=y8Q.height-o8Q.height),o8Q.width=y8Q.width,o8Q.height=y8Q.height,M8Q.END){if(O8Q<x7K.minWidth||q8Q<x7K.minHeight){if(!w7K.useAddByClick||M8Q.env.hadSelection){k7K.gesture.remove(h8Q,false);s6K.scene();return;}O8Q=T6K.width/3/H8Q;q8Q=2*h8Q.fontSize/H8Q;o8Q.width=Math.max(x7K.defaultWidth,O8Q);o8Q.height=Math.max(x7K.defaultHeight,q8Q);}J8Q&&(M8Q.stop(),j6K());k7K.gesture.router(M8Q,g8Q,true).then(function(K8Q){J8Q&&(K8Q.env.lastHistory=k7K.history.getLastCmd(),K8Q.content=b6K(),x7K.startEditing(K8Q),x7K.updateCSS());});}}};x7K.setContent=function(b8Q){u6K(x7K.$textArea,b8Q);};x7K.getContent=function(t8Q){return"htmlText"===t8Q.type?x7K.$textArea.innerHTML:Y7K.text.getPlainText(x7K.$textArea);};x7K._prepareDummy=function(l8Q,C8Q){var m8Q=l8Q.bbox,B8Q=m8Q.scale,N8Q=B8Q.x,Q8Q=B8Q.y;C8Q||(C8Q=S6K());var B8Q=C8Q.parentNode,f8Q=C8Q.style,z8Q=window.pageXOffset,D8Q=window.pageYOffset,d8Q=0>Q8Q?m8Q.height*-Q8Q:0;f8Q.left=(0>N8Q?m8Q.width*-N8Q:0)+z8Q+"px";f8Q.top=d8Q+D8Q+"px";A7K.text.setFontStyle(l8Q,C8Q);q6K(C8Q,"matrix("+N8Q+", 0, 0, "+Q8Q+", -"+z8Q+", -"+D8Q+")","0 0 0");N8Q=l8Q.fill;f8Q.color=N8Q&&N8Q.color?N8Q.color:"black";u6K(C8Q,l8Q.content);C8Q.className="sk-dummy-text";B8Q.style.display="block";f8Q.display="block";f8Q.height="auto";f8Q.width="pre-nowrap"===l8Q.whiteSpace?"auto":m8Q.width+"px";return C8Q;};x7K.measureText=function(X8Q){if("htmlText"===X8Q.type){var W8Q=x7K._prepareDummy(X8Q),U8Q=W8Q.offsetWidth,G8Q=W8Q.offsetHeight;W8Q.parentNode.style.display="none";return{offsets:A7K.text.offsets(X8Q),width:U8Q,height:G8Q};}return A7K.text.drawLineBreaks(X8Q.ctx,X8Q,{getLineBreakMeasurements:true});};x7K.isOutOfBounds=function(e8Q){if(c6K(e8Q)){return false;}var F8Q=e8Q.env.textMetrics;return(F8Q&&F8Q.height)>e8Q.bbox.height;};var Z6K=String.fromCharCode(65279);sketch._noRendering||(k7K.$scroll.appendChild(x7K.$textGhost),k7K.$scroll.appendChild(x7K.$textContainer));};}var C9K={content:"string",fitText:"boolean",fontFamily:"string",fontSize:"number",fontStyle:"string",fontVariant:"string",fontWeight:"string",letterSpacing:"number",lineHeight:"number",textAlign:"string",textDecoration:"string",textShadow:"string",textTransform:"string",whiteSpace:"string",wordSpacing:"number"},t9K={"Shift Backspace":["forwardDelete"],"Ctrl Shift [":["justifyLeft"],"Ctrl Shift ]":["justifyRight"],"Ctrl Shift \\":["justifyCenter"],"Ctrl Shift Alt \\":["justifyFull"],"Meta Shift S":["strikeThrough"],"Meta B":["bold"],"Meta I":["italic"],"Meta U":["underline"]},j9K=sketch.dom,J9K=sketch.dom,S9K=sketch.feature,b9K=sketch.util,u9K=sketch.vector;K9K({toolId:"htmlText"});K9K({toolId:"fancyText"});}();(function(V8Q,p8Q){"object"===typeof exports&&"undefined"!==typeof module?p8Q(exports):"function"===typeof define&&define.amd?define(["exports"],p8Q):p8Q(V8Q.opentype=V8Q.opentype||{});}(this,function(v8Q){function N2Q(){this.table=new Uint16Array(16);this.trans=new Uint16Array(288);}function S5Q(K5Q,b5Q){this.source=K5Q;this.bitcount=this.tag=this.sourceIndex=0;this.dest=b5Q;this.destLen=0;this.ltree=new N2Q();this.dtree=new N2Q();}function h3Q(N5Q,f5Q,C5Q,B5Q){var t5Q;for(t5Q=0;t5Q<C5Q;++t5Q){N5Q[t5Q]=0;}for(t5Q=0;t5Q<30-C5Q;++t5Q){N5Q[t5Q+C5Q]=t5Q/C5Q|0;}C5Q=B5Q;for(t5Q=0;30>t5Q;++t5Q){f5Q[t5Q]=C5Q,C5Q+=1<<N5Q[t5Q];}}function j0Q(l5Q,Q5Q,z5Q,d5Q){var m5Q,D5Q;for(m5Q=0;16>m5Q;++m5Q){l5Q.table[m5Q]=0;}for(m5Q=0;m5Q<d5Q;++m5Q){l5Q.table[Q5Q[z5Q+m5Q]]++;}for(m5Q=D5Q=l5Q.table[0]=0;16>m5Q;++m5Q){H0Q[m5Q]=D5Q,D5Q+=l5Q.table[m5Q];}for(m5Q=0;m5Q<d5Q;++m5Q){Q5Q[z5Q+m5Q]&&(l5Q.trans[H0Q[Q5Q[z5Q+m5Q]]++]=m5Q);}}function o2Q(X5Q,W5Q,U5Q){if(!W5Q){return U5Q;}for(;24>X5Q.bitcount;){X5Q.tag|=X5Q.source[X5Q.sourceIndex++]<<X5Q.bitcount,X5Q.bitcount+=8;}var G5Q=X5Q.tag&65535>>>16-W5Q;X5Q.tag>>>=W5Q;X5Q.bitcount-=W5Q;return G5Q+U5Q;}function M0Q(e5Q,P5Q){for(;24>e5Q.bitcount;){e5Q.tag|=e5Q.source[e5Q.sourceIndex++]<<e5Q.bitcount,e5Q.bitcount+=8;}var v5Q=0,F5Q=0,p5Q=0,V5Q=e5Q.tag;do{F5Q=2*F5Q+(V5Q&1),V5Q>>>=1,++p5Q,v5Q+=P5Q.table[p5Q],F5Q-=P5Q.table[p5Q];}while(0<=F5Q);e5Q.tag=V5Q;e5Q.bitcount-=p5Q;return P5Q.trans[v5Q+F5Q];}function e3Q(R5Q,x5Q,k5Q){for(;;){var L5Q=M0Q(R5Q,x5Q);if(256===L5Q){return 0;}if(256>L5Q){R5Q.dest[R5Q.destLen++]=L5Q;}else{var i5Q,a5Q,L5Q=L5Q-257,L5Q=o2Q(R5Q,k2Q[L5Q],X2Q[L5Q]);i5Q=M0Q(R5Q,k5Q);for(a5Q=i5Q=R5Q.destLen-o2Q(R5Q,O0Q[i5Q],g0Q[i5Q]);a5Q<i5Q+L5Q;++a5Q){R5Q.dest[R5Q.destLen++]=R5Q.dest[a5Q];}}}}function t2Q(Y5Q,A5Q,r9Q,s9Q,w5Q){return Math.pow(1-w5Q,3)*Y5Q+3*Math.pow(1-w5Q,2)*w5Q*A5Q+3*(1-w5Q)*Math.pow(w5Q,2)*r9Q+Math.pow(w5Q,3)*s9Q;}function h2Q(){this.y2=this.x2=this.y1=this.x1=Number.NaN;}function A8Q(){this.commands=[];this.fill="black";this.stroke=null;this.strokeWidth=1;}function Z3Q(n9Q){throw Error(n9Q);}function S3Q(I9Q,T9Q){I9Q||Z3Q(T9Q);}function I2Q(c9Q){return function(){return c9Q;};}function r2Q(g9Q,o9Q,y9Q){var h9Q=this;for(var M9Q=0;M9Q<o9Q.length;M9Q+=1){var O9Q=o9Q[M9Q];h9Q[O9Q.name]=O9Q.value;}this.tableName=g9Q;this.fields=o9Q;if(y9Q){for(g9Q=Object.keys(y9Q),o9Q=0;o9Q<g9Q.length;o9Q+=1){M9Q=g9Q[o9Q],O9Q=y9Q[M9Q],void 0!==h9Q[M9Q]&&(h9Q[M9Q]=O9Q);}}}function D2Q(E9Q,q9Q,H9Q){void 0===H9Q&&(H9Q=q9Q.length);var Z9Q=Array(q9Q.length+1);Z9Q[0]={name:E9Q+"Count",type:"USHORT",value:H9Q};for(H9Q=0;H9Q<q9Q.length;H9Q++){Z9Q[H9Q+1]={name:E9Q+H9Q,type:"USHORT",value:q9Q[H9Q]};}return Z9Q;}function o0Q(S9Q,K9Q,b9Q){var j9Q=K9Q.length,J9Q=Array(j9Q+1);J9Q[0]={name:S9Q+"Count",type:"USHORT",value:j9Q};for(var u9Q=0;u9Q<j9Q;u9Q++){J9Q[u9Q+1]={name:S9Q+u9Q,type:"TABLE",value:b9Q(K9Q[u9Q],u9Q)};}return J9Q;}function F2Q(t9Q,f9Q,B9Q){var N9Q=f9Q.length,C9Q=[];C9Q[0]={name:t9Q+"Count",type:"USHORT",value:N9Q};for(t9Q=0;t9Q<N9Q;t9Q++){C9Q=C9Q.concat(B9Q(f9Q[t9Q],t9Q));}return C9Q;}function V2Q(m9Q){1===m9Q.format?r2Q.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(D2Q("glyph",m9Q.glyphs))):k8Q.assert(false,"Can't create coverage table format 2 yet.");}function L2Q(l9Q){r2Q.call(this,"scriptListTable",F2Q("scriptRecord",l9Q,function(z9Q,d9Q){var D9Q=z9Q.script,Q9Q=D9Q.defaultLangSys;k8Q.assert(!!Q9Q,"Unable to write GSUB: script "+z9Q.tag+" has no default language system.");return[{name:"scriptTag"+d9Q,type:"TAG",value:z9Q.tag},{name:"script"+d9Q,type:"TABLE",value:new r2Q("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new r2Q("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:Q9Q.reqFeatureIndex}].concat(D2Q("featureIndex",Q9Q.featureIndexes)))}].concat(F2Q("langSys",D9Q.langSysRecords,function(W9Q,U9Q){var X9Q=W9Q.langSys;return[{name:"langSysTag"+U9Q,type:"TAG",value:W9Q.tag},{name:"langSys"+U9Q,type:"TABLE",value:new r2Q("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:X9Q.reqFeatureIndex}].concat(D2Q("featureIndex",X9Q.featureIndexes)))}];})))}];}));}function R2Q(G9Q){r2Q.call(this,"featureListTable",F2Q("featureRecord",G9Q,function(F9Q,p9Q){var e9Q=F9Q.feature;return[{name:"featureTag"+p9Q,type:"TAG",value:F9Q.tag},{name:"feature"+p9Q,type:"TABLE",value:new r2Q("featureTable",[{name:"featureParams",type:"USHORT",value:e9Q.featureParams}].concat(D2Q("lookupListIndex",e9Q.lookupListIndexes)))}];}));}function x2Q(V9Q,P9Q){r2Q.call(this,"lookupListTable",o0Q("lookup",V9Q,function(v9Q){var L9Q=P9Q[v9Q.lookupType];k8Q.assert(!!L9Q,"Unable to write GSUB lookup type "+v9Q.lookupType+" tables.");return new r2Q("lookupTable",[{name:"lookupType",type:"USHORT",value:v9Q.lookupType},{name:"lookupFlag",type:"USHORT",value:v9Q.lookupFlag}].concat(o0Q("subtable",v9Q.subtables,L9Q)));}));}function O3Q(R9Q,i9Q){return R9Q.getUint8(i9Q);}function W2Q(a9Q,x9Q){return a9Q.getUint16(x9Q,false);}function D0Q(k9Q,w9Q){return k9Q.getUint32(w9Q,false);}function J3Q(Y9Q,A9Q){var r1Q=Y9Q.getInt16(A9Q,false);Y9Q=Y9Q.getUint16(A9Q+2,false);return r1Q+Y9Q/65535;}function P8Q(s1Q,n1Q){this.data=s1Q;this.offset=n1Q;this.relativeOffset=0;}function J5Q(c1Q,I1Q,T1Q){c1Q.segments.push({end:I1Q,start:I1Q,delta:-(I1Q-T1Q),offset:0,glyphIndex:T1Q});}function b3Q(M1Q){this.font=M1Q;}function Q3Q(o1Q){this.cmap=o1Q;}function e2Q(O1Q,g1Q){this.encoding=O1Q;this.charset=g1Q;}function q0Q(y1Q){var H1Q=this;switch(y1Q.version){case 1:this.names=u2Q.slice();break;case 2:this.names=Array(y1Q.numberOfGlyphs);for(var h1Q=0;h1Q<y1Q.numberOfGlyphs;h1Q++){H1Q.names[h1Q]=y1Q.glyphNameIndex[h1Q]<u2Q.length?u2Q[y1Q.glyphNameIndex[h1Q]]:y1Q.names[y1Q.glyphNameIndex[h1Q]-u2Q.length];}break;case 2.5:this.names=Array(y1Q.numberOfGlyphs);for(h1Q=0;h1Q<y1Q.numberOfGlyphs;h1Q++){H1Q.names[h1Q]=u2Q[h1Q+y1Q.glyphNameIndex[h1Q]];}break;case 3:this.names=[];break;default:this.names=[];}}function R0Q(q1Q,Z1Q,E1Q,j1Q,u1Q){0<(Z1Q&j1Q)?(q1Q=q1Q.parseByte(),0===(Z1Q&u1Q)&&(q1Q=-q1Q),q1Q=E1Q+q1Q):q1Q=0<(Z1Q&u1Q)?E1Q:E1Q+q1Q.parseShort();return q1Q;}function j5Q(b1Q,J1Q,S1Q){J1Q=new i8Q.Parser(J1Q,S1Q);b1Q.numberOfContours=J1Q.parseShort();b1Q._xMin=J1Q.parseShort();b1Q._yMin=J1Q.parseShort();b1Q._xMax=J1Q.parseShort();b1Q._yMax=J1Q.parseShort();var K1Q;if(0<b1Q.numberOfContours){var C1Q=b1Q.endPointIndices=[];for(K1Q=0;K1Q<b1Q.numberOfContours;K1Q+=1){C1Q.push(J1Q.parseUShort());}b1Q.instructionLength=J1Q.parseUShort();b1Q.instructions=[];for(K1Q=0;K1Q<b1Q.instructionLength;K1Q+=1){b1Q.instructions.push(J1Q.parseByte());}var B1Q=C1Q[C1Q.length-1]+1;K1Q=[];for(var f1Q=0;f1Q<B1Q;f1Q+=1){if(S1Q=J1Q.parseByte(),K1Q.push(S1Q),0<(S1Q&8)){for(var N1Q=J1Q.parseByte(),t1Q=0;t1Q<N1Q;t1Q+=1){K1Q.push(S1Q),f1Q+=1;}}}k8Q.argument(K1Q.length===B1Q,"Bad flags.");if(0<C1Q.length){f1Q=[];if(0<B1Q){for(t1Q=0;t1Q<B1Q;t1Q+=1){S1Q=K1Q[t1Q],N1Q={},N1Q.onCurve=!!(S1Q&1),N1Q.lastPointOfContour=0<=C1Q.indexOf(t1Q),f1Q.push(N1Q);}for(t1Q=C1Q=0;t1Q<B1Q;t1Q+=1){S1Q=K1Q[t1Q],N1Q=f1Q[t1Q],N1Q.x=R0Q(J1Q,S1Q,C1Q,2,16),C1Q=N1Q.x;}for(t1Q=C1Q=0;t1Q<B1Q;t1Q+=1){S1Q=K1Q[t1Q],N1Q=f1Q[t1Q],N1Q.y=R0Q(J1Q,S1Q,C1Q,4,32),C1Q=N1Q.y;}}b1Q.points=f1Q;}else{b1Q.points=[];}}else if(0===b1Q.numberOfContours){b1Q.points=[];}else{b1Q.isComposite=true;b1Q.points=[];b1Q.components=[];for(S1Q=true;S1Q;){K1Q=J1Q.parseUShort(),S1Q={glyphIndex:J1Q.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0},0<(K1Q&1)?0<(K1Q&2)?(S1Q.dx=J1Q.parseShort(),S1Q.dy=J1Q.parseShort()):S1Q.matchedPoints=[J1Q.parseUShort(),J1Q.parseUShort()]:0<(K1Q&2)?(S1Q.dx=J1Q.parseChar(),S1Q.dy=J1Q.parseChar()):S1Q.matchedPoints=[J1Q.parseByte(),J1Q.parseByte()],0<(K1Q&8)?S1Q.xScale=S1Q.yScale=J1Q.parseF2Dot14():0<(K1Q&64)?(S1Q.xScale=J1Q.parseF2Dot14(),S1Q.yScale=J1Q.parseF2Dot14()):0<(K1Q&128)&&(S1Q.xScale=J1Q.parseF2Dot14(),S1Q.scale01=J1Q.parseF2Dot14(),S1Q.scale10=J1Q.parseF2Dot14(),S1Q.yScale=J1Q.parseF2Dot14()),b1Q.components.push(S1Q),S1Q=!!(K1Q&32);}if(K1Q&256){for(b1Q.instructionLength=J1Q.parseUShort(),b1Q.instructions=[],K1Q=0;K1Q<b1Q.instructionLength;K1Q+=1){b1Q.instructions.push(J1Q.parseByte());}}}}function s3Q(D1Q,l1Q){for(var z1Q=[],Q1Q=0;Q1Q<D1Q.length;Q1Q+=1){var m1Q=D1Q[Q1Q];z1Q.push({x:l1Q.xScale*m1Q.x+l1Q.scale01*m1Q.y+l1Q.dx,y:l1Q.scale10*m1Q.x+l1Q.yScale*m1Q.y+l1Q.dy,onCurve:m1Q.onCurve,lastPointOfContour:m1Q.lastPointOfContour});}return z1Q;}function n3Q(e1Q){var U1Q=new A8Q();if(!e1Q){return U1Q;}for(var p1Q=[],X1Q=[],G1Q=0;G1Q<e1Q.length;G1Q+=1){var d1Q=e1Q[G1Q];X1Q.push(d1Q);d1Q.lastPointOfContour&&(p1Q.push(X1Q),X1Q=[]);}k8Q.argument(0===X1Q.length,"There are still points left in the current contour.");for(e1Q=0;e1Q<p1Q.length;++e1Q){var X1Q=p1Q[e1Q],d1Q=X1Q[X1Q.length-1],W1Q=X1Q[0];d1Q.onCurve?U1Q.moveTo(d1Q.x,d1Q.y):W1Q.onCurve?U1Q.moveTo(W1Q.x,W1Q.y):U1Q.moveTo(.5*(d1Q.x+W1Q.x),.5*(d1Q.y+W1Q.y));for(var V1Q=0;V1Q<X1Q.length;++V1Q){if(G1Q=d1Q,d1Q=W1Q,W1Q=X1Q[(V1Q+1)%X1Q.length],d1Q.onCurve){U1Q.lineTo(d1Q.x,d1Q.y);}else{var F1Q=G1Q,P1Q=W1Q;G1Q.onCurve||(F1Q={x:.5*(d1Q.x+G1Q.x),y:.5*(d1Q.y+G1Q.y)},U1Q.lineTo(F1Q.x,F1Q.y));W1Q.onCurve||(P1Q={x:.5*(d1Q.x+W1Q.x),y:.5*(d1Q.y+W1Q.y)});U1Q.lineTo(F1Q.x,F1Q.y);U1Q.quadraticCurveTo(d1Q.x,d1Q.y,P1Q.x,P1Q.y);}}U1Q.closePath();}return U1Q;}function u5Q(k1Q,L1Q){if(L1Q.isComposite){for(var a1Q=0;a1Q<L1Q.components.length;a1Q+=1){var v1Q=L1Q.components[a1Q],R1Q=k1Q.get(v1Q.glyphIndex);R1Q.getPath();if(R1Q.points){if(void 0!==v1Q.matchedPoints){if(v1Q.matchedPoints[0]>L1Q.points.length-1||v1Q.matchedPoints[1]>R1Q.points.length-1){throw Error("Matched points out of range in "+L1Q.name);}var x1Q=L1Q.points[v1Q.matchedPoints[0]],i1Q=R1Q.points[v1Q.matchedPoints[1]],v1Q={xScale:v1Q.xScale,scale01:v1Q.scale01,scale10:v1Q.scale10,yScale:v1Q.yScale,dx:0,dy:0},i1Q=s3Q([i1Q],v1Q)[0];v1Q.dx=x1Q.x-i1Q.x;v1Q.dy=x1Q.y-i1Q.y;}R1Q=s3Q(R1Q.points,v1Q);L1Q.points=L1Q.points.concat(R1Q);}}}return n3Q(L1Q.points);}function E5Q(A1Q,Y1Q){var w1Q=Y1Q||{commands:[]};return{configurable:true,get:function(){"function"===typeof w1Q&&(w1Q=w1Q());return w1Q;},set:function(r4Q){w1Q=r4Q;}};}function s2Q(s4Q){this.bindConstructorValues(s4Q);}function v2Q(n4Q,T4Q,I4Q){Object.defineProperty(n4Q,T4Q,{get:function(){n4Q.path;return n4Q[I4Q];},set:function(c4Q){n4Q[I4Q]=c4Q;},enumerable:true,configurable:true});}function r0Q(M4Q,o4Q){var O4Q=this;this.font=M4Q;this.glyphs={};if(Array.isArray(o4Q)){for(M4Q=0;M4Q<o4Q.length;M4Q++){O4Q.glyphs[M4Q]=o4Q[M4Q];}}this.length=o4Q&&o4Q.length||0;}function j3Q(g4Q,y4Q){if(g4Q===y4Q){return true;}if(Array.isArray(g4Q)&&Array.isArray(y4Q)){if(g4Q.length!==y4Q.length){return false;}for(var h4Q=0;h4Q<g4Q.length;h4Q+=1){if(!j3Q(g4Q[h4Q],y4Q[h4Q])){return false;}}return true;}return false;}function n0Q(H4Q){return 1240>H4Q.length?107:33900>H4Q.length?1131:32768;}function H2Q(J4Q,u4Q,t4Q){var j4Q=[],K4Q=[],Z4Q=i8Q.getCard16(J4Q,u4Q),S4Q;if(0!==Z4Q){var q4Q=i8Q.getByte(J4Q,u4Q+2);S4Q=u4Q+(Z4Q+1)*q4Q+2;for(var E4Q=u4Q+3,b4Q=0;b4Q<Z4Q+1;b4Q+=1){j4Q.push(i8Q.getOffset(J4Q,E4Q,q4Q)),E4Q+=q4Q;}Z4Q=S4Q+j4Q[Z4Q];}else{Z4Q=u4Q+2;}for(q4Q=0;q4Q<j4Q.length-1;q4Q+=1){E4Q=i8Q.getBytes(J4Q,S4Q+j4Q[q4Q],S4Q+j4Q[q4Q+1]),t4Q&&(E4Q=t4Q(E4Q)),K4Q.push(E4Q);}return{objects:K4Q,startOffset:u4Q,endOffset:Z4Q};}function Z5Q(f4Q,C4Q){var N4Q,B4Q;if(28===C4Q){return N4Q=f4Q.parseByte(),C4Q=f4Q.parseByte(),N4Q<<8|C4Q;}if(29===C4Q){return N4Q=f4Q.parseByte(),C4Q=f4Q.parseByte(),B4Q=f4Q.parseByte(),f4Q=f4Q.parseByte(),N4Q<<24|C4Q<<16|B4Q<<8|f4Q;}if(30===C4Q){N4Q="";for(C4Q=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var m4Q=f4Q.parseByte();B4Q=m4Q>>4;m4Q&=15;if(15===B4Q){break;}N4Q+=C4Q[B4Q];if(15===m4Q){break;}N4Q+=C4Q[m4Q];}return parseFloat(N4Q);}if(32<=C4Q&&246>=C4Q){return C4Q-139;}if(247<=C4Q&&250>=C4Q){return N4Q=f4Q.parseByte(),256*(C4Q-247)+N4Q+108;}if(251<=C4Q&&254>=C4Q){return N4Q=f4Q.parseByte(),256*-(C4Q-251)-N4Q-108;}throw Error("Invalid b0 "+C4Q);}function y0Q(l4Q,d4Q,Q4Q){var z4Q=new i8Q.Parser(l4Q,void 0!==d4Q?d4Q:0);d4Q=[];var D4Q=[];for(Q4Q=void 0!==Q4Q?Q4Q:l4Q.length;z4Q.relativeOffset<Q4Q;){l4Q=z4Q.parseByte(),21>=l4Q?(12===l4Q&&(l4Q=1200+z4Q.parseByte()),d4Q.push([l4Q,D4Q]),D4Q=[]):D4Q.push(Z5Q(z4Q,l4Q));}Q4Q={};for(l4Q=0;l4Q<d4Q.length;l4Q+=1){z4Q=d4Q[l4Q][0];D4Q=d4Q[l4Q][1];D4Q=1===D4Q.length?D4Q[0]:D4Q;if(Q4Q.hasOwnProperty(z4Q)&&!isNaN(Q4Q[z4Q])){throw Error("Object "+Q4Q+" already has key "+z4Q);}Q4Q[z4Q]=D4Q;}return Q4Q;}function l2Q(W4Q,X4Q){return X4Q=390>=X4Q?Q2Q[X4Q]:W4Q[X4Q-391];}function E0Q(P4Q,v4Q,L4Q){for(var F4Q={},G4Q,p4Q=0;p4Q<v4Q.length;p4Q+=1){var U4Q=v4Q[p4Q];if(Array.isArray(U4Q.type)){var V4Q=[];V4Q.length=U4Q.type.length;for(var e4Q=0;e4Q<U4Q.type.length;e4Q++){G4Q=void 0!==P4Q[U4Q.op]?P4Q[U4Q.op][e4Q]:void 0,void 0===G4Q&&(G4Q=void 0!==U4Q.value&&void 0!==U4Q.value[e4Q]?U4Q.value[e4Q]:null),"SID"===U4Q.type[e4Q]&&(G4Q=l2Q(L4Q,G4Q)),V4Q[e4Q]=G4Q;}F4Q[U4Q.name]=V4Q;}else{G4Q=P4Q[U4Q.op],void 0===G4Q&&(G4Q=void 0!==U4Q.value?U4Q.value:null),"SID"===U4Q.type&&(G4Q=l2Q(L4Q,G4Q)),F4Q[U4Q.name]=G4Q;}}return F4Q;}function P3Q(Y4Q,s7Q,r7Q,A4Q){for(var w4Q=[],k4Q=0;k4Q<r7Q.length;k4Q+=1){var i4Q=new DataView(new Uint8Array(r7Q[k4Q]).buffer),R4Q;R4Q=A4Q;i4Q=y0Q(i4Q,0,i4Q.byteLength);R4Q=E0Q(i4Q,z0Q,R4Q);R4Q._subrs=[];R4Q._subrsBias=0;var x4Q=R4Q.private[0],i4Q=R4Q.private[1];if(0!==x4Q&&0!==i4Q){var a4Q;a4Q=A4Q;x4Q=y0Q(Y4Q,i4Q+s7Q,x4Q);a4Q=E0Q(x4Q,G2Q,a4Q);R4Q._defaultWidthX=a4Q.defaultWidthX;R4Q._nominalWidthX=a4Q.nominalWidthX;0!==a4Q.subrs&&(i4Q=H2Q(Y4Q,i4Q+a4Q.subrs+s7Q),R4Q._subrs=i4Q.objects,R4Q._subrsBias=n0Q(R4Q._subrs));R4Q._privateDict=a4Q;}w4Q.push(R4Q);}return w4Q;}function q5Q(y7Q,j7Q,N7Q){function C7Q(f7Q,B7Q){E7Q&&g7Q.closePath();g7Q.moveTo(f7Q,B7Q);E7Q=true;}function Z7Q(){0===n7Q.length%2||h7Q||(q7Q=n7Q.shift()+H7Q);K7Q+=n7Q.length>>1;n7Q.length=0;h7Q=true;}function S7Q(X7Q){for(var m7Q,l7Q,z7Q,D7Q,d7Q,W7Q,Q7Q=0;Q7Q<X7Q.length;){switch(l7Q=X7Q[Q7Q],Q7Q+=1,l7Q){case 1:Z7Q();break;case 3:Z7Q();break;case 4:1<n7Q.length&&!h7Q&&(q7Q=n7Q.shift()+H7Q,h7Q=true);T7Q+=n7Q.pop();C7Q(I7Q,T7Q);break;case 5:for(;0<n7Q.length;){I7Q+=n7Q.shift(),T7Q+=n7Q.shift(),g7Q.lineTo(I7Q,T7Q);}break;case 6:for(;0<n7Q.length;){I7Q+=n7Q.shift();g7Q.lineTo(I7Q,T7Q);if(0===n7Q.length){break;}T7Q+=n7Q.shift();g7Q.lineTo(I7Q,T7Q);}break;case 7:for(;0<n7Q.length;){T7Q+=n7Q.shift();g7Q.lineTo(I7Q,T7Q);if(0===n7Q.length){break;}I7Q+=n7Q.shift();g7Q.lineTo(I7Q,T7Q);}break;case 8:for(;0<n7Q.length;){M7Q=I7Q+n7Q.shift(),o7Q=T7Q+n7Q.shift(),O7Q=M7Q+n7Q.shift(),c7Q=o7Q+n7Q.shift(),I7Q=O7Q+n7Q.shift(),T7Q=c7Q+n7Q.shift(),g7Q.curveTo(M7Q,o7Q,O7Q,c7Q,I7Q,T7Q);}break;case 10:m7Q=n7Q.pop()+b7Q;(m7Q=J7Q[m7Q])&&S7Q(m7Q);break;case 11:return;case 12:l7Q=X7Q[Q7Q];Q7Q+=1;switch(l7Q){case 35:M7Q=I7Q+n7Q.shift();o7Q=T7Q+n7Q.shift();O7Q=M7Q+n7Q.shift();c7Q=o7Q+n7Q.shift();m7Q=O7Q+n7Q.shift();l7Q=c7Q+n7Q.shift();z7Q=m7Q+n7Q.shift();D7Q=l7Q+n7Q.shift();d7Q=z7Q+n7Q.shift();W7Q=D7Q+n7Q.shift();I7Q=d7Q+n7Q.shift();T7Q=W7Q+n7Q.shift();n7Q.shift();g7Q.curveTo(M7Q,o7Q,O7Q,c7Q,m7Q,l7Q);g7Q.curveTo(z7Q,D7Q,d7Q,W7Q,I7Q,T7Q);break;case 34:M7Q=I7Q+n7Q.shift();o7Q=T7Q;O7Q=M7Q+n7Q.shift();c7Q=o7Q+n7Q.shift();m7Q=O7Q+n7Q.shift();l7Q=c7Q;z7Q=m7Q+n7Q.shift();D7Q=c7Q;d7Q=z7Q+n7Q.shift();W7Q=T7Q;I7Q=d7Q+n7Q.shift();g7Q.curveTo(M7Q,o7Q,O7Q,c7Q,m7Q,l7Q);g7Q.curveTo(z7Q,D7Q,d7Q,W7Q,I7Q,T7Q);break;case 36:M7Q=I7Q+n7Q.shift();o7Q=T7Q+n7Q.shift();O7Q=M7Q+n7Q.shift();c7Q=o7Q+n7Q.shift();m7Q=O7Q+n7Q.shift();l7Q=c7Q;z7Q=m7Q+n7Q.shift();D7Q=c7Q;d7Q=z7Q+n7Q.shift();W7Q=D7Q+n7Q.shift();I7Q=d7Q+n7Q.shift();g7Q.curveTo(M7Q,o7Q,O7Q,c7Q,m7Q,l7Q);g7Q.curveTo(z7Q,D7Q,d7Q,W7Q,I7Q,T7Q);break;case 37:M7Q=I7Q+n7Q.shift();o7Q=T7Q+n7Q.shift();O7Q=M7Q+n7Q.shift();c7Q=o7Q+n7Q.shift();m7Q=O7Q+n7Q.shift();l7Q=c7Q+n7Q.shift();z7Q=m7Q+n7Q.shift();D7Q=l7Q+n7Q.shift();d7Q=z7Q+n7Q.shift();W7Q=D7Q+n7Q.shift();Math.abs(d7Q-I7Q)>Math.abs(W7Q-T7Q)?I7Q=d7Q+n7Q.shift():T7Q=W7Q+n7Q.shift();g7Q.curveTo(M7Q,o7Q,O7Q,c7Q,m7Q,l7Q);g7Q.curveTo(z7Q,D7Q,d7Q,W7Q,I7Q,T7Q);break;default:console.log("Glyph "+j7Q.index+": unknown operator 1200"+l7Q),n7Q.length=0;}break;case 14:0<n7Q.length&&!h7Q&&(q7Q=n7Q.shift()+H7Q,h7Q=true);E7Q&&(g7Q.closePath(),E7Q=false);break;case 18:Z7Q();break;case 19:case 20:Z7Q();Q7Q+=K7Q+7>>3;break;case 21:2<n7Q.length&&!h7Q&&(q7Q=n7Q.shift()+H7Q,h7Q=true);T7Q+=n7Q.pop();I7Q+=n7Q.pop();C7Q(I7Q,T7Q);break;case 22:1<n7Q.length&&!h7Q&&(q7Q=n7Q.shift()+H7Q,h7Q=true);I7Q+=n7Q.pop();C7Q(I7Q,T7Q);break;case 23:Z7Q();break;case 24:for(;2<n7Q.length;){M7Q=I7Q+n7Q.shift(),o7Q=T7Q+n7Q.shift(),O7Q=M7Q+n7Q.shift(),c7Q=o7Q+n7Q.shift(),I7Q=O7Q+n7Q.shift(),T7Q=c7Q+n7Q.shift(),g7Q.curveTo(M7Q,o7Q,O7Q,c7Q,I7Q,T7Q);}I7Q+=n7Q.shift();T7Q+=n7Q.shift();g7Q.lineTo(I7Q,T7Q);break;case 25:for(;6<n7Q.length;){I7Q+=n7Q.shift(),T7Q+=n7Q.shift(),g7Q.lineTo(I7Q,T7Q);}M7Q=I7Q+n7Q.shift();o7Q=T7Q+n7Q.shift();O7Q=M7Q+n7Q.shift();c7Q=o7Q+n7Q.shift();I7Q=O7Q+n7Q.shift();T7Q=c7Q+n7Q.shift();g7Q.curveTo(M7Q,o7Q,O7Q,c7Q,I7Q,T7Q);break;case 26:for(n7Q.length%2&&(I7Q+=n7Q.shift());0<n7Q.length;){M7Q=I7Q,o7Q=T7Q+n7Q.shift(),O7Q=M7Q+n7Q.shift(),c7Q=o7Q+n7Q.shift(),I7Q=O7Q,T7Q=c7Q+n7Q.shift(),g7Q.curveTo(M7Q,o7Q,O7Q,c7Q,I7Q,T7Q);}break;case 27:for(n7Q.length%2&&(T7Q+=n7Q.shift());0<n7Q.length;){M7Q=I7Q+n7Q.shift(),o7Q=T7Q,O7Q=M7Q+n7Q.shift(),c7Q=o7Q+n7Q.shift(),I7Q=O7Q+n7Q.shift(),T7Q=c7Q,g7Q.curveTo(M7Q,o7Q,O7Q,c7Q,I7Q,T7Q);}break;case 28:m7Q=X7Q[Q7Q];l7Q=X7Q[Q7Q+1];n7Q.push((m7Q<<24|l7Q<<16)>>16);Q7Q+=2;break;case 29:m7Q=n7Q.pop()+y7Q.gsubrsBias;(m7Q=y7Q.gsubrs[m7Q])&&S7Q(m7Q);break;case 30:for(;0<n7Q.length;){M7Q=I7Q;o7Q=T7Q+n7Q.shift();O7Q=M7Q+n7Q.shift();c7Q=o7Q+n7Q.shift();I7Q=O7Q+n7Q.shift();T7Q=c7Q+(1===n7Q.length?n7Q.shift():0);g7Q.curveTo(M7Q,o7Q,O7Q,c7Q,I7Q,T7Q);if(0===n7Q.length){break;}M7Q=I7Q+n7Q.shift();o7Q=T7Q;O7Q=M7Q+n7Q.shift();c7Q=o7Q+n7Q.shift();T7Q=c7Q+n7Q.shift();I7Q=O7Q+(1===n7Q.length?n7Q.shift():0);g7Q.curveTo(M7Q,o7Q,O7Q,c7Q,I7Q,T7Q);}break;case 31:for(;0<n7Q.length;){M7Q=I7Q+n7Q.shift();o7Q=T7Q;O7Q=M7Q+n7Q.shift();c7Q=o7Q+n7Q.shift();T7Q=c7Q+n7Q.shift();I7Q=O7Q+(1===n7Q.length?n7Q.shift():0);g7Q.curveTo(M7Q,o7Q,O7Q,c7Q,I7Q,T7Q);if(0===n7Q.length){break;}M7Q=I7Q;o7Q=T7Q+n7Q.shift();O7Q=M7Q+n7Q.shift();c7Q=o7Q+n7Q.shift();I7Q=O7Q+n7Q.shift();T7Q=c7Q+(1===n7Q.length?n7Q.shift():0);g7Q.curveTo(M7Q,o7Q,O7Q,c7Q,I7Q,T7Q);}break;default:32>l7Q?console.log("Glyph "+j7Q.index+": unknown operator "+l7Q):247>l7Q?n7Q.push(l7Q-139):251>l7Q?(m7Q=X7Q[Q7Q],Q7Q+=1,n7Q.push(256*(l7Q-247)+m7Q+108)):255>l7Q?(m7Q=X7Q[Q7Q],Q7Q+=1,n7Q.push(256*-(l7Q-251)-m7Q-108)):(m7Q=X7Q[Q7Q],l7Q=X7Q[Q7Q+1],z7Q=X7Q[Q7Q+2],D7Q=X7Q[Q7Q+3],Q7Q+=4,n7Q.push((m7Q<<24|l7Q<<16|z7Q<<8|D7Q)/65536));}}}var M7Q,o7Q,O7Q,c7Q,g7Q=new A8Q(),n7Q=[],K7Q=0,h7Q=false,E7Q=false,I7Q=0,T7Q=0,J7Q,b7Q,t7Q,H7Q;if(y7Q.isCIDFont){var u7Q=y7Q.tables.cff.topDict._fdArray[y7Q.tables.cff.topDict._fdSelect[j7Q.index]];J7Q=u7Q._subrs;b7Q=u7Q._subrsBias;t7Q=u7Q._defaultWidthX;H7Q=u7Q._nominalWidthX;}else{J7Q=y7Q.tables.cff.topDict._subrs,b7Q=y7Q.tables.cff.topDict._subrsBias,t7Q=y7Q.tables.cff.topDict._defaultWidthX,H7Q=y7Q.tables.cff.topDict._nominalWidthX;}var q7Q=t7Q;S7Q(N7Q);j7Q.advanceWidth=q7Q;return g7Q;}function L3Q(G7Q,e7Q){var U7Q;Q2Q.indexOf(G7Q);U7Q=e7Q.indexOf(G7Q);0<=U7Q?U7Q+=Q2Q.length:(U7Q=Q2Q.length+e7Q.length,e7Q.push(G7Q));return U7Q;}function i3Q(v7Q,L7Q,R7Q){for(var P7Q={},V7Q=0;V7Q<v7Q.length;V7Q+=1){var F7Q=v7Q[V7Q],p7Q=L7Q[F7Q.name];void 0===p7Q||j3Q(p7Q,F7Q.value)||("SID"===F7Q.type&&(p7Q=L3Q(p7Q,R7Q)),P7Q[F7Q.op]={name:F7Q.name,type:F7Q.type,value:p7Q});}return P7Q;}function x3Q(a7Q,x7Q){var i7Q=new x8Q.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);i7Q.dict=i3Q(z0Q,a7Q,x7Q);return i7Q;}function P0Q(w7Q){var k7Q=new x8Q.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);k7Q.topDicts=[{name:"topDict_0",type:"TABLE",value:w7Q}];return k7Q;}function v0Q(A7Q,Y7Q,r6Q){switch(A7Q){case 0:return"utf-16";case 1:return w3Q[r6Q]||k3Q[Y7Q];case 3:if(1===Y7Q||10===Y7Q){return"utf-16";}}}function S0Q(I6Q){var s6Q={},n6Q;for(n6Q in I6Q){s6Q[I6Q[n6Q]]=parseInt(n6Q);}return s6Q;}function i0Q(T6Q,c6Q,M6Q,o6Q,O6Q,g6Q){return new x8Q.Record("NameRecord",[{name:"platformID",type:"USHORT",value:T6Q},{name:"encodingID",type:"USHORT",value:c6Q},{name:"languageID",type:"USHORT",value:M6Q},{name:"nameID",type:"USHORT",value:o6Q},{name:"length",type:"USHORT",value:O6Q},{name:"offset",type:"USHORT",value:g6Q}]);}function a0Q(Z6Q,E6Q){var h6Q;a:{h6Q=Z6Q.length;var H6Q=E6Q.length-h6Q+1,y6Q=0;b:for(;y6Q<H6Q;y6Q++){for(;y6Q<H6Q;){for(var q6Q=0;q6Q<h6Q;q6Q++){if(E6Q[y6Q+q6Q]!==Z6Q[q6Q]){continue b;}}h6Q=y6Q;break a;}}h6Q=-1;}if(0>h6Q){for(h6Q=E6Q.length,H6Q=0,y6Q=Z6Q.length;H6Q<y6Q;++H6Q){E6Q.push(Z6Q[H6Q]);}}return h6Q;}function K0Q(u6Q){for(;0!==u6Q.length%4;){u6Q.push(0);}for(var J6Q=0,j6Q=0;j6Q<u6Q.length;j6Q+=4){J6Q+=(u6Q[j6Q]<<24)+(u6Q[j6Q+1]<<16)+(u6Q[j6Q+2]<<8)+u6Q[j6Q+3];}return J6Q%=Math.pow(2,32);}function w0Q(S6Q,K6Q,b6Q,t6Q){return new x8Q.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==S6Q?S6Q:""},{name:"checkSum",type:"ULONG",value:void 0!==K6Q?K6Q:0},{name:"offset",type:"ULONG",value:void 0!==b6Q?b6Q:0},{name:"length",type:"ULONG",value:void 0!==t6Q?t6Q:0}]);}function A0Q(l6Q){var C6Q=new x8Q.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);C6Q.tables=l6Q;C6Q.numTables=l6Q.length;var N6Q=Math.pow(2,Math.log(C6Q.numTables)/Math.log(2)|0);C6Q.searchRange=16*N6Q;C6Q.entrySelector=Math.log(N6Q)/Math.log(2)|0;C6Q.rangeShift=16*C6Q.numTables-C6Q.searchRange;for(var N6Q=[],m6Q=[],f6Q=C6Q.sizeOf()+w0Q().sizeOf()*C6Q.numTables;0!==f6Q%4;){f6Q+=1,m6Q.push({name:"padding",type:"BYTE",value:0});}for(var Q6Q=0;Q6Q<l6Q.length;Q6Q+=1){var B6Q=l6Q[Q6Q];k8Q.argument(4===B6Q.tableName.length,"Table name"+B6Q.tableName+" is invalid.");var z6Q=B6Q.sizeOf(),D6Q=w0Q(B6Q.tableName,K0Q(B6Q.encode()),f6Q,z6Q);N6Q.push({name:D6Q.tag+" Table Record",type:"RECORD",value:D6Q});m6Q.push({name:B6Q.tableName+" table",type:"RECORD",value:B6Q});f6Q+=z6Q;for(k8Q.argument(!isNaN(f6Q),"Something went wrong calculating the offset.");0!==f6Q%4;){f6Q+=1,m6Q.push({name:"padding",type:"BYTE",value:0});}}N6Q.sort(function(d6Q,X6Q){return d6Q.value.tag>X6Q.value.tag?1:-1;});C6Q.fields=C6Q.fields.concat(N6Q);C6Q.fields=C6Q.fields.concat(m6Q);return C6Q;}function r3Q(G6Q,e6Q,F6Q){for(var W6Q=0;W6Q<e6Q.length;W6Q+=1){var U6Q=G6Q.charToGlyphIndex(e6Q[W6Q]);if(0<U6Q){return G6Q.glyphs.get(U6Q).getMetrics();}}return F6Q;}function b0Q(L6Q,R6Q){for(var p6Q=0,P6Q=L6Q.length-1;p6Q<=P6Q;){var V6Q=p6Q+P6Q>>>1,v6Q=L6Q[V6Q].tag;if(v6Q===R6Q){return V6Q;}v6Q<R6Q?p6Q=V6Q+1:P6Q=V6Q-1;}return-p6Q-1;}function C0Q(i6Q,a6Q){this.font=i6Q;this.tableName=a6Q;}function c2Q(x6Q){C0Q.call(this,x6Q,"gsub");}function c3Q(k6Q,r8V,Y6Q){k6Q=k6Q.subtables;for(var w6Q=0;w6Q<k6Q.length;w6Q++){var A6Q=k6Q[w6Q];if(A6Q.substFormat===r8V){return A6Q;}}if(Y6Q){return k6Q.push(Y6Q),Y6Q;}}function M3Q(n8V){for(var I8V=new ArrayBuffer(n8V.length),T8V=new Uint8Array(I8V),s8V=0;s8V<n8V.length;++s8V){T8V[s8V]=n8V[s8V];}return I8V;}function H5Q(M8V){var o8V=new Buffer(M8V.byteLength);M8V=new Uint8Array(M8V);for(var c8V=0;c8V<o8V.length;++c8V){o8V[c8V]=M8V[c8V];}return o8V;}function b2Q(O8V,g8V){if(!O8V){throw g8V;}}function g3Q(h8V){this.font=h8V;this._fpgmState=this._prepState=void 0;this._errorState=0;}function y5Q(y8V){return y8V;}function y3Q(H8V){return Math.sign(H8V)*Math.round(Math.abs(H8V));}function h5Q(q8V){return Math.sign(q8V)*Math.round(Math.abs(2*q8V))/2;}function Y3Q(Z8V){return Math.sign(Z8V)*(Math.round(Math.abs(Z8V)+.5)-.5);}function O5Q(E8V){return Math.sign(E8V)*Math.ceil(Math.abs(E8V));}function o5Q(u8V){return Math.sign(u8V)*Math.floor(Math.abs(u8V));}function z2Q(j8V,J8V){this.x=j8V;this.y=J8V;this.axis=void 0;this.slope=J8V/j8V;this.normalSlope=-j8V/J8V;Object.freeze(this);}function m2Q(S8V,K8V){var b8V=Math.sqrt(S8V*S8V+K8V*K8V);S8V/=b8V;K8V/=b8V;return 1===S8V&&0===K8V?M2Q:0===S8V&&1===K8V?O2Q:new z2Q(S8V,K8V);}function g2Q(t8V,C8V,N8V,f8V){this.x=this.xo=Math.round(64*t8V)/64;this.y=this.yo=Math.round(64*C8V)/64;this.lastPointOfContour=N8V;this.onCurve=f8V;this.nextPointOnContour=this.prevPointOnContour=void 0;this.yTouched=this.xTouched=false;Object.preventExtensions(this);}function E2Q(B8V,m8V){this.env=B8V;this.stack=[];this.prog=m8V;switch(B8V){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=M2Q,this.round=y3Q;}}function w2Q(l8V){l8V=l8V.tZone=Array(l8V.gZone.length);for(var Q8V=0;Q8V<l8V.length;Q8V++){l8V[Q8V]=new g2Q(0,0);}}function t3Q(W8V,U8V){var X8V=W8V.prog,D8V=W8V.ip,d8V=1,z8V;do{if(z8V=X8V[++D8V],88===z8V){d8V++;}else if(89===z8V){d8V--;}else if(64===z8V){D8V+=X8V[D8V+1]+1;}else if(65===z8V){D8V+=2*X8V[D8V+1]+1;}else if(176<=z8V&&183>=z8V){D8V+=z8V-176+1;}else if(184<=z8V&&191>=z8V){D8V+=2*(z8V-184+1);}else if(U8V&&1===d8V&&27===z8V){break;}}while(0<d8V);W8V.ip=D8V;}function C3Q(e8V,G8V){v8Q.DEBUG&&console.log(G8V.step,"SVTCA["+e8V.axis+"]");G8V.fv=G8V.pv=G8V.dpv=e8V;}function N3Q(p8V,F8V){v8Q.DEBUG&&console.log(F8V.step,"SPVTCA["+p8V.axis+"]");F8V.pv=F8V.dpv=p8V;}function B3Q(V8V,P8V){v8Q.DEBUG&&console.log(P8V.step,"SFVTCA["+V8V.axis+"]");P8V.fv=V8V;}function m3Q(R8V,i8V){var v8V=i8V.stack,L8V=v8V.pop(),x8V=v8V.pop(),v8V=i8V.z2[L8V],a8V=i8V.z1[x8V];v8Q.DEBUG&&console.log("SPVTL["+R8V+"]",L8V,x8V);R8V?(R8V=v8V.y-a8V.y,L8V=a8V.x-v8V.x):(R8V=a8V.x-v8V.x,L8V=a8V.y-v8V.y);i8V.pv=i8V.dpv=m2Q(R8V,L8V);}function l3Q(Y8V,r2V){var k8V=r2V.stack,w8V=k8V.pop(),s2V=k8V.pop(),k8V=r2V.z2[w8V],A8V=r2V.z1[s2V];v8Q.DEBUG&&console.log("SFVTL["+Y8V+"]",w8V,s2V);Y8V?(Y8V=k8V.y-A8V.y,w8V=A8V.x-k8V.x):(Y8V=A8V.x-k8V.x,w8V=A8V.y-k8V.y);r2V.fv=m2Q(Y8V,w8V);}function Z0Q(n2V){v8Q.DEBUG&&console.log(n2V.step,"POP[]");n2V.stack.pop();}function d3Q(g2V,I2V){var T2V=I2V.stack.pop(),c2V=I2V.z0[T2V],o2V=I2V.fv,O2V=I2V.pv;v8Q.DEBUG&&console.log(I2V.step,"MDAP["+g2V+"]",T2V);var M2V=O2V.distance(c2V,C2Q);g2V&&(M2V=I2V.round(M2V));o2V.setRelative(c2V,C2Q,M2V,O2V);o2V.touch(c2V);I2V.rp0=I2V.rp1=T2V;}function X3Q(y2V,h2V){var Z2V=h2V.z2,u2V=Z2V.length-2,H2V,E2V;v8Q.DEBUG&&console.log(h2V.step,"IUP["+y2V.axis+"]");for(var q2V=0;q2V<u2V;q2V++){h2V=Z2V[q2V],y2V.touched(h2V)||(H2V=h2V.prevTouched(y2V),H2V!==h2V&&(E2V=h2V.nextTouched(y2V),H2V===E2V&&y2V.setRelative(h2V,h2V,y2V.distance(H2V,H2V,false,true),y2V,true),y2V.interpolate(h2V,H2V,E2V,y2V)));}}function W3Q(t2V,j2V){for(var m2V=j2V.stack,K2V=(t2V?j2V.z0:j2V.z1)[t2V?j2V.rp1:j2V.rp2],b2V=j2V.fv,S2V=j2V.pv,C2V=j2V.loop,f2V=j2V.z2;C2V--;){var N2V=m2V.pop(),J2V=f2V[N2V],B2V=S2V.distance(K2V,K2V,false,true);b2V.setRelative(J2V,J2V,B2V,S2V);b2V.touch(J2V);v8Q.DEBUG&&console.log(j2V.step,(1<j2V.loop?"loop "+(j2V.loop-C2V)+": "+"SHP[":'SHP[')+(t2V?"rp1":"rp2")+"]",N2V);}j2V.loop=1;}function U3Q(z2V,l2V){var D2V=(z2V?l2V.z0:l2V.z1)[z2V?l2V.rp1:l2V.rp2],U2V=l2V.fv,d2V=l2V.pv,X2V=l2V.stack.pop(),W2V=l2V.z2[l2V.contours[X2V]],Q2V=W2V;v8Q.DEBUG&&console.log(l2V.step,"SHC["+z2V+"]",X2V);z2V=d2V.distance(D2V,D2V,false,true);do{Q2V!==D2V&&U2V.setRelative(Q2V,Q2V,z2V,d2V),Q2V=Q2V.nextPointOnContour;}while(Q2V!==W2V);}function G3Q(e2V,G2V){var F2V=(e2V?G2V.z0:G2V.z1)[e2V?G2V.rp1:G2V.rp2],v2V=G2V.fv,P2V=G2V.pv,p2V=G2V.stack.pop();v8Q.DEBUG&&console.log(G2V.step,"SHZ["+e2V+"]",p2V);switch(p2V){case 0:e2V=G2V.tZone;break;case 1:e2V=G2V.gZone;break;default:throw Error("Invalid zone");}G2V=P2V.distance(F2V,F2V,false,true);for(var p2V=e2V.length-2,V2V=0;V2V<p2V;V2V++){F2V=e2V[V2V],v2V.setRelative(F2V,F2V,G2V,P2V);}}function V0Q(k2V,L2V){var R2V=L2V.stack,i2V=R2V.pop()/64,R2V=R2V.pop(),a2V=L2V.z1[R2V],x2V=L2V.fv;x2V.setRelative(a2V,L2V.z0[L2V.rp0],i2V,L2V.pv);x2V.touch(a2V);v8Q.DEBUG&&console.log(L2V.step,"MSIRP["+k2V+"]",i2V,R2V);L2V.rp1=L2V.rp0;L2V.rp2=R2V;k2V&&(L2V.rp0=R2V);}function F3Q(T0V,w2V){var A2V=w2V.stack,Y2V=A2V.pop(),A2V=A2V.pop(),r0V=w2V.z0[A2V],n0V=w2V.fv,I0V=w2V.pv,s0V=w2V.cvt[Y2V];v8Q.DEBUG&&console.log(w2V.step,"MIAP["+T0V+"]",Y2V,"(",s0V,")",A2V);Y2V=I0V.distance(r0V,C2Q);T0V&&(Math.abs(Y2V-s0V)<w2V.cvCutIn&&(Y2V=s0V),Y2V=w2V.round(Y2V));n0V.setRelative(r0V,C2Q,Y2V,I0V);0===w2V.zp0&&(r0V.xo=r0V.x,r0V.yo=r0V.y);n0V.touch(r0V);w2V.rp0=w2V.rp1=A2V;}function p3Q(O0V,c0V){var M0V=c0V.stack,o0V=M0V.pop(),g0V=c0V.z2[o0V];v8Q.DEBUG&&console.log(c0V.step,"GC["+O0V+"]",o0V);M0V.push(64*c0V.dpv.distance(g0V,C2Q,O0V,false));}function V3Q(H0V,y0V){var h0V=y0V.stack,q0V=h0V.pop(),h0V=h0V.pop(),Z0V=y0V.dpv.distance(y0V.z0[h0V],y0V.z1[q0V],H0V,H0V);v8Q.DEBUG&&console.log(y0V.step,"MD["+H0V+"]",q0V,h0V,"->",Z0V);y0V.stack.push(Math.round(64*Z0V));}function u0Q(S0V,E0V){var J0V=E0V.stack,K0V=J0V.pop(),N0V=E0V.fv,B0V=E0V.pv,t0V=E0V.ppem,C0V=E0V.deltaBase+16*(S0V-1),b0V=E0V.deltaShift,f0V=E0V.z0;v8Q.DEBUG&&console.log(E0V.step,"DELTAP["+S0V+"]",K0V,J0V);for(S0V=0;S0V<K0V;S0V++){var j0V=J0V.pop(),u0V=J0V.pop();C0V+((u0V&240)>>4)===t0V&&(u0V=(u0V&15)-8,0<=u0V&&u0V++,v8Q.DEBUG&&console.log(E0V.step,"DELTAPFIX",j0V,"by",u0V*b0V),j0V=f0V[j0V],N0V.setRelative(j0V,j0V,u0V*b0V,B0V));}}function U2Q(m0V,l0V){m0V=l0V.stack;var Q0V=m0V.pop();v8Q.DEBUG&&console.log(l0V.step,"ROUND[]");m0V.push(64*l0V.round(Q0V/64));}function J0Q(d0V,D0V){var X0V=D0V.stack,W0V=X0V.pop(),G0V=D0V.ppem,e0V=D0V.deltaBase+16*(d0V-1),F0V=D0V.deltaShift;v8Q.DEBUG&&console.log(D0V.step,"DELTAC["+d0V+"]",W0V,X0V);for(d0V=0;d0V<W0V;d0V++){var U0V=X0V.pop(),z0V=X0V.pop();e0V+((z0V&240)>>4)===G0V&&(z0V=(z0V&15)-8,0<=z0V&&z0V++,z0V*=F0V,v8Q.DEBUG&&console.log(D0V.step,"DELTACFIX",U0V,"by",z0V),D0V.cvt[U0V]+=z0V);}}function R3Q(P0V,v0V){var p0V=v0V.stack,V0V=p0V.pop(),R0V=p0V.pop(),p0V=v0V.z2[V0V],L0V=v0V.z1[R0V];v8Q.DEBUG&&console.log(v0V.step,"SDPVTL["+P0V+"]",V0V,R0V);P0V?(P0V=p0V.y-L0V.y,V0V=L0V.x-p0V.x):(P0V=L0V.x-p0V.x,V0V=L0V.y-p0V.y);v0V.dpv=m2Q(P0V,V0V);}function Z2Q(k0V,i0V){var w0V=i0V.stack,Y0V=i0V.prog,a0V=i0V.ip;v8Q.DEBUG&&console.log(i0V.step,"PUSHB["+k0V+"]");for(var x0V=0;x0V<k0V;x0V++){w0V.push(Y0V[++a0V]);}i0V.ip=a0V;}function q2Q(T3V,A0V){var s3V=A0V.ip,n3V=A0V.prog,c3V=A0V.stack;v8Q.DEBUG&&console.log(A0V.ip,"PUSHW["+T3V+"]");for(var I3V=0;I3V<T3V;I3V++){var r3V=n3V[++s3V]<<8|n3V[++s3V];r3V&32768&&(r3V=-((r3V^65535)+1));c3V.push(r3V);}A0V.ip=s3V;}function R8Q(y3V,t3V,b3V,Z3V,E3V,M3V){var O3V=M3V.stack,h3V=y3V&&O3V.pop(),O3V=O3V.pop(),q3V=M3V.z0[M3V.rp0],H3V=M3V.z1[O3V],j3V=M3V.minDis,J3V=M3V.fv,S3V=M3V.dpv,K3V,o3V,u3V,g3V;o3V=K3V=S3V.distance(H3V,q3V,true,true);u3V=0<=o3V?1:-1;o3V=Math.abs(o3V);y3V&&(g3V=M3V.cvt[h3V],Z3V&&Math.abs(o3V-g3V)<M3V.cvCutIn&&(o3V=g3V));b3V&&o3V<j3V&&(o3V=j3V);Z3V&&(o3V=M3V.round(o3V));J3V.setRelative(H3V,q3V,u3V*o3V,S3V);J3V.touch(H3V);v8Q.DEBUG&&console.log(M3V.step,(y3V?"MIRP[":"MDRP[")+(t3V?"M":"m")+(b3V?">":"_")+(Z3V?"R":"_")+(0===E3V?"Gr":1===E3V?"Bl":2===E3V?"Wh":"")+"]",y3V?h3V+"("+M3V.cvt[h3V]+","+g3V+")":"",O3V,"(d =",K3V,"->",u3V*o3V,")");M3V.rp1=M3V.rp0;M3V.rp2=O3V;t3V&&(M3V.rp0=O3V);}function w8Q(C3V){C3V=C3V||{};C3V.empty||(b2Q(C3V.familyName,"When creating a new Font object, familyName is required."),b2Q(C3V.styleName,"When creating a new Font object, styleName is required."),b2Q(C3V.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),b2Q(C3V.ascender,"When creating a new Font object, ascender is required."),b2Q(C3V.descender,"When creating a new Font object, descender is required."),b2Q(0>C3V.descender,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:C3V.familyName||" "},fontSubfamily:{en:C3V.styleName||" "},fullName:{en:C3V.fullName||C3V.familyName+" "+C3V.styleName},postScriptName:{en:C3V.postScriptName||C3V.familyName+C3V.styleName},designer:{en:C3V.designer||" "},designerURL:{en:C3V.designerURL||" "},manufacturer:{en:C3V.manufacturer||" "},manufacturerURL:{en:C3V.manufacturerURL||" "},license:{en:C3V.license||" "},licenseURL:{en:C3V.licenseURL||" "},version:{en:C3V.version||"Version 0.1"},description:{en:C3V.description||" "},copyright:{en:C3V.copyright||" "},trademark:{en:C3V.trademark||" "}},this.unitsPerEm=C3V.unitsPerEm||1E3,this.ascender=C3V.ascender,this.descender=C3V.descender,this.createdTimestamp=C3V.createdTimestamp,this.tables={os2:{usWeightClass:C3V.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:C3V.widthClass||this.usWidthClasses.MEDIUM,fsSelection:C3V.fsSelection||this.fsSelectionValues.REGULAR}});this.supported=true;this.glyphs=new J2Q.GlyphSet(this,C3V.glyphs||[]);this.encoding=new b3Q(this);this.substitution=new c2Q(this);this.tables=this.tables||{};Object.defineProperty(this,"hinting",{get:function(){if(this._hinting){return this._hinting;}if("truetype"===this.outlinesFormat){return this._hinting=new g3Q(this);}}});}function L0Q(l3V,B3V){var Q3V=JSON.stringify(l3V),f3V=256,m3V;for(m3V in B3V){var N3V=parseInt(m3V);if(N3V&&!(256>N3V)){if(JSON.stringify(B3V[m3V])===Q3V){return N3V;}f3V<=N3V&&(f3V=N3V+1);}}B3V[f3V]=l3V;return f3V;}function M5Q(z3V,D3V,d3V){d3V=L0Q(D3V.name,d3V);return[{name:"tag_"+z3V,type:"TAG",value:D3V.tag},{name:"minValue_"+z3V,type:"FIXED",value:D3V.minValue<<16},{name:"defaultValue_"+z3V,type:"FIXED",value:D3V.defaultValue<<16},{name:"maxValue_"+z3V,type:"FIXED",value:D3V.maxValue<<16},{name:"flags_"+z3V,type:"USHORT",value:0},{name:"nameID_"+z3V,type:"USHORT",value:d3V}];}function c5Q(X3V,U3V,G3V){var W3V={};X3V=new i8Q.Parser(X3V,U3V);W3V.tag=X3V.parseTag();W3V.minValue=X3V.parseFixed();W3V.defaultValue=X3V.parseFixed();W3V.maxValue=X3V.parseFixed();X3V.skip("uShort",1);W3V.name=G3V[X3V.parseUShort()]||{};return W3V;}function T5Q(p3V,P3V,v3V,e3V){e3V=L0Q(P3V.name,e3V);e3V=[{name:"nameID_"+p3V,type:"USHORT",value:e3V},{name:"flags_"+p3V,type:"USHORT",value:0}];for(var F3V=0;F3V<v3V.length;++F3V){var V3V=v3V[F3V].tag;e3V.push({name:"axis_"+p3V+" "+V3V,type:"FIXED",value:P3V.coordinates[V3V]<<16});}return e3V;}function I5Q(L3V,x3V,a3V,R3V){var i3V={};L3V=new i8Q.Parser(L3V,x3V);i3V.name=R3V[L3V.parseUShort()]||{};L3V.skip("uShort",1);i3V.coordinates={};for(R3V=0;R3V<a3V.length;++R3V){i3V.coordinates[a3V[R3V].tag]=L3V.parseFixed();}return i3V;}function k0Q(k3V,w3V){k3V=new i8Q.Parser(k3V,w3V);w3V=k3V.parseUShort();for(var Y3V=[],A3V=0;A3V<w3V;A3V++){Y3V[k3V.parseTag()]={offset:k3V.parseUShort()};}return Y3V;}function n5Q(r5V,n5V){r5V=new i8Q.Parser(r5V,n5V);var s5V=r5V.parseUShort();n5V=r5V.parseUShort();if(1===s5V){return r5V.parseUShortList(n5V);}if(2===s5V){for(s5V=[];n5V--;){for(var I5V=r5V.parseUShort(),T5V=r5V.parseUShort(),c5V=r5V.parseUShort();I5V<=T5V;I5V++){s5V[c5V++]=I5V;}}return s5V;}}function Y0Q(M5V,o5V){M5V=new i8Q.Parser(M5V,o5V);o5V=M5V.parseUShort();if(1===o5V){var H5V=M5V.parseUShort();o5V=M5V.parseUShort();var q5V=M5V.parseUShortList(o5V);return function(Z5V){return q5V[Z5V-H5V]||0;};}if(2===o5V){o5V=M5V.parseUShort();for(var g5V=[],h5V=[],y5V=[],O5V=0;O5V<o5V;O5V++){g5V[O5V]=M5V.parseUShort(),h5V[O5V]=M5V.parseUShort(),y5V[O5V]=M5V.parseUShort();}return function(J5V){for(var E5V=0,u5V=g5V.length-1;E5V<u5V;){var j5V=E5V+u5V+1>>1;J5V<g5V[j5V]?u5V=j5V-1:E5V=j5V;}return g5V[E5V]<=J5V&&J5V<=h5V[E5V]?y5V[E5V]||0:0;};}}function s5Q(t5V,C5V){var S5V=new i8Q.Parser(t5V,C5V),b5V=S5V.parseUShort(),f5V=S5V.parseUShort(),f5V=n5Q(t5V,C5V+f5V),Q5V=S5V.parseUShort(),l5V=S5V.parseUShort(),m5V;if(4===Q5V&&0===l5V){var B5V={};if(1===b5V){t5V=S5V.parseUShort();var D5V=[];C5V=S5V.parseOffset16List(t5V);for(b5V=0;b5V<t5V;b5V++){var N5V=C5V[b5V],K5V=B5V[N5V];if(!K5V){for(K5V={},S5V.relativeOffset=N5V,N5V=S5V.parseUShort();N5V--;){var U5V=S5V.parseUShort();Q5V&&(m5V=S5V.parseShort());l5V&&S5V.parseShort();K5V[U5V]=m5V;}}D5V[f5V[b5V]]=K5V;}return function(G5V,e5V){if(G5V=D5V[G5V]){return G5V[e5V];}};}if(2===b5V){var K5V=S5V.parseUShort(),N5V=S5V.parseUShort(),B5V=S5V.parseUShort(),b5V=S5V.parseUShort(),X5V=Y0Q(t5V,C5V+K5V),W5V=Y0Q(t5V,C5V+N5V),d5V=[];for(t5V=0;t5V<B5V;t5V++){for(C5V=d5V[t5V]=[],K5V=0;K5V<b5V;K5V++){Q5V&&(m5V=S5V.parseShort()),l5V&&S5V.parseShort(),C5V[K5V]=m5V;}}for(var z5V={},S5V=0;S5V<f5V.length;S5V++){z5V[f5V[S5V]]=1;}return function(F5V,p5V){if(z5V[F5V]&&(F5V=X5V(F5V),p5V=W5V(p5V),F5V=d5V[F5V])){return F5V[p5V];}};}}}function r5Q(i5V,a5V){var V5V=new i8Q.Parser(i5V,a5V),P5V=V5V.parseUShort(),v5V=V5V.parseUShort(),x5V=v5V&16,R5V=V5V.parseUShort(),k5V=V5V.parseOffset16List(R5V),V5V={lookupType:P5V,lookupFlag:v5V,markFilteringSet:x5V?V5V.parseUShort():-1};if(2===P5V){for(var L5V=[],P5V=0;P5V<R5V;P5V++){(v5V=s5Q(i5V,a5V+k5V[P5V]))&&L5V.push(v5V);}V5V.getKerningValue=function(A5V,r9V){for(var w5V=L5V.length;w5V--;){var Y5V=L5V[w5V](A5V,r9V);if(void 0!==Y5V){return Y5V;}}return 0;};}return V5V;}function g5Q(n9V,s9V){require("fs").readFile(n9V,function(I9V,T9V){if(I9V){return s9V(I9V.message);}s9V(null,M3Q(T9V));});}function A3Q(o9V,M9V){var c9V=new XMLHttpRequest();c9V.open("get",o9V,true);c9V.responseType="arraybuffer";c9V.onload=function(){return c9V.response?M9V(null,c9V.response):M9V("Font could not be loaded: "+c9V.statusText);};c9V.onerror=function(){M9V("Font could not be loaded");};c9V.send();}function I3Q(g9V,u9V){for(var h9V=[],O9V=12,y9V=0;y9V<u9V;y9V+=1){var H9V=i8Q.getTag(g9V,O9V),q9V=i8Q.getULong(g9V,O9V+4),Z9V=i8Q.getULong(g9V,O9V+8),E9V=i8Q.getULong(g9V,O9V+12);h9V.push({tag:H9V,checksum:q9V,offset:Z9V,length:E9V,compression:false});O9V+=16;}return h9V;}function Y8Q(f9V,N9V){if("WOFF"===N9V.compression){var J9V=new Uint8Array(f9V.buffer,N9V.offset+2,N9V.compressedLength-2);f9V=new Uint8Array(N9V.length);var J9V=new S5Q(J9V,f9V),C9V,j9V;do{C9V=J9V;C9V.bitcount--||(C9V.tag=C9V.source[C9V.sourceIndex++],C9V.bitcount=7);j9V=C9V.tag&1;C9V.tag>>>=1;C9V=j9V;j9V=o2Q(J9V,2,0);switch(j9V){case 0:var t9V,K9V;for(j9V=J9V;8<j9V.bitcount;){j9V.sourceIndex--,j9V.bitcount-=8;}K9V=j9V.source[j9V.sourceIndex+1];K9V=256*K9V+j9V.source[j9V.sourceIndex];t9V=j9V.source[j9V.sourceIndex+3];t9V=256*t9V+j9V.source[j9V.sourceIndex+2];if(K9V!==(~t9V&65535)){j9V=-3;}else{j9V.sourceIndex+=4;for(t9V=K9V;t9V;--t9V){j9V.dest[j9V.destLen++]=j9V.source[j9V.sourceIndex++];}j9V=j9V.bitcount=0;}break;case 1:j9V=e3Q(J9V,T0Q,c0Q);break;case 2:var b9V,S9V;K9V=J9V;var m9V=J9V.ltree,l9V=J9V.dtree;t9V=o2Q(K9V,5,257);j9V=o2Q(K9V,5,1);b9V=o2Q(K9V,4,4);for(S9V=0;19>S9V;++S9V){T2Q[S9V]=0;}for(S9V=0;S9V<b9V;++S9V){var B9V=o2Q(K9V,3,0);T2Q[H3Q[S9V]]=B9V;}j0Q(h0Q,T2Q,0,19);for(S9V=0;S9V<t9V+j9V;){switch(b9V=M0Q(K9V,h0Q),b9V){case 16:B9V=T2Q[S9V-1];for(b9V=o2Q(K9V,2,3);b9V;--b9V){T2Q[S9V++]=B9V;}break;case 17:for(b9V=o2Q(K9V,3,3);b9V;--b9V){T2Q[S9V++]=0;}break;case 18:for(b9V=o2Q(K9V,7,11);b9V;--b9V){T2Q[S9V++]=0;}break;default:T2Q[S9V++]=b9V;}}j0Q(m9V,T2Q,0,t9V);j0Q(l9V,T2Q,t9V,j9V);j9V=e3Q(J9V,J9V.ltree,J9V.dtree);break;default:j9V=-3;}if(0!==j9V){throw Error("Data error");}}while(!C9V);J9V.destLen<J9V.dest.length&&("function"===typeof J9V.dest.slice?J9V.dest.slice(0,J9V.destLen):J9V.dest.subarray(0,J9V.destLen));if(f9V.byteLength!==N9V.length){throw Error("Decompression error: "+N9V.tag+" decompressed length doesn't match recorded length");}return{data:new DataView(f9V.buffer,0),offset:0};}return{data:f9V,offset:N9V.offset};}function I0Q(D9V){var p9V,i9V,Q9V=new w8Q({empty:true});D9V=new DataView(D9V,0);var W9V,e9V;W9V=i8Q.getTag(D9V,0);if(W9V===String.fromCharCode(0,1,0,0)||"true"===W9V||"typ1"===W9V){Q9V.outlinesFormat="truetype",W9V=i8Q.getUShort(D9V,4),e9V=I3Q(D9V,W9V);}else if("OTTO"===W9V){Q9V.outlinesFormat="cff",W9V=i8Q.getUShort(D9V,4),e9V=I3Q(D9V,W9V);}else if("wOFF"===W9V){e9V=i8Q.getTag(D9V,4);if(e9V===String.fromCharCode(0,1,0,0)){Q9V.outlinesFormat="truetype";}else if("OTTO"===e9V){Q9V.outlinesFormat="cff";}else{throw Error("Unsupported OpenType flavor "+W9V);}e9V=W9V=i8Q.getUShort(D9V,12);for(var F9V=[],d9V=44,z9V=0;z9V<e9V;z9V+=1){var A9V=i8Q.getTag(D9V,d9V),Y9V=i8Q.getULong(D9V,d9V+4),x9V=i8Q.getULong(D9V,d9V+8),k9V=i8Q.getULong(D9V,d9V+12);F9V.push({tag:A9V,offset:Y9V,compression:x9V<k9V?"WOFF":false,compressedLength:x9V,length:k9V});d9V+=20;}e9V=F9V;}else{throw Error("Unsupported OpenType signature "+W9V);}for(var w9V,P9V,X9V,L9V,R9V,G9V,v9V,U9V,a9V,V9V,F9V=0;F9V<W9V;F9V+=1){switch(d9V=e9V[F9V],d9V.tag){case"cmap":z9V=Y8Q(D9V,d9V);Q9V.tables.cmap=N0Q.parse(z9V.data,z9V.offset);Q9V.encoding=new Q3Q(Q9V.tables.cmap);break;case"cvt ":z9V=Y8Q(D9V,d9V);z9V=new i8Q.Parser(z9V.data,z9V.offset);Q9V.tables.cvt=z9V.parseShortList(d9V.length/2);break;case"fvar":P9V=d9V;break;case"fpgm":z9V=Y8Q(D9V,d9V);z9V=new i8Q.Parser(z9V.data,z9V.offset);Q9V.tables.fpgm=z9V.parseByteList(d9V.length);break;case"head":z9V=Y8Q(D9V,d9V);Q9V.tables.head=X0Q.parse(z9V.data,z9V.offset);Q9V.unitsPerEm=Q9V.tables.head.unitsPerEm;p9V=Q9V.tables.head.indexToLocFormat;break;case"hhea":z9V=Y8Q(D9V,d9V);Q9V.tables.hhea=W0Q.parse(z9V.data,z9V.offset);Q9V.ascender=Q9V.tables.hhea.ascender;Q9V.descender=Q9V.tables.hhea.descender;Q9V.numberOfHMetrics=Q9V.tables.hhea.numberOfHMetrics;break;case"hmtx":G9V=d9V;break;case"ltag":z9V=Y8Q(D9V,d9V);i9V=G0Q.parse(z9V.data,z9V.offset);break;case"maxp":z9V=Y8Q(D9V,d9V);Q9V.tables.maxp=e0Q.parse(z9V.data,z9V.offset);Q9V.numGlyphs=Q9V.tables.maxp.numGlyphs;break;case"name":a9V=d9V;break;case"OS/2":z9V=Y8Q(D9V,d9V);Q9V.tables.os2=i2Q.parse(z9V.data,z9V.offset);break;case"post":z9V=Y8Q(D9V,d9V);Q9V.tables.post=Y2Q.parse(z9V.data,z9V.offset);Q9V.glyphNames=new q0Q(Q9V.tables.post);break;case"prep":z9V=Y8Q(D9V,d9V);z9V=new i8Q.Parser(z9V.data,z9V.offset);Q9V.tables.prep=z9V.parseByteList(d9V.length);break;case"glyf":X9V=d9V;break;case"loca":U9V=d9V;break;case"CFF ":w9V=d9V;break;case"kern":v9V=d9V;break;case"GPOS":L9V=d9V;break;case"GSUB":R9V=d9V;break;case"meta":V9V=d9V;}}a9V=Y8Q(D9V,a9V);Q9V.tables.name=s0Q.parse(a9V.data,a9V.offset,i9V);Q9V.names=Q9V.tables.name;if(X9V&&U9V){p9V=0===p9V,U9V=Y8Q(D9V,U9V),U9V=v3Q.parse(U9V.data,U9V.offset,Q9V.numGlyphs,p9V),X9V=Y8Q(D9V,X9V),Q9V.glyphs=l0Q.parse(X9V.data,X9V.offset,U9V,Q9V);}else if(w9V){X9V=Y8Q(D9V,w9V),d0Q.parse(X9V.data,X9V.offset,Q9V);}else{throw Error("Font doesn't contain TrueType or CFF outlines.");}G9V=Y8Q(D9V,G9V);U0Q.parse(G9V.data,G9V.offset,Q9V.numberOfHMetrics,Q9V.numGlyphs,Q9V.glyphs);X9V=Q9V.tables.cmap.glyphIndexMap;U9V=Object.keys(X9V);for(p9V=0;p9V<U9V.length;p9V+=1){i9V=U9V[p9V],G9V=Q9V.glyphs.get(X9V[i9V]),G9V.addUnicode(parseInt(i9V));}for(X9V=0;X9V<Q9V.glyphs.length;X9V+=1){G9V=Q9V.glyphs.get(X9V),Q9V.cffEncoding?G9V.name=Q9V.isCIDFont?"gid"+X9V:Q9V.cffEncoding.charset[X9V]:Q9V.glyphNames.names&&(G9V.name=Q9V.glyphNames.glyphIndexToName(X9V));}v9V?(v9V=Y8Q(D9V,v9V),Q9V.kerningPairs=o3Q.parse(v9V.data,v9V.offset)):Q9V.kerningPairs={};L9V&&(L9V=Y8Q(D9V,L9V),K3Q.parse(L9V.data,L9V.offset,Q9V));R9V&&(R9V=Y8Q(D9V,R9V),Q9V.tables.gsub=B0Q.parse(R9V.data,R9V.offset));P9V&&(P9V=Y8Q(D9V,P9V),Q9V.tables.fvar=x0Q.parse(P9V.data,P9V.offset,Q9V.names));V9V&&(V9V=Y8Q(D9V,V9V),Q9V.tables.meta=f0Q.parse(V9V.data,V9V.offset),Q9V.metas=Q9V.tables.meta);return Q9V;}var T0Q=new N2Q(),c0Q=new N2Q(),k2Q=new Uint8Array(30),X2Q=new Uint16Array(30),O0Q=new Uint8Array(30),g0Q=new Uint16Array(30),H3Q=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),h0Q=new N2Q(),T2Q=new Uint8Array(320),H0Q=new Uint16Array(16);(function(s1V,n1V){var r1V;for(r1V=0;7>r1V;++r1V){s1V.table[r1V]=0;}s1V.table[7]=24;s1V.table[8]=152;s1V.table[9]=112;for(r1V=0;24>r1V;++r1V){s1V.trans[r1V]=256+r1V;}for(r1V=0;144>r1V;++r1V){s1V.trans[24+r1V]=r1V;}for(r1V=0;8>r1V;++r1V){s1V.trans[168+r1V]=280+r1V;}for(r1V=0;112>r1V;++r1V){s1V.trans[176+r1V]=144+r1V;}for(r1V=0;5>r1V;++r1V){n1V.table[r1V]=0;}n1V.table[5]=32;for(r1V=0;32>r1V;++r1V){n1V.trans[r1V]=r1V;}}(T0Q,c0Q));h3Q(k2Q,X2Q,4,3);h3Q(O0Q,g0Q,2,1);k2Q[28]=0;X2Q[28]=258;h2Q.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2);};h2Q.prototype.addPoint=function(I1V,T1V){if("number"===typeof I1V){if(isNaN(this.x1)||isNaN(this.x2)){this.x2=this.x1=I1V;}I1V<this.x1&&(this.x1=I1V);I1V>this.x2&&(this.x2=I1V);}if("number"===typeof T1V){if(isNaN(this.y1)||isNaN(this.y2)){this.y2=this.y1=T1V;}T1V<this.y1&&(this.y1=T1V);T1V>this.y2&&(this.y2=T1V);}};h2Q.prototype.addX=function(c1V){this.addPoint(c1V,null);};h2Q.prototype.addY=function(M1V){this.addPoint(null,M1V);};h2Q.prototype.addBezier=function(o1V,O1V,g1V,u1V,h1V,H1V,Z1V,q1V){var E1V=this;var y1V=[o1V,O1V];g1V=[g1V,u1V];h1V=[h1V,H1V];H1V=[Z1V,q1V];this.addPoint(o1V,O1V);this.addPoint(Z1V,q1V);for(o1V=0;1>=o1V;o1V++){O1V=6*y1V[o1V]-12*g1V[o1V]+6*h1V[o1V],Z1V=-3*y1V[o1V]+9*g1V[o1V]-9*h1V[o1V]+3*H1V[o1V],q1V=3*g1V[o1V]-3*y1V[o1V],0===Z1V?0!==O1V&&(O1V=-q1V/O1V,0<O1V&&1>O1V&&(0===o1V&&E1V.addX(t2Q(y1V[o1V],g1V[o1V],h1V[o1V],H1V[o1V],O1V)),1===o1V&&E1V.addY(t2Q(y1V[o1V],g1V[o1V],h1V[o1V],H1V[o1V],O1V)))):(q1V=Math.pow(O1V,2)-4*q1V*Z1V,0>q1V||(u1V=(-O1V+Math.sqrt(q1V))/(2*Z1V),0<u1V&&1>u1V&&(0===o1V&&E1V.addX(t2Q(y1V[o1V],g1V[o1V],h1V[o1V],H1V[o1V],u1V)),1===o1V&&E1V.addY(t2Q(y1V[o1V],g1V[o1V],h1V[o1V],H1V[o1V],u1V))),O1V=(-O1V-Math.sqrt(q1V))/(2*Z1V),0<O1V&&1>O1V&&(0===o1V&&E1V.addX(t2Q(y1V[o1V],g1V[o1V],h1V[o1V],H1V[o1V],O1V)),1===o1V&&E1V.addY(t2Q(y1V[o1V],g1V[o1V],h1V[o1V],H1V[o1V],O1V)))));}};h2Q.prototype.addQuad=function(j1V,J1V,S1V,K1V,b1V,t1V){S1V=j1V+0.6666666666666666*(S1V-j1V);K1V=J1V+0.6666666666666666*(K1V-J1V);this.addBezier(j1V,J1V,S1V,K1V,S1V+0.3333333333333333*(b1V-j1V),K1V+0.3333333333333333*(t1V-J1V),b1V,t1V);};A8Q.prototype.moveTo=function(C1V,N1V){this.commands.push({type:"M",x:C1V,y:N1V});};A8Q.prototype.lineTo=function(f1V,B1V){this.commands.push({type:"L",x:f1V,y:B1V});};A8Q.prototype.curveTo=A8Q.prototype.bezierCurveTo=function(m1V,l1V,Q1V,z1V,D1V,d1V){this.commands.push({type:"C",x1:m1V,y1:l1V,x2:Q1V,y2:z1V,x:D1V,y:d1V});};A8Q.prototype.quadTo=A8Q.prototype.quadraticCurveTo=function(X1V,W1V,U1V,G1V){this.commands.push({type:"Q",x1:X1V,y1:W1V,x:U1V,y:G1V});};A8Q.prototype.close=A8Q.prototype.closePath=function(){this.commands.push({type:"Z"});};A8Q.prototype.extend=function(e1V){if(e1V.commands){e1V=e1V.commands;}else if(e1V instanceof h2Q){this.moveTo(e1V.x1,e1V.y1);this.lineTo(e1V.x2,e1V.y1);this.lineTo(e1V.x2,e1V.y2);this.lineTo(e1V.x1,e1V.y2);this.close();return;}Array.prototype.push.apply(this.commands,e1V);};A8Q.prototype.getBoundingBox=function(){var i1V=this;for(var p1V=new h2Q(),L1V=0,R1V=0,V1V=0,P1V=0,v1V=0;v1V<this.commands.length;v1V++){var F1V=i1V.commands[v1V];switch(F1V.type){case"M":p1V.addPoint(F1V.x,F1V.y);L1V=V1V=F1V.x;R1V=P1V=F1V.y;break;case"L":p1V.addPoint(F1V.x,F1V.y);V1V=F1V.x;P1V=F1V.y;break;case"Q":p1V.addQuad(V1V,P1V,F1V.x1,F1V.y1,F1V.x,F1V.y);V1V=F1V.x;P1V=F1V.y;break;case"C":p1V.addBezier(V1V,P1V,F1V.x1,F1V.y1,F1V.x2,F1V.y2,F1V.x,F1V.y);V1V=F1V.x;P1V=F1V.y;break;case"Z":V1V=L1V;P1V=R1V;break;default:throw Error("Unexpected path command "+F1V.type);}}p1V.isEmpty()&&p1V.addPoint(0,0);return p1V;};A8Q.prototype.draw=function(x1V){var w1V=this;x1V.beginPath();for(var k1V=0;k1V<this.commands.length;k1V+=1){var a1V=w1V.commands[k1V];"M"===a1V.type?x1V.moveTo(a1V.x,a1V.y):"L"===a1V.type?x1V.lineTo(a1V.x,a1V.y):"C"===a1V.type?x1V.bezierCurveTo(a1V.x1,a1V.y1,a1V.x2,a1V.y2,a1V.x,a1V.y):"Q"===a1V.type?x1V.quadraticCurveTo(a1V.x1,a1V.y1,a1V.x,a1V.y):"Z"===a1V.type&&x1V.closePath();}this.fill&&(x1V.fillStyle=this.fill,x1V.fill());this.stroke&&(x1V.strokeStyle=this.stroke,x1V.lineWidth=this.strokeWidth,x1V.stroke());};A8Q.prototype.toPathData=function(r4V){var I4V=this;function s4V(){for(var o4V=arguments,M4V="",c4V=0;c4V<arguments.length;c4V+=1){var T4V=o4V[c4V];0<=T4V&&0<c4V&&(M4V+=" ");T4V=Math.round(T4V)===T4V?""+Math.round(T4V):T4V.toFixed(r4V);M4V+=T4V;}return M4V;}r4V=void 0!==r4V?r4V:2;for(var A1V="",n4V=0;n4V<this.commands.length;n4V+=1){var Y1V=I4V.commands[n4V];"M"===Y1V.type?A1V+="M"+s4V(Y1V.x,Y1V.y):"L"===Y1V.type?A1V+="L"+s4V(Y1V.x,Y1V.y):"C"===Y1V.type?A1V+="C"+s4V(Y1V.x1,Y1V.y1,Y1V.x2,Y1V.y2,Y1V.x,Y1V.y):"Q"===Y1V.type?A1V+="Q"+s4V(Y1V.x1,Y1V.y1,Y1V.x,Y1V.y):"Z"===Y1V.type&&(A1V+="Z");}return A1V;};A8Q.prototype.toSVG=function(O4V){O4V='<path d="'+this.toPathData(O4V);O4V+='"';this.fill&&"black"!==this.fill&&(O4V=null===this.fill?O4V+' fill="none"':O4V+(' fill="'+this.fill+'"'));this.stroke&&(O4V+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"');return O4V+"/>";};A8Q.prototype.toDOMElement=function(g4V){g4V=this.toPathData(g4V);var h4V=document.createElementNS("http://www.w3.org/2000/svg","path");h4V.setAttribute("d",g4V);return h4V;};var k8Q={fail:Z3Q,argument:S3Q,assert:S3Q},K2Q={},L8Q={},a8Q={};L8Q.BYTE=function(y4V){k8Q.argument(0<=y4V&&255>=y4V,"Byte value should be between 0 and 255.");return[y4V];};a8Q.BYTE=I2Q(1);L8Q.CHAR=function(H4V){return[H4V.charCodeAt(0)];};a8Q.CHAR=I2Q(1);L8Q.CHARARRAY=function(E4V){for(var Z4V=[],q4V=0;q4V<E4V.length;q4V+=1){Z4V[q4V]=E4V.charCodeAt(q4V);}return Z4V;};a8Q.CHARARRAY=function(u4V){return u4V.length;};L8Q.USHORT=function(j4V){return[j4V>>8&255,j4V&255];};a8Q.USHORT=I2Q(2);L8Q.SHORT=function(J4V){32768<=J4V&&(J4V=-(65536-J4V));return[J4V>>8&255,J4V&255];};a8Q.SHORT=I2Q(2);L8Q.UINT24=function(S4V){return[S4V>>16&255,S4V>>8&255,S4V&255];};a8Q.UINT24=I2Q(3);L8Q.ULONG=function(K4V){return[K4V>>24&255,K4V>>16&255,K4V>>8&255,K4V&255];};a8Q.ULONG=I2Q(4);L8Q.LONG=function(b4V){2147483648<=b4V&&(b4V=-(4294967296-b4V));return[b4V>>24&255,b4V>>16&255,b4V>>8&255,b4V&255];};a8Q.LONG=I2Q(4);L8Q.FIXED=L8Q.ULONG;a8Q.FIXED=a8Q.ULONG;L8Q.FWORD=L8Q.SHORT;a8Q.FWORD=a8Q.SHORT;L8Q.UFWORD=L8Q.USHORT;a8Q.UFWORD=a8Q.USHORT;L8Q.LONGDATETIME=function(t4V){return[0,0,0,0,t4V>>24&255,t4V>>16&255,t4V>>8&255,t4V&255];};a8Q.LONGDATETIME=I2Q(8);L8Q.TAG=function(C4V){k8Q.argument(4===C4V.length,"Tag should be exactly 4 ASCII characters.");return[C4V.charCodeAt(0),C4V.charCodeAt(1),C4V.charCodeAt(2),C4V.charCodeAt(3)];};a8Q.TAG=I2Q(4);L8Q.Card8=L8Q.BYTE;a8Q.Card8=a8Q.BYTE;L8Q.Card16=L8Q.USHORT;a8Q.Card16=a8Q.USHORT;L8Q.OffSize=L8Q.BYTE;a8Q.OffSize=a8Q.BYTE;L8Q.SID=L8Q.USHORT;a8Q.SID=a8Q.USHORT;L8Q.NUMBER=function(N4V){return-107<=N4V&&107>=N4V?[N4V+139]:108<=N4V&&1131>=N4V?(N4V-=108,[(N4V>>8)+247,N4V&255]):-1131<=N4V&&-108>=N4V?(N4V=-N4V-108,[(N4V>>8)+251,N4V&255]):-32768<=N4V&&32767>=N4V?L8Q.NUMBER16(N4V):L8Q.NUMBER32(N4V);};a8Q.NUMBER=function(f4V){return L8Q.NUMBER(f4V).length;};L8Q.NUMBER16=function(B4V){return[28,B4V>>8&255,B4V&255];};a8Q.NUMBER16=I2Q(3);L8Q.NUMBER32=function(m4V){return[29,m4V>>24&255,m4V>>16&255,m4V>>8&255,m4V&255];};a8Q.NUMBER32=I2Q(5);L8Q.REAL=function(Q4V){var z4V=Q4V.toString(),l4V=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(z4V);l4V&&(z4V=parseFloat("1e"+((l4V[2]?+l4V[2]:0)+l4V[1].length)),z4V=(Math.round(Q4V*z4V)/z4V).toString());Q4V="";for(var l4V=0,d4V=z4V.length;l4V<d4V;l4V+=1){var D4V=z4V[l4V];Q4V="e"===D4V?Q4V+("-"===z4V[++l4V]?"c":"b"):"."===D4V?Q4V+"a":"-"===D4V?Q4V+"e":Q4V+D4V;}Q4V+=Q4V.length&1?"f":"ff";z4V=[30];l4V=0;for(d4V=Q4V.length;l4V<d4V;l4V+=2){z4V.push(parseInt(Q4V.substr(l4V,2),16));}return z4V;};a8Q.REAL=function(X4V){return L8Q.REAL(X4V).length;};L8Q.NAME=L8Q.CHARARRAY;a8Q.NAME=a8Q.CHARARRAY;L8Q.STRING=L8Q.CHARARRAY;a8Q.STRING=a8Q.CHARARRAY;K2Q.UTF8=function(e4V,G4V,F4V){for(var U4V=[],W4V=0;W4V<F4V;W4V++,G4V+=1){U4V[W4V]=e4V.getUint8(G4V);}return String.fromCharCode.apply(null,U4V);};K2Q.UTF16=function(L4V,P4V,v4V){var V4V=[];v4V/=2;for(var p4V=0;p4V<v4V;p4V++,P4V+=2){V4V[p4V]=L4V.getUint16(P4V);}return String.fromCharCode.apply(null,V4V);};L8Q.UTF16=function(x4V){for(var R4V=[],i4V=0;i4V<x4V.length;i4V+=1){var a4V=x4V.charCodeAt(i4V);R4V[R4V.length]=a4V>>8&255;R4V[R4V.length]=a4V&255;}return R4V;};a8Q.UTF16=function(k4V){return 2*k4V.length;};var p2Q={"x-mac-croatian":"\u00c4\u00c5\u00c7\u00c9\u00d1\u00d6\u00dc\u00e1\u00e0\u00e2\u00e4\u00e3\u00e5\u00e7\u00e9\u00e8\u00ea\u00eb\u00ed\u00ec\u00ee\u00ef\u00f1\u00f3\u00f2\u00f4\u00f6\u00f5\u00fa\u00f9\u00fb\u00fc\u2020\u00b0\u00a2\u00a3\u00a7\u2022\u00b6\u00df\u00ae\u0160\u2122\u00b4\u00a8\u2260\u017d\u00d8\u221e\u00b1\u2264\u2265\u2206\u00b5\u2202\u2211\u220f\u0161\u222b\u00aa\u00ba\u03a9\u017e\u00f8\u00bf\u00a1\u00ac\u221a\u0192\u2248\u0106\u00ab\u010c\u2026\u00a0\u00c0\u00c3\u00d5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\u00f7\u25ca\uf8ff\u00a9\u2044\u20ac\u2039\u203a\u00c6\u00bb\u2013\u00b7\u201a\u201e\u2030\u00c2\u0107\u00c1\u010d\u00c8\u00cd\u00ce\u00cf\u00cc\u00d3\u00d4\u0111\u00d2\u00da\u00db\u00d9\u0131\u02c6\u02dc\u00af\u03c0\u00cb\u02da\u00b8\u00ca\u00e6\u02c7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\u00b0\u0490\u00a3\u00a7\u2022\u00b6\u0406\u00ae\u00a9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\u00b1\u2264\u2265\u0456\u00b5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\u00ac\u221a\u0192\u2248\u2206\u00ab\u00bb\u2026\u00a0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\u00f7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e","x-mac-gaelic":"\u00c4\u00c5\u00c7\u00c9\u00d1\u00d6\u00dc\u00e1\u00e0\u00e2\u00e4\u00e3\u00e5\u00e7\u00e9\u00e8\u00ea\u00eb\u00ed\u00ec\u00ee\u00ef\u00f1\u00f3\u00f2\u00f4\u00f6\u00f5\u00fa\u00f9\u00fb\u00fc\u2020\u00b0\u00a2\u00a3\u00a7\u2022\u00b6\u00df\u00ae\u00a9\u2122\u00b4\u00a8\u2260\u00c6\u00d8\u1e02\u00b1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\u00e6\u00f8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\u00ab\u00bb\u2026\u00a0\u00c0\u00c3\u00d5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\u00ff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\u00b7\u1ef2\u1ef3\u204a\u00c2\u00ca\u00c1\u00cb\u00c8\u00cd\u00ce\u00cf\u00cc\u00d3\u00d4\u2663\u00d2\u00da\u00db\u00d9\u0131\u00dd\u00fd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83","x-mac-greek":"\u00c4\u00b9\u00b2\u00c9\u00b3\u00d6\u00dc\u0385\u00e0\u00e2\u00e4\u0384\u00a8\u00e7\u00e9\u00e8\u00ea\u00eb\u00a3\u2122\u00ee\u00ef\u2022\u00bd\u2030\u00f4\u00f6\u00a6\u20ac\u00f9\u00fb\u00fc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\u00df\u00ae\u00a9\u03a3\u03aa\u00a7\u2260\u00b0\u00b7\u0391\u00b1\u2264\u2265\u00a5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\u00ac\u039f\u03a1\u2248\u03a4\u00ab\u00bb\u2026\u00a0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\u00f7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\u00ad","x-mac-icelandic":"\u00c4\u00c5\u00c7\u00c9\u00d1\u00d6\u00dc\u00e1\u00e0\u00e2\u00e4\u00e3\u00e5\u00e7\u00e9\u00e8\u00ea\u00eb\u00ed\u00ec\u00ee\u00ef\u00f1\u00f3\u00f2\u00f4\u00f6\u00f5\u00fa\u00f9\u00fb\u00fc\u00dd\u00b0\u00a2\u00a3\u00a7\u2022\u00b6\u00df\u00ae\u00a9\u2122\u00b4\u00a8\u2260\u00c6\u00d8\u221e\u00b1\u2264\u2265\u00a5\u00b5\u2202\u2211\u220f\u03c0\u222b\u00aa\u00ba\u03a9\u00e6\u00f8\u00bf\u00a1\u00ac\u221a\u0192\u2248\u2206\u00ab\u00bb\u2026\u00a0\u00c0\u00c3\u00d5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u00f7\u25ca\u00ff\u0178\u2044\u20ac\u00d0\u00f0\u00de\u00fe\u00fd\u00b7\u201a\u201e\u2030\u00c2\u00ca\u00c1\u00cb\u00c8\u00cd\u00ce\u00cf\u00cc\u00d3\u00d4\uf8ff\u00d2\u00da\u00db\u00d9\u0131\u02c6\u02dc\u00af\u02d8\u02d9\u02da\u00b8\u02dd\u02db\u02c7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\u00b0\u14a1\u14a5\u14a6\u2022\u00b6\u14a7\u00ae\u00a9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\u00a0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142","x-mac-ce":"\u00c4\u0100\u0101\u00c9\u0104\u00d6\u00dc\u00e1\u0105\u010c\u00e4\u010d\u0106\u0107\u00e9\u0179\u017a\u010e\u00ed\u010f\u0112\u0113\u0116\u00f3\u0117\u00f4\u00f6\u00f5\u00fa\u011a\u011b\u00fc\u2020\u00b0\u0118\u00a3\u00a7\u2022\u00b6\u00df\u00ae\u00a9\u2122\u0119\u00a8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\u00ac\u221a\u0144\u0147\u2206\u00ab\u00bb\u2026\u00a0\u0148\u0150\u00d5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\u00f7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\u00c1\u0164\u0165\u00cd\u017d\u017e\u016a\u00d3\u00d4\u016b\u016e\u00da\u016f\u0170\u0171\u0172\u0173\u00dd\u00fd\u0137\u017b\u0141\u017c\u0122\u02c7",macintosh:"\u00c4\u00c5\u00c7\u00c9\u00d1\u00d6\u00dc\u00e1\u00e0\u00e2\u00e4\u00e3\u00e5\u00e7\u00e9\u00e8\u00ea\u00eb\u00ed\u00ec\u00ee\u00ef\u00f1\u00f3\u00f2\u00f4\u00f6\u00f5\u00fa\u00f9\u00fb\u00fc\u2020\u00b0\u00a2\u00a3\u00a7\u2022\u00b6\u00df\u00ae\u00a9\u2122\u00b4\u00a8\u2260\u00c6\u00d8\u221e\u00b1\u2264\u2265\u00a5\u00b5\u2202\u2211\u220f\u03c0\u222b\u00aa\u00ba\u03a9\u00e6\u00f8\u00bf\u00a1\u00ac\u221a\u0192\u2248\u2206\u00ab\u00bb\u2026\u00a0\u00c0\u00c3\u00d5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u00f7\u25ca\u00ff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\u00b7\u201a\u201e\u2030\u00c2\u00ca\u00c1\u00cb\u00c8\u00cd\u00ce\u00cf\u00cc\u00d3\u00d4\uf8ff\u00d2\u00da\u00db\u00d9\u0131\u02c6\u02dc\u00af\u02d8\u02d9\u02da\u00b8\u02dd\u02db\u02c7","x-mac-romanian":"\u00c4\u00c5\u00c7\u00c9\u00d1\u00d6\u00dc\u00e1\u00e0\u00e2\u00e4\u00e3\u00e5\u00e7\u00e9\u00e8\u00ea\u00eb\u00ed\u00ec\u00ee\u00ef\u00f1\u00f3\u00f2\u00f4\u00f6\u00f5\u00fa\u00f9\u00fb\u00fc\u2020\u00b0\u00a2\u00a3\u00a7\u2022\u00b6\u00df\u00ae\u00a9\u2122\u00b4\u00a8\u2260\u0102\u0218\u221e\u00b1\u2264\u2265\u00a5\u00b5\u2202\u2211\u220f\u03c0\u222b\u00aa\u00ba\u03a9\u0103\u0219\u00bf\u00a1\u00ac\u221a\u0192\u2248\u2206\u00ab\u00bb\u2026\u00a0\u00c0\u00c3\u00d5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u00f7\u25ca\u00ff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\u00b7\u201a\u201e\u2030\u00c2\u00ca\u00c1\u00cb\u00c8\u00cd\u00ce\u00cf\u00cc\u00d3\u00d4\uf8ff\u00d2\u00da\u00db\u00d9\u0131\u02c6\u02dc\u00af\u02d8\u02d9\u02da\u00b8\u02dd\u02db\u02c7","x-mac-turkish":"\u00c4\u00c5\u00c7\u00c9\u00d1\u00d6\u00dc\u00e1\u00e0\u00e2\u00e4\u00e3\u00e5\u00e7\u00e9\u00e8\u00ea\u00eb\u00ed\u00ec\u00ee\u00ef\u00f1\u00f3\u00f2\u00f4\u00f6\u00f5\u00fa\u00f9\u00fb\u00fc\u2020\u00b0\u00a2\u00a3\u00a7\u2022\u00b6\u00df\u00ae\u00a9\u2122\u00b4\u00a8\u2260\u00c6\u00d8\u221e\u00b1\u2264\u2265\u00a5\u00b5\u2202\u2211\u220f\u03c0\u222b\u00aa\u00ba\u03a9\u00e6\u00f8\u00bf\u00a1\u00ac\u221a\u0192\u2248\u2206\u00ab\u00bb\u2026\u00a0\u00c0\u00c3\u00d5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u00f7\u25ca\u00ff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\u00b7\u201a\u201e\u2030\u00c2\u00ca\u00c1\u00cb\u00c8\u00cd\u00ce\u00cf\u00cc\u00d3\u00d4\uf8ff\u00d2\u00da\u00db\u00d9\uf8a0\u02c6\u02dc\u00af\u02d8\u02d9\u02da\u00b8\u02dd\u02db\u02c7"};K2Q.MACSTRING=function(s7V,n7V,I7V,Y4V){Y4V=p2Q[Y4V];if(void 0!==Y4V){for(var w4V="",A4V=0;A4V<I7V;A4V++){var r7V=s7V.getUint8(n7V+A4V),w4V=127>=r7V?w4V+String.fromCharCode(r7V):w4V+Y4V[r7V&127];}return w4V;}};var d2Q="function"===typeof WeakMap&&new WeakMap(),P2Q;L8Q.MACSTRING=function(O7V,o7V){var c7V;a:{if(!P2Q){for(c7V in P2Q={},p2Q){P2Q[c7V]=new String(c7V);}}c7V=P2Q[o7V];if(void 0!==c7V){if(d2Q){var T7V=d2Q.get(c7V);if(void 0!==T7V){c7V=T7V;break a;}}o7V=p2Q[o7V];if(void 0!==o7V){for(var T7V={},M7V=0;M7V<o7V.length;M7V++){T7V[o7V.charCodeAt(M7V)]=M7V+128;}d2Q&&d2Q.set(c7V,T7V);c7V=T7V;break a;}}c7V=void 0;}if(void 0!==c7V){o7V=[];for(T7V=0;T7V<O7V.length;T7V++){M7V=O7V.charCodeAt(T7V);if(128<=M7V&&(M7V=c7V[M7V],void 0===M7V)){return;}o7V[T7V]=M7V;}return o7V;}};a8Q.MACSTRING=function(g7V,h7V){g7V=L8Q.MACSTRING(g7V,h7V);return void 0!==g7V?g7V.length:0;};L8Q.VARDELTAS=function(j7V){for(var H7V=0,S7V=[];H7V<j7V.length;){var y7V=j7V[H7V];if(0===y7V){for(var y7V=H7V,H7V=0,q7V=j7V.length;y7V<q7V&&64>H7V&&0===j7V[y7V];){++y7V,++H7V;}S7V.push(128|H7V-1);H7V=y7V;}else{if(-128<=y7V&&127>=y7V){for(var y7V=j7V,u7V=H7V,H7V=S7V,E7V=0,J7V=y7V.length,q7V=u7V;q7V<J7V&&64>E7V;){var Z7V=y7V[q7V];if(!(-128<=Z7V&&127>=Z7V)){break;}if(0===Z7V&&q7V+1<J7V&&0===y7V[q7V+1]){break;}++q7V;++E7V;}for(H7V.push(E7V-1);u7V<q7V;++u7V){H7V.push(y7V[u7V]+256&255);}}else{y7V=j7V;u7V=H7V;H7V=S7V;E7V=0;J7V=y7V.length;for(q7V=u7V;q7V<J7V&&64>E7V;){Z7V=y7V[q7V];if(0===Z7V){break;}if(Z7V=-128<=Z7V&&127>=Z7V&&q7V+1<J7V){Z7V=y7V[q7V+1],Z7V=-128<=Z7V&&127>=Z7V;}if(Z7V){break;}++q7V;++E7V;}for(H7V.push(64|E7V-1);u7V<q7V;++u7V){E7V=y7V[u7V],H7V.push(E7V+65536>>8&255,E7V+256&255);}}H7V=q7V;}}return S7V;};L8Q.INDEX=function(B7V){for(var K7V=1,C7V=[K7V],N7V=[],b7V=0;b7V<B7V.length;b7V+=1){var t7V=L8Q.OBJECT(B7V[b7V]);Array.prototype.push.apply(N7V,t7V);K7V+=t7V.length;C7V.push(K7V);}if(0===N7V.length){return[0,0];}for(var b7V=[],K7V=1+Math.floor(Math.log(K7V)/Math.log(2))/8|0,t7V=[void 0,L8Q.BYTE,L8Q.USHORT,L8Q.UINT24,L8Q.ULONG][K7V],f7V=0;f7V<C7V.length;f7V+=1){var m7V=t7V(C7V[f7V]);Array.prototype.push.apply(b7V,m7V);}return Array.prototype.concat(L8Q.Card16(B7V.length),L8Q.OffSize(K7V),b7V,N7V);};a8Q.INDEX=function(l7V){return L8Q.INDEX(l7V).length;};L8Q.DICT=function(W7V){for(var Q7V=[],D7V=Object.keys(W7V),U7V=D7V.length,z7V=0;z7V<U7V;z7V+=1){var d7V=parseInt(D7V[z7V],0),X7V=W7V[d7V],Q7V=Q7V.concat(L8Q.OPERAND(X7V.value,X7V.type)),Q7V=Q7V.concat(L8Q.OPERATOR(d7V));}return Q7V;};a8Q.DICT=function(G7V){return L8Q.DICT(G7V).length;};L8Q.OPERATOR=function(e7V){return 1200>e7V?[e7V]:[12,e7V-1200];};L8Q.OPERAND=function(V7V,p7V){var F7V=[];if(Array.isArray(p7V)){for(var P7V=0;P7V<p7V.length;P7V+=1){k8Q.argument(V7V.length===p7V.length,"Not enough arguments given for type"+p7V),F7V=F7V.concat(L8Q.OPERAND(V7V[P7V],p7V[P7V]));}}else if("SID"===p7V){F7V=F7V.concat(L8Q.NUMBER(V7V));}else if("offset"===p7V){F7V=F7V.concat(L8Q.NUMBER32(V7V));}else if("number"===p7V){F7V=F7V.concat(L8Q.NUMBER(V7V));}else if("real"===p7V){F7V=F7V.concat(L8Q.REAL(V7V));}else{throw Error("Unknown operand type "+p7V);}return F7V;};L8Q.OP=L8Q.BYTE;a8Q.OP=a8Q.BYTE;var B2Q="function"===typeof WeakMap&&new WeakMap();L8Q.CHARSTRING=function(L7V){if(B2Q){var v7V=B2Q.get(L7V);if(void 0!==v7V){return v7V;}}for(var v7V=[],a7V=L7V.length,R7V=0;R7V<a7V;R7V+=1){var i7V=L7V[R7V],v7V=v7V.concat(L8Q[i7V.type](i7V.value));}B2Q&&B2Q.set(L7V,v7V);return v7V;};a8Q.CHARSTRING=function(x7V){return L8Q.CHARSTRING(x7V).length;};L8Q.OBJECT=function(k7V){var w7V=L8Q[k7V.type];k8Q.argument(void 0!==w7V,"No encoding function for type "+k7V.type);return w7V(k7V.value);};a8Q.OBJECT=function(Y7V){var A7V=a8Q[Y7V.type];k8Q.argument(void 0!==A7V,"No sizeOf function for type "+Y7V.type);return A7V(Y7V.value);};L8Q.TABLE=function(c6V){for(var r6V=[],n6V=c6V.fields.length,M6V=[],O6V=[],I6V=0;I6V<n6V;I6V+=1){var s6V=c6V.fields[I6V],T6V=L8Q[s6V.type];k8Q.argument(void 0!==T6V,"No encoding function for field type "+s6V.type+" ("+s6V.name+")");var o6V=c6V[s6V.name];void 0===o6V&&(o6V=s6V.value);T6V=T6V(o6V);"TABLE"===s6V.type?(O6V.push(r6V.length),r6V=r6V.concat([0,0]),M6V.push(T6V)):r6V=r6V.concat(T6V);}for(n6V=0;n6V<M6V.length;n6V+=1){I6V=O6V[n6V],s6V=r6V.length,k8Q.argument(65536>s6V,"Table "+c6V.tableName+" too big."),r6V[I6V]=s6V>>8,r6V[I6V+1]=s6V&255,r6V=r6V.concat(M6V[n6V]);}return r6V;};a8Q.TABLE=function(q6V){for(var h6V=0,E6V=q6V.fields.length,y6V=0;y6V<E6V;y6V+=1){var g6V=q6V.fields[y6V],Z6V=a8Q[g6V.type];k8Q.argument(void 0!==Z6V,"No sizeOf function for field type "+g6V.type+" ("+g6V.name+")");var H6V=q6V[g6V.name];void 0===H6V&&(H6V=g6V.value);h6V+=Z6V(H6V);"TABLE"===g6V.type&&(h6V+=2);}return h6V;};L8Q.RECORD=L8Q.TABLE;a8Q.RECORD=a8Q.TABLE;L8Q.LITERAL=function(u6V){return u6V;};a8Q.LITERAL=function(j6V){return j6V.length;};r2Q.prototype.encode=function(){return L8Q.TABLE(this);};r2Q.prototype.sizeOf=function(){return a8Q.TABLE(this);};V2Q.prototype=Object.create(r2Q.prototype);V2Q.prototype.constructor=V2Q;L2Q.prototype=Object.create(r2Q.prototype);L2Q.prototype.constructor=L2Q;R2Q.prototype=Object.create(r2Q.prototype);R2Q.prototype.constructor=R2Q;x2Q.prototype=Object.create(r2Q.prototype);x2Q.prototype.constructor=x2Q;var x8Q={Table:r2Q,Record:r2Q,Coverage:V2Q,ScriptList:L2Q,FeatureList:R2Q,LookupList:x2Q,ushortList:D2Q,tableList:o0Q,recordList:F2Q},f3Q={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};P8Q.prototype.parseByte=function(){var J6V=this.data.getUint8(this.offset+this.relativeOffset);this.relativeOffset+=1;return J6V;};P8Q.prototype.parseChar=function(){var S6V=this.data.getInt8(this.offset+this.relativeOffset);this.relativeOffset+=1;return S6V;};P8Q.prototype.parseCard8=P8Q.prototype.parseByte;P8Q.prototype.parseUShort=function(){var K6V=this.data.getUint16(this.offset+this.relativeOffset);this.relativeOffset+=2;return K6V;};P8Q.prototype.parseCard16=P8Q.prototype.parseUShort;P8Q.prototype.parseSID=P8Q.prototype.parseUShort;P8Q.prototype.parseOffset16=P8Q.prototype.parseUShort;P8Q.prototype.parseShort=function(){var b6V=this.data.getInt16(this.offset+this.relativeOffset);this.relativeOffset+=2;return b6V;};P8Q.prototype.parseF2Dot14=function(){var t6V=this.data.getInt16(this.offset+this.relativeOffset)/16384;this.relativeOffset+=2;return t6V;};P8Q.prototype.parseULong=function(){var C6V=D0Q(this.data,this.offset+this.relativeOffset);this.relativeOffset+=4;return C6V;};P8Q.prototype.parseOffset32=P8Q.prototype.parseULong;P8Q.prototype.parseFixed=function(){var N6V=J3Q(this.data,this.offset+this.relativeOffset);this.relativeOffset+=4;return N6V;};P8Q.prototype.parseString=function(m6V){var l6V=this.data,Q6V=this.offset+this.relativeOffset,B6V="";this.relativeOffset+=m6V;for(var f6V=0;f6V<m6V;f6V++){B6V+=String.fromCharCode(l6V.getUint8(Q6V+f6V));}return B6V;};P8Q.prototype.parseTag=function(){return this.parseString(4);};P8Q.prototype.parseLongDateTime=function(){var z6V=D0Q(this.data,this.offset+this.relativeOffset+4);this.relativeOffset+=8;return z6V-2082844800;};P8Q.prototype.parseVersion=function(D6V){var d6V=W2Q(this.data,this.offset+this.relativeOffset),X6V=W2Q(this.data,this.offset+this.relativeOffset+2);this.relativeOffset+=4;void 0===D6V&&(D6V=4096);return d6V+X6V/D6V/10;};P8Q.prototype.skip=function(U6V,W6V){void 0===W6V&&(W6V=1);this.relativeOffset+=f3Q[U6V]*W6V;};P8Q.prototype.parseULongList=function(G6V){void 0===G6V&&(G6V=this.parseULong());for(var F6V=Array(G6V),V6V=this.data,p6V=this.offset+this.relativeOffset,e6V=0;e6V<G6V;e6V++){F6V[e6V]=V6V.getUint32(p6V),p6V+=4;}this.relativeOffset+=4*G6V;return F6V;};P8Q.prototype.parseOffset16List=P8Q.prototype.parseUShortList=function(P6V){void 0===P6V&&(P6V=this.parseUShort());for(var L6V=Array(P6V),i6V=this.data,R6V=this.offset+this.relativeOffset,v6V=0;v6V<P6V;v6V++){L6V[v6V]=i6V.getUint16(R6V),R6V+=2;}this.relativeOffset+=2*P6V;return L6V;};P8Q.prototype.parseShortList=function(x6V){for(var k6V=Array(x6V),Y6V=this.data,w6V=this.offset+this.relativeOffset,a6V=0;a6V<x6V;a6V++){k6V[a6V]=Y6V.getInt16(w6V),w6V+=2;}this.relativeOffset+=2*x6V;return k6V;};P8Q.prototype.parseByteList=function(r8q){for(var s8q=Array(r8q),n8q=this.data,I8q=this.offset+this.relativeOffset,A6V=0;A6V<r8q;A6V++){s8q[A6V]=n8q.getUint8(I8q++);}this.relativeOffset+=r8q;return s8q;};P8Q.prototype.parseList=function(T8q,M8q){var O8q=this;M8q||(M8q=T8q,T8q=this.parseUShort());for(var o8q=Array(T8q),c8q=0;c8q<T8q;c8q++){o8q[c8q]=M8q.call(O8q);}return o8q;};P8Q.prototype.parseList32=function(g8q,y8q){var q8q=this;y8q||(y8q=g8q,g8q=this.parseULong());for(var H8q=Array(g8q),h8q=0;h8q<g8q;h8q++){H8q[h8q]=y8q.call(q8q);}return H8q;};P8Q.prototype.parseRecordList=function(Z8q,E8q){var t8q=this;E8q||(E8q=Z8q,Z8q=this.parseUShort());for(var J8q=Array(Z8q),S8q=Object.keys(E8q),u8q=0;u8q<Z8q;u8q++){for(var K8q={},j8q=0;j8q<S8q.length;j8q++){var b8q=S8q[j8q];K8q[b8q]=E8q[b8q].call(t8q);}J8q[u8q]=K8q;}return J8q;};P8Q.prototype.parseRecordList32=function(C8q,N8q){var D8q=this;N8q||(N8q=C8q,C8q=this.parseULong());for(var m8q=Array(C8q),l8q=Object.keys(N8q),f8q=0;f8q<C8q;f8q++){for(var Q8q={},B8q=0;B8q<l8q.length;B8q++){var z8q=l8q[B8q];Q8q[z8q]=N8q[z8q].call(D8q);}m8q[f8q]=Q8q;}return m8q;};P8Q.prototype.parseStruct=function(d8q){var e8q=this;if("function"===typeof d8q){return d8q.call(this);}for(var W8q=Object.keys(d8q),U8q={},X8q=0;X8q<W8q.length;X8q++){var G8q=W8q[X8q];U8q[G8q]=d8q[G8q].call(e8q);}return U8q;};P8Q.prototype.parsePointer=function(p8q){var F8q=this.parseOffset16();if(0<F8q){return new P8Q(this.data,this.offset+F8q).parseStruct(p8q);}};P8Q.prototype.parsePointer32=function(P8q){var V8q=this.parseOffset32();if(0<V8q){return new P8Q(this.data,this.offset+V8q).parseStruct(P8q);}};P8Q.prototype.parseListOfLists=function(r2q){var R8q=this;for(var w8q=this.parseOffset16List(),k8q=w8q.length,A8q=this.relativeOffset,L8q=Array(k8q),v8q=0;v8q<k8q;v8q++){var a8q=w8q[v8q];if(0===a8q){L8q[v8q]=void 0;}else if(R8q.relativeOffset=a8q,r2q){for(var x8q=this.parseOffset16List(),Y8q=Array(x8q.length),i8q=0;i8q<x8q.length;i8q++){R8q.relativeOffset=a8q+x8q[i8q],Y8q[i8q]=r2q.call(R8q);}L8q[v8q]=Y8q;}else{L8q[v8q]=R8q.parseUShortList();}}this.relativeOffset=A8q;return L8q;};P8Q.prototype.parseCoverage=function(){var I2q=this;var n2q=this.offset+this.relativeOffset,s2q=this.parseUShort(),T2q=this.parseUShort();if(1===s2q){return{format:1,glyphs:this.parseUShortList(T2q)};}if(2===s2q){n2q=Array(T2q);for(s2q=0;s2q<T2q;s2q++){n2q[s2q]={start:I2q.parseUShort(),end:I2q.parseUShort(),index:I2q.parseUShort()};}return{format:2,ranges:n2q};}throw Error("0x"+n2q.toString(16)+": Coverage format must be 1 or 2.");};P8Q.prototype.parseClassDef=function(){var M2q=this.offset+this.relativeOffset,c2q=this.parseUShort();if(1===c2q){return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};}if(2===c2q){return{format:2,ranges:this.parseRecordList({start:P8Q.uShort,end:P8Q.uShort,classId:P8Q.uShort})};}throw Error("0x"+M2q.toString(16)+": ClassDef format must be 1 or 2.");};P8Q.list=function(o2q,O2q){return function(){return this.parseList(o2q,O2q);};};P8Q.list32=function(g2q,h2q){return function(){return this.parseList32(g2q,h2q);};};P8Q.recordList=function(y2q,H2q){return function(){return this.parseRecordList(y2q,H2q);};};P8Q.recordList32=function(q2q,Z2q){return function(){return this.parseRecordList32(q2q,Z2q);};};P8Q.pointer=function(E2q){return function(){return this.parsePointer(E2q);};};P8Q.pointer32=function(u2q){return function(){return this.parsePointer32(u2q);};};P8Q.tag=P8Q.prototype.parseTag;P8Q.byte=P8Q.prototype.parseByte;P8Q.uShort=P8Q.offset16=P8Q.prototype.parseUShort;P8Q.uShortList=P8Q.prototype.parseUShortList;P8Q.uLong=P8Q.offset32=P8Q.prototype.parseULong;P8Q.uLongList=P8Q.prototype.parseULongList;P8Q.struct=P8Q.prototype.parseStruct;P8Q.coverage=P8Q.prototype.parseCoverage;P8Q.classDef=P8Q.prototype.parseClassDef;var t0Q={reserved:P8Q.uShort,reqFeatureIndex:P8Q.uShort,featureIndexes:P8Q.uShortList};P8Q.prototype.parseScriptList=function(){return this.parsePointer(P8Q.recordList({tag:P8Q.tag,script:P8Q.pointer({defaultLangSys:P8Q.pointer(t0Q),langSysRecords:P8Q.recordList({tag:P8Q.tag,langSys:P8Q.pointer(t0Q)})})}));};P8Q.prototype.parseFeatureList=function(){return this.parsePointer(P8Q.recordList({tag:P8Q.tag,feature:P8Q.pointer({featureParams:P8Q.offset16,lookupListIndexes:P8Q.uShortList})}));};P8Q.prototype.parseLookupList=function(j2q){return this.parsePointer(P8Q.list(P8Q.pointer(function(){var J2q=this.parseUShort();k8Q.argument(1<=J2q&&8>=J2q,"GSUB lookup type "+J2q+" unknown.");var S2q=this.parseUShort(),K2q=S2q&16;return{lookupType:J2q,lookupFlag:S2q,subtables:this.parseList(P8Q.pointer(j2q[J2q])),markFilteringSet:K2q?this.parseUShort():void 0};})));};P8Q.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var b2q=this.parseUShort(),t2q=this.parseUShort();k8Q.argument(1===b2q&&1>t2q,"GSUB feature variations table unknown.");return this.parseRecordList32({conditionSetOffset:P8Q.offset32,featureTableSubstitutionOffset:P8Q.offset32});});};var i8Q={getByte:O3Q,getCard8:O3Q,getUShort:W2Q,getCard16:W2Q,getShort:function(C2q,N2q){return C2q.getInt16(N2q,false);},getULong:D0Q,getFixed:J3Q,getTag:function(l2q,m2q){for(var B2q="",f2q=m2q;f2q<m2q+4;f2q+=1){B2q+=String.fromCharCode(l2q.getInt8(f2q));}return B2q;},getOffset:function(D2q,d2q,X2q){for(var Q2q=0,z2q=0;z2q<X2q;z2q+=1){Q2q<<=8,Q2q+=D2q.getUint8(d2q+z2q);}return Q2q;},getBytes:function(G2q,W2q,e2q){for(var U2q=[];W2q<e2q;W2q+=1){U2q.push(G2q.getUint8(W2q));}return U2q;},bytesToString:function(V2q){for(var p2q="",F2q=0;F2q<V2q.length;F2q+=1){p2q+=String.fromCharCode(V2q[F2q]);}return p2q;},Parser:P8Q},N0Q={parse:function(i2q,L2q){var v2q={};v2q.version=i8Q.getUShort(i2q,L2q);k8Q.argument(0===v2q.version,"cmap table version should be 0.");v2q.numTables=i8Q.getUShort(i2q,L2q+2);for(var R2q=-1,P2q=v2q.numTables-1;0<=P2q;--P2q){var w2q=i8Q.getUShort(i2q,L2q+4+8*P2q),x2q=i8Q.getUShort(i2q,L2q+4+8*P2q+2);if(3===w2q&&(0===x2q||1===x2q||10===x2q)){R2q=i8Q.getULong(i2q,L2q+4+8*P2q+4);break;}}if(-1===R2q){throw Error("No valid cmap sub-tables found.");}P2q=new i8Q.Parser(i2q,L2q+R2q);v2q.format=P2q.parseUShort();if(12===v2q.format){for(P2q.parseUShort(),v2q.length=P2q.parseULong(),v2q.language=P2q.parseULong(),v2q.groupCount=i2q=P2q.parseULong(),v2q.glyphIndexMap={},R2q=0;R2q<i2q;R2q+=1){for(L2q=P2q.parseULong(),w2q=P2q.parseULong(),x2q=P2q.parseULong();L2q<=w2q;L2q+=1){v2q.glyphIndexMap[L2q]=x2q,x2q++;}}}else if(4===v2q.format){var k2q=R2q;v2q.length=P2q.parseUShort();v2q.language=P2q.parseUShort();v2q.segCount=R2q=P2q.parseUShort()>>1;P2q.skip("uShort",3);v2q.glyphIndexMap={};P2q=new i8Q.Parser(i2q,L2q+k2q+14);w2q=new i8Q.Parser(i2q,L2q+k2q+16+2*R2q);x2q=new i8Q.Parser(i2q,L2q+k2q+16+4*R2q);L2q=new i8Q.Parser(i2q,L2q+k2q+16+6*R2q);for(var a2q,k2q=0;k2q<R2q-1;k2q+=1){for(var n0q=P2q.parseUShort(),A2q=w2q.parseUShort(),r0q=x2q.parseShort(),s0q=L2q.parseUShort(),Y2q=A2q;Y2q<=n0q;Y2q+=1){0!==s0q?(a2q=L2q.offset+L2q.relativeOffset-2,a2q+=s0q,a2q+=2*(Y2q-A2q),a2q=i8Q.getUShort(i2q,a2q),0!==a2q&&(a2q=a2q+r0q&65535)):a2q=Y2q+r0q&65535,v2q.glyphIndexMap[Y2q]=a2q;}}}else{throw Error("Only format 4 and 12 cmap tables are supported (found format "+v2q.format+").");}return v2q;},make:function(c0q){var o0q=true,T0q;for(T0q=c0q.length-1;0<T0q;--T0q){if(65535<c0q.get(T0q).unicode){console.log("Adding CMAP format 12 (needed!)");o0q=false;break;}}var I0q=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:o0q?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:o0q?12:20}];o0q||(I0q=I0q.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}]));I0q=I0q.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);I0q=new x8Q.Table("cmap",I0q);I0q.segments=[];for(T0q=0;T0q<c0q.length;T0q+=1){for(var g0q=c0q.get(T0q),O0q=0;O0q<g0q.unicodes.length;O0q+=1){J5Q(I0q,g0q.unicodes[O0q],T0q);}I0q.segments=I0q.segments.sort(function(E0q,u0q){return E0q.start-u0q.start;});}I0q.segments.push({end:65535,start:65535,delta:1,offset:0});var g0q=I0q.segments.length,O0q=0,h0q=[],y0q=[],H0q=[],q0q=[],Z0q=[];c0q=[];for(T0q=0;T0q<g0q;T0q+=1){var M0q=I0q.segments[T0q];65535>=M0q.end&&65535>=M0q.start?(h0q=h0q.concat({name:"end_"+T0q,type:"USHORT",value:M0q.end}),y0q=y0q.concat({name:"start_"+T0q,type:"USHORT",value:M0q.start}),H0q=H0q.concat({name:"idDelta_"+T0q,type:"SHORT",value:M0q.delta}),q0q=q0q.concat({name:"idRangeOffset_"+T0q,type:"USHORT",value:M0q.offset}),void 0!==M0q.glyphId&&(Z0q=Z0q.concat({name:"glyph_"+T0q,type:"USHORT",value:M0q.glyphId}))):O0q+=1;o0q||void 0===M0q.glyphIndex||(c0q=c0q.concat({name:"cmap12Start_"+T0q,type:"ULONG",value:M0q.start}),c0q=c0q.concat({name:"cmap12End_"+T0q,type:"ULONG",value:M0q.end}),c0q=c0q.concat({name:"cmap12Glyph_"+T0q,type:"ULONG",value:M0q.glyphIndex}));}I0q.segCountX2=2*(g0q-O0q);I0q.searchRange=2*Math.pow(2,Math.floor(Math.log(g0q-O0q)/Math.log(2)));I0q.entrySelector=Math.log(I0q.searchRange/2)/Math.log(2);I0q.rangeShift=I0q.segCountX2-I0q.searchRange;I0q.fields=I0q.fields.concat(h0q);I0q.fields.push({name:"reservedPad",type:"USHORT",value:0});I0q.fields=I0q.fields.concat(y0q);I0q.fields=I0q.fields.concat(H0q);I0q.fields=I0q.fields.concat(q0q);I0q.fields=I0q.fields.concat(Z0q);I0q.cmap4Length=2*h0q.length+16+2*y0q.length+2*H0q.length+2*q0q.length+2*Z0q.length;o0q||(o0q=16+4*c0q.length,I0q.cmap12Offset=20+I0q.cmap4Length,I0q.fields=I0q.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:o0q},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:c0q.length/3}]),I0q.fields=I0q.fields.concat(c0q));return I0q;}},Q2Q=".notdef;space;exclam;quotedbl;numbersign;dollar;percent;ampersand;quoteright;parenleft;parenright;asterisk;plus;comma;hyphen;period;slash;zero;one;two;three;four;five;six;seven;eight;nine;colon;semicolon;less;equal;greater;question;at;A;B;C;D;E;F;G;H;I;J;K;L;M;N;O;P;Q;R;S;T;U;V;W;X;Y;Z;bracketleft;backslash;bracketright;asciicircum;underscore;quoteleft;a;b;c;d;e;f;g;h;i;j;k;l;m;n;o;p;q;r;s;t;u;v;w;x;y;z;braceleft;bar;braceright;asciitilde;exclamdown;cent;sterling;fraction;yen;florin;section;currency;quotesingle;quotedblleft;guillemotleft;guilsinglleft;guilsinglright;fi;fl;endash;dagger;daggerdbl;periodcentered;paragraph;bullet;quotesinglbase;quotedblbase;quotedblright;guillemotright;ellipsis;perthousand;questiondown;grave;acute;circumflex;tilde;macron;breve;dotaccent;dieresis;ring;cedilla;hungarumlaut;ogonek;caron;emdash;AE;ordfeminine;Lslash;Oslash;OE;ordmasculine;ae;dotlessi;lslash;oslash;oe;germandbls;onesuperior;logicalnot;mu;trademark;Eth;onehalf;plusminus;Thorn;onequarter;divide;brokenbar;degree;thorn;threequarters;twosuperior;registered;minus;eth;multiply;threesuperior;copyright;Aacute;Acircumflex;Adieresis;Agrave;Aring;Atilde;Ccedilla;Eacute;Ecircumflex;Edieresis;Egrave;Iacute;Icircumflex;Idieresis;Igrave;Ntilde;Oacute;Ocircumflex;Odieresis;Ograve;Otilde;Scaron;Uacute;Ucircumflex;Udieresis;Ugrave;Yacute;Ydieresis;Zcaron;aacute;acircumflex;adieresis;agrave;aring;atilde;ccedilla;eacute;ecircumflex;edieresis;egrave;iacute;icircumflex;idieresis;igrave;ntilde;oacute;ocircumflex;odieresis;ograve;otilde;scaron;uacute;ucircumflex;udieresis;ugrave;yacute;ydieresis;zcaron;exclamsmall;Hungarumlautsmall;dollaroldstyle;dollarsuperior;ampersandsmall;Acutesmall;parenleftsuperior;parenrightsuperior;266 ff;onedotenleader;zerooldstyle;oneoldstyle;twooldstyle;threeoldstyle;fouroldstyle;fiveoldstyle;sixoldstyle;sevenoldstyle;eightoldstyle;nineoldstyle;commasuperior;threequartersemdash;periodsuperior;questionsmall;asuperior;bsuperior;centsuperior;dsuperior;esuperior;isuperior;lsuperior;msuperior;nsuperior;osuperior;rsuperior;ssuperior;tsuperior;ff;ffi;ffl;parenleftinferior;parenrightinferior;Circumflexsmall;hyphensuperior;Gravesmall;Asmall;Bsmall;Csmall;Dsmall;Esmall;Fsmall;Gsmall;Hsmall;Ismall;Jsmall;Ksmall;Lsmall;Msmall;Nsmall;Osmall;Psmall;Qsmall;Rsmall;Ssmall;Tsmall;Usmall;Vsmall;Wsmall;Xsmall;Ysmall;Zsmall;colonmonetary;onefitted;rupiah;Tildesmall;exclamdownsmall;centoldstyle;Lslashsmall;Scaronsmall;Zcaronsmall;Dieresissmall;Brevesmall;Caronsmall;Dotaccentsmall;Macronsmall;figuredash;hypheninferior;Ogoneksmall;Ringsmall;Cedillasmall;questiondownsmall;oneeighth;threeeighths;fiveeighths;seveneighths;onethird;twothirds;zerosuperior;foursuperior;fivesuperior;sixsuperior;sevensuperior;eightsuperior;ninesuperior;zeroinferior;oneinferior;twoinferior;threeinferior;fourinferior;fiveinferior;sixinferior;seveninferior;eightinferior;nineinferior;centinferior;dollarinferior;periodinferior;commainferior;Agravesmall;Aacutesmall;Acircumflexsmall;Atildesmall;Adieresissmall;Aringsmall;AEsmall;Ccedillasmall;Egravesmall;Eacutesmall;Ecircumflexsmall;Edieresissmall;Igravesmall;Iacutesmall;Icircumflexsmall;Idieresissmall;Ethsmall;Ntildesmall;Ogravesmall;Oacutesmall;Ocircumflexsmall;Otildesmall;Odieresissmall;OEsmall;Oslashsmall;Ugravesmall;Uacutesmall;Ucircumflexsmall;Udieresissmall;Yacutesmall;Thornsmall;Ydieresissmall;001.000;001.001;001.002;001.003;Black;Bold;Book;Light;Medium;Regular;Roman;Semibold".split(";"),z3Q="                                space exclam quotedbl numbersign dollar percent ampersand quoteright parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore quoteleft a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde                                   exclamdown cent sterling fraction yen florin section currency quotesingle quotedblleft guillemotleft guilsinglleft guilsinglright fi fl  endash dagger daggerdbl periodcentered  paragraph bullet quotesinglbase quotedblbase quotedblright guillemotright ellipsis perthousand  questiondown  grave acute circumflex tilde macron breve dotaccent dieresis  ring cedilla  hungarumlaut ogonek caron emdash                 AE  ordfeminine     Lslash Oslash OE ordmasculine      ae    dotlessi   lslash oslash oe germandbls".split(" "),D3Q="                                space exclamsmall Hungarumlautsmall  dollaroldstyle dollarsuperior ampersandsmall Acutesmall parenleftsuperior parenrightsuperior twodotenleader onedotenleader comma hyphen period fraction zerooldstyle oneoldstyle twooldstyle threeoldstyle fouroldstyle fiveoldstyle sixoldstyle sevenoldstyle eightoldstyle nineoldstyle colon semicolon commasuperior threequartersemdash periodsuperior questionsmall  asuperior bsuperior centsuperior dsuperior esuperior   isuperior   lsuperior msuperior nsuperior osuperior   rsuperior ssuperior tsuperior  ff fi fl ffi ffl parenleftinferior  parenrightinferior Circumflexsmall hyphensuperior Gravesmall Asmall Bsmall Csmall Dsmall Esmall Fsmall Gsmall Hsmall Ismall Jsmall Ksmall Lsmall Msmall Nsmall Osmall Psmall Qsmall Rsmall Ssmall Tsmall Usmall Vsmall Wsmall Xsmall Ysmall Zsmall colonmonetary onefitted rupiah Tildesmall                                   exclamdownsmall centoldstyle Lslashsmall   Scaronsmall Zcaronsmall Dieresissmall Brevesmall Caronsmall  Dotaccentsmall   Macronsmall   figuredash hypheninferior   Ogoneksmall Ringsmall Cedillasmall    onequarter onehalf threequarters questiondownsmall oneeighth threeeighths fiveeighths seveneighths onethird twothirds   zerosuperior onesuperior twosuperior threesuperior foursuperior fivesuperior sixsuperior sevensuperior eightsuperior ninesuperior zeroinferior oneinferior twoinferior threeinferior fourinferior fiveinferior sixinferior seveninferior eightinferior nineinferior centinferior dollarinferior periodinferior commainferior Agravesmall Aacutesmall Acircumflexsmall Atildesmall Adieresissmall Aringsmall AEsmall Ccedillasmall Egravesmall Eacutesmall Ecircumflexsmall Edieresissmall Igravesmall Iacutesmall Icircumflexsmall Idieresissmall Ethsmall Ntildesmall Ogravesmall Oacutesmall Ocircumflexsmall Otildesmall Odieresissmall OEsmall Oslashsmall Ugravesmall Uacutesmall Ucircumflexsmall Udieresissmall Yacutesmall Thornsmall Ydieresissmall".split(" "),u2Q=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(" ");b3Q.prototype.charToGlyphIndex=function(K0q){K0q=K0q.charCodeAt(0);var J0q=this.font.glyphs;if(J0q){for(var j0q=0;j0q<J0q.length;j0q+=1){for(var b0q=J0q.get(j0q),S0q=0;S0q<b0q.unicodes.length;S0q+=1){if(b0q.unicodes[S0q]===K0q){return j0q;}}}}return null;};Q3Q.prototype.charToGlyphIndex=function(t0q){return this.cmap.glyphIndexMap[t0q.charCodeAt(0)]||0;};e2Q.prototype.charToGlyphIndex=function(C0q){C0q=C0q.charCodeAt(0);return this.charset.indexOf(this.encoding[C0q]);};q0Q.prototype.nameToGlyphIndex=function(N0q){return this.names.indexOf(N0q);};q0Q.prototype.glyphIndexToName=function(f0q){return this.names[f0q];};var y2Q={line:function(B0q,m0q,l0q,Q0q,z0q){B0q.beginPath();B0q.moveTo(m0q,l0q);B0q.lineTo(Q0q,z0q);B0q.stroke();}},l0Q={getPath:n3Q,parse:function(G0q,e0q,X0q,W0q){for(var d0q=new J2Q.GlyphSet(W0q),D0q=0;D0q<X0q.length-1;D0q+=1){var U0q=X0q[D0q];U0q!==X0q[D0q+1]?d0q.push(D0q,J2Q.ttfGlyphLoader(W0q,D0q,j5Q,G0q,e0q+U0q,u5Q)):d0q.push(D0q,J2Q.glyphLoader(W0q,D0q));}return d0q;}};s2Q.prototype.bindConstructorValues=function(F0q){this.index=F0q.index||0;this.name=F0q.name||null;this.unicode=F0q.unicode||void 0;this.unicodes=F0q.unicodes||void 0!==F0q.unicode?[F0q.unicode]:[];F0q.xMin&&(this.xMin=F0q.xMin);F0q.yMin&&(this.yMin=F0q.yMin);F0q.xMax&&(this.xMax=F0q.xMax);F0q.yMax&&(this.yMax=F0q.yMax);F0q.advanceWidth&&(this.advanceWidth=F0q.advanceWidth);Object.defineProperty(this,"path",E5Q(this,F0q.path));};s2Q.prototype.addUnicode=function(p0q){0===this.unicodes.length&&(this.unicode=p0q);this.unicodes.push(p0q);};s2Q.prototype.getBoundingBox=function(){return this.path.getBoundingBox();};s2Q.prototype.getPath=function(v0q,L0q,P0q,a0q,x0q){v0q=void 0!==v0q?v0q:0;L0q=void 0!==L0q?L0q:0;P0q=void 0!==P0q?P0q:72;var V0q;a0q||(a0q={});var R0q=a0q.xScale,i0q=a0q.yScale;a0q.hinting&&x0q&&x0q.hinting&&(V0q=this.path&&x0q.hinting.exec(this,P0q));V0q?(a0q=l0Q.getPath(V0q).commands,v0q=Math.round(v0q),L0q=Math.round(L0q),R0q=i0q=1):(a0q=this.path.commands,P0q*=1/this.path.unitsPerEm,void 0===R0q&&(R0q=P0q),void 0===i0q&&(i0q=P0q));P0q=new A8Q();for(x0q=0;x0q<a0q.length;x0q+=1){V0q=a0q[x0q],"M"===V0q.type?P0q.moveTo(v0q+V0q.x*R0q,L0q+-V0q.y*i0q):"L"===V0q.type?P0q.lineTo(v0q+V0q.x*R0q,L0q+-V0q.y*i0q):"Q"===V0q.type?P0q.quadraticCurveTo(v0q+V0q.x1*R0q,L0q+-V0q.y1*i0q,v0q+V0q.x*R0q,L0q+-V0q.y*i0q):"C"===V0q.type?P0q.curveTo(v0q+V0q.x1*R0q,L0q+-V0q.y1*i0q,v0q+V0q.x2*R0q,L0q+-V0q.y2*i0q,v0q+V0q.x*R0q,L0q+-V0q.y*i0q):"Z"===V0q.type&&P0q.closePath();}return P0q;};s2Q.prototype.getContours=function(){var r3q=this;if(void 0===this.points){return[];}for(var Y0q=[],k0q=[],w0q=0;w0q<this.points.length;w0q+=1){var A0q=r3q.points[w0q];k0q.push(A0q);A0q.lastPointOfContour&&(Y0q.push(k0q),k0q=[]);}k8Q.argument(0===k0q.length,"There are still points left in the current contour.");return Y0q;};s2Q.prototype.getMetrics=function(){for(var s3q=this.path.commands,I3q=[],T3q=[],c3q=0;c3q<s3q.length;c3q+=1){var n3q=s3q[c3q];"Z"!==n3q.type&&(I3q.push(n3q.x),T3q.push(n3q.y));if("Q"===n3q.type||"C"===n3q.type){I3q.push(n3q.x1),T3q.push(n3q.y1);}"C"===n3q.type&&(I3q.push(n3q.x2),T3q.push(n3q.y2));}s3q={xMin:Math.min.apply(null,I3q),yMin:Math.min.apply(null,T3q),xMax:Math.max.apply(null,I3q),yMax:Math.max.apply(null,T3q),leftSideBearing:this.leftSideBearing};isFinite(s3q.xMin)||(s3q.xMin=0);isFinite(s3q.xMax)||(s3q.xMax=this.advanceWidth);isFinite(s3q.yMin)||(s3q.yMin=0);isFinite(s3q.yMax)||(s3q.yMax=0);s3q.rightSideBearing=this.advanceWidth-s3q.leftSideBearing-(s3q.xMax-s3q.xMin);return s3q;};s2Q.prototype.draw=function(M3q,o3q,O3q,g3q,h3q){this.getPath(o3q,O3q,g3q,h3q).draw(M3q);};s2Q.prototype.drawPoints=function(H3q,q3q,Z3q,E3q){function K3q(t3q,N3q,f3q,C3q){var B3q=2*Math.PI;H3q.beginPath();for(var b3q=0;b3q<t3q.length;b3q+=1){H3q.moveTo(N3q+t3q[b3q].x*C3q,f3q+t3q[b3q].y*C3q),H3q.arc(N3q+t3q[b3q].x*C3q,f3q+t3q[b3q].y*C3q,2,0,B3q,false);}H3q.closePath();H3q.fill();}q3q=void 0!==q3q?q3q:0;Z3q=void 0!==Z3q?Z3q:0;E3q=1/this.path.unitsPerEm*(void 0!==E3q?E3q:24);for(var J3q=[],u3q=[],S3q=this.path,j3q=0;j3q<S3q.commands.length;j3q+=1){var y3q=S3q.commands[j3q];void 0!==y3q.x&&J3q.push({x:y3q.x,y:-y3q.y});void 0!==y3q.x1&&u3q.push({x:y3q.x1,y:-y3q.y1});void 0!==y3q.x2&&u3q.push({x:y3q.x2,y:-y3q.y2});}H3q.fillStyle="blue";K3q(J3q,q3q,Z3q,E3q);H3q.fillStyle="red";K3q(u3q,q3q,Z3q,E3q);};s2Q.prototype.drawMetrics=function(l3q,Q3q,z3q,m3q){Q3q=void 0!==Q3q?Q3q:0;z3q=void 0!==z3q?z3q:0;m3q=1/this.path.unitsPerEm*(void 0!==m3q?m3q:24);l3q.lineWidth=1;l3q.strokeStyle="black";y2Q.line(l3q,Q3q,-1E4,Q3q,1E4);y2Q.line(l3q,-1E4,z3q,1E4,z3q);var D3q=this.xMin||0,d3q=this.yMin||0,X3q=this.xMax||0,W3q=this.yMax||0,U3q=this.advanceWidth||0;l3q.strokeStyle="blue";y2Q.line(l3q,Q3q+D3q*m3q,-1E4,Q3q+D3q*m3q,1E4);y2Q.line(l3q,Q3q+X3q*m3q,-1E4,Q3q+X3q*m3q,1E4);y2Q.line(l3q,-1E4,z3q+-d3q*m3q,1E4,z3q+-d3q*m3q);y2Q.line(l3q,-1E4,z3q+-W3q*m3q,1E4,z3q+-W3q*m3q);l3q.strokeStyle="green";y2Q.line(l3q,Q3q+U3q*m3q,-1E4,Q3q+U3q*m3q,1E4);};r0Q.prototype.get=function(G3q){"function"===typeof this.glyphs[G3q]&&(this.glyphs[G3q]=this.glyphs[G3q]());return this.glyphs[G3q];};r0Q.prototype.push=function(e3q,F3q){this.glyphs[e3q]=F3q;this.length++;};var J2Q={GlyphSet:r0Q,glyphLoader:function(p3q,V3q){return new s2Q({index:V3q,font:p3q});},ttfGlyphLoader:function(P3q,v3q,L3q,R3q,i3q,a3q){return function(){var x3q=new s2Q({index:v3q,font:P3q});x3q.path=function(){L3q(x3q,R3q,i3q);var k3q=a3q(P3q.glyphs,x3q);k3q.unitsPerEm=P3q.unitsPerEm;return k3q;};v2Q(x3q,"xMin","_xMin");v2Q(x3q,"xMax","_xMax");v2Q(x3q,"yMin","_yMin");v2Q(x3q,"yMax","_yMax");return x3q;};},cffGlyphLoader:function(w3q,Y3q,A3q,r5q){return function(){var s5q=new s2Q({index:Y3q,font:w3q});s5q.path=function(){var n5q=A3q(w3q,s5q,r5q);n5q.unitsPerEm=w3q.unitsPerEm;return n5q;};return s5q;};}},z0Q=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:"real real real real real real".split(" "),value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],G2Q=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}],d0Q={parse:function(I5q,g5q,c5q){c5q.tables.cff={};i8Q.getCard8(I5q,g5q);i8Q.getCard8(I5q,g5q+1);i8Q.getCard8(I5q,g5q+2);i8Q.getCard8(I5q,g5q+3);var T5q=H2Q(I5q,g5q+4,i8Q.bytesToString),T5q=H2Q(I5q,T5q.endOffset),H5q=H2Q(I5q,T5q.endOffset,i8Q.bytesToString),M5q=H2Q(I5q,H5q.endOffset);c5q.gsubrs=M5q.objects;c5q.gsubrsBias=n0Q(c5q.gsubrs);T5q=P3Q(I5q,g5q,T5q.objects,H5q.objects);if(1!==T5q.length){throw Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+T5q.length);}T5q=T5q[0];c5q.tables.cff.topDict=T5q;T5q._privateDict&&(c5q.defaultWidthX=T5q._privateDict.defaultWidthX,c5q.nominalWidthX=T5q._privateDict.nominalWidthX);void 0!==T5q.ros[0]&&void 0!==T5q.ros[1]&&(c5q.isCIDFont=true);if(c5q.isCIDFont){var M5q=T5q.fdArray,o5q=T5q.fdSelect;if(0===M5q||0===o5q){throw Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");}var M5q=H2Q(I5q,M5q+g5q),h5q=P3Q(I5q,g5q,M5q.objects,H5q.objects);T5q._fdArray=h5q;var M5q=c5q.numGlyphs,h5q=h5q.length,q5q=[],O5q,o5q=new i8Q.Parser(I5q,o5q+g5q);O5q=o5q.parseCard8();if(0===O5q){for(var y5q=0;y5q<M5q;y5q++){O5q=o5q.parseCard8();if(O5q>=h5q){throw Error("CFF table CID Font FDSelect has bad FD index value "+O5q+" (FD count "+h5q+")");}q5q.push(O5q);}}else if(3===O5q){var Z5q=o5q.parseCard16(),E5q=o5q.parseCard16();if(0!==E5q){throw Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+E5q);}for(var u5q=0;u5q<Z5q;u5q++){O5q=o5q.parseCard8();y5q=o5q.parseCard16();if(O5q>=h5q){throw Error("CFF table CID Font FDSelect has bad FD index value "+O5q+" (FD count "+h5q+")");}if(y5q>M5q){throw Error("CFF Table CID Font FDSelect format 3 range has bad GID "+y5q);}for(;E5q<y5q;E5q++){q5q.push(O5q);}E5q=y5q;}if(y5q!==M5q){throw Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+y5q);}}else{throw Error("CFF Table CID Font FDSelect table has unsupported format "+O5q);}T5q._fdSelect=q5q;}y5q=g5q+T5q.private[1];M5q=H5q.objects;h5q=y0Q(I5q,y5q,T5q.private[0]);M5q=E0Q(h5q,G2Q,M5q);c5q.defaultWidthX=M5q.defaultWidthX;c5q.nominalWidthX=M5q.nominalWidthX;0!==M5q.subrs?(y5q=H2Q(I5q,y5q+M5q.subrs),c5q.subrs=y5q.objects,c5q.subrsBias=n0Q(c5q.subrs)):(c5q.subrs=[],c5q.subrsBias=0);y5q=H2Q(I5q,g5q+T5q.charStrings);c5q.nGlyphs=y5q.objects.length;M5q=c5q.nGlyphs;h5q=H5q.objects;q5q=new i8Q.Parser(I5q,g5q+T5q.charset);--M5q;H5q=[".notdef"];o5q=q5q.parseCard8();if(0===o5q){for(O5q=0;O5q<M5q;O5q+=1){o5q=q5q.parseSID(),H5q.push(l2Q(h5q,o5q));}}else if(1===o5q){for(;H5q.length<=M5q;){for(o5q=q5q.parseSID(),O5q=q5q.parseCard8(),Z5q=0;Z5q<=O5q;Z5q+=1){H5q.push(l2Q(h5q,o5q)),o5q+=1;}}}else if(2===o5q){for(;H5q.length<=M5q;){for(o5q=q5q.parseSID(),O5q=q5q.parseCard16(),Z5q=0;Z5q<=O5q;Z5q+=1){H5q.push(l2Q(h5q,o5q)),o5q+=1;}}}else{throw Error("Unknown charset format "+o5q);}if(0===T5q.encoding){c5q.cffEncoding=new e2Q(z3Q,H5q);}else if(1===T5q.encoding){c5q.cffEncoding=new e2Q(D3Q,H5q);}else{M5q={};I5q=new i8Q.Parser(I5q,g5q+T5q.encoding);g5q=I5q.parseCard8();if(0===g5q){for(T5q=I5q.parseCard8(),h5q=0;h5q<T5q;h5q+=1){g5q=I5q.parseCard8(),M5q[g5q]=h5q;}}else if(1===g5q){for(T5q=I5q.parseCard8(),g5q=1,h5q=0;h5q<T5q;h5q+=1){for(q5q=I5q.parseCard8(),o5q=I5q.parseCard8(),O5q=q5q;O5q<=q5q+o5q;O5q+=1){M5q[O5q]=g5q,g5q+=1;}}}else{throw Error("Unknown encoding format "+g5q);}I5q=new e2Q(M5q,H5q);c5q.cffEncoding=I5q;}c5q.encoding=c5q.encoding||c5q.cffEncoding;c5q.glyphs=new J2Q.GlyphSet(c5q);for(I5q=0;I5q<c5q.nGlyphs;I5q+=1){c5q.glyphs.push(I5q,J2Q.cffGlyphLoader(c5q,I5q,q5Q,y5q.objects[I5q]));}},make:function(f5q,S5q){for(var K5q=new x8Q.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),N5q=1/S5q.unitsPerEm,N5q={version:S5q.version,fullName:S5q.fullName,familyName:S5q.familyName,weight:S5q.weightName,fontBBox:S5q.fontBBox||[0,0,0,0],fontMatrix:[N5q,0,0,N5q,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},B5q=[],m5q,b5q=1;b5q<f5q.length;b5q+=1){m5q=f5q.get(b5q),B5q.push(m5q.name);}m5q=[];K5q.header=new x8Q.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]);S5q=[S5q.postScriptName];b5q=new x8Q.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);b5q.names=[];for(var J5q=0;J5q<S5q.length;J5q+=1){b5q.names.push({name:"name_"+J5q,type:"NAME",value:S5q[J5q]});}K5q.nameIndex=b5q;S5q=x3Q(N5q,m5q);K5q.topDictIndex=P0Q(S5q);K5q.globalSubrIndex=new x8Q.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]);S5q=new x8Q.Record("Charsets",[{name:"format",type:"Card8",value:0}]);for(b5q=0;b5q<B5q.length;b5q+=1){J5q=L3Q(B5q[b5q],m5q),S5q.fields.push({name:"glyph_"+b5q,type:"SID",value:J5q});}K5q.charsets=S5q;B5q=new x8Q.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]);for(S5q=0;S5q<f5q.length;S5q+=1){var b5q=f5q.get(S5q),J5q=[],D5q=b5q.path;J5q.push({name:"width",type:"NUMBER",value:b5q.advanceWidth});for(var t5q=0,C5q=0,z5q=0;z5q<D5q.commands.length;z5q+=1){var j5q=D5q.commands[z5q];if("Q"===j5q.type){var l5q=0.3333333333333333,Q5q=0.6666666666666666,j5q={type:"C",x:j5q.x,y:j5q.y,x1:l5q*t5q+Q5q*j5q.x1,y1:l5q*C5q+Q5q*j5q.y1,x2:l5q*j5q.x+Q5q*j5q.x1,y2:l5q*j5q.y+Q5q*j5q.y1};}if("M"===j5q.type){t5q=Math.round(j5q.x-t5q),C5q=Math.round(j5q.y-C5q),J5q.push({name:"dx",type:"NUMBER",value:t5q}),J5q.push({name:"dy",type:"NUMBER",value:C5q}),J5q.push({name:"rmoveto",type:"OP",value:21}),t5q=Math.round(j5q.x),C5q=Math.round(j5q.y);}else if("L"===j5q.type){t5q=Math.round(j5q.x-t5q),C5q=Math.round(j5q.y-C5q),J5q.push({name:"dx",type:"NUMBER",value:t5q}),J5q.push({name:"dy",type:"NUMBER",value:C5q}),J5q.push({name:"rlineto",type:"OP",value:5}),t5q=Math.round(j5q.x),C5q=Math.round(j5q.y);}else if("C"===j5q.type){var l5q=Math.round(j5q.x1-t5q),Q5q=Math.round(j5q.y1-C5q),X5q=Math.round(j5q.x2-j5q.x1),d5q=Math.round(j5q.y2-j5q.y1),t5q=Math.round(j5q.x-j5q.x2),C5q=Math.round(j5q.y-j5q.y2);J5q.push({name:"dx1",type:"NUMBER",value:l5q});J5q.push({name:"dy1",type:"NUMBER",value:Q5q});J5q.push({name:"dx2",type:"NUMBER",value:X5q});J5q.push({name:"dy2",type:"NUMBER",value:d5q});J5q.push({name:"dx",type:"NUMBER",value:t5q});J5q.push({name:"dy",type:"NUMBER",value:C5q});J5q.push({name:"rrcurveto",type:"OP",value:8});t5q=Math.round(j5q.x);C5q=Math.round(j5q.y);}}J5q.push({name:"endchar",type:"OP",value:14});B5q.charStrings.push({name:b5q.name,type:"CHARSTRING",value:J5q});}K5q.charStringsIndex=B5q;f5q=new x8Q.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);f5q.dict=i3Q(G2Q,{},m5q);K5q.privateDict=f5q;f5q=new x8Q.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);f5q.strings=[];for(B5q=0;B5q<m5q.length;B5q+=1){f5q.strings.push({name:"string_"+B5q,type:"STRING",value:m5q[B5q]});}K5q.stringIndex=f5q;f5q=K5q.header.sizeOf()+K5q.nameIndex.sizeOf()+K5q.topDictIndex.sizeOf()+K5q.stringIndex.sizeOf()+K5q.globalSubrIndex.sizeOf();N5q.charset=f5q;N5q.encoding=0;N5q.charStrings=N5q.charset+K5q.charsets.sizeOf();N5q.private[1]=N5q.charStrings+K5q.charStringsIndex.sizeOf();S5q=x3Q(N5q,m5q);K5q.topDictIndex=P0Q(S5q);return K5q;}},X0Q={parse:function(U5q,G5q){var W5q={};U5q=new i8Q.Parser(U5q,G5q);W5q.version=U5q.parseVersion();W5q.fontRevision=Math.round(1E3*U5q.parseFixed())/1E3;W5q.checkSumAdjustment=U5q.parseULong();W5q.magicNumber=U5q.parseULong();k8Q.argument(1594834165===W5q.magicNumber,"Font header has wrong magic number.");W5q.flags=U5q.parseUShort();W5q.unitsPerEm=U5q.parseUShort();W5q.created=U5q.parseLongDateTime();W5q.modified=U5q.parseLongDateTime();W5q.xMin=U5q.parseShort();W5q.yMin=U5q.parseShort();W5q.xMax=U5q.parseShort();W5q.yMax=U5q.parseShort();W5q.macStyle=U5q.parseUShort();W5q.lowestRecPPEM=U5q.parseUShort();W5q.fontDirectionHint=U5q.parseShort();W5q.indexToLocFormat=U5q.parseShort();W5q.glyphDataFormat=U5q.parseShort();return W5q;},make:function(e5q){var F5q=Math.round(new Date().getTime()/1E3)+2082844800,p5q=F5q;e5q.createdTimestamp&&(p5q=e5q.createdTimestamp+2082844800);return new x8Q.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1E3},{name:"created",type:"LONGDATETIME",value:p5q},{name:"modified",type:"LONGDATETIME",value:F5q},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e5q);}},W0Q={parse:function(V5q,v5q){var P5q={};V5q=new i8Q.Parser(V5q,v5q);P5q.version=V5q.parseVersion();P5q.ascender=V5q.parseShort();P5q.descender=V5q.parseShort();P5q.lineGap=V5q.parseShort();P5q.advanceWidthMax=V5q.parseUShort();P5q.minLeftSideBearing=V5q.parseShort();P5q.minRightSideBearing=V5q.parseShort();P5q.xMaxExtent=V5q.parseShort();P5q.caretSlopeRise=V5q.parseShort();P5q.caretSlopeRun=V5q.parseShort();P5q.caretOffset=V5q.parseShort();V5q.relativeOffset+=8;P5q.metricDataFormat=V5q.parseShort();P5q.numberOfHMetrics=V5q.parseUShort();return P5q;},make:function(L5q){return new x8Q.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],L5q);}},U0Q={parse:function(i5q,R5q,w5q,Y5q,A5q){var x5q,k5q;i5q=new i8Q.Parser(i5q,R5q);for(R5q=0;R5q<Y5q;R5q+=1){R5q<w5q&&(x5q=i5q.parseUShort(),k5q=i5q.parseShort());var a5q=A5q.get(R5q);a5q.advanceWidth=x5q;a5q.leftSideBearing=k5q;}},make:function(I9q){for(var s9q=new x8Q.Table("hmtx",[]),r9q=0;r9q<I9q.length;r9q+=1){var n9q=I9q.get(r9q),T9q=n9q.leftSideBearing||0;s9q.fields.push({name:"advanceWidth_"+r9q,type:"USHORT",value:n9q.advanceWidth||0});s9q.fields.push({name:"leftSideBearing_"+r9q,type:"SHORT",value:T9q});}return s9q;}},G0Q={make:function(M9q){for(var o9q=new x8Q.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:M9q.length}]),O9q="",h9q=12+4*M9q.length,c9q=0;c9q<M9q.length;++c9q){var g9q=O9q.indexOf(M9q[c9q]);0>g9q&&(g9q=O9q.length,O9q+=M9q[c9q]);o9q.fields.push({name:"offset "+c9q,type:"USHORT",value:h9q+g9q});o9q.fields.push({name:"length "+c9q,type:"USHORT",value:M9q[c9q].length});}o9q.fields.push({name:"stringPool",type:"CHARARRAY",value:O9q});return o9q;},parse:function(J9q,S9q){var y9q=new i8Q.Parser(J9q,S9q),H9q=y9q.parseULong();k8Q.argument(1===H9q,"Unsupported ltag table version.");y9q.skip("uLong",1);for(var H9q=y9q.parseULong(),Z9q=[],j9q=0;j9q<H9q;j9q++){for(var u9q="",E9q=S9q+y9q.parseUShort(),K9q=y9q.parseUShort(),q9q=E9q;q9q<E9q+K9q;++q9q){u9q+=String.fromCharCode(J9q.getInt8(q9q));}Z9q.push(u9q);}return Z9q;}},e0Q={parse:function(t9q,C9q){var b9q={};t9q=new i8Q.Parser(t9q,C9q);b9q.version=t9q.parseVersion();b9q.numGlyphs=t9q.parseUShort();1===b9q.version&&(b9q.maxPoints=t9q.parseUShort(),b9q.maxContours=t9q.parseUShort(),b9q.maxCompositePoints=t9q.parseUShort(),b9q.maxCompositeContours=t9q.parseUShort(),b9q.maxZones=t9q.parseUShort(),b9q.maxTwilightPoints=t9q.parseUShort(),b9q.maxStorage=t9q.parseUShort(),b9q.maxFunctionDefs=t9q.parseUShort(),b9q.maxInstructionDefs=t9q.parseUShort(),b9q.maxStackElements=t9q.parseUShort(),b9q.maxSizeOfInstructions=t9q.parseUShort(),b9q.maxComponentElements=t9q.parseUShort(),b9q.maxComponentDepth=t9q.parseUShort());return b9q;},make:function(N9q){return new x8Q.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:N9q}]);}},F0Q="copyright fontFamily fontSubfamily uniqueID fullName version postScriptName trademark manufacturer designer description manufacturerURL designerURL license licenseURL reserved preferredFamily preferredSubfamily compatibleFullName sampleText postScriptFindFontName wwsFamily wwsSubfamily".split(" "),p0Q={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},a3Q={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},m0Q={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},k3Q={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},w3Q={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"},s0Q={parse:function(X9q,f9q,p9q){var D9q={};f9q=new i8Q.Parser(X9q,f9q);for(var F9q=f9q.parseUShort(),e9q=f9q.parseUShort(),d9q=f9q.offset+f9q.parseUShort(),W9q=0;W9q<e9q;W9q++){var B9q=f9q.parseUShort(),Q9q=f9q.parseUShort(),z9q=f9q.parseUShort(),l9q=f9q.parseUShort(),l9q=F0Q[l9q]||l9q,U9q=f9q.parseUShort(),G9q=f9q.parseUShort(),m9q;a:{switch(B9q){case 0:if(65535===z9q){m9q="und";break a;}if(p9q){m9q=p9q[z9q];break a;}break;case 1:m9q=p0Q[z9q];break a;case 3:m9q=m0Q[z9q];break a;}m9q=void 0;}B9q=v0Q(B9q,Q9q,z9q);void 0!==B9q&&void 0!==m9q&&(B9q="utf-16"===B9q?K2Q.UTF16(X9q,d9q+G9q,U9q):K2Q.MACSTRING(X9q,d9q+G9q,U9q,B9q))&&(Q9q=D9q[l9q],void 0===Q9q&&(Q9q=D9q[l9q]={}),Q9q[m9q]=B9q);}1===F9q&&f9q.parseUShort();return D9q;},make:function(P9q,x9q){var V9q,v9q=[],n1q={},i9q=S0Q(F0Q),a9q;for(a9q in P9q){V9q=i9q[a9q];void 0===V9q&&(V9q=a9q);V9q=parseInt(V9q);if(isNaN(V9q)){throw Error('Name table entry "'+a9q+'" does not exist, see nameTableNames for complete list.');}n1q[V9q]=P9q[a9q];v9q.push(V9q);}a9q=S0Q(p0Q);var T1q=S0Q(m0Q);P9q=[];for(var i9q=[],r1q=0;r1q<v9q.length;r1q++){V9q=v9q[r1q];var s1q=n1q[V9q],Y9q;for(Y9q in s1q){var k9q=s1q[Y9q],w9q=1,L9q=a9q[Y9q],A9q=a3Q[L9q],R9q=v0Q(w9q,A9q,L9q),R9q=L8Q.MACSTRING(k9q,R9q);void 0===R9q&&(w9q=0,L9q=x9q.indexOf(Y9q),0>L9q&&(L9q=x9q.length,x9q.push(Y9q)),A9q=4,R9q=L8Q.UTF16(k9q));var I1q=a0Q(R9q,i9q);P9q.push(i0Q(w9q,A9q,L9q,V9q,R9q.length,I1q));w9q=T1q[Y9q];void 0!==w9q&&(k9q=L8Q.UTF16(k9q),L9q=a0Q(k9q,i9q),P9q.push(i0Q(3,1,w9q,V9q,k9q.length,L9q)));}}P9q.sort(function(c1q,M1q){return c1q.platformID-M1q.platformID||c1q.encodingID-M1q.encodingID||c1q.languageID-M1q.languageID||c1q.nameID-M1q.nameID;});x9q=new x8Q.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:P9q.length},{name:"stringOffset",type:"USHORT",value:6+12*P9q.length}]);for(v9q=0;v9q<P9q.length;v9q++){x9q.fields.push({name:"record_"+v9q,type:"RECORD",value:P9q[v9q]});}x9q.fields.push({name:"strings",type:"LITERAL",value:i9q});return x9q;}},a2Q=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66E3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],i2Q={parse:function(o1q,g1q){var O1q={};o1q=new i8Q.Parser(o1q,g1q);O1q.version=o1q.parseUShort();O1q.xAvgCharWidth=o1q.parseShort();O1q.usWeightClass=o1q.parseUShort();O1q.usWidthClass=o1q.parseUShort();O1q.fsType=o1q.parseUShort();O1q.ySubscriptXSize=o1q.parseShort();O1q.ySubscriptYSize=o1q.parseShort();O1q.ySubscriptXOffset=o1q.parseShort();O1q.ySubscriptYOffset=o1q.parseShort();O1q.ySuperscriptXSize=o1q.parseShort();O1q.ySuperscriptYSize=o1q.parseShort();O1q.ySuperscriptXOffset=o1q.parseShort();O1q.ySuperscriptYOffset=o1q.parseShort();O1q.yStrikeoutSize=o1q.parseShort();O1q.yStrikeoutPosition=o1q.parseShort();O1q.sFamilyClass=o1q.parseShort();O1q.panose=[];for(g1q=0;10>g1q;g1q++){O1q.panose[g1q]=o1q.parseByte();}O1q.ulUnicodeRange1=o1q.parseULong();O1q.ulUnicodeRange2=o1q.parseULong();O1q.ulUnicodeRange3=o1q.parseULong();O1q.ulUnicodeRange4=o1q.parseULong();O1q.achVendID=String.fromCharCode(o1q.parseByte(),o1q.parseByte(),o1q.parseByte(),o1q.parseByte());O1q.fsSelection=o1q.parseUShort();O1q.usFirstCharIndex=o1q.parseUShort();O1q.usLastCharIndex=o1q.parseUShort();O1q.sTypoAscender=o1q.parseShort();O1q.sTypoDescender=o1q.parseShort();O1q.sTypoLineGap=o1q.parseShort();O1q.usWinAscent=o1q.parseUShort();O1q.usWinDescent=o1q.parseUShort();1<=O1q.version&&(O1q.ulCodePageRange1=o1q.parseULong(),O1q.ulCodePageRange2=o1q.parseULong());2<=O1q.version&&(O1q.sxHeight=o1q.parseShort(),O1q.sCapHeight=o1q.parseShort(),O1q.usDefaultChar=o1q.parseUShort(),O1q.usBreakChar=o1q.parseUShort(),O1q.usMaxContent=o1q.parseUShort());return O1q;},make:function(h1q){return new x8Q.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],h1q);},unicodeRanges:a2Q,getUnicodeRange:function(q1q){for(var y1q=0;y1q<a2Q.length;y1q+=1){var H1q=a2Q[y1q];if(q1q>=H1q.begin&&q1q<H1q.end){return y1q;}}return-1;}},Y2Q={parse:function(E1q,u1q){var Z1q={};E1q=new i8Q.Parser(E1q,u1q);Z1q.version=E1q.parseVersion();Z1q.italicAngle=E1q.parseFixed();Z1q.underlinePosition=E1q.parseShort();Z1q.underlineThickness=E1q.parseShort();Z1q.isFixedPitch=E1q.parseULong();Z1q.minMemType42=E1q.parseULong();Z1q.maxMemType42=E1q.parseULong();Z1q.minMemType1=E1q.parseULong();Z1q.maxMemType1=E1q.parseULong();switch(Z1q.version){case 1:Z1q.names=u2Q.slice();break;case 2:Z1q.numberOfGlyphs=E1q.parseUShort();Z1q.glyphNameIndex=Array(Z1q.numberOfGlyphs);for(u1q=0;u1q<Z1q.numberOfGlyphs;u1q++){Z1q.glyphNameIndex[u1q]=E1q.parseUShort();}Z1q.names=[];for(u1q=0;u1q<Z1q.numberOfGlyphs;u1q++){if(Z1q.glyphNameIndex[u1q]>=u2Q.length){var j1q=E1q.parseChar();Z1q.names.push(E1q.parseString(j1q));}}break;case 2.5:for(Z1q.numberOfGlyphs=E1q.parseUShort(),Z1q.offset=Array(Z1q.numberOfGlyphs),u1q=0;u1q<Z1q.numberOfGlyphs;u1q++){Z1q.offset[u1q]=E1q.parseChar();}}return Z1q;},make:function(){return new x8Q.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}]);}},n2Q=Array(9);n2Q[1]=function(){var S1q=this.offset+this.relativeOffset,J1q=this.parseUShort();if(1===J1q){return{substFormat:1,coverage:this.parsePointer(P8Q.coverage),deltaGlyphId:this.parseUShort()};}if(2===J1q){return{substFormat:2,coverage:this.parsePointer(P8Q.coverage),substitute:this.parseOffset16List()};}k8Q.assert(false,"0x"+S1q.toString(16)+": lookup type 1 format must be 1 or 2.");};n2Q[2]=function(){var K1q=this.parseUShort();k8Q.argument(1===K1q,"GSUB Multiple Substitution Subtable identifier-format must be 1");return{substFormat:K1q,coverage:this.parsePointer(P8Q.coverage),sequences:this.parseListOfLists()};};n2Q[3]=function(){var b1q=this.parseUShort();k8Q.argument(1===b1q,"GSUB Alternate Substitution Subtable identifier-format must be 1");return{substFormat:b1q,coverage:this.parsePointer(P8Q.coverage),alternateSets:this.parseListOfLists()};};n2Q[4]=function(){var t1q=this.parseUShort();k8Q.argument(1===t1q,"GSUB ligature table identifier-format must be 1");return{substFormat:t1q,coverage:this.parsePointer(P8Q.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)};})};};var j2Q={sequenceIndex:P8Q.uShort,lookupListIndex:P8Q.uShort};n2Q[5]=function(){var N1q=this.offset+this.relativeOffset,C1q=this.parseUShort();if(1===C1q){return{substFormat:C1q,coverage:this.parsePointer(P8Q.coverage),ruleSets:this.parseListOfLists(function(){var B1q=this.parseUShort(),m1q=this.parseUShort();return{input:this.parseUShortList(B1q-1),lookupRecords:this.parseRecordList(m1q,j2Q)};})};}if(2===C1q){return{substFormat:C1q,coverage:this.parsePointer(P8Q.coverage),classDef:this.parsePointer(P8Q.classDef),classSets:this.parseListOfLists(function(){var l1q=this.parseUShort(),Q1q=this.parseUShort();return{classes:this.parseUShortList(l1q-1),lookupRecords:this.parseRecordList(Q1q,j2Q)};})};}if(3===C1q){var N1q=this.parseUShort(),f1q=this.parseUShort();return{substFormat:C1q,coverages:this.parseList(N1q,P8Q.pointer(P8Q.coverage)),lookupRecords:this.parseRecordList(f1q,j2Q)};}k8Q.assert(false,"0x"+N1q.toString(16)+": lookup type 5 format must be 1, 2 or 3.");};n2Q[6]=function(){var D1q=this.offset+this.relativeOffset,z1q=this.parseUShort();if(1===z1q){return{substFormat:1,coverage:this.parsePointer(P8Q.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(j2Q)};})};}if(2===z1q){return{substFormat:2,coverage:this.parsePointer(P8Q.coverage),backtrackClassDef:this.parsePointer(P8Q.classDef),inputClassDef:this.parsePointer(P8Q.classDef),lookaheadClassDef:this.parsePointer(P8Q.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(j2Q)};})};}if(3===z1q){return{substFormat:3,backtrackCoverage:this.parseList(P8Q.pointer(P8Q.coverage)),inputCoverage:this.parseList(P8Q.pointer(P8Q.coverage)),lookaheadCoverage:this.parseList(P8Q.pointer(P8Q.coverage)),lookupRecords:this.parseRecordList(j2Q)};}k8Q.assert(false,"0x"+D1q.toString(16)+": lookup type 6 format must be 1, 2 or 3.");};n2Q[7]=function(){var d1q=this.parseUShort();k8Q.argument(1===d1q,"GSUB Extension Substitution subtable identifier-format must be 1");var d1q=this.parseUShort(),X1q=new P8Q(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:d1q,extension:n2Q[d1q].call(X1q)};};n2Q[8]=function(){var W1q=this.parseUShort();k8Q.argument(1===W1q,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1");return{substFormat:W1q,coverage:this.parsePointer(P8Q.coverage),backtrackCoverage:this.parseList(P8Q.pointer(P8Q.coverage)),lookaheadCoverage:this.parseList(P8Q.pointer(P8Q.coverage)),substitutes:this.parseUShortList()};};var f2Q=Array(9);f2Q[1]=function(U1q){return 1===U1q.substFormat?new x8Q.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new x8Q.Coverage(U1q.coverage)},{name:"deltaGlyphID",type:"USHORT",value:U1q.deltaGlyphId}]):new x8Q.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new x8Q.Coverage(U1q.coverage)}].concat(x8Q.ushortList("substitute",U1q.substitute)));};f2Q[3]=function(G1q){k8Q.assert(1===G1q.substFormat,"Lookup type 3 substFormat must be 1.");return new x8Q.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new x8Q.Coverage(G1q.coverage)}].concat(x8Q.tableList("altSet",G1q.alternateSets,function(e1q){return new x8Q.Table("alternateSetTable",x8Q.ushortList("alternate",e1q));})));};f2Q[4]=function(F1q){k8Q.assert(1===F1q.substFormat,"Lookup type 4 substFormat must be 1.");return new x8Q.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new x8Q.Coverage(F1q.coverage)}].concat(x8Q.tableList("ligSet",F1q.ligatureSets,function(p1q){return new x8Q.Table("ligatureSetTable",x8Q.tableList("ligature",p1q,function(V1q){return new x8Q.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:V1q.ligGlyph}].concat(x8Q.ushortList("component",V1q.components,V1q.components.length+1)));}));})));};var B0Q={parse:function(P1q,v1q){P1q=new P8Q(P1q,v1q||0);v1q=P1q.parseVersion(1);k8Q.argument(1===v1q||1.1===v1q,"Unsupported GSUB table version.");return 1===v1q?{version:v1q,scripts:P1q.parseScriptList(),features:P1q.parseFeatureList(),lookups:P1q.parseLookupList(n2Q)}:{version:v1q,scripts:P1q.parseScriptList(),features:P1q.parseFeatureList(),lookups:P1q.parseLookupList(n2Q),variations:P1q.parseFeatureVariationsList()};},make:function(L1q){return new x8Q.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new x8Q.ScriptList(L1q.scripts)},{name:"features",type:"TABLE",value:new x8Q.FeatureList(L1q.features)},{name:"lookups",type:"TABLE",value:new x8Q.LookupList(L1q.lookups,f2Q)}]);}},f0Q={parse:function(w1q,Y1q){var R1q=new i8Q.Parser(w1q,Y1q),i1q=R1q.parseULong();k8Q.argument(1===i1q,"Unsupported META table version.");R1q.parseULong();R1q.parseULong();for(var i1q=R1q.parseULong(),x1q={},k1q=0;k1q<i1q;k1q++){var A1q=R1q.parseTag(),a1q=R1q.parseULong(),r4q=R1q.parseULong(),a1q=K2Q.UTF8(w1q,Y1q+a1q,r4q);x1q[A1q]=a1q;}return x1q;},make:function(T4q){var s4q=Object.keys(T4q).length,I4q="",c4q=16+12*s4q,s4q=new x8Q.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:c4q},{name:"numTags",type:"ULONG",value:s4q}]),n4q;for(n4q in T4q){var M4q=I4q.length,I4q=I4q+T4q[n4q];s4q.fields.push({name:"tag "+n4q,type:"TAG",value:n4q});s4q.fields.push({name:"offset "+n4q,type:"ULONG",value:c4q+M4q});s4q.fields.push({name:"length "+n4q,type:"ULONG",value:T4q[n4q].length});}s4q.fields.push({name:"stringPool",type:"CHARARRAY",value:I4q});return s4q;}},u3Q={make:A0Q,fontToTable:function(o4q){for(var H4q=[],h4q=[],S4q=[],O4q=[],K4q=[],t4q=[],N4q=[],u4q,j4q=0,E4q=0,Z4q=0,J4q=0,C4q=0,b4q=0;b4q<o4q.glyphs.length;b4q+=1){var q4q=o4q.glyphs.get(b4q),g4q=q4q.unicode|0;if(isNaN(q4q.advanceWidth)){throw Error("Glyph "+q4q.name+" ("+b4q+"): advanceWidth is not a number.");}(u4q>g4q||void 0===u4q)&&0<g4q&&(u4q=g4q);j4q<g4q&&(j4q=g4q);g4q=i2Q.getUnicodeRange(g4q);if(32>g4q){E4q|=1<<g4q;}else if(64>g4q){Z4q|=1<<g4q-32;}else if(96>g4q){J4q|=1<<g4q-64;}else if(123>g4q){C4q|=1<<g4q-96;}else{throw Error("Unicode ranges bits > 123 are reserved for internal usage");}".notdef"!==q4q.name&&(g4q=q4q.getMetrics(),H4q.push(g4q.xMin),h4q.push(g4q.yMin),S4q.push(g4q.xMax),O4q.push(g4q.yMax),t4q.push(g4q.leftSideBearing),N4q.push(g4q.rightSideBearing),K4q.push(q4q.advanceWidth));}H4q=Math.min.apply(null,H4q);h4q=Math.min.apply(null,h4q);S4q=Math.max.apply(null,S4q);O4q=Math.max.apply(null,O4q);b4q=Math.max.apply(null,K4q);for(g4q=q4q=0;g4q<K4q.length;g4q+=1){q4q+=K4q[g4q];}O4q={xMin:H4q,yMin:h4q,xMax:S4q,yMax:O4q,advanceWidthMax:b4q,advanceWidthAvg:q4q/K4q.length,minLeftSideBearing:Math.min.apply(null,t4q),maxLeftSideBearing:Math.max.apply(null,t4q),minRightSideBearing:Math.min.apply(null,N4q)};O4q.ascender=o4q.ascender;O4q.descender=o4q.descender;K4q=X0Q.make({flags:3,unitsPerEm:o4q.unitsPerEm,xMin:O4q.xMin,yMin:O4q.yMin,xMax:O4q.xMax,yMax:O4q.yMax,lowestRecPPEM:3,createdTimestamp:o4q.createdTimestamp});t4q=W0Q.make({ascender:O4q.ascender,descender:O4q.descender,advanceWidthMax:O4q.advanceWidthMax,minLeftSideBearing:O4q.minLeftSideBearing,minRightSideBearing:O4q.minRightSideBearing,xMaxExtent:O4q.maxLeftSideBearing+(O4q.xMax-O4q.xMin),numberOfHMetrics:o4q.glyphs.length});N4q=e0Q.make(o4q.glyphs.length);u4q=i2Q.make({xAvgCharWidth:Math.round(O4q.advanceWidthAvg),usWeightClass:o4q.tables.os2.usWeightClass,usWidthClass:o4q.tables.os2.usWidthClass,usFirstCharIndex:u4q,usLastCharIndex:j4q,ulUnicodeRange1:E4q,ulUnicodeRange2:Z4q,ulUnicodeRange3:J4q,ulUnicodeRange4:C4q,fsSelection:o4q.tables.os2.fsSelection,sTypoAscender:O4q.ascender,sTypoDescender:O4q.descender,sTypoLineGap:0,usWinAscent:O4q.yMax,usWinDescent:Math.abs(O4q.yMin),ulCodePageRange1:1,sxHeight:r3Q(o4q,"xyvw",{yMax:Math.round(O4q.ascender/2)}).yMax,sCapHeight:r3Q(o4q,"HIKLEFJMNTZBDPRAGOQSUVWXY",O4q).yMax,usDefaultChar:o4q.hasChar(" ")?32:0,usBreakChar:o4q.hasChar(" ")?32:0});j4q=U0Q.make(o4q.glyphs);E4q=N0Q.make(o4q.glyphs);Z4q=o4q.getEnglishName("fontFamily");J4q=o4q.getEnglishName("fontSubfamily");C4q=Z4q+" "+J4q;(S4q=o4q.getEnglishName("postScriptName"))||(S4q=Z4q.replace(/\s/g,"")+"-"+J4q);var h4q={},y4q;for(y4q in o4q.names){h4q[y4q]=o4q.names[y4q];}h4q.uniqueID||(h4q.uniqueID={en:o4q.getEnglishName("manufacturer")+":"+C4q});h4q.postScriptName||(h4q.postScriptName={en:S4q});h4q.preferredFamily||(h4q.preferredFamily=o4q.names.fontFamily);h4q.preferredSubfamily||(h4q.preferredSubfamily=o4q.names.fontSubfamily);H4q=[];y4q=s0Q.make(h4q,H4q);h4q=0<H4q.length?G0Q.make(H4q):void 0;H4q=Y2Q.make();J4q=d0Q.make(o4q.glyphs,{version:o4q.getEnglishName("version"),fullName:C4q,familyName:Z4q,weightName:J4q,postScriptName:S4q,unitsPerEm:o4q.unitsPerEm,fontBBox:[0,O4q.yMin,O4q.ascender,O4q.advanceWidthMax]});Z4q=o4q.metas&&0<Object.keys(o4q.metas).length?f0Q.make(o4q.metas):void 0;y4q=[K4q,t4q,N4q,u4q,y4q,E4q,H4q,J4q,j4q];h4q&&y4q.push(h4q);o4q.tables.gsub&&y4q.push(B0Q.make(o4q.tables.gsub));Z4q&&y4q.push(Z4q);o4q=A0Q(y4q);y4q=o4q.encode();y4q=K0Q(y4q);u4q=o4q.fields;j4q=false;for(E4q=0;E4q<u4q.length;E4q+=1){if("head table"===u4q[E4q].name){u4q[E4q].value.checkSumAdjustment=2981146554-y4q;j4q=true;break;}}if(!j4q){throw Error("Could not find head table with checkSum to adjust.");}return o4q;},computeCheckSum:K0Q};C0Q.prototype={searchTag:b0Q,binSearch:function(Q4q,z4q){for(var f4q=0,m4q=Q4q.length-1;f4q<=m4q;){var B4q=f4q+m4q>>>1,l4q=Q4q[B4q];if(l4q===z4q){return B4q;}l4q<z4q?f4q=B4q+1:m4q=B4q-1;}return-f4q-1;},getTable:function(d4q){var D4q=this.font.tables[this.tableName];!D4q&&d4q&&(D4q=this.font.tables[this.tableName]=this.createDefaultTable());return D4q;},getScriptNames:function(){var X4q=this.getTable();return X4q?X4q.scripts.map(function(W4q){return W4q.tag;}):[];},getDefaultScriptName:function(){var U4q=this.getTable();if(U4q){for(var F4q=false,G4q=0;G4q<U4q.scripts.length;G4q++){var e4q=U4q.scripts[G4q].tag;if("DFLT"===e4q){return e4q;}"latn"===e4q&&(F4q=true);}if(F4q){return"latn";}}},getScriptTable:function(V4q,v4q){var p4q=this.getTable(v4q);if(p4q){V4q=V4q||"DFLT";var P4q=p4q.scripts,p4q=b0Q(p4q.scripts,V4q);if(0<=p4q){return P4q[p4q].script;}if(v4q){return V4q={tag:V4q,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}},P4q.splice(-1-p4q,0,V4q),V4q.script;}}},getLangSysTable:function(R4q,L4q,a4q){if(R4q=this.getScriptTable(R4q,a4q)){if(!L4q||"dflt"===L4q||"DFLT"===L4q){return R4q.defaultLangSys;}var i4q=b0Q(R4q.langSysRecords,L4q);if(0<=i4q){return R4q.langSysRecords[i4q].langSys;}if(a4q){return L4q={tag:L4q,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}},R4q.langSysRecords.splice(-1-i4q,0,L4q),L4q.langSys;}}},getFeatureTable:function(x4q,w4q,r7q,k4q){if(x4q=this.getLangSysTable(x4q,w4q,k4q)){w4q=x4q.featureIndexes;for(var Y4q=this.font.tables[this.tableName].features,A4q=0;A4q<w4q.length;A4q++){if(x4q=Y4q[w4q[A4q]],x4q.tag===r7q){return x4q.feature;}}if(k4q){return k4q=Y4q.length,k8Q.assert(0===k4q||r7q>=Y4q[k4q-1].tag,"Features must be added in alphabetical order."),x4q={tag:r7q,feature:{params:0,lookupListIndexes:[]}},Y4q.push(x4q),w4q.push(k4q),x4q.feature;}}},getLookupTables:function(n7q,s7q,I7q,T7q,o7q){s7q=this.getFeatureTable(n7q,s7q,I7q,o7q);n7q=[];if(s7q){I7q=s7q.lookupListIndexes;for(var c7q=this.font.tables[this.tableName].lookups,M7q=0;M7q<I7q.length;M7q++){s7q=c7q[I7q[M7q]],s7q.lookupType===T7q&&n7q.push(s7q);}if(0===n7q.length&&o7q){return s7q={lookupType:T7q,lookupFlag:0,subtables:[],markFilteringSet:void 0},T7q=c7q.length,c7q.push(s7q),I7q.push(T7q),[s7q];}}return n7q;},expandCoverage:function(g7q){if(1===g7q.format){return g7q.glyphs;}var y7q=[];g7q=g7q.ranges;for(var h7q=0;h7q<g7q.length;h7q++){for(var O7q=g7q[h7q],H7q=O7q.end,O7q=O7q.start;O7q<=H7q;O7q++){y7q.push(O7q);}}return y7q;}};c2Q.prototype=C0Q.prototype;c2Q.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]};};c2Q.prototype.getSingle=function(S7q,Z7q,j7q){var t7q=this;var u7q=[];S7q=this.getLookupTables(Z7q,j7q,S7q,1);for(Z7q=0;Z7q<S7q.length;Z7q++){j7q=S7q[Z7q].subtables;for(var K7q=0;K7q<j7q.length;K7q++){var q7q=j7q[K7q],E7q=t7q.expandCoverage(q7q.coverage);if(1===q7q.substFormat){for(var J7q=q7q.deltaGlyphId,q7q=0;q7q<E7q.length;q7q++){var b7q=E7q[q7q];u7q.push({sub:b7q,by:b7q+J7q});}}else{for(J7q=q7q.substitute,q7q=0;q7q<E7q.length;q7q++){u7q.push({sub:E7q[q7q],by:J7q[q7q]});}}}}return u7q;};c2Q.prototype.getAlternates=function(B7q,N7q,m7q){var Q7q=[];B7q=this.getLookupTables(N7q,m7q,B7q,3);for(N7q=0;N7q<B7q.length;N7q++){m7q=B7q[N7q].subtables;for(var l7q=0;l7q<m7q.length;l7q++){for(var C7q=m7q[l7q],z7q=this.expandCoverage(C7q.coverage),C7q=C7q.alternateSets,f7q=0;f7q<z7q.length;f7q++){Q7q.push({sub:z7q[f7q],by:C7q[f7q]});}}}return Q7q;};c2Q.prototype.getLigatures=function(G7q,d7q,W7q){var V7q=[];G7q=this.getLookupTables(d7q,W7q,G7q,4);for(d7q=0;d7q<G7q.length;d7q++){W7q=G7q[d7q].subtables;for(var U7q=0;U7q<W7q.length;U7q++){for(var D7q=W7q[U7q],F7q=this.expandCoverage(D7q.coverage),D7q=D7q.ligatureSets,X7q=0;X7q<F7q.length;X7q++){for(var v7q=F7q[X7q],P7q=D7q[X7q],e7q=0;e7q<P7q.length;e7q++){var p7q=P7q[e7q];V7q.push({sub:[v7q].concat(p7q.components),by:p7q.ligGlyph});}}}}return V7q;};c2Q.prototype.addSingle=function(L7q,a7q,i7q,R7q){L7q=this.getLookupTables(i7q,R7q,L7q,1,true)[0];L7q=c3Q(L7q,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});k8Q.assert(1===L7q.coverage.format,"Ligature: unable to modify coverage table format "+L7q.coverage.format);i7q=a7q.sub;R7q=this.binSearch(L7q.coverage.glyphs,i7q);0>R7q&&(R7q=-1-R7q,L7q.coverage.glyphs.splice(R7q,0,i7q),L7q.substitute.splice(R7q,0,0));L7q.substitute[R7q]=a7q.by;};c2Q.prototype.addAlternate=function(x7q,Y7q,w7q,k7q){x7q=this.getLookupTables(w7q,k7q,x7q,3,true)[0];x7q=c3Q(x7q,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});k8Q.assert(1===x7q.coverage.format,"Ligature: unable to modify coverage table format "+x7q.coverage.format);w7q=Y7q.sub;k7q=this.binSearch(x7q.coverage.glyphs,w7q);0>k7q&&(k7q=-1-k7q,x7q.coverage.glyphs.splice(k7q,0,w7q),x7q.alternateSets.splice(k7q,0,0));x7q.alternateSets[k7q]=Y7q.by;};c2Q.prototype.addLigature=function(s6q,I6q,A7q,n6q){s6q=this.getLookupTables(A7q,n6q,s6q,4,true)[0];A7q=s6q.subtables[0];A7q||(A7q={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},s6q.subtables[0]=A7q);k8Q.assert(1===A7q.coverage.format,"Ligature: unable to modify coverage table format "+A7q.coverage.format);n6q=I6q.sub[0];s6q=I6q.sub.slice(1);I6q={ligGlyph:I6q.by,components:s6q};var r6q=this.binSearch(A7q.coverage.glyphs,n6q);if(0<=r6q){A7q=A7q.ligatureSets[r6q];for(n6q=0;n6q<A7q.length;n6q++){a:{var r6q=A7q[n6q].components,c6q=r6q.length;if(c6q!==s6q.length){r6q=false;}else{for(var T6q=0;T6q<c6q;T6q++){if(r6q[T6q]!==s6q[T6q]){r6q=false;break a;}}r6q=true;}}if(r6q){return;}}A7q.push(I6q);}else{r6q=-1-r6q,A7q.coverage.glyphs.splice(r6q,0,n6q),A7q.ligatureSets.splice(r6q,0,[I6q]);}};c2Q.prototype.getFeature=function(M6q,o6q,O6q){if(/ss\d\d/.test(M6q)){return this.getSingle(M6q,o6q,O6q);}switch(M6q){case"aalt":case"salt":return this.getSingle(M6q,o6q,O6q).concat(this.getAlternates(M6q,o6q,O6q));case"dlig":case"liga":case"rlig":return this.getLigatures(M6q,o6q,O6q);}};c2Q.prototype.add=function(g6q,h6q,y6q,H6q){if(/ss\d\d/.test(g6q)){return this.addSingle(g6q,h6q,y6q,H6q);}switch(g6q){case"aalt":case"salt":return"number"===typeof h6q.by?this.addSingle(g6q,h6q,y6q,H6q):this.addAlternate(g6q,h6q,y6q,H6q);case"dlig":case"liga":case"rlig":return this.addLigature(g6q,h6q,y6q,H6q);}};var E3Q,S2Q,q3Q,A2Q,Q0Q=function(q6q){var u6q=this.srPeriod,Z6q=this.srPhase,j6q=this.srThreshold,E6q=1;0>q6q&&(q6q=-q6q,E6q=-1);q6q=Math.trunc((q6q+(j6q-Z6q))/u6q)*u6q;q6q+=Z6q;return 0>q6q?Z6q*E6q:q6q*E6q;},M2Q={x:1,y:0,axis:"x",distance:function(J6q,S6q,K6q,b6q){return(K6q?J6q.xo:J6q.x)-(b6q?S6q.xo:S6q.x);},interpolate:function(N6q,t6q,C6q,m6q){var f6q,B6q,l6q;m6q&&m6q!==this?(f6q=m6q.distance(N6q,t6q,true,true),B6q=m6q.distance(N6q,C6q,true,true),t6q=m6q.distance(t6q,t6q,false,true),C6q=m6q.distance(C6q,C6q,false,true),f6q=Math.abs(f6q),B6q=Math.abs(B6q),l6q=f6q+B6q,0===l6q?M2Q.setRelative(N6q,N6q,(t6q+C6q)/2,m6q,true):M2Q.setRelative(N6q,N6q,(t6q*B6q+C6q*f6q)/l6q,m6q,true)):(f6q=N6q.xo-t6q.xo,B6q=N6q.xo-C6q.xo,t6q=t6q.x-t6q.xo,C6q=C6q.x-C6q.xo,f6q=Math.abs(f6q),B6q=Math.abs(B6q),l6q=f6q+B6q,N6q.x=0===l6q?N6q.xo+(t6q+C6q)/2:N6q.xo+(t6q*B6q+C6q*f6q)/l6q);},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(X6q,Q6q,D6q,z6q,d6q){X6q.x=z6q&&z6q!==this?(d6q?Q6q.xo:Q6q.x)+D6q*z6q.x+(X6q.y-((d6q?Q6q.yo:Q6q.y)+D6q*z6q.y))/z6q.normalSlope:(d6q?Q6q.xo:Q6q.x)+D6q;},slope:0,touch:function(W6q){W6q.xTouched=true;},touched:function(U6q){return U6q.xTouched;},untouch:function(G6q){G6q.xTouched=false;}},O2Q={x:0,y:1,axis:"y",distance:function(e6q,F6q,p6q,V6q){return(p6q?e6q.yo:e6q.y)-(V6q?F6q.yo:F6q.y);},interpolate:function(L6q,P6q,v6q,a6q){var R6q,i6q,x6q;a6q&&a6q!==this?(R6q=a6q.distance(L6q,P6q,true,true),i6q=a6q.distance(L6q,v6q,true,true),P6q=a6q.distance(P6q,P6q,false,true),v6q=a6q.distance(v6q,v6q,false,true),R6q=Math.abs(R6q),i6q=Math.abs(i6q),x6q=R6q+i6q,0===x6q?O2Q.setRelative(L6q,L6q,(P6q+v6q)/2,a6q,true):O2Q.setRelative(L6q,L6q,(P6q*i6q+v6q*R6q)/x6q,a6q,true)):(R6q=L6q.yo-P6q.yo,i6q=L6q.yo-v6q.yo,P6q=P6q.y-P6q.yo,v6q=v6q.y-v6q.yo,R6q=Math.abs(R6q),i6q=Math.abs(i6q),x6q=R6q+i6q,L6q.y=0===x6q?L6q.yo+(P6q+v6q)/2:L6q.yo+(P6q*i6q+v6q*R6q)/x6q);},normalSlope:0,setRelative:function(r8W,k6q,Y6q,w6q,A6q){r8W.y=w6q&&w6q!==this?(A6q?k6q.yo:k6q.y)+Y6q*w6q.y+w6q.normalSlope*(r8W.x-((A6q?k6q.xo:k6q.x)+Y6q*w6q.x)):(A6q?k6q.yo:k6q.y)+Y6q;},slope:Number.POSITIVE_INFINITY,touch:function(s8W){s8W.yTouched=true;},touched:function(n8W){return n8W.yTouched;},untouch:function(I8W){I8W.yTouched=false;}};Object.freeze(M2Q);Object.freeze(O2Q);z2Q.prototype.distance=function(T8W,c8W,M8W,o8W){return this.x*M2Q.distance(T8W,c8W,M8W,o8W)+this.y*O2Q.distance(T8W,c8W,M8W,o8W);};z2Q.prototype.interpolate=function(O8W,g8W,h8W,y8W){var H8W,q8W,Z8W;H8W=y8W.distance(O8W,g8W,true,true);q8W=y8W.distance(O8W,h8W,true,true);g8W=y8W.distance(g8W,g8W,false,true);h8W=y8W.distance(h8W,h8W,false,true);H8W=Math.abs(H8W);q8W=Math.abs(q8W);Z8W=H8W+q8W;0===Z8W?this.setRelative(O8W,O8W,(g8W+h8W)/2,y8W,true):this.setRelative(O8W,O8W,(g8W*q8W+h8W*H8W)/Z8W,y8W,true);};z2Q.prototype.setRelative=function(E8W,j8W,t8W,u8W,C8W){u8W=u8W||this;var S8W=u8W.normalSlope,J8W=this.slope,K8W=E8W.x,b8W=E8W.y;E8W.x=(J8W*K8W-S8W*((C8W?j8W.xo:j8W.x)+t8W*u8W.x)+((C8W?j8W.yo:j8W.y)+t8W*u8W.y)-b8W)/(J8W-S8W);E8W.y=J8W*(E8W.x-K8W)+b8W;};z2Q.prototype.touch=function(N8W){N8W.xTouched=true;N8W.yTouched=true;};g2Q.prototype.nextTouched=function(B8W){for(var f8W=this.nextPointOnContour;!B8W.touched(f8W)&&f8W!==this;){f8W=f8W.nextPointOnContour;}return f8W;};g2Q.prototype.prevTouched=function(l8W){for(var m8W=this.prevPointOnContour;!l8W.touched(m8W)&&m8W!==this;){m8W=m8W.prevPointOnContour;}return m8W;};var C2Q=Object.freeze(new g2Q(0,0)),T3Q={cvCutIn:1.0625,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:true};g3Q.prototype.exec=function(W8W,D8W){if("number"!==typeof D8W){throw Error("Point size is not a number!");}if(!(2<this._errorState)){var z8W=this.font,Q8W=this._prepState;if(!Q8W||Q8W.ppem!==D8W){Q8W=this._fpgmState;if(!Q8W){E2Q.prototype=T3Q;Q8W=this._fpgmState=new E2Q("fpgm",z8W.tables.fpgm);Q8W.funcs=[];Q8W.font=z8W;v8Q.DEBUG&&(console.log("---EXEC FPGM---"),Q8W.step=-1);try{S2Q(Q8W);}catch(U8W){console.log("Hinting error in FPGM:"+U8W);this._errorState=3;return;}}E2Q.prototype=Q8W;Q8W=this._prepState=new E2Q("prep",z8W.tables.prep);Q8W.ppem=D8W;var d8W=z8W.tables.cvt;if(d8W){var X8W=Q8W.cvt=Array(d8W.length);D8W/=z8W.unitsPerEm;for(z8W=0;z8W<d8W.length;z8W++){X8W[z8W]=d8W[z8W]*D8W;}}else{Q8W.cvt=[];}v8Q.DEBUG&&(console.log("---EXEC PREP---"),Q8W.step=-1);try{S2Q(Q8W);}catch(G8W){2>this._errorState&&console.log("Hinting error in PREP:"+G8W),this._errorState=2;}}if(!(1<this._errorState)){try{return q3Q(W8W,Q8W);}catch(e8W){1>this._errorState&&(console.log("Hinting error:"+e8W),console.log("Note: further hinting errors are silenced")),this._errorState=1;}}}};q3Q=function(a8W,i8W){var V8W=i8W.ppem/ i8W.font.unitsPerEm,k8W=a8W.components,p8W,F8W;E2Q.prototype=i8W;if(k8W){var Y8W=i8W.font;p8W=[];i8W=[];for(var x8W=0;x8W<k8W.length;x8W++){var L8W=k8W[x8W],v8W=Y8W.glyphs.get(L8W.glyphIndex);F8W=new E2Q("glyf",v8W.instructions);v8Q.DEBUG&&(console.log("---EXEC COMP "+x8W+"---"),F8W.step=-1);A2Q(v8W,F8W,V8W,V8W);for(var v8W=Math.round(L8W.dx*V8W),A8W=Math.round(L8W.dy*V8W),P8W=F8W.gZone,L8W=F8W.contours,w8W=0;w8W<P8W.length;w8W++){var R8W=P8W[w8W];R8W.xTouched=R8W.yTouched=false;R8W.xo=R8W.x+=v8W;R8W.yo=R8W.y+=A8W;}v8W=p8W.length;p8W.push.apply(p8W,P8W);for(P8W=0;P8W<L8W.length;P8W++){i8W.push(L8W[P8W]+v8W);}}a8W.instructions&&!F8W.inhibitGridFit&&(F8W=new E2Q("glyf",a8W.instructions),F8W.gZone=F8W.z0=F8W.z1=F8W.z2=p8W,F8W.contours=i8W,p8W.push(new g2Q(0,0),new g2Q(Math.round(a8W.advanceWidth*V8W),0)),v8Q.DEBUG&&(console.log("---EXEC COMPOSITE---"),F8W.step=-1),S2Q(F8W),p8W.length-=2);}else{F8W=new E2Q("glyf",a8W.instructions),v8Q.DEBUG&&(console.log("---EXEC GLYPH---"),F8W.step=-1),A2Q(a8W,F8W,V8W,V8W),p8W=F8W.gZone;}return p8W;};A2Q=function(T2W,I2W,h2W,g2W){for(var s2W=T2W.points||[],M2W=s2W.length,n2W=I2W.gZone=I2W.z0=I2W.z1=I2W.z2=[],c2W=I2W.contours=[],r2W,o2W=0;o2W<M2W;o2W++){r2W=s2W[o2W],n2W[o2W]=new g2Q(r2W.x*h2W,r2W.y*g2W,r2W.lastPointOfContour,r2W.onCurve);}for(var O2W,s2W=0;s2W<M2W;s2W++){r2W=n2W[s2W],O2W||(O2W=r2W,c2W.push(s2W)),r2W.lastPointOfContour?(r2W.nextPointOnContour=O2W,O2W.prevPointOnContour=r2W,O2W=void 0):(g2W=n2W[s2W+1],r2W.nextPointOnContour=g2W,g2W.prevPointOnContour=r2W);}if(!I2W.inhibitGridFit){if(v8Q.DEBUG){for(console.log("PROCESSING GLYPH",I2W.stack),c2W=0;c2W<M2W;c2W++){console.log(c2W,n2W[c2W].x,n2W[c2W].y);}}n2W.push(new g2Q(0,0),new g2Q(Math.round(T2W.advanceWidth*h2W),0));S2Q(I2W);n2W.length-=2;if(v8Q.DEBUG){for(console.log("FINISHED GLYPH",I2W.stack),T2W=0;T2W<M2W;T2W++){console.log(T2W,n2W[T2W].x,n2W[T2W].y);}}}};S2Q=function(y2W){var H2W=y2W.prog;if(H2W){var Z2W=H2W.length,q2W;for(y2W.ip=0;y2W.ip<Z2W;y2W.ip++){v8Q.DEBUG&&y2W.step++;q2W=E3Q[H2W[y2W.ip]];if(!q2W){throw Error("unknown instruction: 0x"+Number(H2W[y2W.ip]).toString(16));}q2W(y2W);}}};E3Q=[C3Q.bind(void 0,O2Q),C3Q.bind(void 0,M2Q),N3Q.bind(void 0,O2Q),N3Q.bind(void 0,M2Q),B3Q.bind(void 0,O2Q),B3Q.bind(void 0,M2Q),m3Q.bind(void 0,0),m3Q.bind(void 0,1),l3Q.bind(void 0,0),l3Q.bind(void 0,1),function(u2W){var E2W=u2W.stack,j2W=E2W.pop(),E2W=E2W.pop();v8Q.DEBUG&&console.log(u2W.step,"SPVFS[]",j2W,E2W);u2W.pv=u2W.dpv=m2Q(E2W,j2W);},function(S2W){var J2W=S2W.stack,K2W=J2W.pop(),J2W=J2W.pop();v8Q.DEBUG&&console.log(S2W.step,"SPVFS[]",K2W,J2W);S2W.fv=m2Q(J2W,K2W);},function(b2W){var t2W=b2W.stack,C2W=b2W.pv;v8Q.DEBUG&&console.log(b2W.step,"GPV[]");t2W.push(16384*C2W.x);t2W.push(16384*C2W.y);},function(N2W){var f2W=N2W.stack,B2W=N2W.fv;v8Q.DEBUG&&console.log(N2W.step,"GFV[]");f2W.push(16384*B2W.x);f2W.push(16384*B2W.y);},function(m2W){m2W.fv=m2W.pv;v8Q.DEBUG&&console.log(m2W.step,"SFVTPV[]");},function(G2W){var l2W=G2W.stack,D2W=l2W.pop(),d2W=l2W.pop(),X2W=l2W.pop(),z2W=l2W.pop(),e2W=l2W.pop(),Q2W=G2W.z0,l2W=G2W.z1,W2W=Q2W[D2W],U2W=Q2W[d2W],Q2W=l2W[X2W],l2W=l2W[z2W];G2W=G2W.z2[e2W];v8Q.DEBUG&&console.log("ISECT[], ",D2W,d2W,X2W,z2W,e2W);var D2W=W2W.x,d2W=W2W.y,X2W=U2W.x,U2W=U2W.y,z2W=Q2W.x,Q2W=Q2W.y,W2W=l2W.x,l2W=l2W.y,e2W=(D2W-X2W)*(Q2W-l2W)-(d2W-U2W)*(z2W-W2W),p2W=D2W*U2W-d2W*X2W,F2W=z2W*l2W-Q2W*W2W;G2W.x=(p2W*(z2W-W2W)-F2W*(D2W-X2W))/e2W;G2W.y=(p2W*(Q2W-l2W)-F2W*(d2W-U2W))/e2W;},function(V2W){V2W.rp0=V2W.stack.pop();v8Q.DEBUG&&console.log(V2W.step,"SRP0[]",V2W.rp0);},function(P2W){P2W.rp1=P2W.stack.pop();v8Q.DEBUG&&console.log(P2W.step,"SRP1[]",P2W.rp1);},function(v2W){v2W.rp2=v2W.stack.pop();v8Q.DEBUG&&console.log(v2W.step,"SRP2[]",v2W.rp2);},function(L2W){var R2W=L2W.stack.pop();v8Q.DEBUG&&console.log(L2W.step,"SZP0[]",R2W);L2W.zp0=R2W;switch(R2W){case 0:L2W.tZone||w2Q(L2W);L2W.z0=L2W.tZone;break;case 1:L2W.z0=L2W.gZone;break;default:throw Error("Invalid zone pointer");}},function(i2W){var a2W=i2W.stack.pop();v8Q.DEBUG&&console.log(i2W.step,"SZP1[]",a2W);i2W.zp1=a2W;switch(a2W){case 0:i2W.tZone||w2Q(i2W);i2W.z1=i2W.tZone;break;case 1:i2W.z1=i2W.gZone;break;default:throw Error("Invalid zone pointer");}},function(x2W){var k2W=x2W.stack.pop();v8Q.DEBUG&&console.log(x2W.step,"SZP2[]",k2W);x2W.zp2=k2W;switch(k2W){case 0:x2W.tZone||w2Q(x2W);x2W.z2=x2W.tZone;break;case 1:x2W.z2=x2W.gZone;break;default:throw Error("Invalid zone pointer");}},function(w2W){var Y2W=w2W.stack.pop();v8Q.DEBUG&&console.log(w2W.step,"SZPS[]",Y2W);w2W.zp0=w2W.zp1=w2W.zp2=Y2W;switch(Y2W){case 0:w2W.tZone||w2Q(w2W);w2W.z0=w2W.z1=w2W.z2=w2W.tZone;break;case 1:w2W.z0=w2W.z1=w2W.z2=w2W.gZone;break;default:throw Error("Invalid zone pointer");}},function(A2W){A2W.loop=A2W.stack.pop();v8Q.DEBUG&&console.log(A2W.step,"SLOOP[]",A2W.loop);},function(r0W){v8Q.DEBUG&&console.log(r0W.step,"RTG[]");r0W.round=y3Q;},function(s0W){v8Q.DEBUG&&console.log(s0W.step,"RTHG[]");s0W.round=Y3Q;},function(n0W){var I0W=n0W.stack.pop();v8Q.DEBUG&&console.log(n0W.step,"SMD[]",I0W);n0W.minDis=I0W/64;},function(T0W){v8Q.DEBUG&&console.log(T0W.step,"ELSE[]");t3Q(T0W,false);},function(c0W){var M0W=c0W.stack.pop();v8Q.DEBUG&&console.log(c0W.step,"JMPR[]",M0W);c0W.ip+=M0W-1;},function(o0W){var O0W=o0W.stack.pop();v8Q.DEBUG&&console.log(o0W.step,"SCVTCI[]",O0W);o0W.cvCutIn=O0W/64;},void 0,void 0,function(h0W){var g0W=h0W.stack;v8Q.DEBUG&&console.log(h0W.step,"DUP[]");g0W.push(g0W[g0W.length-1]);},Z0Q,function(y0W){v8Q.DEBUG&&console.log(y0W.step,"CLEAR[]");y0W.stack.length=0;},function(q0W){var H0W=q0W.stack,Z0W=H0W.pop(),E0W=H0W.pop();v8Q.DEBUG&&console.log(q0W.step,"SWAP[]");H0W.push(Z0W);H0W.push(E0W);},function(j0W){var u0W=j0W.stack;v8Q.DEBUG&&console.log(j0W.step,"DEPTH[]");u0W.push(u0W.length);},function(K0W){var J0W=K0W.stack,S0W=J0W.pop();v8Q.DEBUG&&console.log(K0W.step,"CINDEX[]",S0W);J0W.push(J0W[J0W.length-S0W]);},function(C0W){var b0W=C0W.stack,t0W=b0W.pop();v8Q.DEBUG&&console.log(C0W.step,"MINDEX[]",t0W);b0W.push(b0W.splice(b0W.length-t0W,1)[0]);},void 0,void 0,void 0,function(N0W){var f0W=N0W.stack,B0W=f0W.pop(),f0W=f0W.pop();v8Q.DEBUG&&console.log(N0W.step,"LOOPCALL[]",B0W,f0W);var m0W=N0W.ip,l0W=N0W.prog;N0W.prog=N0W.funcs[B0W];for(B0W=0;B0W<f0W;B0W++){S2Q(N0W),v8Q.DEBUG&&console.log(++N0W.step,B0W+1<f0W?"next loopcall":"done loopcall",B0W);}N0W.ip=m0W;N0W.prog=l0W;},function(Q0W){var z0W=Q0W.stack.pop();v8Q.DEBUG&&console.log(Q0W.step,"CALL[]",z0W);var D0W=Q0W.ip,d0W=Q0W.prog;Q0W.prog=Q0W.funcs[z0W];S2Q(Q0W);Q0W.ip=D0W;Q0W.prog=d0W;v8Q.DEBUG&&console.log(++Q0W.step,"returning from",z0W);},function(X0W){if("fpgm"!==X0W.env){throw Error("FDEF not allowed here");}var U0W=X0W.prog,W0W=X0W.ip,G0W=X0W.stack.pop(),e0W=W0W;for(v8Q.DEBUG&&console.log(X0W.step,"FDEF[]",G0W);45!==U0W[++W0W];){;}X0W.ip=W0W;X0W.funcs[G0W]=U0W.slice(e0W+1,W0W);},void 0,d3Q.bind(void 0,0),d3Q.bind(void 0,1),X3Q.bind(void 0,O2Q),X3Q.bind(void 0,M2Q),W3Q.bind(void 0,0),W3Q.bind(void 0,1),U3Q.bind(void 0,0),U3Q.bind(void 0,1),G3Q.bind(void 0,0),G3Q.bind(void 0,1),function(F0W){for(var V0W=F0W.stack,P0W=F0W.loop,v0W=F0W.fv,L0W=V0W.pop()/64,i0W=F0W.z2;P0W--;){var R0W=V0W.pop(),p0W=i0W[R0W];v8Q.DEBUG&&console.log(F0W.step,1<F0W.loop?"loop "+(F0W.loop-P0W)+": "+"SHPIX[]":'SHPIX[]',R0W,L0W);v0W.setRelative(p0W,p0W,L0W);v0W.touch(p0W);}F0W.loop=1;},function(a0W){for(var c3W=a0W.stack,k0W=a0W.rp1,w0W=a0W.rp2,Y0W=a0W.loop,n3W=a0W.z0[k0W],s3W=a0W.z1[w0W],A0W=a0W.fv,I3W=a0W.dpv,T3W=a0W.z2;Y0W--;){var r3W=c3W.pop(),x0W=T3W[r3W];v8Q.DEBUG&&console.log(a0W.step,1<a0W.loop?"loop "+(a0W.loop-Y0W)+": "+"IP[]":'IP[]',r3W,k0W,"<->",w0W);A0W.interpolate(x0W,n3W,s3W,I3W);A0W.touch(x0W);}a0W.loop=1;},V0Q.bind(void 0,0),V0Q.bind(void 0,1),function(M3W){for(var y3W=M3W.stack,H3W=M3W.z0[M3W.rp0],o3W=M3W.loop,O3W=M3W.fv,q3W=M3W.pv,Z3W=M3W.z1;o3W--;){var g3W=y3W.pop(),h3W=Z3W[g3W];v8Q.DEBUG&&console.log(M3W.step,1<M3W.loop?"loop "+(M3W.loop-o3W)+": "+"ALIGNRP[]":'ALIGNRP[]',g3W);O3W.setRelative(h3W,H3W,0,q3W);O3W.touch(h3W);}M3W.loop=1;},function(E3W){v8Q.DEBUG&&console.log(E3W.step,"RTDG[]");E3W.round=h5Q;},F3Q.bind(void 0,0),F3Q.bind(void 0,1),function(u3W){var J3W=u3W.prog,j3W=u3W.ip,b3W=u3W.stack,S3W=J3W[++j3W];v8Q.DEBUG&&console.log(u3W.step,"NPUSHB[]",S3W);for(var K3W=0;K3W<S3W;K3W++){b3W.push(J3W[++j3W]);}u3W.ip=j3W;},function(t3W){var C3W=t3W.ip,f3W=t3W.prog,l3W=t3W.stack,B3W=f3W[++C3W];v8Q.DEBUG&&console.log(t3W.step,"NPUSHW[]",B3W);for(var m3W=0;m3W<B3W;m3W++){var N3W=f3W[++C3W]<<8|f3W[++C3W];N3W&32768&&(N3W=-((N3W^65535)+1));l3W.push(N3W);}t3W.ip=C3W;},function(z3W){var Q3W=z3W.stack,D3W=z3W.store;D3W||(D3W=z3W.store=[]);var d3W=Q3W.pop(),Q3W=Q3W.pop();v8Q.DEBUG&&console.log(z3W.step,"WS",d3W,Q3W);D3W[Q3W]=d3W;},function(X3W){var W3W=X3W.stack,U3W=X3W.store,G3W=W3W.pop();v8Q.DEBUG&&console.log(X3W.step,"RS",G3W);W3W.push(U3W&&U3W[G3W]||0);},function(F3W){var e3W=F3W.stack,p3W=e3W.pop(),e3W=e3W.pop();v8Q.DEBUG&&console.log(F3W.step,"WCVTP",p3W,e3W);F3W.cvt[e3W]=p3W/64;},function(V3W){var P3W=V3W.stack,v3W=P3W.pop();v8Q.DEBUG&&console.log(V3W.step,"RCVT",v3W);P3W.push(64*V3W.cvt[v3W]);},p3Q.bind(void 0,0),p3Q.bind(void 0,1),void 0,V3Q.bind(void 0,0),V3Q.bind(void 0,1),function(L3W){v8Q.DEBUG&&console.log(L3W.step,"MPPEM[]");L3W.stack.push(L3W.ppem);},void 0,function(R3W){v8Q.DEBUG&&console.log(R3W.step,"FLIPON[]");R3W.autoFlip=true;},void 0,void 0,function(k3W){var i3W=k3W.stack,a3W=i3W.pop(),x3W=i3W.pop();v8Q.DEBUG&&console.log(k3W.step,"LT[]",a3W,x3W);i3W.push(x3W<a3W?1:0);},function(r5W){var w3W=r5W.stack,Y3W=w3W.pop(),A3W=w3W.pop();v8Q.DEBUG&&console.log(r5W.step,"LTEQ[]",Y3W,A3W);w3W.push(A3W<=Y3W?1:0);},function(T5W){var s5W=T5W.stack,n5W=s5W.pop(),I5W=s5W.pop();v8Q.DEBUG&&console.log(T5W.step,"GT[]",n5W,I5W);s5W.push(I5W>n5W?1:0);},function(O5W){var c5W=O5W.stack,M5W=c5W.pop(),o5W=c5W.pop();v8Q.DEBUG&&console.log(O5W.step,"GTEQ[]",M5W,o5W);c5W.push(o5W>=M5W?1:0);},function(H5W){var g5W=H5W.stack,h5W=g5W.pop(),y5W=g5W.pop();v8Q.DEBUG&&console.log(H5W.step,"EQ[]",h5W,y5W);g5W.push(h5W===y5W?1:0);},function(u5W){var q5W=u5W.stack,Z5W=q5W.pop(),E5W=q5W.pop();v8Q.DEBUG&&console.log(u5W.step,"NEQ[]",Z5W,E5W);q5W.push(Z5W!==E5W?1:0);},function(S5W){var j5W=S5W.stack,J5W=j5W.pop();v8Q.DEBUG&&console.log(S5W.step,"ODD[]",J5W);j5W.push(Math.trunc(J5W)%2?1:0);},function(t5W){var K5W=t5W.stack,b5W=K5W.pop();v8Q.DEBUG&&console.log(t5W.step,"EVEN[]",b5W);K5W.push(Math.trunc(b5W)%2?0:1);},function(C5W){var N5W=C5W.stack.pop();v8Q.DEBUG&&console.log(C5W.step,"IF[]",N5W);N5W||(t3Q(C5W,true),v8Q.DEBUG&&console.log(C5W.step,"EIF[]"));},function(f5W){v8Q.DEBUG&&console.log(f5W.step,"EIF[]");},function(Q5W){var B5W=Q5W.stack,m5W=B5W.pop(),l5W=B5W.pop();v8Q.DEBUG&&console.log(Q5W.step,"AND[]",m5W,l5W);B5W.push(m5W&&l5W?1:0);},function(X5W){var z5W=X5W.stack,D5W=z5W.pop(),d5W=z5W.pop();v8Q.DEBUG&&console.log(X5W.step,"OR[]",D5W,d5W);z5W.push(D5W||d5W?1:0);},function(G5W){var W5W=G5W.stack,U5W=W5W.pop();v8Q.DEBUG&&console.log(G5W.step,"NOT[]",U5W);W5W.push(U5W?0:1);},u0Q.bind(void 0,1),function(e5W){var F5W=e5W.stack.pop();v8Q.DEBUG&&console.log(e5W.step,"SDB[]",F5W);e5W.deltaBase=F5W;},function(p5W){var V5W=p5W.stack.pop();v8Q.DEBUG&&console.log(p5W.step,"SDS[]",V5W);p5W.deltaShift=Math.pow(.5,V5W);},function(R5W){var P5W=R5W.stack,v5W=P5W.pop(),L5W=P5W.pop();v8Q.DEBUG&&console.log(R5W.step,"ADD[]",v5W,L5W);P5W.push(L5W+v5W);},function(k5W){var i5W=k5W.stack,a5W=i5W.pop(),x5W=i5W.pop();v8Q.DEBUG&&console.log(k5W.step,"SUB[]",a5W,x5W);i5W.push(x5W-a5W);},function(r9W){var w5W=r9W.stack,Y5W=w5W.pop(),A5W=w5W.pop();v8Q.DEBUG&&console.log(r9W.step,"DIV[]",Y5W,A5W);w5W.push(64*A5W/Y5W);},function(T9W){var s9W=T9W.stack,n9W=s9W.pop(),I9W=s9W.pop();v8Q.DEBUG&&console.log(T9W.step,"MUL[]",n9W,I9W);s9W.push(I9W*n9W/64);},function(o9W){var c9W=o9W.stack,M9W=c9W.pop();v8Q.DEBUG&&console.log(o9W.step,"ABS[]",M9W);c9W.push(Math.abs(M9W));},function(h9W){var O9W=h9W.stack,g9W=O9W.pop();v8Q.DEBUG&&console.log(h9W.step,"NEG[]",g9W);O9W.push(-g9W);},function(q9W){var y9W=q9W.stack,H9W=y9W.pop();v8Q.DEBUG&&console.log(q9W.step,"FLOOR[]",H9W);y9W.push(64*Math.floor(H9W/64));},function(u9W){var Z9W=u9W.stack,E9W=Z9W.pop();v8Q.DEBUG&&console.log(u9W.step,"CEILING[]",E9W);Z9W.push(64*Math.ceil(E9W/64));},U2Q.bind(void 0,0),U2Q.bind(void 0,1),U2Q.bind(void 0,2),U2Q.bind(void 0,3),void 0,void 0,void 0,void 0,function(J9W){var j9W=J9W.stack,S9W=j9W.pop(),j9W=j9W.pop();v8Q.DEBUG&&console.log(J9W.step,"WCVTF[]",S9W,j9W);J9W.cvt[j9W]=S9W*J9W.ppem/J9W.font.unitsPerEm;},u0Q.bind(void 0,2),u0Q.bind(void 0,3),J0Q.bind(void 0,1),J0Q.bind(void 0,2),J0Q.bind(void 0,3),function(K9W){var t9W=K9W.stack.pop();v8Q.DEBUG&&console.log(K9W.step,"SROUND[]",t9W);K9W.round=Q0Q;var b9W;switch(t9W&192){case 0:b9W=.5;break;case 64:b9W=1;break;case 128:b9W=2;break;default:throw Error("invalid SROUND value");}K9W.srPeriod=b9W;switch(t9W&48){case 0:K9W.srPhase=0;break;case 16:K9W.srPhase=.25*b9W;break;case 32:K9W.srPhase=.5*b9W;break;case 48:K9W.srPhase=.75*b9W;break;default:throw Error("invalid SROUND value");}t9W&=15;K9W.srThreshold=0===t9W?0:(t9W/8-.5)*b9W;},function(C9W){var f9W=C9W.stack.pop();v8Q.DEBUG&&console.log(C9W.step,"S45ROUND[]",f9W);C9W.round=Q0Q;var N9W;switch(f9W&192){case 0:N9W=Math.sqrt(2)/2;break;case 64:N9W=Math.sqrt(2);break;case 128:N9W=2*Math.sqrt(2);break;default:throw Error("invalid S45ROUND value");}C9W.srPeriod=N9W;switch(f9W&48){case 0:C9W.srPhase=0;break;case 16:C9W.srPhase=.25*N9W;break;case 32:C9W.srPhase=.5*N9W;break;case 48:C9W.srPhase=.75*N9W;break;default:throw Error("invalid S45ROUND value");}f9W&=15;C9W.srThreshold=0===f9W?0:(f9W/8-.5)*N9W;},void 0,void 0,function(B9W){v8Q.DEBUG&&console.log(B9W.step,"ROFF[]");B9W.round=y5Q;},void 0,function(m9W){v8Q.DEBUG&&console.log(m9W.step,"RUTG[]");m9W.round=O5Q;},function(l9W){v8Q.DEBUG&&console.log(l9W.step,"RDTG[]");l9W.round=o5Q;},Z0Q,Z0Q,void 0,void 0,void 0,void 0,void 0,function(Q9W){var z9W=Q9W.stack.pop();v8Q.DEBUG&&console.log(Q9W.step,"SCANCTRL[]",z9W);},R3Q.bind(void 0,0),R3Q.bind(void 0,1),function(W9W){var X9W=W9W.stack,D9W=X9W.pop(),d9W=0;v8Q.DEBUG&&console.log(W9W.step,"GETINFO[]",D9W);D9W&1&&(d9W=35);D9W&32&&(d9W|=4096);X9W.push(d9W);},void 0,function(G9W){var U9W=G9W.stack,e9W=U9W.pop(),F9W=U9W.pop(),p9W=U9W.pop();v8Q.DEBUG&&console.log(G9W.step,"ROLL[]");U9W.push(F9W);U9W.push(e9W);U9W.push(p9W);},function(L9W){var V9W=L9W.stack,P9W=V9W.pop(),v9W=V9W.pop();v8Q.DEBUG&&console.log(L9W.step,"MAX[]",P9W,v9W);V9W.push(Math.max(v9W,P9W));},function(x9W){var R9W=x9W.stack,i9W=R9W.pop(),a9W=R9W.pop();v8Q.DEBUG&&console.log(x9W.step,"MIN[]",i9W,a9W);R9W.push(Math.min(a9W,i9W));},function(k9W){var w9W=k9W.stack.pop();v8Q.DEBUG&&console.log(k9W.step,"SCANTYPE[]",w9W);},function(Y9W){var r1W=Y9W.stack.pop(),A9W=Y9W.stack.pop();v8Q.DEBUG&&console.log(Y9W.step,"INSTCTRL[]",r1W,A9W);switch(r1W){case 1:Y9W.inhibitGridFit=!!A9W;break;case 2:Y9W.ignoreCvt=!!A9W;break;default:throw Error("invalid INSTCTRL[] selector");}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Z2Q.bind(void 0,1),Z2Q.bind(void 0,2),Z2Q.bind(void 0,3),Z2Q.bind(void 0,4),Z2Q.bind(void 0,5),Z2Q.bind(void 0,6),Z2Q.bind(void 0,7),Z2Q.bind(void 0,8),q2Q.bind(void 0,1),q2Q.bind(void 0,2),q2Q.bind(void 0,3),q2Q.bind(void 0,4),q2Q.bind(void 0,5),q2Q.bind(void 0,6),q2Q.bind(void 0,7),q2Q.bind(void 0,8),R8Q.bind(void 0,0,0,0,0,0),R8Q.bind(void 0,0,0,0,0,1),R8Q.bind(void 0,0,0,0,0,2),R8Q.bind(void 0,0,0,0,0,3),R8Q.bind(void 0,0,0,0,1,0),R8Q.bind(void 0,0,0,0,1,1),R8Q.bind(void 0,0,0,0,1,2),R8Q.bind(void 0,0,0,0,1,3),R8Q.bind(void 0,0,0,1,0,0),R8Q.bind(void 0,0,0,1,0,1),R8Q.bind(void 0,0,0,1,0,2),R8Q.bind(void 0,0,0,1,0,3),R8Q.bind(void 0,0,0,1,1,0),R8Q.bind(void 0,0,0,1,1,1),R8Q.bind(void 0,0,0,1,1,2),R8Q.bind(void 0,0,0,1,1,3),R8Q.bind(void 0,0,1,0,0,0),R8Q.bind(void 0,0,1,0,0,1),R8Q.bind(void 0,0,1,0,0,2),R8Q.bind(void 0,0,1,0,0,3),R8Q.bind(void 0,0,1,0,1,0),R8Q.bind(void 0,0,1,0,1,1),R8Q.bind(void 0,0,1,0,1,2),R8Q.bind(void 0,0,1,0,1,3),R8Q.bind(void 0,0,1,1,0,0),R8Q.bind(void 0,0,1,1,0,1),R8Q.bind(void 0,0,1,1,0,2),R8Q.bind(void 0,0,1,1,0,3),R8Q.bind(void 0,0,1,1,1,0),R8Q.bind(void 0,0,1,1,1,1),R8Q.bind(void 0,0,1,1,1,2),R8Q.bind(void 0,0,1,1,1,3),R8Q.bind(void 0,1,0,0,0,0),R8Q.bind(void 0,1,0,0,0,1),R8Q.bind(void 0,1,0,0,0,2),R8Q.bind(void 0,1,0,0,0,3),R8Q.bind(void 0,1,0,0,1,0),R8Q.bind(void 0,1,0,0,1,1),R8Q.bind(void 0,1,0,0,1,2),R8Q.bind(void 0,1,0,0,1,3),R8Q.bind(void 0,1,0,1,0,0),R8Q.bind(void 0,1,0,1,0,1),R8Q.bind(void 0,1,0,1,0,2),R8Q.bind(void 0,1,0,1,0,3),R8Q.bind(void 0,1,0,1,1,0),R8Q.bind(void 0,1,0,1,1,1),R8Q.bind(void 0,1,0,1,1,2),R8Q.bind(void 0,1,0,1,1,3),R8Q.bind(void 0,1,1,0,0,0),R8Q.bind(void 0,1,1,0,0,1),R8Q.bind(void 0,1,1,0,0,2),R8Q.bind(void 0,1,1,0,0,3),R8Q.bind(void 0,1,1,0,1,0),R8Q.bind(void 0,1,1,0,1,1),R8Q.bind(void 0,1,1,0,1,2),R8Q.bind(void 0,1,1,0,1,3),R8Q.bind(void 0,1,1,1,0,0),R8Q.bind(void 0,1,1,1,0,1),R8Q.bind(void 0,1,1,1,0,2),R8Q.bind(void 0,1,1,1,0,3),R8Q.bind(void 0,1,1,1,1,0),R8Q.bind(void 0,1,1,1,1,1),R8Q.bind(void 0,1,1,1,1,2),R8Q.bind(void 0,1,1,1,1,3)];w8Q.prototype.hasChar=function(s1W){return null!==this.encoding.charToGlyphIndex(s1W);};w8Q.prototype.charToGlyphIndex=function(n1W){return this.encoding.charToGlyphIndex(n1W);};w8Q.prototype.charToGlyph=function(I1W){I1W=this.charToGlyphIndex(I1W);(I1W=this.glyphs.get(I1W))||(I1W=this.glyphs.get(0));return I1W;};w8Q.prototype.stringToGlyphs=function(o1W,c1W){var y1W=this;c1W=c1W||this.defaultRenderOptions;for(var O1W=[],T1W=0;T1W<o1W.length;T1W+=1){O1W.push(y1W.charToGlyphIndex(o1W[T1W]));}o1W=O1W.length;if(c1W.features){var M1W=c1W.script||this.substitution.getDefaultScriptName(),T1W=[];c1W.features.liga&&(T1W=T1W.concat(this.substitution.getFeature("liga",M1W,c1W.language)));c1W.features.rlig&&(T1W=T1W.concat(this.substitution.getFeature("rlig",M1W,c1W.language)));for(c1W=0;c1W<o1W;c1W+=1){for(M1W=0;M1W<T1W.length;M1W++){for(var H1W=T1W[M1W],q1W=H1W.sub,h1W=q1W.length,g1W=0;g1W<h1W&&q1W[g1W]===O1W[c1W+g1W];){g1W++;}g1W===h1W&&(O1W.splice(c1W,h1W,H1W.by),o1W=o1W-h1W+1);}}}T1W=Array(o1W);c1W=this.glyphs.get(0);for(M1W=0;M1W<o1W;M1W+=1){T1W[M1W]=y1W.glyphs.get(O1W[M1W])||c1W;}return T1W;};w8Q.prototype.nameToGlyphIndex=function(Z1W){return this.glyphNames.nameToGlyphIndex(Z1W);};w8Q.prototype.nameToGlyph=function(E1W){E1W=this.nameToGlyphIndex(E1W);(E1W=this.glyphs.get(E1W))||(E1W=this.glyphs.get(0));return E1W;};w8Q.prototype.glyphIndexToName=function(u1W){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(u1W):"";};w8Q.prototype.getKerningValue=function(j1W,J1W){j1W=j1W.index||j1W;J1W=J1W.index||J1W;var S1W=this.getGposKerningValue;return S1W?S1W(j1W,J1W):this.kerningPairs[j1W+","+J1W]||0;};w8Q.prototype.defaultRenderOptions={kerning:true,features:{liga:true,rlig:true}};w8Q.prototype.forEachGlyph=function(N1W,b1W,B1W,C1W,K1W,Q1W){var m1W=this;b1W=void 0!==b1W?b1W:0;B1W=void 0!==B1W?B1W:0;C1W=void 0!==C1W?C1W:72;K1W=K1W||this.defaultRenderOptions;var l1W=1/this.unitsPerEm*C1W;N1W=this.stringToGlyphs(N1W,K1W);for(var f1W=0;f1W<N1W.length;f1W+=1){var t1W=N1W[f1W];Q1W.call(m1W,t1W,b1W,B1W,C1W,K1W);t1W.advanceWidth&&(b1W+=t1W.advanceWidth*l1W);K1W.kerning&&f1W<N1W.length-1&&(t1W=m1W.getKerningValue(t1W,N1W[f1W+1]),b1W+=t1W*l1W);K1W.letterSpacing?b1W+=K1W.letterSpacing*C1W:K1W.tracking&&(b1W+=K1W.tracking/1E3*C1W);}return b1W;};w8Q.prototype.getPath=function(d1W,X1W,W1W,U1W,D1W){var z1W=new A8Q();this.forEachGlyph(d1W,X1W,W1W,U1W,D1W,function(G1W,e1W,F1W,p1W){G1W=G1W.getPath(e1W,F1W,p1W,D1W,this);z1W.extend(G1W);});return z1W;};w8Q.prototype.getPaths=function(v1W,L1W,R1W,i1W,P1W){var V1W=[];this.forEachGlyph(v1W,L1W,R1W,i1W,P1W,function(a1W,x1W,k1W,w1W){a1W=a1W.getPath(x1W,k1W,w1W,P1W,this);V1W.push(a1W);});return V1W;};w8Q.prototype.getAdvanceWidth=function(Y1W,A1W,r4W){return this.forEachGlyph(Y1W,0,0,A1W,r4W,function(){});};w8Q.prototype.draw=function(s4W,n4W,I4W,T4W,c4W,M4W){this.getPath(n4W,I4W,T4W,c4W,M4W).draw(s4W);};w8Q.prototype.drawPoints=function(o4W,O4W,g4W,h4W,y4W,H4W){this.forEachGlyph(O4W,g4W,h4W,y4W,H4W,function(q4W,Z4W,E4W,u4W){q4W.drawPoints(o4W,Z4W,E4W,u4W);});};w8Q.prototype.drawMetrics=function(j4W,J4W,S4W,K4W,b4W,t4W){this.forEachGlyph(J4W,S4W,K4W,b4W,t4W,function(C4W,N4W,f4W,B4W){C4W.drawMetrics(j4W,N4W,f4W,B4W);});};w8Q.prototype.getEnglishName=function(m4W){if(m4W=this.names[m4W]){return m4W.en;}};w8Q.prototype.validate=function(){function l4W(d4W){var D4W=z4W.getEnglishName(d4W);D4W&&0<D4W.trim().length||Q4W.push("No English "+d4W+" specified.");}var Q4W=[],z4W=this;l4W("fontFamily");l4W("weightName");l4W("manufacturer");l4W("copyright");l4W("version");0<this.unitsPerEm||Q4W.push("No unitsPerEm specified.");};w8Q.prototype.toTables=function(){return u3Q.fontToTable(this);};w8Q.prototype.toBuffer=function(){console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead.");return this.toArrayBuffer();};w8Q.prototype.toArrayBuffer=function(){for(var W4W=this.toTables().encode(),U4W=new ArrayBuffer(W4W.length),G4W=new Uint8Array(U4W),X4W=0;X4W<W4W.length;X4W++){G4W[X4W]=W4W[X4W];}return U4W;};w8Q.prototype.download=function(e4W){var F4W=this.getEnglishName("fontFamily"),p4W=this.getEnglishName("fontSubfamily");e4W=e4W||F4W.replace(/\s/g,"")+"-"+p4W+".otf";var V4W=this.toArrayBuffer();"undefined"!==typeof window?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,V4W.byteLength,function(P4W){P4W.root.getFile(e4W,{create:true},function(v4W){v4W.createWriter(function(R4W){var L4W=new DataView(V4W),L4W=new Blob([L4W],{type:"font/opentype"});R4W.write(L4W);R4W.addEventListener("writeend",function(){location.href=v4W.toURL();},false);});});},function(i4W){throw Error(i4W.name+": "+i4W.message);})):(F4W=require("fs"),p4W=H5Q(V4W),F4W.writeFileSync(e4W,p4W));};w8Q.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};w8Q.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};w8Q.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var x0Q={make:function(x4W,w4W){var k4W=new x8Q.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:x4W.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:x4W.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*x4W.axes.length}]);k4W.offsetToData=k4W.sizeOf();for(var a4W=0;a4W<x4W.axes.length;a4W++){k4W.fields=k4W.fields.concat(M5Q(a4W,x4W.axes[a4W],w4W));}for(a4W=0;a4W<x4W.instances.length;a4W++){k4W.fields=k4W.fields.concat(T5Q(a4W,x4W.instances[a4W],x4W.axes,w4W));}return k4W;},parse:function(T7W,n7W,o7W){var Y4W=new i8Q.Parser(T7W,n7W),s7W=Y4W.parseULong();k8Q.argument(65536===s7W,"Unsupported fvar table version.");var r7W=Y4W.parseOffset16();Y4W.skip("uShort",1);for(var c7W=Y4W.parseUShort(),M7W=Y4W.parseUShort(),s7W=Y4W.parseUShort(),Y4W=Y4W.parseUShort(),I7W=[],A4W=0;A4W<c7W;A4W++){I7W.push(c5Q(T7W,n7W+r7W+A4W*M7W,o7W));}A4W=[];n7W=n7W+r7W+c7W*M7W;for(r7W=0;r7W<s7W;r7W++){A4W.push(I5Q(T7W,n7W+r7W*Y4W,I7W,o7W));}return{axes:I7W,instances:A4W};}},K3Q={parse:function(H7W,y7W,Z7W){var O7W=new i8Q.Parser(H7W,y7W),h7W=O7W.parseVersion(1);k8Q.argument(1===h7W||1.1===h7W,"Unsupported GPOS table version.");k0Q(H7W,y7W+O7W.parseUShort());k0Q(H7W,y7W+O7W.parseUShort());var g7W=O7W.parseUShort();O7W.relativeOffset=g7W;h7W=O7W.parseUShort();O7W=O7W.parseOffset16List(h7W);y7W+=g7W;for(g7W=0;g7W<h7W;g7W++){var q7W=r5Q(H7W,y7W+O7W[g7W]);2!==q7W.lookupType||Z7W.getGposKerningValue||(Z7W.getGposKerningValue=q7W.getKerningValue);}}},o3Q={parse:function(E7W,u7W){E7W=new i8Q.Parser(E7W,u7W);u7W=E7W.parseUShort();if(0===u7W){u7W={};E7W.skip("uShort");var j7W=E7W.parseUShort();k8Q.argument(0===j7W,"Unsupported kern sub-table version.");E7W.skip("uShort",2);j7W=E7W.parseUShort();E7W.skip("uShort",3);for(var J7W=0;J7W<j7W;J7W+=1){var S7W=E7W.parseUShort(),K7W=E7W.parseUShort(),b7W=E7W.parseShort();u7W[S7W+","+K7W]=b7W;}return u7W;}if(1===u7W){u7W={};E7W.skip("uShort");1<E7W.parseULong()&&console.warn("Only the first kern subtable is supported.");E7W.skip("uLong");j7W=E7W.parseUShort()&255;E7W.skip("uShort");if(0===j7W){for(j7W=E7W.parseUShort(),E7W.skip("uShort",3),J7W=0;J7W<j7W;J7W+=1){S7W=E7W.parseUShort(),K7W=E7W.parseUShort(),b7W=E7W.parseShort(),u7W[S7W+","+K7W]=b7W;}}return u7W;}throw Error("Unsupported kern table version ("+u7W+").");}},v3Q={parse:function(t7W,C7W,l7W,m7W){t7W=new i8Q.Parser(t7W,C7W);C7W=m7W?t7W.parseUShort:t7W.parseULong;for(var N7W=[],f7W=0;f7W<l7W+1;f7W+=1){var B7W=C7W.call(t7W);m7W&&(B7W*=2);N7W.push(B7W);}return N7W;}};v8Q.Font=w8Q;v8Q.Glyph=s2Q;v8Q.Path=A8Q;v8Q.BoundingBox=h2Q;v8Q._parse=i8Q;v8Q.parse=I0Q;v8Q.load=function(z7W,Q7W){("undefined"===typeof window?g5Q:A3Q)(z7W,function(D7W,X7W){if(D7W){return Q7W(D7W);}var d7W;try{d7W=I0Q(X7W);}catch(W7W){return Q7W(W7W,null);}return Q7W(null,d7W);});};v8Q.loadSync=function(U7W){U7W=require("fs").readFileSync(U7W);return I0Q(M3Q(U7W));};Object.defineProperty(v8Q,"__esModule",{value:true});}));void function(){sketch.tools.vectorfill=function(G7W){function P7W(L7W){L7W=new e7W(L7W);var R7W=p7W.findAtPoint(L7W);R7W&&R7W.setPaintAt({point:L7W,fillMode:"node",fill:sketch.globals.fill});}function v7W(a7W){a7W.cancel();var w7W=sketch.globals.fill,x7W=V7W.overlay.ctx;G7W.scene.clearOverlayCanvas();var i7W=a7W.start,Y7W=Math.min(i7W.x,a7W.x)-.01,A7W=Math.min(i7W.y,a7W.y)-.01,r6W=Math.max(i7W.x,a7W.x)+.01,s6W=Math.max(i7W.y,a7W.y)+.01,i7W=G7W.pointsIn("pointInSceneFromCanvasSubScroll",[new e7W(Y7W,A7W),new e7W(r6W,A7W),new e7W(r6W,s6W),new e7W(Y7W,s6W)]);if(a7W.END){a7W.hasMoved()?p7W.findInRect(i7W).forEach(function(I6W){I6W.setPaintAt({fillMode:"*",rect:{x1:Y7W,y1:A7W,x2:r6W,y2:s6W},fill:w7W});}):P7W(a7W);}else{a7W=i7W[0];var i7W=i7W[2],n6W=0,k7W=100;"color"===w7W.type&&(k7W=sketch.colorSpace(w7W.color).toHSL().color,n6W=k7W.H,k7W=k7W.S);x7W.save();p7W.setTransform(x7W);x7W.beginPath();x7W.rect(a7W.x+.5,a7W.y+.5,i7W.x-a7W.x,i7W.y-a7W.y);x7W.fillStyle="hsla("+n6W+","+k7W+"%,50%,0.20)";x7W.fill();x7W.lineWidth=1/G7W.zoom;x7W.strokeStyle="hsla("+n6W+","+k7W+"%,50%,1)";x7W.stroke();x7W.restore();}}var F7W=this,V7W=G7W.contexts,p7W=G7W.scene,e7W=sketch.Point;F7W._enable=function(c6W){sketch.keyboard.enable(G7W,c6W);var T6W=F7W.config;c6W.createOrTransform=F7W.createLayerOrTransformScene(v7W,{maxFingers:T6W.maxFingersInteracting||Number.MAX_SAFE_INTEGER,monitor:!!T6W.enableMonitorMouse});};};}();void function(){sketch.vector.PolygonLib=function(){var M6W=new ClipperLib.Clipper();this.reset=function(){M6W=new ClipperLib.Clipper();};this.area=function(o6W){return M6W.Area(o6W);};this.clean=function(O6W,g6W,h6W){return ClipperLib.Clean(O6W,(h6W||.1)*(g6W||1));};this.lighten=function(y6W,H6W,q6W){return ClipperLib.Lighten(y6W,(q6W||.1)*(H6W||1));};this.offset=function(S6W,Z6W,E6W,j6W,J6W,u6W){E6W=Number.isFinite(E6W)?E6W:5;Z6W=Number.isFinite(Z6W)?Z6W:1;j6W=j6W||0;J6W=J6W||10;u6W=Number.isFinite(u6W)?u6W:true;return M6W.OffsetPolygons(S6W,E6W*Z6W,j6W,J6W,u6W);};this.lineToClipPath=function(K6W){var b6W=new ClipperLib.ClipperOffset(2,.25);b6W.AddPaths([K6W],ClipperLib.JoinType.jtRound,ClipperLib.EndType.etOpenRound);K6W=new ClipperLib.Paths();b6W.Execute(K6W,1);return K6W;};this.clip=function(N6W,f6W,t6W){t6W=ClipperLib.ClipType["ct"+t6W];if(0<=t6W){var C6W=new ClipperLib.Paths();M6W=new ClipperLib.Clipper();M6W.AddPaths(N6W,ClipperLib.PolyType.ptSubject,true);M6W.AddPaths(f6W,ClipperLib.PolyType.ptClip,true);M6W.Execute(t6W,C6W);return C6W;}};};}();(function(){function B6W(T8Y,c8Y,M8Y){ClipperLib.biginteger_used=1;null!=T8Y&&("number"==typeof T8Y&&"undefined"==typeof c8Y?this.fromInt(T8Y):"number"==typeof T8Y?this.fromNumber(T8Y,c8Y,M8Y):null==c8Y&&"string"!=typeof T8Y?this.fromString(T8Y,256):this.fromString(T8Y,c8Y));}function m6W(){return new B6W(null,void 0,void 0);}function I8Y(H8Y,q8Y,g8Y,h8Y,o8Y,Z8Y){var y8Y=this;for(;0<=--Z8Y;){var O8Y=q8Y*y8Y[H8Y++]+g8Y[h8Y]+o8Y;o8Y=Math.floor(O8Y/67108864);g8Y[h8Y++]=O8Y&67108863;}return o8Y;}function n8Y(N8Y,u8Y,t8Y,C8Y,j8Y,f8Y){var S8Y=this;var K8Y=u8Y&32767;for(u8Y>>=15;0<=--f8Y;){var E8Y=S8Y[N8Y]&32767,b8Y=S8Y[N8Y++]>>15,J8Y=u8Y*E8Y+b8Y*K8Y,E8Y=K8Y*E8Y+((J8Y&32767)<<15)+t8Y[C8Y]+(j8Y&1073741823);j8Y=(E8Y>>>30)+(J8Y>>>15)+u8Y*b8Y+(j8Y>>>30);t8Y[C8Y++]=E8Y&1073741823;}return j8Y;}function s8Y(U8Y,m8Y,X8Y,W8Y,Q8Y,G8Y){var z8Y=this;var D8Y=m8Y&16383;for(m8Y>>=14;0<=--G8Y;){var B8Y=z8Y[U8Y]&16383,d8Y=z8Y[U8Y++]>>14,l8Y=m8Y*B8Y+d8Y*D8Y,B8Y=D8Y*B8Y+((l8Y&16383)<<14)+X8Y[W8Y]+Q8Y;Q8Y=(B8Y>>28)+(l8Y>>14)+m8Y*d8Y;X8Y[W8Y++]=B8Y&268435455;}return Q8Y;}function x6W(e8Y,F8Y){e8Y=G6W[e8Y.charCodeAt(F8Y)];return null==e8Y?-1:e8Y;}function d6W(V8Y){var p8Y=m6W();p8Y.fromInt(V8Y);return p8Y;}function p6W(P8Y){var L8Y=1,v8Y;0!=(v8Y=P8Y>>>16)&&(P8Y=v8Y,L8Y+=16);0!=(v8Y=P8Y>>8)&&(P8Y=v8Y,L8Y+=8);0!=(v8Y=P8Y>>4)&&(P8Y=v8Y,L8Y+=4);0!=(v8Y=P8Y>>2)&&(P8Y=v8Y,L8Y+=2);0!=P8Y>>1&&(L8Y+=1);return L8Y;}function X6W(R8Y){this.m=R8Y;}function W6W(i8Y){this.m=i8Y;this.mp=i8Y.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<i8Y.DB-15)-1;this.mt2=2*i8Y.t;}function r8Y(a8Y,x8Y){return a8Y&x8Y;}function R6W(k8Y,w8Y){return k8Y|w8Y;}function A6W(Y8Y,A8Y){return Y8Y^A8Y;}function a6W(r2Y,s2Y){return r2Y&~s2Y;}function e6W(){}function k6W(n2Y){return n2Y;}function U6W(I2Y){this.r2=m6W();this.q3=m6W();B6W.ONE.dlShiftTo(2*I2Y.t,this.r2);this.mu=this.r2.divide(I2Y);this.m=I2Y;}window.ClipperLib={};ClipperLib.use_lines=true;var F6W=ClipperLib.use_xyz=false;"undefined"!==typeof module&&module.exports?(module.exports=ClipperLib,F6W=true):"undefined"!==typeof document?window.ClipperLib=ClipperLib:self.ClipperLib=ClipperLib;var Q6W;if(F6W){l6W="chrome",Q6W="Netscape";}else{var l6W=navigator.userAgent.toString().toLowerCase();Q6W=navigator.appName;}var V6W,i6W,P6W,v6W,L6W,w6W;V6W=-1!=l6W.indexOf("chrome")&&-1==l6W.indexOf("chromium")?1:0;F6W=-1!=l6W.indexOf("chromium")?1:0;i6W=-1!=l6W.indexOf("safari")&&-1==l6W.indexOf("chrome")&&-1==l6W.indexOf("chromium")?1:0;P6W=-1!=l6W.indexOf("firefox")?1:0;l6W.indexOf("firefox/17");l6W.indexOf("firefox/15");l6W.indexOf("firefox/3");v6W=-1!=l6W.indexOf("opera")?1:0;l6W.indexOf("msie 10");l6W.indexOf("msie 9");L6W=-1!=l6W.indexOf("msie 8")?1:0;w6W=-1!=l6W.indexOf("msie 7")?1:0;l6W=-1!=l6W.indexOf("msie ")?1:0;ClipperLib.biginteger_used=null;"Microsoft Internet Explorer"==Q6W?(B6W.prototype.am=n8Y,Q6W=30):"Netscape"!=Q6W?(B6W.prototype.am=I8Y,Q6W=26):(B6W.prototype.am=s8Y,Q6W=28);B6W.prototype.DB=Q6W;B6W.prototype.DM=(1<<Q6W)-1;B6W.prototype.DV=1<<Q6W;B6W.prototype.FV=Math.pow(2,52);B6W.prototype.F1=52-Q6W;B6W.prototype.F2=2*Q6W-52;var G6W=[],D6W;Q6W=48;for(D6W=0;9>=D6W;++D6W){G6W[Q6W++]=D6W;}Q6W=97;for(D6W=10;36>D6W;++D6W){G6W[Q6W++]=D6W;}Q6W=65;for(D6W=10;36>D6W;++D6W){G6W[Q6W++]=D6W;}X6W.prototype.convert=function(T2Y){return 0>T2Y.s||0<=T2Y.compareTo(this.m)?T2Y.mod(this.m):T2Y;};X6W.prototype.revert=function(c2Y){return c2Y;};X6W.prototype.reduce=function(M2Y){M2Y.divRemTo(this.m,null,M2Y);};X6W.prototype.mulTo=function(O2Y,g2Y,o2Y){O2Y.multiplyTo(g2Y,o2Y);this.reduce(o2Y);};X6W.prototype.sqrTo=function(y2Y,h2Y){y2Y.squareTo(h2Y);this.reduce(h2Y);};W6W.prototype.convert=function(q2Y){var H2Y=m6W();q2Y.abs().dlShiftTo(this.m.t,H2Y);H2Y.divRemTo(this.m,null,H2Y);0>q2Y.s&&0<H2Y.compareTo(B6W.ZERO)&&this.m.subTo(H2Y,H2Y);return H2Y;};W6W.prototype.revert=function(E2Y){var Z2Y=m6W();E2Y.copyTo(Z2Y);this.reduce(Z2Y);return Z2Y;};W6W.prototype.reduce=function(u2Y){var S2Y=this;for(;u2Y.t<=this.mt2;){u2Y[u2Y.t++]=0;}for(var J2Y=0;J2Y<this.m.t;++J2Y){var j2Y=u2Y[J2Y]&32767,K2Y=j2Y*S2Y.mpl+((j2Y*S2Y.mph+(u2Y[J2Y]>>15)*S2Y.mpl&S2Y.um)<<15)&u2Y.DM,j2Y=J2Y+S2Y.m.t;for(u2Y[j2Y]+=this.m.am(0,K2Y,u2Y,J2Y,0,this.m.t);u2Y[j2Y]>=u2Y.DV;){u2Y[j2Y]-=u2Y.DV,u2Y[++j2Y]++;}}u2Y.clamp();u2Y.drShiftTo(this.m.t,u2Y);0<=u2Y.compareTo(this.m)&&u2Y.subTo(this.m,u2Y);};W6W.prototype.mulTo=function(t2Y,C2Y,b2Y){t2Y.multiplyTo(C2Y,b2Y);this.reduce(b2Y);};W6W.prototype.sqrTo=function(f2Y,N2Y){f2Y.squareTo(N2Y);this.reduce(N2Y);};B6W.prototype.copyTo=function(m2Y){var l2Y=this;for(var B2Y=this.t-1;0<=B2Y;--B2Y){m2Y[B2Y]=l2Y[B2Y];}m2Y.t=this.t;m2Y.s=this.s;};B6W.prototype.fromInt=function(Q2Y){this.t=1;this.s=0>Q2Y?-1:0;0<Q2Y?this[0]=Q2Y:-1>Q2Y?this[0]=Q2Y+this.DV:this.t=0;};B6W.prototype.fromString=function(X2Y,z2Y){var D2Y=this;if(16==z2Y){z2Y=4;}else if(8==z2Y){z2Y=3;}else if(256==z2Y){z2Y=8;}else if(2==z2Y){z2Y=1;}else if(32==z2Y){z2Y=5;}else if(4==z2Y){z2Y=2;}else{this.fromRadix(X2Y,z2Y);return;}this.s=this.t=0;for(var U2Y=X2Y.length,G2Y=false,d2Y=0;0<=--U2Y;){var W2Y=8==z2Y?X2Y[U2Y]&255:x6W(X2Y,U2Y);0>W2Y?"-"==X2Y.charAt(U2Y)&&(G2Y=true):(G2Y=false,0==d2Y?D2Y[D2Y.t++]=W2Y:d2Y+z2Y>D2Y.DB?(D2Y[D2Y.t-1]|=(W2Y&(1<<D2Y.DB-d2Y)-1)<<d2Y,D2Y[D2Y.t++]=W2Y>>D2Y.DB-d2Y):D2Y[D2Y.t-1]|=W2Y<<d2Y,d2Y+=z2Y,d2Y>=D2Y.DB&&(d2Y-=D2Y.DB));}8==z2Y&&0!=(X2Y[0]&128)&&(this.s=-1,0<d2Y&&(this[this.t-1]|=(1<<this.DB-d2Y)-1<<d2Y));this.clamp();G2Y&&B6W.ZERO.subTo(this,this);};B6W.prototype.clamp=function(){var e2Y=this;for(var F2Y=this.s&this.DM;0<this.t&&this[this.t-1]==F2Y;){--e2Y.t;}};B6W.prototype.dlShiftTo=function(P2Y,V2Y){var v2Y=this;var p2Y;for(p2Y=this.t-1;0<=p2Y;--p2Y){V2Y[p2Y+P2Y]=v2Y[p2Y];}for(p2Y=P2Y-1;0<=p2Y;--p2Y){V2Y[p2Y]=0;}V2Y.t=this.t+P2Y;V2Y.s=this.s;};B6W.prototype.drShiftTo=function(R2Y,i2Y){var a2Y=this;for(var L2Y=R2Y;L2Y<this.t;++L2Y){i2Y[L2Y-R2Y]=a2Y[L2Y];}i2Y.t=Math.max(this.t-R2Y,0);i2Y.s=this.s;};B6W.prototype.lShiftTo=function(k2Y,w2Y){var r0Y=this;var Y2Y=k2Y%this.DB,s0Y=this.DB-Y2Y,n0Y=(1<<s0Y)-1;k2Y=Math.floor(k2Y/this.DB);var A2Y=this.s<<Y2Y&this.DM,x2Y;for(x2Y=this.t-1;0<=x2Y;--x2Y){w2Y[x2Y+k2Y+1]=r0Y[x2Y]>>s0Y|A2Y,A2Y=(r0Y[x2Y]&n0Y)<<Y2Y;}for(x2Y=k2Y-1;0<=x2Y;--x2Y){w2Y[x2Y]=0;}w2Y[k2Y]=A2Y;w2Y.t=this.t+k2Y+1;w2Y.s=this.s;w2Y.clamp();};B6W.prototype.rShiftTo=function(c0Y,I0Y){var o0Y=this;I0Y.s=this.s;var T0Y=Math.floor(c0Y/this.DB);if(T0Y>=this.t){I0Y.t=0;}else{c0Y%=this.DB;var O0Y=this.DB-c0Y,g0Y=(1<<c0Y)-1;I0Y[0]=this[T0Y]>>c0Y;for(var M0Y=T0Y+1;M0Y<this.t;++M0Y){I0Y[M0Y-T0Y-1]|=(o0Y[M0Y]&g0Y)<<O0Y,I0Y[M0Y-T0Y]=o0Y[M0Y]>>c0Y;}0<c0Y&&(I0Y[this.t-T0Y-1]|=(this.s&g0Y)<<O0Y);I0Y.t=this.t-T0Y;I0Y.clamp();}};B6W.prototype.subTo=function(Z0Y,q0Y){var H0Y=this;for(var y0Y=0,h0Y=0,E0Y=Math.min(Z0Y.t,this.t);y0Y<E0Y;){h0Y+=H0Y[y0Y]-Z0Y[y0Y],q0Y[y0Y++]=h0Y&H0Y.DM,h0Y>>=H0Y.DB;}if(Z0Y.t<this.t){for(h0Y-=Z0Y.s;y0Y<this.t;){h0Y+=H0Y[y0Y],q0Y[y0Y++]=h0Y&H0Y.DM,h0Y>>=H0Y.DB;}h0Y+=this.s;}else{for(h0Y+=this.s;y0Y<Z0Y.t;){h0Y-=Z0Y[y0Y],q0Y[y0Y++]=h0Y&H0Y.DM,h0Y>>=H0Y.DB;}h0Y-=Z0Y.s;}q0Y.s=0>h0Y?-1:0;-1>h0Y?q0Y[y0Y++]=this.DV+h0Y:0<h0Y&&(q0Y[y0Y++]=h0Y);q0Y.t=y0Y;q0Y.clamp();};B6W.prototype.multiplyTo=function(K0Y,j0Y){var J0Y=this.abs(),S0Y=K0Y.abs(),u0Y=J0Y.t;for(j0Y.t=u0Y+S0Y.t;0<=--u0Y;){j0Y[u0Y]=0;}for(u0Y=0;u0Y<S0Y.t;++u0Y){j0Y[u0Y+J0Y.t]=J0Y.am(0,S0Y[u0Y],j0Y,u0Y,0,J0Y.t);}j0Y.s=0;j0Y.clamp();this.s!=K0Y.s&&B6W.ZERO.subTo(j0Y,j0Y);};B6W.prototype.squareTo=function(C0Y){for(var t0Y=this.abs(),b0Y=C0Y.t=2*t0Y.t;0<=--b0Y;){C0Y[b0Y]=0;}for(b0Y=0;b0Y<t0Y.t-1;++b0Y){var N0Y=t0Y.am(b0Y,t0Y[b0Y],C0Y,2*b0Y,0,1);(C0Y[b0Y+t0Y.t]+=t0Y.am(b0Y+1,2*t0Y[b0Y],C0Y,2*b0Y+1,N0Y,t0Y.t-b0Y-1))>=t0Y.DV&&(C0Y[b0Y+t0Y.t]-=t0Y.DV,C0Y[b0Y+t0Y.t+1]=1);}0<C0Y.t&&(C0Y[C0Y.t-1]+=t0Y.am(b0Y,t0Y[b0Y],C0Y,2*b0Y,0,1));C0Y.s=0;C0Y.clamp();};B6W.prototype.divRemTo=function(U0Y,z0Y,f0Y){var V0Y=this;var B0Y=U0Y.abs();if(!(0>=B0Y.t)){var Q0Y=this.abs();if(Q0Y.t<B0Y.t){null!=z0Y&&z0Y.fromInt(0),null!=f0Y&&this.copyTo(f0Y);}else{null==f0Y&&(f0Y=m6W());var m0Y=m6W(),e0Y=this.s;U0Y=U0Y.s;var d0Y=this.DB-p6W(B0Y[B0Y.t-1]);0<d0Y?(B0Y.lShiftTo(d0Y,m0Y),Q0Y.lShiftTo(d0Y,f0Y)):(B0Y.copyTo(m0Y),Q0Y.copyTo(f0Y));B0Y=m0Y.t;Q0Y=m0Y[B0Y-1];if(0!=Q0Y){var X0Y=Q0Y*(1<<this.F1)+(1<B0Y?m0Y[B0Y-2]>>this.F2:0),p0Y=this.FV/X0Y,X0Y=(1<<this.F1)/X0Y,F0Y=1<<this.F2,D0Y=f0Y.t,W0Y=D0Y-B0Y,l0Y=null==z0Y?m6W():z0Y;m0Y.dlShiftTo(W0Y,l0Y);0<=f0Y.compareTo(l0Y)&&(f0Y[f0Y.t++]=1,f0Y.subTo(l0Y,f0Y));B6W.ONE.dlShiftTo(B0Y,l0Y);for(l0Y.subTo(m0Y,m0Y);m0Y.t<B0Y;){m0Y[m0Y.t++]=0;}for(;0<=--W0Y;){var G0Y=f0Y[--D0Y]==Q0Y?V0Y.DM:Math.floor(f0Y[D0Y]*p0Y+(f0Y[D0Y-1]+F0Y)*X0Y);if((f0Y[D0Y]+=m0Y.am(0,G0Y,f0Y,W0Y,0,B0Y))<G0Y){for(m0Y.dlShiftTo(W0Y,l0Y),f0Y.subTo(l0Y,f0Y);f0Y[D0Y]<--G0Y;){f0Y.subTo(l0Y,f0Y);}}}null!=z0Y&&(f0Y.drShiftTo(B0Y,z0Y),e0Y!=U0Y&&B6W.ZERO.subTo(z0Y,z0Y));f0Y.t=B0Y;f0Y.clamp();0<d0Y&&f0Y.rShiftTo(d0Y,f0Y);0>e0Y&&B6W.ZERO.subTo(f0Y,f0Y);}}}};B6W.prototype.invDigit=function(){if(1>this.t){return 0;}var v0Y=this[0];if(0==(v0Y&1)){return 0;}var P0Y=v0Y&3,P0Y=P0Y*(2-(v0Y&15)*P0Y)&15,P0Y=P0Y*(2-(v0Y&255)*P0Y)&255,P0Y=P0Y*(2-((v0Y&65535)*P0Y&65535))&65535,P0Y=P0Y*(2-v0Y*P0Y%this.DV)%this.DV;return 0<P0Y?this.DV-P0Y:-P0Y;};B6W.prototype.isEven=function(){return 0==(0<this.t?this[0]&1:this.s);};B6W.prototype.exp=function(i0Y,a0Y){if(4294967295<i0Y||1>i0Y){return B6W.ONE;}var L0Y=m6W(),R0Y=m6W(),x0Y=a0Y.convert(this),k0Y=p6W(i0Y)-1;for(x0Y.copyTo(L0Y);0<=--k0Y;){if(a0Y.sqrTo(L0Y,R0Y),0<(i0Y&1<<k0Y)){a0Y.mulTo(R0Y,x0Y,L0Y);}else{var w0Y=L0Y,L0Y=R0Y,R0Y=w0Y;}}return a0Y.revert(L0Y);};B6W.prototype.toString=function(Y0Y){var n3Y=this;if(0>this.s){return"-"+this.negate().toString(Y0Y);}if(16==Y0Y){Y0Y=4;}else if(8==Y0Y){Y0Y=3;}else if(2==Y0Y){Y0Y=1;}else if(32==Y0Y){Y0Y=5;}else if(4==Y0Y){Y0Y=2;}else{return this.toRadix(Y0Y);}var c3Y=(1<<Y0Y)-1,s3Y,I3Y=false,T3Y="",r3Y=this.t,A0Y=this.DB-r3Y*this.DB%Y0Y;if(0<r3Y--){for(A0Y<this.DB&&0<(s3Y=this[r3Y]>>A0Y)&&(I3Y=true,T3Y="0123456789abcdefghijklmnopqrstuvwxyz".charAt(s3Y));0<=r3Y;){A0Y<Y0Y?(s3Y=(n3Y[r3Y]&(1<<A0Y)-1)<<Y0Y-A0Y,s3Y|=n3Y[--r3Y]>>(A0Y+=n3Y.DB-Y0Y)):(s3Y=n3Y[r3Y]>>(A0Y-=Y0Y)&c3Y,0>=A0Y&&(A0Y+=n3Y.DB,--r3Y)),0<s3Y&&(I3Y=true),I3Y&&(T3Y+="0123456789abcdefghijklmnopqrstuvwxyz".charAt(s3Y));}}return I3Y?T3Y:"0";};B6W.prototype.negate=function(){var M3Y=m6W();B6W.ZERO.subTo(this,M3Y);return M3Y;};B6W.prototype.abs=function(){return 0>this.s?this.negate():this;};B6W.prototype.compareTo=function(g3Y){var h3Y=this;var o3Y=this.s-g3Y.s;if(0!=o3Y){return o3Y;}var O3Y=this.t,o3Y=O3Y-g3Y.t;if(0!=o3Y){return 0>this.s?-o3Y:o3Y;}for(;0<=--O3Y;){if(0!=(o3Y=h3Y[O3Y]-g3Y[O3Y])){return o3Y;}}return 0;};B6W.prototype.bitLength=function(){return 0>=this.t?0:this.DB*(this.t-1)+p6W(this[this.t-1]^this.s&this.DM);};B6W.prototype.mod=function(H3Y){var y3Y=m6W();this.abs().divRemTo(H3Y,null,y3Y);0>this.s&&0<y3Y.compareTo(B6W.ZERO)&&H3Y.subTo(y3Y,y3Y);return y3Y;};B6W.prototype.modPowInt=function(Z3Y,q3Y){q3Y=256>Z3Y||q3Y.isEven()?new X6W(q3Y):new W6W(q3Y);return this.exp(Z3Y,q3Y);};B6W.ZERO=d6W(0);B6W.ONE=d6W(1);e6W.prototype.convert=k6W;e6W.prototype.revert=k6W;e6W.prototype.mulTo=function(E3Y,u3Y,j3Y){E3Y.multiplyTo(u3Y,j3Y);};e6W.prototype.sqrTo=function(J3Y,S3Y){J3Y.squareTo(S3Y);};U6W.prototype.convert=function(K3Y){if(0>K3Y.s||K3Y.t>2*this.m.t){return K3Y.mod(this.m);}if(0>K3Y.compareTo(this.m)){return K3Y;}var b3Y=m6W();K3Y.copyTo(b3Y);this.reduce(b3Y);return b3Y;};U6W.prototype.revert=function(t3Y){return t3Y;};U6W.prototype.reduce=function(C3Y){var N3Y=this;C3Y.drShiftTo(this.m.t-1,this.r2);C3Y.t>this.m.t+1&&(C3Y.t=this.m.t+1,C3Y.clamp());this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);for(this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);0>C3Y.compareTo(this.r2);){C3Y.dAddOffset(1,N3Y.m.t+1);}for(C3Y.subTo(this.r2,C3Y);0<=C3Y.compareTo(this.m);){C3Y.subTo(N3Y.m,C3Y);}};U6W.prototype.mulTo=function(B3Y,m3Y,f3Y){B3Y.multiplyTo(m3Y,f3Y);this.reduce(f3Y);};U6W.prototype.sqrTo=function(Q3Y,l3Y){Q3Y.squareTo(l3Y);this.reduce(l3Y);};var z6W=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Y6W=67108864/z6W[z6W.length-1];B6W.prototype.chunkSize=function(z3Y){return Math.floor(Math.LN2*this.DB/Math.log(z3Y));};B6W.prototype.toRadix=function(D3Y){null==D3Y&&(D3Y=10);if(0==this.signum()||2>D3Y||36<D3Y){return"0";}var d3Y=this.chunkSize(D3Y),d3Y=Math.pow(D3Y,d3Y),G3Y=d6W(d3Y),X3Y=m6W(),W3Y=m6W(),U3Y="";for(this.divRemTo(G3Y,X3Y,W3Y);0<X3Y.signum();){U3Y=(d3Y+W3Y.intValue()).toString(D3Y).substr(1)+U3Y,X3Y.divRemTo(G3Y,X3Y,W3Y);}return W3Y.intValue().toString(D3Y)+U3Y;};B6W.prototype.fromRadix=function(R3Y,e3Y){var P3Y=this;this.fromInt(0);null==e3Y&&(e3Y=10);for(var L3Y=this.chunkSize(e3Y),a3Y=Math.pow(e3Y,L3Y),i3Y=false,p3Y=0,F3Y=0,V3Y=0;V3Y<R3Y.length;++V3Y){var v3Y=x6W(R3Y,V3Y);0>v3Y?"-"==R3Y.charAt(V3Y)&&0==P3Y.signum()&&(i3Y=true):(F3Y=e3Y*F3Y+v3Y,++p3Y>=L3Y&&(P3Y.dMultiply(a3Y),P3Y.dAddOffset(F3Y,0),F3Y=p3Y=0));}0<p3Y&&(this.dMultiply(Math.pow(e3Y,p3Y)),this.dAddOffset(F3Y,0));i3Y&&B6W.ZERO.subTo(this,this);};B6W.prototype.fromNumber=function(x3Y,Y3Y,k3Y){var w3Y=this;if("number"==typeof Y3Y){if(2>x3Y){this.fromInt(1);}else{for(this.fromNumber(x3Y,k3Y),this.testBit(x3Y-1)||this.bitwiseTo(B6W.ONE.shiftLeft(x3Y-1),R6W,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(Y3Y);){w3Y.dAddOffset(2,0),w3Y.bitLength()>x3Y&&w3Y.subTo(B6W.ONE.shiftLeft(x3Y-1),w3Y);}}}else{k3Y=[];var A3Y=x3Y&7;k3Y.length=(x3Y>>3)+1;Y3Y.nextBytes(k3Y);k3Y[0]=0<A3Y?k3Y[0]&(1<<A3Y)-1:0;this.fromString(k3Y,256);}};B6W.prototype.bitwiseTo=function(s5Y,I5Y,n5Y){var M5Y=this;var r5Y,T5Y,c5Y=Math.min(s5Y.t,this.t);for(r5Y=0;r5Y<c5Y;++r5Y){n5Y[r5Y]=I5Y(M5Y[r5Y],s5Y[r5Y]);}if(s5Y.t<this.t){T5Y=s5Y.s&this.DM;for(r5Y=c5Y;r5Y<this.t;++r5Y){n5Y[r5Y]=I5Y(M5Y[r5Y],T5Y);}n5Y.t=this.t;}else{T5Y=this.s&this.DM;for(r5Y=c5Y;r5Y<s5Y.t;++r5Y){n5Y[r5Y]=I5Y(T5Y,s5Y[r5Y]);}n5Y.t=s5Y.t;}n5Y.s=I5Y(this.s,s5Y.s);n5Y.clamp();};B6W.prototype.changeBit=function(o5Y,O5Y){o5Y=B6W.ONE.shiftLeft(o5Y);this.bitwiseTo(o5Y,O5Y,o5Y);return o5Y;};B6W.prototype.addTo=function(q5Y,H5Y){var y5Y=this;for(var h5Y=0,g5Y=0,Z5Y=Math.min(q5Y.t,this.t);h5Y<Z5Y;){g5Y+=y5Y[h5Y]+q5Y[h5Y],H5Y[h5Y++]=g5Y&y5Y.DM,g5Y>>=y5Y.DB;}if(q5Y.t<this.t){for(g5Y+=q5Y.s;h5Y<this.t;){g5Y+=y5Y[h5Y],H5Y[h5Y++]=g5Y&y5Y.DM,g5Y>>=y5Y.DB;}g5Y+=this.s;}else{for(g5Y+=this.s;h5Y<q5Y.t;){g5Y+=q5Y[h5Y],H5Y[h5Y++]=g5Y&y5Y.DM,g5Y>>=y5Y.DB;}g5Y+=q5Y.s;}H5Y.s=0>g5Y?-1:0;0<g5Y?H5Y[h5Y++]=g5Y:-1>g5Y&&(H5Y[h5Y++]=this.DV+g5Y);H5Y.t=h5Y;H5Y.clamp();};B6W.prototype.dMultiply=function(E5Y){this[this.t]=this.am(0,E5Y-1,this,0,0,this.t);++this.t;this.clamp();};B6W.prototype.dAddOffset=function(J5Y,j5Y){var u5Y=this;if(0!=J5Y){for(;this.t<=j5Y;){u5Y[u5Y.t++]=0;}for(this[j5Y]+=J5Y;this[j5Y]>=this.DV;){u5Y[j5Y]-=u5Y.DV,++j5Y>=u5Y.t&&(u5Y[u5Y.t++]=0),++u5Y[j5Y];}}};B6W.prototype.multiplyLowerTo=function(t5Y,N5Y,K5Y){var b5Y=this;var S5Y=Math.min(this.t+t5Y.t,N5Y);K5Y.s=0;for(K5Y.t=S5Y;0<S5Y;){K5Y[--S5Y]=0;}var C5Y;for(C5Y=K5Y.t-this.t;S5Y<C5Y;++S5Y){K5Y[S5Y+b5Y.t]=b5Y.am(0,t5Y[S5Y],K5Y,S5Y,0,b5Y.t);}for(C5Y=Math.min(t5Y.t,N5Y);S5Y<C5Y;++S5Y){b5Y.am(0,t5Y[S5Y],K5Y,S5Y,0,N5Y-S5Y);}K5Y.clamp();};B6W.prototype.multiplyUpperTo=function(Q5Y,m5Y,B5Y){var l5Y=this;--m5Y;var f5Y=B5Y.t=this.t+Q5Y.t-m5Y;for(B5Y.s=0;0<=--f5Y;){B5Y[f5Y]=0;}for(f5Y=Math.max(m5Y-this.t,0);f5Y<Q5Y.t;++f5Y){B5Y[l5Y.t+f5Y-m5Y]=l5Y.am(m5Y-f5Y,Q5Y[f5Y],B5Y,0,0,l5Y.t+f5Y-m5Y);}B5Y.clamp();B5Y.drShiftTo(1,B5Y);};B6W.prototype.modInt=function(z5Y){var W5Y=this;if(0>=z5Y){return 0;}var X5Y=this.DV%z5Y,D5Y=0>this.s?z5Y-1:0;if(0<this.t){if(0==X5Y){D5Y=this[0]%z5Y;}else{for(var d5Y=this.t-1;0<=d5Y;--d5Y){D5Y=(X5Y*D5Y+W5Y[d5Y])%z5Y;}}}return D5Y;};B6W.prototype.millerRabin=function(e5Y){var p5Y=this;var G5Y=this.subtract(B6W.ONE),F5Y=G5Y.getLowestSetBit();if(0>=F5Y){return false;}var v5Y=G5Y.shiftRight(F5Y);e5Y=e5Y+1>>1;e5Y>z6W.length&&(e5Y=z6W.length);for(var V5Y=m6W(),P5Y=0;P5Y<e5Y;++P5Y){V5Y.fromInt(z6W[Math.floor(Math.random()*z6W.length)]);var U5Y=V5Y.modPow(v5Y,p5Y);if(0!=U5Y.compareTo(B6W.ONE)&&0!=U5Y.compareTo(G5Y)){for(var L5Y=1;L5Y++<F5Y&&0!=U5Y.compareTo(G5Y);){if(U5Y=U5Y.modPowInt(2,p5Y),0==U5Y.compareTo(B6W.ONE)){return false;}}if(0!=U5Y.compareTo(G5Y)){return false;}}}return true;};B6W.prototype.clone=function(){var R5Y=m6W();this.copyTo(R5Y);return R5Y;};B6W.prototype.intValue=function(){if(0>this.s){if(1==this.t){return this[0]-this.DV;}if(0==this.t){return-1;}}else{if(1==this.t){return this[0];}if(0==this.t){return 0;}}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0];};B6W.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24;};B6W.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16;};B6W.prototype.signum=function(){return 0>this.s?-1:0>=this.t||1==this.t&&0>=this[0]?0:1;};B6W.prototype.toByteArray=function(){var k5Y=this;var x5Y=this.t,Y5Y=[];Y5Y[0]=this.s;var i5Y=this.DB-x5Y*this.DB%8,a5Y,w5Y=0;if(0<x5Y--){for(i5Y<this.DB&&(a5Y=this[x5Y]>>i5Y)!=(this.s&this.DM)>>i5Y&&(Y5Y[w5Y++]=a5Y|this.s<<this.DB-i5Y);0<=x5Y;){if(8>i5Y?(a5Y=(k5Y[x5Y]&(1<<i5Y)-1)<<8-i5Y,a5Y|=k5Y[--x5Y]>>(i5Y+=k5Y.DB-8)):(a5Y=k5Y[x5Y]>>(i5Y-=8)&255,0>=i5Y&&(i5Y+=k5Y.DB,--x5Y)),0!=(a5Y&128)&&(a5Y|=-256),0==w5Y&&(k5Y.s&128)!=(a5Y&128)&&++w5Y,0<w5Y||a5Y!=k5Y.s){Y5Y[w5Y++]=a5Y;}}}return Y5Y;};B6W.prototype.equals=function(A5Y){return 0==this.compareTo(A5Y);};B6W.prototype.min=function(r9Y){return 0>this.compareTo(r9Y)?this:r9Y;};B6W.prototype.max=function(s9Y){return 0<this.compareTo(s9Y)?this:s9Y;};B6W.prototype.and=function(I9Y){var n9Y=m6W();this.bitwiseTo(I9Y,r8Y,n9Y);return n9Y;};B6W.prototype.or=function(c9Y){var T9Y=m6W();this.bitwiseTo(c9Y,R6W,T9Y);return T9Y;};B6W.prototype.xor=function(o9Y){var M9Y=m6W();this.bitwiseTo(o9Y,A6W,M9Y);return M9Y;};B6W.prototype.andNot=function(g9Y){var O9Y=m6W();this.bitwiseTo(g9Y,a6W,O9Y);return O9Y;};B6W.prototype.not=function(){var H9Y=this;for(var h9Y=m6W(),y9Y=0;y9Y<this.t;++y9Y){h9Y[y9Y]=H9Y.DM&~H9Y[y9Y];}h9Y.t=this.t;h9Y.s=~this.s;return h9Y;};B6W.prototype.shiftLeft=function(Z9Y){var q9Y=m6W();0>Z9Y?this.rShiftTo(-Z9Y,q9Y):this.lShiftTo(Z9Y,q9Y);return q9Y;};B6W.prototype.shiftRight=function(u9Y){var E9Y=m6W();0>u9Y?this.lShiftTo(-u9Y,E9Y):this.rShiftTo(u9Y,E9Y);return E9Y;};B6W.prototype.getLowestSetBit=function(){var S9Y=this;for(var j9Y=0;j9Y<this.t;++j9Y){if(0!=S9Y[j9Y]){var K9Y=j9Y*S9Y.DB;j9Y=S9Y[j9Y];if(0==j9Y){j9Y=-1;}else{var J9Y=0;0==(j9Y&65535)&&(j9Y>>=16,J9Y+=16);0==(j9Y&255)&&(j9Y>>=8,J9Y+=8);0==(j9Y&15)&&(j9Y>>=4,J9Y+=4);0==(j9Y&3)&&(j9Y>>=2,J9Y+=2);0==(j9Y&1)&&++J9Y;j9Y=J9Y;}return K9Y+j9Y;}}return 0>this.s?this.t*this.DB:-1;};B6W.prototype.bitCount=function(){for(var C9Y=0,f9Y=this.s&this.DM,b9Y=0;b9Y<this.t;++b9Y){for(var t9Y=this[b9Y]^f9Y,N9Y=0;0!=t9Y;){t9Y&=t9Y-1,++N9Y;}C9Y+=N9Y;}return C9Y;};B6W.prototype.testBit=function(m9Y){var B9Y=Math.floor(m9Y/this.DB);return B9Y>=this.t?0!=this.s:0!=(this[B9Y]&1<<m9Y%this.DB);};B6W.prototype.setBit=function(l9Y){return this.changeBit(l9Y,R6W);};B6W.prototype.clearBit=function(Q9Y){return this.changeBit(Q9Y,a6W);};B6W.prototype.flipBit=function(z9Y){return this.changeBit(z9Y,A6W);};B6W.prototype.add=function(d9Y){var D9Y=m6W();this.addTo(d9Y,D9Y);return D9Y;};B6W.prototype.subtract=function(W9Y){var X9Y=m6W();this.subTo(W9Y,X9Y);return X9Y;};B6W.prototype.multiply=function(G9Y){var U9Y=m6W();this.multiplyTo(G9Y,U9Y);return U9Y;};B6W.prototype.divide=function(F9Y){var e9Y=m6W();this.divRemTo(F9Y,e9Y,null);return e9Y;};B6W.prototype.remainder=function(V9Y){var p9Y=m6W();this.divRemTo(V9Y,null,p9Y);return p9Y;};B6W.prototype.divideAndRemainder=function(L9Y){var P9Y=m6W(),v9Y=m6W();this.divRemTo(L9Y,P9Y,v9Y);return[P9Y,v9Y];};B6W.prototype.modPow=function(A9Y,a9Y){var I1Y=this;var R9Y=A9Y.bitLength(),s1Y,x9Y=d6W(1);if(0>=R9Y){return x9Y;}s1Y=18>R9Y?1:48>R9Y?3:144>R9Y?4:768>R9Y?5:6;a9Y=8>R9Y?new X6W(a9Y):a9Y.isEven()?new U6W(a9Y):new W6W(a9Y);var Y9Y=[],i9Y=3,n1Y=s1Y-1,T1Y=(1<<s1Y)-1;Y9Y[1]=a9Y.convert(this);if(1<s1Y){for(R9Y=m6W(),a9Y.sqrTo(Y9Y[1],R9Y);i9Y<=T1Y;){Y9Y[i9Y]=m6W(),a9Y.mulTo(R9Y,Y9Y[i9Y-2],Y9Y[i9Y]),i9Y+=2;}}for(var k9Y=A9Y.t-1,r1Y,c1Y=true,w9Y=m6W(),R9Y=p6W(A9Y[k9Y])-1;0<=k9Y;){R9Y>=n1Y?r1Y=A9Y[k9Y]>>R9Y-n1Y&T1Y:(r1Y=(A9Y[k9Y]&(1<<R9Y+1)-1)<<n1Y-R9Y,0<k9Y&&(r1Y|=A9Y[k9Y-1]>>I1Y.DB+R9Y-n1Y));for(i9Y=s1Y;0==(r1Y&1);){r1Y>>=1,--i9Y;}0>(R9Y-=i9Y)&&(R9Y+=I1Y.DB,--k9Y);if(c1Y){Y9Y[r1Y].copyTo(x9Y),c1Y=false;}else{for(;1<i9Y;){a9Y.sqrTo(x9Y,w9Y),a9Y.sqrTo(w9Y,x9Y),i9Y-=2;}0<i9Y?a9Y.sqrTo(x9Y,w9Y):(i9Y=x9Y,x9Y=w9Y,w9Y=i9Y);a9Y.mulTo(w9Y,Y9Y[r1Y],x9Y);}for(;0<=k9Y&&0==(A9Y[k9Y]&1<<R9Y);){a9Y.sqrTo(x9Y,w9Y),i9Y=x9Y,x9Y=w9Y,w9Y=i9Y,0>--R9Y&&(R9Y=I1Y.DB-1,--k9Y);}}return a9Y.revert(x9Y);};B6W.prototype.modInverse=function(O1Y){var Z1Y=this;var q1Y=O1Y.isEven();if(this.isEven()&&q1Y||0==O1Y.signum()){return B6W.ZERO;}for(var g1Y=O1Y.clone(),h1Y=this.clone(),y1Y=d6W(1),o1Y=d6W(0),H1Y=d6W(0),M1Y=d6W(1);0!=g1Y.signum();){for(;g1Y.isEven();){g1Y.rShiftTo(1,g1Y),q1Y?(y1Y.isEven()&&o1Y.isEven()||(y1Y.addTo(Z1Y,y1Y),o1Y.subTo(O1Y,o1Y)),y1Y.rShiftTo(1,y1Y)):o1Y.isEven()||o1Y.subTo(O1Y,o1Y),o1Y.rShiftTo(1,o1Y);}for(;h1Y.isEven();){h1Y.rShiftTo(1,h1Y),q1Y?(H1Y.isEven()&&M1Y.isEven()||(H1Y.addTo(Z1Y,H1Y),M1Y.subTo(O1Y,M1Y)),H1Y.rShiftTo(1,H1Y)):M1Y.isEven()||M1Y.subTo(O1Y,M1Y),M1Y.rShiftTo(1,M1Y);}0<=g1Y.compareTo(h1Y)?(g1Y.subTo(h1Y,g1Y),q1Y&&y1Y.subTo(H1Y,y1Y),o1Y.subTo(M1Y,o1Y)):(h1Y.subTo(g1Y,h1Y),q1Y&&H1Y.subTo(y1Y,H1Y),M1Y.subTo(o1Y,M1Y));}if(0!=h1Y.compareTo(B6W.ONE)){return B6W.ZERO;}if(0<=M1Y.compareTo(O1Y)){return M1Y.subtract(O1Y);}if(0>M1Y.signum()){M1Y.addTo(O1Y,M1Y);}else{return M1Y;}return 0>M1Y.signum()?M1Y.add(O1Y):M1Y;};B6W.prototype.pow=function(E1Y){return this.exp(E1Y,new e6W());};B6W.prototype.gcd=function(u1Y){var j1Y=0>this.s?this.negate():this.clone();u1Y=0>u1Y.s?u1Y.negate():u1Y.clone();if(0>j1Y.compareTo(u1Y)){var J1Y=j1Y,j1Y=u1Y;u1Y=J1Y;}var J1Y=j1Y.getLowestSetBit(),S1Y=u1Y.getLowestSetBit();if(0>S1Y){return j1Y;}J1Y<S1Y&&(S1Y=J1Y);0<S1Y&&(j1Y.rShiftTo(S1Y,j1Y),u1Y.rShiftTo(S1Y,u1Y));for(;0<j1Y.signum();){0<(J1Y=j1Y.getLowestSetBit())&&j1Y.rShiftTo(J1Y,j1Y),0<(J1Y=u1Y.getLowestSetBit())&&u1Y.rShiftTo(J1Y,u1Y),0<=j1Y.compareTo(u1Y)?(j1Y.subTo(u1Y,j1Y),j1Y.rShiftTo(1,j1Y)):(u1Y.subTo(j1Y,u1Y),u1Y.rShiftTo(1,u1Y));}0<S1Y&&u1Y.lShiftTo(S1Y,u1Y);return u1Y;};B6W.prototype.isProbablePrime=function(N1Y){var K1Y,b1Y=this.abs();if(1==b1Y.t&&b1Y[0]<=z6W[z6W.length-1]){for(K1Y=0;K1Y<z6W.length;++K1Y){if(b1Y[0]==z6W[K1Y]){return true;}}return false;}if(b1Y.isEven()){return false;}for(K1Y=1;K1Y<z6W.length;){for(var t1Y=z6W[K1Y],C1Y=K1Y+1;C1Y<z6W.length&&t1Y<Y6W;){t1Y*=z6W[C1Y++];}for(t1Y=b1Y.modInt(t1Y);K1Y<C1Y;){if(0==t1Y%z6W[K1Y++]){return false;}}}return b1Y.millerRabin(N1Y);};B6W.prototype.square=function(){var f1Y=m6W();this.squareTo(f1Y);return f1Y;};B6W.prototype.IsNegative=function(){return-1==this.compareTo(B6W.ZERO)?true:false;};B6W.op_Equality=function(B1Y,m1Y){return 0==B1Y.compareTo(m1Y)?true:false;};B6W.op_Inequality=function(l1Y,Q1Y){return 0!=l1Y.compareTo(Q1Y)?true:false;};B6W.op_GreaterThan=function(z1Y,D1Y){return 0<z1Y.compareTo(D1Y)?true:false;};B6W.op_LessThan=function(d1Y,X1Y){return 0>d1Y.compareTo(X1Y)?true:false;};B6W.op_Addition=function(W1Y,U1Y){return new B6W(W1Y).add(new B6W(U1Y));};B6W.op_Subtraction=function(G1Y,e1Y){return new B6W(G1Y).subtract(new B6W(e1Y));};B6W.Int128Mul=function(F1Y,p1Y){return new B6W(F1Y).multiply(new B6W(p1Y));};B6W.op_Division=function(V1Y,P1Y){return V1Y.divide(P1Y);};B6W.prototype.ToDouble=function(){return parseFloat(this.toString());};Q6W=function(L1Y,R1Y){var v1Y;if("undefined"==typeof Object.getOwnPropertyNames){for(v1Y in R1Y.prototype){if("undefined"==typeof L1Y.prototype[v1Y]||L1Y.prototype[v1Y]==Object.prototype[v1Y]){L1Y.prototype[v1Y]=R1Y.prototype[v1Y];}}}else{for(var a1Y=Object.getOwnPropertyNames(R1Y.prototype),i1Y=0;i1Y<a1Y.length;i1Y++){"undefined"==typeof Object.getOwnPropertyDescriptor(L1Y.prototype,a1Y[i1Y])&&Object.defineProperty(L1Y.prototype,a1Y[i1Y],Object.getOwnPropertyDescriptor(R1Y.prototype,a1Y[i1Y]));}}for(v1Y in R1Y){"undefined"==typeof L1Y[v1Y]&&(L1Y[v1Y]=R1Y[v1Y]);}L1Y.$baseCtor=R1Y;};ClipperLib.Path=function(){return[];};ClipperLib.Paths=function(){return[];};ClipperLib.DoublePoint=function(){var x1Y=arguments;this.y=this.x=0;1==x1Y.length?(this.x=x1Y[0].x,this.y=x1Y[0].y):2==x1Y.length&&(this.x=x1Y[0],this.y=x1Y[1]);};ClipperLib.DoublePoint0=function(){this.y=this.x=0;};ClipperLib.DoublePoint1=function(k1Y){this.x=k1Y.x;this.y=k1Y.y;};ClipperLib.DoublePoint2=function(w1Y,Y1Y){this.x=w1Y;this.y=Y1Y;};ClipperLib.PolyNode=function(){this.m_Parent=null;this.m_polygon=new ClipperLib.Path();this.m_endtype=this.m_jointype=this.m_Index=0;this.m_Childs=[];this.IsOpen=false;};ClipperLib.PolyNode.prototype.IsHoleNode=function(){for(var A1Y=true,r4Y=this.m_Parent;null!==r4Y;){A1Y=!A1Y,r4Y=r4Y.m_Parent;}return A1Y;};ClipperLib.PolyNode.prototype.ChildCount=function(){return this.m_Childs.length;};ClipperLib.PolyNode.prototype.Contour=function(){return this.m_polygon;};ClipperLib.PolyNode.prototype.AddChild=function(s4Y){var n4Y=this.m_Childs.length;this.m_Childs.push(s4Y);s4Y.m_Parent=this;s4Y.m_Index=n4Y;};ClipperLib.PolyNode.prototype.GetNext=function(){return 0<this.m_Childs.length?this.m_Childs[0]:this.GetNextSiblingUp();};ClipperLib.PolyNode.prototype.GetNextSiblingUp=function(){return null===this.m_Parent?null:this.m_Index==this.m_Parent.m_Childs.length-1?this.m_Parent.GetNextSiblingUp():this.m_Parent.m_Childs[this.m_Index+1];};ClipperLib.PolyNode.prototype.Childs=function(){return this.m_Childs;};ClipperLib.PolyNode.prototype.Parent=function(){return this.m_Parent;};ClipperLib.PolyNode.prototype.IsHole=function(){return this.IsHoleNode();};ClipperLib.PolyTree=function(){this.m_AllPolys=[];ClipperLib.PolyNode.call(this);};ClipperLib.PolyTree.prototype.Clear=function(){var T4Y=this;for(var I4Y=0,c4Y=this.m_AllPolys.length;I4Y<c4Y;I4Y++){T4Y.m_AllPolys[I4Y]=null;}this.m_AllPolys.length=0;this.m_Childs.length=0;};ClipperLib.PolyTree.prototype.GetFirst=function(){return 0<this.m_Childs.length?this.m_Childs[0]:null;};ClipperLib.PolyTree.prototype.Total=function(){var M4Y=this.m_AllPolys.length;0<M4Y&&this.m_Childs[0]!=this.m_AllPolys[0]&&M4Y--;return M4Y;};Q6W(ClipperLib.PolyTree,ClipperLib.PolyNode);ClipperLib.Math_Abs_Int64=ClipperLib.Math_Abs_Int32=ClipperLib.Math_Abs_Double=function(o4Y){return Math.abs(o4Y);};ClipperLib.Math_Max_Int32_Int32=function(O4Y,g4Y){return Math.max(O4Y,g4Y);};ClipperLib.Cast_Int32=l6W||v6W||i6W?function(h4Y){return h4Y|0;}:function(y4Y){return~~y4Y;};ClipperLib.Cast_Int64=V6W?function(H4Y){return-2147483648>H4Y||2147483647<H4Y?0>H4Y?Math.ceil(H4Y):Math.floor(H4Y):~~H4Y;}:P6W&&"function"==typeof Number.toInteger?function(q4Y){return Number.toInteger(q4Y);}:w6W||L6W?function(Z4Y){return parseInt(Z4Y,10);}:l6W?function(E4Y){return-2147483648>E4Y||2147483647<E4Y?0>E4Y?Math.ceil(E4Y):Math.floor(E4Y):E4Y|0;}:function(u4Y){return 0>u4Y?Math.ceil(u4Y):Math.floor(u4Y);};ClipperLib.Clear=function(j4Y){j4Y.length=0;};ClipperLib.PI=3.141592653589793;ClipperLib.PI2=6.283185307179586;ClipperLib.IntPoint=function(){var J4Y=arguments,S4Y=J4Y.length;this.y=this.x=0;ClipperLib.use_xyz?(this.Z=0,3==S4Y?(this.x=J4Y[0],this.y=J4Y[1],this.Z=J4Y[2]):2==S4Y?(this.x=J4Y[0],this.y=J4Y[1],this.Z=0):1==S4Y?J4Y[0]instanceof ClipperLib.DoublePoint?(J4Y=J4Y[0],this.x=ClipperLib.Clipper.Round(J4Y.x),this.y=ClipperLib.Clipper.Round(J4Y.y),this.Z=0):(J4Y=J4Y[0],"undefined"==typeof J4Y.Z&&(J4Y.Z=0),this.x=J4Y.x,this.y=J4Y.y,this.Z=J4Y.Z):this.Z=this.y=this.x=0):2==S4Y?(this.x=J4Y[0],this.y=J4Y[1]):1==S4Y?J4Y[0]instanceof ClipperLib.DoublePoint?(J4Y=J4Y[0],this.x=ClipperLib.Clipper.Round(J4Y.x),this.y=ClipperLib.Clipper.Round(J4Y.y)):(J4Y=J4Y[0],this.x=J4Y.x,this.y=J4Y.y):this.y=this.x=0;};ClipperLib.IntPoint.op_Equality=function(K4Y,b4Y){return K4Y.x==b4Y.x&&K4Y.y==b4Y.y;};ClipperLib.IntPoint.op_Inequality=function(t4Y,C4Y){return t4Y.x!=C4Y.x||t4Y.y!=C4Y.y;};ClipperLib.use_xyz?(ClipperLib.IntPoint0=function(){this.Z=this.y=this.x=0;},ClipperLib.IntPoint1=function(N4Y){this.x=N4Y.x;this.y=N4Y.y;this.Z=N4Y.Z;},ClipperLib.IntPoint1dp=function(f4Y){this.x=ClipperLib.Clipper.Round(f4Y.x);this.y=ClipperLib.Clipper.Round(f4Y.y);this.Z=0;},ClipperLib.IntPoint2=function(B4Y,m4Y){this.x=B4Y;this.y=m4Y;this.Z=0;},ClipperLib.IntPoint3=function(l4Y,Q4Y,z4Y){this.x=l4Y;this.y=Q4Y;this.Z=z4Y;}):(ClipperLib.IntPoint0=function(){this.y=this.x=0;},ClipperLib.IntPoint1=function(D4Y){this.x=D4Y.x;this.y=D4Y.y;},ClipperLib.IntPoint1dp=function(d4Y){this.x=ClipperLib.Clipper.Round(d4Y.x);this.y=ClipperLib.Clipper.Round(d4Y.y);},ClipperLib.IntPoint2=function(X4Y,W4Y){this.x=X4Y;this.y=W4Y;});ClipperLib.IntRect=function(){var U4Y=arguments,G4Y=U4Y.length;4==G4Y?(this.left=U4Y[0],this.top=U4Y[1],this.right=U4Y[2],this.bottom=U4Y[3]):1==G4Y?(this.left=ir.left,this.top=ir.top,this.right=ir.right,this.bottom=ir.bottom):this.bottom=this.right=this.top=this.left=0;};ClipperLib.IntRect0=function(){this.bottom=this.right=this.top=this.left=0;};ClipperLib.IntRect1=function(e4Y){this.left=e4Y.left;this.top=e4Y.top;this.right=e4Y.right;this.bottom=e4Y.bottom;};ClipperLib.IntRect4=function(F4Y,p4Y,V4Y,P4Y){this.left=F4Y;this.top=p4Y;this.right=V4Y;this.bottom=P4Y;};ClipperLib.ClipType={ctIntersection:0,ctUnion:1,ctDifference:2,ctXor:3};ClipperLib.PolyType={ptSubject:0,ptClip:1};ClipperLib.PolyFillType={pftEvenOdd:0,pftNonZero:1,pftPositive:2,pftNegative:3};ClipperLib.JoinType={jtSquare:0,jtRound:1,jtMiter:2};ClipperLib.EndType={etOpenSquare:0,etOpenRound:1,etOpenButt:2,etClosedLine:3,etClosedPolygon:4};ClipperLib.EdgeSide={esLeft:0,esRight:1};ClipperLib.Direction={dRightToLeft:0,dLeftToRight:1};ClipperLib.TEdge=function(){this.Bot=new ClipperLib.IntPoint();this.Curr=new ClipperLib.IntPoint();this.Top=new ClipperLib.IntPoint();this.Delta=new ClipperLib.IntPoint();this.Dx=0;this.PolyTyp=ClipperLib.PolyType.ptSubject;this.Side=ClipperLib.EdgeSide.esLeft;this.OutIdx=this.WindCnt2=this.WindCnt=this.WindDelta=0;this.PrevInSEL=this.NextInSEL=this.PrevInAEL=this.NextInAEL=this.NextInLML=this.Prev=this.Next=null;};ClipperLib.IntersectNode=function(){this.Edge2=this.Edge1=null;this.Pt=new ClipperLib.IntPoint();};ClipperLib.MyIntersectNodeSort=function(){};ClipperLib.MyIntersectNodeSort.Compare=function(v4Y,L4Y){v4Y=L4Y.Pt.y-v4Y.Pt.y;return 0<v4Y?1:0>v4Y?-1:0;};ClipperLib.LocalMinima=function(){this.y=0;this.Next=this.RightBound=this.LeftBound=null;};ClipperLib.Scanbeam=function(){this.y=0;this.Next=null;};ClipperLib.OutRec=function(){this.Idx=0;this.IsOpen=this.IsHole=false;this.PolyNode=this.BottomPt=this.Pts=this.FirstLeft=null;};ClipperLib.OutPt=function(){this.Idx=0;this.Pt=new ClipperLib.IntPoint();this.Prev=this.Next=null;};ClipperLib.Join=function(){this.OutPt2=this.OutPt1=null;this.OffPt=new ClipperLib.IntPoint();};ClipperLib.ClipperBase=function(){this.m_CurrentLM=this.m_MinimaList=null;this.m_edges=[];this.PreserveCollinear=this.m_HasOpenPaths=this.m_UseFullRange=false;this.m_CurrentLM=this.m_MinimaList=null;this.m_HasOpenPaths=this.m_UseFullRange=false;};ClipperLib.ClipperBase.horizontal=-9007199254740992;ClipperLib.ClipperBase.Skip=-2;ClipperLib.ClipperBase.Unassigned=-1;ClipperLib.ClipperBase.tolerance=1E-20;ClipperLib.ClipperBase.loRange=47453132;ClipperLib.ClipperBase.hiRange=0xfffffffffffff;ClipperLib.ClipperBase.near_zero=function(R4Y){return R4Y>-ClipperLib.ClipperBase.tolerance&&R4Y<ClipperLib.ClipperBase.tolerance;};ClipperLib.ClipperBase.IsHorizontal=function(i4Y){return 0===i4Y.Delta.y;};ClipperLib.ClipperBase.prototype.PointIsVertex=function(k4Y,x4Y){var a4Y=x4Y;do{if(ClipperLib.IntPoint.op_Equality(a4Y.Pt,k4Y)){return true;}a4Y=a4Y.Next;}while(a4Y!=x4Y);return false;};ClipperLib.ClipperBase.prototype.PointOnLineSegment=function(w4Y,Y4Y,A4Y,r7Y){return r7Y?w4Y.x==Y4Y.x&&w4Y.y==Y4Y.y||w4Y.x==A4Y.x&&w4Y.y==A4Y.y||w4Y.x>Y4Y.x==w4Y.x<A4Y.x&&w4Y.y>Y4Y.y==w4Y.y<A4Y.y&&B6W.op_Equality(B6W.Int128Mul(w4Y.x-Y4Y.x,A4Y.y-Y4Y.y),B6W.Int128Mul(A4Y.x-Y4Y.x,w4Y.y-Y4Y.y)):w4Y.x==Y4Y.x&&w4Y.y==Y4Y.y||w4Y.x==A4Y.x&&w4Y.y==A4Y.y||w4Y.x>Y4Y.x==w4Y.x<A4Y.x&&w4Y.y>Y4Y.y==w4Y.y<A4Y.y&&(w4Y.x-Y4Y.x)*(A4Y.y-Y4Y.y)==(A4Y.x-Y4Y.x)*(w4Y.y-Y4Y.y);};ClipperLib.ClipperBase.prototype.PointOnPolygon=function(T7Y,n7Y,c7Y){var I7Y=this;for(var s7Y=n7Y;;){if(I7Y.PointOnLineSegment(T7Y,s7Y.Pt,s7Y.Next.Pt,c7Y)){return true;}s7Y=s7Y.Next;if(s7Y==n7Y){break;}}return false;};ClipperLib.ClipperBase.prototype.SlopesEqual=ClipperLib.ClipperBase.SlopesEqual=function(){var O7Y=arguments,o7Y=O7Y.length,M7Y,g7Y,h7Y;if(3==o7Y){return o7Y=O7Y[0],M7Y=O7Y[1],(O7Y=O7Y[2])?B6W.op_Equality(B6W.Int128Mul(o7Y.Delta.y,M7Y.Delta.x),B6W.Int128Mul(o7Y.Delta.x,M7Y.Delta.y)):ClipperLib.Cast_Int64(o7Y.Delta.y*M7Y.Delta.x)==ClipperLib.Cast_Int64(o7Y.Delta.x*M7Y.Delta.y);}if(4==o7Y){return o7Y=O7Y[0],M7Y=O7Y[1],g7Y=O7Y[2],(O7Y=O7Y[3])?B6W.op_Equality(B6W.Int128Mul(o7Y.y-M7Y.y,M7Y.x-g7Y.x),B6W.Int128Mul(o7Y.x-M7Y.x,M7Y.y-g7Y.y)):0===ClipperLib.Cast_Int64((o7Y.y-M7Y.y)*(M7Y.x-g7Y.x))-ClipperLib.Cast_Int64((o7Y.x-M7Y.x)*(M7Y.y-g7Y.y));}o7Y=O7Y[0];M7Y=O7Y[1];g7Y=O7Y[2];h7Y=O7Y[3];return(O7Y=O7Y[4])?B6W.op_Equality(B6W.Int128Mul(o7Y.y-M7Y.y,g7Y.x-h7Y.x),B6W.Int128Mul(o7Y.x-M7Y.x,g7Y.y-h7Y.y)):0===ClipperLib.Cast_Int64((o7Y.y-M7Y.y)*(g7Y.x-h7Y.x))-ClipperLib.Cast_Int64((o7Y.x-M7Y.x)*(g7Y.y-h7Y.y));};ClipperLib.ClipperBase.SlopesEqual3=function(y7Y,H7Y,q7Y){return q7Y?B6W.op_Equality(B6W.Int128Mul(y7Y.Delta.y,H7Y.Delta.x),B6W.Int128Mul(y7Y.Delta.x,H7Y.Delta.y)):ClipperLib.Cast_Int64(y7Y.Delta.y*H7Y.Delta.x)==ClipperLib.Cast_Int64(y7Y.Delta.x*H7Y.Delta.y);};ClipperLib.ClipperBase.SlopesEqual4=function(E7Y,Z7Y,u7Y,j7Y){return j7Y?B6W.op_Equality(B6W.Int128Mul(E7Y.y-Z7Y.y,Z7Y.x-u7Y.x),B6W.Int128Mul(E7Y.x-Z7Y.x,Z7Y.y-u7Y.y)):0===ClipperLib.Cast_Int64((E7Y.y-Z7Y.y)*(Z7Y.x-u7Y.x))-ClipperLib.Cast_Int64((E7Y.x-Z7Y.x)*(Z7Y.y-u7Y.y));};ClipperLib.ClipperBase.SlopesEqual5=function(J7Y,S7Y,K7Y,b7Y,t7Y){return t7Y?B6W.op_Equality(B6W.Int128Mul(J7Y.y-S7Y.y,K7Y.x-b7Y.x),B6W.Int128Mul(J7Y.x-S7Y.x,K7Y.y-b7Y.y)):0===ClipperLib.Cast_Int64((J7Y.y-S7Y.y)*(K7Y.x-b7Y.x))-ClipperLib.Cast_Int64((J7Y.x-S7Y.x)*(K7Y.y-b7Y.y));};ClipperLib.ClipperBase.prototype.Clear=function(){var f7Y=this;this.DisposeLocalMinimaList();for(var C7Y=0,B7Y=this.m_edges.length;C7Y<B7Y;++C7Y){for(var N7Y=0,m7Y=this.m_edges[C7Y].length;N7Y<m7Y;++N7Y){f7Y.m_edges[C7Y][N7Y]=null;}ClipperLib.Clear(f7Y.m_edges[C7Y]);}ClipperLib.Clear(this.m_edges);this.m_HasOpenPaths=this.m_UseFullRange=false;};ClipperLib.ClipperBase.prototype.DisposeLocalMinimaList=function(){var l7Y=this;for(;null!==this.m_MinimaList;){var Q7Y=l7Y.m_MinimaList.Next;l7Y.m_MinimaList=null;l7Y.m_MinimaList=Q7Y;}this.m_CurrentLM=null;};ClipperLib.ClipperBase.prototype.RangeTest=function(z7Y,D7Y){if(D7Y.Value){(z7Y.x>ClipperLib.ClipperBase.hiRange||z7Y.y>ClipperLib.ClipperBase.hiRange||-z7Y.x>ClipperLib.ClipperBase.hiRange||-z7Y.y>ClipperLib.ClipperBase.hiRange)&&ClipperLib.Error("Coordinate outside allowed range in RangeTest().");}else if(z7Y.x>ClipperLib.ClipperBase.loRange||z7Y.y>ClipperLib.ClipperBase.loRange||-z7Y.x>ClipperLib.ClipperBase.loRange||-z7Y.y>ClipperLib.ClipperBase.loRange){D7Y.Value=true,this.RangeTest(z7Y,D7Y);}};ClipperLib.ClipperBase.prototype.InitEdge=function(d7Y,W7Y,U7Y,X7Y){d7Y.Next=W7Y;d7Y.Prev=U7Y;d7Y.Curr.x=X7Y.x;d7Y.Curr.y=X7Y.y;ClipperLib.use_xyz&&(d7Y.Curr.Z=X7Y.Z);d7Y.OutIdx=-1;};ClipperLib.ClipperBase.prototype.InitEdge2=function(G7Y,e7Y){G7Y.Curr.y>=G7Y.Next.Curr.y?(G7Y.Bot.x=G7Y.Curr.x,G7Y.Bot.y=G7Y.Curr.y,ClipperLib.use_xyz&&(G7Y.Bot.Z=G7Y.Curr.Z),G7Y.Top.x=G7Y.Next.Curr.x,G7Y.Top.y=G7Y.Next.Curr.y,ClipperLib.use_xyz&&(G7Y.Top.Z=G7Y.Next.Curr.Z)):(G7Y.Top.x=G7Y.Curr.x,G7Y.Top.y=G7Y.Curr.y,ClipperLib.use_xyz&&(G7Y.Top.Z=G7Y.Curr.Z),G7Y.Bot.x=G7Y.Next.Curr.x,G7Y.Bot.y=G7Y.Next.Curr.y,ClipperLib.use_xyz&&(G7Y.Bot.Z=G7Y.Next.Curr.Z));this.SetDx(G7Y);G7Y.PolyTyp=e7Y;};ClipperLib.ClipperBase.prototype.FindNextLocMin=function(F7Y){for(var p7Y;;){for(;ClipperLib.IntPoint.op_Inequality(F7Y.Bot,F7Y.Prev.Bot)||ClipperLib.IntPoint.op_Equality(F7Y.Curr,F7Y.Top);){F7Y=F7Y.Next;}if(F7Y.Dx!=ClipperLib.ClipperBase.horizontal&&F7Y.Prev.Dx!=ClipperLib.ClipperBase.horizontal){break;}for(;F7Y.Prev.Dx==ClipperLib.ClipperBase.horizontal;){F7Y=F7Y.Prev;}for(p7Y=F7Y;F7Y.Dx==ClipperLib.ClipperBase.horizontal;){F7Y=F7Y.Next;}if(F7Y.Top.y!=F7Y.Prev.Bot.y){p7Y.Prev.Bot.x<F7Y.Bot.x&&(F7Y=p7Y);break;}}return F7Y;};ClipperLib.ClipperBase.prototype.ProcessBound=function(V7Y,R7Y){var i7Y=this;var v7Y,P7Y=V7Y,L7Y;if(P7Y.OutIdx==ClipperLib.ClipperBase.Skip){V7Y=P7Y;if(R7Y){for(;V7Y.Top.y==V7Y.Next.Bot.y;){V7Y=V7Y.Next;}for(;V7Y!=P7Y&&V7Y.Dx==ClipperLib.ClipperBase.horizontal;){V7Y=V7Y.Prev;}}else{for(;V7Y.Top.y==V7Y.Prev.Bot.y;){V7Y=V7Y.Prev;}for(;V7Y!=P7Y&&V7Y.Dx==ClipperLib.ClipperBase.horizontal;){V7Y=V7Y.Next;}}V7Y==P7Y?P7Y=R7Y?V7Y.Next:V7Y.Prev:(V7Y=R7Y?P7Y.Next:P7Y.Prev,v7Y=new ClipperLib.LocalMinima(),v7Y.Next=null,v7Y.y=V7Y.Bot.y,v7Y.LeftBound=null,v7Y.RightBound=V7Y,V7Y.WindDelta=0,P7Y=this.ProcessBound(V7Y,R7Y),this.InsertLocalMinima(v7Y));return P7Y;}V7Y.Dx==ClipperLib.ClipperBase.horizontal&&(v7Y=R7Y?V7Y.Prev:V7Y.Next,v7Y.OutIdx!=ClipperLib.ClipperBase.Skip&&(v7Y.Dx==ClipperLib.ClipperBase.horizontal?v7Y.Bot.x!=V7Y.Bot.x&&v7Y.Top.x!=V7Y.Bot.x&&this.ReverseHorizontal(V7Y):v7Y.Bot.x!=V7Y.Bot.x&&this.ReverseHorizontal(V7Y)));v7Y=V7Y;if(R7Y){for(;P7Y.Top.y==P7Y.Next.Bot.y&&P7Y.Next.OutIdx!=ClipperLib.ClipperBase.Skip;){P7Y=P7Y.Next;}if(P7Y.Dx==ClipperLib.ClipperBase.horizontal&&P7Y.Next.OutIdx!=ClipperLib.ClipperBase.Skip){for(L7Y=P7Y;L7Y.Prev.Dx==ClipperLib.ClipperBase.horizontal;){L7Y=L7Y.Prev;}L7Y.Prev.Top.x==P7Y.Next.Top.x?R7Y||(P7Y=L7Y.Prev):L7Y.Prev.Top.x>P7Y.Next.Top.x&&(P7Y=L7Y.Prev);}for(;V7Y!=P7Y;){V7Y.NextInLML=V7Y.Next,V7Y.Dx==ClipperLib.ClipperBase.horizontal&&V7Y!=v7Y&&V7Y.Bot.x!=V7Y.Prev.Top.x&&i7Y.ReverseHorizontal(V7Y),V7Y=V7Y.Next;}V7Y.Dx==ClipperLib.ClipperBase.horizontal&&V7Y!=v7Y&&V7Y.Bot.x!=V7Y.Prev.Top.x&&this.ReverseHorizontal(V7Y);P7Y=P7Y.Next;}else{for(;P7Y.Top.y==P7Y.Prev.Bot.y&&P7Y.Prev.OutIdx!=ClipperLib.ClipperBase.Skip;){P7Y=P7Y.Prev;}if(P7Y.Dx==ClipperLib.ClipperBase.horizontal&&P7Y.Prev.OutIdx!=ClipperLib.ClipperBase.Skip){for(L7Y=P7Y;L7Y.Next.Dx==ClipperLib.ClipperBase.horizontal;){L7Y=L7Y.Next;}L7Y.Next.Top.x==P7Y.Prev.Top.x?R7Y||(P7Y=L7Y.Next):L7Y.Next.Top.x>P7Y.Prev.Top.x&&(P7Y=L7Y.Next);}for(;V7Y!=P7Y;){V7Y.NextInLML=V7Y.Prev,V7Y.Dx==ClipperLib.ClipperBase.horizontal&&V7Y!=v7Y&&V7Y.Bot.x!=V7Y.Next.Top.x&&i7Y.ReverseHorizontal(V7Y),V7Y=V7Y.Prev;}V7Y.Dx==ClipperLib.ClipperBase.horizontal&&V7Y!=v7Y&&V7Y.Bot.x!=V7Y.Next.Top.x&&this.ReverseHorizontal(V7Y);P7Y=P7Y.Prev;}return P7Y;};ClipperLib.ClipperBase.prototype.AddPath=function(a7Y,k7Y,r6Y){var Y7Y=this;ClipperLib.use_lines?r6Y||k7Y!=ClipperLib.PolyType.ptClip||ClipperLib.Error("AddPath: Open paths must be subject."):r6Y||ClipperLib.Error("AddPath: Open paths have been disabled.");var x7Y=a7Y.length-1;if(r6Y){for(;0<x7Y&&ClipperLib.IntPoint.op_Equality(a7Y[x7Y],a7Y[0]);){--x7Y;}}for(;0<x7Y&&ClipperLib.IntPoint.op_Equality(a7Y[x7Y],a7Y[x7Y-1]);){--x7Y;}if(r6Y&&2>x7Y||!r6Y&&1>x7Y){return false;}for(var w7Y=[],A7Y=0;A7Y<=x7Y;A7Y++){w7Y.push(new ClipperLib.TEdge());}var n6Y=true;w7Y[1].Curr.x=a7Y[1].x;w7Y[1].Curr.y=a7Y[1].y;ClipperLib.use_xyz&&(w7Y[1].Curr.Z=a7Y[1].Z);var s6Y={Value:this.m_UseFullRange};this.RangeTest(a7Y[0],s6Y);this.m_UseFullRange=s6Y.Value;s6Y.Value=this.m_UseFullRange;this.RangeTest(a7Y[x7Y],s6Y);this.m_UseFullRange=s6Y.Value;this.InitEdge(w7Y[0],w7Y[1],w7Y[x7Y],a7Y[0]);this.InitEdge(w7Y[x7Y],w7Y[0],w7Y[x7Y-1],a7Y[x7Y]);for(A7Y=x7Y-1;1<=A7Y;--A7Y){s6Y.Value=Y7Y.m_UseFullRange,Y7Y.RangeTest(a7Y[A7Y],s6Y),Y7Y.m_UseFullRange=s6Y.Value,Y7Y.InitEdge(w7Y[A7Y],w7Y[A7Y+1],w7Y[A7Y-1],a7Y[A7Y]);}for(A7Y=a7Y=x7Y=w7Y[0];;){if(a7Y.Curr!=a7Y.Next.Curr||!r6Y&&a7Y.Next==x7Y){if(a7Y.Prev==a7Y.Next){break;}else if(r6Y&&ClipperLib.ClipperBase.SlopesEqual(a7Y.Prev.Curr,a7Y.Curr,a7Y.Next.Curr,Y7Y.m_UseFullRange)&&(!Y7Y.PreserveCollinear||!Y7Y.Pt2IsBetweenPt1AndPt3(a7Y.Prev.Curr,a7Y.Curr,a7Y.Next.Curr))){a7Y==x7Y&&(x7Y=a7Y.Next);a7Y=Y7Y.RemoveEdge(a7Y);A7Y=a7Y=a7Y.Prev;continue;}a7Y=a7Y.Next;if(a7Y==A7Y||!r6Y&&a7Y.Next==x7Y){break;}}else{if(a7Y==a7Y.Next){break;}a7Y==x7Y&&(x7Y=a7Y.Next);A7Y=a7Y=Y7Y.RemoveEdge(a7Y);}}if(!r6Y&&a7Y==a7Y.Next||r6Y&&a7Y.Prev==a7Y.Next){return false;}r6Y||(this.m_HasOpenPaths=true,x7Y.Prev.OutIdx=ClipperLib.ClipperBase.Skip);a7Y=x7Y;do{Y7Y.InitEdge2(a7Y,k7Y),a7Y=a7Y.Next,n6Y&&a7Y.Curr.y!=x7Y.Curr.y&&(n6Y=false);}while(a7Y!=x7Y);if(n6Y){if(r6Y){return false;}a7Y.Prev.OutIdx=ClipperLib.ClipperBase.Skip;a7Y.Prev.Bot.x<a7Y.Prev.Top.x&&this.ReverseHorizontal(a7Y.Prev);k7Y=new ClipperLib.LocalMinima();k7Y.Next=null;k7Y.y=a7Y.Bot.y;k7Y.LeftBound=null;k7Y.RightBound=a7Y;k7Y.RightBound.Side=ClipperLib.EdgeSide.esRight;for(k7Y.RightBound.WindDelta=0;a7Y.Next.OutIdx!=ClipperLib.ClipperBase.Skip;){a7Y.NextInLML=a7Y.Next,a7Y.Bot.x!=a7Y.Prev.Top.x&&Y7Y.ReverseHorizontal(a7Y),a7Y=a7Y.Next;}this.InsertLocalMinima(k7Y);this.m_edges.push(w7Y);return true;}this.m_edges.push(w7Y);n6Y=null;ClipperLib.IntPoint.op_Equality(a7Y.Prev.Bot,a7Y.Prev.Top)&&(a7Y=a7Y.Next);for(;;){a7Y=Y7Y.FindNextLocMin(a7Y);if(a7Y==n6Y){break;}else{null==n6Y&&(n6Y=a7Y);}k7Y=new ClipperLib.LocalMinima();k7Y.Next=null;k7Y.y=a7Y.Bot.y;a7Y.Dx<a7Y.Prev.Dx?(k7Y.LeftBound=a7Y.Prev,k7Y.RightBound=a7Y,w7Y=false):(k7Y.LeftBound=a7Y,k7Y.RightBound=a7Y.Prev,w7Y=true);k7Y.LeftBound.Side=ClipperLib.EdgeSide.esLeft;k7Y.RightBound.Side=ClipperLib.EdgeSide.esRight;k7Y.LeftBound.WindDelta=r6Y?k7Y.LeftBound.Next==k7Y.RightBound?-1:1:0;k7Y.RightBound.WindDelta=-k7Y.LeftBound.WindDelta;a7Y=Y7Y.ProcessBound(k7Y.LeftBound,w7Y);a7Y.OutIdx==ClipperLib.ClipperBase.Skip&&(a7Y=Y7Y.ProcessBound(a7Y,w7Y));x7Y=Y7Y.ProcessBound(k7Y.RightBound,!w7Y);x7Y.OutIdx==ClipperLib.ClipperBase.Skip&&(x7Y=Y7Y.ProcessBound(x7Y,!w7Y));k7Y.LeftBound.OutIdx==ClipperLib.ClipperBase.Skip?k7Y.LeftBound=null:k7Y.RightBound.OutIdx==ClipperLib.ClipperBase.Skip&&(k7Y.RightBound=null);Y7Y.InsertLocalMinima(k7Y);w7Y||(a7Y=x7Y);}return true;};ClipperLib.ClipperBase.prototype.AddPaths=function(c6Y,O6Y,g6Y){var M6Y=this;for(var T6Y=false,I6Y=0,o6Y=c6Y.length;I6Y<o6Y;++I6Y){M6Y.AddPath(c6Y[I6Y],O6Y,g6Y)&&(T6Y=true);}return T6Y;};ClipperLib.ClipperBase.prototype.Pt2IsBetweenPt1AndPt3=function(y6Y,h6Y,H6Y){return ClipperLib.IntPoint.op_Equality(y6Y,H6Y)||ClipperLib.IntPoint.op_Equality(y6Y,h6Y)||ClipperLib.IntPoint.op_Equality(H6Y,h6Y)?false:y6Y.x!=H6Y.x?h6Y.x>y6Y.x==h6Y.x<H6Y.x:h6Y.y>y6Y.y==h6Y.y<H6Y.y;};ClipperLib.ClipperBase.prototype.RemoveEdge=function(q6Y){q6Y.Prev.Next=q6Y.Next;q6Y.Next.Prev=q6Y.Prev;var Z6Y=q6Y.Next;q6Y.Prev=null;return Z6Y;};ClipperLib.ClipperBase.prototype.SetDx=function(E6Y){E6Y.Delta.x=E6Y.Top.x-E6Y.Bot.x;E6Y.Delta.y=E6Y.Top.y-E6Y.Bot.y;E6Y.Dx=0===E6Y.Delta.y?ClipperLib.ClipperBase.horizontal:E6Y.Delta.x/E6Y.Delta.y;};ClipperLib.ClipperBase.prototype.InsertLocalMinima=function(u6Y){if(null===this.m_MinimaList){this.m_MinimaList=u6Y;}else if(u6Y.y>=this.m_MinimaList.y){u6Y.Next=this.m_MinimaList,this.m_MinimaList=u6Y;}else{for(var j6Y=this.m_MinimaList;null!==j6Y.Next&&u6Y.y<j6Y.Next.y;){j6Y=j6Y.Next;}u6Y.Next=j6Y.Next;j6Y.Next=u6Y;}};ClipperLib.ClipperBase.prototype.PopLocalMinima=function(){null!==this.m_CurrentLM&&(this.m_CurrentLM=this.m_CurrentLM.Next);};ClipperLib.ClipperBase.prototype.ReverseHorizontal=function(J6Y){var S6Y=J6Y.Top.x;J6Y.Top.x=J6Y.Bot.x;J6Y.Bot.x=S6Y;ClipperLib.use_xyz&&(S6Y=J6Y.Top.Z,J6Y.Top.Z=J6Y.Bot.Z,J6Y.Bot.Z=S6Y);};ClipperLib.ClipperBase.prototype.Reset=function(){this.m_CurrentLM=this.m_MinimaList;if(null!=this.m_CurrentLM){for(var b6Y=this.m_MinimaList;null!=b6Y;){var K6Y=b6Y.LeftBound;null!=K6Y&&(K6Y.Curr.x=K6Y.Bot.x,K6Y.Curr.y=K6Y.Bot.y,ClipperLib.use_xyz&&(K6Y.Curr.Z=K6Y.Bot.Z),K6Y.Side=ClipperLib.EdgeSide.esLeft,K6Y.OutIdx=ClipperLib.ClipperBase.Unassigned);K6Y=b6Y.RightBound;null!=K6Y&&(K6Y.Curr.x=K6Y.Bot.x,K6Y.Curr.y=K6Y.Bot.y,ClipperLib.use_xyz&&(K6Y.Curr.Z=K6Y.Bot.Z),K6Y.Side=ClipperLib.EdgeSide.esRight,K6Y.OutIdx=ClipperLib.ClipperBase.Unassigned);b6Y=b6Y.Next;}}};ClipperLib.Clipper=function(t6Y){"undefined"==typeof t6Y&&(t6Y=0);this.m_PolyOuts=null;this.m_ClipType=ClipperLib.ClipType.ctIntersection;this.m_IntersectNodeComparer=this.m_IntersectList=this.m_SortedEdges=this.m_ActiveEdges=this.m_Scanbeam=null;this.m_ExecuteLocked=false;this.m_SubjFillType=this.m_ClipFillType=ClipperLib.PolyFillType.pftEvenOdd;this.m_GhostJoins=this.m_Joins=null;this.StrictlySimple=this.ReverseSolution=this.m_UsingPolyTree=false;ClipperLib.ClipperBase.call(this);this.m_SortedEdges=this.m_ActiveEdges=this.m_Scanbeam=null;this.m_IntersectList=[];this.m_IntersectNodeComparer=ClipperLib.MyIntersectNodeSort.Compare;this.m_UsingPolyTree=this.m_ExecuteLocked=false;this.m_PolyOuts=[];this.m_Joins=[];this.m_GhostJoins=[];this.ReverseSolution=0!==(1&t6Y);this.StrictlySimple=0!==(2&t6Y);this.PreserveCollinear=0!==(4&t6Y);ClipperLib.use_xyz&&(this.ZFillFunction=null);};ClipperLib.Clipper.ioReverseSolution=1;ClipperLib.Clipper.ioStrictlySimple=2;ClipperLib.Clipper.ioPreserveCollinear=4;ClipperLib.Clipper.prototype.Clear=function(){0!==this.m_edges.length&&(this.DisposeAllPolyPts(),ClipperLib.ClipperBase.prototype.Clear.call(this));};ClipperLib.Clipper.prototype.DisposeScanbeamList=function(){var C6Y=this;for(;null!==this.m_Scanbeam;){var N6Y=C6Y.m_Scanbeam.Next;C6Y.m_Scanbeam=null;C6Y.m_Scanbeam=N6Y;}};ClipperLib.Clipper.prototype.Reset=function(){var B6Y=this;ClipperLib.ClipperBase.prototype.Reset.call(this);this.m_SortedEdges=this.m_ActiveEdges=this.m_Scanbeam=null;for(var f6Y=this.m_MinimaList;null!==f6Y;){B6Y.InsertScanbeam(f6Y.y),f6Y=f6Y.Next;}};ClipperLib.Clipper.prototype.InsertScanbeam=function(Q6Y){if(null===this.m_Scanbeam){this.m_Scanbeam=new ClipperLib.Scanbeam(),this.m_Scanbeam.Next=null,this.m_Scanbeam.y=Q6Y;}else if(Q6Y>this.m_Scanbeam.y){var m6Y=new ClipperLib.Scanbeam();m6Y.y=Q6Y;m6Y.Next=this.m_Scanbeam;this.m_Scanbeam=m6Y;}else{for(var l6Y=this.m_Scanbeam;null!==l6Y.Next&&Q6Y<=l6Y.Next.y;){l6Y=l6Y.Next;}Q6Y!=l6Y.y&&(m6Y=new ClipperLib.Scanbeam(),m6Y.y=Q6Y,m6Y.Next=l6Y.Next,l6Y.Next=m6Y);}};ClipperLib.Clipper.prototype.Execute=function(){var z6Y=arguments,D6Y=z6Y.length,d6Y=z6Y[1]instanceof ClipperLib.PolyTree;if(4!=D6Y||d6Y){if(4==D6Y&&d6Y){var D6Y=z6Y[0],X6Y=z6Y[1],d6Y=z6Y[2],z6Y=z6Y[3];if(this.m_ExecuteLocked){return false;}this.m_ExecuteLocked=true;this.m_SubjFillType=d6Y;this.m_ClipFillType=z6Y;this.m_ClipType=D6Y;this.m_UsingPolyTree=true;try{(W6Y=this.ExecuteInternal())&&this.BuildResult2(X6Y);}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=false;}return W6Y;}if(2==D6Y&&!d6Y||2==D6Y&&d6Y){return D6Y=z6Y[0],X6Y=z6Y[1],this.Execute(D6Y,X6Y,ClipperLib.PolyFillType.pftEvenOdd,ClipperLib.PolyFillType.pftEvenOdd);}}else{D6Y=z6Y[0];X6Y=z6Y[1];d6Y=z6Y[2];z6Y=z6Y[3];if(this.m_ExecuteLocked){return false;}this.m_HasOpenPaths&&ClipperLib.Error("Error: PolyTree struct is need for open path clipping.");this.m_ExecuteLocked=true;ClipperLib.Clear(X6Y);this.m_SubjFillType=d6Y;this.m_ClipFillType=z6Y;this.m_ClipType=D6Y;this.m_UsingPolyTree=false;try{var W6Y=this.ExecuteInternal();W6Y&&this.BuildResult(X6Y);}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=false;}return W6Y;}};ClipperLib.Clipper.prototype.FixHoleLinkage=function(U6Y){if(null!==U6Y.FirstLeft&&(U6Y.IsHole==U6Y.FirstLeft.IsHole||null===U6Y.FirstLeft.Pts)){for(var G6Y=U6Y.FirstLeft;null!==G6Y&&(G6Y.IsHole==U6Y.IsHole||null===G6Y.Pts);){G6Y=G6Y.FirstLeft;}U6Y.FirstLeft=G6Y;}};ClipperLib.Clipper.prototype.ExecuteInternal=function(){var e6Y=this;try{this.Reset();if(null===this.m_CurrentLM){return false;}var F6Y=this.PopScanbeam();do{e6Y.InsertLocalMinimaIntoAEL(F6Y);ClipperLib.Clear(e6Y.m_GhostJoins);e6Y.ProcessHorizontals(false);if(null===e6Y.m_Scanbeam){break;}var V6Y=e6Y.PopScanbeam();if(!e6Y.ProcessIntersections(V6Y)){return false;}e6Y.ProcessEdgesAtTopOfScanbeam(V6Y);F6Y=V6Y;}while(null!==this.m_Scanbeam||null!==this.m_CurrentLM);for(var F6Y=0,P6Y=this.m_PolyOuts.length;F6Y<P6Y;F6Y++){var p6Y=e6Y.m_PolyOuts[F6Y];null===p6Y.Pts||p6Y.IsOpen||(p6Y.IsHole^e6Y.ReverseSolution)==0<e6Y.Area(p6Y)&&e6Y.ReversePolyPtLinks(p6Y.Pts);}this.JoinCommonEdges();F6Y=0;for(P6Y=this.m_PolyOuts.length;F6Y<P6Y;F6Y++){p6Y=e6Y.m_PolyOuts[F6Y],null===p6Y.Pts||p6Y.IsOpen||e6Y.FixupOutPolygon(p6Y);}this.StrictlySimple&&this.DoSimplePolygons();return true;}finally{ClipperLib.Clear(this.m_Joins),ClipperLib.Clear(this.m_GhostJoins);}};ClipperLib.Clipper.prototype.PopScanbeam=function(){var v6Y=this.m_Scanbeam.y;this.m_Scanbeam=this.m_Scanbeam.Next;return v6Y;};ClipperLib.Clipper.prototype.DisposeAllPolyPts=function(){var R6Y=this;for(var L6Y=0,i6Y=this.m_PolyOuts.length;L6Y<i6Y;++L6Y){R6Y.DisposeOutRec(L6Y);}ClipperLib.Clear(this.m_PolyOuts);};ClipperLib.Clipper.prototype.DisposeOutRec=function(a6Y){this.m_PolyOuts[a6Y].Pts=null;this.m_PolyOuts[a6Y]=null;};ClipperLib.Clipper.prototype.AddJoin=function(w6Y,Y6Y,k6Y){var x6Y=new ClipperLib.Join();x6Y.OutPt1=w6Y;x6Y.OutPt2=Y6Y;x6Y.OffPt.x=k6Y.x;x6Y.OffPt.y=k6Y.y;ClipperLib.use_xyz&&(x6Y.OffPt.Z=k6Y.Z);this.m_Joins.push(x6Y);};ClipperLib.Clipper.prototype.AddGhostJoin=function(s8m,r8m){var A6Y=new ClipperLib.Join();A6Y.OutPt1=s8m;A6Y.OffPt.x=r8m.x;A6Y.OffPt.y=r8m.y;ClipperLib.use_xyz&&(A6Y.OffPt.Z=r8m.Z);this.m_GhostJoins.push(A6Y);};ClipperLib.Clipper.prototype.SetZ=function(n8m,I8m,T8m){null!==this.ZFillFunction&&0==n8m.Z&&null!==this.ZFillFunction&&(ClipperLib.IntPoint.op_Equality(n8m,I8m.Bot)?n8m.Z=I8m.Bot.Z:ClipperLib.IntPoint.op_Equality(n8m,I8m.Top)?n8m.Z=I8m.Top.Z:ClipperLib.IntPoint.op_Equality(n8m,T8m.Bot)?n8m.Z=T8m.Bot.Z:ClipperLib.IntPoint.op_Equality(n8m,T8m.Top)?n8m.Z=T8m.Top.Z:this.ZFillFunction(I8m.Bot,I8m.Top,T8m.Bot,T8m.Top,n8m));};ClipperLib.Clipper.prototype.InsertLocalMinimaIntoAEL=function(H8m){var o8m=this;for(;null!==this.m_CurrentLM&&this.m_CurrentLM.y==H8m;){var c8m=o8m.m_CurrentLM.LeftBound,M8m=o8m.m_CurrentLM.RightBound;o8m.PopLocalMinima();var O8m=null;null===c8m?(o8m.InsertEdgeIntoAEL(M8m,null),o8m.SetWindingCount(M8m),o8m.IsContributing(M8m)&&(O8m=o8m.AddOutPt(M8m,M8m.Bot))):(null==M8m?(o8m.InsertEdgeIntoAEL(c8m,null),o8m.SetWindingCount(c8m),o8m.IsContributing(c8m)&&(O8m=o8m.AddOutPt(c8m,c8m.Bot))):(o8m.InsertEdgeIntoAEL(c8m,null),o8m.InsertEdgeIntoAEL(M8m,c8m),o8m.SetWindingCount(c8m),M8m.WindCnt=c8m.WindCnt,M8m.WindCnt2=c8m.WindCnt2,o8m.IsContributing(c8m)&&(O8m=o8m.AddLocalMinPoly(c8m,M8m,c8m.Bot))),o8m.InsertScanbeam(c8m.Top.y));null!=M8m&&(ClipperLib.ClipperBase.IsHorizontal(M8m)?o8m.AddEdgeToSEL(M8m):o8m.InsertScanbeam(M8m.Top.y));if(null!=c8m&&null!=M8m){if(null!==O8m&&ClipperLib.ClipperBase.IsHorizontal(M8m)&&0<o8m.m_GhostJoins.length&&0!==M8m.WindDelta){for(var g8m=0,y8m=this.m_GhostJoins.length;g8m<y8m;g8m++){var h8m=o8m.m_GhostJoins[g8m];o8m.HorzSegmentsOverlap(h8m.OutPt1.Pt.x,h8m.OffPt.x,M8m.Bot.x,M8m.Top.x)&&o8m.AddJoin(h8m.OutPt1,O8m,h8m.OffPt);}}0<=c8m.OutIdx&&null!==c8m.PrevInAEL&&c8m.PrevInAEL.Curr.x==c8m.Bot.x&&0<=c8m.PrevInAEL.OutIdx&&ClipperLib.ClipperBase.SlopesEqual(c8m.PrevInAEL,c8m,o8m.m_UseFullRange)&&0!==c8m.WindDelta&&0!==c8m.PrevInAEL.WindDelta&&(g8m=o8m.AddOutPt(c8m.PrevInAEL,c8m.Bot),o8m.AddJoin(O8m,g8m,c8m.Top));if(c8m.NextInAEL!=M8m&&(0<=M8m.OutIdx&&0<=M8m.PrevInAEL.OutIdx&&ClipperLib.ClipperBase.SlopesEqual(M8m.PrevInAEL,M8m,o8m.m_UseFullRange)&&0!==M8m.WindDelta&&0!==M8m.PrevInAEL.WindDelta&&(g8m=o8m.AddOutPt(M8m.PrevInAEL,M8m.Bot),o8m.AddJoin(O8m,g8m,M8m.Top)),O8m=c8m.NextInAEL,null!==O8m)){for(;O8m!=M8m;){o8m.IntersectEdges(M8m,O8m,c8m.Curr,false),O8m=O8m.NextInAEL;}}}}};ClipperLib.Clipper.prototype.InsertEdgeIntoAEL=function(q8m,Z8m){if(null===this.m_ActiveEdges){q8m.PrevInAEL=null,q8m.NextInAEL=null,this.m_ActiveEdges=q8m;}else if(null===Z8m&&this.E2InsertsBeforeE1(this.m_ActiveEdges,q8m)){q8m.PrevInAEL=null,q8m.NextInAEL=this.m_ActiveEdges,this.m_ActiveEdges=this.m_ActiveEdges.PrevInAEL=q8m;}else{null===Z8m&&(Z8m=this.m_ActiveEdges);for(;null!==Z8m.NextInAEL&&!this.E2InsertsBeforeE1(Z8m.NextInAEL,q8m);){Z8m=Z8m.NextInAEL;}q8m.NextInAEL=Z8m.NextInAEL;null!==Z8m.NextInAEL&&(Z8m.NextInAEL.PrevInAEL=q8m);q8m.PrevInAEL=Z8m;Z8m.NextInAEL=q8m;}};ClipperLib.Clipper.prototype.E2InsertsBeforeE1=function(E8m,u8m){return u8m.Curr.x==E8m.Curr.x?u8m.Top.y>E8m.Top.y?u8m.Top.x<ClipperLib.Clipper.TopX(E8m,u8m.Top.y):E8m.Top.x>ClipperLib.Clipper.TopX(u8m,E8m.Top.y):u8m.Curr.x<E8m.Curr.x;};ClipperLib.Clipper.prototype.IsEvenOddFillType=function(j8m){return j8m.PolyTyp==ClipperLib.PolyType.ptSubject?this.m_SubjFillType==ClipperLib.PolyFillType.pftEvenOdd:this.m_ClipFillType==ClipperLib.PolyFillType.pftEvenOdd;};ClipperLib.Clipper.prototype.IsEvenOddAltFillType=function(J8m){return J8m.PolyTyp==ClipperLib.PolyType.ptSubject?this.m_ClipFillType==ClipperLib.PolyFillType.pftEvenOdd:this.m_SubjFillType==ClipperLib.PolyFillType.pftEvenOdd;};ClipperLib.Clipper.prototype.IsContributing=function(S8m){var b8m,K8m;S8m.PolyTyp==ClipperLib.PolyType.ptSubject?(b8m=this.m_SubjFillType,K8m=this.m_ClipFillType):(b8m=this.m_ClipFillType,K8m=this.m_SubjFillType);switch(b8m){case ClipperLib.PolyFillType.pftEvenOdd:if(0===S8m.WindDelta&&1!=S8m.WindCnt){return false;}break;case ClipperLib.PolyFillType.pftNonZero:if(1!=Math.abs(S8m.WindCnt)){return false;}break;case ClipperLib.PolyFillType.pftPositive:if(1!=S8m.WindCnt){return false;}break;default:if(-1!=S8m.WindCnt){return false;}}switch(this.m_ClipType){case ClipperLib.ClipType.ctIntersection:switch(K8m){case ClipperLib.PolyFillType.pftEvenOdd:case ClipperLib.PolyFillType.pftNonZero:return 0!==S8m.WindCnt2;case ClipperLib.PolyFillType.pftPositive:return 0<S8m.WindCnt2;default:return 0>S8m.WindCnt2;}case ClipperLib.ClipType.ctUnion:switch(K8m){case ClipperLib.PolyFillType.pftEvenOdd:case ClipperLib.PolyFillType.pftNonZero:return 0===S8m.WindCnt2;case ClipperLib.PolyFillType.pftPositive:return 0>=S8m.WindCnt2;default:return 0<=S8m.WindCnt2;}case ClipperLib.ClipType.ctDifference:if(S8m.PolyTyp==ClipperLib.PolyType.ptSubject){switch(K8m){case ClipperLib.PolyFillType.pftEvenOdd:case ClipperLib.PolyFillType.pftNonZero:return 0===S8m.WindCnt2;case ClipperLib.PolyFillType.pftPositive:return 0>=S8m.WindCnt2;default:return 0<=S8m.WindCnt2;}}else{switch(K8m){case ClipperLib.PolyFillType.pftEvenOdd:case ClipperLib.PolyFillType.pftNonZero:return 0!==S8m.WindCnt2;case ClipperLib.PolyFillType.pftPositive:return 0<S8m.WindCnt2;default:return 0>S8m.WindCnt2;}}case ClipperLib.ClipType.ctXor:if(0===S8m.WindDelta){switch(K8m){case ClipperLib.PolyFillType.pftEvenOdd:case ClipperLib.PolyFillType.pftNonZero:return 0===S8m.WindCnt2;case ClipperLib.PolyFillType.pftPositive:return 0>=S8m.WindCnt2;default:return 0<=S8m.WindCnt2;}}}return true;};ClipperLib.Clipper.prototype.SetWindingCount=function(C8m){for(var t8m=C8m.PrevInAEL;null!==t8m&&(t8m.PolyTyp!=C8m.PolyTyp||0===t8m.WindDelta);){t8m=t8m.PrevInAEL;}if(null===t8m){C8m.WindCnt=0===C8m.WindDelta?1:C8m.WindDelta,C8m.WindCnt2=0,t8m=this.m_ActiveEdges;}else{if(0===C8m.WindDelta&&this.m_ClipType!=ClipperLib.ClipType.ctUnion){C8m.WindCnt=1;}else if(this.IsEvenOddFillType(C8m)){if(0===C8m.WindDelta){for(var f8m=true,N8m=t8m.PrevInAEL;null!==N8m;){N8m.PolyTyp==t8m.PolyTyp&&0!==N8m.WindDelta&&(f8m=!f8m),N8m=N8m.PrevInAEL;}C8m.WindCnt=f8m?0:1;}else{C8m.WindCnt=C8m.WindDelta;}}else{C8m.WindCnt=0>t8m.WindCnt*t8m.WindDelta?1<Math.abs(t8m.WindCnt)?0>t8m.WindDelta*C8m.WindDelta?t8m.WindCnt:t8m.WindCnt+C8m.WindDelta:0===C8m.WindDelta?1:C8m.WindDelta:0===C8m.WindDelta?0>t8m.WindCnt?t8m.WindCnt-1:t8m.WindCnt+1:0>t8m.WindDelta*C8m.WindDelta?t8m.WindCnt:t8m.WindCnt+C8m.WindDelta;}C8m.WindCnt2=t8m.WindCnt2;t8m=t8m.NextInAEL;}if(this.IsEvenOddAltFillType(C8m)){for(;t8m!=C8m;){0!==t8m.WindDelta&&(C8m.WindCnt2=0===C8m.WindCnt2?1:0),t8m=t8m.NextInAEL;}}else{for(;t8m!=C8m;){C8m.WindCnt2+=t8m.WindDelta,t8m=t8m.NextInAEL;}}};ClipperLib.Clipper.prototype.AddEdgeToSEL=function(B8m){null===this.m_SortedEdges?(this.m_SortedEdges=B8m,B8m.PrevInSEL=null,B8m.NextInSEL=null):(B8m.NextInSEL=this.m_SortedEdges,B8m.PrevInSEL=null,this.m_SortedEdges=this.m_SortedEdges.PrevInSEL=B8m);};ClipperLib.Clipper.prototype.CopyAELToSEL=function(){var m8m=this.m_ActiveEdges;for(this.m_SortedEdges=m8m;null!==m8m;){m8m.PrevInSEL=m8m.PrevInAEL,m8m=m8m.NextInSEL=m8m.NextInAEL;}};ClipperLib.Clipper.prototype.SwapPositionsInAEL=function(l8m,Q8m){if(l8m.NextInAEL!=l8m.PrevInAEL&&Q8m.NextInAEL!=Q8m.PrevInAEL){if(l8m.NextInAEL==Q8m){var z8m=Q8m.NextInAEL;null!==z8m&&(z8m.PrevInAEL=l8m);var D8m=l8m.PrevInAEL;null!==D8m&&(D8m.NextInAEL=Q8m);Q8m.PrevInAEL=D8m;Q8m.NextInAEL=l8m;l8m.PrevInAEL=Q8m;l8m.NextInAEL=z8m;}else{Q8m.NextInAEL==l8m?(z8m=l8m.NextInAEL,null!==z8m&&(z8m.PrevInAEL=Q8m),D8m=Q8m.PrevInAEL,null!==D8m&&(D8m.NextInAEL=l8m),l8m.PrevInAEL=D8m,l8m.NextInAEL=Q8m,Q8m.PrevInAEL=l8m,Q8m.NextInAEL=z8m):(z8m=l8m.NextInAEL,D8m=l8m.PrevInAEL,l8m.NextInAEL=Q8m.NextInAEL,null!==l8m.NextInAEL&&(l8m.NextInAEL.PrevInAEL=l8m),l8m.PrevInAEL=Q8m.PrevInAEL,null!==l8m.PrevInAEL&&(l8m.PrevInAEL.NextInAEL=l8m),Q8m.NextInAEL=z8m,null!==Q8m.NextInAEL&&(Q8m.NextInAEL.PrevInAEL=Q8m),Q8m.PrevInAEL=D8m,null!==Q8m.PrevInAEL&&(Q8m.PrevInAEL.NextInAEL=Q8m));}null===l8m.PrevInAEL?this.m_ActiveEdges=l8m:null===Q8m.PrevInAEL&&(this.m_ActiveEdges=Q8m);}};ClipperLib.Clipper.prototype.SwapPositionsInSEL=function(d8m,X8m){if(null!==d8m.NextInSEL||null!==d8m.PrevInSEL){if(null!==X8m.NextInSEL||null!==X8m.PrevInSEL){if(d8m.NextInSEL==X8m){var W8m=X8m.NextInSEL;null!==W8m&&(W8m.PrevInSEL=d8m);var U8m=d8m.PrevInSEL;null!==U8m&&(U8m.NextInSEL=X8m);X8m.PrevInSEL=U8m;X8m.NextInSEL=d8m;d8m.PrevInSEL=X8m;d8m.NextInSEL=W8m;}else{X8m.NextInSEL==d8m?(W8m=d8m.NextInSEL,null!==W8m&&(W8m.PrevInSEL=X8m),U8m=X8m.PrevInSEL,null!==U8m&&(U8m.NextInSEL=d8m),d8m.PrevInSEL=U8m,d8m.NextInSEL=X8m,X8m.PrevInSEL=d8m,X8m.NextInSEL=W8m):(W8m=d8m.NextInSEL,U8m=d8m.PrevInSEL,d8m.NextInSEL=X8m.NextInSEL,null!==d8m.NextInSEL&&(d8m.NextInSEL.PrevInSEL=d8m),d8m.PrevInSEL=X8m.PrevInSEL,null!==d8m.PrevInSEL&&(d8m.PrevInSEL.NextInSEL=d8m),X8m.NextInSEL=W8m,null!==X8m.NextInSEL&&(X8m.NextInSEL.PrevInSEL=X8m),X8m.PrevInSEL=U8m,null!==X8m.PrevInSEL&&(X8m.PrevInSEL.NextInSEL=X8m));}null===d8m.PrevInSEL?this.m_SortedEdges=d8m:null===X8m.PrevInSEL&&(this.m_SortedEdges=X8m);}}};ClipperLib.Clipper.prototype.AddLocalMaxPoly=function(e8m,G8m,F8m){this.AddOutPt(e8m,F8m);0==G8m.WindDelta&&this.AddOutPt(G8m,F8m);e8m.OutIdx==G8m.OutIdx?(e8m.OutIdx=-1,G8m.OutIdx=-1):e8m.OutIdx<G8m.OutIdx?this.AppendPolygon(e8m,G8m):this.AppendPolygon(G8m,e8m);};ClipperLib.Clipper.prototype.AddLocalMinPoly=function(p8m,V8m,v8m){var L8m,P8m;ClipperLib.ClipperBase.IsHorizontal(V8m)||p8m.Dx>V8m.Dx?(L8m=this.AddOutPt(p8m,v8m),V8m.OutIdx=p8m.OutIdx,p8m.Side=ClipperLib.EdgeSide.esLeft,V8m.Side=ClipperLib.EdgeSide.esRight,P8m=p8m,p8m=P8m.PrevInAEL==V8m?V8m.PrevInAEL:P8m.PrevInAEL):(L8m=this.AddOutPt(V8m,v8m),p8m.OutIdx=V8m.OutIdx,p8m.Side=ClipperLib.EdgeSide.esRight,V8m.Side=ClipperLib.EdgeSide.esLeft,P8m=V8m,p8m=P8m.PrevInAEL==p8m?p8m.PrevInAEL:P8m.PrevInAEL);null!==p8m&&0<=p8m.OutIdx&&ClipperLib.Clipper.TopX(p8m,v8m.y)==ClipperLib.Clipper.TopX(P8m,v8m.y)&&ClipperLib.ClipperBase.SlopesEqual(P8m,p8m,this.m_UseFullRange)&&0!==P8m.WindDelta&&0!==p8m.WindDelta&&(v8m=this.AddOutPt(p8m,v8m),this.AddJoin(L8m,v8m,P8m.Top));return L8m;};ClipperLib.Clipper.prototype.CreateOutRec=function(){var R8m=new ClipperLib.OutRec();R8m.Idx=-1;R8m.IsHole=false;R8m.IsOpen=false;R8m.FirstLeft=null;R8m.Pts=null;R8m.BottomPt=null;R8m.PolyNode=null;this.m_PolyOuts.push(R8m);R8m.Idx=this.m_PolyOuts.length-1;return R8m;};ClipperLib.Clipper.prototype.AddOutPt=function(a8m,k8m){var w8m=a8m.Side==ClipperLib.EdgeSide.esLeft;if(0>a8m.OutIdx){var x8m=this.CreateOutRec();x8m.IsOpen=0===a8m.WindDelta;var i8m=new ClipperLib.OutPt();x8m.Pts=i8m;i8m.Idx=x8m.Idx;i8m.Pt.x=k8m.x;i8m.Pt.y=k8m.y;ClipperLib.use_xyz&&(i8m.Pt.Z=k8m.Z);i8m.Next=i8m;i8m.Prev=i8m;x8m.IsOpen||this.SetHoleState(a8m,x8m);a8m.OutIdx=x8m.Idx;}else{x8m=this.m_PolyOuts[a8m.OutIdx];a8m=x8m.Pts;if(w8m&&ClipperLib.IntPoint.op_Equality(k8m,a8m.Pt)){return a8m;}if(!w8m&&ClipperLib.IntPoint.op_Equality(k8m,a8m.Prev.Pt)){return a8m.Prev;}i8m=new ClipperLib.OutPt();i8m.Idx=x8m.Idx;i8m.Pt.x=k8m.x;i8m.Pt.y=k8m.y;ClipperLib.use_xyz&&(i8m.Pt.Z=k8m.Z);i8m.Next=a8m;i8m.Prev=a8m.Prev;i8m.Prev.Next=i8m;a8m.Prev=i8m;w8m&&(x8m.Pts=i8m);}return i8m;};ClipperLib.Clipper.prototype.SwapPoints=function(A8m,Y8m){var r2m=new ClipperLib.IntPoint(A8m.Value);A8m.Value.x=Y8m.Value.x;A8m.Value.y=Y8m.Value.y;ClipperLib.use_xyz&&(A8m.Value.Z=Y8m.Value.Z);Y8m.Value.x=r2m.x;Y8m.Value.y=r2m.y;ClipperLib.use_xyz&&(Y8m.Value.Z=r2m.Z);};ClipperLib.Clipper.prototype.HorzSegmentsOverlap=function(s2m,n2m,I2m,T2m){var c2m;s2m>n2m&&(c2m=s2m,s2m=n2m,n2m=c2m);I2m>T2m&&(c2m=I2m,I2m=T2m,T2m=c2m);return s2m<T2m&&I2m<n2m;};ClipperLib.Clipper.prototype.SetHoleState=function(M2m,O2m){var g2m=this;var o2m=false;for(M2m=M2m.PrevInAEL;null!==M2m;){0<=M2m.OutIdx&&0!=M2m.WindDelta&&(o2m=!o2m,null===O2m.FirstLeft&&(O2m.FirstLeft=g2m.m_PolyOuts[M2m.OutIdx])),M2m=M2m.PrevInAEL;}o2m&&(O2m.IsHole=true);};ClipperLib.Clipper.prototype.GetDx=function(h2m,y2m){return h2m.y==y2m.y?ClipperLib.ClipperBase.horizontal:(y2m.x-h2m.x)/(y2m.y-h2m.y);};ClipperLib.Clipper.prototype.FirstIsBottomPt=function(q2m,Z2m){for(var H2m=q2m.Prev;ClipperLib.IntPoint.op_Equality(H2m.Pt,q2m.Pt)&&H2m!=q2m;){H2m=H2m.Prev;}for(var E2m=Math.abs(this.GetDx(q2m.Pt,H2m.Pt)),H2m=q2m.Next;ClipperLib.IntPoint.op_Equality(H2m.Pt,q2m.Pt)&&H2m!=q2m;){H2m=H2m.Next;}q2m=Math.abs(this.GetDx(q2m.Pt,H2m.Pt));for(H2m=Z2m.Prev;ClipperLib.IntPoint.op_Equality(H2m.Pt,Z2m.Pt)&&H2m!=Z2m;){H2m=H2m.Prev;}for(var u2m=Math.abs(this.GetDx(Z2m.Pt,H2m.Pt)),H2m=Z2m.Next;ClipperLib.IntPoint.op_Equality(H2m.Pt,Z2m.Pt)&&H2m!=Z2m;){H2m=H2m.Next;}Z2m=Math.abs(this.GetDx(Z2m.Pt,H2m.Pt));return E2m>=u2m&&E2m>=Z2m||q2m>=u2m&&q2m>=Z2m;};ClipperLib.Clipper.prototype.GetBottomPt=function(J2m){for(var S2m=null,j2m=J2m.Next;j2m!=J2m;){j2m.Pt.y>J2m.Pt.y?(J2m=j2m,S2m=null):j2m.Pt.y==J2m.Pt.y&&j2m.Pt.x<=J2m.Pt.x&&(j2m.Pt.x<J2m.Pt.x?(S2m=null,J2m=j2m):j2m.Next!=J2m&&j2m.Prev!=J2m&&(S2m=j2m)),j2m=j2m.Next;}if(null!==S2m){for(;S2m!=j2m;){for(this.FirstIsBottomPt(j2m,S2m)||(J2m=S2m),S2m=S2m.Next;ClipperLib.IntPoint.op_Inequality(S2m.Pt,J2m.Pt);){S2m=S2m.Next;}}}return J2m;};ClipperLib.Clipper.prototype.GetLowermostRec=function(K2m,b2m){null===K2m.BottomPt&&(K2m.BottomPt=this.GetBottomPt(K2m.Pts));null===b2m.BottomPt&&(b2m.BottomPt=this.GetBottomPt(b2m.Pts));var t2m=K2m.BottomPt,C2m=b2m.BottomPt;return t2m.Pt.y>C2m.Pt.y?K2m:t2m.Pt.y<C2m.Pt.y?b2m:t2m.Pt.x<C2m.Pt.x?K2m:t2m.Pt.x>C2m.Pt.x?b2m:t2m.Next==t2m?b2m:C2m.Next==C2m?K2m:this.FirstIsBottomPt(t2m,C2m)?K2m:b2m;};ClipperLib.Clipper.prototype.Param1RightOfParam2=function(N2m,f2m){do{if(N2m=N2m.FirstLeft,N2m==f2m){return true;}}while(null!==N2m);return false;};ClipperLib.Clipper.prototype.GetOutRec=function(B2m){var m2m=this;for(B2m=this.m_PolyOuts[B2m];B2m!=this.m_PolyOuts[B2m.Idx];){B2m=m2m.m_PolyOuts[B2m.Idx];}return B2m;};ClipperLib.Clipper.prototype.AppendPolygon=function(d2m,U2m){var l2m=this.m_PolyOuts[d2m.OutIdx],Q2m=this.m_PolyOuts[U2m.OutIdx],G2m;G2m=this.Param1RightOfParam2(l2m,Q2m)?Q2m:this.Param1RightOfParam2(Q2m,l2m)?l2m:this.GetLowermostRec(l2m,Q2m);var z2m=l2m.Pts,X2m=z2m.Prev,D2m=Q2m.Pts,W2m=D2m.Prev;d2m.Side==ClipperLib.EdgeSide.esLeft?(U2m.Side==ClipperLib.EdgeSide.esLeft?(this.ReversePolyPtLinks(D2m),D2m.Next=z2m,z2m.Prev=D2m,X2m.Next=W2m,W2m.Prev=X2m,l2m.Pts=W2m):(W2m.Next=z2m,z2m.Prev=W2m,D2m.Prev=X2m,X2m.Next=D2m,l2m.Pts=D2m),z2m=ClipperLib.EdgeSide.esLeft):(U2m.Side==ClipperLib.EdgeSide.esRight?(this.ReversePolyPtLinks(D2m),X2m.Next=W2m,W2m.Prev=X2m,D2m.Next=z2m,z2m.Prev=D2m):(X2m.Next=D2m,D2m.Prev=X2m,z2m.Prev=W2m,W2m.Next=z2m),z2m=ClipperLib.EdgeSide.esRight);l2m.BottomPt=null;G2m==Q2m&&(Q2m.FirstLeft!=l2m&&(l2m.FirstLeft=Q2m.FirstLeft),l2m.IsHole=Q2m.IsHole);Q2m.Pts=null;Q2m.BottomPt=null;Q2m.FirstLeft=l2m;G2m=d2m.OutIdx;X2m=U2m.OutIdx;d2m.OutIdx=-1;U2m.OutIdx=-1;for(d2m=this.m_ActiveEdges;null!==d2m;){if(d2m.OutIdx==X2m){d2m.OutIdx=G2m;d2m.Side=z2m;break;}d2m=d2m.NextInAEL;}Q2m.Idx=l2m.Idx;};ClipperLib.Clipper.prototype.ReversePolyPtLinks=function(F2m){if(null!==F2m){var e2m,p2m;e2m=F2m;do{p2m=e2m.Next,e2m.Next=e2m.Prev,e2m=e2m.Prev=p2m;}while(e2m!=F2m);}};ClipperLib.Clipper.SwapSides=function(V2m,P2m){var v2m=V2m.Side;V2m.Side=P2m.Side;P2m.Side=v2m;};ClipperLib.Clipper.SwapPolyIndexes=function(L2m,R2m){var i2m=L2m.OutIdx;L2m.OutIdx=R2m.OutIdx;R2m.OutIdx=i2m;};ClipperLib.Clipper.prototype.IntersectEdges=function(a2m,x2m,k2m){var w2m=0<=a2m.OutIdx,Y2m=0<=x2m.OutIdx;ClipperLib.use_xyz&&this.SetZ(k2m,a2m,x2m);if(!ClipperLib.use_lines||0!==a2m.WindDelta&&0!==x2m.WindDelta){if(a2m.PolyTyp==x2m.PolyTyp){if(this.IsEvenOddFillType(a2m)){var s0m=a2m.WindCnt;a2m.WindCnt=x2m.WindCnt;x2m.WindCnt=s0m;}else{a2m.WindCnt=0===a2m.WindCnt+x2m.WindDelta?-a2m.WindCnt:a2m.WindCnt+x2m.WindDelta,x2m.WindCnt=0===x2m.WindCnt-a2m.WindDelta?-x2m.WindCnt:x2m.WindCnt-a2m.WindDelta;}}else{this.IsEvenOddFillType(x2m)?a2m.WindCnt2=0===a2m.WindCnt2?1:0:a2m.WindCnt2+=x2m.WindDelta,this.IsEvenOddFillType(a2m)?x2m.WindCnt2=0===x2m.WindCnt2?1:0:x2m.WindCnt2-=a2m.WindDelta;}var A2m,r0m,n0m;a2m.PolyTyp==ClipperLib.PolyType.ptSubject?(A2m=this.m_SubjFillType,n0m=this.m_ClipFillType):(A2m=this.m_ClipFillType,n0m=this.m_SubjFillType);x2m.PolyTyp==ClipperLib.PolyType.ptSubject?(r0m=this.m_SubjFillType,s0m=this.m_ClipFillType):(r0m=this.m_ClipFillType,s0m=this.m_SubjFillType);switch(A2m){case ClipperLib.PolyFillType.pftPositive:A2m=a2m.WindCnt;break;case ClipperLib.PolyFillType.pftNegative:A2m=-a2m.WindCnt;break;default:A2m=Math.abs(a2m.WindCnt);}switch(r0m){case ClipperLib.PolyFillType.pftPositive:r0m=x2m.WindCnt;break;case ClipperLib.PolyFillType.pftNegative:r0m=-x2m.WindCnt;break;default:r0m=Math.abs(x2m.WindCnt);}if(w2m&&Y2m){0!=A2m&&1!=A2m||0!=r0m&&1!=r0m||a2m.PolyTyp!=x2m.PolyTyp&&this.m_ClipType!=ClipperLib.ClipType.ctXor?this.AddLocalMaxPoly(a2m,x2m,k2m):(this.AddOutPt(a2m,k2m),this.AddOutPt(x2m,k2m),ClipperLib.Clipper.SwapSides(a2m,x2m),ClipperLib.Clipper.SwapPolyIndexes(a2m,x2m));}else if(w2m){if(0===r0m||1==r0m){this.AddOutPt(a2m,k2m),ClipperLib.Clipper.SwapSides(a2m,x2m),ClipperLib.Clipper.SwapPolyIndexes(a2m,x2m);}}else if(Y2m){if(0===A2m||1==A2m){this.AddOutPt(x2m,k2m),ClipperLib.Clipper.SwapSides(a2m,x2m),ClipperLib.Clipper.SwapPolyIndexes(a2m,x2m);}}else if(!(0!=A2m&&1!=A2m||0!=r0m&&1!=r0m)){switch(n0m){case ClipperLib.PolyFillType.pftPositive:w2m=a2m.WindCnt2;break;case ClipperLib.PolyFillType.pftNegative:w2m=-a2m.WindCnt2;break;default:w2m=Math.abs(a2m.WindCnt2);}switch(s0m){case ClipperLib.PolyFillType.pftPositive:Y2m=x2m.WindCnt2;break;case ClipperLib.PolyFillType.pftNegative:Y2m=-x2m.WindCnt2;break;default:Y2m=Math.abs(x2m.WindCnt2);}if(a2m.PolyTyp!=x2m.PolyTyp){this.AddLocalMinPoly(a2m,x2m,k2m);}else if(1==A2m&&1==r0m){switch(this.m_ClipType){case ClipperLib.ClipType.ctIntersection:0<w2m&&0<Y2m&&this.AddLocalMinPoly(a2m,x2m,k2m);break;case ClipperLib.ClipType.ctUnion:0>=w2m&&0>=Y2m&&this.AddLocalMinPoly(a2m,x2m,k2m);break;case ClipperLib.ClipType.ctDifference:(a2m.PolyTyp==ClipperLib.PolyType.ptClip&&0<w2m&&0<Y2m||a2m.PolyTyp==ClipperLib.PolyType.ptSubject&&0>=w2m&&0>=Y2m)&&this.AddLocalMinPoly(a2m,x2m,k2m);break;case ClipperLib.ClipType.ctXor:this.AddLocalMinPoly(a2m,x2m,k2m);}}else{ClipperLib.Clipper.SwapSides(a2m,x2m);}}}else if(0!=a2m.WindDelta||0!=x2m.WindDelta){a2m.PolyTyp==x2m.PolyTyp&&a2m.WindDelta!=x2m.WindDelta&&this.m_ClipType==ClipperLib.ClipType.ctUnion?0===a2m.WindDelta?Y2m&&(this.AddOutPt(a2m,k2m),w2m&&(a2m.OutIdx=-1)):w2m&&(this.AddOutPt(x2m,k2m),Y2m&&(x2m.OutIdx=-1)):a2m.PolyTyp!=x2m.PolyTyp&&(0!==a2m.WindDelta||1!=Math.abs(x2m.WindCnt)||this.m_ClipType==ClipperLib.ClipType.ctUnion&&0!==x2m.WindCnt2?0!==x2m.WindDelta||1!=Math.abs(a2m.WindCnt)||this.m_ClipType==ClipperLib.ClipType.ctUnion&&0!==a2m.WindCnt2||(this.AddOutPt(x2m,k2m),Y2m&&(x2m.OutIdx=-1)):(this.AddOutPt(a2m,k2m),w2m&&(a2m.OutIdx=-1)));}};ClipperLib.Clipper.prototype.DeleteFromAEL=function(T0m){var c0m=T0m.PrevInAEL,I0m=T0m.NextInAEL;if(null!==c0m||null!==I0m||T0m==this.m_ActiveEdges){null!==c0m?c0m.NextInAEL=I0m:this.m_ActiveEdges=I0m,null!==I0m&&(I0m.PrevInAEL=c0m),T0m.NextInAEL=null,T0m.PrevInAEL=null;}};ClipperLib.Clipper.prototype.DeleteFromSEL=function(o0m){var O0m=o0m.PrevInSEL,M0m=o0m.NextInSEL;if(null!==O0m||null!==M0m||o0m==this.m_SortedEdges){null!==O0m?O0m.NextInSEL=M0m:this.m_SortedEdges=M0m,null!==M0m&&(M0m.PrevInSEL=O0m),o0m.NextInSEL=null,o0m.PrevInSEL=null;}};ClipperLib.Clipper.prototype.UpdateEdgeIntoAEL=function(g0m){null===g0m.NextInLML&&ClipperLib.Error("UpdateEdgeIntoAEL: invalid call");var h0m=g0m.PrevInAEL,y0m=g0m.NextInAEL;g0m.NextInLML.OutIdx=g0m.OutIdx;null!==h0m?h0m.NextInAEL=g0m.NextInLML:this.m_ActiveEdges=g0m.NextInLML;null!==y0m&&(y0m.PrevInAEL=g0m.NextInLML);g0m.NextInLML.Side=g0m.Side;g0m.NextInLML.WindDelta=g0m.WindDelta;g0m.NextInLML.WindCnt=g0m.WindCnt;g0m.NextInLML.WindCnt2=g0m.WindCnt2;g0m=g0m.NextInLML;g0m.Curr.x=g0m.Bot.x;g0m.Curr.y=g0m.Bot.y;ClipperLib.use_xyz&&(g0m.Curr.Z=g0m.Bot.Z);g0m.PrevInAEL=h0m;g0m.NextInAEL=y0m;ClipperLib.ClipperBase.IsHorizontal(g0m)||this.InsertScanbeam(g0m.Top.y);return g0m;};ClipperLib.Clipper.prototype.ProcessHorizontals=function(Z0m){var q0m=this;for(var H0m=this.m_SortedEdges;null!==H0m;){q0m.DeleteFromSEL(H0m),q0m.ProcessHorizontal(H0m,Z0m),H0m=q0m.m_SortedEdges;}};ClipperLib.Clipper.prototype.GetHorzDirection=function(E0m,u0m){E0m.Bot.x<E0m.Top.x?(u0m.Left=E0m.Bot.x,u0m.Right=E0m.Top.x,u0m.Dir=ClipperLib.Direction.dLeftToRight):(u0m.Left=E0m.Top.x,u0m.Right=E0m.Bot.x,u0m.Dir=ClipperLib.Direction.dRightToLeft);};ClipperLib.Clipper.prototype.ProcessHorizontal=function(j0m,C0m){var K0m=this;var J0m={Dir:null,Left:null,Right:null};this.GetHorzDirection(j0m,J0m);for(var S0m=J0m.Dir,f0m=J0m.Left,B0m=J0m.Right,N0m=j0m,t0m=null;null!==N0m.NextInLML&&ClipperLib.ClipperBase.IsHorizontal(N0m.NextInLML);){N0m=N0m.NextInLML;}for(null===N0m.NextInLML&&(t0m=this.GetMaximaPair(N0m));;){for(var l0m=j0m==N0m,b0m=this.GetNextInAEL(j0m,S0m);null!==b0m&&!(b0m.Curr.x==j0m.Top.x&&null!==j0m.NextInLML&&b0m.Dx<j0m.NextInLML.Dx);){J0m=K0m.GetNextInAEL(b0m,S0m);if(S0m==ClipperLib.Direction.dLeftToRight&&b0m.Curr.x<=B0m||S0m==ClipperLib.Direction.dRightToLeft&&b0m.Curr.x>=f0m){if(b0m==t0m&&l0m){if(0<=j0m.OutIdx){S0m=K0m.AddOutPt(j0m,j0m.Top);for(C0m=this.m_SortedEdges;null!==C0m;){0<=C0m.OutIdx&&K0m.HorzSegmentsOverlap(j0m.Bot.x,j0m.Top.x,C0m.Bot.x,C0m.Top.x)&&(J0m=K0m.AddOutPt(C0m,C0m.Bot),K0m.AddJoin(J0m,S0m,C0m.Top)),C0m=C0m.NextInSEL;}K0m.AddGhostJoin(S0m,j0m.Bot);K0m.AddLocalMaxPoly(j0m,t0m,j0m.Top);}K0m.DeleteFromAEL(j0m);K0m.DeleteFromAEL(t0m);return;}if(S0m==ClipperLib.Direction.dLeftToRight){var m0m=new ClipperLib.IntPoint(b0m.Curr.x,j0m.Curr.y);K0m.IntersectEdges(j0m,b0m,m0m);}else{m0m=new ClipperLib.IntPoint(b0m.Curr.x,j0m.Curr.y),K0m.IntersectEdges(b0m,j0m,m0m);}K0m.SwapPositionsInAEL(j0m,b0m);}else if(S0m==ClipperLib.Direction.dLeftToRight&&b0m.Curr.x>=B0m||S0m==ClipperLib.Direction.dRightToLeft&&b0m.Curr.x<=f0m){break;}b0m=J0m;}if(null!==j0m.NextInLML&&ClipperLib.ClipperBase.IsHorizontal(j0m.NextInLML)){j0m=K0m.UpdateEdgeIntoAEL(j0m),0<=j0m.OutIdx&&K0m.AddOutPt(j0m,j0m.Bot),J0m={Dir:S0m,Left:f0m,Right:B0m},K0m.GetHorzDirection(j0m,J0m),S0m=J0m.Dir,f0m=J0m.Left,B0m=J0m.Right;}else{break;}}null!==j0m.NextInLML?0<=j0m.OutIdx?(S0m=this.AddOutPt(j0m,j0m.Top),C0m&&this.AddGhostJoin(S0m,j0m.Bot),j0m=this.UpdateEdgeIntoAEL(j0m),0!==j0m.WindDelta&&(t0m=j0m.PrevInAEL,J0m=j0m.NextInAEL,null!==t0m&&t0m.Curr.x==j0m.Bot.x&&t0m.Curr.y==j0m.Bot.y&&0!==t0m.WindDelta&&0<=t0m.OutIdx&&t0m.Curr.y>t0m.Top.y&&ClipperLib.ClipperBase.SlopesEqual(j0m,t0m,this.m_UseFullRange)?(J0m=this.AddOutPt(t0m,j0m.Bot),this.AddJoin(S0m,J0m,j0m.Top)):null!==J0m&&J0m.Curr.x==j0m.Bot.x&&J0m.Curr.y==j0m.Bot.y&&0!==J0m.WindDelta&&0<=J0m.OutIdx&&J0m.Curr.y>J0m.Top.y&&ClipperLib.ClipperBase.SlopesEqual(j0m,J0m,this.m_UseFullRange)&&(J0m=this.AddOutPt(J0m,j0m.Bot),this.AddJoin(S0m,J0m,j0m.Top)))):this.UpdateEdgeIntoAEL(j0m):(0<=j0m.OutIdx&&this.AddOutPt(j0m,j0m.Top),this.DeleteFromAEL(j0m));};ClipperLib.Clipper.prototype.GetNextInAEL=function(Q0m,z0m){return z0m==ClipperLib.Direction.dLeftToRight?Q0m.NextInAEL:Q0m.PrevInAEL;};ClipperLib.Clipper.prototype.IsMinima=function(D0m){return null!==D0m&&D0m.Prev.NextInLML!=D0m&&D0m.Next.NextInLML!=D0m;};ClipperLib.Clipper.prototype.IsMaxima=function(d0m,X0m){return null!==d0m&&d0m.Top.y==X0m&&null===d0m.NextInLML;};ClipperLib.Clipper.prototype.IsIntermediate=function(W0m,U0m){return W0m.Top.y==U0m&&null!==W0m.NextInLML;};ClipperLib.Clipper.prototype.GetMaximaPair=function(e0m){var G0m=null;ClipperLib.IntPoint.op_Equality(e0m.Next.Top,e0m.Top)&&null===e0m.Next.NextInLML?G0m=e0m.Next:ClipperLib.IntPoint.op_Equality(e0m.Prev.Top,e0m.Top)&&null===e0m.Prev.NextInLML&&(G0m=e0m.Prev);return null===G0m||-2!=G0m.OutIdx&&(G0m.NextInAEL!=G0m.PrevInAEL||ClipperLib.ClipperBase.IsHorizontal(G0m))?G0m:null;};ClipperLib.Clipper.prototype.ProcessIntersections=function(F0m){if(null==this.m_ActiveEdges){return true;}try{this.BuildIntersectList(F0m);if(0==this.m_IntersectList.length){return true;}if(1==this.m_IntersectList.length||this.FixupIntersectionOrder()){this.ProcessIntersectList();}else{return false;}}catch(p0m){this.m_SortedEdges=null,this.m_IntersectList.length=0,ClipperLib.Error("ProcessIntersections error");}this.m_SortedEdges=null;return true;};ClipperLib.Clipper.prototype.BuildIntersectList=function(v0m){var R0m=this;if(null!==this.m_ActiveEdges){var V0m=this.m_ActiveEdges;for(this.m_SortedEdges=V0m;null!==V0m;){V0m.PrevInSEL=V0m.PrevInAEL,V0m.NextInSEL=V0m.NextInAEL,V0m.Curr.x=ClipperLib.Clipper.TopX(V0m,v0m),V0m=V0m.NextInAEL;}for(var P0m=true;P0m&&null!==this.m_SortedEdges;){P0m=false;for(V0m=this.m_SortedEdges;null!==V0m.NextInSEL;){v0m=V0m.NextInSEL;var L0m=new ClipperLib.IntPoint();V0m.Curr.x>v0m.Curr.x?(R0m.IntersectPoint(V0m,v0m,L0m),P0m=new ClipperLib.IntersectNode(),P0m.Edge1=V0m,P0m.Edge2=v0m,P0m.Pt.x=L0m.x,P0m.Pt.y=L0m.y,ClipperLib.use_xyz&&(P0m.Pt.Z=L0m.Z),R0m.m_IntersectList.push(P0m),R0m.SwapPositionsInSEL(V0m,v0m),P0m=true):V0m=v0m;}if(null!==V0m.PrevInSEL){V0m.PrevInSEL.NextInSEL=null;}else{break;}}this.m_SortedEdges=null;}};ClipperLib.Clipper.prototype.EdgesAdjacent=function(i0m){return i0m.Edge1.NextInSEL==i0m.Edge2||i0m.Edge1.PrevInSEL==i0m.Edge2;};ClipperLib.Clipper.IntersectNodeSort=function(a0m,x0m){return x0m.Pt.y-a0m.Pt.y;};ClipperLib.Clipper.prototype.FixupIntersectionOrder=function(){var k0m=this;this.m_IntersectList.sort(this.m_IntersectNodeComparer);this.CopyAELToSEL();for(var A0m=this.m_IntersectList.length,w0m=0;w0m<A0m;w0m++){if(!k0m.EdgesAdjacent(k0m.m_IntersectList[w0m])){for(var Y0m=w0m+1;Y0m<A0m&&!this.EdgesAdjacent(this.m_IntersectList[Y0m]);){Y0m++;}if(Y0m==A0m){return false;}var r3m=k0m.m_IntersectList[w0m];k0m.m_IntersectList[w0m]=k0m.m_IntersectList[Y0m];k0m.m_IntersectList[Y0m]=r3m;}k0m.SwapPositionsInSEL(k0m.m_IntersectList[w0m].Edge1,k0m.m_IntersectList[w0m].Edge2);}return true;};ClipperLib.Clipper.prototype.ProcessIntersectList=function(){var n3m=this;for(var I3m=0,T3m=this.m_IntersectList.length;I3m<T3m;I3m++){var s3m=n3m.m_IntersectList[I3m];n3m.IntersectEdges(s3m.Edge1,s3m.Edge2,s3m.Pt);n3m.SwapPositionsInAEL(s3m.Edge1,s3m.Edge2);}this.m_IntersectList.length=0;};V6W=function(c3m){return 0>c3m?Math.ceil(c3m-.5):Math.round(c3m);};P6W=function(M3m){return 0>M3m?Math.ceil(M3m-.5):Math.floor(M3m+.5);};v6W=function(o3m){return 0>o3m?-Math.round(Math.abs(o3m)):Math.round(o3m);};L6W=function(O3m){if(0>O3m){return O3m-=.5,-2147483648>O3m?Math.ceil(O3m):O3m|0;}O3m+=.5;return 2147483647<O3m?Math.floor(O3m):O3m|0;};ClipperLib.Clipper.Round=l6W?V6W:F6W?v6W:i6W?L6W:P6W;ClipperLib.Clipper.TopX=function(g3m,h3m){return h3m==g3m.Top.y?g3m.Top.x:g3m.Bot.x+ClipperLib.Clipper.Round(g3m.Dx*(h3m-g3m.Bot.y));};ClipperLib.Clipper.prototype.IntersectPoint=function(H3m,q3m,y3m){y3m.x=0;y3m.y=0;var Z3m,E3m;if(H3m.Dx==q3m.Dx){y3m.y=H3m.Curr.y,y3m.x=ClipperLib.Clipper.TopX(H3m,y3m.y);}else{if(0===H3m.Delta.x){y3m.x=H3m.Bot.x,ClipperLib.ClipperBase.IsHorizontal(q3m)?y3m.y=q3m.Bot.y:(E3m=q3m.Bot.y-q3m.Bot.x/q3m.Dx,y3m.y=ClipperLib.Clipper.Round(y3m.x/q3m.Dx+E3m));}else if(0===q3m.Delta.x){y3m.x=q3m.Bot.x,ClipperLib.ClipperBase.IsHorizontal(H3m)?y3m.y=H3m.Bot.y:(Z3m=H3m.Bot.y-H3m.Bot.x/H3m.Dx,y3m.y=ClipperLib.Clipper.Round(y3m.x/H3m.Dx+Z3m));}else{Z3m=H3m.Bot.x-H3m.Bot.y*H3m.Dx;E3m=q3m.Bot.x-q3m.Bot.y*q3m.Dx;var u3m=(E3m-Z3m)/(H3m.Dx-q3m.Dx);y3m.y=ClipperLib.Clipper.Round(u3m);y3m.x=Math.abs(H3m.Dx)<Math.abs(q3m.Dx)?ClipperLib.Clipper.Round(H3m.Dx*u3m+Z3m):ClipperLib.Clipper.Round(q3m.Dx*u3m+E3m);}if(y3m.y<H3m.Top.y||y3m.y<q3m.Top.y){if(H3m.Top.y>q3m.Top.y){return y3m.y=H3m.Top.y,y3m.x=ClipperLib.Clipper.TopX(q3m,H3m.Top.y),y3m.x<H3m.Top.x;}y3m.y=q3m.Top.y;y3m.x=Math.abs(H3m.Dx)<Math.abs(q3m.Dx)?ClipperLib.Clipper.TopX(H3m,y3m.y):ClipperLib.Clipper.TopX(q3m,y3m.y);}y3m.y>H3m.Curr.y&&(y3m.y=H3m.Curr.y,y3m.x=Math.abs(H3m.Dx)>Math.abs(q3m.Dx)?ClipperLib.Clipper.TopX(q3m,y3m.y):ClipperLib.Clipper.TopX(H3m,y3m.y));}};ClipperLib.Clipper.prototype.ProcessEdgesAtTopOfScanbeam=function(t3m){var S3m=this;for(var j3m=this.m_ActiveEdges;null!==j3m;){var K3m=S3m.IsMaxima(j3m,t3m);K3m&&(K3m=S3m.GetMaximaPair(j3m),K3m=null===K3m||!ClipperLib.ClipperBase.IsHorizontal(K3m));if(K3m){var J3m=j3m.PrevInAEL;S3m.DoMaxima(j3m);j3m=null===J3m?S3m.m_ActiveEdges:J3m.NextInAEL;}else{S3m.IsIntermediate(j3m,t3m)&&ClipperLib.ClipperBase.IsHorizontal(j3m.NextInLML)?(j3m=S3m.UpdateEdgeIntoAEL(j3m),0<=j3m.OutIdx&&S3m.AddOutPt(j3m,j3m.Bot),S3m.AddEdgeToSEL(j3m)):(j3m.Curr.x=ClipperLib.Clipper.TopX(j3m,t3m),j3m.Curr.y=t3m);if(S3m.StrictlySimple&&(J3m=j3m.PrevInAEL,0<=j3m.OutIdx&&0!==j3m.WindDelta&&null!==J3m&&0<=J3m.OutIdx&&J3m.Curr.x==j3m.Curr.x&&0!==J3m.WindDelta)){var b3m=new ClipperLib.IntPoint(j3m.Curr);ClipperLib.use_xyz&&S3m.SetZ(b3m,J3m,j3m);K3m=S3m.AddOutPt(J3m,b3m);J3m=S3m.AddOutPt(j3m,b3m);S3m.AddJoin(K3m,J3m,b3m);}j3m=j3m.NextInAEL;}}this.ProcessHorizontals(true);for(j3m=this.m_ActiveEdges;null!==j3m;){S3m.IsIntermediate(j3m,t3m)&&(K3m=null,0<=j3m.OutIdx&&(K3m=S3m.AddOutPt(j3m,j3m.Top)),j3m=S3m.UpdateEdgeIntoAEL(j3m),J3m=j3m.PrevInAEL,b3m=j3m.NextInAEL,null!==J3m&&J3m.Curr.x==j3m.Bot.x&&J3m.Curr.y==j3m.Bot.y&&null!==K3m&&0<=J3m.OutIdx&&J3m.Curr.y>J3m.Top.y&&ClipperLib.ClipperBase.SlopesEqual(j3m,J3m,S3m.m_UseFullRange)&&0!==j3m.WindDelta&&0!==J3m.WindDelta?(J3m=S3m.AddOutPt(J3m,j3m.Bot),S3m.AddJoin(K3m,J3m,j3m.Top)):null!==b3m&&b3m.Curr.x==j3m.Bot.x&&b3m.Curr.y==j3m.Bot.y&&null!==K3m&&0<=b3m.OutIdx&&b3m.Curr.y>b3m.Top.y&&ClipperLib.ClipperBase.SlopesEqual(j3m,b3m,S3m.m_UseFullRange)&&0!==j3m.WindDelta&&0!==b3m.WindDelta&&(J3m=S3m.AddOutPt(b3m,j3m.Bot),S3m.AddJoin(K3m,J3m,j3m.Top))),j3m=j3m.NextInAEL;}};ClipperLib.Clipper.prototype.DoMaxima=function(C3m){var B3m=this;var N3m=this.GetMaximaPair(C3m);if(null===N3m){0<=C3m.OutIdx&&this.AddOutPt(C3m,C3m.Top),this.DeleteFromAEL(C3m);}else{for(var f3m=C3m.NextInAEL;null!==f3m&&f3m!=N3m;){B3m.IntersectEdges(C3m,f3m,C3m.Top),B3m.SwapPositionsInAEL(C3m,f3m),f3m=C3m.NextInAEL;}-1==C3m.OutIdx&&-1==N3m.OutIdx?(this.DeleteFromAEL(C3m),this.DeleteFromAEL(N3m)):0<=C3m.OutIdx&&0<=N3m.OutIdx?(0<=C3m.OutIdx&&this.AddLocalMaxPoly(C3m,N3m,C3m.Top),this.DeleteFromAEL(C3m),this.DeleteFromAEL(N3m)):ClipperLib.use_lines&&0===C3m.WindDelta?(0<=C3m.OutIdx&&(this.AddOutPt(C3m,C3m.Top),C3m.OutIdx=-1),this.DeleteFromAEL(C3m),0<=N3m.OutIdx&&(this.AddOutPt(N3m,C3m.Top),N3m.OutIdx=-1),this.DeleteFromAEL(N3m)):ClipperLib.Error("DoMaxima error");}};ClipperLib.Clipper.ReversePaths=function(l3m){for(var m3m=0,Q3m=l3m.length;m3m<Q3m;m3m++){l3m[m3m].reverse();}};ClipperLib.Clipper.Orientation=function(z3m){return 0<=ClipperLib.Clipper.Area(z3m);};ClipperLib.Clipper.prototype.PointCount=function(d3m){if(null===d3m){return 0;}var X3m=0,D3m=d3m;do{X3m++,D3m=D3m.Next;}while(D3m!=d3m);return X3m;};ClipperLib.Clipper.prototype.BuildResult=function(V3m){var F3m=this;ClipperLib.Clear(V3m);for(var U3m=0,P3m=this.m_PolyOuts.length;U3m<P3m;U3m++){var W3m=F3m.m_PolyOuts[U3m];if(null!==W3m.Pts){var W3m=W3m.Pts.Prev,G3m=F3m.PointCount(W3m);if(!(2>G3m)){for(var p3m=Array(G3m),e3m=0;e3m<G3m;e3m++){p3m[e3m]=W3m.Pt,W3m=W3m.Prev;}V3m.push(p3m);}}}};ClipperLib.Clipper.prototype.BuildResult2=function(x3m){var R3m=this;x3m.Clear();for(var L3m=0,k3m=this.m_PolyOuts.length;L3m<k3m;L3m++){var v3m=R3m.m_PolyOuts[L3m],i3m=R3m.PointCount(v3m.Pts);if(!(v3m.IsOpen&&2>i3m||!v3m.IsOpen&&3>i3m)){R3m.FixHoleLinkage(v3m);var a3m=new ClipperLib.PolyNode();x3m.m_AllPolys.push(a3m);v3m.PolyNode=a3m;a3m.m_polygon.length=i3m;for(var v3m=v3m.Pts.Prev,w3m=0;w3m<i3m;w3m++){a3m.m_polygon[w3m]=v3m.Pt,v3m=v3m.Prev;}}}L3m=0;for(k3m=this.m_PolyOuts.length;L3m<k3m;L3m++){v3m=R3m.m_PolyOuts[L3m],null!==v3m.PolyNode&&(v3m.IsOpen?(v3m.PolyNode.IsOpen=true,x3m.AddChild(v3m.PolyNode)):null!==v3m.FirstLeft&&null!=v3m.FirstLeft.PolyNode?v3m.FirstLeft.PolyNode.AddChild(v3m.PolyNode):x3m.AddChild(v3m.PolyNode));}};ClipperLib.Clipper.prototype.FixupOutPolygon=function(r5m){var s5m=this;var A3m=null;r5m.BottomPt=null;for(var Y3m=r5m.Pts;;){if(Y3m.Prev==Y3m||Y3m.Prev==Y3m.Next){r5m.Pts=null;return;}if(ClipperLib.IntPoint.op_Equality(Y3m.Pt,Y3m.Next.Pt)||ClipperLib.IntPoint.op_Equality(Y3m.Pt,Y3m.Prev.Pt)||ClipperLib.ClipperBase.SlopesEqual(Y3m.Prev.Pt,Y3m.Pt,Y3m.Next.Pt,s5m.m_UseFullRange)&&(!s5m.PreserveCollinear||!s5m.Pt2IsBetweenPt1AndPt3(Y3m.Prev.Pt,Y3m.Pt,Y3m.Next.Pt))){A3m=null,Y3m.Prev.Next=Y3m.Next,Y3m=Y3m.Next.Prev=Y3m.Prev;}else if(Y3m==A3m){break;}else{null===A3m&&(A3m=Y3m),Y3m=Y3m.Next;}}r5m.Pts=Y3m;};ClipperLib.Clipper.prototype.DupOutPt=function(I5m,T5m){var n5m=new ClipperLib.OutPt();n5m.Pt.x=I5m.Pt.x;n5m.Pt.y=I5m.Pt.y;ClipperLib.use_xyz&&(n5m.Pt.Z=I5m.Pt.Z);n5m.Idx=I5m.Idx;T5m?(n5m.Next=I5m.Next,n5m.Prev=I5m,I5m.Next.Prev=n5m,I5m.Next=n5m):(n5m.Prev=I5m.Prev,n5m.Next=I5m,I5m.Prev.Next=n5m,I5m.Prev=n5m);return n5m;};ClipperLib.Clipper.prototype.GetOverlap=function(O5m,g5m,M5m,o5m,c5m){O5m<g5m?M5m<o5m?(c5m.Left=Math.max(O5m,M5m),c5m.Right=Math.min(g5m,o5m)):(c5m.Left=Math.max(O5m,o5m),c5m.Right=Math.min(g5m,M5m)):M5m<o5m?(c5m.Left=Math.max(g5m,M5m),c5m.Right=Math.min(O5m,o5m)):(c5m.Left=Math.max(g5m,o5m),c5m.Right=Math.min(O5m,M5m));return c5m.Left<c5m.Right;};ClipperLib.Clipper.prototype.JoinHorz=function(h5m,Z5m,y5m,q5m,H5m,E5m){var u5m=h5m.Pt.x>Z5m.Pt.x?ClipperLib.Direction.dRightToLeft:ClipperLib.Direction.dLeftToRight;q5m=y5m.Pt.x>q5m.Pt.x?ClipperLib.Direction.dRightToLeft:ClipperLib.Direction.dLeftToRight;if(u5m==q5m){return false;}if(u5m==ClipperLib.Direction.dLeftToRight){for(;h5m.Next.Pt.x<=H5m.x&&h5m.Next.Pt.x>=h5m.Pt.x&&h5m.Next.Pt.y==H5m.y;){h5m=h5m.Next;}E5m&&h5m.Pt.x!=H5m.x&&(h5m=h5m.Next);Z5m=this.DupOutPt(h5m,!E5m);ClipperLib.IntPoint.op_Inequality(Z5m.Pt,H5m)&&(h5m=Z5m,h5m.Pt.x=H5m.x,h5m.Pt.y=H5m.y,ClipperLib.use_xyz&&(h5m.Pt.Z=H5m.Z),Z5m=this.DupOutPt(h5m,!E5m));}else{for(;h5m.Next.Pt.x>=H5m.x&&h5m.Next.Pt.x<=h5m.Pt.x&&h5m.Next.Pt.y==H5m.y;){h5m=h5m.Next;}E5m||h5m.Pt.x==H5m.x||(h5m=h5m.Next);Z5m=this.DupOutPt(h5m,E5m);ClipperLib.IntPoint.op_Inequality(Z5m.Pt,H5m)&&(h5m=Z5m,h5m.Pt.x=H5m.x,h5m.Pt.y=H5m.y,ClipperLib.use_xyz&&(h5m.Pt.Z=H5m.Z),Z5m=this.DupOutPt(h5m,E5m));}if(q5m==ClipperLib.Direction.dLeftToRight){for(;y5m.Next.Pt.x<=H5m.x&&y5m.Next.Pt.x>=y5m.Pt.x&&y5m.Next.Pt.y==H5m.y;){y5m=y5m.Next;}E5m&&y5m.Pt.x!=H5m.x&&(y5m=y5m.Next);q5m=this.DupOutPt(y5m,!E5m);ClipperLib.IntPoint.op_Inequality(q5m.Pt,H5m)&&(y5m=q5m,y5m.Pt.x=H5m.x,y5m.Pt.y=H5m.y,ClipperLib.use_xyz&&(y5m.Pt.Z=H5m.Z),q5m=this.DupOutPt(y5m,!E5m));}else{for(;y5m.Next.Pt.x>=H5m.x&&y5m.Next.Pt.x<=y5m.Pt.x&&y5m.Next.Pt.y==H5m.y;){y5m=y5m.Next;}E5m||y5m.Pt.x==H5m.x||(y5m=y5m.Next);q5m=this.DupOutPt(y5m,E5m);ClipperLib.IntPoint.op_Inequality(q5m.Pt,H5m)&&(y5m=q5m,y5m.Pt.x=H5m.x,y5m.Pt.y=H5m.y,ClipperLib.use_xyz&&(y5m.Pt.Z=H5m.Z),q5m=this.DupOutPt(y5m,E5m));}u5m==ClipperLib.Direction.dLeftToRight==E5m?(h5m.Prev=y5m,y5m.Next=h5m,Z5m.Next=q5m,q5m.Prev=Z5m):(h5m.Next=y5m,y5m.Prev=h5m,Z5m.Prev=q5m,q5m.Next=Z5m);return true;};ClipperLib.Clipper.prototype.JoinPoints=function(b5m,C5m,t5m){var S5m=b5m.OutPt1,j5m;new ClipperLib.OutPt();var K5m=b5m.OutPt2,J5m;new ClipperLib.OutPt();if((J5m=b5m.OutPt1.Pt.y==b5m.OffPt.y)&&ClipperLib.IntPoint.op_Equality(b5m.OffPt,b5m.OutPt1.Pt)&&ClipperLib.IntPoint.op_Equality(b5m.OffPt,b5m.OutPt2.Pt)){if(C5m!=t5m){return false;}for(j5m=b5m.OutPt1.Next;j5m!=S5m&&ClipperLib.IntPoint.op_Equality(j5m.Pt,b5m.OffPt);){j5m=j5m.Next;}j5m=j5m.Pt.y>b5m.OffPt.y;for(J5m=b5m.OutPt2.Next;J5m!=K5m&&ClipperLib.IntPoint.op_Equality(J5m.Pt,b5m.OffPt);){J5m=J5m.Next;}if(j5m==J5m.Pt.y>b5m.OffPt.y){return false;}j5m?(j5m=this.DupOutPt(S5m,false),J5m=this.DupOutPt(K5m,true),S5m.Prev=K5m,K5m.Next=S5m,j5m.Next=J5m,J5m.Prev=j5m):(j5m=this.DupOutPt(S5m,true),J5m=this.DupOutPt(K5m,false),S5m.Next=K5m,K5m.Prev=S5m,j5m.Prev=J5m,J5m.Next=j5m);b5m.OutPt1=S5m;b5m.OutPt2=j5m;return true;}if(J5m){for(j5m=S5m;S5m.Prev.Pt.y==S5m.Pt.y&&S5m.Prev!=j5m&&S5m.Prev!=K5m;){S5m=S5m.Prev;}for(;j5m.Next.Pt.y==j5m.Pt.y&&j5m.Next!=S5m&&j5m.Next!=K5m;){j5m=j5m.Next;}if(j5m.Next==S5m||j5m.Next==K5m){return false;}for(J5m=K5m;K5m.Prev.Pt.y==K5m.Pt.y&&K5m.Prev!=J5m&&K5m.Prev!=j5m;){K5m=K5m.Prev;}for(;J5m.Next.Pt.y==J5m.Pt.y&&J5m.Next!=K5m&&J5m.Next!=S5m;){J5m=J5m.Next;}if(J5m.Next==K5m||J5m.Next==S5m){return false;}t5m={Left:null,Right:null};if(!this.GetOverlap(S5m.Pt.x,j5m.Pt.x,K5m.Pt.x,J5m.Pt.x,t5m)){return false;}C5m=t5m.Left;var N5m=t5m.Right;t5m=new ClipperLib.IntPoint();S5m.Pt.x>=C5m&&S5m.Pt.x<=N5m?(t5m.x=S5m.Pt.x,t5m.y=S5m.Pt.y,ClipperLib.use_xyz&&(t5m.Z=S5m.Pt.Z),C5m=S5m.Pt.x>j5m.Pt.x):K5m.Pt.x>=C5m&&K5m.Pt.x<=N5m?(t5m.x=K5m.Pt.x,t5m.y=K5m.Pt.y,ClipperLib.use_xyz&&(t5m.Z=K5m.Pt.Z),C5m=K5m.Pt.x>J5m.Pt.x):j5m.Pt.x>=C5m&&j5m.Pt.x<=N5m?(t5m.x=j5m.Pt.x,t5m.y=j5m.Pt.y,ClipperLib.use_xyz&&(t5m.Z=j5m.Pt.Z),C5m=j5m.Pt.x>S5m.Pt.x):(t5m.x=J5m.Pt.x,t5m.y=J5m.Pt.y,ClipperLib.use_xyz&&(t5m.Z=J5m.Pt.Z),C5m=J5m.Pt.x>K5m.Pt.x);b5m.OutPt1=S5m;b5m.OutPt2=K5m;return this.JoinHorz(S5m,j5m,K5m,J5m,t5m,C5m);}for(j5m=S5m.Next;ClipperLib.IntPoint.op_Equality(j5m.Pt,S5m.Pt)&&j5m!=S5m;){j5m=j5m.Next;}if(N5m=j5m.Pt.y>S5m.Pt.y||!ClipperLib.ClipperBase.SlopesEqual(S5m.Pt,j5m.Pt,b5m.OffPt,this.m_UseFullRange)){for(j5m=S5m.Prev;ClipperLib.IntPoint.op_Equality(j5m.Pt,S5m.Pt)&&j5m!=S5m;){j5m=j5m.Prev;}if(j5m.Pt.y>S5m.Pt.y||!ClipperLib.ClipperBase.SlopesEqual(S5m.Pt,j5m.Pt,b5m.OffPt,this.m_UseFullRange)){return false;}}for(J5m=K5m.Next;ClipperLib.IntPoint.op_Equality(J5m.Pt,K5m.Pt)&&J5m!=K5m;){J5m=J5m.Next;}var f5m=J5m.Pt.y>K5m.Pt.y||!ClipperLib.ClipperBase.SlopesEqual(K5m.Pt,J5m.Pt,b5m.OffPt,this.m_UseFullRange);if(f5m){for(J5m=K5m.Prev;ClipperLib.IntPoint.op_Equality(J5m.Pt,K5m.Pt)&&J5m!=K5m;){J5m=J5m.Prev;}if(J5m.Pt.y>K5m.Pt.y||!ClipperLib.ClipperBase.SlopesEqual(K5m.Pt,J5m.Pt,b5m.OffPt,this.m_UseFullRange)){return false;}}if(j5m==S5m||J5m==K5m||j5m==J5m||C5m==t5m&&N5m==f5m){return false;}N5m?(j5m=this.DupOutPt(S5m,false),J5m=this.DupOutPt(K5m,true),S5m.Prev=K5m,K5m.Next=S5m,j5m.Next=J5m,J5m.Prev=j5m):(j5m=this.DupOutPt(S5m,true),J5m=this.DupOutPt(K5m,false),S5m.Next=K5m,K5m.Prev=S5m,j5m.Prev=J5m,J5m.Next=j5m);b5m.OutPt1=S5m;b5m.OutPt2=j5m;return true;};ClipperLib.Clipper.GetBounds=function(l5m){for(var B5m=0,z5m=l5m.length;B5m<z5m&&0==l5m[B5m].length;){B5m++;}if(B5m==z5m){return new ClipperLib.IntRect(0,0,0,0);}var m5m=new ClipperLib.IntRect();m5m.left=l5m[B5m][0].x;m5m.right=m5m.left;m5m.top=l5m[B5m][0].y;for(m5m.bottom=m5m.top;B5m<z5m;B5m++){for(var Q5m=0,D5m=l5m[B5m].length;Q5m<D5m;Q5m++){l5m[B5m][Q5m].x<m5m.left?m5m.left=l5m[B5m][Q5m].x:l5m[B5m][Q5m].x>m5m.right&&(m5m.right=l5m[B5m][Q5m].x),l5m[B5m][Q5m].y<m5m.top?m5m.top=l5m[B5m][Q5m].y:l5m[B5m][Q5m].y>m5m.bottom&&(m5m.bottom=l5m[B5m][Q5m].y);}}return m5m;};ClipperLib.Clipper.prototype.GetBounds2=function(d5m){var W5m=d5m,X5m=new ClipperLib.IntRect();X5m.left=d5m.Pt.x;X5m.right=d5m.Pt.x;X5m.top=d5m.Pt.y;X5m.bottom=d5m.Pt.y;for(d5m=d5m.Next;d5m!=W5m;){d5m.Pt.x<X5m.left&&(X5m.left=d5m.Pt.x),d5m.Pt.x>X5m.right&&(X5m.right=d5m.Pt.x),d5m.Pt.y<X5m.top&&(X5m.top=d5m.Pt.y),d5m.Pt.y>X5m.bottom&&(X5m.bottom=d5m.Pt.y),d5m=d5m.Next;}return X5m;};ClipperLib.Clipper.PointInPolygon=function(U5m,P5m){var F5m=0,v5m=P5m.length;if(3>v5m){return 0;}for(var e5m=P5m[0],V5m=1;V5m<=v5m;++V5m){var G5m=V5m==v5m?P5m[0]:P5m[V5m];if(G5m.y==U5m.y&&(G5m.x==U5m.x||e5m.y==U5m.y&&G5m.x>U5m.x==e5m.x<U5m.x)){return-1;}if(e5m.y<U5m.y!=G5m.y<U5m.y){if(e5m.x>=U5m.x){if(G5m.x>U5m.x){F5m=1-F5m;}else{var p5m=(e5m.x-U5m.x)*(G5m.y-U5m.y)-(G5m.x-U5m.x)*(e5m.y-U5m.y);if(0==p5m){return-1;}0<p5m==G5m.y>e5m.y&&(F5m=1-F5m);}}else if(G5m.x>U5m.x){p5m=(e5m.x-U5m.x)*(G5m.y-U5m.y)-(G5m.x-U5m.x)*(e5m.y-U5m.y);if(0==p5m){return-1;}0<p5m==G5m.y>e5m.y&&(F5m=1-F5m);}}e5m=G5m;}return F5m;};ClipperLib.Clipper.prototype.PointInPolygon=function(R5m,a5m){var x5m=0,A5m=a5m,i5m=R5m.x;R5m=R5m.y;var L5m=a5m.Pt.x,k5m=a5m.Pt.y;do{a5m=a5m.Next;var w5m=a5m.Pt.x,Y5m=a5m.Pt.y;if(Y5m==R5m&&(w5m==i5m||k5m==R5m&&w5m>i5m==L5m<i5m)){return-1;}if(k5m<R5m!=Y5m<R5m){if(L5m>=i5m){if(w5m>i5m){x5m=1-x5m;}else{L5m=(L5m-i5m)*(Y5m-R5m)-(w5m-i5m)*(k5m-R5m);if(0==L5m){return-1;}0<L5m==Y5m>k5m&&(x5m=1-x5m);}}else if(w5m>i5m){L5m=(L5m-i5m)*(Y5m-R5m)-(w5m-i5m)*(k5m-R5m);if(0==L5m){return-1;}0<L5m==Y5m>k5m&&(x5m=1-x5m);}}L5m=w5m;k5m=Y5m;}while(A5m!=a5m);return x5m;};ClipperLib.Clipper.prototype.Poly2ContainsPoly1=function(n9m,T9m){var I9m=this;var r9m=n9m;do{var s9m=I9m.PointInPolygon(r9m.Pt,T9m);if(0<=s9m){return 0<s9m;}r9m=r9m.Next;}while(r9m!=n9m);return true;};ClipperLib.Clipper.prototype.FixupFirstLefts1=function(h9m,O9m){var M9m=this;for(var o9m=0,g9m=this.m_PolyOuts.length;o9m<g9m;o9m++){var c9m=M9m.m_PolyOuts[o9m];null!=c9m.Pts&&null!=c9m.FirstLeft&&M9m.ParseFirstLeft(c9m.FirstLeft)==h9m&&M9m.Poly2ContainsPoly1(c9m.Pts,O9m.Pts)&&(c9m.FirstLeft=O9m);}};ClipperLib.Clipper.prototype.FixupFirstLefts2=function(E9m,u9m){for(var y9m=0,H9m=this.m_PolyOuts,Z9m=H9m.length,q9m=H9m[y9m];y9m<Z9m;y9m++,q9m=H9m[y9m]){q9m.FirstLeft==E9m&&(q9m.FirstLeft=u9m);}};ClipperLib.Clipper.ParseFirstLeft=function(j9m){for(;null!=j9m&&null==j9m.Pts;){j9m=j9m.FirstLeft;}return j9m;};ClipperLib.Clipper.prototype.JoinCommonEdges=function(){var K9m=this;for(var N9m=0,f9m=this.m_Joins.length;N9m<f9m;N9m++){var b9m=K9m.m_Joins[N9m],S9m=K9m.GetOutRec(b9m.OutPt1.Idx),J9m=K9m.GetOutRec(b9m.OutPt2.Idx);if(null!=S9m.Pts&&null!=J9m.Pts){var t9m;t9m=S9m==J9m?S9m:K9m.Param1RightOfParam2(S9m,J9m)?J9m:K9m.Param1RightOfParam2(J9m,S9m)?S9m:K9m.GetLowermostRec(S9m,J9m);if(K9m.JoinPoints(b9m,S9m,J9m)){if(S9m==J9m){S9m.Pts=b9m.OutPt1;S9m.BottomPt=null;J9m=K9m.CreateOutRec();J9m.Pts=b9m.OutPt2;K9m.UpdateOutPtIdxs(J9m);if(K9m.m_UsingPolyTree){t9m=0;for(var B9m=this.m_PolyOuts.length;t9m<B9m-1;t9m++){var C9m=K9m.m_PolyOuts[t9m];null!=C9m.Pts&&ClipperLib.Clipper.ParseFirstLeft(C9m.FirstLeft)==S9m&&C9m.IsHole!=S9m.IsHole&&K9m.Poly2ContainsPoly1(C9m.Pts,b9m.OutPt2)&&(C9m.FirstLeft=J9m);}}K9m.Poly2ContainsPoly1(J9m.Pts,S9m.Pts)?(J9m.IsHole=!S9m.IsHole,J9m.FirstLeft=S9m,K9m.m_UsingPolyTree&&K9m.FixupFirstLefts2(J9m,S9m),(J9m.IsHole^K9m.ReverseSolution)==0<K9m.Area(J9m)&&K9m.ReversePolyPtLinks(J9m.Pts)):K9m.Poly2ContainsPoly1(S9m.Pts,J9m.Pts)?(J9m.IsHole=S9m.IsHole,S9m.IsHole=!J9m.IsHole,J9m.FirstLeft=S9m.FirstLeft,S9m.FirstLeft=J9m,K9m.m_UsingPolyTree&&K9m.FixupFirstLefts2(S9m,J9m),(S9m.IsHole^K9m.ReverseSolution)==0<K9m.Area(S9m)&&K9m.ReversePolyPtLinks(S9m.Pts)):(J9m.IsHole=S9m.IsHole,J9m.FirstLeft=S9m.FirstLeft,K9m.m_UsingPolyTree&&K9m.FixupFirstLefts1(S9m,J9m));}else{J9m.Pts=null,J9m.BottomPt=null,J9m.Idx=S9m.Idx,S9m.IsHole=t9m.IsHole,t9m==J9m&&(S9m.FirstLeft=J9m.FirstLeft),J9m.FirstLeft=S9m,K9m.m_UsingPolyTree&&K9m.FixupFirstLefts2(J9m,S9m);}}}}};ClipperLib.Clipper.prototype.UpdateOutPtIdxs=function(l9m){var m9m=l9m.Pts;do{m9m.Idx=l9m.Idx,m9m=m9m.Prev;}while(m9m!=l9m.Pts);};ClipperLib.Clipper.prototype.DoSimplePolygons=function(){var d9m=this;for(var W9m=0;W9m<this.m_PolyOuts.length;){var Q9m=d9m.m_PolyOuts[W9m++],D9m=Q9m.Pts;if(null!=D9m&&!Q9m.IsOpen){do{for(var X9m=D9m.Next;X9m!=Q9m.Pts;){if(ClipperLib.IntPoint.op_Equality(D9m.Pt,X9m.Pt)&&X9m.Next!=D9m&&X9m.Prev!=D9m){var z9m=D9m.Prev,U9m=X9m.Prev;D9m.Prev=U9m;U9m.Next=D9m;X9m.Prev=z9m;z9m.Next=X9m;Q9m.Pts=D9m;z9m=d9m.CreateOutRec();z9m.Pts=X9m;d9m.UpdateOutPtIdxs(z9m);d9m.Poly2ContainsPoly1(z9m.Pts,Q9m.Pts)?(z9m.IsHole=!Q9m.IsHole,z9m.FirstLeft=Q9m,d9m.m_UsingPolyTree&&d9m.FixupFirstLefts2(z9m,Q9m)):d9m.Poly2ContainsPoly1(Q9m.Pts,z9m.Pts)?(z9m.IsHole=Q9m.IsHole,Q9m.IsHole=!z9m.IsHole,z9m.FirstLeft=Q9m.FirstLeft,Q9m.FirstLeft=z9m,d9m.m_UsingPolyTree&&d9m.FixupFirstLefts2(Q9m,z9m)):(z9m.IsHole=Q9m.IsHole,z9m.FirstLeft=Q9m.FirstLeft,d9m.m_UsingPolyTree&&d9m.FixupFirstLefts1(Q9m,z9m));X9m=D9m;}X9m=X9m.Next;}D9m=D9m.Next;}while(D9m!=Q9m.Pts);}}};ClipperLib.Clipper.Area=function(e9m){var F9m=e9m.length;if(3>F9m){return 0;}for(var V9m=0,G9m=0,p9m=F9m-1;G9m<F9m;++G9m){V9m+=(e9m[p9m].x+e9m[G9m].x)*(e9m[p9m].y-e9m[G9m].y),p9m=G9m;}return.5*-V9m;};ClipperLib.Clipper.prototype.Area=function(L9m){var P9m=L9m.Pts;if(null==P9m){return 0;}var v9m=0;do{v9m+=(P9m.Prev.Pt.x+P9m.Pt.x)*(P9m.Prev.Pt.y-P9m.Pt.y),P9m=P9m.Next;}while(P9m!=L9m.Pts);return.5*v9m;};ClipperLib.Clipper.SimplifyPolygon=function(x9m,a9m){var i9m=[],R9m=new ClipperLib.Clipper(0);R9m.StrictlySimple=true;R9m.AddPath(x9m,ClipperLib.PolyType.ptSubject,true);R9m.Execute(ClipperLib.ClipType.ctUnion,i9m,a9m,a9m);return i9m;};ClipperLib.Clipper.SimplifyPolygons=function(A9m,k9m){"undefined"==typeof k9m&&(k9m=ClipperLib.PolyFillType.pftEvenOdd);var Y9m=[],w9m=new ClipperLib.Clipper(0);w9m.StrictlySimple=true;w9m.AddPaths(A9m,ClipperLib.PolyType.ptSubject,true);w9m.Execute(ClipperLib.ClipType.ctUnion,Y9m,k9m,k9m);return Y9m;};ClipperLib.Clipper.DistanceSqrd=function(r1m,n1m){var s1m=r1m.x-n1m.x;r1m=r1m.y-n1m.y;return s1m*s1m+r1m*r1m;};ClipperLib.Clipper.DistanceFromLineSqrd=function(M1m,I1m,T1m){var c1m=I1m.y-T1m.y;T1m=T1m.x-I1m.x;I1m=c1m*I1m.x+T1m*I1m.y;I1m=c1m*M1m.x+T1m*M1m.y-I1m;return I1m*I1m/(c1m*c1m+T1m*T1m);};ClipperLib.Clipper.SlopesNearCollinear=function(o1m,O1m,g1m,h1m){return Math.abs(o1m.x-O1m.x)>Math.abs(o1m.y-O1m.y)?o1m.x>O1m.x==o1m.x<g1m.x?ClipperLib.Clipper.DistanceFromLineSqrd(o1m,O1m,g1m)<h1m:O1m.x>o1m.x==O1m.x<g1m.x?ClipperLib.Clipper.DistanceFromLineSqrd(O1m,o1m,g1m)<h1m:ClipperLib.Clipper.DistanceFromLineSqrd(g1m,o1m,O1m)<h1m:o1m.y>O1m.y==o1m.y<g1m.y?ClipperLib.Clipper.DistanceFromLineSqrd(o1m,O1m,g1m)<h1m:O1m.y>o1m.y==O1m.y<g1m.y?ClipperLib.Clipper.DistanceFromLineSqrd(O1m,o1m,g1m)<h1m:ClipperLib.Clipper.DistanceFromLineSqrd(g1m,o1m,O1m)<h1m;};ClipperLib.Clipper.PointsAreClose=function(y1m,q1m,Z1m){var H1m=y1m.x-q1m.x;y1m=y1m.y-q1m.y;return H1m*H1m+y1m*y1m<=Z1m;};ClipperLib.Clipper.ExcludeOp=function(u1m){var E1m=u1m.Prev;E1m.Next=u1m.Next;u1m.Next.Prev=E1m;E1m.Idx=0;return E1m;};ClipperLib.Clipper.CleanPolygon=function(K1m,b1m){"undefined"==typeof b1m&&(b1m=1.415);var S1m=K1m.length;if(0==S1m){return[];}for(var j1m=Array(S1m),J1m=0;J1m<S1m;++J1m){j1m[J1m]=new ClipperLib.OutPt();}for(J1m=0;J1m<S1m;++J1m){j1m[J1m].Pt=K1m[J1m],j1m[J1m].Next=j1m[(J1m+1)%S1m],j1m[J1m].Next.Prev=j1m[J1m],j1m[J1m].Idx=0;}J1m=b1m*b1m;for(j1m=j1m[0];0==j1m.Idx&&j1m.Next!=j1m.Prev;){ClipperLib.Clipper.PointsAreClose(j1m.Pt,j1m.Prev.Pt,J1m)?(j1m=ClipperLib.Clipper.ExcludeOp(j1m),S1m--):ClipperLib.Clipper.PointsAreClose(j1m.Prev.Pt,j1m.Next.Pt,J1m)?(ClipperLib.Clipper.ExcludeOp(j1m.Next),j1m=ClipperLib.Clipper.ExcludeOp(j1m),S1m-=2):ClipperLib.Clipper.SlopesNearCollinear(j1m.Prev.Pt,j1m.Pt,j1m.Next.Pt,J1m)?(j1m=ClipperLib.Clipper.ExcludeOp(j1m),S1m--):(j1m.Idx=1,j1m=j1m.Next);}3>S1m&&(S1m=0);K1m=Array(S1m);for(J1m=0;J1m<S1m;++J1m){K1m[J1m]=new ClipperLib.IntPoint(j1m.Pt),j1m=j1m.Next;}return K1m;};ClipperLib.Clipper.CleanPolygons=function(C1m,B1m){for(var N1m=Array(C1m.length),t1m=0,f1m=C1m.length;t1m<f1m;t1m++){N1m[t1m]=ClipperLib.Clipper.CleanPolygon(C1m[t1m],B1m);}return N1m;};ClipperLib.Clipper.Minkowski=function(z1m,Q1m,l1m,e1m){e1m=e1m?1:0;var d1m=z1m.length,D1m=Q1m.length,W1m=[];if(l1m){for(l1m=0;l1m<D1m;l1m++){for(var U1m=Array(d1m),m1m=0,G1m=z1m.length,X1m=z1m[m1m];m1m<G1m;m1m++,X1m=z1m[m1m]){U1m[m1m]=new ClipperLib.IntPoint(Q1m[l1m].x+X1m.x,Q1m[l1m].y+X1m.y);}W1m.push(U1m);}}else{for(l1m=0;l1m<D1m;l1m++){U1m=Array(d1m);m1m=0;G1m=z1m.length;for(X1m=z1m[m1m];m1m<G1m;m1m++,X1m=z1m[m1m]){U1m[m1m]=new ClipperLib.IntPoint(Q1m[l1m].x-X1m.x,Q1m[l1m].y-X1m.y);}W1m.push(U1m);}}z1m=[];for(l1m=0;l1m<D1m-1+e1m;l1m++){for(m1m=0;m1m<d1m;m1m++){Q1m=[],Q1m.push(W1m[l1m%D1m][m1m%d1m]),Q1m.push(W1m[(l1m+1)%D1m][m1m%d1m]),Q1m.push(W1m[(l1m+1)%D1m][(m1m+1)%d1m]),Q1m.push(W1m[l1m%D1m][(m1m+1)%d1m]),ClipperLib.Clipper.Orientation(Q1m)||Q1m.reverse(),z1m.push(Q1m);}}return z1m;};ClipperLib.Clipper.MinkowskiSum=function(L1m,V1m,R1m){if(V1m[0]instanceof Array){p1m=V1m;V1m=new ClipperLib.Paths();for(var F1m=new ClipperLib.Clipper(),P1m=0;P1m<p1m.length;++P1m){var v1m=ClipperLib.Clipper.Minkowski(L1m,p1m[P1m],true,R1m);F1m.AddPaths(v1m,ClipperLib.PolyType.ptSubject,true);R1m&&(v1m=ClipperLib.Clipper.TranslatePath(p1m[P1m],L1m[0]),F1m.AddPath(v1m,ClipperLib.PolyType.ptClip,true));}F1m.Execute(ClipperLib.ClipType.ctUnion,V1m,ClipperLib.PolyFillType.pftNonZero,ClipperLib.PolyFillType.pftNonZero);return V1m;}var p1m=ClipperLib.Clipper.Minkowski(L1m,V1m,true,R1m),F1m=new ClipperLib.Clipper();F1m.AddPaths(p1m,ClipperLib.PolyType.ptSubject,true);F1m.Execute(ClipperLib.ClipType.ctUnion,p1m,ClipperLib.PolyFillType.pftNonZero,ClipperLib.PolyFillType.pftNonZero);return p1m;};ClipperLib.Clipper.TranslatePath=function(a1m,k1m){for(var x1m=new ClipperLib.Path(),i1m=0;i1m<a1m.length;i1m++){x1m.push(new ClipperLib.IntPoint(a1m[i1m].x+k1m.x,a1m[i1m].y+k1m.y));}return x1m;};ClipperLib.Clipper.MinkowskiDiff=function(w1m,Y1m){w1m=ClipperLib.Clipper.Minkowski(w1m,Y1m,false,true);Y1m=new ClipperLib.Clipper();Y1m.AddPaths(w1m,ClipperLib.PolyType.ptSubject,true);Y1m.Execute(ClipperLib.ClipType.ctUnion,w1m,ClipperLib.PolyFillType.pftNonZero,ClipperLib.PolyFillType.pftNonZero);return w1m;};ClipperLib.Clipper.PolyTreeToPaths=function(r4m){var A1m=[];ClipperLib.Clipper.AddPolyNodeToPaths(r4m,ClipperLib.Clipper.NodeType.ntAny,A1m);return A1m;};ClipperLib.Clipper.AddPolyNodeToPaths=function(s4m,T4m,c4m){var n4m=true;switch(T4m){case ClipperLib.Clipper.NodeType.ntOpen:return;case ClipperLib.Clipper.NodeType.ntClosed:n4m=!s4m.IsOpen;}0<s4m.m_polygon.length&&n4m&&c4m.push(s4m.m_polygon);n4m=0;s4m=s4m.Childs();for(var M4m=s4m.length,I4m=s4m[n4m];n4m<M4m;n4m++,I4m=s4m[n4m]){ClipperLib.Clipper.AddPolyNodeToPaths(I4m,T4m,c4m);}};ClipperLib.Clipper.OpenPathsFromPolyTree=function(O4m){for(var g4m=new ClipperLib.Paths(),o4m=0,h4m=O4m.ChildCount();o4m<h4m;o4m++){O4m.Childs()[o4m].IsOpen&&g4m.push(O4m.Childs()[o4m].m_polygon);}return g4m;};ClipperLib.Clipper.ClosedPathsFromPolyTree=function(H4m){var y4m=new ClipperLib.Paths();ClipperLib.Clipper.AddPolyNodeToPaths(H4m,ClipperLib.Clipper.NodeType.ntClosed,y4m);return y4m;};Q6W(ClipperLib.Clipper,ClipperLib.ClipperBase);ClipperLib.Clipper.NodeType={ntAny:0,ntOpen:1,ntClosed:2};ClipperLib.ClipperOffset=function(q4m,Z4m){"undefined"==typeof q4m&&(q4m=2);"undefined"==typeof Z4m&&(Z4m=ClipperLib.ClipperOffset.def_arc_tolerance);this.m_destPolys=new ClipperLib.Paths();this.m_srcPoly=new ClipperLib.Path();this.m_destPoly=new ClipperLib.Path();this.m_normals=[];this.m_StepsPerRad=this.m_miterLim=this.m_cos=this.m_sin=this.m_sinA=this.m_delta=0;this.m_lowest=new ClipperLib.IntPoint();this.m_polyNodes=new ClipperLib.PolyNode();this.MiterLimit=q4m;this.ArcTolerance=Z4m;this.m_lowest.x=-1;};ClipperLib.ClipperOffset.two_pi=6.28318530717959;ClipperLib.ClipperOffset.def_arc_tolerance=.25;ClipperLib.ClipperOffset.prototype.Clear=function(){ClipperLib.Clear(this.m_polyNodes.Childs());this.m_lowest.x=-1;};ClipperLib.ClipperOffset.Round=ClipperLib.Clipper.Round;ClipperLib.ClipperOffset.prototype.AddPath=function(E4m,j4m,K4m){var S4m=E4m.length-1;if(!(0>S4m)){var u4m=new ClipperLib.PolyNode();u4m.m_jointype=j4m;u4m.m_endtype=K4m;if(K4m==ClipperLib.EndType.etClosedLine||K4m==ClipperLib.EndType.etClosedPolygon){for(;0<S4m&&ClipperLib.IntPoint.op_Equality(E4m[0],E4m[S4m]);){S4m--;}}u4m.m_polygon.push(E4m[0]);var b4m=0;j4m=0;for(var J4m=1;J4m<=S4m;J4m++){ClipperLib.IntPoint.op_Inequality(u4m.m_polygon[b4m],E4m[J4m])&&(b4m++,u4m.m_polygon.push(E4m[J4m]),E4m[J4m].y>u4m.m_polygon[j4m].y||E4m[J4m].y==u4m.m_polygon[j4m].y&&E4m[J4m].x<u4m.m_polygon[j4m].x)&&(j4m=b4m);}if(!(K4m==ClipperLib.EndType.etClosedPolygon&&2>b4m)&&(this.m_polyNodes.AddChild(u4m),K4m==ClipperLib.EndType.etClosedPolygon)){if(0>this.m_lowest.x){this.m_lowest=new ClipperLib.IntPoint(this.m_polyNodes.ChildCount()-1,j4m);}else if(E4m=this.m_polyNodes.Childs()[this.m_lowest.x].m_polygon[this.m_lowest.y],u4m.m_polygon[j4m].y>E4m.y||u4m.m_polygon[j4m].y==E4m.y&&u4m.m_polygon[j4m].x<E4m.x){this.m_lowest=new ClipperLib.IntPoint(this.m_polyNodes.ChildCount()-1,j4m);}}}};ClipperLib.ClipperOffset.prototype.AddPaths=function(C4m,B4m,m4m){var N4m=this;for(var t4m=0,f4m=C4m.length;t4m<f4m;t4m++){N4m.AddPath(C4m[t4m],B4m,m4m);}};ClipperLib.ClipperOffset.prototype.FixOrientations=function(){var z4m=this;if(0<=this.m_lowest.x&&!ClipperLib.Clipper.Orientation(this.m_polyNodes.Childs()[this.m_lowest.x].m_polygon)){for(var Q4m=0;Q4m<this.m_polyNodes.ChildCount();Q4m++){var l4m=z4m.m_polyNodes.Childs()[Q4m];(l4m.m_endtype==ClipperLib.EndType.etClosedPolygon||l4m.m_endtype==ClipperLib.EndType.etClosedLine&&ClipperLib.Clipper.Orientation(l4m.m_polygon))&&l4m.m_polygon.reverse();}}else{for(Q4m=0;Q4m<this.m_polyNodes.ChildCount();Q4m++){l4m=z4m.m_polyNodes.Childs()[Q4m],l4m.m_endtype!=ClipperLib.EndType.etClosedLine||ClipperLib.Clipper.Orientation(l4m.m_polygon)||l4m.m_polygon.reverse();}}};ClipperLib.ClipperOffset.GetUnitNormal=function(D4m,d4m){var X4m=d4m.x-D4m.x;D4m=d4m.y-D4m.y;if(0==X4m&&0==D4m){return new ClipperLib.DoublePoint(0,0);}d4m=1/Math.sqrt(X4m*X4m+D4m*D4m);return new ClipperLib.DoublePoint(D4m*d4m,-(X4m*d4m));};ClipperLib.ClipperOffset.prototype.DoOffset=function(p4m){var W4m=this;this.m_destPolys=[];this.m_delta=p4m;if(ClipperLib.ClipperBase.near_zero(p4m)){for(var V4m=0;V4m<this.m_polyNodes.ChildCount();V4m++){var G4m=W4m.m_polyNodes.Childs()[V4m];G4m.m_endtype==ClipperLib.EndType.etClosedPolygon&&W4m.m_destPolys.push(G4m.m_polygon);}}else{this.m_miterLim=2<this.MiterLimit?2/(this.MiterLimit*this.MiterLimit):.5;var P4m=3.14159265358979/Math.acos(1-(0>=this.ArcTolerance?ClipperLib.ClipperOffset.def_arc_tolerance:this.ArcTolerance>Math.abs(p4m)*ClipperLib.ClipperOffset.def_arc_tolerance?Math.abs(p4m)*ClipperLib.ClipperOffset.def_arc_tolerance:this.ArcTolerance)/Math.abs(p4m));this.m_sin=Math.sin(ClipperLib.ClipperOffset.two_pi/P4m);this.m_cos=Math.cos(ClipperLib.ClipperOffset.two_pi/P4m);this.m_StepsPerRad=P4m/ClipperLib.ClipperOffset.two_pi;0>p4m&&(this.m_sin=-this.m_sin);for(V4m=0;V4m<this.m_polyNodes.ChildCount();V4m++){G4m=W4m.m_polyNodes.Childs()[V4m];W4m.m_srcPoly=G4m.m_polygon;var F4m=W4m.m_srcPoly.length;if(!(0==F4m||0>=p4m&&(3>F4m||G4m.m_endtype!=ClipperLib.EndType.etClosedPolygon))){W4m.m_destPoly=[];if(1==F4m){if(G4m.m_jointype==ClipperLib.JoinType.jtRound){for(var G4m=1,F4m=0,U4m=1;U4m<=P4m;U4m++){W4m.m_destPoly.push(new ClipperLib.IntPoint(ClipperLib.ClipperOffset.Round(W4m.m_srcPoly[0].x+G4m*p4m),ClipperLib.ClipperOffset.Round(W4m.m_srcPoly[0].y+F4m*p4m)));var e4m=G4m,G4m=G4m*W4m.m_cos-W4m.m_sin*F4m,F4m=e4m*W4m.m_sin+F4m*W4m.m_cos;}}else{for(F4m=G4m=-1,U4m=0;4>U4m;++U4m){W4m.m_destPoly.push(new ClipperLib.IntPoint(ClipperLib.ClipperOffset.Round(W4m.m_srcPoly[0].x+G4m*p4m),ClipperLib.ClipperOffset.Round(W4m.m_srcPoly[0].y+F4m*p4m))),0>G4m?G4m=1:0>F4m?F4m=1:G4m=-1;}}}else{for(U4m=this.m_normals.length=0;U4m<F4m-1;U4m++){W4m.m_normals.push(ClipperLib.ClipperOffset.GetUnitNormal(W4m.m_srcPoly[U4m],W4m.m_srcPoly[U4m+1]));}G4m.m_endtype==ClipperLib.EndType.etClosedLine||G4m.m_endtype==ClipperLib.EndType.etClosedPolygon?W4m.m_normals.push(ClipperLib.ClipperOffset.GetUnitNormal(W4m.m_srcPoly[F4m-1],W4m.m_srcPoly[0])):W4m.m_normals.push(new ClipperLib.DoublePoint(W4m.m_normals[F4m-2]));if(G4m.m_endtype==ClipperLib.EndType.etClosedPolygon){for(e4m=F4m-1,U4m=0;U4m<F4m;U4m++){e4m=W4m.OffsetPoint(U4m,e4m,G4m.m_jointype);}}else if(G4m.m_endtype==ClipperLib.EndType.etClosedLine){e4m=F4m-1;for(U4m=0;U4m<F4m;U4m++){e4m=W4m.OffsetPoint(U4m,e4m,G4m.m_jointype);}W4m.m_destPolys.push(W4m.m_destPoly);W4m.m_destPoly=[];e4m=W4m.m_normals[F4m-1];for(U4m=F4m-1;0<U4m;U4m--){W4m.m_normals[U4m]=new ClipperLib.DoublePoint(-W4m.m_normals[U4m-1].x,-W4m.m_normals[U4m-1].y);}W4m.m_normals[0]=new ClipperLib.DoublePoint(-e4m.x,-e4m.y);e4m=0;for(U4m=F4m-1;0<=U4m;U4m--){e4m=W4m.OffsetPoint(U4m,e4m,G4m.m_jointype);}}else{e4m=0;for(U4m=1;U4m<F4m-1;++U4m){e4m=W4m.OffsetPoint(U4m,e4m,G4m.m_jointype);}G4m.m_endtype==ClipperLib.EndType.etOpenButt?(U4m=F4m-1,e4m=new ClipperLib.IntPoint(ClipperLib.ClipperOffset.Round(W4m.m_srcPoly[U4m].x+W4m.m_normals[U4m].x*p4m),ClipperLib.ClipperOffset.Round(W4m.m_srcPoly[U4m].y+W4m.m_normals[U4m].y*p4m)),W4m.m_destPoly.push(e4m),e4m=new ClipperLib.IntPoint(ClipperLib.ClipperOffset.Round(W4m.m_srcPoly[U4m].x-W4m.m_normals[U4m].x*p4m),ClipperLib.ClipperOffset.Round(W4m.m_srcPoly[U4m].y-W4m.m_normals[U4m].y*p4m)),W4m.m_destPoly.push(e4m)):(U4m=F4m-1,e4m=F4m-2,W4m.m_sinA=0,W4m.m_normals[U4m]=new ClipperLib.DoublePoint(-W4m.m_normals[U4m].x,-W4m.m_normals[U4m].y),G4m.m_endtype==ClipperLib.EndType.etOpenSquare?W4m.DoSquare(U4m,e4m):W4m.DoRound(U4m,e4m));for(U4m=F4m-1;0<U4m;U4m--){W4m.m_normals[U4m]=new ClipperLib.DoublePoint(-W4m.m_normals[U4m-1].x,-W4m.m_normals[U4m-1].y);}W4m.m_normals[0]=new ClipperLib.DoublePoint(-W4m.m_normals[1].x,-W4m.m_normals[1].y);e4m=F4m-1;for(U4m=e4m-1;0<U4m;--U4m){e4m=W4m.OffsetPoint(U4m,e4m,G4m.m_jointype);}G4m.m_endtype==ClipperLib.EndType.etOpenButt?(e4m=new ClipperLib.IntPoint(ClipperLib.ClipperOffset.Round(W4m.m_srcPoly[0].x-W4m.m_normals[0].x*p4m),ClipperLib.ClipperOffset.Round(W4m.m_srcPoly[0].y-W4m.m_normals[0].y*p4m)),W4m.m_destPoly.push(e4m),e4m=new ClipperLib.IntPoint(ClipperLib.ClipperOffset.Round(W4m.m_srcPoly[0].x+W4m.m_normals[0].x*p4m),ClipperLib.ClipperOffset.Round(W4m.m_srcPoly[0].y+W4m.m_normals[0].y*p4m)),W4m.m_destPoly.push(e4m)):(W4m.m_sinA=0,G4m.m_endtype==ClipperLib.EndType.etOpenSquare?W4m.DoSquare(0,1):W4m.DoRound(0,1));}}W4m.m_destPolys.push(W4m.m_destPoly);}}}};ClipperLib.ClipperOffset.prototype.Execute=function(){var L4m=arguments;if(L4m[0]instanceof ClipperLib.PolyTree){if(R4m=L4m[0],v4m=L4m[1],R4m.Clear(),this.FixOrientations(),this.DoOffset(v4m),L4m=new ClipperLib.Clipper(0),L4m.AddPaths(this.m_destPolys,ClipperLib.PolyType.ptSubject,true),0<v4m){L4m.Execute(ClipperLib.ClipType.ctUnion,R4m,ClipperLib.PolyFillType.pftPositive,ClipperLib.PolyFillType.pftPositive);}else if(v4m=ClipperLib.Clipper.GetBounds(this.m_destPolys),i4m=new ClipperLib.Path(),i4m.push(new ClipperLib.IntPoint(v4m.left-10,v4m.bottom+10)),i4m.push(new ClipperLib.IntPoint(v4m.right+10,v4m.bottom+10)),i4m.push(new ClipperLib.IntPoint(v4m.right+10,v4m.top-10)),i4m.push(new ClipperLib.IntPoint(v4m.left-10,v4m.top-10)),L4m.AddPath(i4m,ClipperLib.PolyType.ptSubject,true),L4m.ReverseSolution=true,L4m.Execute(ClipperLib.ClipType.ctUnion,R4m,ClipperLib.PolyFillType.pftNegative,ClipperLib.PolyFillType.pftNegative),1==R4m.ChildCount()&&0<R4m.Childs()[0].ChildCount()){for(L4m=R4m.Childs()[0],R4m.Childs()[0]=L4m.Childs()[0],R4m.Childs()[0].m_Parent=R4m,v4m=1;v4m<L4m.ChildCount();v4m++){R4m.AddChild(L4m.Childs()[v4m]);}}else{R4m.Clear();}}else{var R4m=L4m[0],v4m=L4m[1];ClipperLib.Clear(R4m);this.FixOrientations();this.DoOffset(v4m);L4m=new ClipperLib.Clipper(0);L4m.AddPaths(this.m_destPolys,ClipperLib.PolyType.ptSubject,true);if(0<v4m){L4m.Execute(ClipperLib.ClipType.ctUnion,R4m,ClipperLib.PolyFillType.pftPositive,ClipperLib.PolyFillType.pftPositive);}else{var v4m=ClipperLib.Clipper.GetBounds(this.m_destPolys),i4m=new ClipperLib.Path();i4m.push(new ClipperLib.IntPoint(v4m.left-10,v4m.bottom+10));i4m.push(new ClipperLib.IntPoint(v4m.right+10,v4m.bottom+10));i4m.push(new ClipperLib.IntPoint(v4m.right+10,v4m.top-10));i4m.push(new ClipperLib.IntPoint(v4m.left-10,v4m.top-10));L4m.AddPath(i4m,ClipperLib.PolyType.ptSubject,true);L4m.ReverseSolution=true;L4m.Execute(ClipperLib.ClipType.ctUnion,R4m,ClipperLib.PolyFillType.pftNegative,ClipperLib.PolyFillType.pftNegative);0<R4m.length&&R4m.splice(0,1);}}};ClipperLib.ClipperOffset.prototype.OffsetPoint=function(a4m,x4m,k4m){this.m_sinA=this.m_normals[x4m].x*this.m_normals[a4m].y-this.m_normals[a4m].x*this.m_normals[x4m].y;if(1>Math.abs(this.m_sinA*this.m_delta)){if(0<this.m_normals[x4m].x*this.m_normals[a4m].x+this.m_normals[a4m].y*this.m_normals[x4m].y){return this.m_destPoly.push(new ClipperLib.IntPoint(ClipperLib.ClipperOffset.Round(this.m_srcPoly[a4m].x+this.m_normals[x4m].x*this.m_delta),ClipperLib.ClipperOffset.Round(this.m_srcPoly[a4m].y+this.m_normals[x4m].y*this.m_delta))),x4m;}}else{1<this.m_sinA?this.m_sinA=1:-1>this.m_sinA&&(this.m_sinA=-1);}if(0>this.m_sinA*this.m_delta){this.m_destPoly.push(new ClipperLib.IntPoint(ClipperLib.ClipperOffset.Round(this.m_srcPoly[a4m].x+this.m_normals[x4m].x*this.m_delta),ClipperLib.ClipperOffset.Round(this.m_srcPoly[a4m].y+this.m_normals[x4m].y*this.m_delta))),this.m_destPoly.push(new ClipperLib.IntPoint(this.m_srcPoly[a4m])),this.m_destPoly.push(new ClipperLib.IntPoint(ClipperLib.ClipperOffset.Round(this.m_srcPoly[a4m].x+this.m_normals[a4m].x*this.m_delta),ClipperLib.ClipperOffset.Round(this.m_srcPoly[a4m].y+this.m_normals[a4m].y*this.m_delta)));}else{switch(k4m){case ClipperLib.JoinType.jtMiter:k4m=1+(this.m_normals[a4m].x*this.m_normals[x4m].x+this.m_normals[a4m].y*this.m_normals[x4m].y);k4m>=this.m_miterLim?this.DoMiter(a4m,x4m,k4m):this.DoSquare(a4m,x4m);break;case ClipperLib.JoinType.jtSquare:this.DoSquare(a4m,x4m);break;case ClipperLib.JoinType.jtRound:this.DoRound(a4m,x4m);}}return a4m;};ClipperLib.ClipperOffset.prototype.DoSquare=function(w4m,Y4m){var A4m=Math.tan(Math.atan2(this.m_sinA,this.m_normals[Y4m].x*this.m_normals[w4m].x+this.m_normals[Y4m].y*this.m_normals[w4m].y)/4);this.m_destPoly.push(new ClipperLib.IntPoint(ClipperLib.ClipperOffset.Round(this.m_srcPoly[w4m].x+this.m_delta*(this.m_normals[Y4m].x-this.m_normals[Y4m].y*A4m)),ClipperLib.ClipperOffset.Round(this.m_srcPoly[w4m].y+this.m_delta*(this.m_normals[Y4m].y+this.m_normals[Y4m].x*A4m))));this.m_destPoly.push(new ClipperLib.IntPoint(ClipperLib.ClipperOffset.Round(this.m_srcPoly[w4m].x+this.m_delta*(this.m_normals[w4m].x+this.m_normals[w4m].y*A4m)),ClipperLib.ClipperOffset.Round(this.m_srcPoly[w4m].y+this.m_delta*(this.m_normals[w4m].y-this.m_normals[w4m].x*A4m))));};ClipperLib.ClipperOffset.prototype.DoMiter=function(r7m,n7m,s7m){s7m=this.m_delta/s7m;this.m_destPoly.push(new ClipperLib.IntPoint(ClipperLib.ClipperOffset.Round(this.m_srcPoly[r7m].x+(this.m_normals[n7m].x+this.m_normals[r7m].x)*s7m),ClipperLib.ClipperOffset.Round(this.m_srcPoly[r7m].y+(this.m_normals[n7m].y+this.m_normals[r7m].y)*s7m)));};ClipperLib.ClipperOffset.prototype.DoRound=function(c7m,T7m){var I7m=this;var O7m=Math.max(ClipperLib.Cast_Int32(ClipperLib.ClipperOffset.Round(this.m_StepsPerRad*Math.abs(Math.atan2(this.m_sinA,this.m_normals[T7m].x*this.m_normals[c7m].x+this.m_normals[T7m].y*this.m_normals[c7m].y)))),1),M7m=this.m_normals[T7m].x;T7m=this.m_normals[T7m].y;for(var g7m,o7m=0;o7m<O7m;++o7m){I7m.m_destPoly.push(new ClipperLib.IntPoint(ClipperLib.ClipperOffset.Round(I7m.m_srcPoly[c7m].x+M7m*I7m.m_delta),ClipperLib.ClipperOffset.Round(I7m.m_srcPoly[c7m].y+T7m*I7m.m_delta))),g7m=M7m,M7m=M7m*I7m.m_cos-I7m.m_sin*T7m,T7m=g7m*I7m.m_sin+T7m*I7m.m_cos;}this.m_destPoly.push(new ClipperLib.IntPoint(ClipperLib.ClipperOffset.Round(this.m_srcPoly[c7m].x+this.m_normals[c7m].x*this.m_delta),ClipperLib.ClipperOffset.Round(this.m_srcPoly[c7m].y+this.m_normals[c7m].y*this.m_delta)));};ClipperLib.Error=function(h7m){try{throw Error(h7m);}catch(y7m){alert(y7m.message);}};ClipperLib.JS={};ClipperLib.JS.AreaOfPolygon=function(q7m,H7m){H7m||(H7m=1);return ClipperLib.Clipper.Area(q7m)/(H7m*H7m);};ClipperLib.JS.AreaOfPolygons=function(j7m,Z7m){Z7m||(Z7m=1);for(var u7m=0,E7m=0;E7m<j7m.length;E7m++){u7m+=ClipperLib.Clipper.Area(j7m[E7m]);}return u7m/(Z7m*Z7m);};ClipperLib.JS.BoundsOfPath=function(J7m,S7m){return ClipperLib.JS.BoundsOfPaths([J7m],S7m);};ClipperLib.JS.BoundsOfPaths=function(K7m,b7m){b7m||(b7m=1);K7m=ClipperLib.Clipper.GetBounds(K7m);K7m.left/=b7m;K7m.bottom/=b7m;K7m.right/=b7m;K7m.top/=b7m;return K7m;};ClipperLib.JS.Clean=function(C7m,z7m){if(!(C7m instanceof Array)){return[];}var D7m=C7m[0]instanceof Array;C7m=ClipperLib.JS.Clone(C7m);if("number"!=typeof z7m||null===z7m){return ClipperLib.Error("Delta is not a number in Clean()."),C7m;}if(0===C7m.length||1==C7m.length&&0===C7m[0].length||0>z7m){return C7m;}D7m||(C7m=[C7m]);for(var W7m=C7m.length,Q7m,t7m,l7m,X7m,f7m,m7m,B7m,N7m=[],d7m=0;d7m<W7m;d7m++){if(t7m=C7m[d7m],Q7m=t7m.length,0!==Q7m){if(3>Q7m){l7m=t7m,N7m.push(l7m);}else{l7m=t7m;X7m=z7m*z7m;f7m=t7m[0];for(B7m=m7m=1;B7m<Q7m;B7m++){(t7m[B7m].x-f7m.x)*(t7m[B7m].x-f7m.x)+(t7m[B7m].y-f7m.y)*(t7m[B7m].y-f7m.y)<=X7m||(l7m[m7m]=t7m[B7m],f7m=t7m[B7m],m7m++);}f7m=t7m[m7m-1];(t7m[0].x-f7m.x)*(t7m[0].x-f7m.x)+(t7m[0].y-f7m.y)*(t7m[0].y-f7m.y)<=X7m&&m7m--;m7m<Q7m&&l7m.splice(m7m,Q7m-m7m);l7m.length&&N7m.push(l7m);}}}!D7m&&N7m.length?N7m=N7m[0]:D7m||0!==N7m.length?D7m&&0===N7m.length&&(N7m=[[]]):N7m=[];return N7m;};ClipperLib.JS.Clone=function(U7m){if(!(U7m instanceof Array)||0===U7m.length){return[];}if(1==U7m.length&&0===U7m[0].length){return[[]];}var p7m=U7m[0]instanceof Array;p7m||(U7m=[U7m]);var V7m=U7m.length,P7m,G7m,e7m,v7m,F7m=Array(V7m);for(G7m=0;G7m<V7m;G7m++){P7m=U7m[G7m].length;v7m=Array(P7m);for(e7m=0;e7m<P7m;e7m++){v7m[e7m]={X:U7m[G7m][e7m].x,Y:U7m[G7m][e7m].y};}F7m[G7m]=v7m;}p7m||(F7m=F7m[0]);return F7m;};ClipperLib.JS.Lighten=function(x7m,w7m){if(!(x7m instanceof Array)){return[];}if("number"!=typeof w7m||null===w7m){return ClipperLib.Error("Tolerance is not a number in Lighten()."),ClipperLib.JS.Clone(x7m);}if(0===x7m.length||1==x7m.length&&0===x7m[0].length||0>w7m){return ClipperLib.JS.Clone(x7m);}x7m[0]instanceof Array||(x7m=[x7m]);var R7m,L7m,o6m,a7m,i7m,k7m,A7m,T6m,c6m,M6m,Y7m,I6m,n6m,s6m,O6m=x7m.length,g6m=w7m*w7m,r6m=[];for(w7m=0;w7m<O6m;w7m++){if(L7m=x7m[w7m],i7m=L7m.length,0!=i7m){for(o6m=0;1E6>o6m;o6m++){a7m=[];i7m=L7m.length;L7m[i7m-1].x!=L7m[0].x||L7m[i7m-1].y!=L7m[0].y?(M6m=1,L7m.push({X:L7m[0].x,Y:L7m[0].y}),i7m=L7m.length):M6m=0;c6m=[];for(R7m=0;R7m<i7m-2;R7m++){k7m=L7m[R7m];T6m=L7m[R7m+1];A7m=L7m[R7m+2];n6m=k7m.x;s6m=k7m.y;k7m=A7m.x-n6m;Y7m=A7m.y-s6m;if(0!==k7m||0!==Y7m){I6m=((T6m.x-n6m)*k7m+(T6m.y-s6m)*Y7m)/(k7m*k7m+Y7m*Y7m),1<I6m?(n6m=A7m.x,s6m=A7m.y):0<I6m&&(n6m+=k7m*I6m,s6m+=Y7m*I6m);}k7m=T6m.x-n6m;Y7m=T6m.y-s6m;A7m=k7m*k7m+Y7m*Y7m;A7m<=g6m&&(c6m[R7m+1]=1,R7m++);}a7m.push({X:L7m[0].x,Y:L7m[0].y});for(R7m=1;R7m<i7m-1;R7m++){c6m[R7m]||a7m.push({X:L7m[R7m].x,Y:L7m[R7m].y});}a7m.push({X:L7m[i7m-1].x,Y:L7m[i7m-1].y});M6m&&L7m.pop();if(c6m.length){L7m=a7m;}else{break;}}i7m=a7m.length;a7m[i7m-1].x==a7m[0].x&&a7m[i7m-1].y==a7m[0].y&&a7m.pop();2<a7m.length&&r6m.push(a7m);}}x7m[0]instanceof Array||(r6m=r6m[0]);"undefined"==typeof r6m&&(r6m=[[]]);return r6m;};ClipperLib.JS.PerimeterOfPath=function(y6m,J6m,S6m){if("undefined"==typeof y6m){return 0;}var j6m=Math.sqrt,Z6m=0,q6m,H6m,u6m,E6m,h6m=y6m.length;if(2>h6m){return 0;}J6m&&(y6m[h6m]=y6m[0],h6m++);for(;--h6m;){q6m=y6m[h6m],u6m=q6m.x,q6m=q6m.y,H6m=y6m[h6m-1],E6m=H6m.x,H6m=H6m.y,Z6m+=j6m((u6m-E6m)*(u6m-E6m)+(q6m-H6m)*(q6m-H6m));}J6m&&y6m.pop();return Z6m/S6m;};ClipperLib.JS.PerimeterOfPaths=function(C6m,N6m,b6m){b6m||(b6m=1);for(var t6m=0,K6m=0;K6m<C6m.length;K6m++){t6m+=ClipperLib.JS.PerimeterOfPath(C6m[K6m],N6m,b6m);}return t6m;};ClipperLib.JS.ScaleDownPath=function(l6m,f6m){var B6m,m6m;f6m||(f6m=1);for(B6m=l6m.length;B6m--;){m6m=l6m[B6m],m6m.x/=f6m,m6m.y/=f6m;}};ClipperLib.JS.ScaleDownPaths=function(D6m,Q6m){var z6m,d6m,X6m;Q6m||(Q6m=1);for(z6m=D6m.length;z6m--;){for(d6m=D6m[z6m].length;d6m--;){X6m=D6m[z6m][d6m],X6m.x/=Q6m,X6m.y/=Q6m;}}};ClipperLib.JS.ScaleUpPath=function(F6m,U6m){var G6m,W6m,e6m=Math.round;U6m||(U6m=1);for(G6m=F6m.length;G6m--;){W6m=F6m[G6m],W6m.x=e6m(W6m.x*U6m),W6m.y=e6m(W6m.y*U6m);}};ClipperLib.JS.ScaleUpPaths=function(v6m,V6m){var P6m,L6m,p6m,R6m=Math.round;V6m||(V6m=1);for(P6m=v6m.length;P6m--;){for(L6m=v6m[P6m].length;L6m--;){p6m=v6m[P6m][L6m],p6m.x=R6m(p6m.x*V6m),p6m.y=R6m(p6m.y*V6m);}}};ClipperLib.ExPolygons=function(){return[];};ClipperLib.ExPolygon=function(){this.holes=this.outer=null;};ClipperLib.JS.AddOuterPolyNodeToExPolygons=function(i6m,r8n){var a6m=new ClipperLib.ExPolygon();a6m.outer=i6m.Contour();i6m=i6m.Childs();var Y6m=i6m.length;a6m.holes=Array(Y6m);var x6m,k6m,w6m,A6m,s8n;for(k6m=0;k6m<Y6m;k6m++){for(x6m=i6m[k6m],a6m.holes[k6m]=x6m.Contour(),w6m=0,A6m=x6m.Childs(),s8n=A6m.length;w6m<s8n;w6m++){x6m=A6m[w6m],ClipperLib.JS.AddOuterPolyNodeToExPolygons(x6m,r8n);}}r8n.push(a6m);};ClipperLib.JS.ExPolygonsToPaths=function(I8n){var n8n,T8n,M8n,o8n,c8n=new ClipperLib.Paths();n8n=0;for(M8n=I8n.length;n8n<M8n;n8n++){for(c8n.push(I8n[n8n].outer),T8n=0,o8n=I8n[n8n].holes.length;T8n<o8n;T8n++){c8n.push(I8n[n8n].holes[T8n]);}}return c8n;};ClipperLib.JS.PolyTreeToExPolygons=function(g8n){var h8n=new ClipperLib.ExPolygons(),O8n,y8n,H8n;O8n=0;y8n=g8n.Childs();for(H8n=y8n.length;O8n<H8n;O8n++){g8n=y8n[O8n],ClipperLib.JS.AddOuterPolyNodeToExPolygons(g8n,h8n);}return h8n;};}());void function(){sketch.tools.brush_arrow=function(C8n,Z8n){function t8n(N8n,f8n,B8n,m8n,l8n){N8n.moveTo(f8n.x,f8n.y);N8n.lineTo(B8n.x,B8n.y);N8n.lineTo(m8n.x,m8n.y);N8n.lineTo(l8n.x,l8n.y);N8n.closePath();}function J8n(z8n,Q8n,D8n,d8n){z8n.moveTo(Q8n.x,Q8n.y);z8n.lineTo(D8n.x,D8n.y);z8n.lineTo(d8n.x,d8n.y);D8n=q8n.distance(Q8n,d8n);Q8n=q8n.atTimeToRadius(Q8n,d8n,.5,.25*D8n);z8n.lineTo(Q8n.x,Q8n.y);z8n.closePath();}var E8n={},j8n=sketch.style,S8n=sketch.util,u8n=sketch.vector,K8n=sketch.Context2D,b8n=sketch.Matrix2D,q8n=sketch.Point;E8n.autoFill=!!Z8n.curved;E8n.ensurePathMovement=true;E8n.mode=Z8n.mode;E8n.pathSimplify={type:0,value:[15,1]};E8n.pathSmoothing={type:0,value:.5};Z8n.curved||(E8n.recordTwoPoints=true,E8n.recordTwoPointsRotation=true,E8n.ghostDistance=10);E8n.render=function(X8n,U8n){function p8n(){var P8n=U8n[0],v8n=U8n[e8n];if(P8n&&v8n){q8n.equals(P8n,v8n)&&(P8n.x-=S8n.ZERO,P8n.y-=S8n.ZERO);var R8n=.5*W8n,L8n=W8n/q8n.distance(P8n,v8n),i8n=Math.min(1.5,W8n/4*.25),a8n=void 0,x8n=void 0,k8n=void 0,Y8n=void 0;1===G8n?(a8n=q8n.atTimeToRadius(P8n,v8n,1,R8n),x8n=q8n.atTimeToRadius(P8n,v8n,1,-R8n),k8n=q8n.atTimeToRadius(P8n,v8n,-L8n,-i8n),Y8n=q8n.atTimeToRadius(P8n,v8n,-L8n,i8n)):2===G8n?(Y8n=q8n.atTimeToRadius(P8n,v8n,0,R8n),k8n=q8n.atTimeToRadius(P8n,v8n,0,-R8n),x8n=q8n.atTimeToRadius(P8n,v8n,1+L8n,-i8n),a8n=q8n.atTimeToRadius(P8n,v8n,1+L8n,i8n)):(a8n=q8n.atTimeToRadius(P8n,v8n,1,R8n),x8n=q8n.atTimeToRadius(P8n,v8n,1,-R8n),k8n=q8n.atTimeToRadius(P8n,v8n,0,-R8n),Y8n=q8n.atTimeToRadius(P8n,v8n,0,R8n));X8n.save();X8n.beginPath();X8n.lineCap="miter";X8n.lineWidth=F8n/4;X8n.miterLimit=20;var R8n=(Z8n.stroke||{}).enabled,w8n=i8n=void 0;R8n?(i8n=new u8n.Record(),w8n=new u8n.Record()):w8n=i8n=X8n;t8n(i8n,a8n,x8n,k8n,Y8n);k8n=x8n=a8n=void 0;if(1===G8n||3===G8n){a8n=q8n.atTimeToRadius(P8n,v8n,1-L8n,W8n),x8n=q8n.atTimeToRadius(P8n,v8n,1+L8n,0),k8n=q8n.atTimeToRadius(P8n,v8n,1-L8n,-W8n),J8n(w8n,a8n,x8n,k8n);}if(2===G8n||3===G8n){a8n=q8n.atTimeToRadius(P8n,v8n,L8n,W8n),x8n=q8n.atTimeToRadius(P8n,v8n,-L8n,0),k8n=q8n.atTimeToRadius(P8n,v8n,L8n,-W8n),J8n(w8n,k8n,x8n,a8n);}R8n&&u8n.clipper.clip([i8n.path],[w8n.path],"Union").forEach(function(A8n){sketch.drawPolygon(X8n,A8n);X8n.closePath();});L8n=Z8n.bbox.padding;Z8n.isCreating?(X8n.translate(P8n.x-L8n,P8n.y-L8n),P8n=q8n.angle(P8n,v8n),v8n=new q8n(L8n,L8n),L8n=new b8n(),L8n.rotateAt(P8n,v8n),L8n.applyTransform(X8n)):X8n.translate(-L8n,-L8n);j8n.apply(X8n,Z8n);X8n.restore();}}function V8n(){function c2n(g2n){var h2n=Z8n.padding;g2n.beginPath();sketch.drawPath(g2n,U8n);g2n.save();g2n.translate(-h2n,-h2n);j8n.applyStroke(g2n,I2n,Z8n,T2n);g2n.restore();g2n.save();g2n.beginPath();J8n(g2n,M2n,o2n,O2n);g2n.translate(-h2n,-h2n);j8n.applyFill(g2n,I2n,Z8n,T2n);g2n.restore();}var r2n=U8n[e8n],s2n=U8n[e8n];if(r2n&&s2n){for(;e8n--;){if(7<q8n.distance(s2n,U8n[e8n])){r2n=U8n[e8n];break;}}var n2n=q8n.distance(r2n,s2n),n2n=W8n/n2n,M2n=q8n.atTimeToRadius(r2n,s2n,1-n2n,W8n),o2n=q8n.atTimeToRadius(r2n,s2n,1+n2n,0),O2n=q8n.atTimeToRadius(r2n,s2n,1-n2n,-W8n),r2n=Z8n.bbox,s2n=Z8n.isCreating||Z8n.isEditingPath,T2n={x:s2n?r2n.x:-r2n.padding,y:s2n?r2n.y:-r2n.padding,opacity:1,lineWidth:F8n/4,width:r2n.width,height:r2n.height,scale:{x:1,y:1}},I2n=Z8n.stroke;1===I2n.opacity?c2n(X8n):(r2n=K8n.tempCheckout(X8n.canvas.width,X8n.canvas.height),b8n.applySetTransform(r2n,X8n.currentTransform),c2n(r2n),X8n.save(),X8n.setTransform(1,0,0,1,0,0),X8n.globalAlpha=I2n.opacity,X8n.drawImage(r2n.canvas,0,0),X8n.restore(),K8n.tempRecycle(r2n));}}var G8n=E8n.mode||1,F8n=Z8n.diameter,W8n=F8n/2,e8n=U8n.length-1;Z8n.curved?V8n():p8n();};return E8n;};}();void function(){sketch.tools.brush_calligraphy=function(u2n,q2n){var y2n={},H2n=sketch.Point,E2n=sketch.util.DEG_RAD,Z2n=Math.PI/2;y2n.pathSmoothing={type:0,value:.5};y2n.useAlphaCache=true;y2n.drawStart=function(){q2n.env.incrementTipAngle=0;};y2n.drawChange=function(){var K2n=q2n.diameter/2,j2n=y2n.priorPoint,S2n=y2n.x-j2n.x,J2n=y2n.y-j2n.y,J2n=0===Math.sqrt(S2n*S2n+J2n*J2n)?0:Z2n+Math.atan2(J2n,S2n),S2n=Math.sin(J2n-Z2n),J2n=Math.cos(J2n-Z2n),j2n=new H2n(j2n.x-.25*J2n,j2n.y-.25*S2n),b2n=new H2n(y2n.x+.25*J2n,y2n.y+.25*S2n),t2n=(Number.isFinite(q2n.tipAngle)?q2n.tipAngle+0:-45)*E2n+y2n.twist,S2n=H2n.atAngleDistance(j2n,t2n,-K2n),J2n=H2n.atAngleDistance(b2n,t2n,-K2n),b2n=H2n.atAngleDistance(b2n,t2n,K2n),K2n=H2n.atAngleDistance(j2n,t2n,K2n),j2n=y2n.context;j2n.globalCompositeOperation="source-over";j2n.beginPath();j2n.moveTo(S2n.x,S2n.y);j2n.lineTo(J2n.x,J2n.y);j2n.lineTo(b2n.x,b2n.y);j2n.lineTo(K2n.x,K2n.y);j2n.closePath();j2n.fillStyle=y2n.getNextColorStop();j2n.fill();};return y2n;};}();void function(){sketch.tools.brush_hair=function(f2n,N2n){var C2n={pathSmoothing:{type:0,value:.5},drawStart:function(){C2n.random=sketch.PseudoRandom(N2n.seed||1);},drawChange:function(d2n){var X2n=C2n.currentIndex,l2n=C2n.random.toDouble;if(X2n=Number.isFinite(X2n)?Math.min(d2n.length,X2n):d2n.length){var B2n=C2n.context,z2n=N2n.diameter,W2n=z2n/2;B2n.beginPath();B2n.lineCap="round";B2n.lineWidth=N2n.lineWidth;for(var e2n=C2n._paintOffsetX,G2n=C2n._paintOffsetY,U2n=C2n.priorPoint,D2n=1;D2n<X2n;D2n++){if(d2n.length-N2n.lookback<D2n){var Q2n=d2n[D2n].x+e2n,m2n=d2n[D2n].y+G2n;B2n.moveTo(U2n.x,U2n.y);B2n.bezierCurveTo(Q2n-l2n(0,z2n),m2n-l2n(0,z2n),Q2n,m2n,Q2n,m2n);B2n.bezierCurveTo(Q2n+l2n(0,W2n),m2n,Q2n,m2n-l2n(0,W2n),Q2n+l2n(-z2n,z2n),m2n+l2n(-W2n,W2n));}}B2n.strokeStyle=C2n.getNextColorStop();B2n.stroke();}}};return C2n;};sketch.tools.brush_fur=function(L2n,p2n){var P2n=void 0,v2n=false,V2n=0,F2n={pathSmoothing:{type:0,value:.5},drawStart:function(){P2n=sketch.PseudoRandom(p2n.seed||1);v2n=1!==p2n.stroke.opacity||"gradient"===p2n.stroke.type||p2n.isCreating;F2n.context.beginPath();},drawChange:function(A2n){var k2n=F2n.currentIndex;if(k2n=Number.isFinite(k2n)?Math.min(A2n.length,k2n):A2n.length){var R2n=F2n.context,w2n=p2n.diameter/100,a2n=F2n.priorPoint;R2n.moveTo(a2n.x,a2n.y);R2n.lineTo(F2n.x,F2n.y);++V2n;for(var a2n=F2n._paintOffsetX,s0n=F2n._paintOffsetY,x2n=A2n[k2n-1],n0n=x2n.x+a2n,x2n=x2n.y+s0n,r0n=0;r0n<k2n;r0n++){var i2n=A2n[r0n],Y2n=i2n.x+a2n-n0n,i2n=i2n.y+s0n-x2n;if(2E3>Y2n*Y2n+i2n*i2n&&.15>P2n.toDouble()){var T0n=F2n.x-Y2n*w2n,I0n=F2n.y-i2n*w2n;R2n.moveTo(F2n.x+Y2n*w2n,F2n.y+i2n*w2n);R2n.lineTo(T0n,I0n);++V2n;}}if(v2n||1E3<V2n){V2n=0,R2n.lineCap="round",R2n.lineWidth=p2n.lineWidth,R2n.strokeStyle=F2n.getNextColorStop(),R2n.stroke(),R2n.beginPath();}}},drawEnd:function(){if(0!==V2n){var c0n=F2n.context;c0n.lineCap="round";c0n.lineWidth=p2n.lineWidth;c0n.strokeStyle=F2n.getNextColorStop();c0n.stroke();}}};return F2n;};sketch.tools.brush_web=function(O0n,o0n){var M0n={pathSmoothing:{type:0,value:.5},drawStart:function(){M0n.random=sketch.PseudoRandom(o0n.seed||1);},drawChange:function(Z0n){var q0n=M0n.currentIndex,t0n=M0n.random.toDouble;if(q0n=Number.isFinite(q0n)?Math.min(Z0n.length,q0n):Z0n.length){var g0n=M0n.context,h0n=M0n.priorPoint,b0n=100*o0n.spread;g0n.beginPath();g0n.lineCap="round";g0n.lineWidth=o0n.lineWidth;g0n.moveTo(h0n.x,h0n.y);g0n.lineTo(M0n.x,M0n.y);for(var h0n=M0n._paintOffsetX,u0n=M0n._paintOffsetY,y0n=Z0n[q0n-1],J0n=y0n.x+h0n,y0n=y0n.y+u0n,E0n=0;E0n<q0n;E0n++){var H0n=Z0n[E0n],S0n=H0n.x+h0n,H0n=H0n.y+u0n,j0n=S0n-J0n,K0n=H0n-y0n;j0n*j0n+K0n*K0n<b0n&&.15>t0n()&&(g0n.moveTo(J0n,y0n),g0n.lineTo(S0n,H0n));}g0n.strokeStyle=M0n.getNextColorStop();g0n.stroke();}}};return M0n;};sketch.tools.brush_sketchy=function(f0n,N0n){var C0n={pathSmoothing:{type:0,value:.5},drawStart:function(){C0n.random=sketch.PseudoRandom(N0n.seed||1);},drawChange:function(X0n){var z0n=C0n.currentIndex,V0n=C0n.random.toDouble;if(z0n=Number.isFinite(z0n)?Math.min(X0n.length,z0n):X0n.length){var B0n=C0n.context,l0n=C0n.priorPoint,G0n=100*N0n.spread;B0n.beginPath();B0n.lineCap="round";B0n.lineWidth=N0n.lineWidth;B0n.moveTo(l0n.x,l0n.y);B0n.lineTo(C0n.x,C0n.y);for(var l0n=C0n._paintOffsetX,e0n=C0n._paintOffsetY,m0n=X0n[z0n-1],U0n=m0n.x+l0n,m0n=m0n.y+e0n,W0n=0;W0n<z0n;W0n++){var Q0n=X0n[W0n],F0n=Q0n.x+l0n,Q0n=Q0n.y+e0n,d0n=F0n-U0n,D0n=Q0n-m0n,p0n=d0n*d0n+D0n*D0n;p0n<G0n&&V0n()>p0n/G0n/2&&(B0n.moveTo(U0n+.3*d0n,m0n+.3*D0n),B0n.lineTo(F0n-.3*d0n,Q0n-.3*D0n));}B0n.strokeStyle=C0n.getNextColorStop();B0n.stroke();}}};return C0n;};sketch.tools.brush_shader=function(L0n,v0n){var P0n={pathSmoothing:{type:0,value:.5},drawChange:function(w0n){var k0n=P0n.currentIndex;if(k0n=Number.isFinite(k0n)?Math.min(w0n.length,k0n):w0n.length){var R0n=P0n.context,n3n=100*v0n.spread,I3n=v0n.opacity;R0n.lineCap="round";R0n.lineWidth=v0n.lineWidth;R0n.strokeStyle=P0n.getNextColorStop();for(var r3n=P0n._paintOffsetX,A0n=P0n._paintOffsetY,x0n=w0n[k0n-1],s3n=x0n.x+r3n,x0n=x0n.y+A0n,Y0n=0;Y0n<k0n;Y0n++){var a0n=w0n[Y0n],i0n=a0n.x+r3n-s3n,a0n=a0n.y+A0n-x0n,i0n=i0n*i0n+a0n*a0n;i0n<n3n&&(R0n.beginPath(),R0n.globalAlpha=.1*(1-i0n/n3n)*I3n,R0n.moveTo(s3n,x0n),R0n.lineTo(w0n[Y0n].x,w0n[Y0n].y),R0n.stroke());}}}};return P0n;};sketch.tools.brush_chrome=function(M3n,c3n){var T3n={pathSmoothing:{type:0,value:.5},drawChange:function(Z3n){var g3n=T3n.currentIndex;if(g3n=Number.isFinite(g3n)?Math.min(Z3n.length,g3n):Z3n.length){var o3n=T3n.context,h3n=T3n.priorPoint,S3n=100*c3n.spread;o3n.beginPath();o3n.lineCap="round";o3n.lineWidth=c3n.lineWidth;o3n.moveTo(h3n.x,h3n.y);o3n.lineTo(T3n.x,T3n.y);for(var h3n=T3n._paintOffsetX,j3n=T3n._paintOffsetY,O3n=Z3n[g3n-1],u3n=O3n.x+h3n,O3n=O3n.y+j3n,E3n=Math.max(0,g3n-100);E3n<g3n;E3n++){var y3n=Z3n[E3n],J3n=y3n.x+h3n,y3n=y3n.y+j3n,H3n=J3n-u3n,q3n=y3n-O3n;H3n*H3n+q3n*q3n<S3n&&(o3n.moveTo(u3n+.2*H3n,O3n+.2*q3n),o3n.lineTo(J3n-.2*H3n,y3n-.2*q3n));}o3n.strokeStyle=T3n.getNextColorStop();o3n.stroke();}}};return T3n;};}();void function(){var K3n=sketch.tools;K3n.brush_magicBrush=function(t3n,b3n){function B3n(){if(b3n.isCreating){var Q3n=b3n.tx;return Q3n&&Q3n.layer?new N3n(Q3n.layer.bbox):new N3n(0,0);}Q3n=b3n.bbox;return new N3n(-Q3n.x-Q3n.padding,-Q3n.y-Q3n.padding);}var C3n={},m3n=sketch.canvasUtils,N3n=sketch.Point,l3n=sketch.Matrix2D;C3n.pathSmoothing={type:0,value:.5};C3n.load=function(z3n){if(z3n){b3n.origin=t3n.pointInSceneFromCanvas(z3n).subtract(B3n());z3n=void 0;var D3n=b3n.tx.layer,d3n=t3n.scene.find(function(X3n){return"coloringPage"===X3n.name;});d3n&&d3n.idx>=D3n.idx?z3n=[D3n,d3n]:D3n&&(z3n=[D3n]);return t3n.createFloodfill(b3n,{layers:z3n,clipToSelection:true}).then(function(W3n){b3n.mask=W3n.dst.canvas;});}};C3n.render=function(U3n,V3n){var e3n=b3n.mask;if(e3n){var G3n=t3n.pixelRatio,F3n=B3n(),p3n=new l3n();p3n.translate(F3n.x,F3n.y);p3n.scale(1/G3n,1/G3n);(G3n="CANVAS"===e3n.nodeName)&&!b3n.isLiveCursor&&(G3n=false,b3n.mask=e3n=m3n.toOutlines(e3n));G3n?(G3n=b3n.stroke,F3n=G3n.blend,U3n.save(),p3n.applyTransform(U3n),U3n.drawImage(e3n,0,0),U3n.restore(),G3n.blend="source-in",f3n.render(U3n,V3n),G3n.blend=F3n):(U3n.save(),U3n.save(),U3n.beginPath(),p3n.applyTransform(U3n),sketch.drawPaths(U3n,e3n),U3n.restore(),U3n.clip(),f3n.render(U3n,V3n),U3n.restore());}else{b3n.isLiveCursor||console.error("layer has no mask");}};var f3n=K3n.brush_pencil(t3n,b3n);return C3n;};}();void function(){function R3n(a3n){var x3n=[];a3n.forEach(function(A3n){x3n.push({x:A3n.x,y:A3n.y});null!=A3n.x1&&null!=A3n.y1&&x3n.push({x:A3n.x1,y:A3n.y1});null!=A3n.x2&&null!=A3n.y2&&x3n.push({x:A3n.x2,y:A3n.y2});});x3n.sort(function(r5n,s5n){return r5n.x===s5n.x?r5n.y-s5n.y:r5n.x-s5n.x;});var k3n=x3n.length;a3n=Array(2*k3n);for(var i3n=0,w3n=0;w3n<k3n;w3n++){for(var Y3n=x3n[w3n];2<=i3n&&0>=L3n(a3n[i3n-2],a3n[i3n-1],Y3n);){i3n--;}a3n[i3n++]=Y3n;}w3n=i3n+1;for(k3n-=2;0<=k3n;k3n--){for(Y3n=x3n[k3n];i3n>=w3n&&0>=L3n(a3n[i3n-2],a3n[i3n-1],Y3n);){i3n--;}a3n[i3n++]=Y3n;}return a3n.slice(0,i3n-1);}function L3n(I5n,T5n,n5n){return(I5n.x-n5n.x)*(T5n.y-n5n.y)-(I5n.y-n5n.y)*(T5n.x-n5n.x);}var P3n=sketch.Point,v3n=2*Math.PI;sketch.tools.brush_mirrorBrush=function(O5n,M5n,f5n){function b5n(){var B5n=O5n.toolkit.getConfig(H5n);sketch.copyConfig(B5n,M5n,{filter:function(l5n,m5n){return null==m5n;}});}function t5n(D5n){var Q5n=new J5n();c5n._sectorBounds=[];c5n._sectorBoundsHash=M5n.hash;var z5n=R3n(D5n);h5n(function(d5n,X5n){return u5n(Q5n,z5n,d5n,X5n);});return Q5n;}function u5n(F5n,e5n,V5n,G5n){var W5n=c5n._sectorBounds[G5n];null==W5n&&(W5n=Number.MAX_SAFE_INTEGER,W5n=c5n._sectorBounds[G5n]={top:new g5n(0,W5n),right:new g5n(-W5n,0),bottom:new g5n(0,-W5n),left:new g5n(W5n,0)});G5n=0;for(var p5n=e5n.length;G5n<p5n;G5n++){var U5n=V5n.point2d(e5n[G5n]);U5n.y<W5n.top.y&&(W5n.top=U5n);U5n.x>W5n.right.x&&(W5n.right=U5n);U5n.y>W5n.bottom.y&&(W5n.bottom=U5n);U5n.x<W5n.left.x&&(W5n.left=U5n);}e5n=M5n.bbox.padding;W5n.width=Math.abs(W5n.left.x-W5n.right.x)+2*e5n;W5n.height=Math.abs(W5n.top.y-W5n.bottom.y)+2*e5n;F5n.extendTo(W5n.left.x,W5n.top.y);F5n.extendTo(W5n.right.x,W5n.bottom.y);}function h5n(a5n){for(var R5n=0,P5n=y5n(),i5n=P5n.centerPoint,x5n=P5n.mirrorInSector,v5n=P5n.sides,P5n=v3n/v5n;0<v5n;v5n--){var L5n=new E5n();L5n.rotateAt(P5n*v5n,i5n);a5n(L5n,R5n++);x5n&&(L5n.scaleAt(-1,1,i5n),a5n(L5n,R5n++));}}function N5n(k5n){if(k5n){k5n=K5n.showControls;if("never"===k5n){return null;}if("always"===k5n){return O5n.getCenterOfDoc();}if("whenHovering"!==k5n||!M5n.tx){if("whenDrawing"!==k5n||!M5n.tx||M5n.isLiveCursor){return null;}}}k5n=M5n.doc;var w5n=M5n.centerPoint;if(w5n){k5n=w5n;}else{var w5n=M5n.bbox,A5n=w5n.padding,Y5n=M5n.tx&&M5n.tx.layer;Y5n&&"background"!==Y5n.name?(k5n=Y5n.bbox.pointAt(.5,.5),M5n.isCreating?k5n.subtract(new P3n(0,0)):k5n.subtract(new P3n(w5n.x+A5n,w5n.y+A5n))):k5n=M5n.isCreating?k5n.getCenterOfDoc():M5n.centerPoint=new P3n(0,0);}return k5n;}function y5n(n9n){var r9n="boolean"===typeof M5n.mirrorInSector?M5n.mirrorInSector:true,s9n=M5n.sides||2;return{centerPoint:N5n(n9n),mirrorInSector:r9n,sides:s9n};}var c5n={},j5n=sketch.tools,q5n=sketch.util,J5n=sketch.PathBBox,S5n=sketch.Line,Z5n=sketch.Context2D,E5n=sketch.Matrix2D,g5n=sketch.Point,C5n=sketch.Polygon;c5n.autoFill=false;c5n.ensurePathMovement=true;c5n.pathSimplify={type:0,value:[15,1]};c5n.pathSmoothing={type:0,value:.5};c5n.recordReflectionPoint=true;c5n.showDegrees=false;c5n.showDividerLines=true;c5n.useAlphaCache=true;c5n.attach=function(I9n){o5n.ghostDistance&&(c5n.ghostDistance=o5n.ghostDistance);b5n();I9n.onConfig=O5n.on("changeDeltas",function(T9n){var c9n=c5n.layer;Number.isFinite(T9n.sides)&&c9n.sides!==T9n.sides&&(c9n.sides=T9n.sides,O5n.render.dirtyControls=true);});};c5n.load=function(){if(o5n.load){return o5n.load();}};c5n.drawController=function(M9n){if(c5n.showDividerLines){var g9n=y5n(true),q9n=g9n.centerPoint,E9n=g9n.mirrorInSector,h9n=g9n.sides;if((1!==h9n||E9n)&&q9n){M9n.save();M9n.shadowColor="white";M9n.shadowOffsetX=1;M9n.shadowOffsetY=1;M9n.textBaseline="bottom";M9n.textAlign="center";M9n.font="14px Arial";for(var E9n=O5n.zoom,O9n=O5n.visibleRect,o9n=O5n.zoom,g9n=-O9n.offScreenX/o9n,H9n=-O9n.offScreenY/o9n,y9n=O9n.width/o9n+g9n,O9n=O9n.height/o9n+H9n,g9n=[new g5n(g9n,H9n),new g5n(y9n,H9n),new g5n(y9n,O9n),new g5n(g9n,O9n)],h9n=1===h9n?2:h9n,H9n=v3n/h9n,y9n=0;y9n<h9n;y9n++){var O9n=H9n*y9n,o9n=g5n.atAngleDistance(q9n,O9n+Math.PI/2,999999),Z9n=C5n.toPolygonIntersection([q9n,o9n],g9n,{bestMatch:true});if(o9n=Z9n.point){if(M9n.beginPath(),M9n.moveTo(o9n.x,o9n.y),M9n.lineTo(q9n.x,q9n.y),M9n.globalAlpha=.25,M9n.lineWidth=1/E9n,M9n.stroke(),c5n.showDegrees){var Z9n=S5n.angle(Z9n.line1),u9n=new E5n();u9n.rotateAt(Z9n,o9n);u9n.applyTransform(M9n);M9n.globalAlpha=.6;M9n.fillText(q5n.round(O9n*q5n.RAD_DEG)+"\u00b0",o9n.x,o9n.y);u9n.applyInverseTransform(M9n);}}}M9n.restore();}}};c5n.hashOfControls=function(){return JSON.stringify(["MirrorBrush",y5n(true),O5n.getOrientation(),M5n.isAttaching,M5n.isCreating]);};c5n.getBoundingBox=t5n;c5n.extendBoundingBox=function(j9n,J9n){c5n._sectorBounds||(c5n._sectorBounds=[]);c5n._sectorBoundsHash=M5n.hash;h5n(function(S9n,K9n){return u5n(j9n,[J9n],S9n,K9n);});return j9n;};c5n.copyInDefaults=b5n;c5n.render=function(Q9n,X9n){M5n.hash!==c5n._sectorBoundsHash&&t5n(X9n);var N9n=void 0,C9n=void 0,B9n=void 0,f9n=void 0,b9n=void 0,l9n=O5n.pixelRatio,z9n=M5n.scale.x,D9n=M5n.scale.y,m9n=M5n.bbox.padding,t9n=c5n._sectorBounds[0],W9n=t9n.top.y,U9n=t9n.right.x,d9n=t9n.bottom.y,N9n=t9n.left.x-m9n,C9n=W9n-m9n,B9n=U9n-N9n+m9n,f9n=d9n-C9n+m9n,b9n=Z5n.tempCheckout(B9n*l9n*z9n,f9n*l9n*D9n);b9n.save();b9n.setTransform(l9n*z9n,0,0,l9n*D9n,0,0);o5n.index=0;o5n.sectorBounds=t9n;o5n.render(b9n,X9n,-N9n,-C9n);h5n(function(G9n,e9n){G9n.applyTransform(Q9n);o5n.index=e9n;o5n.sectorBounds=c5n._sectorBounds[e9n];Q9n.drawImage(b9n.canvas,N9n,C9n,B9n,f9n);G9n.applyInverseTransform(Q9n);});b9n.restore();Z5n.tempRecycle(b9n);};var K5n=f5n.config,H5n=M5n.brushRenderer,o5n=j5n["brush_"+H5n](O5n,M5n);o5n.useAlphaCache=c5n.useAlphaCache;return c5n;};}();void function(){function F9n(R9n,P9n){var p9n={pathSmoothing:{type:0,value:.5}},i9n=void 0,a9n=void 0,V9n=void 0,v9n=void 0,L9n={};p9n.rotate=P9n.rotate||[0,0];p9n.bristles=P9n.bristles||30;p9n.blendAmount=P9n.blendAmount||.97;p9n.drawStart=function(){P9n.pathSpacing={type:sketch.PATH_SPACING.EVEN,pattern:[P9n.diameter/3]};var T1n=p9n.context;p9n.iteration=p9n.iteration||0;p9n.random=sketch.PseudoRandom(P9n.seed||1);var I1n=p9n.pointerId,w9n;w9n=[];var k9n={},Y9n=p9n.layer,O1n=Y9n.diameter*p9n.bristles,r1n=Y9n.diameter/2>>0,n1n=Y9n.fill.env.colorStops||[],x9n=n1n[(2*++p9n.iteration+1)%n1n.length].color;if(x9n.substr){for(var x9n="color"===Y9n.fill.type?sketch.color.space(x9n,"W3>HEX24>RGBA"):sketch.color.space(x9n,"W3>RGBA"),c1n=0;c1n<O1n;c1n++){Y9n.fill.noise&&(x9n=n1n[(2*++p9n.iteration+1)%n1n.length],x9n=sketch.color.space(x9n,"W3>RGBA"));var A9n=p9n.random.toDouble()*r1n,o1n=1.5-A9n/r1n,s1n=2*p9n.random.toDouble()*Math.PI,M1n=Math.sin(s1n)*A9n+r1n+.5>>0,A9n=Math.cos(s1n)*A9n+r1n+.5>>0,s1n=M1n+""+A9n;void 0===k9n[s1n]&&(k9n[s1n]=true,w9n.push({x:M1n-r1n,y:A9n-r1n,color:{r:x9n.R,g:x9n.G,b:x9n.B,a:255*o1n}}));}}else{console.log("Does not support patterns"),w9n=void 0;}L9n[I1n]=w9n;w9n=R9n.pixelRatio;k9n=P9n.bbox;I1n=(Y9n=P9n.isCreating)?0:k9n.x+R9n.viewport.paddingLeft*w9n;w9n=Y9n?0:k9n.y+R9n.viewport.paddingTop*w9n;k9n=T1n.canvas;i9n=T1n.getImageData(0,0,k9n.width,k9n.height);a9n=R9n.getComposite().ctx.getImageData(I1n,w9n,k9n.width,k9n.height);V9n=i9n.data;v9n=a9n.data;};p9n.drawEnd=function(){delete L9n[p9n.pointerId];};p9n.drawChange=function(){if(L9n[p9n.pointerId]){var j1n=p9n.context.canvas,N1n=j1n.width,j1n=j1n.height,S1n=p9n.blendAmount,b1n=1-S1n,H1n;H1n=p9n.rotate[0];var q1n=p9n.rotate[1];H1n=0===H1n&&0===q1n?0:(q1n-H1n)*p9n.random.toDouble()+H1n;for(var Z1n=p9n.priorPoint,q1n=Z1n.x>>0,Z1n=Z1n.y>>0,g1n,y1n,C1n=P9n.diameter/2,f1n=P9n.opacity,m1n=P9n.isCreating,t1n=L9n[p9n.pointerId],B1n=t1n.length,K1n=0;K1n<B1n;K1n++){y1n=t1n[K1n];var h1n=y1n.color;H1n?(g1n=Math.cos(H1n)*y1n.x-Math.sin(H1n)*y1n.y>>0,y1n=Math.sin(H1n)*y1n.x+Math.cos(H1n)*y1n.y>>0):(g1n=y1n.x,y1n=y1n.y);false===m1n&&(g1n+=C1n,y1n+=C1n);if(!(0>q1n+g1n||q1n+g1n>N1n-1||0>Z1n+y1n||Z1n+y1n>j1n-1)){if(g1n=4*((Z1n+y1n)*N1n+(q1n+g1n)),V9n[g1n+3]){y1n=v9n[g1n];var u1n=v9n[g1n+1],E1n=v9n[g1n+2],J1n=v9n[g1n+3];y1n!==+y1n&&(y1n=V9n[g1n]);u1n!==+u1n&&(u1n=V9n[g1n+1]);E1n!==+E1n&&(E1n=V9n[g1n+2]);J1n<V9n[g1n+3]&&(J1n=V9n[g1n+3]);var Q1n=h1n.r=h1n.r*S1n+y1n*b1n,z1n=h1n.g=h1n.g*S1n+u1n*b1n,l1n=h1n.b=h1n.b*S1n+E1n*b1n,h1n=h1n.a*f1n;V9n[g1n]=v9n[g1n]=(Q1n*h1n+y1n*(255-h1n))/255;V9n[g1n+1]=v9n[g1n+1]=(z1n*h1n+u1n*(255-h1n))/255;V9n[g1n+2]=v9n[g1n+2]=(l1n*h1n+E1n*(255-h1n))/255;(h1n=h1n/255*J1n+h1n)>J1n&&(V9n[g1n+3]=h1n);}else{V9n[g1n]=h1n.r,V9n[g1n+1]=h1n.g,V9n[g1n+2]=h1n.b,V9n[g1n+3]=h1n.a;}}}}};p9n.afterRender=function(){p9n.context.putImageData(i9n,0,0);};return p9n;}sketch.tools.brush_oil=F9n;sketch.tools.brush_pastel=F9n;}();void function(){function M4n(g4n,u4n,h4n,y4n){var q4n=y4n.addGhostPoint,Z4n=y4n.deleteGhostPoint,E4n=y4n.renderPath,H4n=g4n.doc;H4n.history.register("path-temp-altered",{apply:function(J4n){var j4n=J4n.data;J4n=J4n.undo;Z4n();J4n?(jsondiffpatch.unpatch(g4n,j4n.layer),h4n.selectedPoint=j4n.selectedBefore):(jsondiffpatch.patch(g4n,j4n.layer),h4n.selectedPoint=j4n.selectedAfter);u4n.updateBoundingBox(g4n);q4n();E4n();}});h4n.recordChange=function(S4n){H4n.history.store("path-temp-altered",{name:"path-temp-altered",pointerId:h4n.pointerId,data:S4n},{autoSave:false});};}function O4n(b4n,l4n,K4n,t4n){function m4n(G4n,X4n,D4n,W4n){function Q4n(e4n,F4n,p4n){K4n._command=e4n;G4n.asClientXY&&(sketch.emit("cursor:show",F4n),"do-nothing"!==e4n&&sketch.emit("tooltip:show",B4n(p4n||e4n),{stickToEdge:G4n.asClientXY()}));}var z4n=b4n.data,d4n=b4n.isEditingPath,U4n=K4n.useBendable;X4n?Q4n(null):D4n?"point"===D4n.type?Keyster.alt&&U4n?Q4n("alter-tension","default"):Keyster.meta?Q4n("remove-point","default"):Keyster.shift?"C"===D4n.cmd?Q4n("move-point-without-handles","default"):Q4n("move-point","default"):0===D4n.idx&&!d4n&&2<z4n.length?Q4n("close-path","default"):Q4n("move-point","default"):Keyster.alt?Q4n("move-handle","default"):Keyster.meta?Q4n("remove-handle","default"):Q4n("move-handles","default"):W4n?Keyster.meta?Q4n("insert-point","default"):Keyster.alt?"C"===W4n.cmd?Q4n("move-curve","default"):Q4n("move-line","default"):"C"===W4n.cmd?Q4n("bend-curve","default"):U4n?Q4n("bend-line","default"):Q4n("move-line","default"):(X4n=C4n(K4n.ghostPoint))?d4n?K4n._command="exit-path-editor":(z4n=s4n.tools[b4n.type],Q4n("append-point",z4n&&z4n.cssCursor||"default","D: "+X4n.toFixed(2)+"px")):d4n||K4n.recordLineSegment&&2===z4n.length?Q4n("do-nothing","default"):Q4n("append-point","default");}var C4n=t4n.getDistanceDelta,N4n=t4n.getEndIndex,f4n=b4n.doc,B4n=sketch.lang.translate;K4n.onPointerChange=function(T7n,c7n){if(!T7n.CHANGED){for(var P4n=null,R4n=null,w4n=f4n.zoom,n7n=K4n.interacting,A4n=K4n.getPathMatrix(),x4n=A4n.clone().invert().point2d(c7n),Y4n=b4n.data,s7n=Y4n.length,I7n=N4n()+1,i4n=0;i4n<I7n;i4n++){var a4n=Y4n[(s7n+i4n-1)%s7n];if("Z"===a4n.cmd){var V4n=Y4n[i4n];a4n.x=V4n.x;a4n.y=V4n.y;}var V4n=Y4n[i4n],k4n=V4n.cmd,L4n="M"===k4n?K4n._snapToPointThreshold:K4n._capturePointClickThreshold;V4n.hovered=false;var v4n=V4n.bbox;v4n||n7n||(v4n=V4n.bbox=new sketch.PathBBox({path:[A4n.flattenPoint(V4n,{}),A4n.flattenPoint(a4n,{})],expand:L4n,tightBezierFit:false}).asDiagonal());if(v4n&&(v4n.hovered=D1n.inBBox(c7n,v4n),v4n.hovered)){if(!P4n||"point"!==P4n.type){if(v4n=D1n.distance(V4n,x4n)*w4n,v4n<=L4n){V4n.hovered=true;P4n=new D1n(V4n);P4n.idx=i4n;P4n.type="point";P4n.distance=v4n;break;}}if(!P4n){if("C"===k4n){L4n=new D1n(V4n.x1,V4n.y1);v4n=D1n.distance(L4n,x4n)*w4n;v4n<=K4n._capturePointClickThreshold&&(P4n=L4n,P4n.idx=i4n,P4n.type="cp1",P4n.distance=v4n);var v4n=new D1n(V4n.x2,V4n.y2),r7n=D1n.distance(v4n,x4n)*w4n;r7n<=K4n._capturePointClickThreshold&&(P4n=v4n,P4n.idx=i4n,P4n.type="cp2",P4n.distance=r7n);L4n=w1n.nearestPointOnCurve(x4n,[a4n,L4n,v4n,V4n]);v4n=L4n.distance*w4n;v4n<K4n._captureLineClickThreshold&&(!R4n||L4n.distance<R4n.distance)&&(R4n={cmd:k4n,idx:i4n,distance:v4n,point:L4n.point,point0:a4n,point1:V4n,time:L4n.time});}else{"L"===k4n&&(L4n=D1n.distanceToLine(x4n,a4n,V4n)*w4n,L4n<=K4n._captureLineClickThreshold&&(!R4n||L4n<R4n.distance)&&(R4n=D1n.nearestOnLine(x4n,a4n,V4n,true),R4n={cmd:k4n,idx:i4n,distance:L4n,point:R4n,point0:a4n,point1:V4n,time:R4n.time}));}}}}P4n&&(R4n=null);m4n(T7n,n7n,P4n,R4n);K4n._uiControls.pointAtop=P4n;K4n._uiControls.pointAtopStart=P4n&&0===P4n.idx;K4n._uiControls.pointOnPath=R4n;}};}function o4n(M7n,h7n,o7n,g7n){var O7n=g7n.isInteracting;o7n.render=function(y7n,Z7n){if(Z7n.length){var H7n=M7n.bbox,u7n=M7n.stroke.lineWidth,q7n=H7n.scale;y7n.save();y7n.beginPath();var E7n=O7n();E7n?(y7n.globalAlpha=M7n.opacity,y7n.globalCompositeOperation=a1n.getCtxBlendMode(M7n),y7n.lineWidth=u7n,o7n.ghostPoint?sketch.drawPath(y7n,Z7n.slice(0,-1)):sketch.drawPath(y7n,Z7n)):(q7n=Math.max(Math.abs(q7n.x),Math.abs(q7n.y)),y7n.globalAlpha=1,y7n.lineWidth=u7n/q7n,sketch.drawPath(y7n,Z7n));a1n.apply(y7n,M7n,{x:E7n?H7n.x:-H7n.padding,y:E7n?H7n.y:-H7n.padding,width:H7n.width,height:H7n.height,scale:{x:1,y:1}});y7n.restore();}};}function F1n(j7n,J7n,t7n,S7n,K7n,b7n){S7n/=K7n;b7n&&(J7n=b7n.point2d(J7n));j7n.beginPath();j7n.arc(J7n.x,J7n.y,S7n,0,2*Math.PI);j7n.fillStyle=t7n;j7n.fill();j7n.lineWidth=.75/K7n;j7n.strokeStyle="#fff";j7n.stroke();}function p1n(C7n,f7n,l7n,N7n,B7n,m7n){N7n/=B7n;m7n&&(f7n=m7n.point2d(f7n));C7n.beginPath();C7n.rect(f7n.x-N7n,f7n.y-N7n,2*N7n,2*N7n);C7n.fillStyle=l7n;C7n.fill();C7n.lineWidth=1/B7n;C7n.strokeStyle="#000";C7n.stroke();}function L1n(Q7n,z7n,D7n,X7n,W7n,d7n){d7n&&(z7n=d7n.point2d(z7n),D7n=d7n.point2d(D7n));Q7n.beginPath();Q7n.moveTo(z7n.x,z7n.y);Q7n.lineTo(D7n.x,D7n.y);Q7n.lineWidth=1/W7n;Q7n.strokeStyle=X7n;Q7n.stroke();}function R1n(U7n,G7n,e7n){if(G7n&&G7n.angleLock&&Number.isFinite(G7n.x2+G7n.y2)){var F7n=P1n(new U1n(U7n.x1,U7n.y1),G7n);G7n.x2=F7n.x;G7n.y2=F7n.y;G7n.bbox=void 0;}e7n&&U7n.angleLock&&Number.isFinite(e7n.x1+e7n.y1)&&(U7n=P1n(new U1n(U7n.x2,U7n.y2),U7n),e7n.x1=U7n.x,e7n.y1=U7n.y,e7n.bbox=void 0);}function P1n(p7n,V7n){var P7n=U1n.distance(p7n,V7n);p7n=U1n.angle(p7n,V7n);return U1n.atAngleDistance(V7n,p7n,P7n);}function A1n(Y7n,v7n,L7n){Y7n.convertingPoint=true;var i7n=Y7n.selectedPoint;if(i7n){var R7n=i7n.idx,k7n=i7n.type;"cp1"===k7n&&R7n--;var x7n=v7n[R7n],w7n=d1n.distance(x7n,L7n),A7n=w7n;"cp2"===k7n&&(A7n=w7n=-w7n);if("Z"===x7n.cmd&&!Y7n.layer.isEditingPath){var k7n=v7n[0],a7n=v7n[1],a7n=Number.isFinite(a7n.x1+a7n.y1)?new d1n(a7n.x1,a7n.y1):x7n;if(!i7n.point){var r6n=d1n.angle(k7n,a7n);i7n.point=d1n.atAngleDistance(x7n,r6n,.001);}A7n<=Y7n._snapToPointThreshold&&(L7n=i7n.point);A7n=d1n.distance(k7n,a7n);}L7n=d1n.angle(x7n,L7n);w7n=d1n.atAngleDistance(x7n,L7n,-w7n);x7n=d1n.atAngleDistance(x7n,L7n,+A7n);i7n=v7n.length-1;L7n=R7n;A7n=R7n+1;k7n=R7n-1;a7n=v7n[i7n];r6n=v7n[R7n].cmd;if("Z"===r6n||"M"===r6n&&"Z"===a7n.cmd||i7n-1===R7n&&"Z"===a7n.cmd){k7n=i7n-2,L7n=i7n-1,A7n=1;}R7n=v7n[k7n];L7n=v7n[L7n];v7n=v7n[A7n];L7n&&("M"===L7n.cmd?Y7n.addingPoint&&(v7n.x2=w7n.x,v7n.y2=w7n.y):(L7n.cmd="C",L7n.x2=w7n.x,L7n.y2=w7n.y,L7n.bbox=void 0,null!=R7n.angleLock&&Y7n.addingPoint||(R7n.angleLock=true),Number.isFinite(L7n.x1+L7n.y1)||(L7n.x1=R7n.x,L7n.y1=R7n.y)));v7n&&(v7n.cmd="C",v7n.x1=x7n.x,v7n.y1=x7n.y,v7n.bbox=void 0,null!=L7n.angleLock&&Y7n.addingPoint||(L7n.angleLock=true),Number.isFinite(v7n.x2+v7n.y2)||(v7n.x2=v7n.x,v7n.y2=v7n.y));v7n&&Y7n._convertToLineWhenFlat(v7n,L7n);R7n&&Y7n._convertToLineWhenFlat(L7n,R7n);}else{console.warn("no points are selected");}}function T4n(O6n,T6n,M6n){function g6n(H6n){if(n6n){if(n6n.bbox=void 0,"M"===s6n.cmd){if(O6n._convertToPoint(n6n,"M"),"Z"===I6n.cmd){var y6n=T6n[o6n-2];y6n.bbox=void 0;y6n.x=n6n.x;y6n.y=n6n.y;y6n.x2=n6n.x2;y6n.y2=n6n.y2;}}else{"C"===n6n.cmd&&("C"===s6n.cmd?(n6n.x1=s6n.x1,n6n.y1=s6n.y1):(n6n.x1=s6n.x,n6n.y1=s6n.y));}}T6n.splice(H6n,1);}function h6n(Z6n,q6n){s6n.bbox=void 0;"cp1"===q6n?(s6n.x1=I6n.x,s6n.y1=I6n.y,I6n.angleLock=s6n.x1===I6n.x2&&s6n.y1===I6n.y2):"cp2"===q6n&&(s6n.x2=s6n.x,s6n.y2=s6n.y,s6n.angleLock=s6n.x2===n6n.x1&&s6n.y2===n6n.y1);O6n._convertToLineWhenFlat(s6n,I6n);}O6n.deletingPoint=true;var c6n=M6n.idx;M6n=M6n.type;var o6n=T6n.length,I6n=T6n[(o6n+c6n-1)%o6n],s6n=T6n[c6n],n6n=T6n[c6n+1];"point"===M6n?g6n(c6n):h6n(c6n,M6n);}function k1n(E6n,u6n,J6n,S6n){var j6n=new I4n(E6n[J6n],E6n[S6n]),K6n=j6n.x-u6n.x;u6n=j6n.y-u6n.y;E6n.bbox=void 0;E6n[J6n]-=K6n;E6n[S6n]-=u6n;}function x1n(N6n,f6n,B6n,m6n){var t6n=N6n.length,b6n=N6n[(t6n+f6n)%t6n],C6n=N6n[(t6n+f6n+1)%t6n];if(0===f6n||f6n===t6n-2){var Q6n=N6n[0],l6n=N6n[t6n-1];"Z"===l6n.cmd&&(l6n.bbox=void 0,l6n.x-=B6n,l6n.y-=m6n,Q6n.bbox=void 0,Q6n.x-=B6n,Q6n.y-=m6n,0===f6n?b6n=N6n[t6n-2]:C6n=N6n[1]);}b6n.bbox=void 0;b6n.x-=B6n;b6n.y-=m6n;C6n&&Number.isFinite(C6n.x1+C6n.y1)&&(C6n.x1-=B6n,C6n.y1-=m6n);Number.isFinite(b6n.x2+b6n.y2)&&(b6n.x2-=B6n,b6n.y2-=m6n);C6n.bbox=void 0;}function v1n(z6n){return function(G6n,d6n,U6n){function T8P(){D6n.addingPoint=false;D6n.bendingSegment=false;D6n.closingPath=false;D6n.convertingPoint=false;D6n.exitingPathEditor=false;D6n.insertingPoint=false;D6n.interacting=false;D6n.movingPoint=false;D6n.movingPointLocked=false;D6n.movingSegment=false;D6n.deletingPoint=false;}function o8P(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).isMouse?(D6n._createLineThreshold=10,D6n._captureLineClickThreshold=5,D6n._capturePointClickThreshold=10,D6n._snapToPointThreshold=7):(D6n._createLineThreshold=10,D6n._captureLineClickThreshold=10,D6n._capturePointClickThreshold=14,D6n._snapToPointThreshold=10);}function p6n(){return d6n.isCreating||d6n.isEditingPath;}function A6n(){if(p6n()){return k6n(),X6n(),true;}}function a6n(Z8P){if(p6n()&&Z8P.START){if(d6n.data.length){Z8P=d6n.data;var E8P=D6n.selectedPoint;E8P&&(D6n.selectedPoint=void 0,D6n.stateBeforeChanges=R6n(),T4n(D6n,Z8P,E8P),c8P(),X6n());return true;}L6n();}}function g8P(u8P){if(p6n()&&u8P.START){return P6n(),true;}}function y8P(){var j8P=W6n.pointAtop;if(j8P&&j8P.idx!==d6n.data.length-1||W6n.pointOnPath){return true;}}function r8P(){var J8P=d6n.env.gevent;if(J8P){U6n.onRecord(J8P);}}function Y6n(K8P){var S8P=I8P();if(S8P&&K8P){return W1n.distance(S8P,K8P);}}function I8P(){var b8P=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return d6n.data[V6n()-b8P];}function V6n(){var t8P=d6n.data,C8P=D6n.ghostPoint;return C8P?t8P.indexOf(C8P)-1:t8P.length-1;}function M8P(){var N8P=d6n.bbox;d6n.env.bboxOriginal||(d6n.env.bboxOriginal=N8P.clone());return new sketch.Matrix2D().translate(N8P.x,N8P.y).rotate(N8P.rotation).scale(N8P.scale.x,N8P.scale.y).translate(-N8P.x,-N8P.y);}function q8P(f8P,Q8P){o8P(f8P);k6n();var m8P=D6n._command,B8P=W6n.pointAtop;f8P=W6n.pointOnPath;var l8P=d6n.data,z8P=l8P.length;T8P();sketch.emit("tooltip:hide");D6n.stateBeforeChanges=R6n();D6n.hasNewChanges=false;D6n.interacting=true;D6n.selectedPoint=void 0;if(!z8P){return G6n.emit("path:start"),v6n(Q8P,"M"),F6n(Q8P),D6n.addingPoint=true,X6n(),true;}D6n.selectedPoint=B8P||f8P;switch(m8P){case"alter-tension":A1n(D6n,l8P,B8P);break;case"move-handle":case"move-point-without-handles":D6n.movingPoint=true;break;case"move-point":case"move-handles":D6n.movingPointLocked=true;break;case"remove-handle":case"remove-point":return e6n(),T4n(D6n,l8P,B8P),X6n(),true;case"bend-curve":case"bend-line":D6n.bendingSegment=f8P;break;case"move-curve":case"move-line":D6n.movingSegment=f8P;break;case"append-point":return h8P(e6n()||Q8P),F6n(),X6n(),true;case"insert-point":return e6n(),D6n.insertingPoint=true,B8P=f8P.time,Q8P=f8P.idx,m8P=l8P[Q8P],l8P=l8P[Q8P-1],f8P=f8P.cmd,"C"===f8P?(B8P=V1n.split(l8P.x,l8P.y,m8P.x1,m8P.y1,m8P.x2,m8P.y2,m8P.x,m8P.y,B8P),f8P=V1n.fromArray(B8P[0].slice(2)),B8P=V1n.fromArray(B8P[1].slice(2)),f8P.hovered=true,f8P.angleLock=l8P.angleLock,B8P.angleLock=m8P.angleLock,i6n(Q8P,1,f8P,B8P)):"L"===f8P&&(m8P.bbox=void 0,f8P=W1n.atTimeOnLine(l8P,m8P,B8P),f8P.cmd="L",f8P.hovered=true,i6n(Q8P,0,f8P)),X6n(),true;case"close-path":return v6n(B8P,"Z"),D6n.closingPath=true,X6n(),true;case"exit-path-editor":return D6n.exitingPathEditor=true;}e6n();X6n();return true;}function H8P(D8P,d8P){D8P=d6n.data;d8P=d6n.isEditingPath;if(D8P.length){D6n.interacting=false;if(D6n.exitingPathEditor||!d8P&&D6n.recordLineSegment&&1===V6n()||D6n.closingPath){return x6n(),true;}c8P();n8P(D8P);F6n();k6n();return true;}}function n8P(X8P){if(X8P=X8P[X8P.length-2]){X8P.bbox=void 0;}}function h8P(W8P){D6n.recordLineSegment&&Y6n(W8P)<D6n._createLineThreshold||(v6n(W8P,W8P.cmd),D6n.addingPoint=true);}function e6n(){var U8P=D6n.ghostPoint;if(U8P){return i6n(d6n.data.indexOf(U8P),1),delete D6n.ghostPoint,U8P;}}function F6n(){var F8P=0<arguments.length&&void 0!==arguments[0]?arguments[0]:d6n.env.currentPoint;if(F8P&&!d6n.isEditingPath){var G8P=d6n.env.gevent;if(!G8P||!G8P.isTouch){var p8P=d6n.data;if(p8P.length){G8P=D6n.ghostPoint;if(!G8P){var e8P=I8P();D6n.ghostPoint=G8P=X1n.copyPoint(e8P);if("C"===G8P.cmd){var V8P=new W1n(e8P.x2,e8P.y2),e8P=W1n.distance(V8P,G8P),V8P=W1n.angle(V8P,G8P),e8P=W1n.atAngleDistance(G8P,V8P,e8P);G8P.x1=e8P.x;G8P.y1=e8P.y;}else{G8P.cmd="L";}p8P.push(G8P);}W6n.pointAtopStart&&(p8P=p8P[0],F8P=new W1n(F8P),F8P.x=p8P.x,F8P.y=p8P.y);G8P.x=F8P.x;G8P.y=F8P.y;"C"===G8P.cmd&&(G8P.x2=F8P.x,G8P.y2=F8P.y);}}}}function s8P(){if(p6n()){var P8P=d6n.data;2>=P8P.length||"Z"!==P8P[P8P.length-1].cmd&&v6n(P8P[0],"Z");}else{console.error("No path in the process of being created or altered.");}}function v6n(v8P){var L8P=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"L";v8P=X1n.copyPoint(v8P);v8P.cmd=L8P;L8P=d6n.data;if(D6n.hasNewChanges){var R8P,i8P=V6n(),x8P=D6n.stateBeforeChanges,a8P=R6n();D6n.stateBeforeChanges=a8P;D6n.recordChange({layer:{data:(R8P={},i1n(R8P,i8P,[X1n.copyPoint(L8P[i8P])]),i1n(R8P,"_t","a"),R8P)},selectedBefore:x8P.selected,selectedAfter:a8P.selected});}L8P.push(v8P);D6n.selectedPoint={type:"point",idx:d6n.data.length-1};D6n.hasNewChanges=true;return v8P;}function R6n(){return{layer:{data:X1n.copyPath(d6n.data.slice(0,V6n()+1)),bbox:d6n.bbox.clone()},selected:n4n.assignDeep({},D6n.selectedPoint)};}function i6n(k8P,w8P){return Array.prototype.splice.apply(d6n.data,arguments);}function c8P(){var Y8P=D6n.stateBeforeChanges,A8P=R6n(),r2P=jsondiffpatch.diff(Y8P.layer,A8P.layer);r2P&&D6n.recordChange({layer:r2P,selectedBefore:Y8P.selected,selectedAfter:A8P.selected});}function P6n(){e6n();x6n();}function x6n(n2P){var s2P;d6n.isLiveCursor||(d6n.isEditingPath?(d6n.data=X1n.roundPath(X1n.copyPath(d6n.data)),d6n.bbox=U6n.clipPathToBoundingBox(d6n,d6n.bbox),L6n(true)):d6n.isCreating?(d6n.isCreating=false,(s2P=d6n.data)&&s2P.length?((D6n.autoClosePath||n2P)&&s8P(),d6n.data=X1n.roundPath(X1n.copyPath(d6n.data)),d6n.bbox=U6n.clipPathToBoundingBox(d6n,d6n.bbox),L6n(true)):L6n()):(s2P=console).error.apply(s2P,["savePath"].concat(Array.prototype.slice.call(arguments))));}function k6n(){var I2P=d6n.env;if(I2P.gevent){D6n.onPointerChange(I2P.gevent,I2P.currentPoint);}}function X6n(){var T2P=d6n.tx&&d6n.tx.layerTemp;T2P&&T2P.renderGestureCache&&(T2P.dirtyCache=true);O8P.scene();}function L6n(){var c2P=0<arguments.length&&void 0!==arguments[0]?arguments[0]:false,M2P=U6n.originalHistoryIndex,o2P=G6n.history.index;o2P!==M2P&&G6n.history.pop(o2P-M2P);U6n.closePointerThread(c2P);W6n.reset();X6n();(c2P=d6n.env.gevent)&&c2P.originalEvent&&U6n.liveCursor.attach();}var D6n={},O8P=G6n.render,w6n=c4n.getFeatures({type:z6n,toolkitId:"brush"}),W6n=D6n._uiControls={reset:function(){W6n.pointOnPath=null;W6n.pointAtop=null;W6n.pointAtopStart=null;}};D6n._captureLineClickThreshold=0;D6n._capturePointClickThreshold=0;D6n._createLineThreshold=0;D6n._snapToPointThreshold=0;D6n.autoClosePath="polygon"===z6n;D6n.autoFill=false;D6n.disableSnapToDirection=true;D6n.ensurePathMovement=true;D6n.recordLineSegment="lineSegment"===z6n;D6n.useAddPointAtDistanceOnDrag=w6n.useAddPointAtDistanceOnDrag;D6n.useBendable=false!==w6n.useBendable;D6n.useCubicBezier="path"===z6n;D6n.attach=function(O2P){O2P.resize=sketch.on("resize",r8P);O2P.scroll=G6n.on("scroll",r8P);O2P.enter=Keyster.on("enter",g8P);O2P.escape=Keyster.on("escape",g8P);O2P.backspace=Keyster.on("backspace",a6n);O2P.cut=Keyster.on("meta+x",a6n);O2P.delete=Keyster.on("delete",a6n);O2P.alt=Keyster.on("alt",A6n);O2P.meta=Keyster.on("meta",A6n);O2P.shift=Keyster.on("shift",A6n);O2P.download=sketch.on("download:start",P6n);O2P.selfDestruct={detach:function(){p6n()&&P6n();}};var g2P=U6n.originalHistoryIndex=G6n.history.index;O2P.requestUndo=G6n.on("undo:request",function(){if(p6n()&&g2P===G6n.history.index){return true;}});};D6n.onClick=function(){if(d6n.isEditingPath&&!y8P()){return P6n(),true;}};D6n.onDblClick=function(){if(d6n.isCreating&&!y8P()){return P6n(),true;}};D6n.onPointer=function(h2P,q2P){q2P=M8P().invert().point2d(q2P);if("do-nothing"===D6n._command){return true;}if(h2P.START){q8P(h2P,q2P);}else if(h2P.END){H8P(h2P,q2P);}else if(h2P.CHANGED){h2P=d6n.data;var H2P=h2P.length;if(!d6n.isEditingPath&&D6n.useCubicBezier&&1===H2P){F6n(),X6n();}else if(D6n.addingPoint&&D6n.useAddPointAtDistanceOnDrag){Y6n(q2P)>D6n.useAddPointAtDistanceOnDrag?(e6n(),n8P(h2P),h8P(q2P)):F6n(),X6n();}else if(!(D6n.exitingPathEditor||D6n.insertingPoint||D6n.deletingPoint)){if(D6n.movingPoint||D6n.movingPointLocked){var E2P=D6n.movingPointLocked,H2P=D6n.selectedPoint,j2P=H2P.type,H2P=H2P.idx,y2P=h2P.length,u2P=h2P[H2P],Z2P=h2P[H2P-1],J2P=h2P[H2P+1];if("point"===j2P){E2P=u2P.x-q2P.x,q2P=u2P.y-q2P.y,D6n.movingPoint?(h2P=h2P[H2P],h2P.bbox=void 0,h2P.x-=E2P,h2P.y-=q2P,h2P.angleLock=false):x1n(h2P,H2P,E2P,q2P);}else if("cp1"===j2P){if(k1n(u2P,q2P,"x1","y1"),Z2P.angleLock=E2P){"M"===Z2P.cmd&&"Z"===h2P[(H2P-2+y2P)%y2P].cmd&&(Z2P=h2P[(H2P-3+y2P)%y2P]),R1n(u2P,Z2P,J2P);}}else{"cp2"===j2P&&(k1n(u2P,q2P,"x2","y2"),u2P.angleLock=E2P)&&(J2P&&"Z"===J2P.cmd&&"M"===h2P[(H2P+2+y2P)%y2P].cmd&&(J2P=h2P[(H2P+3+y2P)%y2P]),R1n(u2P,Z2P,J2P));}}else if(D6n.movingSegment){H2P=D6n.movingSegment,E2P=H2P.idx,u2P=H2P.point,j2P=u2P.x-q2P.x,u2P=u2P.y-q2P.y,x1n(h2P,E2P,j2P,u2P),x1n(h2P,E2P-1,j2P,u2P),H2P.point=q2P;}else if(D6n.bendingSegment){var H2P=D6n.bendingSegment,j2P=H2P.point,y2P=Math.min(.98,Math.max(.02,H2P.time)),Z2P=1-y2P,E2P=.5>=y2P?Math.pow(2*y2P,3)/2:1-Math.pow(2*Z2P,3)/2,u2P=j2P.x-q2P.x,J2P=j2P.y-q2P.y,j2P=(1-E2P)/(3*y2P*Z2P*Z2P),S2P=E2P/(3*y2P*y2P*Z2P),E2P=j2P*u2P,j2P=j2P*J2P,u2P=S2P*u2P,J2P=S2P*J2P;y2P<0.3333333333333333?(u2P=E2P*y2P,J2P=j2P*y2P):y2P>0.6666666666666666&&(E2P=u2P*Z2P,j2P=J2P*Z2P);var K2P=D6n.selectedPoint.idx,y2P=h2P[K2P],Z2P=h2P[K2P-1],S2P=h2P[K2P+1],b2P=D6n.layer.data.length-1;"Z"===h2P[b2P].cmd&&(K2P===b2P-1?S2P=h2P[1]:1===K2P&&(Z2P=h2P[b2P-1]));"L"===y2P.cmd&&(r4n.fromLineSegment(Z2P,y2P,y2P),y2P.angleLock=false);y2P.x1-=E2P;y2P.y1-=j2P;y2P.x2-=u2P;y2P.y2-=J2P;y2P.bbox=void 0;Z2P&&Z2P.angleLock&&Number.isFinite(Z2P.x2+Z2P.y2)&&(h2P=P1n(new U1n(y2P.x1,y2P.y1),Z2P),Z2P.x2=h2P.x,Z2P.y2=h2P.y,Z2P.bbox=void 0);S2P&&y2P.angleLock&&Number.isFinite(S2P.x1+S2P.y1)&&(h2P=P1n(new U1n(y2P.x2,y2P.y2),y2P),S2P.x1=h2P.x,S2P.y1=h2P.y,S2P.bbox=void 0);R1n(y2P,Z2P,S2P);H2P.point=q2P;}else{D6n.convertingPoint||D6n.useCubicBezier?A1n(D6n,h2P,q2P):F6n();}X6n();}}else{h2P.CHANGE&&(q2P=D6n._command,H2P=W6n.pointAtop,h2P=h2P.originalEvent.target.nodeName.toLowerCase(),(E2P=2>=d6n.data.length)||(E2P="sketch-scrollarea"===h2P&&("append-point"===q2P||"close-path"===q2P)),E2P||(E2P=H2P&&("cp1"===H2P.type||"cp2"===H2P.type)),E2P?F6n():e6n(),X6n());}q2P=d6n.bbox;H2P=q2P.x;h2P=q2P.y;d6n.updateBoundingBox();d6n.isEditingPath&&(H2P=(q2P.x-H2P)*(1-q2P.scale.x),h2P=(q2P.y-h2P)*(1-q2P.scale.y),U6n.translatePath(d6n,H2P,h2P),q2P.x-=H2P,q2P.y-=h2P);return true;};D6n.closePath=s8P;D6n.savePath=x6n;D6n.drawController=function(m2P){var C2P,l2P,N2P;if(d6n.tx||d6n.isEditingPath){var d2P=G6n.zoom,D2P=W6n,e2P=d6n.data,B2P=e2P.length;if(B2P){var f2P=void 0;if(!(0<=f2P)){var z2P=d6n.brush,f2P=z2P.selectedPoint||{},Q2P=f2P.idx||0;"cp1"===f2P.type&&--Q2P;f2P=d6n.isEditingPath;f2P=z2P.closingPath||f2P?Q2P:Q2P+1;}var t2P=d6n.data;C2P=t2P.length;l2P=(f2P-1+C2P)%C2P;"M"===t2P[l2P].cmd&&"Z"===t2P[(f2P-2+C2P)%C2P].cmd&&(l2P=(f2P-3+C2P)%C2P);Q2P=(f2P+C2P)%C2P;"Z"===t2P[Q2P].cmd&&(Q2P=(f2P-1+C2P)%C2P);z2P=(C2P+f2P+1)%C2P;(N2P=t2P[z2P])&&"Z"===N2P.cmd&&"M"===t2P[(f2P+2+C2P)%C2P].cmd&&(z2P=(f2P+3+C2P)%C2P);C2P=l2P;l2P=Q2P;N2P=z2P;for(var Q2P=B2P-1,f2P="Z"===e2P[Q2P].cmd,t2P=d6n.brush,X2P=t2P.bendingSegment,G2P=t2P.closingPath,z2P=t2P.getPathMatrix(),P2P=d6n.isEditingPath,W2P=0;W2P<B2P;W2P++){var U2P=e2P[W2P];if(U2P&&"C"===U2P.cmd&&((P2P?l2P===W2P||N2P===W2P||X2P&&C2P===W2P:W2P<=l2P&&W2P>=l2P-(X2P?2:1)||G2P&&1===W2P)||sketch.debug)){var V2P=e2P[W2P-1],p2P=new G1n(U2P.x1,U2P.y1),F2P=new G1n(U2P.x2,U2P.y2);G1n.equals(p2P,V2P)||(F1n(m2P,p2P,"#4f80ff",3,d2P,z2P),L1n(m2P,p2P,V2P,"#4f80ff",d2P,z2P));G1n.equals(F2P,U2P)||(F1n(m2P,F2P,"#4f80ff",3,d2P,z2P),L1n(m2P,F2P,U2P,"#4f80ff",d2P,z2P));}}B2P=t2P.ghostPoint;N2P=D2P.pointAtop;C2P=D2P.pointAtopStart;D2P=D2P.pointOnPath;l2P=t2P.interacting;N2P=!D2P&&(!N2P||C2P&&!Keyster.meta&&!Keyster.alt)&&(!l2P||t2P.autoClosePath);if(Gesture.isMouse&&N2P&&B2P&&(N2P=B2P.cmd,e1n[N2P]&&Q2P)){if(X2P=e2P[Q2P-1],C2P){e1n[N2P](m2P,X2P,B2P,"#46f224",d2P,z2P);}else{e1n[N2P](m2P,X2P,B2P,"#4f80ff",d2P,z2P),p1n(m2P,B2P,"#fff",2.5,d2P,z2P);}}if(D2P){if(!l2P&&(B2P=D2P.cmd,e1n[B2P])){e1n[B2P](m2P,D2P.point0,D2P.point1,"#4f80ff",d2P,z2P);}Keyster.meta&&(D2P=D2P.point,B2P=3/d2P,z2P&&(D2P=z2P.point2d(D2P)),m2P.save(),m2P.beginPath(),Y1n.exmark(m2P,D2P.x,D2P.y,B2P),m2P.lineWidth=2.5/d2P,m2P.strokeStyle="#000",m2P.stroke(),m2P.lineWidth=1.5/d2P,m2P.strokeStyle="#46f224",m2P.stroke(),m2P.restore());}B2P=void 0;D2P=Q2P;t2P.ghostPoint&&(D2P=Q2P-1);f2P&&d6n.isCreating&&(D2P=Q2P-2);for(Q2P=0;Q2P<=D2P;Q2P++){if(f2P=e2P[Q2P]){if(sketch.debug&&f2P.bbox&&(t2P=f2P.bbox,m2P.save(),m2P.globalAlpha=t2P.hovered?1:.15,m2P.lineWidth=.5,m2P.strokeStyle="#ff3535",m2P.strokeRect(t2P.x1,t2P.y1,t2P.x2-t2P.x1,t2P.y2-t2P.y1),m2P.restore()),"Z"!==f2P.cmd){if(!B2P||1<G1n.distance(f2P,B2P)){t2P=m2P,N2P=f2P,B2P=Q2P,C2P=d2P,l2P=z2P,G2P=d6n.brush,X2P=G2P.useBendable,0===B2P&&d6n.isCreating?N2P.hovered?Keyster.meta?p1n(t2P,N2P,"#ff3535",4.5,C2P):Keyster.alt&&X2P?p1n(t2P,N2P,"#bc19fc",4.5,C2P):p1n(t2P,N2P,"#46f224",4.5,C2P):p1n(t2P,N2P,"#fff",4.5,C2P):((G2P=G2P.selectedPoint)&&"point"===G2P.type&&G2P.idx===B2P||N2P.hovered?Keyster.meta?F1n(t2P,N2P,"#ff3535",5,C2P,l2P):Keyster.alt&&X2P?F1n(t2P,N2P,"#bc19fc",5,C2P,l2P):F1n(t2P,N2P,"#4f80ff",5,C2P,l2P):F1n(t2P,N2P,"rgba(0,0,0,0.75)",3,C2P,l2P),sketch.debug&&"number"===typeof B2P&&(l2P&&(N2P=l2P.point2d(N2P)),l2P=10/C2P,X2P=5/C2P,t2P.font="bold "+14/C2P+"px 'Helvetica Neue'",t2P.strokeText(B2P,N2P.x+l2P,N2P.y+X2P),t2P.fillText(B2P,N2P.x+l2P,N2P.y+X2P)));}B2P=f2P;}}}}}};D6n.getBoundingBox=function(){return new sketch.PathBBox(d6n.data);};D6n.getPathMatrix=M8P;D6n._convertToLineWhenFlat=function(v2P,L2P){v2P.x1===L2P.x&&v2P.y1===L2P.y&&v2P.x2===v2P.x&&v2P.y2===v2P.y&&D6n._convertToPoint(v2P,"L");};D6n._convertToPoint=function(R2P,i2P){R2P.cmd=i2P;delete R2P.bbox;delete R2P.x1;delete R2P.x2;delete R2P.y1;delete R2P.y2;};M4n(d6n,U6n,D6n,{addGhostPoint:F6n,deleteGhostPoint:e6n,renderPath:X6n});O4n(d6n,U6n,D6n,{getDistanceDelta:Y6n,getEndIndex:V6n});o4n(d6n,U6n,D6n,{isInteracting:p6n});T8P();o8P();return Promise.resolve(D6n);};}var s4n=sketch.feature,w1n=sketch.CubicBezier,D1n=sketch.Point,a1n=sketch.style,G1n=sketch.Point,Y1n=sketch.vector.Shape,e1n={L:L1n,C:function(x2P,k2P,a2P,Y2P,A2P,w2P){w2P&&(k2P=w2P.flattenPoint(k2P,{}),a2P=w2P.flattenPoint(a2P,{}));x2P.beginPath();x2P.moveTo(k2P.x,k2P.y);x2P.bezierCurveTo(a2P.x1,a2P.y1,a2P.x2,a2P.y2,a2P.x,a2P.y);x2P.lineWidth=1/A2P;x2P.strokeStyle=Y2P;x2P.stroke();}},r4n=sketch.CubicBezier,U1n=sketch.Point,d1n=sketch.Point,I4n=sketch.Point,i1n=function(r0P,s0P,n0P){s0P in r0P?Object.defineProperty(r0P,s0P,{value:n0P,enumerable:true,configurable:true,writable:true}):r0P[s0P]=n0P;return r0P;},c4n=sketch.layerUtils,n4n=sketch.util,X1n=sketch.vector,V1n=sketch.CubicBezier,W1n=sketch.Point;sketch.tools.brush_lineSegment=v1n("lineSegment");sketch.tools.brush_path=v1n("path");sketch.tools.brush_polygon=v1n("polygon");sketch.tools.brush_polyline=v1n("polyline");}();void function(){function I0P(j0P,c0P,u0P){function y0P(){var J0P=T0P.layer.env;null==J0P.pathOutline&&(J0P.pathOutline={patches:[],centroids:[]});var J0P=J0P.pathOutline,N0P=M0P[T0P.pointerId],S0P=T0P.context,b0P=[],C0P=[];Z0P(b0P,C0P);for(var K0P=0,f0P=b0P.length;K0P<f0P;K0P++){var t0P=b0P[K0P],B0P=C0P[K0P];J0P.patches.push(t0P);J0P.centroids.push(B0P);N0P.useColorStops?(S0P.beginPath(),sketch.drawPath(S0P,t0P.path),S0P.fillStyle=T0P.getNextColorStop(),S0P.fill()):sketch.drawPath(S0P,t0P.path);}}function h0P(){for(var Q0P=[],D0P=[],d0P=u0P.getSegments(c0P),z0P=T0P.priorPoint,X0P=d0P.length,l0P=0;l0P<X0P;l0P++){var m0P=d0P[l0P];0===l0P&&(T0P.x=m0P.x,T0P.y=m0P.y,q0P());z0P&&(z0P.x=null==T0P.x?m0P.x:T0P.x,z0P.y=null==T0P.y?m0P.y:T0P.y);T0P.iteration=m0P.iteration;T0P.x=m0P.x;T0P.y=m0P.y;Z0P(D0P,Q0P,l0P===X0P-1);}return c0P.env.pathOutline={hash:""+c0P.diameter,patches:D0P,centroids:Q0P,path:g0P.catmullRomSpline(Q0P,.5)};}function E0P(){var W0P=c0P.env.pathOutline;return W0P?c0P.isCreating?T0P.hasFill&&!T0P.hasStroke?h0P():W0P:W0P.hash!==c0P.hash?h0P():W0P:h0P();}function Z0P(n3P,s3P,r3P){var x0P=T0P.pointerId,U0P=M0P[x0P];if(U0P){if(r3P){delete M0P[x0P],H0P(n3P,s3P,U0P,T0P.x,T0P.y);}else{if(r3P=T0P.x-U0P.priorX,x0P=T0P.y-U0P.priorY,!(1>=Math.abs(r3P)&&1>=Math.abs(x0P))){U0P.moved=true;if(0>r3P*U0P.vectorx+x0P*U0P.vectory){var e0P=T0P.priorPoint;H0P(n3P,s3P,U0P,e0P.x,e0P.y);U0P.x=U0P.priorX=e0P.x;U0P.y=U0P.priorY=e0P.y;U0P.angle+=Math.PI;U0P.thickness*=1;}U0P.x+=.5*(T0P.x-U0P.x);U0P.y+=.5*(T0P.y-U0P.y);var e0P=U0P.x-U0P.priorX,G0P=U0P.y-U0P.priorY,k0P=Math.sqrt(e0P*e0P+G0P*G0P),F0P=c0P.diameter,F0P="number"===typeof F0P?[F0P,F0P]:F0P,V0P=Math.max(F0P[0],Math.min(F0P[1],k0P)),e0P=0===k0P?0:o0P+Math.atan2(G0P,e0P),G0P=U0P.thickness,P0P=U0P.angle,F0P=G0P+.42*(("pen"===c0P.type?(.5+Math.max(0,F0P[1]-V0P)+F0P[0])/2:(.5+V0P)/2)-G0P),A0P=Math.sin(P0P),Y0P=Math.cos(P0P),V0P=G0P*A0P,G0P=G0P*Y0P,P0P=F0P*Math.sin(e0P),w0P=F0P*Math.cos(e0P),a0P=U0P.x,i0P=U0P.y,L0P=U0P.priorX,v0P=U0P.priorY;if(U0P.useColorStops){var R0P=Math.sin(e0P-o0P),p0P=Math.cos(e0P-o0P),L0P=L0P-.25*p0P,v0P=v0P-.25*R0P,a0P=a0P+.25*p0P,i0P=i0P+.25*R0P;}R0P=.33*k0P*A0P;p0P=-.33*k0P*Y0P;k0P=L0P+G0P+R0P;A0P=v0P+V0P+p0P;Y0P=L0P-G0P+R0P;R0P=v0P-V0P+p0P;p0P=[];p0P.push({cmd:"M",x:L0P+G0P,y:v0P+V0P});p0P.push({cmd:"Q",x1:k0P,y1:A0P,x:a0P+w0P,y:i0P+P0P});p0P.push({cmd:"L",x:a0P-w0P,y:i0P-P0P});p0P.push({cmd:"Q",x1:Y0P,y1:R0P,x:L0P-G0P,y:v0P-V0P});p0P.push({cmd:"L",x:L0P+G0P,y:v0P+V0P});U0P.priorX=U0P.x;U0P.priorY=U0P.y;U0P.angle=e0P;U0P.thickness=F0P;U0P.vectorx=r3P;U0P.vectory=x0P;U0P.cos=w0P;U0P.sin=P0P;n3P.push({path:p0P});s3P.push(O0P.atTimeOnLine(new O0P(a0P+w0P,i0P+P0P),new O0P(a0P-w0P,i0P-P0P),.5));}}}else{console.warn("Streamer not setup",U0P);}}function H0P(g3P,h3P,T3P,o3P,O3P){var I3P=new g0P.Record();if(T3P.moved){var c3P=T3P.cos,M3P=T3P.sin;I3P.arc(o3P,O3P,1*T3P.thickness,0,2*Math.PI,true);I3P.moveTo(T3P.x+c3P,T3P.y+M3P);I3P.lineTo(o3P+1*c3P,O3P+1*M3P);I3P.lineTo(o3P-1*c3P,O3P-1*M3P);I3P.lineTo(T3P.x-c3P,T3P.y-M3P);I3P.lineTo(T3P.x+c3P,T3P.y+M3P);}else{I3P.arc(o3P,O3P,1.5,0,2*Math.PI,true);}T3P=I3P.path;I3P=new sketch.PathBBox(I3P.path).centroid();g3P.push({path:T3P,centroid:I3P,endCap:true});h3P.push(I3P);}function q0P(){var y3P=M0P[T0P.pointerId]={};y3P.x=T0P.x;y3P.y=T0P.y;y3P.priorX=T0P.x;y3P.priorY=T0P.y;y3P.vectorx=0;y3P.vectory=0;y3P.cos=0;y3P.sin=0;y3P.thickness=0;y3P.angle=o0P;y3P.moved=false;y3P.useColorStops=c0P.isCreating||"gradient"===c0P.stroke.type;}var T0P={bufferRecordingIndex:1,isPatchBased:true,useAlphaCache:true},g0P=sketch.vector,O0P=sketch.Point,o0P=Math.PI/2,M0P={};T0P.drawPath=function(q3P){var H3P=E0P();c0P.isCreating?g0P.catmullRomSpline(H3P.centroids,.5,{ctx:q3P}):sketch.drawPath(q3P,H3P.path);};T0P.drawStart=function(){var Z3P=T0P.context;Z3P.lineCap="round";Z3P.lineJoin="round";Z3P.beginPath();q0P();};T0P.drawChange=y0P;T0P.drawEnd=y0P;T0P.render=function(E3P){E3P.lineCap="round";E3P.lineJoin="round";E3P.beginPath();var J3P=E0P().patches,u3P=c0P.isCreating||"gradient"===c0P.stroke.type;T0P.iteration=T0P.layer.iteration||1;for(var j3P=0,K3P=J3P.length;j3P<K3P;j3P++){u3P&&E3P.beginPath();var S3P=J3P[j3P];sketch.drawPath(E3P,S3P.path);u3P&&(S3P.endCap||T0P.iteration++,E3P.fillStyle=T0P.getNextColorStop(),E3P.fill());}u3P||(E3P.fillStyle=T0P.getNextColorStop(),E3P.fill());};return T0P;}sketch.tools.brush_pen=I0P;sketch.tools.brush_streamer=I0P;}();void function(){sketch.tools.brush_spirograph=function(Q3P,t3P){var B3P=true,N3P=0,m3P=1,f3P=void 0,l3P=void 0,C3P=0,b3P={pathSmoothing:{type:0,value:.5}};t3P.iterations||(t3P.iterations=100);b3P.lineWidth=t3P.lineWidth||1;b3P.contract=t3P.contract||0;b3P.increment=t3P.increment||1;b3P.radius=t3P.radius||[3.2,10.2];b3P.drawStart=function(){N3P=C3P=0;m3P=b3P.increment;l3P=f3P=void 0;};b3P.drawChange=function(){var D3P=b3P.context,X3P=t3P.diameter/2,W3P=b3P.radius[1]*X3P||1E-10,d3P=b3P.radius[0]*X3P||1E-10;0===b3P.contract&&(C3P=X3P-Math.max(W3P,d3P)+Math.min(W3P,d3P));D3P.lineWidth=b3P.lineWidth;for(X3P=t3P.iterations>>0;X3P--;){if(C3P>t3P.diameter||0>C3P){B3P=!B3P;}B3P?(N3P-=m3P,C3P-=b3P.contract):(N3P+=m3P,C3P+=b3P.contract);var z3P=(W3P-d3P)/d3P*N3P,U3P=(W3P-d3P)*Math.cos(N3P)+C3P*Math.cos(z3P),z3P=(W3P-d3P)*Math.sin(N3P)-C3P*Math.sin(z3P),U3P=U3P+b3P.x,z3P=z3P+b3P.y;f3P&&(D3P.beginPath(),D3P.moveTo(f3P,l3P),D3P.lineTo(U3P,z3P),D3P.strokeStyle=b3P.getNextColorStop(),D3P.stroke());f3P=U3P;l3P=z3P;}};return b3P;};}();void function(){var G3P={};sketch.tools.brush_spraypaint=function(x3P,F3P){function T5P(c5P){if(Number.isFinite(window.orientation)){var M5P=window.orientation/180;.5===M5P?(M5P=-c5P.gamma/90,c5P=c5P.beta/90):-.5===M5P?(M5P=c5P.gamma/90,c5P=-c5P.beta/90):1===M5P?(M5P=-c5P.beta/90,c5P=-c5P.gamma/90):(M5P=c5P.beta/90,c5P=c5P.gamma/90);R3P=5*c5P;L3P=5*M5P;}else{L3P=c5P.beta/90*3+1.5,R3P=c5P.gamma/90*5;}}function Y3P(){}function I5P(Z5P){var O5P=this,o5P=e3P.context,j5P=s5P.getCtxBlendMode(F3P),u5P=F3P.opacity,g5P=F3P.diameter,q5P=p3P.toDouble()*g5P*.05+1,E5P=q5P/g5P*5,h5P=1,y5P=p3P.toDouble()*q5P,H5P=0;O5P.color=v3P;O5P.threshold=g5P*p3P.toDouble();O5P.update=function(){h5P-=.005;.5>h5P&&(h5P=.5);var J5P=Math.max(1E-5,h5P*E5P),S5P=g5P/2,K5P=S5P*J5P,b5P=g5P/2*J5P;o5P.save();o5P.translate(Z5P.x-K5P+y5P,Z5P.y-b5P+H5P);o5P.scale(J5P,J5P);o5P.globalAlpha=u5P;o5P.globalCompositeOperation=j5P;o5P.beginPath();o5P.fillStyle=O5P.color;o5P.arc(S5P,g5P,S5P,0,i3P,true);o5P.fill();o5P.restore();y5P+=2*p3P.toDouble()-1+R3P;H5P+=L3P;O5P.beta++;O5P.gamma++;};O5P.gamma=0;O5P.beta=0;}var e3P={pathSmoothing:{type:0,value:.5}},r5P=sketch.util.isEmpty,s5P=sketch.style;F3P.airbrush=true;e3P.attach=function(t5P){t5P.onDeviceOrientation=Gesture.on(window,"deviceorientation",T5P,false);};e3P.drawStart=function(){p3P=sketch.PseudoRandom(F3P.seed||1);var l5P=e3P.pointerId,Q5P=V3P,C5P=F3P.diameter,f5P=P3P,B5P=sketch.Canvas2D(),m5P=B5P.ctx,N5P=x3P.pixelRatio;B5P.width=f5P.width=C5P*N5P;B5P.height=f5P.height=C5P*N5P;m5P.drawImage(f5P,0,0,C5P*N5P,C5P*N5P);Q5P[l5P]={bitmap:m5P,iteration:e3P.iteration+1,scale:0,scaleRatio:1,stepOneVal:0,dripFrameCount:0,prevDist:0,dripPoint:{x:e3P.x,y:e3P.y},prevPoint:{x:e3P.x,y:e3P.y}};};e3P.drawChange=function(d5P){var z5P=V3P[e3P.pointerId];if(z5P&&z5P.dripPoint){var D5P=z5P.bitmap,U5P=D5P.canvas;if(U5P&&U5P.width&&U5P.height){var W5P=e3P.getNextColorStop();if(v3P!==W5P&&W5P||z5P.iteration===e3P.iteration){D5P.globalCompositeOperation="source-in",D5P.fillStyle=W5P||sketch.globals.color,D5P.fillRect(0,0,U5P.width,U5P.height),v3P=W5P;}2<d5P.length&&!e3P.animating&&(e3P.animating=true,requestAnimationFrame(Y3P));d5P=e3P.x-z5P.prevPoint.x;D5P=e3P.y-z5P.prevPoint.y;z5P.prevDist=Math.sqrt(d5P*d5P+D5P*D5P);z5P.prevPoint={x:e3P.x,y:e3P.y};d5P=e3P.x-z5P.dripPoint.x;D5P=e3P.y-z5P.dripPoint.y;Math.sqrt(d5P*d5P+D5P*D5P)<n5P?++z5P.dripFrameCount===w3P&&k3P&&(z5P.dripFrameCount=0,a3P.push(new I5P({x:e3P.x,y:e3P.y}))):(z5P.dripFrameCount=0,z5P.dripPoint={x:e3P.x,y:e3P.y});D5P=x3P.pixelRatio;d5P=Math.max(1E-5,z5P.scaleRatio*z5P.scale*Math.max((30-z5P.prevDist)/30,0));d5P/=D5P;z5P.stepOneVal<A3P&&(z5P.scale=Math.sin(z5P.stepOneVal),z5P.stepOneVal+=.1);var z5P=F3P.diameter*D5P*.5,D5P=F3P.diameter*D5P*.5,W5P=z5P*d5P,G5P=D5P*d5P,X5P=e3P.context;X5P.save();X5P.translate(e3P.x-W5P,e3P.y-G5P);X5P.scale(d5P,d5P);X5P.translate(z5P,D5P);X5P.rotate(p3P.toDouble()*i3P);X5P.translate(-z5P,-D5P);X5P.drawImage(U5P,0,0);X5P.restore();}}};e3P.drawEnd=function(){delete V3P[e3P.pointerId];r5P(V3P)&&(e3P.animating=false,cancelAnimationFrame(Y3P),a3P=[]);};e3P.load=function(){var F5P=sketch.loc.MEDIA+"stamp/Basic/1-live.png",e5P=G3P[F5P];if(e5P){return P3P=e5P,e5P.isLoaded?void 0:e5P.promise;}G3P[F5P]=P3P=e5P=new Image();return e5P.promise=sketch.requestImage(F5P,{image:e5P}).then(function(p5P){p5P.isLoaded=true;return e3P;});};var n5P=20,w3P=15,k3P=F3P.dripDistance||30,V3P={},i3P=2*Math.PI,A3P=.5*Math.PI,L3P=2,a3P=[],R3P=0,v3P=void 0,P3P=new Image(),p3P=sketch.PseudoRandom(F3P.seed||1);return e3P;};}();void function(){function V5P(A5P,P5P){function n9P(){function c9P(g9P,H9P){var y9P=P5P.srcs,M9P=Array.isArray(y9P)?y9P[H9P]:P5P.src,y9P=[I9P,M9P].join(),o9P=P5P.env._stamp||{};if(o9P.hash!==y9P){H9P=(o9P=R5P[T9P])&&o9P[H9P]&&o9P[H9P].canvas||sketch.Canvas2D();o9P=H9P.ctx;g9P=x5P.getContent(g9P);M9P&&!g9P&&console.error(M9P);if(g9P){var M9P=g9P.width,O9P=g9P.height;M9P>I9P&&(O9P*=I9P/M9P,M9P=I9P);O9P>I9P&&(M9P*=I9P/O9P,O9P=I9P);var h9P=Math.sqrt(M9P*M9P+O9P*O9P);h9P>I9P&&(h9P=I9P/h9P,M9P*=h9P,O9P*=h9P);h9P=o9P.canvas;h9P.width=M9P;h9P.height=O9P;h9P.title="stamp-"+g9P.assetId;"clipart"===g9P.assetType?g9P.drawTo(o9P,{width:M9P,height:O9P}):o9P.drawImage(g9P,0,0,M9P,O9P);}else{r9P(o9P,I9P);}P5P.env._stamp=o9P={canvas:H9P,ctx:o9P,hash:y9P};}o9P.scaleRatio=1/(Math.sqrt(Math.pow(o9P.canvas.width,2)+Math.pow(o9P.canvas.height,2))/P5P.diameter);return o9P;}var I9P=s9P(P5P.bbox,P5P.diameter*A5P.pixelRatio),T9P=v5P.pointerId;if(T9P&&I9P){return v5P.assetIds?v5P.assetIds.map(c9P):[c9P(null,0)];}sketch.debug&&console.error("stamp error",T9P,I9P);}function s9P(q9P,Z9P){return Math.round(Math.max(q9P.scale.x,q9P.scale.y)*(P5P.jitterScale[1]||1)*Z9P);}function r9P(S9P,E9P){var b9P=sketch.PseudoRandom(P5P.seed||1),J9P=S9P.canvas.width=E9P,C9P=S9P.canvas.height=E9P,t9P=S9P.getImageData(0,0,J9P,C9P),B9P=t9P.data,f9P=25*E9P;E9P/=2;for(var N9P=0;N9P<f9P;N9P++){var K9P=b9P.toDouble()*E9P,u9P=2*b9P.toDouble()*Math.PI,j9P=Math.sin(u9P)*K9P+E9P+.5>>0,u9P=Math.cos(u9P)*K9P+E9P+.5>>0;j9P>=J9P||0>=j9P||u9P>=C9P||0>=u9P||(B9P[4*(u9P*J9P+j9P)+3]=255*(1.5-K9P/E9P));}S9P.putImageData(t9P,0,0);v5P.getDiameter=function(){return.75*P5P.diameter;};}var v5P={},x5P=sketch.assets,k5P=sketch.style,a5P=sketch.Point,w5P=180/Math.PI,Y5P=Math.PI/180;Array.isArray(P5P.jitterOffset)||(P5P.jitterOffset=[0,0]);Array.isArray(P5P.jitterRotation)||(P5P.jitterRotation=[0,0]);Array.isArray(P5P.jitterScale)||(P5P.jitterScale=[0,1]);v5P.pathSmoothing={type:0,value:.5};v5P.drawStart=function(){i5P&&(delete P5P.src,P5P.stroke.mode="cycle",P5P.jitterOffset=[0,0],P5P.jitterRotation=[0,360],P5P.jitterScale=[1,1],P5P.pathSpacing={type:sketch.PATH_SPACING.EVEN,pattern:[Math.sqrt(P5P.diameter)]});L5P=sketch.PseudoRandom(P5P.seed||1);var m9P=R5P[v5P.pointerId]=n9P();v5P.bitmapIndex=0;v5P.bitmapLength=m9P.length;m9P[v5P.bitmapIndex%v5P.bitmapLength].ctx._styleApplied=false;};v5P.drawChange=function(){var U9P=v5P.context,d9P=v5P.priorPoint,v9P=!!P5P.alignToPath,z9P=R5P[v5P.pointerId];if(z9P){var z9P=z9P[v5P.bitmapIndex++%v5P.bitmapLength],D9P=z9P.scaleRatio,Q9P=z9P.ctx,z9P=Q9P.canvas,e9P=z9P.width,p9P=z9P.height,V9P=e9P/2,F9P=p9P/2;if(V9P&&F9P){var G9P=P5P.jitterOffset[0]||1E-5,l9P=P5P.jitterOffset[1]||1E-5,P9P;0===G9P&&0===l9P?G9P=P9P=0:(P9P=(l9P-G9P)*L5P.toDouble()+G9P,G9P=(l9P-G9P)*L5P.toDouble()+G9P);var l9P=P5P.jitterScale[0],W9P=P5P.jitterScale[1],D9P=1===l9P&&1===W9P?D9P||1E-5:((W9P-l9P)*L5P.toDouble()+l9P)*D9P||1E-5,l9P=0,X9P=P5P.jitterRotation[0],W9P=P5P.jitterRotation[1];0<=X9P&&0<=W9P&&(X9P<=W9P?l9P=(W9P-X9P)*L5P.toDouble()+X9P:(l9P=X9P-W9P,X9P=(360-l9P)*L5P.toDouble(),l9P=X9P>W9P?X9P+l9P:X9P));v9P&&(d9P=a5P.angle(new a5P(d9P.x,d9P.y),new a5P(v5P.x,v5P.y)),l9P+=(d9P+Math.PI/2)*w5P);d9P=P5P.stroke;"cycle"===d9P.mode?(d9P=v5P.getNextColorStop(),d9P!==Q9P.fillStyle&&(Q9P.globalCompositeOperation="source-atop",Q9P.fillStyle=d9P,Q9P.fillRect(0,0,e9P,p9P))):Q9P._styleApplied||(Q9P._styleApplied=true,Q9P.beginPath(),Q9P.rect(0,0,e9P,p9P),k5P.applyFill(Q9P,d9P,{},{blend:"source-atop",opacity:1,width:e9P,height:p9P}));Q9P=v5P.x-V9P*D9P;e9P=v5P.y-F9P*D9P;U9P.save();U9P.translate(Q9P,e9P);1!==D9P&&U9P.scale(D9P,D9P);0!==l9P&&(U9P.translate(V9P,F9P),U9P.rotate(l9P*Y5P),U9P.translate(-V9P,-F9P));U9P.translate(1*P9P/D9P,1*G9P/D9P);U9P.drawImage(z9P,0,0);U9P.restore();}}};v5P.drawEnd=function(){delete R5P[v5P.pointerId];};v5P.load=function(){if(!i5P){var L9P=P5P.srcs||P5P.src;if(L9P){Array.isArray(L9P)||(L9P=[L9P]);var R9P=L9P.join();if(R9P!==v5P.hashSrc){return Promise.each(L9P,function(i9P){return x5P.add(i9P,{type:"stamp",referenceId:P5P.id});}).then(function(a9P){v5P.assetIds=a9P;v5P.hashSrc=R9P;return v5P;});}}else{console.error("Stamp src is required!");}}};var R5P={},L5P=sketch.PseudoRandom(P5P.seed||1),i5P="crayon"===P5P.type;return i5P?v5P:v5P.load();}sketch.tools.brush_crayon=V5P;sketch.tools.brush_stamp=V5P;}();void function(){function x9P(k9P){k9P=k9P.replace(/\W/g,"").trim();return unescape(JSON.parse('"'+k9P+'"'));}sketch.convert.abr=function(s1P,E1P){function y1P(){if(I1P!==A9P.count&&!(w9P>Y9P.byteLength-1)){var u1P={};u1P.idx=I1P;A9P.brush.push(u1P);c1P&&(u1P.type=n1P());u1P.byteSize=r1P();if(g1P){for(;0!==u1P.byteSize%4;){u1P.byteSize++;}}u1P.next=w9P+u1P.byteSize;if(c1P){if(2!==u1P.type){return w9P=u1P.next,h1P();}w9P+=4;u1P.spacing=n1P();2===A9P.version&&(u1P.name=x9P(Z1P(true)));u1P.antialiasing=q1P();w9P+=8;}else{w9P+=1===A9P.subversion?47:301;}var t1P=r1P(),N1P=r1P(),f1P=r1P(),S1P=r1P(),K1P=n1P(),j1P=q1P();u1P.width=S1P-N1P;u1P.height=f1P-t1P;u1P.size=u1P.width*(K1P>>3)*u1P.height;t1P=sketch.Canvas2D(u1P.width,u1P.height);N1P=t1P.ctx;f1P=N1P.getImageData(0,0,t1P.width,t1P.height);S1P=f1P.data;if(0===j1P){if(8===K1P){for(var j1P=w9P,J1P=0,K1P=w9P+u1P.size;j1P<K1P;j1P++,J1P+=4){S1P[J1P]=0,S1P[J1P+1]=0,S1P[J1P+2]=0,S1P[J1P+3]=Y9P.getUint8(j1P);}}else{for(j1P=w9P,J1P=0,K1P=w9P+u1P.size;j1P<K1P;j1P+=4,J1P+=4){S1P[J1P]=Y9P.getUint8(j1P),S1P[J1P+1]=Y9P.getUint8(j1P+1),S1P[J1P+2]=Y9P.getUint8(j1P+2),S1P[J1P+3]=Y9P.getUint8(j1P+3);}}}else{for(var j1P=0,J1P=[],C1P=0;C1P<u1P.height;C1P++){J1P[C1P]=Y9P.getUint16(w9P,false),w9P+=2;}K1P=8===K1P?3:0;for(C1P=0;C1P<u1P.height;C1P++){for(var B1P=0;B1P<J1P[C1P];){var b1P=Y9P.getUint8(w9P);w9P++;B1P++;128<=b1P&&(b1P-=256);if(0>b1P){if(-128!==b1P){var b1P=-b1P+1,m1P=Y9P.getUint8(w9P);w9P++;B1P++;for(var l1P=0;l1P<b1P;l1P++,j1P+=K1P+1){S1P[j1P+3]=m1P;}}}else{for(m1P=0;m1P<b1P+1;m1P++,j1P+=K1P+1){S1P[j1P+K1P]=Y9P.getUint8(w9P),w9P++,B1P++;}}}}}g1P&&(w9P=O1P+T1P,T1P+=o1P("Nm  TEXT"),u1P.name=x9P(Z1P()),T1P+=o1P("Nm  TEXT"),T1P+=o1P("Nm  TEXT"));N1P.putImageData(f1P,0,0);H1P.debugCache&&(document.body.appendChild(t1P),t1P.style.background="#ffffaa");E1P(t1P,u1P,(I1P+1)/A9P.count,h1P);w9P=u1P.next;}}function h1P(){setTimeout(function(){return y1P(I1P++);},1);}function q1P(){if(!(w9P+1>Y9P.byteLength)){return Y9P.getUint8(w9P++-1,false);}}function n1P(){if(!(w9P+2>Y9P.byteLength)){return Y9P.getUint16((w9P+=2)-2,false);}}function r1P(){if(!(w9P+4>Y9P.byteLength)){return Y9P.getUint32((w9P+=4)-4,false);}}function Z1P(Q1P){var z1P=r1P();if(0===z1P){return w9P=brush.next,Q1P&&h1P();}Q1P="";for(var D1P=0;D1P<z1P;D1P++){Q1P+=String.fromCharCode(Y9P.getUint16(w9P,false)),w9P+=2;}return Q1P;}function o1P(X1P){for(var d1P="",G1P=Y9P.byteLength,W1P=0;d1P!==X1P&&w9P<G1P;){++W1P;var U1P=String.fromCharCode(Y9P.getUint8(w9P,false));w9P++;if(X1P[d1P.length]===U1P){if(d1P+=U1P,d1P===X1P){return W1P;}}else{d1P="";}}}var H1P=sketch.feature,A9P={},w9P=0,T1P=0,Y9P=new DataView(s1P);A9P.brush=[];A9P.version=n1P();A9P.subversion=0;var I1P=A9P.count=0,c1P=6>A9P.version,g1P=6<=A9P.version,O1P=s1P=void 0;s1P=void 0;if(c1P){A9P.count=n1P(),y1P();}else if(g1P){A9P.subversion=n1P();o1P("8BIMsamp");s1P=r1P();O1P=s1P+w9P;s1P=w9P;for(A9P.count=0;w9P<O1P;){for(var M1P=r1P();0!==M1P%4;){M1P++;}w9P+=M1P;A9P.count++;}w9P=s1P;y1P();}};}();void function(){sketch.convert.gbr=function(V1P,k1P,F1P){var x1P=sketch.feature,R1P={0:"headerSize",4:"version",8:"width",12:"height",16:"colorDepth",20:"magick",24:"spacing"},p1P={};V1P=new DataView(V1P);for(var P1P=0;28>P1P;P1P+=4){p1P[R1P[P1P]]=V1P.getUint32(P1P,false);}if(1195986256===p1P.magick&&V1P.byteLength>p1P.headerSize){p1P.name="";var e1P=p1P.headerSize-1;for(F1P=28;F1P<e1P;F1P++){p1P.name+=String.fromCharCode(V1P.getUint8(F1P));}F1P=sketch.Canvas2D(p1P.width,p1P.height);var R1P=F1P.ctx,P1P=R1P.getImageData(0,0,F1P.width,F1P.height),v1P=P1P.data,a1P=V1P.byteLength;if(1===p1P.colorDepth){for(var L1P=0;e1P<a1P;e1P++,L1P+=4){var i1P=V1P.getUint8(e1P);v1P[L1P]=0;v1P[L1P+1]=0;v1P[L1P+2]=0;v1P[L1P+3]=i1P;}}else{for(a1P-=4;e1P<a1P;e1P+=4){var L1P=V1P.getUint8(e1P),i1P=V1P.getUint8(e1P+1),Y1P=V1P.getUint8(e1P+2),w1P=V1P.getUint8(e1P+3);v1P[4*e1P]=255-L1P;v1P[4*e1P+1]=255-i1P;v1P[4*e1P+2]=255-Y1P;v1P[4*e1P+3]=255-w1P;}}R1P.putImageData(P1P,0,0);x1P.debugCache&&(F1P.style.background="#ffffaa",document.body.appendChild(F1P));k1P&&k1P(F1P,p1P,1);}else{F1P&&F1P();}};}();void function(){sketch.tools.brush_textBrush=function(I4P,n4P){var A1P={pathSmoothing:{type:0,value:.5}},r4P=0,s4P=0;A1P.fontFamily=n4P.fontFamily||"Georgia";A1P.fontSize=n4P.fontSizeFloor||[10,100];A1P.content=n4P.content&&n4P.content.value||"";A1P.drawStart=function(){r4P=A1P.x;s4P=A1P.y;};A1P.drawChange=function(){var T4P=A1P.context,c4P=A1P.x-r4P,M4P=A1P.y-s4P,O4P=Math.sqrt(c4P*c4P+M4P*M4P);T4P.save();T4P.font=Math.max(A1P.fontSize.min,O4P/2)+"px "+A1P.fontFamily;T4P.fillStyle=A1P.getNextColorStop();var g4P=A1P.content[A1P.iteration%A1P.content.length],o4P=T4P.measureText(g4P).width;O4P>o4P&&(c4P=Math.atan2(M4P,c4P),T4P.translate(r4P,s4P),T4P.rotate(c4P),T4P.fillText(g4P,0,0),r4P+=Math.cos(c4P)*o4P,s4P+=Math.sin(c4P)*o4P);T4P.restore();};return A1P;};}();(function(h4P){"object"===typeof exports&&"undefined"!==typeof module?module.exports=h4P():"function"===typeof define&&define.amd?define([],h4P):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).PIXI=h4P();}(function(){return function y4P(H4P,q4P,E4P){function u4P(J4P,S4P){if(!q4P[J4P]){if(!H4P[J4P]){var K4P="function"==typeof require&&require;if(!S4P&&K4P){return K4P(J4P,true);}if(j4P){return j4P(J4P,true);}S4P=Error("Cannot find module '"+J4P+"'");throw S4P.code="MODULE_NOT_FOUND",S4P;}S4P=q4P[J4P]={exports:{}};H4P[J4P][0].call(S4P.exports,function(t4P){var b4P=H4P[J4P][1][t4P];return u4P(b4P?b4P:t4P);},S4P,S4P.exports,y4P,H4P,q4P,E4P);}return q4P[J4P].exports;}for(var j4P="function"==typeof require&&require,Z4P=0;Z4P<E4P.length;Z4P++){u4P(E4P[Z4P]);}return u4P;}({1:[function(B4P,m4P,C4P){function f4P(Q4P){var l4P=32;(Q4P&=-Q4P)&&l4P--;Q4P&65535&&(l4P-=16);Q4P&16711935&&(l4P-=8);Q4P&252645135&&(l4P-=4);Q4P&858993459&&(l4P-=2);Q4P&1431655765&&--l4P;return l4P;}"use restrict";C4P.INT_BITS=32;C4P.INT_MAX=2147483647;C4P.INT_MIN=-2147483648;C4P.sign=function(z4P){return(0<z4P)-(0>z4P);};C4P.abs=function(d4P){var D4P=d4P>>31;return(d4P^D4P)-D4P;};C4P.min=function(W4P,X4P){return X4P^(W4P^X4P)&-(W4P<X4P);};C4P.max=function(U4P,G4P){return U4P^(U4P^G4P)&-(U4P<G4P);};C4P.isPow2=function(e4P){return!(e4P&e4P-1)&&!!e4P;};C4P.log2=function(p4P){var V4P,F4P;V4P=(65535<p4P)<<4;p4P>>>=V4P;F4P=(255<p4P)<<3;p4P>>>=F4P;V4P|=F4P;F4P=(15<p4P)<<2;p4P>>>=F4P;V4P|=F4P;F4P=(3<p4P)<<1;return V4P|F4P|p4P>>>F4P>>1;};C4P.log10=function(P4P){return 1E9<=P4P?9:1E8<=P4P?8:1E7<=P4P?7:1E6<=P4P?6:1E5<=P4P?5:1E4<=P4P?4:1E3<=P4P?3:100<=P4P?2:10<=P4P?1:0;};C4P.popCount=function(v4P){v4P-=v4P>>>1&1431655765;v4P=(v4P&858993459)+(v4P>>>2&858993459);return 16843009*(v4P+(v4P>>>4)&252645135)>>>24;};C4P.countTrailingZeros=f4P;C4P.nextPow2=function(L4P){L4P+=0===L4P;--L4P;L4P|=L4P>>>1;L4P|=L4P>>>2;L4P|=L4P>>>4;L4P|=L4P>>>8;return(L4P|L4P>>>16)+1;};C4P.prevPow2=function(R4P){R4P|=R4P>>>1;R4P|=R4P>>>2;R4P|=R4P>>>4;R4P|=R4P>>>8;R4P|=R4P>>>16;return R4P-(R4P>>>1);};C4P.parity=function(i4P){i4P^=i4P>>>16;i4P^=i4P>>>8;return 27030>>>((i4P^i4P>>>4)&15)&1;};var N4P=Array(256);(function(Y4P){for(var x4P=0;256>x4P;++x4P){for(var a4P=x4P,k4P=x4P,w4P=7,a4P=a4P>>>1;a4P;a4P>>>=1){k4P<<=1,k4P|=a4P&1,--w4P;}Y4P[x4P]=k4P<<w4P&255;}}(N4P));C4P.reverse=function(A4P){return N4P[A4P&255]<<24|N4P[A4P>>>8&255]<<16|N4P[A4P>>>16&255]<<8|N4P[A4P>>>24&255];};C4P.interleave2=function(r7P,s7P){r7P&=65535;r7P=(r7P|r7P<<8)&16711935;r7P=(r7P|r7P<<4)&252645135;r7P=(r7P|r7P<<2)&858993459;s7P&=65535;s7P=(s7P|s7P<<8)&16711935;s7P=(s7P|s7P<<4)&252645135;s7P=(s7P|s7P<<2)&858993459;return(r7P|r7P<<1)&1431655765|((s7P|s7P<<1)&1431655765)<<1;};C4P.deinterleave2=function(n7P,I7P){n7P=n7P>>>I7P&1431655765;n7P=(n7P|n7P>>>1)&858993459;n7P=(n7P|n7P>>>2)&252645135;n7P=(n7P|n7P>>>4)&16711935;return((n7P|n7P>>>16)&65535)<<16>>16;};C4P.interleave3=function(T7P,c7P,M7P){T7P&=1023;T7P=(T7P|T7P<<16)&4278190335;T7P=(T7P|T7P<<8)&251719695;T7P=(T7P|T7P<<4)&3272356035;c7P&=1023;c7P=(c7P|c7P<<16)&4278190335;c7P=(c7P|c7P<<8)&251719695;c7P=(c7P|c7P<<4)&3272356035;M7P&=1023;M7P=(M7P|M7P<<16)&4278190335;M7P=(M7P|M7P<<8)&251719695;M7P=(M7P|M7P<<4)&3272356035;return(T7P|T7P<<2)&1227133513|((c7P|c7P<<2)&1227133513)<<1|((M7P|M7P<<2)&1227133513)<<2;};C4P.deinterleave3=function(o7P,O7P){o7P=o7P>>>O7P&1227133513;o7P=(o7P|o7P>>>2)&3272356035;o7P=(o7P|o7P>>>4)&251719695;o7P=(o7P|o7P>>>8)&4278190335;return((o7P|o7P>>>16)&1023)<<22>>22;};C4P.nextCombination=function(h7P){var g7P=h7P|h7P-1;return g7P+1|(~g7P&-~g7P)-1>>>f4P(h7P)+1;};},{}],2:[function(z7P,t7P,D7P){function j7P(G7P,d7P,e7P){e7P=e7P||2;var W7P=d7P&&d7P.length,R7P=W7P?d7P[0]*e7P:G7P.length,p7P=N7P(G7P,0,R7P,e7P,true),L7P=[];if(!p7P){return L7P;}var v7P,P7P,F7P,X7P;if(W7P){var U7P=e7P,W7P=[],i7P,V7P,a7P;X7P=0;for(i7P=d7P.length;X7P<i7P;X7P++){V7P=d7P[X7P]*U7P,a7P=X7P<i7P-1?d7P[X7P+1]*U7P:G7P.length,V7P=N7P(G7P,V7P,a7P,U7P,false),V7P===V7P.next&&(V7P.steiner=true),W7P.push(m7P(V7P));}W7P.sort(l7P);for(X7P=0;X7P<W7P.length;X7P++){d7P=W7P[X7P];U7P=p7P;if(U7P=Q7P(d7P,U7P)){d7P=f7P(U7P,d7P),E7P(d7P,d7P.next);}p7P=E7P(p7P,p7P.next);}}if(G7P.length>80*e7P){v7P=F7P=G7P[0];P7P=W7P=G7P[1];for(U7P=e7P;U7P<R7P;U7P+=e7P){X7P=G7P[U7P],d7P=G7P[U7P+1],X7P<v7P&&(v7P=X7P),d7P<P7P&&(P7P=d7P),X7P>F7P&&(F7P=X7P),d7P>W7P&&(W7P=d7P);}F7P=Math.max(F7P-v7P,W7P-P7P);F7P=0!==F7P?1/F7P:0;}u7P(p7P,L7P,e7P,v7P,P7P,F7P);return L7P;}function N7P(w7P,A7P,r6P,Y7P,x7P){var k7P;if(x7P===0<S7P(w7P,A7P,r6P,Y7P)){for(x7P=A7P;x7P<r6P;x7P+=Y7P){k7P=B7P(x7P,w7P[x7P],w7P[x7P+1],k7P);}}else{for(x7P=r6P-Y7P;x7P>=A7P;x7P-=Y7P){k7P=B7P(x7P,w7P[x7P],w7P[x7P+1],k7P);}}k7P&&H7P(k7P,k7P.next)&&(q7P(k7P),k7P=k7P.next);return k7P;}function E7P(s6P,n6P){if(!s6P){return s6P;}n6P||(n6P=s6P);var I6P;do{if(I6P=false,s6P.steiner||!H7P(s6P,s6P.next)&&0!==y7P(s6P.prev,s6P,s6P.next)){s6P=s6P.next;}else{q7P(s6P);s6P=n6P=s6P.prev;if(s6P===s6P.next){break;}I6P=true;}}while(I6P||s6P!==n6P);return n6P;}function u7P(h6P,u6P,J6P,K6P,S6P,j6P,q6P){if(h6P){if(!q6P&&j6P){var H6P=h6P,c6P=H6P;do{null===c6P.z&&(c6P.z=b7P(c6P.x,c6P.y,K6P,S6P,j6P)),c6P.prevZ=c6P.prev,c6P=c6P.nextZ=c6P.next;}while(c6P!==H6P);c6P.prevZ.nextZ=null;c6P.prevZ=null;var H6P=c6P,Z6P,M6P,T6P,g6P,O6P,E6P,o6P=1;do{c6P=H6P;T6P=H6P=null;for(g6P=0;c6P;){g6P++;M6P=c6P;for(Z6P=O6P=0;Z6P<o6P&&(O6P++,M6P=M6P.nextZ,M6P);Z6P++){;}for(E6P=o6P;0<O6P||0<E6P&&M6P;){0!==O6P&&(0===E6P||!M6P||c6P.z<=M6P.z)?(Z6P=c6P,c6P=c6P.nextZ,O6P--):(Z6P=M6P,M6P=M6P.nextZ,E6P--),T6P?T6P.nextZ=Z6P:H6P=Z6P,Z6P.prevZ=T6P,T6P=Z6P;}c6P=M6P;}T6P.nextZ=null;o6P*=2;}while(1<g6P);}for(H6P=h6P;h6P.prev!==h6P.next;){c6P=h6P.prev;M6P=h6P.next;if(j6P){a:{T6P=h6P;E6P=K6P;var y6P=S6P,b6P=j6P;g6P=T6P.prev;O6P=T6P;o6P=T6P.next;if(0<=y7P(g6P,O6P,o6P)){T6P=false;}else{var C6P=g6P.x>O6P.x?g6P.x>o6P.x?g6P.x:o6P.x:O6P.x>o6P.x?O6P.x:o6P.x,t6P=g6P.y>O6P.y?g6P.y>o6P.y?g6P.y:o6P.y:O6P.y>o6P.y?O6P.y:o6P.y;Z6P=b7P(g6P.x<O6P.x?g6P.x<o6P.x?g6P.x:o6P.x:O6P.x<o6P.x?O6P.x:o6P.x,g6P.y<O6P.y?g6P.y<o6P.y?g6P.y:o6P.y:O6P.y<o6P.y?O6P.y:o6P.y,E6P,y6P,b6P);E6P=b7P(C6P,t6P,E6P,y6P,b6P);for(y6P=T6P.nextZ;y6P&&y6P.z<=E6P;){if(y6P!==T6P.prev&&y6P!==T6P.next&&J7P(g6P.x,g6P.y,O6P.x,O6P.y,o6P.x,o6P.y,y6P.x,y6P.y)&&0<=y7P(y6P.prev,y6P,y6P.next)){T6P=false;break a;}y6P=y6P.nextZ;}for(y6P=T6P.prevZ;y6P&&y6P.z>=Z6P;){if(y6P!==T6P.prev&&y6P!==T6P.next&&J7P(g6P.x,g6P.y,O6P.x,O6P.y,o6P.x,o6P.y,y6P.x,y6P.y)&&0<=y7P(y6P.prev,y6P,y6P.next)){T6P=false;break a;}y6P=y6P.prevZ;}T6P=true;}}}else{a:if(T6P=h6P,g6P=T6P.prev,O6P=T6P,o6P=T6P.next,0<=y7P(g6P,O6P,o6P)){T6P=false;}else{for(Z6P=T6P.next.next;Z6P!==T6P.prev;){if(J7P(g6P.x,g6P.y,O6P.x,O6P.y,o6P.x,o6P.y,Z6P.x,Z6P.y)&&0<=y7P(Z6P.prev,Z6P,Z6P.next)){T6P=false;break a;}Z6P=Z6P.next;}T6P=true;}}if(T6P){u6P.push(c6P.i/J6P),u6P.push(h6P.i/J6P),u6P.push(M6P.i/J6P),q7P(h6P),H6P=h6P=M6P.next;}else if(h6P=M6P,h6P===H6P){if(!q6P){u7P(E7P(h6P),u6P,J6P,K6P,S6P,j6P,1);}else if(1===q6P){q6P=u6P;H6P=J6P;c6P=h6P;do{M6P=c6P.prev,T6P=c6P.next.next,!H7P(M6P,T6P)&&C7P(M6P,c6P,c6P.next,T6P)&&Z7P(M6P,T6P)&&Z7P(T6P,M6P)&&(q6P.push(M6P.i/H6P),q6P.push(c6P.i/H6P),q6P.push(T6P.i/H6P),q7P(c6P),q7P(c6P.next),c6P=h6P=T6P),c6P=c6P.next;}while(c6P!==h6P);h6P=c6P;u7P(h6P,u6P,J6P,K6P,S6P,j6P,2);}else if(2===q6P){a:{q6P=h6P;do{for(H6P=q6P.next.next;H6P!==q6P.prev;){if(c6P=q6P.i!==H6P.i){c6P=q6P;M6P=H6P;if(T6P=c6P.next.i!==M6P.i&&c6P.prev.i!==M6P.i){b:{T6P=c6P;do{if(T6P.i!==c6P.i&&T6P.next.i!==c6P.i&&T6P.i!==M6P.i&&T6P.next.i!==M6P.i&&C7P(T6P,T6P.next,c6P,M6P)){T6P=true;break b;}T6P=T6P.next;}while(T6P!==c6P);T6P=false;}T6P=!T6P;}if(T6P=T6P&&Z7P(c6P,M6P)&&Z7P(M6P,c6P)){T6P=c6P;g6P=false;O6P=(c6P.x+M6P.x)/2;M6P=(c6P.y+M6P.y)/2;do{T6P.y>M6P!==T6P.next.y>M6P&&T6P.next.y!==T6P.y&&O6P<(T6P.next.x-T6P.x)*(M6P-T6P.y)/(T6P.next.y-T6P.y)+T6P.x&&(g6P=!g6P),T6P=T6P.next;}while(T6P!==c6P);T6P=g6P;}c6P=T6P;}if(c6P){h6P=f7P(q6P,H6P);q6P=E7P(q6P,q6P.next);h6P=E7P(h6P,h6P.next);u7P(q6P,u6P,J6P,K6P,S6P,j6P);u7P(h6P,u6P,J6P,K6P,S6P,j6P);break a;}H6P=H6P.next;}q6P=q6P.next;}while(q6P!==h6P);}}break;}}}}function l7P(N6P,f6P){return N6P.x-f6P.x;}function Q7P(G6P,X6P){var B6P=X6P,Q6P=G6P.x,m6P=G6P.y,D6P=-Infinity,l6P;do{if(m6P<=B6P.y&&m6P>=B6P.next.y&&B6P.next.y!==B6P.y){var z6P=B6P.x+(m6P-B6P.y)*(B6P.next.x-B6P.x)/(B6P.next.y-B6P.y);if(z6P<=Q6P&&z6P>D6P){D6P=z6P;if(z6P===Q6P){if(m6P===B6P.y){return B6P;}if(m6P===B6P.next.y){return B6P.next;}}l6P=B6P.x<B6P.next.x?B6P:B6P.next;}}B6P=B6P.next;}while(B6P!==X6P);if(!l6P){return null;}if(Q6P===D6P){return l6P.prev;}X6P=l6P;for(var z6P=l6P.x,U6P=l6P.y,d6P=Infinity,W6P,B6P=l6P.next;B6P!==X6P;){Q6P>=B6P.x&&B6P.x>=z6P&&Q6P!==B6P.x&&J7P(m6P<U6P?Q6P:D6P,m6P,z6P,U6P,m6P<U6P?D6P:Q6P,m6P,B6P.x,B6P.y)&&(W6P=Math.abs(m6P-B6P.y)/(Q6P-B6P.x),(W6P<d6P||W6P===d6P&&B6P.x>l6P.x)&&Z7P(B6P,G6P)&&(l6P=B6P,d6P=W6P)),B6P=B6P.next;}return l6P;}function b7P(e6P,F6P,V6P,P6P,p6P){e6P=32767*(e6P-V6P)*p6P;F6P=32767*(F6P-P6P)*p6P;e6P=(e6P|e6P<<8)&16711935;e6P=(e6P|e6P<<4)&252645135;e6P=(e6P|e6P<<2)&858993459;F6P=(F6P|F6P<<8)&16711935;F6P=(F6P|F6P<<4)&252645135;F6P=(F6P|F6P<<2)&858993459;return(e6P|e6P<<1)&1431655765|((F6P|F6P<<1)&1431655765)<<1;}function m7P(R6P){var v6P=R6P,L6P=R6P;do{v6P.x<L6P.x&&(L6P=v6P),v6P=v6P.next;}while(v6P!==R6P);return L6P;}function J7P(x6P,k6P,w6P,Y6P,A6P,r8I,i6P,a6P){return 0<=(A6P-i6P)*(k6P-a6P)-(x6P-i6P)*(r8I-a6P)&&0<=(x6P-i6P)*(Y6P-a6P)-(w6P-i6P)*(k6P-a6P)&&0<=(w6P-i6P)*(r8I-a6P)-(A6P-i6P)*(Y6P-a6P);}function y7P(n8I,s8I,I8I){return(s8I.y-n8I.y)*(I8I.x-s8I.x)-(s8I.x-n8I.x)*(I8I.y-s8I.y);}function H7P(T8I,c8I){return T8I.x===c8I.x&&T8I.y===c8I.y;}function C7P(M8I,o8I,O8I,g8I){return H7P(M8I,o8I)&&H7P(O8I,g8I)||H7P(M8I,g8I)&&H7P(O8I,o8I)?true:0<y7P(M8I,o8I,O8I)!==0<y7P(M8I,o8I,g8I)&&0<y7P(O8I,g8I,M8I)!==0<y7P(O8I,g8I,o8I);}function Z7P(h8I,y8I){return 0>y7P(h8I.prev,h8I,h8I.next)?0<=y7P(h8I,y8I,h8I.next)&&0<=y7P(h8I,h8I.prev,y8I):0>y7P(h8I,y8I,h8I.prev)||0>y7P(h8I,h8I.next,y8I);}function f7P(H8I,q8I){var E8I=new K7P(H8I.i,H8I.x,H8I.y),Z8I=new K7P(q8I.i,q8I.x,q8I.y),u8I=H8I.next,j8I=q8I.prev;H8I.next=q8I;q8I.prev=H8I;E8I.next=u8I;u8I.prev=E8I;Z8I.next=E8I;E8I.prev=Z8I;j8I.next=Z8I;Z8I.prev=j8I;return Z8I;}function B7P(J8I,K8I,b8I,S8I){J8I=new K7P(J8I,K8I,b8I);S8I?(J8I.next=S8I.next,J8I.prev=S8I,S8I.next.prev=J8I,S8I.next=J8I):(J8I.prev=J8I,J8I.next=J8I);return J8I;}function q7P(t8I){t8I.next.prev=t8I.prev;t8I.prev.next=t8I.next;t8I.prevZ&&(t8I.prevZ.nextZ=t8I.nextZ);t8I.nextZ&&(t8I.nextZ.prevZ=t8I.prevZ);}function K7P(C8I,N8I,f8I){this.i=C8I;this.x=N8I;this.y=f8I;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=false;}function S7P(m8I,B8I,z8I,D8I){for(var Q8I=0,l8I=z8I-D8I;B8I<z8I;B8I+=D8I){Q8I+=(m8I[l8I]-m8I[B8I])*(m8I[B8I+1]+m8I[l8I+1]),l8I=B8I;}return Q8I;}t7P.exports=j7P;t7P.exports.default=j7P;j7P.deviation=function(X8I,W8I,G8I,F8I){var d8I=W8I&&W8I.length,e8I=Math.abs(S7P(X8I,0,d8I?W8I[0]*G8I:X8I.length,G8I));if(d8I){for(var d8I=0,U8I=W8I.length;d8I<U8I;d8I++){e8I-=Math.abs(S7P(X8I,W8I[d8I]*G8I,d8I<U8I-1?W8I[d8I+1]*G8I:X8I.length,G8I));}}for(d8I=W8I=0;d8I<F8I.length;d8I+=3){var U8I=F8I[d8I]*G8I,p8I=F8I[d8I+1]*G8I,V8I=F8I[d8I+2]*G8I;W8I+=Math.abs((X8I[U8I]-X8I[V8I])*(X8I[p8I+1]-X8I[U8I+1])-(X8I[U8I]-X8I[p8I])*(X8I[V8I+1]-X8I[U8I+1]));}return 0===e8I&&0===W8I?0:Math.abs((W8I-e8I)/e8I);};j7P.flatten=function(v8I){for(var a8I=v8I[0][0].length,L8I={vertices:[],holes:[],dimensions:a8I},x8I=0,P8I=0;P8I<v8I.length;P8I++){for(var R8I=0;R8I<v8I[P8I].length;R8I++){for(var i8I=0;i8I<a8I;i8I++){L8I.vertices.push(v8I[P8I][R8I][i8I]);}}0<P8I&&(x8I+=v8I[P8I-1].length,L8I.holes.push(x8I));}return L8I;};},{}],3:[function(n2I,A8I,I2I){function Y8I(){}function r2I(T2I,c2I,M2I){this.fn=T2I;this.context=c2I;this.once=M2I||false;}function k8I(){this._events=new Y8I();this._eventsCount=0;}var s2I=Object.prototype.hasOwnProperty,w8I="~";Object.create&&(Y8I.prototype=Object.create(null),new Y8I().__proto__||(w8I=false));k8I.prototype.eventNames=function(){var h2I=this;var o2I=[],g2I,O2I;if(0===this._eventsCount){return o2I;}for(O2I in g2I=h2I._events){s2I.call(g2I,O2I)&&o2I.push(w8I?O2I.slice(1):O2I);}return Object.getOwnPropertySymbols?o2I.concat(Object.getOwnPropertySymbols(g2I)):o2I;};k8I.prototype.listeners=function(y2I,H2I){y2I=this._events[w8I?w8I+y2I:y2I];if(H2I){return!!y2I;}if(!y2I){return[];}if(y2I.fn){return[y2I.fn];}H2I=0;for(var q2I=y2I.length,Z2I=Array(q2I);H2I<q2I;H2I++){Z2I[H2I]=y2I[H2I].fn;}return Z2I;};k8I.prototype.emit=function(C2I,j2I,K2I,t2I,f2I,m2I){var B2I=this;var E2I=w8I?w8I+C2I:C2I;if(!this._events[E2I]){return false;}var E2I=this._events[E2I],J2I=arguments.length,S2I,u2I;if(E2I.fn){E2I.once&&this.removeListener(C2I,E2I.fn,void 0,true);switch(J2I){case 1:return E2I.fn.call(E2I.context),true;case 2:return E2I.fn.call(E2I.context,j2I),true;case 3:return E2I.fn.call(E2I.context,j2I,K2I),true;case 4:return E2I.fn.call(E2I.context,j2I,K2I,t2I),true;case 5:return E2I.fn.call(E2I.context,j2I,K2I,t2I,f2I),true;case 6:return E2I.fn.call(E2I.context,j2I,K2I,t2I,f2I,m2I),true;}u2I=1;for(S2I=Array(J2I-1);u2I<J2I;u2I++){S2I[u2I-1]=arguments[u2I];}E2I.fn.apply(E2I.context,S2I);}else{var N2I=E2I.length,b2I;for(u2I=0;u2I<N2I;u2I++){switch(E2I[u2I].once&&B2I.removeListener(C2I,E2I[u2I].fn,void 0,true),J2I){case 1:E2I[u2I].fn.call(E2I[u2I].context);break;case 2:E2I[u2I].fn.call(E2I[u2I].context,j2I);break;case 3:E2I[u2I].fn.call(E2I[u2I].context,j2I,K2I);break;case 4:E2I[u2I].fn.call(E2I[u2I].context,j2I,K2I,t2I);break;default:if(!S2I){for(b2I=1,S2I=Array(J2I-1);b2I<J2I;b2I++){S2I[b2I-1]=arguments[b2I];}}E2I[u2I].fn.apply(E2I[u2I].context,S2I);}}}return true;};k8I.prototype.on=function(l2I,Q2I,z2I){Q2I=new r2I(Q2I,z2I||this);l2I=w8I?w8I+l2I:l2I;this._events[l2I]?this._events[l2I].fn?this._events[l2I]=[this._events[l2I],Q2I]:this._events[l2I].push(Q2I):(this._events[l2I]=Q2I,this._eventsCount++);return this;};k8I.prototype.once=function(D2I,d2I,X2I){d2I=new r2I(d2I,X2I||this,true);D2I=w8I?w8I+D2I:D2I;this._events[D2I]?this._events[D2I].fn?this._events[D2I]=[this._events[D2I],d2I]:this._events[D2I].push(d2I):(this._events[D2I]=d2I,this._eventsCount++);return this;};k8I.prototype.removeListener=function(U2I,p2I,F2I,V2I){U2I=w8I?w8I+U2I:U2I;if(!this._events[U2I]){return this;}if(!p2I){return 0===--this._eventsCount?this._events=new Y8I():delete this._events[U2I],this;}var W2I=this._events[U2I];if(W2I.fn){W2I.fn!==p2I||V2I&&!W2I.once||F2I&&W2I.context!==F2I||(0===--this._eventsCount?this._events=new Y8I():delete this._events[U2I]);}else{for(var G2I=0,e2I=[],P2I=W2I.length;G2I<P2I;G2I++){(W2I[G2I].fn!==p2I||V2I&&!W2I[G2I].once||F2I&&W2I[G2I].context!==F2I)&&e2I.push(W2I[G2I]);}e2I.length?this._events[U2I]=1===e2I.length?e2I[0]:e2I:0===--this._eventsCount?this._events=new Y8I():delete this._events[U2I];}return this;};k8I.prototype.removeAllListeners=function(v2I){v2I?(v2I=w8I?w8I+v2I:v2I,this._events[v2I]&&(0===--this._eventsCount?this._events=new Y8I():delete this._events[v2I])):(this._events=new Y8I(),this._eventsCount=0);return this;};k8I.prototype.off=k8I.prototype.removeListener;k8I.prototype.addListener=k8I.prototype.on;k8I.prototype.setMaxListeners=function(){return this;};k8I.prefixed=w8I;k8I.EventEmitter=k8I;"undefined"!==typeof A8I&&(A8I.exports=k8I);},{}],4:[function(R2I,L2I,i2I){(function(y0I){var k2I=/iPhone/i,s0I=/iPod/i,n0I=/iPad/i,w2I=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,r0I=/Android/i,a2I=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,x2I=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,A2I=/Windows Phone/i,T0I=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,c0I=/BlackBerry/i,M0I=/BB10/i,o0I=/Opera Mini/i,O0I=/(CriOS|Chrome)(?=.*\bMobile\b)/i,g0I=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,h0I=/(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)/i,Y2I=function(H0I){H0I=H0I||navigator.userAgent;var q0I=H0I.split("[FBAN");"undefined"!==typeof q0I[1]&&(H0I=q0I[0]);q0I=H0I.split("Twitter");"undefined"!==typeof q0I[1]&&(H0I=q0I[0]);this.apple={phone:k2I.test(H0I),ipod:s0I.test(H0I),tablet:!k2I.test(H0I)&&n0I.test(H0I),device:k2I.test(H0I)||s0I.test(H0I)||n0I.test(H0I)};this.amazon={phone:a2I.test(H0I),tablet:!a2I.test(H0I)&&x2I.test(H0I),device:a2I.test(H0I)||x2I.test(H0I)};this.android={phone:a2I.test(H0I)||w2I.test(H0I),tablet:!a2I.test(H0I)&&!w2I.test(H0I)&&(x2I.test(H0I)||r0I.test(H0I)),device:a2I.test(H0I)||x2I.test(H0I)||w2I.test(H0I)||r0I.test(H0I)};this.windows={phone:A2I.test(H0I),tablet:T0I.test(H0I),device:A2I.test(H0I)||T0I.test(H0I)};this.other={blackberry:c0I.test(H0I),blackberry10:M0I.test(H0I),opera:o0I.test(H0I),firefox:g0I.test(H0I),chrome:O0I.test(H0I),device:c0I.test(H0I)||M0I.test(H0I)||o0I.test(H0I)||g0I.test(H0I)||O0I.test(H0I)};this.seven_inch=h0I.test(H0I);this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch;this.phone=this.apple.phone||this.android.phone||this.windows.phone;this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet;if("undefined"===typeof window){return this;}},I0I=function(){var Z0I=new Y2I();Z0I.Class=Y2I;return Z0I;};"undefined"!==typeof L2I&&L2I.exports&&"undefined"===typeof window?L2I.exports=Y2I:"undefined"!==typeof L2I&&L2I.exports&&"undefined"!==typeof window?L2I.exports=I0I():y0I.isMobile=I0I();}(this));},{}],5:[function(u0I,b0I,j0I){function S0I(t0I,C0I){if(!(t0I instanceof C0I)){throw new TypeError("Cannot call a class as a function");}}function K0I(N0I,f0I){N0I._head?(N0I._tail._next=f0I,f0I._prev=N0I._tail):N0I._head=f0I;N0I._tail=f0I;f0I._owner=N0I;return f0I;}Object.defineProperty(j0I,"__esModule",{value:true});var J0I=function(){function B0I(z0I,Q0I){for(var l0I=0;l0I<Q0I.length;l0I++){var m0I=Q0I[l0I];m0I.enumerable=m0I.enumerable||false;m0I.configurable=true;"value"in m0I&&(m0I.writable=true);Object.defineProperty(z0I,m0I.key,m0I);}}return function(D0I,d0I,X0I){d0I&&B0I(D0I.prototype,d0I);X0I&&B0I(D0I,X0I);return D0I;};}(),E0I=function(){function W0I(G0I,U0I,e0I){void 0===U0I&&(U0I=false);S0I(this,W0I);this._fn=G0I;this._once=U0I;this._thisArg=e0I;this._next=this._prev=this._owner=null;}J0I(W0I,[{key:"detach",value:function(){if(null===this._owner){return false;}this._owner.detach(this);return true;}}]);return W0I;}();u0I=function(){function F0I(){S0I(this,F0I);this._head=this._tail=void 0;}J0I(F0I,[{key:"handlers",value:function(){var p0I=this._head;if(0>=arguments.length||void 0===arguments[0]?0:arguments[0]){return!!p0I;}for(var V0I=[];p0I;){V0I.push(p0I),p0I=p0I._next;}return V0I;}},{key:"has",value:function(P0I){if(!(P0I instanceof E0I)){throw Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");}return P0I._owner===this;}},{key:"dispatch",value:function(){var L0I=this;var v0I=this._head;if(!v0I){return false;}for(;v0I;){v0I._once&&L0I.detach(v0I),v0I._fn.apply(v0I._thisArg,arguments),v0I=v0I._next;}return true;}},{key:"add",value:function(R0I){var i0I=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if("function"!==typeof R0I){throw Error("MiniSignal#add(): First arg must be a Function.");}return K0I(this,new E0I(R0I,false,i0I));}},{key:"once",value:function(a0I){var x0I=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if("function"!==typeof a0I){throw Error("MiniSignal#once(): First arg must be a Function.");}return K0I(this,new E0I(a0I,true,x0I));}},{key:"detach",value:function(k0I){if(!(k0I instanceof E0I)){throw Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");}if(k0I._owner!==this){return this;}k0I._prev&&(k0I._prev._next=k0I._next);k0I._next&&(k0I._next._prev=k0I._prev);k0I===this._head?(this._head=k0I._next,null===k0I._next&&(this._tail=null)):k0I===this._tail&&(this._tail=k0I._prev,this._tail._next=null);k0I._owner=null;return this;}},{key:"detachAll",value:function(){var w0I=this._head;if(!w0I){return this;}for(this._head=this._tail=null;w0I;){w0I._owner=null,w0I=w0I._next;}return this;}}]);return F0I;}();u0I.MiniSignalBinding=E0I;j0I["default"]=u0I;b0I.exports=j0I["default"];},{}],6:[function(n3I,s3I,I3I){var Y0I=Object.getOwnPropertySymbols,A0I=Object.prototype.hasOwnProperty,r3I=Object.prototype.propertyIsEnumerable;s3I.exports=function(){try{if(!Object.assign){return false;}var T3I=new String("abc");T3I[5]="de";if("5"===Object.getOwnPropertyNames(T3I)[0]){return false;}for(var c3I={},T3I=0;10>T3I;T3I++){c3I["_"+String.fromCharCode(T3I)]=T3I;}if("0123456789"!==Object.getOwnPropertyNames(c3I).map(function(o3I){return c3I[o3I];}).join("")){return false;}var M3I={};"abcdefghijklmnopqrst".split("").forEach(function(O3I){M3I[O3I]=O3I;});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},M3I)).join("")?false:true;}catch(g3I){return false;}}()?Object.assign:function(u3I,j3I){var h3I,q3I;if(null===u3I||void 0===u3I){throw new TypeError("Object.assign cannot be called with null or undefined");}q3I=Object(u3I);for(var H3I,Z3I=1;Z3I<arguments.length;Z3I++){h3I=Object(arguments[Z3I]);for(var E3I in h3I){A0I.call(h3I,E3I)&&(q3I[E3I]=h3I[E3I]);}if(Y0I){H3I=Y0I(h3I);for(var y3I=0;y3I<H3I.length;y3I++){r3I.call(h3I,H3I[y3I])&&(q3I[H3I[y3I]]=h3I[H3I[y3I]]);}}}return q3I;};},{}],7:[function(S3I,J3I,K3I){J3I.exports=function(C3I,b3I){b3I=b3I||{};var N3I="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");C3I={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}[b3I.strictMode?"strict":"loose"].exec(C3I);var t3I={};for(b3I=14;b3I--;){t3I[N3I[b3I]]=C3I[b3I]||"";}t3I.queryKey={};t3I[N3I[12]].replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(m3I,f3I,B3I){f3I&&(t3I.queryKey[f3I]=B3I);});return t3I;};},{}],8:[function(Q3I,z3I,l3I){(function(U3I){function X3I(G3I,V3I){for(var F3I=0,e3I=G3I.length-1;0<=e3I;e3I--){var p3I=G3I[e3I];"."===p3I?G3I.splice(e3I,1):".."===p3I?(G3I.splice(e3I,1),F3I++):F3I&&(G3I.splice(e3I,1),F3I--);}if(V3I){for(;F3I--;F3I){G3I.unshift("..");}}return G3I;}function d3I(P3I,R3I){if(P3I.filter){return P3I.filter(R3I);}for(var L3I=[],v3I=0;v3I<P3I.length;v3I++){R3I(P3I[v3I],v3I,P3I)&&L3I.push(P3I[v3I]);}return L3I;}var D3I=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;l3I.resolve=function(){for(var i3I="",a3I=false,x3I=arguments.length-1;-1<=x3I&&!a3I;x3I--){var k3I=0<=x3I?arguments[x3I]:U3I.cwd();if("string"!==typeof k3I){throw new TypeError("Arguments to path.resolve must be strings");}k3I&&(i3I=k3I+"/"+i3I,a3I="/"===k3I.charAt(0));}i3I=X3I(d3I(i3I.split("/"),function(w3I){return!!w3I;}),!a3I).join("/");return(a3I?"/":"")+i3I||".";};l3I.normalize=function(Y3I){var A3I=l3I.isAbsolute(Y3I),r5I="/"===W3I(Y3I,-1);(Y3I=X3I(d3I(Y3I.split("/"),function(s5I){return!!s5I;}),!A3I).join("/"))||A3I||(Y3I=".");Y3I&&r5I&&(Y3I+="/");return(A3I?"/":"")+Y3I;};l3I.isAbsolute=function(n5I){return"/"===n5I.charAt(0);};l3I.join=function(){var I5I=Array.prototype.slice.call(arguments,0);return l3I.normalize(d3I(I5I,function(T5I,c5I){if("string"!==typeof T5I){throw new TypeError("Arguments to path.join must be strings");}return T5I;}).join("/"));};l3I.relative=function(O5I,g5I){function y5I(Z5I){for(var H5I=0;H5I<Z5I.length&&""===Z5I[H5I];H5I++){;}for(var q5I=Z5I.length-1;0<=q5I&&""===Z5I[q5I];q5I--){;}return H5I>q5I?[]:Z5I.slice(H5I,q5I-H5I+1);}O5I=l3I.resolve(O5I).substr(1);g5I=l3I.resolve(g5I).substr(1);O5I=y5I(O5I.split("/"));g5I=y5I(g5I.split("/"));for(var o5I=Math.min(O5I.length,g5I.length),h5I=o5I,M5I=0;M5I<o5I;M5I++){if(O5I[M5I]!==g5I[M5I]){h5I=M5I;break;}}o5I=[];for(M5I=h5I;M5I<O5I.length;M5I++){o5I.push("..");}o5I=o5I.concat(g5I.slice(h5I));return o5I.join("/");};l3I.sep="/";l3I.delimiter=":";l3I.dirname=function(u5I){var E5I=D3I.exec(u5I).slice(1);u5I=E5I[0];E5I=E5I[1];if(!u5I&&!E5I){return".";}E5I&&(E5I=E5I.substr(0,E5I.length-1));return u5I+E5I;};l3I.basename=function(j5I,J5I){j5I=D3I.exec(j5I).slice(1)[2];J5I&&j5I.substr(-1*J5I.length)===J5I&&(j5I=j5I.substr(0,j5I.length-J5I.length));return j5I;};l3I.extname=function(S5I){return D3I.exec(S5I).slice(1)[3];};var W3I="b"==="ab".substr(-1)?function(K5I,b5I,t5I){return K5I.substr(b5I,t5I);}:function(N5I,C5I,f5I){0>C5I&&(C5I=N5I.length+C5I);return N5I.substr(C5I,f5I);};}.call(this,Q3I("_process")));},{_process:26}],9:[function(Q5I,l5I,z5I){var m5I=new ArrayBuffer(0),B5I=function(D5I,X5I,d5I,W5I){this.gl=D5I;this.buffer=D5I.createBuffer();this.type=X5I||D5I.ARRAY_BUFFER;this.drawType=W5I||D5I.STATIC_DRAW;this.data=m5I;d5I&&this.upload(d5I);this._updateID=0;};B5I.prototype.upload=function(U5I,e5I,G5I){G5I||this.bind();G5I=this.gl;U5I=U5I||this.data;this.data.byteLength>=U5I.byteLength?G5I.bufferSubData(this.type,e5I||0,U5I):G5I.bufferData(this.type,U5I,this.drawType);this.data=U5I;};B5I.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer);};B5I.createVertexBuffer=function(F5I,p5I,V5I){return new B5I(F5I,F5I.ARRAY_BUFFER,p5I,V5I);};B5I.createIndexBuffer=function(P5I,v5I,L5I){return new B5I(P5I,P5I.ELEMENT_ARRAY_BUFFER,v5I,L5I);};B5I.create=function(R5I,i5I,a5I,x5I){return new B5I(R5I,i5I,a5I,x5I);};B5I.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer);};l5I.exports=B5I;},{}],10:[function(Y5I,A5I,r9I){var w5I=Y5I("./GLTexture"),k5I=function(s9I,n9I,I9I){this.gl=s9I;this.framebuffer=s9I.createFramebuffer();this.texture=this.stencil=null;this.width=n9I||100;this.height=I9I||100;};k5I.prototype.enableTexture=function(c9I){var T9I=this.gl;this.texture=c9I||new w5I(T9I);this.texture.bind();this.bind();T9I.framebufferTexture2D(T9I.FRAMEBUFFER,T9I.COLOR_ATTACHMENT0,T9I.TEXTURE_2D,this.texture.texture,0);};k5I.prototype.enableStencil=function(){if(!this.stencil){var M9I=this.gl;this.stencil=M9I.createRenderbuffer();M9I.bindRenderbuffer(M9I.RENDERBUFFER,this.stencil);M9I.framebufferRenderbuffer(M9I.FRAMEBUFFER,M9I.DEPTH_STENCIL_ATTACHMENT,M9I.RENDERBUFFER,this.stencil);M9I.renderbufferStorage(M9I.RENDERBUFFER,M9I.DEPTH_STENCIL,this.width,this.height);}};k5I.prototype.clear=function(O9I,g9I,h9I,y9I){this.bind();var o9I=this.gl;o9I.clearColor(O9I,g9I,h9I,y9I);o9I.clear(o9I.COLOR_BUFFER_BIT|o9I.DEPTH_BUFFER_BIT);};k5I.prototype.bind=function(){var H9I=this.gl;H9I.bindFramebuffer(H9I.FRAMEBUFFER,this.framebuffer);};k5I.prototype.unbind=function(){var q9I=this.gl;q9I.bindFramebuffer(q9I.FRAMEBUFFER,null);};k5I.prototype.resize=function(E9I,u9I){var Z9I=this.gl;this.width=E9I;this.height=u9I;this.texture&&this.texture.uploadData(null,E9I,u9I);this.stencil&&(Z9I.bindRenderbuffer(Z9I.RENDERBUFFER,this.stencil),Z9I.renderbufferStorage(Z9I.RENDERBUFFER,Z9I.DEPTH_STENCIL,E9I,u9I));};k5I.prototype.destroy=function(){var j9I=this.gl;this.texture&&this.texture.destroy();j9I.deleteFramebuffer(this.framebuffer);this.texture=this.stencil=this.gl=null;};k5I.createRGBA=function(J9I,K9I,b9I,S9I){S9I=w5I.fromData(J9I,null,K9I,b9I);S9I.enableNearestScaling();S9I.enableWrapClamp();J9I=new k5I(J9I,K9I,b9I);J9I.enableTexture(S9I);J9I.unbind();return J9I;};k5I.createFloat32=function(t9I,N9I,f9I,C9I){C9I=new w5I.fromData(t9I,C9I,N9I,f9I);C9I.enableNearestScaling();C9I.enableWrapClamp();t9I=new k5I(t9I,N9I,f9I);t9I.enableTexture(C9I);t9I.unbind();return t9I;};A5I.exports=k5I;},{"./GLTexture":12}],11:[function(B9I,d9I,X9I){var l9I=B9I("./shader/compileProgram"),Q9I=B9I("./shader/extractAttributes"),z9I=B9I("./shader/extractUniforms"),m9I=B9I("./shader/setPrecision"),D9I=B9I("./shader/generateUniformAccessObject");B9I=function(W9I,U9I,G9I,e9I,F9I){this.gl=W9I;e9I&&(U9I=m9I(U9I,e9I),G9I=m9I(G9I,e9I));this.program=l9I(W9I,U9I,G9I,F9I);this.attributes=Q9I(W9I,this.program);this.uniformData=z9I(W9I,this.program);this.uniforms=D9I(W9I,this.uniformData);};B9I.prototype.bind=function(){this.gl.useProgram(this.program);return this;};B9I.prototype.destroy=function(){this.uniforms=this.uniformData=this.attributes=null;this.gl.deleteProgram(this.program);};d9I.exports=B9I;},{"./shader/compileProgram":17,"./shader/extractAttributes":19,"./shader/extractUniforms":20,"./shader/generateUniformAccessObject":21,"./shader/setPrecision":25}],12:[function(v9I,P9I,L9I){var p9I=function(R9I,i9I,a9I,x9I,k9I){this.gl=R9I;this.texture=R9I.createTexture();this.premultiplyAlpha=this.mipmap=false;this.width=i9I||-1;this.height=a9I||-1;this.format=x9I||R9I.RGBA;this.type=k9I||R9I.UNSIGNED_BYTE;};p9I.prototype.upload=function(Y9I){this.bind();var w9I=this.gl;w9I.pixelStorei(w9I.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var A9I=Y9I.videoWidth||Y9I.width,r1I=Y9I.videoHeight||Y9I.height;r1I!==this.height||A9I!==this.width?w9I.texImage2D(w9I.TEXTURE_2D,0,this.format,this.format,this.type,Y9I):w9I.texSubImage2D(w9I.TEXTURE_2D,0,0,0,this.format,this.type,Y9I);this.width=A9I;this.height=r1I;};var V9I=false;p9I.prototype.uploadData=function(T1I,n1I,I1I){this.bind();var s1I=this.gl;if(T1I instanceof Float32Array){if(!V9I){if(s1I.getExtension("OES_texture_float")){V9I=true;}else{throw Error("floating point textures not available");}}this.type=s1I.FLOAT;}else{this.type=this.type||s1I.UNSIGNED_BYTE;}s1I.pixelStorei(s1I.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);n1I!==this.width||I1I!==this.height?s1I.texImage2D(s1I.TEXTURE_2D,0,this.format,n1I,I1I,0,this.format,this.type,T1I||null):s1I.texSubImage2D(s1I.TEXTURE_2D,0,0,0,n1I,I1I,this.format,this.type,T1I||null);this.width=n1I;this.height=I1I;};p9I.prototype.bind=function(M1I){var c1I=this.gl;void 0!==M1I&&c1I.activeTexture(c1I.TEXTURE0+M1I);c1I.bindTexture(c1I.TEXTURE_2D,this.texture);};p9I.prototype.unbind=function(){var o1I=this.gl;o1I.bindTexture(o1I.TEXTURE_2D,null);};p9I.prototype.minFilter=function(g1I){var O1I=this.gl;this.bind();this.mipmap?O1I.texParameteri(O1I.TEXTURE_2D,O1I.TEXTURE_MIN_FILTER,g1I?O1I.LINEAR_MIPMAP_LINEAR:O1I.NEAREST_MIPMAP_NEAREST):O1I.texParameteri(O1I.TEXTURE_2D,O1I.TEXTURE_MIN_FILTER,g1I?O1I.LINEAR:O1I.NEAREST);};p9I.prototype.magFilter=function(y1I){var h1I=this.gl;this.bind();h1I.texParameteri(h1I.TEXTURE_2D,h1I.TEXTURE_MAG_FILTER,y1I?h1I.LINEAR:h1I.NEAREST);};p9I.prototype.enableMipmap=function(){var H1I=this.gl;this.bind();this.mipmap=true;H1I.generateMipmap(H1I.TEXTURE_2D);};p9I.prototype.enableLinearScaling=function(){this.minFilter(true);this.magFilter(true);};p9I.prototype.enableNearestScaling=function(){this.minFilter(false);this.magFilter(false);};p9I.prototype.enableWrapClamp=function(){var q1I=this.gl;this.bind();q1I.texParameteri(q1I.TEXTURE_2D,q1I.TEXTURE_WRAP_S,q1I.CLAMP_TO_EDGE);q1I.texParameteri(q1I.TEXTURE_2D,q1I.TEXTURE_WRAP_T,q1I.CLAMP_TO_EDGE);};p9I.prototype.enableWrapRepeat=function(){var Z1I=this.gl;this.bind();Z1I.texParameteri(Z1I.TEXTURE_2D,Z1I.TEXTURE_WRAP_S,Z1I.REPEAT);Z1I.texParameteri(Z1I.TEXTURE_2D,Z1I.TEXTURE_WRAP_T,Z1I.REPEAT);};p9I.prototype.enableWrapMirrorRepeat=function(){var E1I=this.gl;this.bind();E1I.texParameteri(E1I.TEXTURE_2D,E1I.TEXTURE_WRAP_S,E1I.MIRRORED_REPEAT);E1I.texParameteri(E1I.TEXTURE_2D,E1I.TEXTURE_WRAP_T,E1I.MIRRORED_REPEAT);};p9I.prototype.destroy=function(){this.gl.deleteTexture(this.texture);};p9I.fromSource=function(u1I,j1I,J1I){u1I=new p9I(u1I);u1I.premultiplyAlpha=J1I||false;u1I.upload(j1I);return u1I;};p9I.fromData=function(S1I,K1I,b1I,t1I){S1I=new p9I(S1I);S1I.uploadData(K1I,b1I,t1I);return S1I;};P9I.exports=p9I;},{}],13:[function(f1I,B1I,m1I){function C1I(l1I,Q1I){this.nativeVaoExtension=null;C1I.FORCE_NATIVE||(this.nativeVaoExtension=l1I.getExtension("OES_vertex_array_object")||l1I.getExtension("MOZ_OES_vertex_array_object")||l1I.getExtension("WEBKIT_OES_vertex_array_object"));this.nativeState=Q1I;this.nativeVaoExtension&&(this.nativeVao=this.nativeVaoExtension.createVertexArrayOES(),Q1I=l1I.getParameter(l1I.MAX_VERTEX_ATTRIBS),this.nativeState={tempAttribState:Array(Q1I),attribState:Array(Q1I)});this.gl=l1I;this.attributes=[];this.indexBuffer=null;this.dirty=false;}var N1I=f1I("./setVertexAttribArrays");C1I.prototype.constructor=C1I;B1I.exports=C1I;C1I.FORCE_NATIVE=false;C1I.prototype.bind=function(){if(this.nativeVao){this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao);if(this.dirty){return this.dirty=false,this.activate(),this;}this.indexBuffer&&this.indexBuffer.bind();}else{this.activate();}return this;};C1I.prototype.unbind=function(){this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null);return this;};C1I.prototype.activate=function(){var W1I=this;for(var D1I=this.gl,X1I=null,d1I=0;d1I<this.attributes.length;d1I++){var z1I=W1I.attributes[d1I];X1I!==z1I.buffer&&(z1I.buffer.bind(),X1I=z1I.buffer);D1I.vertexAttribPointer(z1I.attribute.location,z1I.attribute.size,z1I.type||D1I.FLOAT,z1I.normalized||false,z1I.stride||0,z1I.start||0);}N1I(D1I,this.attributes,this.nativeState);this.indexBuffer&&this.indexBuffer.bind();return this;};C1I.prototype.addAttribute=function(G1I,U1I,e1I,F1I,p1I,V1I){this.attributes.push({buffer:G1I,attribute:U1I,location:U1I.location,type:e1I||this.gl.FLOAT,normalized:F1I||false,stride:p1I||0,start:V1I||0});this.dirty=true;return this;};C1I.prototype.addIndex=function(P1I){this.indexBuffer=P1I;this.dirty=true;return this;};C1I.prototype.clear=function(){this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao);this.attributes.length=0;this.indexBuffer=null;return this;};C1I.prototype.draw=function(L1I,R1I,i1I){var v1I=this.gl;this.indexBuffer?v1I.drawElements(L1I,R1I||this.indexBuffer.data.length,v1I.UNSIGNED_SHORT,2*(i1I||0)):v1I.drawArrays(L1I,i1I,R1I||this.getSize());return this;};C1I.prototype.destroy=function(){this.nativeState=this.attributes=this.indexBuffer=this.gl=null;this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao);this.nativeVao=this.nativeVaoExtension=null;};C1I.prototype.getSize=function(){var a1I=this.attributes[0];return a1I.buffer.data.length/(a1I.stride/4||a1I.attribute.size);};},{"./setVertexAttribArrays":16}],14:[function(k1I,x1I,w1I){x1I.exports=function(Y1I,A1I){Y1I=Y1I.getContext("webgl",A1I)||Y1I.getContext("experimental-webgl",A1I);if(!Y1I){throw Error("This browser does not support webGL. Try using the canvas renderer");}return Y1I;};},{}],15:[function(r4I,s4I,n4I){r4I={createContext:r4I("./createContext"),setVertexAttribArrays:r4I("./setVertexAttribArrays"),GLBuffer:r4I("./GLBuffer"),GLFramebuffer:r4I("./GLFramebuffer"),GLShader:r4I("./GLShader"),GLTexture:r4I("./GLTexture"),VertexArrayObject:r4I("./VertexArrayObject"),shader:r4I("./shader")};"undefined"!==typeof s4I&&s4I.exports&&(s4I.exports=r4I);"undefined"!==typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=r4I);},{"./GLBuffer":9,"./GLFramebuffer":10,"./GLShader":11,"./GLTexture":12,"./VertexArrayObject":13,"./createContext":14,"./setVertexAttribArrays":16,"./shader":22}],16:[function(T4I,I4I,c4I){I4I.exports=function(y4I,O4I,g4I){var M4I;if(g4I){var o4I=g4I.tempAttribState,h4I=g4I.attribState;for(M4I=0;M4I<o4I.length;M4I++){o4I[M4I]=false;}for(M4I=0;M4I<O4I.length;M4I++){o4I[O4I[M4I].attribute.location]=true;}for(M4I=0;M4I<h4I.length;M4I++){h4I[M4I]!==o4I[M4I]&&(h4I[M4I]=o4I[M4I],g4I.attribState[M4I]?y4I.enableVertexAttribArray(M4I):y4I.disableVertexAttribArray(M4I));}}else{for(M4I=0;M4I<O4I.length;M4I++){y4I.enableVertexAttribArray(O4I[M4I].attribute.location);}}};},{}],17:[function(Z4I,q4I,E4I){var H4I=function(j4I,u4I,J4I){u4I=j4I.createShader(u4I);j4I.shaderSource(u4I,J4I);j4I.compileShader(u4I);return j4I.getShaderParameter(u4I,j4I.COMPILE_STATUS)?u4I:(console.log(j4I.getShaderInfoLog(u4I)),null);};q4I.exports=function(S4I,b4I,t4I,C4I){b4I=H4I(S4I,S4I.VERTEX_SHADER,b4I);t4I=H4I(S4I,S4I.FRAGMENT_SHADER,t4I);var K4I=S4I.createProgram();S4I.attachShader(K4I,b4I);S4I.attachShader(K4I,t4I);if(C4I){for(var N4I in C4I){S4I.bindAttribLocation(K4I,C4I[N4I],N4I);}}S4I.linkProgram(K4I);S4I.getProgramParameter(K4I,S4I.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",S4I.getProgramParameter(K4I,S4I.VALIDATE_STATUS)),console.error("gl.getError()",S4I.getError()),""!==S4I.getProgramInfoLog(K4I)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",S4I.getProgramInfoLog(K4I)),S4I.deleteProgram(K4I),K4I=null);S4I.deleteShader(b4I);S4I.deleteShader(t4I);return K4I;};},{}],18:[function(m4I,B4I,l4I){var f4I=function(Q4I){Q4I=Array(Q4I);for(var z4I=0;z4I<Q4I.length;z4I++){Q4I[z4I]=false;}return Q4I;};B4I.exports=function(d4I,D4I){switch(d4I){case"float":return 0;case"vec2":return new Float32Array(2*D4I);case"vec3":return new Float32Array(3*D4I);case"vec4":return new Float32Array(4*D4I);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*D4I);case"ivec3":return new Int32Array(3*D4I);case"ivec4":return new Int32Array(4*D4I);case"bool":return false;case"bvec2":return f4I(2*D4I);case"bvec3":return f4I(3*D4I);case"bvec4":return f4I(4*D4I);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);}};},{}],19:[function(X4I,e4I,F4I){var W4I=X4I("./mapType"),U4I=X4I("./mapSize"),G4I=function(p4I,V4I,P4I,v4I){gl.vertexAttribPointer(this.location,this.size,p4I||gl.FLOAT,V4I||false,P4I||0,v4I||0);};e4I.exports=function(L4I,a4I){for(var x4I={},w4I=L4I.getProgramParameter(a4I,L4I.ACTIVE_ATTRIBUTES),R4I=0;R4I<w4I;R4I++){var i4I=L4I.getActiveAttrib(a4I,R4I),k4I=W4I(L4I,i4I.type);x4I[i4I.name]={type:k4I,size:U4I(k4I),location:L4I.getAttribLocation(a4I,i4I.name),pointer:G4I};}return x4I;};},{"./mapSize":23,"./mapType":24}],20:[function(Y4I,s7I,n7I){var A4I=Y4I("./mapType"),r7I=Y4I("./defaultValue");s7I.exports=function(I7I,M7I){for(var o7I={},h7I=I7I.getProgramParameter(M7I,I7I.ACTIVE_UNIFORMS),c7I=0;c7I<h7I;c7I++){var T7I=I7I.getActiveUniform(M7I,c7I),O7I=T7I.name.replace(/\[.*?\]/,""),g7I=A4I(I7I,T7I.type);o7I[O7I]={type:g7I,size:T7I.size,location:I7I.getUniformLocation(M7I,O7I),value:r7I(g7I,T7I.size)};}return o7I;};},{"./defaultValue":18,"./mapType":24}],21:[function(u7I,Z7I,j7I){function E7I(S7I,J7I){return function(K7I){this.data[S7I].value=K7I;var b7I=this.data[S7I].location;if(1===J7I.size){H7I[J7I.type](this.gl,b7I,K7I);}else{q7I[J7I.type](this.gl,b7I,K7I);}};}var y7I=function(t7I){return function(){return this.data[t7I].value;};},H7I={float:function(C7I,N7I,f7I){C7I.uniform1f(N7I,f7I);},vec2:function(m7I,l7I,B7I){m7I.uniform2f(l7I,B7I[0],B7I[1]);},vec3:function(z7I,D7I,Q7I){z7I.uniform3f(D7I,Q7I[0],Q7I[1],Q7I[2]);},vec4:function(X7I,W7I,d7I){X7I.uniform4f(W7I,d7I[0],d7I[1],d7I[2],d7I[3]);},int:function(U7I,G7I,e7I){U7I.uniform1i(G7I,e7I);},ivec2:function(p7I,V7I,F7I){p7I.uniform2i(V7I,F7I[0],F7I[1]);},ivec3:function(v7I,L7I,P7I){v7I.uniform3i(L7I,P7I[0],P7I[1],P7I[2]);},ivec4:function(i7I,a7I,R7I){i7I.uniform4i(a7I,R7I[0],R7I[1],R7I[2],R7I[3]);},bool:function(x7I,k7I,w7I){x7I.uniform1i(k7I,w7I);},bvec2:function(A7I,r6I,Y7I){A7I.uniform2i(r6I,Y7I[0],Y7I[1]);},bvec3:function(n6I,I6I,s6I){n6I.uniform3i(I6I,s6I[0],s6I[1],s6I[2]);},bvec4:function(c6I,M6I,T6I){c6I.uniform4i(M6I,T6I[0],T6I[1],T6I[2],T6I[3]);},mat2:function(o6I,O6I,g6I){o6I.uniformMatrix2fv(O6I,false,g6I);},mat3:function(h6I,y6I,H6I){h6I.uniformMatrix3fv(y6I,false,H6I);},mat4:function(q6I,Z6I,E6I){q6I.uniformMatrix4fv(Z6I,false,E6I);},sampler2D:function(u6I,j6I,J6I){u6I.uniform1i(j6I,J6I);}},q7I={float:function(S6I,K6I,b6I){S6I.uniform1fv(K6I,b6I);},vec2:function(t6I,C6I,N6I){t6I.uniform2fv(C6I,N6I);},vec3:function(f6I,B6I,m6I){f6I.uniform3fv(B6I,m6I);},vec4:function(l6I,Q6I,z6I){l6I.uniform4fv(Q6I,z6I);},int:function(D6I,d6I,X6I){D6I.uniform1iv(d6I,X6I);},ivec2:function(W6I,U6I,G6I){W6I.uniform2iv(U6I,G6I);},ivec3:function(e6I,F6I,p6I){e6I.uniform3iv(F6I,p6I);},ivec4:function(V6I,P6I,v6I){V6I.uniform4iv(P6I,v6I);},bool:function(L6I,R6I,i6I){L6I.uniform1iv(R6I,i6I);},bvec2:function(a6I,x6I,k6I){a6I.uniform2iv(x6I,k6I);},bvec3:function(w6I,Y6I,A6I){w6I.uniform3iv(Y6I,A6I);},bvec4:function(r8E,s8E,n8E){r8E.uniform4iv(s8E,n8E);},sampler2D:function(I8E,T8E,c8E){I8E.uniform1iv(T8E,c8E);}};Z7I.exports=function(E8E,u8E){var y8E={data:{}};y8E.gl=E8E;for(var q8E=Object.keys(u8E),H8E=0;H8E<q8E.length;H8E++){for(var o8E=q8E[H8E],M8E=o8E.split("."),g8E=M8E[M8E.length-1],O8E=y8E,h8E=0;h8E<M8E.length-1;h8E++){var Z8E=O8E[M8E[h8E]]||{data:{}},O8E=O8E[M8E[h8E]]=Z8E;}M8E=O8E;o8E=u8E[o8E];M8E.data[g8E]=o8E;M8E.gl=E8E;Object.defineProperty(M8E,g8E,{get:y7I(g8E),set:E7I(g8E,o8E)});}return y8E;};},{}],22:[function(j8E,J8E,S8E){J8E.exports={compileProgram:j8E("./compileProgram"),defaultValue:j8E("./defaultValue"),extractAttributes:j8E("./extractAttributes"),extractUniforms:j8E("./extractUniforms"),generateUniformAccessObject:j8E("./generateUniformAccessObject"),setPrecision:j8E("./setPrecision"),mapSize:j8E("./mapSize"),mapType:j8E("./mapType")};},{"./compileProgram":17,"./defaultValue":18,"./extractAttributes":19,"./extractUniforms":20,"./generateUniformAccessObject":21,"./mapSize":23,"./mapType":24,"./setPrecision":25}],23:[function(t8E,b8E,C8E){var K8E={"float":1,vec2:2,vec3:3,vec4:4,"int":1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};b8E.exports=function(N8E){return K8E[N8E];};},{}],24:[function(l8E,m8E,Q8E){var f8E=null,B8E={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};m8E.exports=function(X8E,W8E){if(!f8E){var D8E=Object.keys(B8E);f8E={};for(var z8E=0;z8E<D8E.length;++z8E){var d8E=D8E[z8E];f8E[X8E[d8E]]=B8E[d8E];}}return f8E[W8E];};},{}],25:[function(G8E,U8E,e8E){U8E.exports=function(F8E,p8E){return"precision"!==F8E.substring(0,9)?"precision "+p8E+" float;\n"+F8E:F8E;};},{}],26:[function(V8E,I2E,T2E){function k8E(){throw Error("setTimeout has not been defined");}function w8E(){throw Error("clearTimeout has not been defined");}function A8E(c2E){if(R8E===setTimeout){return setTimeout(c2E,0);}if((R8E===k8E||!R8E)&&setTimeout){return R8E=setTimeout,setTimeout(c2E,0);}try{return R8E(c2E,0);}catch(M2E){try{return R8E.call(null,c2E,0);}catch(o2E){return R8E.call(this,c2E,0);}}}function n2E(O2E){if(v8E===clearTimeout){return clearTimeout(O2E);}if((v8E===w8E||!v8E)&&clearTimeout){return v8E=clearTimeout,clearTimeout(O2E);}try{return v8E(O2E);}catch(g2E){try{return v8E.call(null,O2E);}catch(h2E){return v8E.call(this,O2E);}}}function s2E(){a8E&&i8E&&(a8E=false,i8E.length?P8E=i8E.concat(P8E):x8E=-1,P8E.length&&r2E());}function r2E(){if(!a8E){var H2E=A8E(s2E);a8E=true;for(var y2E=P8E.length;y2E;){i8E=P8E;for(P8E=[];++x8E<y2E;){i8E&&i8E[x8E].run();}x8E=-1;y2E=P8E.length;}i8E=null;a8E=false;n2E(H2E);}}function Y8E(q2E,Z2E){this.fun=q2E;this.array=Z2E;}function L8E(){}V8E=I2E.exports={};var R8E,v8E;try{R8E="function"===typeof setTimeout?setTimeout:k8E;}catch(E2E){R8E=k8E;}try{v8E="function"===typeof clearTimeout?clearTimeout:w8E;}catch(u2E){v8E=w8E;}var P8E=[],a8E=false,i8E,x8E=-1;V8E.nextTick=function(S2E){var J2E=Array(arguments.length-1);if(1<arguments.length){for(var j2E=1;j2E<arguments.length;j2E++){J2E[j2E-1]=arguments[j2E];}}P8E.push(new Y8E(S2E,J2E));1!==P8E.length||a8E||A8E(r2E);};Y8E.prototype.run=function(){this.fun.apply(null,this.array);};V8E.title="browser";V8E.browser=true;V8E.env={};V8E.argv=[];V8E.version="";V8E.versions={};V8E.on=L8E;V8E.addListener=L8E;V8E.once=L8E;V8E.off=L8E;V8E.removeListener=L8E;V8E.removeAllListeners=L8E;V8E.emit=L8E;V8E.prependListener=L8E;V8E.prependOnceListener=L8E;V8E.listeners=function(K2E){return[];};V8E.binding=function(b2E){throw Error("process.binding is not supported");};V8E.cwd=function(){return"/";};V8E.chdir=function(t2E){throw Error("process.chdir is not supported");};V8E.umask=function(){return 0;};},{}],27:[function(f2E,C2E,N2E){(function(B2E){(function(e2E){function Q2E(x2E){throw new RangeError(R2E[x2E]);}function p2E(Y2E,A2E){for(var k2E=Y2E.length,w2E=[];k2E--;){w2E[k2E]=A2E(Y2E[k2E]);}return w2E;}function V2E(r0E,n0E){var s0E=r0E.split("@"),I0E="";1<s0E.length&&(I0E=s0E[0]+"@",r0E=s0E[1]);r0E=r0E.replace(L2E,".");r0E=r0E.split(".");n0E=p2E(r0E,n0E).join(".");return I0E+n0E;}function i2E(o0E){for(var M0E=[],T0E=0,O0E=o0E.length,c0E,g0E;T0E<O0E;){c0E=o0E.charCodeAt(T0E++),55296<=c0E&&56319>=c0E&&T0E<O0E?(g0E=o0E.charCodeAt(T0E++),56320==(g0E&64512)?M0E.push(((c0E&1023)<<10)+(g0E&1023)+65536):(M0E.push(c0E),T0E--)):M0E.push(c0E);}return M0E;}function a2E(h0E){return p2E(h0E,function(y0E){var H0E="";65535<y0E&&(y0E-=65536,H0E+=z2E(y0E>>>10&1023|55296),y0E=56320|y0E&1023);return H0E+=z2E(y0E);}).join("");}function W2E(q0E,Z0E){return q0E+22+75*(26>q0E)-((0!=Z0E)<<5);}function U2E(E0E,j0E,J0E){var u0E=0;E0E=J0E?l2E(E0E/700):E0E>>1;for(E0E+=l2E(E0E/j0E);455<E0E;u0E+=36){E0E=l2E(E0E/35);}return l2E(u0E+36*E0E/(E0E+38));}function G2E(f0E){var N0E=[],z0E=f0E.length,K0E,t0E=0,l0E=128,B0E=72,b0E,C0E,m0E,S0E,Q0E;b0E=f0E.lastIndexOf("-");0>b0E&&(b0E=0);for(C0E=0;C0E<b0E;++C0E){128<=f0E.charCodeAt(C0E)&&Q2E("not-basic"),N0E.push(f0E.charCodeAt(C0E));}for(b0E=0<b0E?b0E+1:0;b0E<z0E;){C0E=t0E;K0E=1;for(m0E=36;;m0E+=36){b0E>=z0E&&Q2E("invalid-input");S0E=f0E.charCodeAt(b0E++);S0E=10>S0E-48?S0E-22:26>S0E-65?S0E-65:26>S0E-97?S0E-97:36;(36<=S0E||S0E>l2E((2147483647-t0E)/K0E))&&Q2E("overflow");t0E+=S0E*K0E;Q0E=m0E<=B0E?1:m0E>=B0E+26?26:m0E-B0E;if(S0E<Q0E){break;}S0E=36-Q0E;K0E>l2E(2147483647/S0E)&&Q2E("overflow");K0E*=S0E;}K0E=N0E.length+1;B0E=U2E(t0E-C0E,K0E,0==C0E);l2E(t0E/K0E)>2147483647-l0E&&Q2E("overflow");l0E+=l2E(t0E/K0E);t0E%=K0E;N0E.splice(t0E++,0,l0E);}return a2E(N0E);}function F2E(F0E){var G0E,W0E,V0E,R0E,p0E,d0E,X0E,U0E,D0E,e0E=[],P0E,v0E,L0E;F0E=i2E(F0E);P0E=F0E.length;G0E=128;W0E=0;p0E=72;for(d0E=0;d0E<P0E;++d0E){D0E=F0E[d0E],128>D0E&&e0E.push(z2E(D0E));}for((V0E=R0E=e0E.length)&&e0E.push("-");V0E<P0E;){X0E=2147483647;for(d0E=0;d0E<P0E;++d0E){D0E=F0E[d0E],D0E>=G0E&&D0E<X0E&&(X0E=D0E);}v0E=V0E+1;X0E-G0E>l2E((2147483647-W0E)/v0E)&&Q2E("overflow");W0E+=(X0E-G0E)*v0E;G0E=X0E;for(d0E=0;d0E<P0E;++d0E){if(D0E=F0E[d0E],D0E<G0E&&2147483647<++W0E&&Q2E("overflow"),D0E==G0E){U0E=W0E;for(X0E=36;;X0E+=36){D0E=X0E<=p0E?1:X0E>=p0E+26?26:X0E-p0E;if(U0E<D0E){break;}L0E=U0E-D0E;U0E=36-D0E;e0E.push(z2E(W2E(D0E+L0E%U0E,0)));U0E=l2E(L0E/U0E);}e0E.push(z2E(W2E(U0E,0)));p0E=U2E(W0E,v0E,V0E==R0E);W0E=0;++V0E;}}++W0E;++G0E;}return e0E.join("");}var d2E="object"==typeof N2E&&N2E&&!N2E.nodeType&&N2E,X2E="object"==typeof C2E&&C2E&&!C2E.nodeType&&C2E,m2E="object"==typeof B2E&&B2E;if(m2E.global===m2E||m2E.window===m2E||m2E.self===m2E){e2E=m2E;}var P2E=/^xn--/,v2E=/[^\x20-\x7E]/,L2E=/[\x2E\u3002\uFF0E\uFF61]/g,R2E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},l2E=Math.floor,z2E=String.fromCharCode,D2E,m2E={version:"1.4.1",ucs2:{decode:i2E,encode:a2E},decode:G2E,encode:F2E,toASCII:function(i0E){return V2E(i0E,function(a0E){return v2E.test(a0E)?"xn--"+F2E(a0E):a0E;});},toUnicode:function(x0E){return V2E(x0E,function(k0E){return P2E.test(k0E)?G2E(k0E.slice(4).toLowerCase()):k0E;});}};if(d2E&&X2E){if(C2E.exports==d2E){X2E.exports=m2E;}else{for(D2E in m2E){m2E.hasOwnProperty(D2E)&&(d2E[D2E]=m2E[D2E]);}}}else{e2E.punycode=m2E;}}(this));}.call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{}));},{}],28:[function(A0E,Y0E,r3E){Y0E.exports=function(M3E,n3E,O3E,c3E){O3E=O3E||"=";var T3E={};if("string"!==typeof M3E||0===M3E.length){return T3E;}var g3E=/\+/g;M3E=M3E.split(n3E||"&");n3E=1E3;c3E&&"number"===typeof c3E.maxKeys&&(n3E=c3E.maxKeys);c3E=M3E.length;0<n3E&&c3E>n3E&&(c3E=n3E);for(n3E=0;n3E<c3E;++n3E){var s3E=M3E[n3E].replace(g3E,"%20"),o3E=s3E.indexOf(O3E),I3E;0<=o3E?(I3E=s3E.substr(0,o3E),s3E=s3E.substr(o3E+1)):(I3E=s3E,s3E="");I3E=decodeURIComponent(I3E);s3E=decodeURIComponent(s3E);Object.prototype.hasOwnProperty.call(T3E,I3E)?w0E(T3E[I3E])?T3E[I3E].push(s3E):T3E[I3E]=[T3E[I3E],s3E]:T3E[I3E]=s3E;}return T3E;};var w0E=Array.isArray||function(h3E){return"[object Array]"===Object.prototype.toString.call(h3E);};},{}],29:[function(u3E,E3E,j3E){function H3E(S3E,b3E){if(S3E.map){return S3E.map(b3E);}for(var K3E=[],J3E=0;J3E<S3E.length;J3E++){K3E.push(b3E(S3E[J3E],J3E));}return K3E;}var y3E=function(t3E){switch(typeof t3E){case"string":return t3E;case"boolean":return t3E?"true":"false";case"number":return isFinite(t3E)?t3E:"";default:return"";}};E3E.exports=function(C3E,N3E,f3E,B3E){N3E=N3E||"&";f3E=f3E||"=";null===C3E&&(C3E=void 0);return"object"===typeof C3E?H3E(Z3E(C3E),function(m3E){var l3E=encodeURIComponent(y3E(m3E))+f3E;return q3E(C3E[m3E])?H3E(C3E[m3E],function(Q3E){return l3E+encodeURIComponent(y3E(Q3E));}).join(N3E):l3E+encodeURIComponent(y3E(C3E[m3E]));}).join(N3E):B3E?encodeURIComponent(y3E(B3E))+f3E+encodeURIComponent(y3E(C3E)):"";};var q3E=Array.isArray||function(z3E){return"[object Array]"===Object.prototype.toString.call(z3E);},Z3E=Object.keys||function(X3E){var D3E=[],d3E;for(d3E in X3E){Object.prototype.hasOwnProperty.call(X3E,d3E)&&D3E.push(d3E);}return D3E;};},{}],30:[function(U3E,G3E,W3E){W3E.decode=W3E.parse=U3E("./decode");W3E.encode=W3E.stringify=U3E("./encode");},{"./decode":28,"./encode":29}],31:[function(F3E,e3E,p3E){e3E.exports=function(L3E,V3E,v3E){var P3E=L3E.length;if(!(V3E>=P3E||0===v3E)){v3E=V3E+v3E>P3E?P3E-V3E:v3E;for(P3E-=v3E;V3E<P3E;++V3E){L3E[V3E]=L3E[V3E+v3E];}L3E.length=P3E;}};},{}],32:[function(R3E,a3E,r5E){function k3E(n5E){return n5E&&n5E.__esModule?n5E:{default:n5E};}r5E.__esModule=true;j.initSymbol();j.initSymbol();j.initSymbolIterator();var w3E="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(I5E){return typeof I5E;}:function(T5E){j.initSymbol();j.initSymbol();j.initSymbol();return T5E&&"function"===typeof Symbol&&T5E.constructor===Symbol&&T5E!==Symbol.prototype?"symbol":typeof T5E;};a3E=R3E("mini-signals");var i3E=k3E(a3E);a3E=R3E("parse-uri");var A3E=k3E(a3E),x3E=function(c5E){if(c5E&&c5E.__esModule){return c5E;}var M5E={};if(null!=c5E){for(var o5E in c5E){Object.prototype.hasOwnProperty.call(c5E,o5E)&&(M5E[o5E]=c5E[o5E]);}}M5E.default=c5E;return M5E;}(R3E("./async"));R3E=R3E("./Resource");var s5E=k3E(R3E),Y3E=/(#[\w-]+)?$/;R3E=function(){function O5E(){var g5E=this,h5E=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",y5E=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;if(!(this instanceof O5E)){throw new TypeError("Cannot call a class as a function");}this.baseUrl=h5E;this.progress=0;this.loading=false;this.defaultQueryString="";this._beforeMiddleware=[];this._afterMiddleware=[];this._resourcesParsing=[];this._boundLoadResource=function(H5E,q5E){return g5E._loadResource(H5E,q5E);};this._queue=x3E.queue(this._boundLoadResource,y5E);this._queue.pause();this.resources={};this.onProgress=new i3E.default();this.onError=new i3E.default();this.onLoad=new i3E.default();this.onStart=new i3E.default();this.onComplete=new i3E.default();}O5E.prototype.add=function(Z5E,u5E,E5E,j5E){var J5E=this;if(Array.isArray(Z5E)){for(u5E=0;u5E<Z5E.length;++u5E){J5E.add(Z5E[u5E]);}return this;}("undefined"===typeof Z5E?false:"object"===w3E(Z5E))&&(j5E=u5E||Z5E.callback||Z5E.onComplete,E5E=Z5E,u5E=Z5E.url,Z5E=Z5E.name||Z5E.key||Z5E.url);"string"!==typeof u5E&&(j5E=E5E,E5E=u5E,u5E=Z5E);if("string"!==typeof u5E){throw Error("No url passed to add resource to loader.");}"function"===typeof E5E&&(j5E=E5E,E5E=null);if(this.loading&&(!E5E||!E5E.parentResource)){throw Error("Cannot add resources while the loader is running.");}if(this.resources[Z5E]){throw Error('Resource named "'+Z5E+'" already exists.');}u5E=this._prepareUrl(u5E);this.resources[Z5E]=new s5E.default(Z5E,u5E,E5E);if("function"===typeof j5E){this.resources[Z5E].onAfterMiddleware.once(j5E);}if(this.loading){E5E=E5E.parentResource;u5E=[];for(j5E=0;j5E<E5E.children.length;++j5E){E5E.children[j5E].isComplete||u5E.push(E5E.children[j5E]);}j5E=E5E.progressChunk*(u5E.length+1)/(u5E.length+2);E5E.children.push(this.resources[Z5E]);E5E.progressChunk=j5E;for(E5E=0;E5E<u5E.length;++E5E){u5E[E5E].progressChunk=j5E;}this.resources[Z5E].progressChunk=j5E;}this._queue.push(this.resources[Z5E]);return this;};O5E.prototype.pre=function(S5E){this._beforeMiddleware.push(S5E);return this;};O5E.prototype.use=function(K5E){this._afterMiddleware.push(K5E);return this;};O5E.prototype.reset=function(){var t5E=this;this.progress=0;this.loading=false;this._queue.kill();this._queue.pause();for(var C5E in t5E.resources){var b5E=t5E.resources[C5E];b5E._onLoadBinding&&b5E._onLoadBinding.detach();b5E.isLoading&&b5E.abort();}this.resources={};return this;};O5E.prototype.load=function(N5E){var B5E=this;if("function"===typeof N5E){this.onComplete.once(N5E);}if(this.loading){return this;}N5E=100/this._queue._tasks.length;for(var f5E=0;f5E<this._queue._tasks.length;++f5E){B5E._queue._tasks[f5E].data.progressChunk=N5E;}this.loading=true;this.onStart.dispatch(this);this._queue.resume();return this;};O5E.prototype._prepareUrl=function(m5E){var l5E=(0,A3E.default)(m5E,{strictMode:true});m5E=l5E.protocol||!l5E.path||0===m5E.indexOf("//")?m5E:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==m5E.charAt(0)?this.baseUrl+"/"+m5E:this.baseUrl+m5E;this.defaultQueryString&&(l5E=Y3E.exec(m5E)[0],m5E=m5E.substr(0,m5E.length-l5E.length),m5E=-1!==m5E.indexOf("?")?m5E+("&"+this.defaultQueryString):m5E+("?"+this.defaultQueryString),m5E+=l5E);return m5E;};O5E.prototype._loadResource=function(Q5E,D5E){var z5E=this;Q5E._dequeue=D5E;x3E.eachSeries(this._beforeMiddleware,function(d5E,X5E){d5E.call(z5E,Q5E,function(){X5E(Q5E.isComplete?{}:null);});},function(){Q5E.isComplete?z5E._onLoad(Q5E):(Q5E._onLoadBinding=Q5E.onComplete.once(z5E._onLoad,z5E),Q5E.load());},true);};O5E.prototype._onComplete=function(){this.loading=false;this.onComplete.dispatch(this,this.resources);};O5E.prototype._onLoad=function(U5E){var W5E=this;U5E._onLoadBinding=null;this._resourcesParsing.push(U5E);U5E._dequeue();x3E.eachSeries(this._afterMiddleware,function(G5E,e5E){G5E.call(W5E,U5E,e5E);},function(){U5E.onAfterMiddleware.dispatch(U5E);W5E.progress+=U5E.progressChunk;W5E.onProgress.dispatch(W5E,U5E);U5E.error?W5E.onError.dispatch(U5E.error,W5E,U5E):W5E.onLoad.dispatch(W5E,U5E);W5E._resourcesParsing.splice(W5E._resourcesParsing.indexOf(U5E),1);W5E._queue.idle()&&0===W5E._resourcesParsing.length&&(W5E.progress=100,W5E._onComplete());},true);};return O5E;}();r5E.default=R3E;},{"./Resource":33,"./async":34,"mini-signals":5,"parse-uri":7}],33:[function(F5E,P5E,a5E){function k5E(){}function L5E(Y5E,w5E,A5E){w5E&&0===w5E.indexOf(".")&&(w5E=w5E.substring(1));w5E&&(Y5E[w5E]=A5E);}function v5E(r9E){return r9E.toString().replace("object ","");}a5E.__esModule=true;var R5E=function(){function s9E(c9E,T9E){for(var I9E=0;I9E<T9E.length;I9E++){var n9E=T9E[I9E];n9E.enumerable=n9E.enumerable||false;n9E.configurable=true;"value"in n9E&&(n9E.writable=true);Object.defineProperty(c9E,n9E.key,n9E);}}return function(M9E,o9E,O9E){o9E&&s9E(M9E.prototype,o9E);O9E&&s9E(M9E,O9E);return M9E;};}(),i5E=(P5E=F5E("parse-uri"))&&P5E.__esModule?P5E:{default:P5E},V5E=(F5E=F5E("mini-signals"))&&F5E.__esModule?F5E:{default:F5E},x5E=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest()),p5E=null;F5E=function(){function g9E(H9E,y9E,h9E){if(!(this instanceof g9E)){throw new TypeError("Cannot call a class as a function");}if("string"!==typeof H9E||"string"!==typeof y9E){throw Error("Both name and url are required for constructing a resource.");}h9E=h9E||{};this._flags=0;this._setFlag(g9E.STATUS_FLAGS.DATA_URL,0===y9E.indexOf("data:"));this.name=H9E;this.url=y9E;this.extension=this._getExtension();this.data=null;this.crossOrigin=true===h9E.crossOrigin?"anonymous":h9E.crossOrigin;this.loadType=h9E.loadType||this._determineLoadType();this.xhrType=h9E.xhrType;this.metadata=h9E.metadata||{};this.xhr=this.error=null;this.children=[];this.type=g9E.TYPE.UNKNOWN;this.progressChunk=0;this._dequeue=k5E;this._onLoadBinding=null;this._boundComplete=this.complete.bind(this);this._boundOnError=this._onError.bind(this);this._boundOnProgress=this._onProgress.bind(this);this._boundXhrOnError=this._xhrOnError.bind(this);this._boundXhrOnAbort=this._xhrOnAbort.bind(this);this._boundXhrOnLoad=this._xhrOnLoad.bind(this);this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this);this.onStart=new V5E.default();this.onProgress=new V5E.default();this.onComplete=new V5E.default();this.onAfterMiddleware=new V5E.default();}g9E.setExtensionLoadType=function(q9E,Z9E){L5E(g9E._loadTypeMap,q9E,Z9E);};g9E.setExtensionXhrType=function(E9E,u9E){L5E(g9E._xhrTypeMap,E9E,u9E);};g9E.prototype.complete=function(){this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,false),this.data.removeEventListener("load",this._boundComplete,false),this.data.removeEventListener("progress",this._boundOnProgress,false),this.data.removeEventListener("canplaythrough",this._boundComplete,false));this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,false),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,false),this.xhr.removeEventListener("progress",this._boundOnProgress,false),this.xhr.removeEventListener("load",this._boundXhrOnLoad,false)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null));if(this.isComplete){throw Error("Complete called again for an already completed resource.");}this._setFlag(g9E.STATUS_FLAGS.COMPLETE,true);this._setFlag(g9E.STATUS_FLAGS.LOADING,false);this.onComplete.dispatch(this);};g9E.prototype.abort=function(J9E){var j9E=this;if(!this.error){this.error=Error(J9E);if(this.xhr){this.xhr.abort();}else if(this.xdr){this.xdr.abort();}else if(this.data){if(this.data.src){this.data.src=g9E.EMPTY_GIF;}else{for(;this.data.firstChild;){j9E.data.removeChild(j9E.data.firstChild);}}}this.complete();}};g9E.prototype.load=function(S9E){var K9E=this;if(!this.isLoading){if(this.isComplete){S9E&&setTimeout(function(){return S9E(K9E);},1);}else{if(S9E){this.onComplete.once(S9E);}this._setFlag(g9E.STATUS_FLAGS.LOADING,true);this.onStart.dispatch(this);if(false===this.crossOrigin||"string"!==typeof this.crossOrigin){this.crossOrigin=this._determineCrossOrigin(this.url);}switch(this.loadType){case g9E.LOAD_TYPE.IMAGE:this.type=g9E.TYPE.IMAGE;this._loadElement("image");break;case g9E.LOAD_TYPE.AUDIO:this.type=g9E.TYPE.AUDIO;this._loadSourceElement("audio");break;case g9E.LOAD_TYPE.VIDEO:this.type=g9E.TYPE.VIDEO;this._loadSourceElement("video");break;default:x5E&&this.crossOrigin?this._loadXdr():this._loadXhr();}}}};g9E.prototype._hasFlag=function(b9E){return!!(this._flags&b9E);};g9E.prototype._setFlag=function(t9E,C9E){this._flags=C9E?this._flags|t9E:this._flags&~t9E;};g9E.prototype._loadElement=function(N9E){this.data=this.metadata.loadElement?this.metadata.loadElement:"image"===N9E&&"undefined"!==typeof window.Image?new Image():document.createElement(N9E);this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin);this.metadata.skipSource||(this.data.src=this.url);this.data.addEventListener("error",this._boundOnError,false);this.data.addEventListener("load",this._boundComplete,false);this.data.addEventListener("progress",this._boundOnProgress,false);};g9E.prototype._loadSourceElement=function(B9E){var l9E=this;this.data=this.metadata.loadElement?this.metadata.loadElement:"audio"===B9E&&"undefined"!==typeof window.Audio?new Audio():document.createElement(B9E);if(null===this.data){this.abort("Unsupported element: "+B9E);}else{if(!this.metadata.skipSource){if(navigator.isCocoonJS){this.data.src=Array.isArray(this.url)?this.url[0]:this.url;}else if(Array.isArray(this.url)){for(var f9E=this.metadata.mimeType,m9E=0;m9E<this.url.length;++m9E){l9E.data.appendChild(l9E._createSource(B9E,l9E.url[m9E],Array.isArray(f9E)?f9E[m9E]:f9E));}}else{f9E=this.metadata.mimeType,this.data.appendChild(this._createSource(B9E,this.url,Array.isArray(f9E)?f9E[0]:f9E));}}this.data.addEventListener("error",this._boundOnError,false);this.data.addEventListener("load",this._boundComplete,false);this.data.addEventListener("progress",this._boundOnProgress,false);this.data.addEventListener("canplaythrough",this._boundComplete,false);this.data.load();}};g9E.prototype._loadXhr=function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var Q9E=this.xhr=new XMLHttpRequest();Q9E.open("GET",this.url,true);Q9E.responseType=this.xhrType===g9E.XHR_RESPONSE_TYPE.JSON||this.xhrType===g9E.XHR_RESPONSE_TYPE.DOCUMENT?g9E.XHR_RESPONSE_TYPE.TEXT:this.xhrType;Q9E.addEventListener("error",this._boundXhrOnError,false);Q9E.addEventListener("abort",this._boundXhrOnAbort,false);Q9E.addEventListener("progress",this._boundOnProgress,false);Q9E.addEventListener("load",this._boundXhrOnLoad,false);Q9E.send();};g9E.prototype._loadXdr=function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var z9E=this.xhr=new XDomainRequest();z9E.timeout=5E3;z9E.onerror=this._boundXhrOnError;z9E.ontimeout=this._boundXdrOnTimeout;z9E.onprogress=this._boundOnProgress;z9E.onload=this._boundXhrOnLoad;z9E.open("GET",this.url,true);setTimeout(function(){return z9E.send();},1);};g9E.prototype._createSource=function(D9E,X9E,d9E){d9E||(d9E=D9E+"/"+this._getExtension(X9E));D9E=document.createElement("source");D9E.src=X9E;D9E.type=d9E;return D9E;};g9E.prototype._onError=function(W9E){this.abort("Failed to load element using: "+W9E.target.nodeName);};g9E.prototype._onProgress=function(U9E){U9E&&U9E.lengthComputable&&this.onProgress.dispatch(this,U9E.loaded/U9E.total);};g9E.prototype._xhrOnError=function(){var G9E=this.xhr;this.abort(v5E(G9E)+" Request failed. Status: "+G9E.status+', text: "'+G9E.statusText+'"');};g9E.prototype._xhrOnAbort=function(){this.abort(v5E(this.xhr)+" Request was aborted by the user.");};g9E.prototype._xdrOnTimeout=function(){this.abort(v5E(this.xhr)+" Request timed out.");};g9E.prototype._xhrOnLoad=function(){var e9E=this.xhr,F9E="",p9E="undefined"===typeof e9E.status?200:e9E.status;if(""===e9E.responseType||"text"===e9E.responseType||"undefined"===typeof e9E.responseType){F9E=e9E.responseText;}0===p9E&&0<F9E.length?p9E=200:1223===p9E&&(p9E=204);if(2===(p9E/100|0)){if(this.xhrType===g9E.XHR_RESPONSE_TYPE.TEXT){this.data=F9E,this.type=g9E.TYPE.TEXT;}else if(this.xhrType===g9E.XHR_RESPONSE_TYPE.JSON){try{this.data=JSON.parse(F9E),this.type=g9E.TYPE.JSON;}catch(P9E){this.abort("Error trying to parse loaded json: "+P9E);return;}}else if(this.xhrType===g9E.XHR_RESPONSE_TYPE.DOCUMENT){try{if(window.DOMParser){this.data=new DOMParser().parseFromString(F9E,"text/xml");}else{var V9E=document.createElement("div");V9E.innerHTML=F9E;this.data=V9E;}this.type=g9E.TYPE.XML;}catch(v9E){this.abort("Error trying to parse loaded xml: "+v9E);return;}}else{this.data=e9E.response||F9E;}this.complete();}else{this.abort("["+e9E.status+"] "+e9E.statusText+": "+e9E.responseURL);}};g9E.prototype._determineCrossOrigin=function(L9E,R9E){if(0===L9E.indexOf("data:")){return"";}R9E=R9E||window.location;p5E||(p5E=document.createElement("a"));p5E.href=L9E;L9E=(0,i5E.default)(p5E.href,{strictMode:true});var i9E=!L9E.port&&""===R9E.port||L9E.port===R9E.port,a9E=L9E.protocol?L9E.protocol+":":"";return L9E.host===R9E.hostname&&i9E&&a9E===R9E.protocol?"":"anonymous";};g9E.prototype._determineXhrType=function(){return g9E._xhrTypeMap[this.extension]||g9E.XHR_RESPONSE_TYPE.TEXT;};g9E.prototype._determineLoadType=function(){return g9E._loadTypeMap[this.extension]||g9E.LOAD_TYPE.XHR;};g9E.prototype._getExtension=function(){var x9E=this.url;if(this.isDataUrl){var k9E=x9E.indexOf("/"),x9E=x9E.substring(k9E+1,x9E.indexOf(";",k9E));}else{var k9E=x9E.indexOf("?"),w9E=x9E.indexOf("#"),x9E=x9E.substring(0,Math.min(-1<k9E?k9E:x9E.length,-1<w9E?w9E:x9E.length)),x9E=x9E.substring(x9E.lastIndexOf(".")+1);}return x9E.toLowerCase();};g9E.prototype._getMimeFromXhrType=function(Y9E){switch(Y9E){case g9E.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case g9E.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case g9E.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case g9E.XHR_RESPONSE_TYPE.JSON:return"application/json";default:return"text/plain";}};R5E(g9E,[{key:"isDataUrl",get:function(){return this._hasFlag(g9E.STATUS_FLAGS.DATA_URL);}},{key:"isComplete",get:function(){return this._hasFlag(g9E.STATUS_FLAGS.COMPLETE);}},{key:"isLoading",get:function(){return this._hasFlag(g9E.STATUS_FLAGS.LOADING);}}]);return g9E;}();a5E.default=F5E;F5E.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4};F5E.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6};F5E.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};F5E.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};F5E._loadTypeMap={gif:F5E.LOAD_TYPE.IMAGE,png:F5E.LOAD_TYPE.IMAGE,bmp:F5E.LOAD_TYPE.IMAGE,jpg:F5E.LOAD_TYPE.IMAGE,jpeg:F5E.LOAD_TYPE.IMAGE,tif:F5E.LOAD_TYPE.IMAGE,tiff:F5E.LOAD_TYPE.IMAGE,webp:F5E.LOAD_TYPE.IMAGE,tga:F5E.LOAD_TYPE.IMAGE,svg:F5E.LOAD_TYPE.IMAGE,"svg+xml":F5E.LOAD_TYPE.IMAGE,mp3:F5E.LOAD_TYPE.AUDIO,ogg:F5E.LOAD_TYPE.AUDIO,wav:F5E.LOAD_TYPE.AUDIO,mp4:F5E.LOAD_TYPE.VIDEO,webm:F5E.LOAD_TYPE.VIDEO};F5E._xhrTypeMap={xhtml:F5E.XHR_RESPONSE_TYPE.DOCUMENT,html:F5E.XHR_RESPONSE_TYPE.DOCUMENT,htm:F5E.XHR_RESPONSE_TYPE.DOCUMENT,xml:F5E.XHR_RESPONSE_TYPE.DOCUMENT,tmx:F5E.XHR_RESPONSE_TYPE.DOCUMENT,svg:F5E.XHR_RESPONSE_TYPE.DOCUMENT,tsx:F5E.XHR_RESPONSE_TYPE.DOCUMENT,gif:F5E.XHR_RESPONSE_TYPE.BLOB,png:F5E.XHR_RESPONSE_TYPE.BLOB,bmp:F5E.XHR_RESPONSE_TYPE.BLOB,jpg:F5E.XHR_RESPONSE_TYPE.BLOB,jpeg:F5E.XHR_RESPONSE_TYPE.BLOB,tif:F5E.XHR_RESPONSE_TYPE.BLOB,tiff:F5E.XHR_RESPONSE_TYPE.BLOB,webp:F5E.XHR_RESPONSE_TYPE.BLOB,tga:F5E.XHR_RESPONSE_TYPE.BLOB,json:F5E.XHR_RESPONSE_TYPE.JSON,text:F5E.XHR_RESPONSE_TYPE.TEXT,txt:F5E.XHR_RESPONSE_TYPE.TEXT,ttf:F5E.XHR_RESPONSE_TYPE.BUFFER,otf:F5E.XHR_RESPONSE_TYPE.BUFFER};F5E.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";},{"mini-signals":5,"parse-uri":7}],34:[function(n1E,I1E,r1E){function A9E(){}function s1E(T1E){return function(){if(null===T1E){throw Error("Callback was already called.");}var c1E=T1E;T1E=null;c1E.apply(this,arguments);};}r1E.__esModule=true;r1E.eachSeries=function(o1E,O1E,g1E,y1E){var M1E=0,h1E=o1E.length;(function H1E(q1E){q1E||M1E===h1E?g1E&&g1E(q1E):y1E?setTimeout(function(){O1E(o1E[M1E++],H1E);},1):O1E(o1E[M1E++],H1E);}());};r1E.queue=function(J1E,u1E){function j1E(K1E,t1E,b1E){if(null!=b1E&&"function"!==typeof b1E){throw Error("task callback must be a function");}Z1E.started=true;null==K1E&&Z1E.idle()?setTimeout(function(){return Z1E.drain();},1):(K1E={data:K1E,callback:"function"===typeof b1E?b1E:A9E},t1E?Z1E._tasks.unshift(K1E):Z1E._tasks.push(K1E),setTimeout(function(){return Z1E.process();},1));}function S1E(C1E){return function(){--E1E;C1E.callback.apply(C1E,arguments);null!=arguments[0]&&Z1E.error(arguments[0],C1E.data);E1E<=Z1E.concurrency-Z1E.buffer&&Z1E.unsaturated();Z1E.idle()&&Z1E.drain();Z1E.process();};}if(null==u1E){u1E=1;}else if(0===u1E){throw Error("Concurrency must not be zero");}var E1E=0,Z1E={_tasks:[],concurrency:u1E,saturated:A9E,unsaturated:A9E,buffer:u1E/4,empty:A9E,drain:A9E,error:A9E,started:false,paused:false,push:function(N1E,f1E){j1E(N1E,false,f1E);},kill:function(){E1E=0;Z1E.drain=A9E;Z1E.started=false;Z1E._tasks=[];},unshift:function(B1E,m1E){j1E(B1E,true,m1E);},process:function(){for(;!Z1E.paused&&E1E<Z1E.concurrency&&Z1E._tasks.length;){var l1E=Z1E._tasks.shift();0===Z1E._tasks.length&&Z1E.empty();E1E+=1;E1E===Z1E.concurrency&&Z1E.saturated();J1E(l1E.data,s1E(S1E(l1E)));}},length:function(){return Z1E._tasks.length;},running:function(){return E1E;},idle:function(){return 0===Z1E._tasks.length+E1E;},pause:function(){true!==Z1E.paused&&(Z1E.paused=true);},resume:function(){if(false!==Z1E.paused){Z1E.paused=false;for(var Q1E=1;Q1E<=Z1E.concurrency;Q1E++){Z1E.process();}}}};return Z1E;};},{}],35:[function(d1E,X1E,z1E){z1E.__esModule=true;z1E.encodeBinary=function(e1E){for(var p1E="",G1E=0;G1E<e1E.length;){for(var W1E=[0,0,0],U1E=[0,0,0,0],F1E=0;F1E<W1E.length;++F1E){W1E[F1E]=G1E<e1E.length?e1E.charCodeAt(G1E++)&255:0;}U1E[0]=W1E[0]>>2;U1E[1]=(W1E[0]&3)<<4|W1E[1]>>4;U1E[2]=(W1E[1]&15)<<2|W1E[2]>>6;U1E[3]=W1E[2]&63;switch(G1E-(e1E.length-1)){case 2:U1E[3]=64;U1E[2]=64;break;case 1:U1E[3]=64;}for(W1E=0;W1E<U1E.length;++W1E){p1E+=D1E.charAt(U1E[W1E]);}}return p1E;};var D1E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";},{}],36:[function(V1E,v1E,P1E){P1E=V1E("./Loader").default;var L1E=V1E("./Resource").default,R1E=V1E("./async");V1E=V1E("./b64");P1E.Resource=L1E;P1E.async=R1E;P1E.base64=V1E;v1E.exports=P1E;v1E.exports.default=P1E;},{"./Loader":32,"./Resource":33,"./async":34,"./b64":35}],37:[function(i1E,a1E,w1E){w1E.__esModule=true;j.initSymbol();j.initSymbol();j.initSymbolIterator();var Y1E="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(r4E){return typeof r4E;}:function(s4E){j.initSymbol();j.initSymbol();j.initSymbol();return s4E&&"function"===typeof Symbol&&s4E.constructor===Symbol&&s4E!==Symbol.prototype?"symbol":typeof s4E;};w1E.blobMiddlewareFactory=function(){return function(n4E,T4E){if(n4E.data&&n4E.xhr&&n4E.xhrType===x1E.default.XHR_RESPONSE_TYPE.BLOB){if(!window.Blob||"string"===typeof n4E.data){var I4E=n4E.xhr.getResponseHeader("content-type");if(I4E&&0===I4E.indexOf("image")){n4E.data=new Image();n4E.data.src="data:"+I4E+";base64,"+A1E.default.encodeBinary(n4E.xhr.responseText);n4E.type=x1E.default.TYPE.IMAGE;n4E.data.onload=function(){n4E.data.onload=null;T4E();};return;}}else if(0===n4E.data.type.indexOf("image")&&(I4E=function(){var c4E=k1E.createObjectURL(n4E.data);n4E.blob=n4E.data;n4E.data=new Image();n4E.data.src=c4E;n4E.type=x1E.default.TYPE.IMAGE;n4E.data.onload=function(){k1E.revokeObjectURL(c4E);n4E.data.onload=null;T4E();};return{v:void 0};}(),"undefined"===typeof I4E?false:"object"===Y1E(I4E))){return I4E.v;}}T4E();};};var x1E=(a1E=i1E("../../Resource"))&&a1E.__esModule?a1E:{default:a1E},A1E=(i1E=i1E("../../b64"))&&i1E.__esModule?i1E:{default:i1E},k1E=window.URL||window.webkitURL;},{"../../Resource":33,"../../b64":35}],38:[function(j4E,J4E,h4E){function M4E(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null;}function g4E(f4E,m4E,l4E){if(f4E&&o4E.isObject(f4E)&&f4E instanceof M4E){return f4E;}var B4E=new M4E();B4E.parse(f4E,m4E,l4E);return B4E;}var N4E=j4E("punycode"),o4E=j4E("./util");h4E.parse=g4E;h4E.resolve=function(Q4E,z4E){return g4E(Q4E,false,true).resolve(z4E);};h4E.resolveObject=function(D4E,d4E){return D4E?g4E(D4E,false,true).resolveObject(d4E):d4E;};h4E.format=function(X4E){o4E.isString(X4E)&&(X4E=g4E(X4E));return X4E instanceof M4E?X4E.format():M4E.prototype.format.call(X4E);};h4E.Url=M4E;var S4E=/^([a-z0-9.+-]+:)/i,K4E=/:[0-9]*$/,C4E=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/;J4E="{}|\\^`".split("").concat('<>"` \r\n\t'.split(""));var q4E=["'"].concat(J4E),Z4E=["%","/","?",";","#"].concat(q4E),E4E=["/","?","#"],u4E=/^[+a-z0-9A-Z_-]{0,63}$/,b4E=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,t4E={javascript:true,"javascript:":true},y4E={javascript:true,"javascript:":true},O4E={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},H4E=j4E("querystring");M4E.prototype.parse=function(U4E,L4E,G4E){var R4E=this;if(!o4E.isString(U4E)){throw new TypeError("Parameter 'url' must be a string, not "+typeof U4E);}var W4E=U4E.indexOf("?"),W4E=-1!==W4E&&W4E<U4E.indexOf("#")?"?":"#";U4E=U4E.split(W4E);U4E[0]=U4E[0].replace(/\\/g,"/");U4E=U4E.join(W4E);W4E=U4E.trim();if(!G4E&&1===U4E.split("#").length&&(U4E=C4E.exec(W4E))){return this.href=this.path=W4E,this.pathname=U4E[1],U4E[2]?(this.search=U4E[2],this.query=L4E?H4E.parse(this.search.substr(1)):this.search.substr(1)):L4E&&(this.search="",this.query={}),this;}if(U4E=S4E.exec(W4E)){U4E=U4E[0];var v4E=U4E.toLowerCase();this.protocol=v4E;W4E=W4E.substr(U4E.length);}if(G4E||U4E||W4E.match(/^\/\/[^@\/]+@[^@\/]+/)){var e4E="//"===W4E.substr(0,2);!e4E||U4E&&y4E[U4E]||(W4E=W4E.substr(2),this.slashes=true);}if(!y4E[U4E]&&(e4E||U4E&&!O4E[U4E])){e4E=-1;for(G4E=0;G4E<E4E.length;G4E++){U4E=W4E.indexOf(E4E[G4E]),-1!==U4E&&(-1===e4E||U4E<e4E)&&(e4E=U4E);}e4E=-1===e4E?W4E.lastIndexOf("@"):W4E.lastIndexOf("@",e4E);-1!==e4E&&(G4E=W4E.slice(0,e4E),W4E=W4E.slice(e4E+1),this.auth=decodeURIComponent(G4E));e4E=-1;for(G4E=0;G4E<Z4E.length;G4E++){U4E=W4E.indexOf(Z4E[G4E]),-1!==U4E&&(-1===e4E||U4E<e4E)&&(e4E=U4E);}-1===e4E&&(e4E=W4E.length);this.host=W4E.slice(0,e4E);W4E=W4E.slice(e4E);this.parseHost();this.hostname=this.hostname||"";e4E="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!e4E){var p4E=this.hostname.split(/\./);G4E=0;for(U4E=p4E.length;G4E<U4E;G4E++){var F4E=p4E[G4E];if(F4E&&!F4E.match(u4E)){for(var V4E="",P4E=0,i4E=F4E.length;P4E<i4E;P4E++){V4E=127<F4E.charCodeAt(P4E)?V4E+"x":V4E+F4E[P4E];}if(!V4E.match(u4E)){U4E=p4E.slice(0,G4E);G4E=p4E.slice(G4E+1);if(F4E=F4E.match(b4E)){U4E.push(F4E[1]),G4E.unshift(F4E[2]);}G4E.length&&(W4E="/"+G4E.join(".")+W4E);R4E.hostname=U4E.join(".");break;}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();e4E||(this.hostname=N4E.toASCII(this.hostname));G4E=this.port?":"+this.port:"";this.host=(this.hostname||"")+G4E;this.href+=this.host;e4E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==W4E[0]&&(W4E="/"+W4E));}if(!t4E[v4E]){for(G4E=0,U4E=q4E.length;G4E<U4E;G4E++){e4E=q4E[G4E],-1!==W4E.indexOf(e4E)&&(F4E=encodeURIComponent(e4E),F4E===e4E&&(F4E=escape(e4E)),W4E=W4E.split(e4E).join(F4E));}}G4E=W4E.indexOf("#");-1!==G4E&&(this.hash=W4E.substr(G4E),W4E=W4E.slice(0,G4E));G4E=W4E.indexOf("?");-1!==G4E?(this.search=W4E.substr(G4E),this.query=W4E.substr(G4E+1),L4E&&(this.query=H4E.parse(this.query)),W4E=W4E.slice(0,G4E)):L4E&&(this.search="",this.query={});W4E&&(this.pathname=W4E);O4E[v4E]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search){G4E=this.pathname||"",this.path=G4E+(this.search||"");}this.href=this.format();return this;};M4E.prototype.format=function(){var a4E=this.auth||"";a4E&&(a4E=encodeURIComponent(a4E),a4E=a4E.replace(/%3A/i,":"),a4E+="@");var w4E=this.protocol||"",k4E=this.pathname||"",Y4E=this.hash||"",x4E=false,A4E="";this.host?x4E=a4E+this.host:this.hostname&&(x4E=a4E+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(x4E+=":"+this.port));this.query&&o4E.isObject(this.query)&&Object.keys(this.query).length&&(A4E=H4E.stringify(this.query));a4E=this.search||A4E&&"?"+A4E||"";w4E&&":"!==w4E.substr(-1)&&(w4E+=":");this.slashes||(!w4E||O4E[w4E])&&false!==x4E?(x4E="//"+(x4E||""),k4E&&"/"!==k4E.charAt(0)&&(k4E="/"+k4E)):x4E||(x4E="");Y4E&&"#"!==Y4E.charAt(0)&&(Y4E="#"+Y4E);a4E&&"?"!==a4E.charAt(0)&&(a4E="?"+a4E);k4E=k4E.replace(/[?#]/g,function(r7E){return encodeURIComponent(r7E);});a4E=a4E.replace("#","%23");return w4E+x4E+k4E+a4E+Y4E;};M4E.prototype.resolve=function(s7E){return this.resolveObject(g4E(s7E,false,true)).format();};M4E.prototype.resolveObject=function(I7E){var H7E=this;if(o4E.isString(I7E)){var n7E=new M4E();n7E.parse(I7E,false,true);I7E=n7E;}for(var n7E=new M4E(),o7E=Object.keys(this),T7E=0;T7E<o7E.length;T7E++){var M7E=o7E[T7E];n7E[M7E]=H7E[M7E];}n7E.hash=I7E.hash;if(""===I7E.href){return n7E.href=n7E.format(),n7E;}if(I7E.slashes&&!I7E.protocol){o7E=Object.keys(I7E);for(T7E=0;T7E<o7E.length;T7E++){M7E=o7E[T7E],"protocol"!==M7E&&(n7E[M7E]=I7E[M7E]);}O4E[n7E.protocol]&&n7E.hostname&&!n7E.pathname&&(n7E.path=n7E.pathname="/");n7E.href=n7E.format();return n7E;}if(I7E.protocol&&I7E.protocol!==n7E.protocol){if(!O4E[I7E.protocol]){o7E=Object.keys(I7E);for(T7E=0;T7E<o7E.length;T7E++){M7E=o7E[T7E],n7E[M7E]=I7E[M7E];}n7E.href=n7E.format();return n7E;}n7E.protocol=I7E.protocol;if(I7E.host||y4E[I7E.protocol]){n7E.pathname=I7E.pathname;}else{for(var c7E=(I7E.pathname||"").split("/");c7E.length&&!(I7E.host=c7E.shift());){;}I7E.host||(I7E.host="");I7E.hostname||(I7E.hostname="");""!==c7E[0]&&c7E.unshift("");2>c7E.length&&c7E.unshift("");n7E.pathname=c7E.join("/");}n7E.search=I7E.search;n7E.query=I7E.query;n7E.host=I7E.host||"";n7E.auth=I7E.auth;n7E.hostname=I7E.hostname||I7E.host;n7E.port=I7E.port;if(n7E.pathname||n7E.search){n7E.path=(n7E.pathname||"")+(n7E.search||"");}n7E.slashes=n7E.slashes||I7E.slashes;n7E.href=n7E.format();return n7E;}var o7E=n7E.pathname&&"/"===n7E.pathname.charAt(0),O7E=I7E.host||I7E.pathname&&"/"===I7E.pathname.charAt(0),y7E=o7E=O7E||o7E||n7E.host&&I7E.pathname,T7E=n7E.pathname&&n7E.pathname.split("/")||[],c7E=I7E.pathname&&I7E.pathname.split("/")||[];if(M7E=n7E.protocol&&!O4E[n7E.protocol]){n7E.hostname="",n7E.port=null,n7E.host&&(""===T7E[0]?T7E[0]=n7E.host:T7E.unshift(n7E.host)),n7E.host="",I7E.protocol&&(I7E.hostname=null,I7E.port=null,I7E.host&&(""===c7E[0]?c7E[0]=I7E.host:c7E.unshift(I7E.host)),I7E.host=null),o7E=o7E&&(""===c7E[0]||""===T7E[0]);}if(O7E){n7E.host=I7E.host||""===I7E.host?I7E.host:n7E.host,n7E.hostname=I7E.hostname||""===I7E.hostname?I7E.hostname:n7E.hostname,n7E.search=I7E.search,n7E.query=I7E.query,T7E=c7E;}else if(c7E.length){T7E||(T7E=[]),T7E.pop(),T7E=T7E.concat(c7E),n7E.search=I7E.search,n7E.query=I7E.query;}else if(!o4E.isNullOrUndefined(I7E.search)){return M7E&&(n7E.hostname=n7E.host=T7E.shift(),M7E=n7E.host&&0<n7E.host.indexOf("@")?n7E.host.split("@"):false)&&(n7E.auth=M7E.shift(),n7E.host=n7E.hostname=M7E.shift()),n7E.search=I7E.search,n7E.query=I7E.query,o4E.isNull(n7E.pathname)&&o4E.isNull(n7E.search)||(n7E.path=(n7E.pathname?n7E.pathname:"")+(n7E.search?n7E.search:"")),n7E.href=n7E.format(),n7E;}if(!T7E.length){return n7E.pathname=null,n7E.path=n7E.search?"/"+n7E.search:null,n7E.href=n7E.format(),n7E;}for(var O7E=T7E.slice(-1)[0],c7E=(n7E.host||I7E.host||1<T7E.length)&&("."===O7E||".."===O7E)||""===O7E,h7E=0,g7E=T7E.length;0<=g7E;g7E--){O7E=T7E[g7E],"."===O7E?T7E.splice(g7E,1):".."===O7E?(T7E.splice(g7E,1),h7E++):h7E&&(T7E.splice(g7E,1),h7E--);}if(!o7E&&!y7E){for(;h7E--;h7E){T7E.unshift("..");}}!o7E||""===T7E[0]||T7E[0]&&"/"===T7E[0].charAt(0)||T7E.unshift("");c7E&&"/"!==T7E.join("/").substr(-1)&&T7E.push("");y7E=""===T7E[0]||T7E[0]&&"/"===T7E[0].charAt(0);M7E&&(n7E.hostname=n7E.host=y7E?"":T7E.length?T7E.shift():"",M7E=n7E.host&&0<n7E.host.indexOf("@")?n7E.host.split("@"):false)&&(n7E.auth=M7E.shift(),n7E.host=n7E.hostname=M7E.shift());(o7E=o7E||n7E.host&&T7E.length)&&!y7E&&T7E.unshift("");T7E.length?n7E.pathname=T7E.join("/"):(n7E.pathname=null,n7E.path=null);o4E.isNull(n7E.pathname)&&o4E.isNull(n7E.search)||(n7E.path=(n7E.pathname?n7E.pathname:"")+(n7E.search?n7E.search:""));n7E.auth=I7E.auth||n7E.auth;n7E.slashes=n7E.slashes||I7E.slashes;n7E.href=n7E.format();return n7E;};M4E.prototype.parseHost=function(){var q7E=this.host,Z7E=K4E.exec(q7E);Z7E&&(Z7E=Z7E[0],":"!==Z7E&&(this.port=Z7E.substr(1)),q7E=q7E.substr(0,q7E.length-Z7E.length));q7E&&(this.hostname=q7E);};},{"./util":39,punycode:27,querystring:30}],39:[function(u7E,E7E,j7E){E7E.exports={isString:function(J7E){return"string"===typeof J7E;},isObject:function(S7E){return"object"===typeof S7E&&null!==S7E;},isNull:function(K7E){return null===K7E;},isNullOrUndefined:function(b7E){return null==b7E;}};},{}],40:[function(t7E,N7E,B7E){B7E.__esModule=true;var C7E=function(m7E){if(m7E&&m7E.__esModule){return m7E;}var l7E={};if(null!=m7E){for(var Q7E in m7E){Object.prototype.hasOwnProperty.call(m7E,Q7E)&&(l7E[Q7E]=m7E[Q7E]);}}l7E.default=m7E;return l7E;}(t7E("../core")),f7E=(N7E=t7E("ismobilejs"))&&N7E.__esModule?N7E:{default:N7E};t7E=t7E("./accessibleTarget");C7E.utils.mixins.delayMixin(C7E.DisplayObject.prototype,(t7E&&t7E.__esModule?t7E:{default:t7E}).default);t7E=function(){function z7E(d7E){if(!(this instanceof z7E)){throw new TypeError("Cannot call a class as a function");}!f7E.default.tablet&&!f7E.default.phone||navigator.isCocoonJS||this.createTouchHook();var D7E=document.createElement("div");D7E.style.width="100px";D7E.style.height="100px";D7E.style.position="absolute";D7E.style.top="0px";D7E.style.left="0px";D7E.style.zIndex=2;this.div=D7E;this.pool=[];this.renderId=0;this.debug=false;this.renderer=d7E;this.children=[];this._onKeyDown=this._onKeyDown.bind(this);this._onMouseMove=this._onMouseMove.bind(this);this.isMobileAccessabillity=this.isActive=false;window.addEventListener("keydown",this._onKeyDown,false);}z7E.prototype.createTouchHook=function(){var W7E=this,X7E=document.createElement("button");X7E.style.width="1px";X7E.style.height="1px";X7E.style.position="absolute";X7E.style.top="-1000px";X7E.style.left="-1000px";X7E.style.zIndex=2;X7E.style.backgroundColor="#FF0000";X7E.title="HOOK DIV";X7E.addEventListener("focus",function(){W7E.isMobileAccessabillity=true;W7E.activate();document.body.removeChild(X7E);});document.body.appendChild(X7E);};z7E.prototype.activate=function(){this.isActive||(this.isActive=true,window.document.addEventListener("mousemove",this._onMouseMove,true),window.removeEventListener("keydown",this._onKeyDown,false),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div));};z7E.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=false,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,false),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div));};z7E.prototype.updateAccessibleObjects=function(U7E){var e7E=this;if(U7E.visible){U7E.accessible&&U7E.interactive&&(U7E._accessibleActive||this.addChild(U7E),U7E.renderId=this.renderId);U7E=U7E.children;for(var G7E=U7E.length-1;0<=G7E;G7E--){e7E.updateAccessibleObjects(U7E[G7E]);}}};z7E.prototype.update=function(){var v7E=this;if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var p7E=this.renderer.view.getBoundingClientRect(),R7E=p7E.width/this.renderer.width,i7E=p7E.height/this.renderer.height,F7E=this.div;F7E.style.left=p7E.left+"px";F7E.style.top=p7E.top+"px";F7E.style.width=this.renderer.width+"px";F7E.style.height=this.renderer.height+"px";for(p7E=0;p7E<this.children.length;p7E++){var V7E=v7E.children[p7E];if(V7E.renderId!==v7E.renderId){V7E._accessibleActive=false,C7E.utils.removeItems(v7E.children,p7E,1),v7E.div.removeChild(V7E._accessibleDiv),v7E.pool.push(V7E._accessibleDiv),V7E._accessibleDiv=null,p7E--,0===v7E.children.length&&v7E.deactivate();}else{var F7E=V7E._accessibleDiv,P7E=V7E.hitArea,L7E=V7E.worldTransform;V7E.hitArea?(F7E.style.left=(L7E.tx+P7E.x*L7E.a)*R7E+"px",F7E.style.top=(L7E.ty+P7E.y*L7E.d)*i7E+"px",F7E.style.width=P7E.width*L7E.a*R7E+"px",F7E.style.height=P7E.height*L7E.d*i7E+"px"):(P7E=V7E.getBounds(),v7E.capHitArea(P7E),F7E.style.left=P7E.x*R7E+"px",F7E.style.top=P7E.y*i7E+"px",F7E.style.width=P7E.width*R7E+"px",F7E.style.height=P7E.height*i7E+"px");}}this.renderId++;}};z7E.prototype.capHitArea=function(a7E){0>a7E.x&&(a7E.width+=a7E.x,a7E.x=0);0>a7E.y&&(a7E.height+=a7E.y,a7E.y=0);a7E.x+a7E.width>this.renderer.width&&(a7E.width=this.renderer.width-a7E.x);a7E.y+a7E.height>this.renderer.height&&(a7E.height=this.renderer.height-a7E.y);};z7E.prototype.addChild=function(k7E){var x7E=this.pool.pop();x7E||(x7E=document.createElement("button"),x7E.style.width="100px",x7E.style.height="100px",x7E.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",x7E.style.position="absolute",x7E.style.zIndex=2,x7E.style.borderStyle="none",x7E.addEventListener("click",this._onClick.bind(this)),x7E.addEventListener("focus",this._onFocus.bind(this)),x7E.addEventListener("focusout",this._onFocusOut.bind(this)));k7E.accessibleTitle?x7E.title=k7E.accessibleTitle:k7E.accessibleTitle||k7E.accessibleHint||(x7E.title="displayObject "+this.tabIndex);k7E.accessibleHint&&x7E.setAttribute("aria-label",k7E.accessibleHint);k7E._accessibleActive=true;k7E._accessibleDiv=x7E;x7E.displayObject=k7E;this.children.push(k7E);this.div.appendChild(k7E._accessibleDiv);k7E._accessibleDiv.tabIndex=k7E.tabIndex;};z7E.prototype._onClick=function(Y7E){var w7E=this.renderer.plugins.interaction;w7E.dispatchEvent(Y7E.target.displayObject,"click",w7E.eventData);};z7E.prototype._onFocus=function(r6E){var A7E=this.renderer.plugins.interaction;A7E.dispatchEvent(r6E.target.displayObject,"mouseover",A7E.eventData);};z7E.prototype._onFocusOut=function(n6E){var s6E=this.renderer.plugins.interaction;s6E.dispatchEvent(n6E.target.displayObject,"mouseout",s6E.eventData);};z7E.prototype._onKeyDown=function(I6E){9===I6E.keyCode&&this.activate();};z7E.prototype._onMouseMove=function(){this.deactivate();};z7E.prototype.destroy=function(){var c6E=this;this.div=null;for(var T6E=0;T6E<this.children.length;T6E++){c6E.children[T6E].div=null;}window.document.removeEventListener("mousemove",this._onMouseMove);window.removeEventListener("keydown",this._onKeyDown);this.renderer=this.children=this.pool=null;};return z7E;}();B7E.default=t7E;C7E.WebGLRenderer.registerPlugin("accessibility",t7E);C7E.CanvasRenderer.registerPlugin("accessibility",t7E);},{"../core":65,"./accessibleTarget":41,ismobilejs:4}],41:[function(o6E,O6E,M6E){M6E.__esModule=true;M6E.default={accessible:false,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:false,_accessibleDiv:false};},{}],42:[function(H6E,q6E,y6E){y6E.__esModule=true;var g6E=H6E("./accessibleTarget");Object.defineProperty(y6E,"accessibleTarget",{enumerable:true,get:function(){return(g6E&&g6E.__esModule?g6E:{default:g6E}).default;}});var h6E=H6E("./AccessibilityManager");Object.defineProperty(y6E,"AccessibilityManager",{enumerable:true,get:function(){return(h6E&&h6E.__esModule?h6E:{default:h6E}).default;}});},{"./AccessibilityManager":40,"./accessibleTarget":41}],43:[function(E6E,Z6E,j6E){j6E.__esModule=true;var J6E=function(){function C6E(m6E,B6E){for(var f6E=0;f6E<B6E.length;f6E++){var N6E=B6E[f6E];N6E.enumerable=N6E.enumerable||false;N6E.configurable=true;"value"in N6E&&(N6E.writable=true);Object.defineProperty(m6E,N6E.key,N6E);}}return function(l6E,Q6E,z6E){Q6E&&C6E(l6E.prototype,Q6E);z6E&&C6E(l6E,z6E);return l6E;};}(),S6E=E6E("./autoDetectRenderer"),K6E=(Z6E=E6E("./display/Container"))&&Z6E.__esModule?Z6E:{default:Z6E},u6E=E6E("./ticker"),b6E=(Z6E=E6E("./settings"))&&Z6E.__esModule?Z6E:{default:Z6E},t6E=E6E("./const");E6E=function(){function D6E(d6E,X6E,W6E,U6E,G6E){if(!(this instanceof D6E)){throw new TypeError("Cannot call a class as a function");}"number"===typeof d6E&&(d6E=Object.assign({width:d6E,height:X6E||b6E.default.RENDER_OPTIONS.height,forceCanvas:!!U6E,sharedTicker:!!G6E},W6E));this._options=d6E=Object.assign({autoStart:true,sharedTicker:false,forceCanvas:false,sharedLoader:false},d6E);this.renderer=(0,S6E.autoDetectRenderer)(d6E);this.stage=new K6E.default();this._ticker=null;this.ticker=d6E.sharedTicker?u6E.shared:new u6E.Ticker();d6E.autoStart&&this.start();}D6E.prototype.render=function(){this.renderer.render(this.stage);};D6E.prototype.stop=function(){this._ticker.stop();};D6E.prototype.start=function(){this._ticker.start();};D6E.prototype.destroy=function(F6E){var e6E=this._ticker;this.ticker=null;e6E.destroy();this.stage.destroy();this.stage=null;this.renderer.destroy(F6E);this._options=this.renderer=null;};J6E(D6E,[{key:"ticker",set:function(p6E){this._ticker&&this._ticker.remove(this.render,this);(this._ticker=p6E)&&p6E.add(this.render,this,t6E.UPDATE_PRIORITY.LOW);},get:function(){return this._ticker;}},{key:"view",get:function(){return this.renderer.view;}},{key:"screen",get:function(){return this.renderer.screen;}}]);return D6E;}();j6E.default=E6E;},{"./autoDetectRenderer":45,"./const":46,"./display/Container":48,"./settings":101,"./ticker":121}],44:[function(V6E,v6E,L6E){function i6E(x6E,a6E){if("function"!==typeof a6E&&null!==a6E){throw new TypeError("Super expression must either be null or a function, not "+typeof a6E);}x6E.prototype=Object.create(a6E&&a6E.prototype,{constructor:{value:x6E,enumerable:false,writable:true,configurable:true}});a6E&&(Object.setPrototypeOf?Object.setPrototypeOf(x6E,a6E):x6E.__proto__=a6E);}function R6E(k6E,w6E){if(k6E instanceof Array){"precision"!==k6E[0].substring(0,9)&&(k6E=k6E.slice(0),k6E.unshift("precision "+w6E+" float;"));}else if("precision"!==k6E.substring(0,9)){return"precision "+w6E+" float;\n"+k6E;}return k6E;}L6E.__esModule=true;v6E=V6E("pixi-gl-core");var P6E=(V6E=V6E("./settings"))&&V6E.__esModule?V6E:{default:V6E};V6E=function(A6E){function Y6E(r8Z,s8Z,n8Z){if(!(this instanceof Y6E)){throw new TypeError("Cannot call a class as a function");}r8Z=A6E.call(this,r8Z,R6E(s8Z,P6E.default.PRECISION_VERTEX),R6E(n8Z,P6E.default.PRECISION_FRAGMENT));if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return!r8Z||"object"!==typeof r8Z&&"function"!==typeof r8Z?this:r8Z;}i6E(Y6E,A6E);return Y6E;}(v6E.GLShader);L6E.default=V6E;},{"./settings":101,"pixi-gl-core":15}],45:[function(I8Z,T8Z,c8Z){c8Z.__esModule=true;c8Z.autoDetectRenderer=function(g8Z,y8Z,H8Z,q8Z){var h8Z=g8Z&&g8Z.forceCanvas;void 0!==q8Z&&(h8Z=q8Z);return!h8Z&&M8Z.isWebGLSupported()?new O8Z.default(g8Z,y8Z,H8Z):new o8Z.default(g8Z,y8Z,H8Z);};var M8Z=function(Z8Z){if(Z8Z&&Z8Z.__esModule){return Z8Z;}var E8Z={};if(null!=Z8Z){for(var u8Z in Z8Z){Object.prototype.hasOwnProperty.call(Z8Z,u8Z)&&(E8Z[u8Z]=Z8Z[u8Z]);}}E8Z.default=Z8Z;return E8Z;}(I8Z("./utils")),o8Z=(T8Z=I8Z("./renderers/canvas/CanvasRenderer"))&&T8Z.__esModule?T8Z:{default:T8Z},O8Z=(I8Z=I8Z("./renderers/webgl/WebGLRenderer"))&&I8Z.__esModule?I8Z:{default:I8Z};},{"./renderers/canvas/CanvasRenderer":77,"./renderers/webgl/WebGLRenderer":84,"./utils":125}],46:[function(J8Z,S8Z,j8Z){j8Z.__esModule=true;j8Z.VERSION="4.6.2";j8Z.PI_2=2*Math.PI;j8Z.RAD_TO_DEG=180/Math.PI;j8Z.DEG_TO_RAD=Math.PI/180;j8Z.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2};j8Z.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19};j8Z.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};j8Z.SCALE_MODES={LINEAR:0,NEAREST:1};j8Z.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2};j8Z.GC_MODES={AUTO:0,MANUAL:1};j8Z.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i;j8Z.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i;j8Z.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;j8Z.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4};j8Z.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"};j8Z.TRANSFORM_MODE={STATIC:0,DYNAMIC:1};j8Z.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1};j8Z.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50};},{}],47:[function(K8Z,C8Z,t8Z){t8Z.__esModule=true;var b8Z=K8Z("../math");K8Z=function(){function N8Z(){if(!(this instanceof N8Z)){throw new TypeError("Cannot call a class as a function");}this.minY=this.minX=Infinity;this.maxY=this.maxX=-Infinity;this.rect=null;}N8Z.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY;};N8Z.prototype.clear=function(){this.updateID++;this.minY=this.minX=Infinity;this.maxY=this.maxX=-Infinity;};N8Z.prototype.getRectangle=function(f8Z){if(this.minX>this.maxX||this.minY>this.maxY){return b8Z.Rectangle.EMPTY;}f8Z=f8Z||new b8Z.Rectangle(0,0,1,1);f8Z.x=this.minX;f8Z.y=this.minY;f8Z.width=this.maxX-this.minX;f8Z.height=this.maxY-this.minY;return f8Z;};N8Z.prototype.addPoint=function(B8Z){this.minX=Math.min(this.minX,B8Z.x);this.maxX=Math.max(this.maxX,B8Z.x);this.minY=Math.min(this.minY,B8Z.y);this.maxY=Math.max(this.maxY,B8Z.y);};N8Z.prototype.addQuad=function(X8Z){var Q8Z=this.minX,z8Z=this.minY,D8Z=this.maxX,d8Z=this.maxY,m8Z=X8Z[0],l8Z=X8Z[1],Q8Z=m8Z<Q8Z?m8Z:Q8Z,z8Z=l8Z<z8Z?l8Z:z8Z,D8Z=m8Z>D8Z?m8Z:D8Z,d8Z=l8Z>d8Z?l8Z:d8Z,m8Z=X8Z[2],l8Z=X8Z[3],Q8Z=m8Z<Q8Z?m8Z:Q8Z,z8Z=l8Z<z8Z?l8Z:z8Z,D8Z=m8Z>D8Z?m8Z:D8Z,d8Z=l8Z>d8Z?l8Z:d8Z,m8Z=X8Z[4],l8Z=X8Z[5],Q8Z=m8Z<Q8Z?m8Z:Q8Z,z8Z=l8Z<z8Z?l8Z:z8Z,D8Z=m8Z>D8Z?m8Z:D8Z,d8Z=l8Z>d8Z?l8Z:d8Z,m8Z=X8Z[6],l8Z=X8Z[7];this.minX=m8Z<Q8Z?m8Z:Q8Z;this.minY=l8Z<z8Z?l8Z:z8Z;this.maxX=m8Z>D8Z?m8Z:D8Z;this.maxY=l8Z>d8Z?l8Z:d8Z;};N8Z.prototype.addFrame=function(P8Z,w8Z,k8Z,x8Z,a8Z){var V8Z=P8Z.worldTransform;P8Z=V8Z.a;var i8Z=V8Z.b,v8Z=V8Z.c,L8Z=V8Z.d,R8Z=V8Z.tx,V8Z=V8Z.ty,p8Z=this.minX,F8Z=this.minY,e8Z=this.maxX,G8Z=this.maxY,U8Z=P8Z*w8Z+v8Z*k8Z+R8Z,W8Z=i8Z*w8Z+L8Z*k8Z+V8Z,p8Z=U8Z<p8Z?U8Z:p8Z,F8Z=W8Z<F8Z?W8Z:F8Z,e8Z=U8Z>e8Z?U8Z:e8Z,G8Z=W8Z>G8Z?W8Z:G8Z,U8Z=P8Z*x8Z+v8Z*k8Z+R8Z,W8Z=i8Z*x8Z+L8Z*k8Z+V8Z,p8Z=U8Z<p8Z?U8Z:p8Z,F8Z=W8Z<F8Z?W8Z:F8Z,e8Z=U8Z>e8Z?U8Z:e8Z,G8Z=W8Z>G8Z?W8Z:G8Z,U8Z=P8Z*w8Z+v8Z*a8Z+R8Z,W8Z=i8Z*w8Z+L8Z*a8Z+V8Z,p8Z=U8Z<p8Z?U8Z:p8Z,F8Z=W8Z<F8Z?W8Z:F8Z,e8Z=U8Z>e8Z?U8Z:e8Z,G8Z=W8Z>G8Z?W8Z:G8Z,U8Z=P8Z*x8Z+v8Z*a8Z+R8Z,W8Z=i8Z*x8Z+L8Z*a8Z+V8Z;this.minX=U8Z<p8Z?U8Z:p8Z;this.minY=W8Z<F8Z?W8Z:F8Z;this.maxX=U8Z>e8Z?U8Z:e8Z;this.maxY=W8Z>G8Z?W8Z:G8Z;};N8Z.prototype.addVertices=function(o2Z,y2Z,c2Z,q2Z){var Y8Z=o2Z.worldTransform;o2Z=Y8Z.a;for(var g2Z=Y8Z.b,h2Z=Y8Z.c,O2Z=Y8Z.d,H2Z=Y8Z.tx,Y8Z=Y8Z.ty,r2Z=this.minX,s2Z=this.minY,n2Z=this.maxX,I2Z=this.maxY;c2Z<q2Z;c2Z+=2){var A8Z=y2Z[c2Z],M2Z=y2Z[c2Z+1],T2Z=o2Z*A8Z+h2Z*M2Z+H2Z,A8Z=O2Z*M2Z+g2Z*A8Z+Y8Z,r2Z=T2Z<r2Z?T2Z:r2Z,s2Z=A8Z<s2Z?A8Z:s2Z,n2Z=T2Z>n2Z?T2Z:n2Z,I2Z=A8Z>I2Z?A8Z:I2Z;}this.minX=r2Z;this.minY=s2Z;this.maxX=n2Z;this.maxY=I2Z;};N8Z.prototype.addBounds=function(Z2Z){var E2Z=this.minX,u2Z=this.minY,j2Z=this.maxX,J2Z=this.maxY;this.minX=Z2Z.minX<E2Z?Z2Z.minX:E2Z;this.minY=Z2Z.minY<u2Z?Z2Z.minY:u2Z;this.maxX=Z2Z.maxX>j2Z?Z2Z.maxX:j2Z;this.maxY=Z2Z.maxY>J2Z?Z2Z.maxY:J2Z;};N8Z.prototype.addBoundsMask=function(S2Z,K2Z){var b2Z=S2Z.minX>K2Z.minX?S2Z.minX:K2Z.minX,t2Z=S2Z.minY>K2Z.minY?S2Z.minY:K2Z.minY,C2Z=S2Z.maxX<K2Z.maxX?S2Z.maxX:K2Z.maxX;S2Z=S2Z.maxY<K2Z.maxY?S2Z.maxY:K2Z.maxY;if(b2Z<=C2Z&&t2Z<=S2Z){K2Z=this.minX;var N2Z=this.minY,f2Z=this.maxX,B2Z=this.maxY;this.minX=b2Z<K2Z?b2Z:K2Z;this.minY=t2Z<N2Z?t2Z:N2Z;this.maxX=C2Z>f2Z?C2Z:f2Z;this.maxY=S2Z>B2Z?S2Z:B2Z;}};N8Z.prototype.addBoundsArea=function(l2Z,m2Z){var Q2Z=l2Z.minX>m2Z.x?l2Z.minX:m2Z.x,z2Z=l2Z.minY>m2Z.y?l2Z.minY:m2Z.y,D2Z=l2Z.maxX<m2Z.x+m2Z.width?l2Z.maxX:m2Z.x+m2Z.width;l2Z=l2Z.maxY<m2Z.y+m2Z.height?l2Z.maxY:m2Z.y+m2Z.height;if(Q2Z<=D2Z&&z2Z<=l2Z){m2Z=this.minX;var d2Z=this.minY,X2Z=this.maxX,W2Z=this.maxY;this.minX=Q2Z<m2Z?Q2Z:m2Z;this.minY=z2Z<d2Z?z2Z:d2Z;this.maxX=D2Z>X2Z?D2Z:X2Z;this.maxY=l2Z>W2Z?l2Z:W2Z;}};return N8Z;}();t8Z.default=K8Z;},{"../math":70}],48:[function(U2Z,V2Z,e2Z){function p2Z(v2Z,P2Z){if("function"!==typeof P2Z&&null!==P2Z){throw new TypeError("Super expression must either be null or a function, not "+typeof P2Z);}v2Z.prototype=Object.create(P2Z&&P2Z.prototype,{constructor:{value:v2Z,enumerable:false,writable:true,configurable:true}});P2Z&&(Object.setPrototypeOf?Object.setPrototypeOf(v2Z,P2Z):v2Z.__proto__=P2Z);}e2Z.__esModule=true;var F2Z=function(){function L2Z(x2Z,a2Z){for(var i2Z=0;i2Z<a2Z.length;i2Z++){var R2Z=a2Z[i2Z];R2Z.enumerable=R2Z.enumerable||false;R2Z.configurable=true;"value"in R2Z&&(R2Z.writable=true);Object.defineProperty(x2Z,R2Z.key,R2Z);}}return function(k2Z,w2Z,Y2Z){w2Z&&L2Z(k2Z.prototype,w2Z);Y2Z&&L2Z(k2Z,Y2Z);return k2Z;};}(),G2Z=U2Z("../utils");U2Z=U2Z("./DisplayObject");U2Z=function(r0Z){function A2Z(){if(!(this instanceof A2Z)){throw new TypeError("Cannot call a class as a function");}var s0Z;s0Z=r0Z.call(this);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}s0Z=!s0Z||"object"!==typeof s0Z&&"function"!==typeof s0Z?this:s0Z;s0Z.children=[];return s0Z;}p2Z(A2Z,r0Z);A2Z.prototype.onChildrenChange=function(){};A2Z.prototype.addChild=function(n0Z){var c0Z=this;var T0Z=arguments.length;if(1<T0Z){for(var I0Z=0;I0Z<T0Z;I0Z++){c0Z.addChild(arguments[I0Z]);}}else{n0Z.parent&&n0Z.parent.removeChild(n0Z),n0Z.parent=this,n0Z.transform._parentID=-1,this.children.push(n0Z),this._boundsID++,this.onChildrenChange(this.children.length-1),n0Z.emit("added",this);}return n0Z;};A2Z.prototype.addChildAt=function(M0Z,o0Z){if(0>o0Z||o0Z>this.children.length){throw Error(M0Z+"addChildAt: The index "+o0Z+" supplied is out of bounds "+this.children.length);}M0Z.parent&&M0Z.parent.removeChild(M0Z);M0Z.parent=this;M0Z.transform._parentID=-1;this.children.splice(o0Z,0,M0Z);this._boundsID++;this.onChildrenChange(o0Z);M0Z.emit("added",this);return M0Z;};A2Z.prototype.swapChildren=function(h0Z,y0Z){if(h0Z!==y0Z){var O0Z=this.getChildIndex(h0Z),g0Z=this.getChildIndex(y0Z);this.children[O0Z]=y0Z;this.children[g0Z]=h0Z;this.onChildrenChange(O0Z<g0Z?O0Z:g0Z);}};A2Z.prototype.getChildIndex=function(H0Z){H0Z=this.children.indexOf(H0Z);if(-1===H0Z){throw Error("The supplied DisplayObject must be a child of the caller");}return H0Z;};A2Z.prototype.setChildIndex=function(Z0Z,q0Z){if(0>q0Z||q0Z>=this.children.length){throw Error("The supplied index is out of bounds");}var E0Z=this.getChildIndex(Z0Z);(0,G2Z.removeItems)(this.children,E0Z,1);this.children.splice(q0Z,0,Z0Z);this.onChildrenChange(q0Z);};A2Z.prototype.getChildAt=function(u0Z){if(0>u0Z||u0Z>=this.children.length){throw Error("getChildAt: Index ("+u0Z+") does not exist.");}return this.children[u0Z];};A2Z.prototype.removeChild=function(J0Z){var K0Z=this;var j0Z=arguments.length;if(1<j0Z){for(var S0Z=0;S0Z<j0Z;S0Z++){K0Z.removeChild(arguments[S0Z]);}}else{j0Z=this.children.indexOf(J0Z);if(-1===j0Z){return null;}J0Z.parent=null;J0Z.transform._parentID=-1;(0,G2Z.removeItems)(this.children,j0Z,1);this._boundsID++;this.onChildrenChange(j0Z);J0Z.emit("removed",this);}return J0Z;};A2Z.prototype.removeChildAt=function(t0Z){var b0Z=this.getChildAt(t0Z);b0Z.parent=null;b0Z.transform._parentID=-1;(0,G2Z.removeItems)(this.children,t0Z,1);this._boundsID++;this.onChildrenChange(t0Z);b0Z.emit("removed",this);return b0Z;};A2Z.prototype.removeChildren=function(){var B0Z=this;var f0Z=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,C0Z=arguments[1],C0Z="number"===typeof C0Z?C0Z:this.children.length,N0Z=C0Z-f0Z;if(0<N0Z&&N0Z<=C0Z){C0Z=this.children.splice(f0Z,N0Z);for(N0Z=0;N0Z<C0Z.length;++N0Z){C0Z[N0Z].parent=null,C0Z[N0Z].transform&&(C0Z[N0Z].transform._parentID=-1);}this._boundsID++;this.onChildrenChange(f0Z);for(f0Z=0;f0Z<C0Z.length;++f0Z){C0Z[f0Z].emit("removed",B0Z);}return C0Z;}if(0===N0Z&&0===this.children.length){return[];}throw new RangeError("removeChildren: numeric values are outside the acceptable range.");};A2Z.prototype.updateTransform=function(){var Q0Z=this;this._boundsID++;this.transform.updateTransform(this.parent.transform);this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var m0Z=0,z0Z=this.children.length;m0Z<z0Z;++m0Z){var l0Z=Q0Z.children[m0Z];l0Z.visible&&l0Z.updateTransform();}};A2Z.prototype.calculateBounds=function(){var d0Z=this;this._bounds.clear();this._calculateBounds();for(var X0Z=0;X0Z<this.children.length;X0Z++){var D0Z=d0Z.children[X0Z];D0Z.visible&&D0Z.renderable&&(D0Z.calculateBounds(),D0Z._mask?(D0Z._mask.calculateBounds(),d0Z._bounds.addBoundsMask(D0Z._bounds,D0Z._mask._bounds)):D0Z.filterArea?d0Z._bounds.addBoundsArea(D0Z._bounds,D0Z.filterArea):d0Z._bounds.addBounds(D0Z._bounds));}this._lastBoundsID=this._boundsID;};A2Z.prototype._calculateBounds=function(){};A2Z.prototype.renderWebGL=function(U0Z){var G0Z=this;if(this.visible&&!(0>=this.worldAlpha)&&this.renderable){if(this._mask||this._filters){this.renderAdvancedWebGL(U0Z);}else{this._renderWebGL(U0Z);for(var W0Z=0,e0Z=this.children.length;W0Z<e0Z;++W0Z){G0Z.children[W0Z].renderWebGL(U0Z);}}}};A2Z.prototype.renderAdvancedWebGL=function(p0Z){var P0Z=this;p0Z.flush();var V0Z=this._filters,v0Z=this._mask;if(V0Z){this._enabledFilters||(this._enabledFilters=[]);for(var F0Z=this._enabledFilters.length=0;F0Z<V0Z.length;F0Z++){V0Z[F0Z].enabled&&P0Z._enabledFilters.push(V0Z[F0Z]);}this._enabledFilters.length&&p0Z.filterManager.pushFilter(this,this._enabledFilters);}v0Z&&p0Z.maskManager.pushMask(this,this._mask);this._renderWebGL(p0Z);for(var F0Z=0,L0Z=this.children.length;F0Z<L0Z;F0Z++){P0Z.children[F0Z].renderWebGL(p0Z);}p0Z.flush();v0Z&&p0Z.maskManager.popMask(this,this._mask);V0Z&&this._enabledFilters&&this._enabledFilters.length&&p0Z.filterManager.popFilter();};A2Z.prototype._renderWebGL=function(R0Z){};A2Z.prototype._renderCanvas=function(i0Z){};A2Z.prototype.renderCanvas=function(a0Z){var k0Z=this;if(this.visible&&!(0>=this.worldAlpha)&&this.renderable){this._mask&&a0Z.maskManager.pushMask(this._mask);this._renderCanvas(a0Z);for(var x0Z=0,w0Z=this.children.length;x0Z<w0Z;++x0Z){k0Z.children[x0Z].renderCanvas(a0Z);}this._mask&&a0Z.maskManager.popMask(a0Z);}};A2Z.prototype.destroy=function(A0Z){r0Z.prototype.destroy.call(this);var Y0Z="boolean"===typeof A0Z?A0Z:A0Z&&A0Z.children,r3Z=this.removeChildren(0,this.children.length);if(Y0Z){for(Y0Z=0;Y0Z<r3Z.length;++Y0Z){r3Z[Y0Z].destroy(A0Z);}}};F2Z(A2Z,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width;},set:function(n3Z){var s3Z=this.getLocalBounds().width;this.scale.x=0!==s3Z?n3Z/s3Z:1;this._width=n3Z;}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height;},set:function(T3Z){var I3Z=this.getLocalBounds().height;this.scale.y=0!==I3Z?T3Z/I3Z:1;this._height=T3Z;}}]);return A2Z;}((U2Z&&U2Z.__esModule?U2Z:{default:U2Z}).default);e2Z.default=U2Z;U2Z.prototype.containerUpdateTransform=U2Z.prototype.updateTransform;},{"../utils":125,"./DisplayObject":49}],49:[function(c3Z,O3Z,H3Z){function o3Z(J3Z){return J3Z&&J3Z.__esModule?J3Z:{default:J3Z};}function j3Z(K3Z,S3Z){if("function"!==typeof S3Z&&null!==S3Z){throw new TypeError("Super expression must either be null or a function, not "+typeof S3Z);}K3Z.prototype=Object.create(S3Z&&S3Z.prototype,{constructor:{value:K3Z,enumerable:false,writable:true,configurable:true}});S3Z&&(Object.setPrototypeOf?Object.setPrototypeOf(K3Z,S3Z):K3Z.__proto__=S3Z);}H3Z.__esModule=true;var y3Z=function(){function b3Z(f3Z,N3Z){for(var C3Z=0;C3Z<N3Z.length;C3Z++){var t3Z=N3Z[C3Z];t3Z.enumerable=t3Z.enumerable||false;t3Z.configurable=true;"value"in t3Z&&(t3Z.writable=true);Object.defineProperty(f3Z,t3Z.key,t3Z);}}return function(B3Z,m3Z,l3Z){m3Z&&b3Z(B3Z.prototype,m3Z);l3Z&&b3Z(B3Z,l3Z);return B3Z;};}();O3Z=c3Z("eventemitter3");O3Z=o3Z(O3Z);var q3Z=c3Z("../const"),M3Z=c3Z("../settings"),Z3Z=o3Z(M3Z),M3Z=c3Z("./TransformStatic"),E3Z=o3Z(M3Z),M3Z=c3Z("./Transform"),u3Z=o3Z(M3Z),M3Z=c3Z("./Bounds"),h3Z=o3Z(M3Z),g3Z=c3Z("../math");c3Z=function(z3Z){function Q3Z(){if(!(this instanceof Q3Z)){throw new TypeError("Cannot call a class as a function");}var D3Z;D3Z=z3Z.call(this);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}D3Z=!D3Z||"object"!==typeof D3Z&&"function"!==typeof D3Z?this:D3Z;var d3Z=Z3Z.default.TRANSFORM_MODE===q3Z.TRANSFORM_MODE.STATIC?E3Z.default:u3Z.default;D3Z.tempDisplayObjectParent=null;D3Z.transform=new d3Z();D3Z.alpha=1;D3Z.visible=true;D3Z.renderable=true;D3Z.parent=null;D3Z.worldAlpha=1;D3Z.filterArea=null;D3Z._filters=null;D3Z._enabledFilters=null;D3Z._bounds=new h3Z.default();D3Z._boundsID=0;D3Z._lastBoundsID=-1;D3Z._boundsRect=null;D3Z._localBoundsRect=null;D3Z._mask=null;D3Z._destroyed=false;return D3Z;}j3Z(Q3Z,z3Z);Q3Z.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform);this.worldAlpha=this.alpha*this.parent.worldAlpha;this._bounds.updateID++;};Q3Z.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform);};Q3Z.prototype.getBounds=function(W3Z,X3Z){W3Z||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null));this._boundsID!==this._lastBoundsID&&this.calculateBounds();X3Z||(this._boundsRect||(this._boundsRect=new g3Z.Rectangle()),X3Z=this._boundsRect);return this._bounds.getRectangle(X3Z);};Q3Z.prototype.getLocalBounds=function(U3Z){var G3Z=this.transform,e3Z=this.parent;this.parent=null;this.transform=this._tempDisplayObjectParent.transform;U3Z||(this._localBoundsRect||(this._localBoundsRect=new g3Z.Rectangle()),U3Z=this._localBoundsRect);U3Z=this.getBounds(false,U3Z);this.parent=e3Z;this.transform=G3Z;return U3Z;};Q3Z.prototype.toGlobal=function(F3Z,p3Z){2<arguments.length&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null));return this.worldTransform.apply(F3Z,p3Z);};Q3Z.prototype.toLocal=function(V3Z,P3Z,v3Z,L3Z){P3Z&&(V3Z=P3Z.toGlobal(V3Z,v3Z,L3Z));L3Z||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null));return this.worldTransform.applyInverse(V3Z,v3Z);};Q3Z.prototype.renderWebGL=function(R3Z){};Q3Z.prototype.renderCanvas=function(i3Z){};Q3Z.prototype.setParent=function(a3Z){if(!a3Z||!a3Z.addChild){throw Error("setParent: Argument must be a Container");}a3Z.addChild(this);return a3Z;};Q3Z.prototype.setTransform=function(){var w3Z=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,x3Z=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,k3Z=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,Y3Z=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,A3Z=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,r5Z=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,s5Z=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,n5Z=8<arguments.length&&void 0!==arguments[8]?arguments[8]:0;this.position.x=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;this.position.y=w3Z;this.scale.x=x3Z?x3Z:1;this.scale.y=k3Z?k3Z:1;this.rotation=Y3Z;this.skew.x=A3Z;this.skew.y=r5Z;this.pivot.x=s5Z;this.pivot.y=n5Z;return this;};Q3Z.prototype.destroy=function(){this.removeAllListeners();this.parent&&this.parent.removeChild(this);this.filterArea=this._mask=this._currentBounds=this._bounds=this.parent=this.transform=null;this.interactiveChildren=this.interactive=false;this._destroyed=true;};y3Z(Q3Z,[{key:"_tempDisplayObjectParent",get:function(){null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new Q3Z());return this.tempDisplayObjectParent;}},{key:"x",get:function(){return this.position.x;},set:function(I5Z){this.transform.position.x=I5Z;}},{key:"y",get:function(){return this.position.y;},set:function(T5Z){this.transform.position.y=T5Z;}},{key:"worldTransform",get:function(){return this.transform.worldTransform;}},{key:"localTransform",get:function(){return this.transform.localTransform;}},{key:"position",get:function(){return this.transform.position;},set:function(c5Z){this.transform.position.copy(c5Z);}},{key:"scale",get:function(){return this.transform.scale;},set:function(M5Z){this.transform.scale.copy(M5Z);}},{key:"pivot",get:function(){return this.transform.pivot;},set:function(o5Z){this.transform.pivot.copy(o5Z);}},{key:"skew",get:function(){return this.transform.skew;},set:function(O5Z){this.transform.skew.copy(O5Z);}},{key:"rotation",get:function(){return this.transform.rotation;},set:function(g5Z){this.transform.rotation=g5Z;}},{key:"worldVisible",get:function(){var h5Z=this;do{if(!h5Z.visible){return false;}h5Z=h5Z.parent;}while(h5Z);return true;}},{key:"mask",get:function(){return this._mask;},set:function(y5Z){this._mask&&(this._mask.renderable=true);if(this._mask=y5Z){this._mask.renderable=false;}}},{key:"filters",get:function(){return this._filters&&this._filters.slice();},set:function(H5Z){this._filters=H5Z&&H5Z.slice();}}]);return Q3Z;}(O3Z.default);H3Z.default=c3Z;c3Z.prototype.displayObjectUpdateTransform=c3Z.prototype.updateTransform;},{"../const":46,"../math":70,"../settings":101,"./Bounds":47,"./Transform":50,"./TransformStatic":52,eventemitter3:3}],50:[function(q5Z,J5Z,E5Z){function j5Z(K5Z,S5Z){if("function"!==typeof S5Z&&null!==S5Z){throw new TypeError("Super expression must either be null or a function, not "+typeof S5Z);}K5Z.prototype=Object.create(S5Z&&S5Z.prototype,{constructor:{value:K5Z,enumerable:false,writable:true,configurable:true}});S5Z&&(Object.setPrototypeOf?Object.setPrototypeOf(K5Z,S5Z):K5Z.__proto__=S5Z);}E5Z.__esModule=true;var u5Z=function(){function b5Z(f5Z,N5Z){for(var C5Z=0;C5Z<N5Z.length;C5Z++){var t5Z=N5Z[C5Z];t5Z.enumerable=t5Z.enumerable||false;t5Z.configurable=true;"value"in t5Z&&(t5Z.writable=true);Object.defineProperty(f5Z,t5Z.key,t5Z);}}return function(B5Z,m5Z,l5Z){m5Z&&b5Z(B5Z.prototype,m5Z);l5Z&&b5Z(B5Z,l5Z);return B5Z;};}(),Z5Z=q5Z("../math");q5Z=q5Z("./TransformBase");q5Z=function(z5Z){function Q5Z(){if(!(this instanceof Q5Z)){throw new TypeError("Cannot call a class as a function");}var D5Z;D5Z=z5Z.call(this);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}D5Z=!D5Z||"object"!==typeof D5Z&&"function"!==typeof D5Z?this:D5Z;D5Z.position=new Z5Z.Point(0,0);D5Z.scale=new Z5Z.Point(1,1);D5Z.skew=new Z5Z.ObservablePoint(D5Z.updateSkew,D5Z,0,0);D5Z.pivot=new Z5Z.Point(0,0);D5Z._rotation=0;D5Z._cx=1;D5Z._sx=0;D5Z._cy=0;D5Z._sy=1;return D5Z;}j5Z(Q5Z,z5Z);Q5Z.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y);this._sx=Math.sin(this._rotation+this.skew._y);this._cy=-Math.sin(this._rotation-this.skew._x);this._sy=Math.cos(this._rotation-this.skew._x);};Q5Z.prototype.updateLocalTransform=function(){var d5Z=this.localTransform;d5Z.a=this._cx*this.scale.x;d5Z.b=this._sx*this.scale.x;d5Z.c=this._cy*this.scale.y;d5Z.d=this._sy*this.scale.y;d5Z.tx=this.position.x-(this.pivot.x*d5Z.a+this.pivot.y*d5Z.c);d5Z.ty=this.position.y-(this.pivot.x*d5Z.b+this.pivot.y*d5Z.d);};Q5Z.prototype.updateTransform=function(W5Z){var X5Z=this.localTransform;X5Z.a=this._cx*this.scale.x;X5Z.b=this._sx*this.scale.x;X5Z.c=this._cy*this.scale.y;X5Z.d=this._sy*this.scale.y;X5Z.tx=this.position.x-(this.pivot.x*X5Z.a+this.pivot.y*X5Z.c);X5Z.ty=this.position.y-(this.pivot.x*X5Z.b+this.pivot.y*X5Z.d);W5Z=W5Z.worldTransform;var U5Z=this.worldTransform;U5Z.a=X5Z.a*W5Z.a+X5Z.b*W5Z.c;U5Z.b=X5Z.a*W5Z.b+X5Z.b*W5Z.d;U5Z.c=X5Z.c*W5Z.a+X5Z.d*W5Z.c;U5Z.d=X5Z.c*W5Z.b+X5Z.d*W5Z.d;U5Z.tx=X5Z.tx*W5Z.a+X5Z.ty*W5Z.c+W5Z.tx;U5Z.ty=X5Z.tx*W5Z.b+X5Z.ty*W5Z.d+W5Z.ty;this._worldID++;};Q5Z.prototype.setFromMatrix=function(G5Z){G5Z.decompose(this);};u5Z(Q5Z,[{key:"rotation",get:function(){return this._rotation;},set:function(e5Z){this._rotation=e5Z;this.updateSkew();}}]);return Q5Z;}((q5Z&&q5Z.__esModule?q5Z:{default:q5Z}).default);E5Z.default=q5Z;},{"../math":70,"./TransformBase":51}],51:[function(F5Z,P5Z,V5Z){V5Z.__esModule=true;var p5Z=F5Z("../math");F5Z=function(){function v5Z(){if(!(this instanceof v5Z)){throw new TypeError("Cannot call a class as a function");}this.worldTransform=new p5Z.Matrix();this.localTransform=new p5Z.Matrix();this._parentID=this._worldID=0;}v5Z.prototype.updateLocalTransform=function(){};v5Z.prototype.updateTransform=function(L5Z){L5Z=L5Z.worldTransform;var i5Z=this.worldTransform,R5Z=this.localTransform;i5Z.a=R5Z.a*L5Z.a+R5Z.b*L5Z.c;i5Z.b=R5Z.a*L5Z.b+R5Z.b*L5Z.d;i5Z.c=R5Z.c*L5Z.a+R5Z.d*L5Z.c;i5Z.d=R5Z.c*L5Z.b+R5Z.d*L5Z.d;i5Z.tx=R5Z.tx*L5Z.a+R5Z.ty*L5Z.c+L5Z.tx;i5Z.ty=R5Z.tx*L5Z.b+R5Z.ty*L5Z.d+L5Z.ty;this._worldID++;};return v5Z;}();V5Z.default=F5Z;F5Z.prototype.updateWorldTransform=F5Z.prototype.updateTransform;F5Z.IDENTITY=new F5Z();},{"../math":70}],52:[function(a5Z,A5Z,k5Z){function Y5Z(s9Z,r9Z){if("function"!==typeof r9Z&&null!==r9Z){throw new TypeError("Super expression must either be null or a function, not "+typeof r9Z);}s9Z.prototype=Object.create(r9Z&&r9Z.prototype,{constructor:{value:s9Z,enumerable:false,writable:true,configurable:true}});r9Z&&(Object.setPrototypeOf?Object.setPrototypeOf(s9Z,r9Z):s9Z.__proto__=r9Z);}k5Z.__esModule=true;var w5Z=function(){function n9Z(M9Z,c9Z){for(var T9Z=0;T9Z<c9Z.length;T9Z++){var I9Z=c9Z[T9Z];I9Z.enumerable=I9Z.enumerable||false;I9Z.configurable=true;"value"in I9Z&&(I9Z.writable=true);Object.defineProperty(M9Z,I9Z.key,I9Z);}}return function(o9Z,O9Z,g9Z){O9Z&&n9Z(o9Z.prototype,O9Z);g9Z&&n9Z(o9Z,g9Z);return o9Z;};}(),x5Z=a5Z("../math");a5Z=a5Z("./TransformBase");a5Z=function(y9Z){function h9Z(){if(!(this instanceof h9Z)){throw new TypeError("Cannot call a class as a function");}var H9Z;H9Z=y9Z.call(this);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}H9Z=!H9Z||"object"!==typeof H9Z&&"function"!==typeof H9Z?this:H9Z;H9Z.position=new x5Z.ObservablePoint(H9Z.onChange,H9Z,0,0);H9Z.scale=new x5Z.ObservablePoint(H9Z.onChange,H9Z,1,1);H9Z.pivot=new x5Z.ObservablePoint(H9Z.onChange,H9Z,0,0);H9Z.skew=new x5Z.ObservablePoint(H9Z.updateSkew,H9Z,0,0);H9Z._rotation=0;H9Z._cx=1;H9Z._sx=0;H9Z._cy=0;H9Z._sy=1;H9Z._localID=0;H9Z._currentLocalID=0;return H9Z;}Y5Z(h9Z,y9Z);h9Z.prototype.onChange=function(){this._localID++;};h9Z.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y);this._sx=Math.sin(this._rotation+this.skew._y);this._cy=-Math.sin(this._rotation-this.skew._x);this._sy=Math.cos(this._rotation-this.skew._x);this._localID++;};h9Z.prototype.updateLocalTransform=function(){var q9Z=this.localTransform;this._localID!==this._currentLocalID&&(q9Z.a=this._cx*this.scale._x,q9Z.b=this._sx*this.scale._x,q9Z.c=this._cy*this.scale._y,q9Z.d=this._sy*this.scale._y,q9Z.tx=this.position._x-(this.pivot._x*q9Z.a+this.pivot._y*q9Z.c),q9Z.ty=this.position._y-(this.pivot._x*q9Z.b+this.pivot._y*q9Z.d),this._currentLocalID=this._localID,this._parentID=-1);};h9Z.prototype.updateTransform=function(j9Z){var Z9Z=this.localTransform;this._localID!==this._currentLocalID&&(Z9Z.a=this._cx*this.scale._x,Z9Z.b=this._sx*this.scale._x,Z9Z.c=this._cy*this.scale._y,Z9Z.d=this._sy*this.scale._y,Z9Z.tx=this.position._x-(this.pivot._x*Z9Z.a+this.pivot._y*Z9Z.c),Z9Z.ty=this.position._y-(this.pivot._x*Z9Z.b+this.pivot._y*Z9Z.d),this._currentLocalID=this._localID,this._parentID=-1);if(this._parentID!==j9Z._worldID){var E9Z=j9Z.worldTransform,u9Z=this.worldTransform;u9Z.a=Z9Z.a*E9Z.a+Z9Z.b*E9Z.c;u9Z.b=Z9Z.a*E9Z.b+Z9Z.b*E9Z.d;u9Z.c=Z9Z.c*E9Z.a+Z9Z.d*E9Z.c;u9Z.d=Z9Z.c*E9Z.b+Z9Z.d*E9Z.d;u9Z.tx=Z9Z.tx*E9Z.a+Z9Z.ty*E9Z.c+E9Z.tx;u9Z.ty=Z9Z.tx*E9Z.b+Z9Z.ty*E9Z.d+E9Z.ty;this._parentID=j9Z._worldID;this._worldID++;}};h9Z.prototype.setFromMatrix=function(J9Z){J9Z.decompose(this);this._localID++;};w5Z(h9Z,[{key:"rotation",get:function(){return this._rotation;},set:function(S9Z){this._rotation=S9Z;this.updateSkew();}}]);return h9Z;}((a5Z&&a5Z.__esModule?a5Z:{default:a5Z}).default);k5Z.default=a5Z;},{"../math":70,"./TransformBase":51}],53:[function(b9Z,d9Z,p9Z){function C9Z(P9Z){return P9Z&&P9Z.__esModule?P9Z:{default:P9Z};}function V9Z(L9Z,v9Z){if("function"!==typeof v9Z&&null!==v9Z){throw new TypeError("Super expression must either be null or a function, not "+typeof v9Z);}L9Z.prototype=Object.create(v9Z&&v9Z.prototype,{constructor:{value:L9Z,enumerable:false,writable:true,configurable:true}});v9Z&&(Object.setPrototypeOf?Object.setPrototypeOf(L9Z,v9Z):L9Z.__proto__=v9Z);}p9Z.__esModule=true;d9Z=b9Z("../display/Container");d9Z=C9Z(d9Z);var K9Z=b9Z("../textures/RenderTexture"),F9Z=C9Z(K9Z),K9Z=b9Z("../textures/Texture"),Q9Z=C9Z(K9Z),K9Z=b9Z("./GraphicsData"),e9Z=C9Z(K9Z),K9Z=b9Z("../sprites/Sprite"),U9Z=C9Z(K9Z),t9Z=b9Z("../math"),z9Z=b9Z("../utils"),N9Z=b9Z("../const"),K9Z=b9Z("../display/Bounds"),W9Z=C9Z(K9Z),K9Z=b9Z("./utils/bezierCurveTo"),X9Z=C9Z(K9Z);b9Z=b9Z("../renderers/canvas/CanvasRenderer");var G9Z=C9Z(b9Z),D9Z=void 0,m9Z=new t9Z.Matrix(),B9Z=new t9Z.Point(),f9Z=new Float32Array(4),l9Z=new Float32Array(4);b9Z=function(i9Z){function R9Z(){var x9Z=0<arguments.length&&void 0!==arguments[0]?arguments[0]:false;if(!(this instanceof R9Z)){throw new TypeError("Cannot call a class as a function");}var a9Z;a9Z=i9Z.call(this);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}a9Z=!a9Z||"object"!==typeof a9Z&&"function"!==typeof a9Z?this:a9Z;a9Z.fillAlpha=1;a9Z.lineWidth=0;a9Z.nativeLines=x9Z;a9Z.lineColor=0;a9Z.graphicsData=[];a9Z.tint=16777215;a9Z._prevTint=16777215;a9Z.blendMode=N9Z.BLEND_MODES.NORMAL;a9Z.currentPath=null;a9Z._webGL={};a9Z.isMask=false;a9Z.boundsPadding=0;a9Z._localBounds=new W9Z.default();a9Z.dirty=0;a9Z.fastRectDirty=-1;a9Z.clearDirty=0;a9Z.boundsDirty=-1;a9Z.cachedSpriteDirty=false;a9Z._spriteRect=null;a9Z._fastRect=false;return a9Z;}V9Z(R9Z,i9Z);R9Z.prototype.clone=function(){var Y9Z=this;var k9Z=new R9Z();k9Z.renderable=this.renderable;k9Z.fillAlpha=this.fillAlpha;k9Z.lineWidth=this.lineWidth;k9Z.lineColor=this.lineColor;k9Z.tint=this.tint;k9Z.blendMode=this.blendMode;k9Z.isMask=this.isMask;k9Z.boundsPadding=this.boundsPadding;k9Z.dirty=0;k9Z.cachedSpriteDirty=this.cachedSpriteDirty;for(var w9Z=0;w9Z<this.graphicsData.length;++w9Z){k9Z.graphicsData.push(Y9Z.graphicsData[w9Z].clone());}k9Z.currentPath=k9Z.graphicsData[k9Z.graphicsData.length-1];k9Z.updateLocalBounds();return k9Z;};R9Z.prototype.lineStyle=function(){var A9Z=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r1Z=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;this.lineWidth=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;this.lineColor=A9Z;this.lineAlpha=r1Z;this.currentPath&&(this.currentPath.shape.points.length?(A9Z=new t9Z.Polygon(this.currentPath.shape.points.slice(-2)),A9Z.closed=false,this.drawShape(A9Z)):(this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha));return this;};R9Z.prototype.moveTo=function(s1Z,n1Z){s1Z=new t9Z.Polygon([s1Z,n1Z]);s1Z.closed=false;this.drawShape(s1Z);return this;};R9Z.prototype.lineTo=function(I1Z,T1Z){this.currentPath.shape.points.push(I1Z,T1Z);this.dirty++;return this;};R9Z.prototype.quadraticCurveTo=function(y1Z,h1Z,E1Z,Z1Z){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var M1Z=this.currentPath.shape.points,O1Z,H1Z;0===M1Z.length&&this.moveTo(0,0);for(var q1Z=M1Z[M1Z.length-2],g1Z=M1Z[M1Z.length-1],o1Z=1;20>=o1Z;++o1Z){var c1Z=o1Z/20;O1Z=q1Z+(y1Z-q1Z)*c1Z;H1Z=g1Z+(h1Z-g1Z)*c1Z;M1Z.push(O1Z+(y1Z+(E1Z-y1Z)*c1Z-O1Z)*c1Z,H1Z+(h1Z+(Z1Z-h1Z)*c1Z-H1Z)*c1Z);}this.dirty++;return this;};R9Z.prototype.bezierCurveTo=function(S1Z,K1Z,b1Z,t1Z,C1Z,N1Z){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var u1Z=this.currentPath.shape.points,j1Z=u1Z[u1Z.length-2],J1Z=u1Z[u1Z.length-1];u1Z.length-=2;(0,X9Z.default)(j1Z,J1Z,S1Z,K1Z,b1Z,t1Z,C1Z,N1Z,u1Z);this.dirty++;return this;};R9Z.prototype.arcTo=function(U1Z,d1Z,z1Z,l1Z,G1Z){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(U1Z,d1Z):this.moveTo(U1Z,d1Z);var f1Z=this.currentPath.shape.points,m1Z=f1Z[f1Z.length-1]-d1Z,D1Z=f1Z[f1Z.length-2]-U1Z;l1Z-=d1Z;z1Z-=U1Z;var B1Z=Math.abs(m1Z*z1Z-D1Z*l1Z);if(1E-8>B1Z||0===G1Z){f1Z[f1Z.length-2]===U1Z&&f1Z[f1Z.length-1]===d1Z||f1Z.push(U1Z,d1Z);}else{var X1Z=m1Z*m1Z+D1Z*D1Z,W1Z=l1Z*l1Z+z1Z*z1Z,Q1Z=m1Z*l1Z+D1Z*z1Z,f1Z=G1Z*Math.sqrt(X1Z)/B1Z,B1Z=G1Z*Math.sqrt(W1Z)/B1Z,X1Z=f1Z*Q1Z/X1Z,W1Z=B1Z*Q1Z/W1Z,Q1Z=f1Z*z1Z+B1Z*D1Z,e1Z=f1Z*l1Z+B1Z*m1Z;this.arc(Q1Z+U1Z,e1Z+d1Z,G1Z,Math.atan2(m1Z*(B1Z+X1Z)-e1Z,D1Z*(B1Z+X1Z)-Q1Z),Math.atan2(l1Z*(f1Z+W1Z)-e1Z,z1Z*(f1Z+W1Z)-Q1Z),D1Z*l1Z>z1Z*m1Z);}this.dirty++;return this;};R9Z.prototype.arc=function(A1Z,r4Z,x1Z,P1Z,i1Z){var F1Z=5<arguments.length&&void 0!==arguments[5]?arguments[5]:false;if(P1Z===i1Z){return this;}!F1Z&&i1Z<=P1Z?i1Z+=2*Math.PI:F1Z&&P1Z<=i1Z&&(P1Z+=2*Math.PI);var p1Z=i1Z-P1Z,V1Z=40*Math.ceil(Math.abs(p1Z)/(2*Math.PI));if(0===p1Z){return this;}var R1Z=A1Z+Math.cos(P1Z)*x1Z,v1Z=r4Z+Math.sin(P1Z)*x1Z;(F1Z=this.currentPath?this.currentPath.shape.points:null)?F1Z[F1Z.length-2]===R1Z&&F1Z[F1Z.length-1]===v1Z||F1Z.push(R1Z,v1Z):(this.moveTo(R1Z,v1Z),F1Z=this.currentPath.shape.points);for(var p1Z=p1Z/(2*V1Z),R1Z=2*p1Z,v1Z=Math.cos(p1Z),w1Z=Math.sin(p1Z),V1Z=V1Z-1,Y1Z=V1Z%1/V1Z,a1Z=0;a1Z<=V1Z;++a1Z){var L1Z=p1Z+P1Z+R1Z*(a1Z+Y1Z*a1Z),k1Z=Math.cos(L1Z),L1Z=-Math.sin(L1Z);F1Z.push((v1Z*k1Z+w1Z*L1Z)*x1Z+A1Z,(v1Z*-L1Z+w1Z*k1Z)*x1Z+r4Z);}this.dirty++;return this;};R9Z.prototype.beginFill=function(){var s4Z=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n4Z=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.filling=true;this.fillColor=s4Z;this.fillAlpha=n4Z;this.currentPath&&2>=this.currentPath.shape.points.length&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha);return this;};R9Z.prototype.endFill=function(){this.filling=false;this.fillColor=null;this.fillAlpha=1;return this;};R9Z.prototype.drawRect=function(I4Z,T4Z,c4Z,M4Z){this.drawShape(new t9Z.Rectangle(I4Z,T4Z,c4Z,M4Z));return this;};R9Z.prototype.drawRoundedRect=function(o4Z,O4Z,g4Z,h4Z,y4Z){this.drawShape(new t9Z.RoundedRectangle(o4Z,O4Z,g4Z,h4Z,y4Z));return this;};R9Z.prototype.drawCircle=function(H4Z,q4Z,Z4Z){this.drawShape(new t9Z.Circle(H4Z,q4Z,Z4Z));return this;};R9Z.prototype.drawEllipse=function(E4Z,u4Z,j4Z,J4Z){this.drawShape(new t9Z.Ellipse(E4Z,u4Z,j4Z,J4Z));return this;};R9Z.prototype.drawPolygon=function(t4Z){var S4Z=t4Z,b4Z=true;S4Z instanceof t9Z.Polygon&&(b4Z=S4Z.closed,S4Z=S4Z.points);if(!Array.isArray(S4Z)){for(var S4Z=Array(arguments.length),K4Z=0;K4Z<S4Z.length;++K4Z){S4Z[K4Z]=arguments[K4Z];}}S4Z=new t9Z.Polygon(S4Z);S4Z.closed=b4Z;this.drawShape(S4Z);return this;};R9Z.prototype.clear=function(){if(this.lineWidth||this.filling||0<this.graphicsData.length){this.lineWidth=0,this.filling=false,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0;}this._spriteRect=this.currentPath=null;return this;};R9Z.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===N9Z.SHAPES.RECT&&!this.graphicsData[0].lineWidth;};R9Z.prototype._renderWebGL=function(C4Z){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect());this._fastRect?this._renderSpriteRect(C4Z):(C4Z.setObjectRenderer(C4Z.plugins.graphics),C4Z.plugins.graphics.render(this));};R9Z.prototype._renderSpriteRect=function(B4Z){var f4Z=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new U9Z.default(new Q9Z.default(Q9Z.default.WHITE)));var N4Z=this._spriteRect;16777215===this.tint?N4Z.tint=this.graphicsData[0].fillColor:((0,z9Z.hex2rgb)(this.graphicsData[0].fillColor,f9Z),(0,z9Z.hex2rgb)(this.tint,l9Z),f9Z[0]*=l9Z[0],f9Z[1]*=l9Z[1],f9Z[2]*=l9Z[2],N4Z.tint=(0,z9Z.rgb2hex)(f9Z));N4Z.alpha=this.graphicsData[0].fillAlpha;N4Z.worldAlpha=this.worldAlpha*N4Z.alpha;N4Z.blendMode=this.blendMode;N4Z._texture._frame.width=f4Z.width;N4Z._texture._frame.height=f4Z.height;N4Z.transform.worldTransform=this.transform.worldTransform;N4Z.anchor.set(-f4Z.x/f4Z.width,-f4Z.y/f4Z.height);N4Z._onAnchorUpdate();N4Z._renderWebGL(B4Z);};R9Z.prototype._renderCanvas=function(m4Z){true!==this.isMask&&m4Z.plugins.graphics.render(this);};R9Z.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=true);var l4Z=this._localBounds;this._bounds.addFrame(this.transform,l4Z.minX,l4Z.minY,l4Z.maxX,l4Z.maxY);};R9Z.prototype.containsPoint=function(Q4Z){this.worldTransform.applyInverse(Q4Z,B9Z);for(var z4Z=this.graphicsData,D4Z=0;D4Z<z4Z.length;++D4Z){if(Q4Z=z4Z[D4Z],Q4Z.fill&&Q4Z.shape&&Q4Z.shape.contains(B9Z.x,B9Z.y)){if(Q4Z.holes){for(z4Z=0;z4Z<Q4Z.holes.length;z4Z++){if(Q4Z.holes[z4Z].contains(B9Z.x,B9Z.y)){return false;}}}return true;}}return false;};R9Z.prototype.updateLocalBounds=function(){var w4Z=this;var F4Z=Infinity,V4Z=-Infinity,p4Z=Infinity,e4Z=-Infinity;if(this.graphicsData.length){for(var X4Z,W4Z,d4Z,U4Z,G4Z,v4Z=0;v4Z<this.graphicsData.length;v4Z++){X4Z=w4Z.graphicsData[v4Z];d4Z=X4Z.type;var P4Z=X4Z.lineWidth;X4Z=X4Z.shape;if(d4Z===N9Z.SHAPES.RECT||d4Z===N9Z.SHAPES.RREC){W4Z=X4Z.x-P4Z/2,d4Z=X4Z.y-P4Z/2,U4Z=X4Z.width+P4Z,G4Z=X4Z.height+P4Z,F4Z=W4Z<F4Z?W4Z:F4Z,V4Z=W4Z+U4Z>V4Z?W4Z+U4Z:V4Z,p4Z=d4Z<p4Z?d4Z:p4Z,e4Z=d4Z+G4Z>e4Z?d4Z+G4Z:e4Z;}else if(d4Z===N9Z.SHAPES.CIRC){W4Z=X4Z.x,d4Z=X4Z.y,U4Z=X4Z.radius+P4Z/2,G4Z=X4Z.radius+P4Z/2,F4Z=W4Z-U4Z<F4Z?W4Z-U4Z:F4Z,V4Z=W4Z+U4Z>V4Z?W4Z+U4Z:V4Z,p4Z=d4Z-G4Z<p4Z?d4Z-G4Z:p4Z,e4Z=d4Z+G4Z>e4Z?d4Z+G4Z:e4Z;}else if(d4Z===N9Z.SHAPES.ELIP){W4Z=X4Z.x,d4Z=X4Z.y,U4Z=X4Z.width+P4Z/2,G4Z=X4Z.height+P4Z/2,F4Z=W4Z-U4Z<F4Z?W4Z-U4Z:F4Z,V4Z=W4Z+U4Z>V4Z?W4Z+U4Z:V4Z,p4Z=d4Z-G4Z<p4Z?d4Z-G4Z:p4Z,e4Z=d4Z+G4Z>e4Z?d4Z+G4Z:e4Z;}else{X4Z=X4Z.points;for(var x4Z,k4Z,R4Z,i4Z,a4Z,L4Z=0;L4Z+2<X4Z.length;L4Z+=2){W4Z=X4Z[L4Z],d4Z=X4Z[L4Z+1],x4Z=X4Z[L4Z+2],k4Z=X4Z[L4Z+3],R4Z=Math.abs(x4Z-W4Z),i4Z=Math.abs(k4Z-d4Z),G4Z=P4Z,U4Z=Math.sqrt(R4Z*R4Z+i4Z*i4Z),1E-9>U4Z||(a4Z=(G4Z/U4Z*i4Z+R4Z)/2,U4Z=(G4Z/U4Z*R4Z+i4Z)/2,W4Z=(x4Z+W4Z)/2,d4Z=(k4Z+d4Z)/2,F4Z=W4Z-a4Z<F4Z?W4Z-a4Z:F4Z,V4Z=W4Z+a4Z>V4Z?W4Z+a4Z:V4Z,p4Z=d4Z-U4Z<p4Z?d4Z-U4Z:p4Z,e4Z=d4Z+U4Z>e4Z?d4Z+U4Z:e4Z);}}}}else{e4Z=p4Z=V4Z=F4Z=0;}v4Z=this.boundsPadding;this._localBounds.minX=F4Z-v4Z;this._localBounds.maxX=V4Z+v4Z;this._localBounds.minY=p4Z-v4Z;this._localBounds.maxY=e4Z+v4Z;};R9Z.prototype.drawShape=function(Y4Z){this.currentPath&&2>=this.currentPath.shape.points.length&&this.graphicsData.pop();this.currentPath=null;Y4Z=new e9Z.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,Y4Z);this.graphicsData.push(Y4Z);Y4Z.type===N9Z.SHAPES.POLY&&(Y4Z.shape.closed=Y4Z.shape.closed||this.filling,this.currentPath=Y4Z);this.dirty++;return Y4Z;};R9Z.prototype.generateCanvasTexture=function(n7Z){var r7Z=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,A4Z=this.getLocalBounds(),s7Z=F9Z.default.create(A4Z.width,A4Z.height,n7Z,r7Z);D9Z||(D9Z=new G9Z.default());this.transform.updateLocalTransform();this.transform.localTransform.copy(m9Z);m9Z.invert();m9Z.tx-=A4Z.x;m9Z.ty-=A4Z.y;D9Z.render(this,s7Z,true,m9Z);A4Z=Q9Z.default.fromCanvas(s7Z.baseTexture._canvasRenderTarget.canvas,n7Z,"graphics");A4Z.baseTexture.resolution=r7Z;A4Z.baseTexture.update();return A4Z;};R9Z.prototype.closePath=function(){var I7Z=this.currentPath;I7Z&&I7Z.shape&&I7Z.shape.close();return this;};R9Z.prototype.addHole=function(){var T7Z=this.graphicsData.pop();this.currentPath=this.graphicsData[this.graphicsData.length-1];this.currentPath.addHole(T7Z.shape);this.currentPath=null;return this;};R9Z.prototype.destroy=function(c7Z){var M7Z=this;i9Z.prototype.destroy.call(this,c7Z);for(c7Z=0;c7Z<this.graphicsData.length;++c7Z){M7Z.graphicsData[c7Z].destroy();}for(var o7Z in M7Z._webgl){for(c7Z=0;c7Z<this._webgl[o7Z].data.length;++c7Z){M7Z._webgl[o7Z].data[c7Z].destroy();}}this._spriteRect&&this._spriteRect.destroy();this._localBounds=this._webgl=this.currentPath=this.graphicsData=null;};return R9Z;}(d9Z.default);p9Z.default=b9Z;b9Z._SPRITE_TEXTURE=null;},{"../const":46,"../display/Bounds":47,"../display/Container":48,"../math":70,"../renderers/canvas/CanvasRenderer":77,"../sprites/Sprite":102,"../textures/RenderTexture":113,"../textures/Texture":115,"../utils":125,"./GraphicsData":54,"./utils/bezierCurveTo":56}],54:[function(O7Z,h7Z,g7Z){g7Z.__esModule=true;O7Z=function(){function y7Z(E7Z,H7Z,u7Z,q7Z,j7Z,J7Z,S7Z,Z7Z){if(!(this instanceof y7Z)){throw new TypeError("Cannot call a class as a function");}this.lineWidth=E7Z;this.nativeLines=S7Z;this.lineColor=H7Z;this.lineAlpha=u7Z;this._lineTint=H7Z;this.fillColor=q7Z;this.fillAlpha=j7Z;this._fillTint=q7Z;this.fill=J7Z;this.holes=[];this.shape=Z7Z;this.type=Z7Z.type;}y7Z.prototype.clone=function(){return new y7Z(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape);};y7Z.prototype.addHole=function(K7Z){this.holes.push(K7Z);};y7Z.prototype.destroy=function(){this.holes=this.shape=null;};return y7Z;}();g7Z.default=O7Z;},{}],55:[function(C7Z,b7Z,N7Z){N7Z.__esModule=true;b7Z=(b7Z=C7Z("../../renderers/canvas/CanvasRenderer"))&&b7Z.__esModule?b7Z:{default:b7Z};var t7Z=C7Z("../../const");C7Z=function(){function f7Z(B7Z){if(!(this instanceof f7Z)){throw new TypeError("Cannot call a class as a function");}this.renderer=B7Z;}f7Z.prototype.render=function(F7Z){var v7Z=this;var e7Z=this.renderer,m7Z=e7Z.context,G7Z=F7Z.worldAlpha,Q7Z=F7Z.transform.worldTransform,d7Z=e7Z.resolution;this._prevTint!==this.tint&&(this.dirty=true);m7Z.setTransform(Q7Z.a*d7Z,Q7Z.b*d7Z,Q7Z.c*d7Z,Q7Z.d*d7Z,Q7Z.tx*d7Z,Q7Z.ty*d7Z);F7Z.dirty&&(this.updateGraphicsTint(F7Z),F7Z.dirty=false);e7Z.setBlendMode(F7Z.blendMode);for(e7Z=0;e7Z<F7Z.graphicsData.length;e7Z++){var Q7Z=F7Z.graphicsData[e7Z],l7Z=Q7Z.shape,d7Z=Q7Z._fillTint,V7Z=Q7Z._lineTint;m7Z.lineWidth=Q7Z.lineWidth;if(Q7Z.type===t7Z.SHAPES.POLY){m7Z.beginPath();v7Z.renderPolygon(l7Z.points,l7Z.closed,m7Z);for(var D7Z=0;D7Z<Q7Z.holes.length;D7Z++){v7Z.renderPolygon(Q7Z.holes[D7Z].points,true,m7Z);}Q7Z.fill&&(m7Z.globalAlpha=Q7Z.fillAlpha*G7Z,m7Z.fillStyle="#"+("00000"+(d7Z|0).toString(16)).substr(-6),m7Z.fill());Q7Z.lineWidth&&(m7Z.globalAlpha=Q7Z.lineAlpha*G7Z,m7Z.strokeStyle="#"+("00000"+(V7Z|0).toString(16)).substr(-6),m7Z.stroke());}else if(Q7Z.type===t7Z.SHAPES.RECT){if(Q7Z.fillColor||0===Q7Z.fillColor){m7Z.globalAlpha=Q7Z.fillAlpha*G7Z,m7Z.fillStyle="#"+("00000"+(d7Z|0).toString(16)).substr(-6),m7Z.fillRect(l7Z.x,l7Z.y,l7Z.width,l7Z.height);}Q7Z.lineWidth&&(m7Z.globalAlpha=Q7Z.lineAlpha*G7Z,m7Z.strokeStyle="#"+("00000"+(V7Z|0).toString(16)).substr(-6),m7Z.strokeRect(l7Z.x,l7Z.y,l7Z.width,l7Z.height));}else if(Q7Z.type===t7Z.SHAPES.CIRC){m7Z.beginPath(),m7Z.arc(l7Z.x,l7Z.y,l7Z.radius,0,2*Math.PI),m7Z.closePath(),Q7Z.fill&&(m7Z.globalAlpha=Q7Z.fillAlpha*G7Z,m7Z.fillStyle="#"+("00000"+(d7Z|0).toString(16)).substr(-6),m7Z.fill()),Q7Z.lineWidth&&(m7Z.globalAlpha=Q7Z.lineAlpha*G7Z,m7Z.strokeStyle="#"+("00000"+(V7Z|0).toString(16)).substr(-6),m7Z.stroke());}else if(Q7Z.type===t7Z.SHAPES.ELIP){var W7Z=2*l7Z.width,z7Z=2*l7Z.height,D7Z=l7Z.x-W7Z/2,l7Z=l7Z.y-z7Z/2;m7Z.beginPath();var X7Z=W7Z/2*.5522848,U7Z=z7Z/2*.5522848,p7Z=D7Z+W7Z,P7Z=l7Z+z7Z,W7Z=D7Z+W7Z/2,z7Z=l7Z+z7Z/2;m7Z.moveTo(D7Z,z7Z);m7Z.bezierCurveTo(D7Z,z7Z-U7Z,W7Z-X7Z,l7Z,W7Z,l7Z);m7Z.bezierCurveTo(W7Z+X7Z,l7Z,p7Z,z7Z-U7Z,p7Z,z7Z);m7Z.bezierCurveTo(p7Z,z7Z+U7Z,W7Z+X7Z,P7Z,W7Z,P7Z);m7Z.bezierCurveTo(W7Z-X7Z,P7Z,D7Z,z7Z+U7Z,D7Z,z7Z);m7Z.closePath();Q7Z.fill&&(m7Z.globalAlpha=Q7Z.fillAlpha*G7Z,m7Z.fillStyle="#"+("00000"+(d7Z|0).toString(16)).substr(-6),m7Z.fill());Q7Z.lineWidth&&(m7Z.globalAlpha=Q7Z.lineAlpha*G7Z,m7Z.strokeStyle="#"+("00000"+(V7Z|0).toString(16)).substr(-6),m7Z.stroke());}else if(Q7Z.type===t7Z.SHAPES.RREC){D7Z=l7Z.x;z7Z=l7Z.y;X7Z=l7Z.width;U7Z=l7Z.height;l7Z=l7Z.radius;p7Z=Math.min(X7Z,U7Z)/2|0;l7Z=l7Z>p7Z?p7Z:l7Z;m7Z.beginPath();m7Z.moveTo(D7Z,z7Z+l7Z);m7Z.lineTo(D7Z,z7Z+U7Z-l7Z);m7Z.quadraticCurveTo(D7Z,z7Z+U7Z,D7Z+l7Z,z7Z+U7Z);m7Z.lineTo(D7Z+X7Z-l7Z,z7Z+U7Z);m7Z.quadraticCurveTo(D7Z+X7Z,z7Z+U7Z,D7Z+X7Z,z7Z+U7Z-l7Z);m7Z.lineTo(D7Z+X7Z,z7Z+l7Z);m7Z.quadraticCurveTo(D7Z+X7Z,z7Z,D7Z+X7Z-l7Z,z7Z);m7Z.lineTo(D7Z+l7Z,z7Z);m7Z.quadraticCurveTo(D7Z,z7Z,D7Z,z7Z+l7Z);m7Z.closePath();if(Q7Z.fillColor||0===Q7Z.fillColor){m7Z.globalAlpha=Q7Z.fillAlpha*G7Z,m7Z.fillStyle="#"+("00000"+(d7Z|0).toString(16)).substr(-6),m7Z.fill();}Q7Z.lineWidth&&(m7Z.globalAlpha=Q7Z.lineAlpha*G7Z,m7Z.strokeStyle="#"+("00000"+(V7Z|0).toString(16)).substr(-6),m7Z.stroke());}}};f7Z.prototype.updateGraphicsTint=function(L7Z){L7Z._prevTint=L7Z.tint;for(var k7Z=(L7Z.tint>>16&255)/255,w7Z=(L7Z.tint>>8&255)/255,Y7Z=(L7Z.tint&255)/255,i7Z=0;i7Z<L7Z.graphicsData.length;++i7Z){var R7Z=L7Z.graphicsData[i7Z],a7Z=R7Z.fillColor|0,x7Z=R7Z.lineColor|0;R7Z._fillTint=((a7Z>>16&255)/255*k7Z*255<<16)+((a7Z>>8&255)/255*w7Z*255<<8)+(a7Z&255)/255*Y7Z*255;R7Z._lineTint=((x7Z>>16&255)/255*k7Z*255<<16)+((x7Z>>8&255)/255*w7Z*255<<8)+(x7Z&255)/255*Y7Z*255;}};f7Z.prototype.renderPolygon=function(A7Z,n6Z,s6Z){s6Z.moveTo(A7Z[0],A7Z[1]);for(var r6Z=1;r6Z<A7Z.length/2;++r6Z){s6Z.lineTo(A7Z[2*r6Z],A7Z[2*r6Z+1]);}n6Z&&s6Z.closePath();};f7Z.prototype.destroy=function(){this.renderer=null;};return f7Z;}();N7Z.default=C7Z;b7Z.default.registerPlugin("graphics",C7Z);},{"../../const":46,"../../renderers/canvas/CanvasRenderer":77}],56:[function(T6Z,c6Z,I6Z){I6Z.__esModule=true;I6Z.default=function(Z6Z,E6Z,K6Z,S6Z,J6Z,j6Z,u6Z,b6Z){var y6Z=8<arguments.length&&void 0!==arguments[8]?arguments[8]:[],o6Z,h6Z,q6Z,g6Z,H6Z;y6Z.push(Z6Z,E6Z);for(var O6Z=1,M6Z;20>=O6Z;++O6Z){M6Z=O6Z/20,o6Z=1-M6Z,h6Z=o6Z*o6Z,q6Z=h6Z*o6Z,g6Z=M6Z*M6Z,H6Z=g6Z*M6Z,y6Z.push(q6Z*Z6Z+3*h6Z*M6Z*K6Z+3*o6Z*g6Z*J6Z+H6Z*u6Z,q6Z*E6Z+3*h6Z*M6Z*S6Z+3*o6Z*g6Z*j6Z+H6Z*b6Z);}return y6Z;};},{}],57:[function(t6Z,f6Z,Q6Z){function N6Z(e6Z){return e6Z&&e6Z.__esModule?e6Z:{default:e6Z};}function G6Z(p6Z,F6Z){if("function"!==typeof F6Z&&null!==F6Z){throw new TypeError("Super expression must either be null or a function, not "+typeof F6Z);}p6Z.prototype=Object.create(F6Z&&F6Z.prototype,{constructor:{value:p6Z,enumerable:false,writable:true,configurable:true}});F6Z&&(Object.setPrototypeOf?Object.setPrototypeOf(p6Z,F6Z):p6Z.__proto__=F6Z);}Q6Z.__esModule=true;var l6Z=t6Z("../../utils"),B6Z=t6Z("../../const");f6Z=t6Z("../../renderers/webgl/utils/ObjectRenderer");var m6Z=N6Z(f6Z);f6Z=t6Z("../../renderers/webgl/WebGLRenderer");f6Z=N6Z(f6Z);var C6Z=t6Z("./WebGLGraphicsData"),d6Z=N6Z(C6Z),C6Z=t6Z("./shaders/PrimitiveShader"),X6Z=N6Z(C6Z),C6Z=t6Z("./utils/buildPoly"),W6Z=N6Z(C6Z),C6Z=t6Z("./utils/buildRectangle"),U6Z=N6Z(C6Z),C6Z=t6Z("./utils/buildRoundedRectangle"),D6Z=N6Z(C6Z);t6Z=t6Z("./utils/buildCircle");var z6Z=N6Z(t6Z);t6Z=function(P6Z){function V6Z(L6Z){if(!(this instanceof V6Z)){throw new TypeError("Cannot call a class as a function");}var v6Z;v6Z=P6Z.call(this,L6Z);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}v6Z=!v6Z||"object"!==typeof v6Z&&"function"!==typeof v6Z?this:v6Z;v6Z.graphicsDataPool=[];v6Z.primitiveShader=null;v6Z.gl=L6Z.gl;v6Z.CONTEXT_UID=0;return v6Z;}G6Z(V6Z,P6Z);V6Z.prototype.onContextChange=function(){this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.primitiveShader=new X6Z.default(this.gl);};V6Z.prototype.destroy=function(){var i6Z=this;m6Z.default.prototype.destroy.call(this);for(var R6Z=0;R6Z<this.graphicsDataPool.length;++R6Z){i6Z.graphicsDataPool[R6Z].destroy();}this.graphicsDataPool=null;};V6Z.prototype.render=function(a6Z){var k6Z=this.renderer,A6Z=k6Z.gl,x6Z,w6Z=a6Z._webGL[this.CONTEXT_UID];w6Z&&a6Z.dirty===w6Z.dirty||(this.updateGraphics(a6Z),w6Z=a6Z._webGL[this.CONTEXT_UID]);k6Z.bindShader(this.primitiveShader);k6Z.state.setBlendMode(a6Z.blendMode);for(var r88=0,s88=w6Z.data.length;r88<s88;r88++){x6Z=w6Z.data[r88];var Y6Z=x6Z.shader;k6Z.bindShader(Y6Z);Y6Z.uniforms.translationMatrix=a6Z.transform.worldTransform.toArray(true);Y6Z.uniforms.tint=(0,l6Z.hex2rgb)(a6Z.tint);Y6Z.uniforms.alpha=a6Z.worldAlpha;k6Z.bindVao(x6Z.vao);x6Z.nativeLines?A6Z.drawArrays(A6Z.LINES,0,x6Z.points.length/6):x6Z.vao.draw(A6Z.TRIANGLE_STRIP,x6Z.indices.length);}};V6Z.prototype.updateGraphics=function(c88){var o88=this;var I88=this.renderer.gl,n88=c88._webGL[this.CONTEXT_UID];n88||(n88=c88._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:I88,clearDirty:-1,dirty:-1});n88.dirty=c88.dirty;if(c88.clearDirty!==n88.clearDirty){n88.clearDirty=c88.clearDirty;for(I88=0;I88<n88.data.length;I88++){o88.graphicsDataPool.push(n88.data[I88]);}n88.data.length=0;n88.lastIndex=0;}for(var M88=void 0,O88=n88.lastIndex;O88<c88.graphicsData.length;O88++){var T88=c88.graphicsData[O88],I88=o88.getWebGLData(n88,0);T88.nativeLines&&T88.lineWidth&&(M88=o88.getWebGLData(n88,0,true),n88.lastIndex++);T88.type===B6Z.SHAPES.POLY&&(0,W6Z.default)(T88,I88,M88);T88.type===B6Z.SHAPES.RECT?(0,U6Z.default)(T88,I88,M88):T88.type===B6Z.SHAPES.CIRC||T88.type===B6Z.SHAPES.ELIP?(0,z6Z.default)(T88,I88,M88):T88.type===B6Z.SHAPES.RREC&&(0,D6Z.default)(T88,I88,M88);n88.lastIndex++;}this.renderer.bindVao(null);for(c88=0;c88<n88.data.length;c88++){I88=n88.data[c88],I88.dirty&&I88.upload();}};V6Z.prototype.getWebGLData=function(h88,H88,y88){var g88=h88.data[h88.data.length-1];if(!g88||g88.nativeLines!==y88||32E4<g88.points.length){g88=this.graphicsDataPool.pop()||new d6Z.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),g88.nativeLines=y88,g88.reset(H88),h88.data.push(g88);}g88.dirty=true;return g88;};return V6Z;}(m6Z.default);Q6Z.default=t6Z;f6Z.default.registerPlugin("graphics",t6Z);},{"../../const":46,"../../renderers/webgl/WebGLRenderer":84,"../../renderers/webgl/utils/ObjectRenderer":94,"../../utils":125,"./WebGLGraphicsData":58,"./shaders/PrimitiveShader":59,"./utils/buildCircle":60,"./utils/buildPoly":62,"./utils/buildRectangle":63,"./utils/buildRoundedRectangle":64}],58:[function(q88,u88,E88){E88.__esModule=true;var Z88=(q88=q88("pixi-gl-core"))&&q88.__esModule?q88:{default:q88};q88=function(){function j88(J88,S88,K88){if(!(this instanceof j88)){throw new TypeError("Cannot call a class as a function");}this.gl=J88;this.color=[0,0,0];this.points=[];this.indices=[];this.buffer=Z88.default.GLBuffer.createVertexBuffer(J88);this.indexBuffer=Z88.default.GLBuffer.createIndexBuffer(J88);this.dirty=true;this.nativeLines=false;this.glIndices=this.glPoints=null;this.shader=S88;this.vao=new Z88.default.VertexArrayObject(J88,K88).addIndex(this.indexBuffer).addAttribute(this.buffer,S88.attributes.aVertexPosition,J88.FLOAT,false,24,0).addAttribute(this.buffer,S88.attributes.aColor,J88.FLOAT,false,24,8);}j88.prototype.reset=function(){this.points.length=0;this.indices.length=0;};j88.prototype.upload=function(){this.glPoints=new Float32Array(this.points);this.buffer.upload(this.glPoints);this.glIndices=new Uint16Array(this.indices);this.indexBuffer.upload(this.glIndices);this.dirty=false;};j88.prototype.destroy=function(){this.indices=this.points=this.color=null;this.vao.destroy();this.buffer.destroy();this.indexBuffer.destroy();this.glIndices=this.glPoints=this.indexBuffer=this.buffer=this.gl=null;};return j88;}();E88.default=q88;},{"pixi-gl-core":15}],59:[function(b88,N88,t88){function C88(B88,f88){if("function"!==typeof f88&&null!==f88){throw new TypeError("Super expression must either be null or a function, not "+typeof f88);}B88.prototype=Object.create(f88&&f88.prototype,{constructor:{value:B88,enumerable:false,writable:true,configurable:true}});f88&&(Object.setPrototypeOf?Object.setPrototypeOf(B88,f88):B88.__proto__=f88);}t88.__esModule=true;b88=b88("../../../Shader");b88=function(l88){function m88(Q88){if(!(this instanceof m88)){throw new TypeError("Cannot call a class as a function");}Q88=l88.call(this,Q88,"attribute vec2 aVertexPosition;\nattribute vec4 aColor;\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\nuniform float alpha;\nuniform vec3 tint;\nvarying vec4 vColor;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vColor = aColor * vec4(tint * alpha, alpha);\n}","varying vec4 vColor;\nvoid main(void){\n   gl_FragColor = vColor;\n}");if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return!Q88||"object"!==typeof Q88&&"function"!==typeof Q88?this:Q88;}C88(m88,l88);return m88;}((b88&&b88.__esModule?b88:{default:b88}).default);t88.default=b88;},{"../../../Shader":44}],60:[function(D88,z88,d88){d88.__esModule=true;d88.default=function(e88,A88,r28){var G88=e88.shape,x88=G88.x,a88=G88.y,L88,R88;e88.type===W88.SHAPES.CIRC?R88=L88=G88.radius:(L88=G88.width,R88=G88.height);if(0!==L88&&0!==R88){var G88=Math.floor(30*Math.sqrt(G88.radius))||Math.floor(15*Math.sqrt(G88.width+G88.height)),P88=2*Math.PI/G88;if(e88.fill){var V88=(0,U88.hex2rgb)(e88.fillColor),p88=e88.fillAlpha,F88=V88[0]*p88,Y88=V88[1]*p88,V88=V88[2]*p88,k88=A88.points,w88=A88.indices,v88=k88.length/6;w88.push(v88);for(var i88=0;i88<G88+1;i88++){k88.push(x88,a88,F88,Y88,V88,p88),k88.push(x88+Math.sin(P88*i88)*L88,a88+Math.cos(P88*i88)*R88,F88,Y88,V88,p88),w88.push(v88++,v88++);}w88.push(v88-1);}if(e88.lineWidth){p88=e88.points;e88.points=[];for(F88=0;F88<G88+1;F88++){e88.points.push(x88+Math.sin(P88*F88)*L88,a88+Math.cos(P88*F88)*R88);}(0,X88.default)(e88,A88,r28);e88.points=p88;}}};var X88=(z88=D88("./buildLine"))&&z88.__esModule?z88:{default:z88},W88=D88("../../../const"),U88=D88("../../../utils");},{"../../../const":46,"../../../utils":125,"./buildLine":61}],61:[function(I28,c28,T28){T28.__esModule=true;T28.default=function(h28,m28,g28){if(h28.nativeLines){var H28,M28=h28.points;if(0!==M28.length){g28=g28.points;m28=M28.length/2;H28=(0,n28.hex2rgb)(h28.lineColor);var E28=h28.lineAlpha,j28=H28[0]*E28,N28=H28[1]*E28;h28=H28[2]*E28;for(H28=1;H28<m28;H28++){var S28=M28[2*H28],J28=M28[2*H28+1];g28.push(M28[2*(H28-1)],M28[2*(H28-1)+1]);g28.push(j28,N28,h28,E28);g28.push(S28,J28);g28.push(j28,N28,h28,E28);}}}else if(M28=h28.points,0!==M28.length){E28=new s28.Point(M28[0],M28[1]);j28=new s28.Point(M28[M28.length-2],M28[M28.length-1]);E28.x===j28.x&&E28.y===j28.y&&(M28=M28.slice(),M28.pop(),M28.pop(),j28=new s28.Point(M28[M28.length-2],M28[M28.length-1]),g28=j28.x+.5*(E28.x-j28.x),E28=j28.y+.5*(E28.y-j28.y),M28.unshift(g28,E28),M28.push(g28,E28));g28=m28.points;m28=m28.indices;N28=M28.length/2;E28=M28.length;j28=g28.length/6;H28=h28.lineWidth/2;var u28=(0,n28.hex2rgb)(h28.lineColor);h28=h28.lineAlpha;var S28=u28[0]*h28,J28=u28[1]*h28,u28=u28[2]*h28,b28=M28[0],K28=M28[1],q28=M28[2],Z28=M28[3],Q28,B28,o28=-(K28-Z28),O28=b28-q28,t28,C28,y28=Math.sqrt(o28*o28+O28*O28),o28=o28/y28*H28,O28=O28/y28*H28;g28.push(b28-o28,K28-O28,S28,J28,u28,h28);g28.push(b28+o28,K28+O28,S28,J28,u28,h28);for(var f28=1;f28<N28-1;++f28){b28=M28[2*(f28-1)];K28=M28[2*(f28-1)+1];q28=M28[2*f28];Z28=M28[2*f28+1];Q28=M28[2*(f28+1)];B28=M28[2*(f28+1)+1];o28=-(K28-Z28);O28=b28-q28;y28=Math.sqrt(o28*o28+O28*O28);o28/=y28;O28/=y28;o28*=H28;O28*=H28;t28=-(Z28-B28);C28=q28-Q28;y28=Math.sqrt(t28*t28+C28*C28);t28/=y28;C28/=y28;t28*=H28;C28*=H28;var y28=-O28+K28-(-O28+Z28),l28=-o28+q28-(-o28+b28),b28=(-o28+b28)*(-O28+Z28)-(-o28+q28)*(-O28+K28),K28=-C28+B28-(-C28+Z28),z28=-t28+q28-(-t28+Q28);Q28=(-t28+Q28)*(-C28+Z28)-(-t28+q28)*(-C28+B28);B28=y28*z28-K28*l28;.1>Math.abs(B28)?(g28.push(q28-o28,Z28-O28,S28,J28,u28,h28),g28.push(q28+o28,Z28+O28,S28,J28,u28,h28)):(l28=(l28*Q28-z28*b28)/B28,y28=(K28*b28-y28*Q28)/B28,(l28-q28)*(l28-q28)+(y28-Z28)*(y28-Z28)>196*H28*H28?(o28-=t28,O28-=C28,y28=Math.sqrt(o28*o28+O28*O28),o28/=y28,O28/=y28,o28*=H28,O28*=H28,g28.push(q28-o28,Z28-O28),g28.push(S28,J28,u28,h28),g28.push(q28+o28,Z28+O28),g28.push(S28,J28,u28,h28),g28.push(q28-o28,Z28-O28),g28.push(S28,J28,u28,h28),E28++):(g28.push(l28,y28),g28.push(S28,J28,u28,h28),g28.push(q28-(l28-q28),Z28-(y28-Z28)),g28.push(S28,J28,u28,h28)));}b28=M28[2*(N28-2)];K28=M28[2*(N28-2)+1];q28=M28[2*(N28-1)];Z28=M28[2*(N28-1)+1];o28=-(K28-Z28);O28=b28-q28;y28=Math.sqrt(o28*o28+O28*O28);o28=o28/y28*H28;O28=O28/y28*H28;g28.push(q28-o28,Z28-O28);g28.push(S28,J28,u28,h28);g28.push(q28+o28,Z28+O28);g28.push(S28,J28,u28,h28);m28.push(j28);for(M28=0;M28<E28;++M28){m28.push(j28++);}m28.push(j28-1);}};var s28=I28("../../../math"),n28=I28("../../../utils");},{"../../../math":70,"../../../utils":125}],62:[function(D28,d28,X28){X28.__esModule=true;X28.default=function(p28,x28,Y28){p28.points=p28.shape.points.slice();var F28=p28.points;if(p28.fill&&6<=F28.length){for(var e28=[],L28=p28.holes,v28=0;v28<L28.length;v28++){var P28=L28[v28];e28.push(F28.length/2);F28=F28.concat(P28.points);}var L28=x28.points,i28=x28.indices,v28=F28.length/2,R28=(0,U28.hex2rgb)(p28.fillColor),P28=p28.fillAlpha,k28=R28[0]*P28,w28=R28[1]*P28,R28=R28[2]*P28,e28=(0,G28.default)(F28,e28,2);if(!e28){return;}for(var a28=L28.length/6,V28=0;V28<e28.length;V28+=3){i28.push(e28[V28]+a28),i28.push(e28[V28]+a28),i28.push(e28[V28+1]+a28),i28.push(e28[V28+2]+a28),i28.push(e28[V28+2]+a28);}for(e28=0;e28<v28;e28++){L28.push(F28[2*e28],F28[2*e28+1],k28,w28,R28,P28);}}0<p28.lineWidth&&(0,W28.default)(p28,x28,Y28);};var W28=(d28=D28("./buildLine"))&&d28.__esModule?d28:{default:d28},U28=D28("../../../utils"),G28=(D28=D28("earcut"))&&D28.__esModule?D28:{default:D28};},{"../../../utils":125,"./buildLine":61,earcut:2}],63:[function(r08,A28,s08){s08.__esModule=true;s08.default=function(h08,E08,j08){var T08=h08.shape,M08=T08.x,o08=T08.y,H08=T08.width,T08=T08.height;if(h08.fill){var O08=(0,I08.hex2rgb)(h08.fillColor),g08=h08.fillAlpha,Z08=O08[0]*g08,q08=O08[1]*g08,O08=O08[2]*g08,c08=E08.points,u08=E08.indices,y08=c08.length/6;c08.push(M08,o08);c08.push(Z08,q08,O08,g08);c08.push(M08+H08,o08);c08.push(Z08,q08,O08,g08);c08.push(M08,o08+T08);c08.push(Z08,q08,O08,g08);c08.push(M08+H08,o08+T08);c08.push(Z08,q08,O08,g08);u08.push(y08,y08,y08+1,y08+2,y08+3,y08+3);}h08.lineWidth&&(g08=h08.points,h08.points=[M08,o08,M08+H08,o08,M08+H08,o08+T08,M08,o08+T08,M08,o08],(0,n08.default)(h08,E08,j08),h08.points=g08);};var n08=(A28=r08("./buildLine"))&&A28.__esModule?A28:{default:A28},I08=r08("../../../utils");},{"../../../utils":125,"./buildLine":61}],64:[function(K08,J08,b08){function S08(d08,U08,D08,Q08,e08,G08){for(var z08=6<arguments.length&&void 0!==arguments[6]?arguments[6]:[],l08,m08,X08,W08,B08=0,f08;20>=B08;++B08){f08=B08/20,l08=d08+(D08-d08)*f08,m08=U08+(Q08-U08)*f08,X08=D08+(e08-D08)*f08,W08=Q08+(G08-Q08)*f08,l08+=(X08-l08)*f08,m08+=(W08-m08)*f08,z08.push(l08,m08);}return z08;}b08.__esModule=true;b08.default=function(i08,w08,A08){var p08=i08.shape,F08=p08.x,V08=p08.y,R08=p08.width,P08=p08.height,v08=p08.radius,p08=[];p08.push(F08,V08+v08);S08(F08,V08+P08-v08,F08,V08+P08,F08+v08,V08+P08,p08);S08(F08+R08-v08,V08+P08,F08+R08,V08+P08,F08+R08,V08+P08-v08,p08);S08(F08+R08,V08+v08,F08+R08,V08,F08+R08-v08,V08,p08);S08(F08+v08,V08,F08,V08,F08,V08+v08+1E-10,p08);if(i08.fill){for(var P08=(0,N08.hex2rgb)(i08.fillColor),F08=i08.fillAlpha,V08=P08[0]*F08,R08=P08[1]*F08,P08=P08[2]*F08,v08=w08.points,L08=w08.indices,x08=v08.length/6,k08=(0,t08.default)(p08,null,2),a08=0,Y08=k08.length;a08<Y08;a08+=3){L08.push(k08[a08]+x08),L08.push(k08[a08]+x08),L08.push(k08[a08+1]+x08),L08.push(k08[a08+2]+x08),L08.push(k08[a08+2]+x08);}L08=0;for(x08=p08.length;L08<x08;L08++){v08.push(p08[L08],p08[++L08],V08,R08,P08,F08);}}i08.lineWidth&&(F08=i08.points,i08.points=p08,(0,C08.default)(i08,w08,A08),i08.points=F08);};var t08=(J08=K08("earcut"))&&J08.__esModule?J08:{default:J08},C08=(J08=K08("./buildLine"))&&J08.__esModule?J08:{default:J08},N08=K08("../../../utils");},{"../../../utils":125,"./buildLine":61,earcut:2}],65:[function(s38,M38,r38){function C38(a38){if(a38&&a38.__esModule){return a38;}var x38={};if(null!=a38){for(var k38 in a38){Object.prototype.hasOwnProperty.call(a38,k38)&&(x38[k38]=a38[k38]);}}x38.default=a38;return x38;}function n38(w38){return w38&&w38.__esModule?w38:{default:w38};}r38.__esModule=true;r38.autoDetectRenderer=r38.Application=r38.Filter=r38.SpriteMaskFilter=r38.Quad=r38.RenderTarget=r38.ObjectRenderer=r38.WebGLManager=r38.Shader=r38.CanvasRenderTarget=r38.TextureUvs=r38.VideoBaseTexture=r38.BaseRenderTexture=r38.RenderTexture=r38.BaseTexture=r38.TextureMatrix=r38.Texture=r38.Spritesheet=r38.CanvasGraphicsRenderer=r38.GraphicsRenderer=r38.GraphicsData=r38.Graphics=r38.TextMetrics=r38.TextStyle=r38.Text=r38.SpriteRenderer=r38.CanvasTinter=r38.CanvasSpriteRenderer=r38.Sprite=r38.TransformBase=r38.TransformStatic=r38.Transform=r38.Container=r38.DisplayObject=r38.Bounds=r38.glCore=r38.WebGLRenderer=r38.CanvasRenderer=r38.ticker=r38.utils=r38.settings=void 0;var o38=s38("./const");Object.keys(o38).forEach(function(Y38){"default"!==Y38&&"__esModule"!==Y38&&Object.defineProperty(r38,Y38,{enumerable:true,get:function(){return o38[Y38];}});});var O38=s38("./math");Object.keys(O38).forEach(function(A38){"default"!==A38&&"__esModule"!==A38&&Object.defineProperty(r38,A38,{enumerable:true,get:function(){return O38[A38];}});});var i38=s38("pixi-gl-core");Object.defineProperty(r38,"glCore",{enumerable:true,get:function(){return n38(i38).default;}});var g38=s38("./display/Bounds");Object.defineProperty(r38,"Bounds",{enumerable:true,get:function(){return n38(g38).default;}});var h38=s38("./display/DisplayObject");Object.defineProperty(r38,"DisplayObject",{enumerable:true,get:function(){return n38(h38).default;}});var y38=s38("./display/Container");Object.defineProperty(r38,"Container",{enumerable:true,get:function(){return n38(y38).default;}});var H38=s38("./display/Transform");Object.defineProperty(r38,"Transform",{enumerable:true,get:function(){return n38(H38).default;}});var q38=s38("./display/TransformStatic");Object.defineProperty(r38,"TransformStatic",{enumerable:true,get:function(){return n38(q38).default;}});var Z38=s38("./display/TransformBase");Object.defineProperty(r38,"TransformBase",{enumerable:true,get:function(){return n38(Z38).default;}});var E38=s38("./sprites/Sprite");Object.defineProperty(r38,"Sprite",{enumerable:true,get:function(){return n38(E38).default;}});var u38=s38("./sprites/canvas/CanvasSpriteRenderer");Object.defineProperty(r38,"CanvasSpriteRenderer",{enumerable:true,get:function(){return n38(u38).default;}});var j38=s38("./sprites/canvas/CanvasTinter");Object.defineProperty(r38,"CanvasTinter",{enumerable:true,get:function(){return n38(j38).default;}});var J38=s38("./sprites/webgl/SpriteRenderer");Object.defineProperty(r38,"SpriteRenderer",{enumerable:true,get:function(){return n38(J38).default;}});var S38=s38("./text/Text");Object.defineProperty(r38,"Text",{enumerable:true,get:function(){return n38(S38).default;}});var K38=s38("./text/TextStyle");Object.defineProperty(r38,"TextStyle",{enumerable:true,get:function(){return n38(K38).default;}});var b38=s38("./text/TextMetrics");Object.defineProperty(r38,"TextMetrics",{enumerable:true,get:function(){return n38(b38).default;}});var t38=s38("./graphics/Graphics");Object.defineProperty(r38,"Graphics",{enumerable:true,get:function(){return n38(t38).default;}});var R38=s38("./graphics/GraphicsData");Object.defineProperty(r38,"GraphicsData",{enumerable:true,get:function(){return n38(R38).default;}});var N38=s38("./graphics/webgl/GraphicsRenderer");Object.defineProperty(r38,"GraphicsRenderer",{enumerable:true,get:function(){return n38(N38).default;}});var f38=s38("./graphics/canvas/CanvasGraphicsRenderer");Object.defineProperty(r38,"CanvasGraphicsRenderer",{enumerable:true,get:function(){return n38(f38).default;}});var B38=s38("./textures/Spritesheet");Object.defineProperty(r38,"Spritesheet",{enumerable:true,get:function(){return n38(B38).default;}});var m38=s38("./textures/Texture");Object.defineProperty(r38,"Texture",{enumerable:true,get:function(){return n38(m38).default;}});var l38=s38("./textures/TextureMatrix");Object.defineProperty(r38,"TextureMatrix",{enumerable:true,get:function(){return n38(l38).default;}});var Q38=s38("./textures/BaseTexture");Object.defineProperty(r38,"BaseTexture",{enumerable:true,get:function(){return n38(Q38).default;}});var z38=s38("./textures/RenderTexture");Object.defineProperty(r38,"RenderTexture",{enumerable:true,get:function(){return n38(z38).default;}});var D38=s38("./textures/BaseRenderTexture");Object.defineProperty(r38,"BaseRenderTexture",{enumerable:true,get:function(){return n38(D38).default;}});var d38=s38("./textures/VideoBaseTexture");Object.defineProperty(r38,"VideoBaseTexture",{enumerable:true,get:function(){return n38(d38).default;}});var X38=s38("./textures/TextureUvs");Object.defineProperty(r38,"TextureUvs",{enumerable:true,get:function(){return n38(X38).default;}});var W38=s38("./renderers/canvas/utils/CanvasRenderTarget");Object.defineProperty(r38,"CanvasRenderTarget",{enumerable:true,get:function(){return n38(W38).default;}});var U38=s38("./Shader");Object.defineProperty(r38,"Shader",{enumerable:true,get:function(){return n38(U38).default;}});var G38=s38("./renderers/webgl/managers/WebGLManager");Object.defineProperty(r38,"WebGLManager",{enumerable:true,get:function(){return n38(G38).default;}});var e38=s38("./renderers/webgl/utils/ObjectRenderer");Object.defineProperty(r38,"ObjectRenderer",{enumerable:true,get:function(){return n38(e38).default;}});var F38=s38("./renderers/webgl/utils/RenderTarget");Object.defineProperty(r38,"RenderTarget",{enumerable:true,get:function(){return n38(F38).default;}});var p38=s38("./renderers/webgl/utils/Quad");Object.defineProperty(r38,"Quad",{enumerable:true,get:function(){return n38(p38).default;}});var V38=s38("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");Object.defineProperty(r38,"SpriteMaskFilter",{enumerable:true,get:function(){return n38(V38).default;}});var P38=s38("./renderers/webgl/filters/Filter");Object.defineProperty(r38,"Filter",{enumerable:true,get:function(){return n38(P38).default;}});var v38=s38("./Application");Object.defineProperty(r38,"Application",{enumerable:true,get:function(){return n38(v38).default;}});var L38=s38("./autoDetectRenderer");Object.defineProperty(r38,"autoDetectRenderer",{enumerable:true,get:function(){return L38.autoDetectRenderer;}});M38=s38("./utils");M38=C38(M38);var T38=s38("./ticker"),T38=C38(T38),c38=s38("./settings"),c38=n38(c38),I38=s38("./renderers/canvas/CanvasRenderer"),I38=n38(I38);s38=s38("./renderers/webgl/WebGLRenderer");s38=n38(s38);r38.settings=c38.default;r38.utils=M38;r38.ticker=T38;r38.CanvasRenderer=I38.default;r38.WebGLRenderer=s38.default;},{"./Application":43,"./Shader":44,"./autoDetectRenderer":45,"./const":46,"./display/Bounds":47,"./display/Container":48,"./display/DisplayObject":49,"./display/Transform":50,"./display/TransformBase":51,"./display/TransformStatic":52,"./graphics/Graphics":53,"./graphics/GraphicsData":54,"./graphics/canvas/CanvasGraphicsRenderer":55,"./graphics/webgl/GraphicsRenderer":57,"./math":70,"./renderers/canvas/CanvasRenderer":77,"./renderers/canvas/utils/CanvasRenderTarget":79,"./renderers/webgl/WebGLRenderer":84,"./renderers/webgl/filters/Filter":86,"./renderers/webgl/filters/spriteMask/SpriteMaskFilter":89,"./renderers/webgl/managers/WebGLManager":93,"./renderers/webgl/utils/ObjectRenderer":94,"./renderers/webgl/utils/Quad":95,"./renderers/webgl/utils/RenderTarget":96,"./settings":101,"./sprites/Sprite":102,"./sprites/canvas/CanvasSpriteRenderer":103,"./sprites/canvas/CanvasTinter":104,"./sprites/webgl/SpriteRenderer":106,"./text/Text":108,"./text/TextMetrics":109,"./text/TextStyle":110,"./textures/BaseRenderTexture":111,"./textures/BaseTexture":112,"./textures/RenderTexture":113,"./textures/Spritesheet":114,"./textures/Texture":115,"./textures/TextureMatrix":116,"./textures/TextureUvs":117,"./textures/VideoBaseTexture":118,"./ticker":121,"./utils":125,"pixi-gl-core":15}],66:[function(c58,y58,h58){function M58(H58){return 0>H58?-1:0<H58?1:0;}h58.__esModule=true;var g58=(c58=c58("./Matrix"))&&c58.__esModule?c58:{default:c58},s58=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],T58=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],I58=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],n58=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],O58=[],o58=[];(function(){for(var q58=0;16>q58;q58++){var u58=[];o58.push(u58);for(var Z58=0;16>Z58;Z58++){for(var j58=M58(s58[q58]*s58[Z58]+I58[q58]*T58[Z58]),J58=M58(T58[q58]*s58[Z58]+n58[q58]*T58[Z58]),S58=M58(s58[q58]*I58[Z58]+I58[q58]*n58[Z58]),K58=M58(T58[q58]*I58[Z58]+n58[q58]*n58[Z58]),E58=0;16>E58;E58++){if(s58[E58]===j58&&T58[E58]===J58&&I58[E58]===S58&&n58[E58]===K58){u58.push(E58);break;}}}}for(q58=0;16>q58;q58++){u58=new g58.default(),u58.set(s58[q58],T58[q58],I58[q58],n58[q58],0,0),O58.push(u58);}}());var r58={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(b58){return s58[b58];},uY:function(t58){return T58[t58];},vX:function(C58){return I58[C58];},vY:function(N58){return n58[N58];},inv:function(f58){return f58&8?f58&15:-f58&7;},add:function(B58,m58){return o58[B58][m58];},sub:function(l58,Q58){return o58[l58][r58.inv(Q58)];},rotate180:function(z58){return z58^4;},isVertical:function(D58){return 2===(D58&3);},byDirection:function(d58,X58){return 2*Math.abs(d58)<=Math.abs(X58)?0<=X58?r58.S:r58.N:2*Math.abs(X58)<=Math.abs(d58)?0<d58?r58.E:r58.W:0<X58?0<d58?r58.SE:r58.SW:0<d58?r58.NE:r58.NW;},matrixAppendRotationInv:function(e58,F58){var U58=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,G58=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,W58=O58[r58.inv(F58)];W58.tx=U58;W58.ty=G58;e58.append(W58);}};h58.default=r58;},{"./Matrix":67}],67:[function(p58,L58,P58){P58.__esModule=true;var v58=function(){function R58(k58,x58){for(var a58=0;a58<x58.length;a58++){var i58=x58[a58];i58.enumerable=i58.enumerable||false;i58.configurable=true;"value"in i58&&(i58.writable=true);Object.defineProperty(k58,i58.key,i58);}}return function(w58,Y58,A58){Y58&&R58(w58.prototype,Y58);A58&&R58(w58,A58);return w58;};}(),V58=(p58=p58("./Point"))&&p58.__esModule?p58:{default:p58};p58=function(){function r98(){var s98=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,n98=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,I98=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,T98=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,c98=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,M98=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(!(this instanceof r98)){throw new TypeError("Cannot call a class as a function");}this.a=s98;this.b=n98;this.c=I98;this.d=T98;this.tx=c98;this.ty=M98;this.array=null;}r98.prototype.fromArray=function(o98){this.a=o98[0];this.b=o98[1];this.c=o98[3];this.d=o98[4];this.tx=o98[2];this.ty=o98[5];};r98.prototype.set=function(O98,g98,h98,y98,H98,q98){this.a=O98;this.b=g98;this.c=h98;this.d=y98;this.tx=H98;this.ty=q98;return this;};r98.prototype.toArray=function(E98,Z98){this.array||(this.array=new Float32Array(9));Z98=Z98||this.array;E98?(Z98[0]=this.a,Z98[1]=this.b,Z98[2]=0,Z98[3]=this.c,Z98[4]=this.d,Z98[5]=0,Z98[6]=this.tx,Z98[7]=this.ty):(Z98[0]=this.a,Z98[1]=this.c,Z98[2]=this.tx,Z98[3]=this.b,Z98[4]=this.d,Z98[5]=this.ty,Z98[6]=0,Z98[7]=0);Z98[8]=1;return Z98;};r98.prototype.apply=function(u98,j98){j98=j98||new V58.default();var J98=u98.x;u98=u98.y;j98.x=this.a*J98+this.c*u98+this.tx;j98.y=this.b*J98+this.d*u98+this.ty;return j98;};r98.prototype.applyInverse=function(K98,b98){b98=b98||new V58.default();var S98=1/(this.a*this.d+this.c*-this.b),t98=K98.x;K98=K98.y;b98.x=this.d*S98*t98+-this.c*S98*K98+(this.ty*this.c-this.tx*this.d)*S98;b98.y=this.a*S98*K98+-this.b*S98*t98+(-this.ty*this.a+this.tx*this.b)*S98;return b98;};r98.prototype.translate=function(C98,N98){this.tx+=C98;this.ty+=N98;return this;};r98.prototype.scale=function(f98,B98){this.a*=f98;this.d*=B98;this.c*=f98;this.b*=B98;this.tx*=f98;this.ty*=B98;return this;};r98.prototype.rotate=function(m98){var l98=Math.cos(m98);m98=Math.sin(m98);var Q98=this.a,z98=this.c,D98=this.tx;this.a=Q98*l98-this.b*m98;this.b=Q98*m98+this.b*l98;this.c=z98*l98-this.d*m98;this.d=z98*m98+this.d*l98;this.tx=D98*l98-this.ty*m98;this.ty=D98*m98+this.ty*l98;return this;};r98.prototype.append=function(d98){var X98=this.a,W98=this.b,U98=this.c,G98=this.d;this.a=d98.a*X98+d98.b*U98;this.b=d98.a*W98+d98.b*G98;this.c=d98.c*X98+d98.d*U98;this.d=d98.c*W98+d98.d*G98;this.tx=d98.tx*X98+d98.ty*U98+this.tx;this.ty=d98.tx*W98+d98.ty*G98+this.ty;return this;};r98.prototype.setTransform=function(k98,w98,x98,a98,P98,v98,F98,V98,p98){var e98=Math.sin(F98),R98=Math.cos(F98);F98=Math.cos(p98);p98=Math.sin(p98);var i98=-Math.sin(V98);V98=Math.cos(V98);var L98=R98*P98;P98*=e98;e98=-e98*v98;v98*=R98;this.a=F98*L98+p98*e98;this.b=F98*P98+p98*v98;this.c=i98*L98+V98*e98;this.d=i98*P98+V98*v98;this.tx=k98+(x98*L98+a98*e98);this.ty=w98+(x98*P98+a98*v98);return this;};r98.prototype.prepend=function(Y98){var A98=this.tx;if(1!==Y98.a||0!==Y98.b||0!==Y98.c||1!==Y98.d){var r18=this.a,s18=this.c;this.a=r18*Y98.a+this.b*Y98.c;this.b=r18*Y98.b+this.b*Y98.d;this.c=s18*Y98.a+this.d*Y98.c;this.d=s18*Y98.b+this.d*Y98.d;}this.tx=A98*Y98.a+this.ty*Y98.c+Y98.tx;this.ty=A98*Y98.b+this.ty*Y98.d+Y98.ty;return this;};r98.prototype.decompose=function(n18){var I18=this.a,c18=this.b,M18=this.c,T18=this.d,O18=-Math.atan2(-M18,T18),o18=Math.atan2(c18,I18);1E-5>Math.abs(O18+o18)?(n18.rotation=o18,0>I18&&0<=T18&&(n18.rotation+=0>=n18.rotation?Math.PI:-Math.PI),n18.skew.x=n18.skew.y=0):(n18.skew.x=O18,n18.skew.y=o18);n18.scale.x=Math.sqrt(I18*I18+c18*c18);n18.scale.y=Math.sqrt(M18*M18+T18*T18);n18.position.x=this.tx;n18.position.y=this.ty;return n18;};r98.prototype.invert=function(){var h18=this.a,y18=this.b,H18=this.c,q18=this.d,Z18=this.tx,g18=h18*q18-y18*H18;this.a=q18/g18;this.b=-y18/g18;this.c=-H18/g18;this.d=h18/g18;this.tx=(H18*this.ty-q18*Z18)/g18;this.ty=-(h18*this.ty-y18*Z18)/g18;return this;};r98.prototype.identity=function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0;return this;};r98.prototype.clone=function(){var E18=new r98();E18.a=this.a;E18.b=this.b;E18.c=this.c;E18.d=this.d;E18.tx=this.tx;E18.ty=this.ty;return E18;};r98.prototype.copy=function(u18){u18.a=this.a;u18.b=this.b;u18.c=this.c;u18.d=this.d;u18.tx=this.tx;u18.ty=this.ty;return u18;};v58(r98,null,[{key:"IDENTITY",get:function(){return new r98();}},{key:"TEMP_MATRIX",get:function(){return new r98();}}]);return r98;}();P58.default=p58;},{"./Point":69}],68:[function(j18,K18,J18){J18.__esModule=true;var S18=function(){function b18(f18,N18){for(var C18=0;C18<N18.length;C18++){var t18=N18[C18];t18.enumerable=t18.enumerable||false;t18.configurable=true;"value"in t18&&(t18.writable=true);Object.defineProperty(f18,t18.key,t18);}}return function(B18,m18,l18){m18&&b18(B18.prototype,m18);l18&&b18(B18,l18);return B18;};}();j18=function(){function Q18(d18,X18){var z18=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,D18=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(!(this instanceof Q18)){throw new TypeError("Cannot call a class as a function");}this._x=z18;this._y=D18;this.cb=d18;this.scope=X18;}Q18.prototype.set=function(W18,U18){W18=W18||0;U18=U18||(0!==U18?W18:0);if(this._x!==W18||this._y!==U18){this._x=W18,this._y=U18,this.cb.call(this.scope);}};Q18.prototype.copy=function(G18){if(this._x!==G18.x||this._y!==G18.y){this._x=G18.x,this._y=G18.y,this.cb.call(this.scope);}};S18(Q18,[{key:"x",get:function(){return this._x;},set:function(e18){this._x!==e18&&(this._x=e18,this.cb.call(this.scope));}},{key:"y",get:function(){return this._y;},set:function(F18){this._y!==F18&&(this._y=F18,this.cb.call(this.scope));}}]);return Q18;}();J18.default=j18;},{}],69:[function(p18,P18,V18){V18.__esModule=true;p18=function(){function v18(){var L18=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,R18=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(!(this instanceof v18)){throw new TypeError("Cannot call a class as a function");}this.x=L18;this.y=R18;}v18.prototype.clone=function(){return new v18(this.x,this.y);};v18.prototype.copy=function(i18){this.set(i18.x,i18.y);};v18.prototype.equals=function(a18){return a18.x===this.x&&a18.y===this.y;};v18.prototype.set=function(k18,x18){this.x=k18||0;this.y=x18||(0!==x18?this.x:0);};return v18;}();V18.default=p18;},{}],70:[function(A18,g48,w18){function Y18(h48){return h48&&h48.__esModule?h48:{default:h48};}w18.__esModule=true;var n48=A18("./Point");Object.defineProperty(w18,"Point",{enumerable:true,get:function(){return Y18(n48).default;}});var I48=A18("./ObservablePoint");Object.defineProperty(w18,"ObservablePoint",{enumerable:true,get:function(){return Y18(I48).default;}});var r48=A18("./Matrix");Object.defineProperty(w18,"Matrix",{enumerable:true,get:function(){return Y18(r48).default;}});var c48=A18("./GroupD8");Object.defineProperty(w18,"GroupD8",{enumerable:true,get:function(){return Y18(c48).default;}});var M48=A18("./shapes/Circle");Object.defineProperty(w18,"Circle",{enumerable:true,get:function(){return Y18(M48).default;}});var o48=A18("./shapes/Ellipse");Object.defineProperty(w18,"Ellipse",{enumerable:true,get:function(){return Y18(o48).default;}});var O48=A18("./shapes/Polygon");Object.defineProperty(w18,"Polygon",{enumerable:true,get:function(){return Y18(O48).default;}});var s48=A18("./shapes/Rectangle");Object.defineProperty(w18,"Rectangle",{enumerable:true,get:function(){return Y18(s48).default;}});var T48=A18("./shapes/RoundedRectangle");Object.defineProperty(w18,"RoundedRectangle",{enumerable:true,get:function(){return Y18(T48).default;}});},{"./GroupD8":66,"./Matrix":67,"./ObservablePoint":68,"./Point":69,"./shapes/Circle":71,"./shapes/Ellipse":72,"./shapes/Polygon":73,"./shapes/Rectangle":74,"./shapes/RoundedRectangle":75}],71:[function(y48,H48,q48){q48.__esModule=true;var Z48=(H48=y48("./Rectangle"))&&H48.__esModule?H48:{default:H48},E48=y48("../../const");y48=function(){function u48(){var j48=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,J48=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,S48=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(!(this instanceof u48)){throw new TypeError("Cannot call a class as a function");}this.x=j48;this.y=J48;this.radius=S48;this.type=E48.SHAPES.CIRC;}u48.prototype.clone=function(){return new u48(this.x,this.y,this.radius);};u48.prototype.contains=function(K48,b48){if(0>=this.radius){return false;}K48=this.x-K48;b48=this.y-b48;return K48*K48+b48*b48<=this.radius*this.radius;};u48.prototype.getBounds=function(){return new Z48.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius);};return u48;}();q48.default=y48;},{"../../const":46,"./Rectangle":74}],72:[function(t48,C48,N48){N48.__esModule=true;var f48=(C48=t48("./Rectangle"))&&C48.__esModule?C48:{default:C48},B48=t48("../../const");t48=function(){function m48(){var l48=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,Q48=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,z48=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,D48=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(!(this instanceof m48)){throw new TypeError("Cannot call a class as a function");}this.x=l48;this.y=Q48;this.width=z48;this.height=D48;this.type=B48.SHAPES.ELIP;}m48.prototype.clone=function(){return new m48(this.x,this.y,this.width,this.height);};m48.prototype.contains=function(d48,X48){if(0>=this.width||0>=this.height){return false;}d48=(d48-this.x)/this.width;X48=(X48-this.y)/this.height;return 1>=d48*d48+X48*X48;};m48.prototype.getBounds=function(){return new f48.default(this.x-this.width,this.y-this.height,this.width,this.height);};return m48;}();N48.default=t48;},{"../../const":46,"./Rectangle":74}],73:[function(W48,U48,G48){G48.__esModule=true;var e48=(U48=W48("../Point"))&&U48.__esModule?U48:{default:U48},F48=W48("../../const");W48=function(){function p48(){for(var v48=arguments.length,V48=Array(v48),P48=0;P48<v48;P48++){V48[P48]=arguments[P48];}if(!(this instanceof p48)){throw new TypeError("Cannot call a class as a function");}Array.isArray(V48[0])&&(V48=V48[0]);if(V48[0]instanceof e48.default){for(var v48=[],P48=0,L48=V48.length;P48<L48;P48++){v48.push(V48[P48].x,V48[P48].y);}V48=v48;}this.closed=true;this.points=V48;this.type=F48.SHAPES.POLY;}p48.prototype.clone=function(){return new p48(this.points.slice());};p48.prototype.close=function(){var R48=this.points;R48[0]===R48[R48.length-2]&&R48[1]===R48[R48.length-1]||R48.push(R48[0],R48[1]);};p48.prototype.contains=function(n78,A48){var a48=this;for(var k48=false,Y48=this.points.length/2,x48=0,i48=Y48-1;x48<Y48;i48=x48++){var r78=a48.points[2*x48],w48=a48.points[2*x48+1],s78=a48.points[2*i48],i48=a48.points[2*i48+1];w48>A48!==i48>A48&&n78<(A48-w48)/(i48-w48)*(s78-r78)+r78&&(k48=!k48);}return k48;};return p48;}();G48.default=W48;},{"../../const":46,"../Point":69}],74:[function(I78,o78,T78){T78.__esModule=true;var c78=function(){function O78(H78,y78){for(var h78=0;h78<y78.length;h78++){var g78=y78[h78];g78.enumerable=g78.enumerable||false;g78.configurable=true;"value"in g78&&(g78.writable=true);Object.defineProperty(H78,g78.key,g78);}}return function(q78,Z78,E78){Z78&&O78(q78.prototype,Z78);E78&&O78(q78,E78);return q78;};}(),M78=I78("../../const");I78=function(){function u78(){var j78=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,J78=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,S78=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,K78=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(!(this instanceof u78)){throw new TypeError("Cannot call a class as a function");}this.x=Number(j78);this.y=Number(J78);this.width=Number(S78);this.height=Number(K78);this.type=M78.SHAPES.RECT;}u78.prototype.clone=function(){return new u78(this.x,this.y,this.width,this.height);};u78.prototype.copy=function(b78){this.x=b78.x;this.y=b78.y;this.width=b78.width;this.height=b78.height;return this;};u78.prototype.contains=function(t78,C78){return 0>=this.width||0>=this.height?false:t78>=this.x&&t78<this.x+this.width&&C78>=this.y&&C78<this.y+this.height?true:false;};u78.prototype.pad=function(N78,f78){N78=N78||0;f78=f78||(0!==f78?N78:0);this.x-=N78;this.y-=f78;this.width+=2*N78;this.height+=2*f78;};u78.prototype.fit=function(B78){this.x<B78.x&&(this.width+=this.x,0>this.width&&(this.width=0),this.x=B78.x);this.y<B78.y&&(this.height+=this.y,0>this.height&&(this.height=0),this.y=B78.y);this.x+this.width>B78.x+B78.width&&(this.width=B78.width-this.x,0>this.width&&(this.width=0));this.y+this.height>B78.y+B78.height&&(this.height=B78.height-this.y,0>this.height&&(this.height=0));};u78.prototype.enlarge=function(m78){var l78=Math.min(this.x,m78.x),z78=Math.max(this.x+this.width,m78.x+m78.width),Q78=Math.min(this.y,m78.y);m78=Math.max(this.y+this.height,m78.y+m78.height);this.x=l78;this.width=z78-l78;this.y=Q78;this.height=m78-Q78;};c78(u78,[{key:"left",get:function(){return this.x;}},{key:"right",get:function(){return this.x+this.width;}},{key:"top",get:function(){return this.y;}},{key:"bottom",get:function(){return this.y+this.height;}}],[{key:"EMPTY",get:function(){return new u78(0,0,0,0);}}]);return u78;}();T78.default=I78;},{"../../const":46}],75:[function(D78,W78,d78){d78.__esModule=true;var X78=D78("../../const");D78=function(){function U78(){var G78=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e78=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,F78=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,p78=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,V78=4<arguments.length&&void 0!==arguments[4]?arguments[4]:20;if(!(this instanceof U78)){throw new TypeError("Cannot call a class as a function");}this.x=G78;this.y=e78;this.width=F78;this.height=p78;this.radius=V78;this.type=X78.SHAPES.RREC;}U78.prototype.clone=function(){return new U78(this.x,this.y,this.width,this.height,this.radius);};U78.prototype.contains=function(L78,R78){if(0>=this.width||0>=this.height){return false;}if(L78>=this.x&&L78<=this.x+this.width&&R78>=this.y&&R78<=this.y+this.height){if(R78>=this.y+this.radius&&R78<=this.y+this.height-this.radius||L78>=this.x+this.radius&&L78<=this.x+this.width-this.radius){return true;}var P78=L78-(this.x+this.radius),v78=R78-(this.y+this.radius),i78=this.radius*this.radius;if(P78*P78+v78*v78<=i78){return true;}P78=L78-(this.x+this.width-this.radius);if(P78*P78+v78*v78<=i78){return true;}v78=R78-(this.y+this.height-this.radius);if(P78*P78+v78*v78<=i78){return true;}P78=L78-(this.x+this.radius);if(P78*P78+v78*v78<=i78){return true;}}return false;};return U78;}();d78.default=D78;},{"../../const":46}],76:[function(a78,x78,I68){function Y78(o68){return o68&&o68.__esModule?o68:{default:o68};}function M68(g68,O68){if("function"!==typeof O68&&null!==O68){throw new TypeError("Super expression must either be null or a function, not "+typeof O68);}g68.prototype=Object.create(O68&&O68.prototype,{constructor:{value:g68,enumerable:false,writable:true,configurable:true}});O68&&(Object.setPrototypeOf?Object.setPrototypeOf(g68,O68):g68.__proto__=O68);}I68.__esModule=true;var n68=function(){function h68(Z68,q68){for(var H68=0;H68<q68.length;H68++){var y68=q68[H68];y68.enumerable=y68.enumerable||false;y68.configurable=true;"value"in y68&&(y68.writable=true);Object.defineProperty(Z68,y68.key,y68);}}return function(E68,u68,j68){u68&&h68(E68.prototype,u68);j68&&h68(E68,j68);return E68;};}(),k78=a78("../utils"),r68=a78("../math"),s68=a78("../const");x78=a78("../settings");var w78=Y78(x78);x78=a78("../display/Container");var T68=Y78(x78);x78=a78("../textures/RenderTexture");var c68=Y78(x78);a78=a78("eventemitter3");a78=Y78(a78);var A78=new r68.Matrix();a78=function(S68){function J68(t68,b68,C68,N68){if(!(this instanceof J68)){throw new TypeError("Cannot call a class as a function");}var K68;K68=S68.call(this);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}K68=!K68||"object"!==typeof K68&&"function"!==typeof K68?this:K68;(0,k78.sayHello)(t68);"number"===typeof b68&&(b68=Object.assign({width:b68,height:C68||w78.default.RENDER_OPTIONS.height},N68));b68=Object.assign({},w78.default.RENDER_OPTIONS,b68);K68.options=b68;K68.type=s68.RENDERER_TYPE.UNKNOWN;K68.screen=new r68.Rectangle(0,0,b68.width,b68.height);K68.view=b68.view||document.createElement("canvas");K68.resolution=b68.resolution||w78.default.RESOLUTION;K68.transparent=b68.transparent;K68.autoResize=b68.autoResize||false;K68.blendModes=null;K68.preserveDrawingBuffer=b68.preserveDrawingBuffer;K68.clearBeforeRender=b68.clearBeforeRender;K68.roundPixels=b68.roundPixels;K68._backgroundColor=0;K68._backgroundColorRgba=[0,0,0,0];K68._backgroundColorString="#000000";K68.backgroundColor=b68.backgroundColor||K68._backgroundColor;K68._tempDisplayObjectParent=new T68.default();K68._lastObjectRendered=K68._tempDisplayObjectParent;return K68;}M68(J68,S68);J68.prototype.resize=function(f68,B68){this.screen.width=f68;this.screen.height=B68;this.view.width=f68*this.resolution;this.view.height=B68*this.resolution;this.autoResize&&(this.view.style.width=f68+"px",this.view.style.height=B68+"px");};J68.prototype.generateTexture=function(Q68,l68,z68,m68){m68=m68||Q68.getLocalBounds();l68=c68.default.create(m68.width|0,m68.height|0,l68,z68);A78.tx=-m68.x;A78.ty=-m68.y;this.render(Q68,l68,false,A78,true);return l68;};J68.prototype.destroy=function(D68){D68&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);this.type=s68.RENDERER_TYPE.UNKNOWN;this.screen=this.view=null;this.resolution=0;this.autoResize=this.transparent=false;this.options=this.blendModes=null;this.roundPixels=this.clearBeforeRender=this.preserveDrawingBuffer=false;this._backgroundColor=0;this._lastObjectRendered=this._tempDisplayObjectParent=this._backgroundColorString=this._backgroundColorRgba=null;};n68(J68,[{key:"width",get:function(){return this.view.width;}},{key:"height",get:function(){return this.view.height;}},{key:"backgroundColor",get:function(){return this._backgroundColor;},set:function(d68){this._backgroundColor=d68;this._backgroundColorString=(0,k78.hex2string)(d68);(0,k78.hex2rgb)(d68,this._backgroundColorRgba);}}]);return J68;}(a78.default);I68.default=a78;},{"../const":46,"../display/Container":48,"../math":70,"../settings":101,"../textures/RenderTexture":113,"../utils":125,eventemitter3:3}],77:[function(X68,e68,F68){function U68(R68){return R68&&R68.__esModule?R68:{default:R68};}function L68(a68,i68){if("function"!==typeof i68&&null!==i68){throw new TypeError("Super expression must either be null or a function, not "+typeof i68);}a68.prototype=Object.create(i68&&i68.prototype,{constructor:{value:a68,enumerable:false,writable:true,configurable:true}});i68&&(Object.setPrototypeOf?Object.setPrototypeOf(a68,i68):a68.__proto__=i68);}F68.__esModule=true;e68=X68("../SystemRenderer");e68=U68(e68);var W68=X68("./utils/CanvasMaskManager"),V68=U68(W68),W68=X68("./utils/CanvasRenderTarget"),P68=U68(W68),W68=X68("./utils/mapCanvasBlendModesToPixi"),v68=U68(W68),W68=X68("../../utils"),G68=X68("../../const");X68=X68("../../settings");var p68=U68(X68);X68=function(k68){function x68(w68,Y68,A68){if(!(this instanceof x68)){throw new TypeError("Cannot call a class as a function");}w68=k68.call(this,"Canvas",w68,Y68,A68);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}w68=!w68||"object"!==typeof w68&&"function"!==typeof w68?this:w68;w68.type=G68.RENDERER_TYPE.CANVAS;w68.rootContext=w68.view.getContext("2d",{alpha:w68.transparent});w68.context=w68.rootContext;w68.refresh=true;w68.maskManager=new V68.default(w68);w68.smoothProperty="imageSmoothingEnabled";w68.rootContext.imageSmoothingEnabled||(w68.rootContext.webkitImageSmoothingEnabled?w68.smoothProperty="webkitImageSmoothingEnabled":w68.rootContext.mozImageSmoothingEnabled?w68.smoothProperty="mozImageSmoothingEnabled":w68.rootContext.oImageSmoothingEnabled?w68.smoothProperty="oImageSmoothingEnabled":w68.rootContext.msImageSmoothingEnabled&&(w68.smoothProperty="msImageSmoothingEnabled"));w68.initPlugins();w68.blendModes=(0,v68.default)();w68._activeBlendMode=null;w68.renderingToScreen=false;w68.resize(w68.options.width,w68.options.height);return w68;}L68(x68,k68);x68.prototype.render=function(n8G,r8G,I8G,c8G,T8G){if(this.view){this.renderingToScreen=!r8G;this.emit("prerender");var M8G=this.resolution;r8G?(r8G=r8G.baseTexture||r8G,r8G._canvasRenderTarget||(r8G._canvasRenderTarget=new P68.default(r8G.width,r8G.height,r8G.resolution),r8G.source=r8G._canvasRenderTarget.canvas,r8G.valid=true),this.context=r8G._canvasRenderTarget.context,this.resolution=r8G._canvasRenderTarget.resolution):this.context=this.rootContext;var s8G=this.context;r8G||(this._lastObjectRendered=n8G);T8G||(r8G=n8G.parent,T8G=this._tempDisplayObjectParent.transform.worldTransform,c8G?(c8G.copy(T8G),this._tempDisplayObjectParent.transform._worldID=-1):T8G.identity(),n8G.parent=this._tempDisplayObjectParent,n8G.updateTransform(),n8G.parent=r8G);s8G.save();s8G.setTransform(1,0,0,1,0,0);s8G.globalAlpha=1;this._activeBlendMode=G68.BLEND_MODES.NORMAL;s8G.globalCompositeOperation=this.blendModes[G68.BLEND_MODES.NORMAL];navigator.isCocoonJS&&this.view.screencanvas&&(s8G.fillStyle="black",s8G.clear());(void 0!==I8G?I8G:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?s8G.clearRect(0,0,this.width,this.height):(s8G.fillStyle=this._backgroundColorString,s8G.fillRect(0,0,this.width,this.height)));I8G=this.context;this.context=s8G;n8G.renderCanvas(this);this.context=I8G;s8G.restore();this.resolution=M8G;this.emit("postrender");}};x68.prototype.clear=function(o8G){var O8G=this.context;o8G=o8G||this._backgroundColorString;!this.transparent&&o8G?(O8G.fillStyle=o8G,O8G.fillRect(0,0,this.width,this.height)):O8G.clearRect(0,0,this.width,this.height);};x68.prototype.setBlendMode=function(g8G){this._activeBlendMode!==g8G&&(this._activeBlendMode=g8G,this.context.globalCompositeOperation=this.blendModes[g8G]);};x68.prototype.destroy=function(h8G){this.destroyPlugins();k68.prototype.destroy.call(this,h8G);this.context=null;this.refresh=true;this.maskManager.destroy();this.smoothProperty=this.maskManager=null;};x68.prototype.resize=function(y8G,H8G){k68.prototype.resize.call(this,y8G,H8G);this.smoothProperty&&(this.rootContext[this.smoothProperty]=p68.default.SCALE_MODE===G68.SCALE_MODES.LINEAR);};x68.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation);};return x68;}(e68.default);F68.default=X68;W68.pluginTarget.mixin(X68);},{"../../const":46,"../../settings":101,"../../utils":125,"../SystemRenderer":76,"./utils/CanvasMaskManager":78,"./utils/CanvasRenderTarget":79,"./utils/mapCanvasBlendModesToPixi":81}],78:[function(Z8G,u8G,E8G){E8G.__esModule=true;var q8G=Z8G("../../../const");Z8G=function(){function j8G(J8G){if(!(this instanceof j8G)){throw new TypeError("Cannot call a class as a function");}this.renderer=J8G;}j8G.prototype.pushMask=function(b8G){var t8G=this.renderer;t8G.context.save();var C8G=b8G.alpha,S8G=b8G.transform.worldTransform,K8G=t8G.resolution;t8G.context.setTransform(S8G.a*K8G,S8G.b*K8G,S8G.c*K8G,S8G.d*K8G,S8G.tx*K8G,S8G.ty*K8G);b8G._texture||(this.renderGraphicsShape(b8G),t8G.context.clip());b8G.worldAlpha=C8G;};j8G.prototype.renderGraphicsShape=function(U8G){var m8G=this.renderer.context,W8G=U8G.graphicsData.length;if(0!==W8G){m8G.beginPath();for(var d8G=0;d8G<W8G;d8G++){var N8G=U8G.graphicsData[d8G],f8G=N8G.shape;if(N8G.type===q8G.SHAPES.POLY){N8G=f8G.points;m8G.moveTo(N8G[0],N8G[1]);for(var B8G=1;B8G<N8G.length/2;B8G++){m8G.lineTo(N8G[2*B8G],N8G[2*B8G+1]);}N8G[0]===N8G[N8G.length-2]&&N8G[1]===N8G[N8G.length-1]&&m8G.closePath();}else if(N8G.type===q8G.SHAPES.RECT){m8G.rect(f8G.x,f8G.y,f8G.width,f8G.height),m8G.closePath();}else if(N8G.type===q8G.SHAPES.CIRC){m8G.arc(f8G.x,f8G.y,f8G.radius,0,2*Math.PI),m8G.closePath();}else if(N8G.type===q8G.SHAPES.ELIP){var Q8G=2*f8G.width,B8G=2*f8G.height,N8G=f8G.x-Q8G/2,f8G=f8G.y-B8G/2,z8G=Q8G/2*.5522848,l8G=B8G/2*.5522848,D8G=N8G+Q8G,X8G=f8G+B8G,Q8G=N8G+Q8G/2,B8G=f8G+B8G/2;m8G.moveTo(N8G,B8G);m8G.bezierCurveTo(N8G,B8G-l8G,Q8G-z8G,f8G,Q8G,f8G);m8G.bezierCurveTo(Q8G+z8G,f8G,D8G,B8G-l8G,D8G,B8G);m8G.bezierCurveTo(D8G,B8G+l8G,Q8G+z8G,X8G,Q8G,X8G);m8G.bezierCurveTo(Q8G-z8G,X8G,N8G,B8G+l8G,N8G,B8G);m8G.closePath();}else{N8G.type===q8G.SHAPES.RREC&&(N8G=f8G.x,B8G=f8G.y,z8G=f8G.width,l8G=f8G.height,f8G=f8G.radius,D8G=Math.min(z8G,l8G)/2|0,f8G=f8G>D8G?D8G:f8G,m8G.moveTo(N8G,B8G+f8G),m8G.lineTo(N8G,B8G+l8G-f8G),m8G.quadraticCurveTo(N8G,B8G+l8G,N8G+f8G,B8G+l8G),m8G.lineTo(N8G+z8G-f8G,B8G+l8G),m8G.quadraticCurveTo(N8G+z8G,B8G+l8G,N8G+z8G,B8G+l8G-f8G),m8G.lineTo(N8G+z8G,B8G+f8G),m8G.quadraticCurveTo(N8G+z8G,B8G,N8G+z8G-f8G,B8G),m8G.lineTo(N8G+f8G,B8G),m8G.quadraticCurveTo(N8G,B8G,N8G,B8G+f8G),m8G.closePath());}}}};j8G.prototype.popMask=function(G8G){G8G.context.restore();G8G.invalidateBlendMode();};j8G.prototype.destroy=function(){};return j8G;}();E8G.default=Z8G;},{"../../../const":46}],79:[function(e8G,P8G,F8G){F8G.__esModule=true;var p8G=function(){function v8G(a8G,i8G){for(var R8G=0;R8G<i8G.length;R8G++){var L8G=i8G[R8G];L8G.enumerable=L8G.enumerable||false;L8G.configurable=true;"value"in L8G&&(L8G.writable=true);Object.defineProperty(a8G,L8G.key,L8G);}}return function(x8G,k8G,w8G){k8G&&v8G(x8G.prototype,k8G);w8G&&v8G(x8G,w8G);return x8G;};}(),V8G=(e8G=e8G("../../../settings"))&&e8G.__esModule?e8G:{default:e8G};e8G=function(){function Y8G(A8G,r2G,s2G){if(!(this instanceof Y8G)){throw new TypeError("Cannot call a class as a function");}this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");this.resolution=s2G||V8G.default.RESOLUTION;this.resize(A8G,r2G);}Y8G.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0);this.context.clearRect(0,0,this.canvas.width,this.canvas.height);};Y8G.prototype.resize=function(n2G,I2G){this.canvas.width=n2G*this.resolution;this.canvas.height=I2G*this.resolution;};Y8G.prototype.destroy=function(){this.canvas=this.context=null;};p8G(Y8G,[{key:"width",get:function(){return this.canvas.width;},set:function(T2G){this.canvas.width=T2G;}},{key:"height",get:function(){return this.canvas.height;},set:function(c2G){this.canvas.height=c2G;}}]);return Y8G;}();F8G.default=e8G;},{"../../../settings":101}],80:[function(O2G,g2G,M2G){function o2G(H2G){var h2G=document.createElement("canvas");h2G.width=6;h2G.height=1;var y2G=h2G.getContext("2d");y2G.fillStyle=H2G;y2G.fillRect(0,0,6,1);return h2G;}M2G.__esModule=true;M2G.default=function(){if("undefined"===typeof document){return false;}var q2G=o2G("#ff00ff"),E2G=o2G("#ffff00"),Z2G=document.createElement("canvas");Z2G.width=6;Z2G.height=1;Z2G=Z2G.getContext("2d");Z2G.globalCompositeOperation="multiply";Z2G.drawImage(q2G,0,0);Z2G.drawImage(E2G,2,0);q2G=Z2G.getImageData(2,0,1,1);if(!q2G){return false;}q2G=q2G.data;return 255===q2G[0]&&0===q2G[1]&&0===q2G[2];};},{}],81:[function(j2G,K2G,J2G){J2G.__esModule=true;J2G.default=function(){var b2G=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];(0,S2G.default)()?(b2G[u2G.BLEND_MODES.NORMAL]="source-over",b2G[u2G.BLEND_MODES.ADD]="lighter",b2G[u2G.BLEND_MODES.MULTIPLY]="multiply",b2G[u2G.BLEND_MODES.SCREEN]="screen",b2G[u2G.BLEND_MODES.OVERLAY]="overlay",b2G[u2G.BLEND_MODES.DARKEN]="darken",b2G[u2G.BLEND_MODES.LIGHTEN]="lighten",b2G[u2G.BLEND_MODES.COLOR_DODGE]="color-dodge",b2G[u2G.BLEND_MODES.COLOR_BURN]="color-burn",b2G[u2G.BLEND_MODES.HARD_LIGHT]="hard-light",b2G[u2G.BLEND_MODES.SOFT_LIGHT]="soft-light",b2G[u2G.BLEND_MODES.DIFFERENCE]="difference",b2G[u2G.BLEND_MODES.EXCLUSION]="exclusion",b2G[u2G.BLEND_MODES.HUE]="hue",b2G[u2G.BLEND_MODES.SATURATION]="saturate",b2G[u2G.BLEND_MODES.COLOR]="color",b2G[u2G.BLEND_MODES.LUMINOSITY]="luminosity"):(b2G[u2G.BLEND_MODES.NORMAL]="source-over",b2G[u2G.BLEND_MODES.ADD]="lighter",b2G[u2G.BLEND_MODES.MULTIPLY]="source-over",b2G[u2G.BLEND_MODES.SCREEN]="source-over",b2G[u2G.BLEND_MODES.OVERLAY]="source-over",b2G[u2G.BLEND_MODES.DARKEN]="source-over",b2G[u2G.BLEND_MODES.LIGHTEN]="source-over",b2G[u2G.BLEND_MODES.COLOR_DODGE]="source-over",b2G[u2G.BLEND_MODES.COLOR_BURN]="source-over",b2G[u2G.BLEND_MODES.HARD_LIGHT]="source-over",b2G[u2G.BLEND_MODES.SOFT_LIGHT]="source-over",b2G[u2G.BLEND_MODES.DIFFERENCE]="source-over",b2G[u2G.BLEND_MODES.EXCLUSION]="source-over",b2G[u2G.BLEND_MODES.HUE]="source-over",b2G[u2G.BLEND_MODES.SATURATION]="source-over",b2G[u2G.BLEND_MODES.COLOR]="source-over",b2G[u2G.BLEND_MODES.LUMINOSITY]="source-over");b2G[u2G.BLEND_MODES.NORMAL_NPM]=b2G[u2G.BLEND_MODES.NORMAL];b2G[u2G.BLEND_MODES.ADD_NPM]=b2G[u2G.BLEND_MODES.ADD];b2G[u2G.BLEND_MODES.SCREEN_NPM]=b2G[u2G.BLEND_MODES.SCREEN];return b2G;};var u2G=j2G("../../../const"),S2G=(j2G=j2G("./canUseNewCanvasBlendModes"))&&j2G.__esModule?j2G:{default:j2G};},{"../../../const":46,"./canUseNewCanvasBlendModes":80}],82:[function(t2G,B2G,N2G){N2G.__esModule=true;var f2G=t2G("../../const"),C2G=(t2G=t2G("../../settings"))&&t2G.__esModule?t2G:{default:t2G};t2G=function(){function m2G(l2G){if(!(this instanceof m2G)){throw new TypeError("Cannot call a class as a function");}this.renderer=l2G;this.checkCount=this.count=0;this.maxIdle=C2G.default.GC_MAX_IDLE;this.checkCountMax=C2G.default.GC_MAX_CHECK_COUNT;this.mode=C2G.default.GC_MODE;}m2G.prototype.update=function(){this.count++;this.mode!==f2G.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()));};m2G.prototype.run=function(){var W2G=this;for(var D2G=this.renderer.textureManager,Q2G=D2G._managedTextures,z2G=false,d2G=0;d2G<Q2G.length;d2G++){var X2G=Q2G[d2G];!X2G._glRenderTargets&&W2G.count-X2G.touched>W2G.maxIdle&&(D2G.destroyTexture(X2G,true),Q2G[d2G]=null,z2G=true);}if(z2G){for(z2G=D2G=0;z2G<Q2G.length;z2G++){null!==Q2G[z2G]&&(Q2G[D2G++]=Q2G[z2G]);}Q2G.length=D2G;}};m2G.prototype.unload=function(G2G){var e2G=this;var U2G=this.renderer.textureManager;G2G._texture&&G2G._texture._glRenderTargets&&U2G.destroyTexture(G2G._texture,true);for(U2G=G2G.children.length-1;0<=U2G;U2G--){e2G.unload(G2G.children[U2G]);}};return m2G;}();N2G.default=t2G;},{"../../const":46,"../../settings":101}],83:[function(F2G,p2G,P2G){P2G.__esModule=true;var v2G=F2G("pixi-gl-core"),V2G=F2G("../../const"),L2G=(p2G=F2G("./utils/RenderTarget"))&&p2G.__esModule?p2G:{default:p2G},R2G=F2G("../../utils");F2G=function(){function i2G(a2G){if(!(this instanceof i2G)){throw new TypeError("Cannot call a class as a function");}this.renderer=a2G;this.gl=a2G.gl;this._managedTextures=[];}i2G.prototype.bindTexture=function(){};i2G.prototype.getTexture=function(){};i2G.prototype.updateTexture=function(x2G,w2G){var k2G=this.gl,r0G=!!x2G._glRenderTargets;if(!x2G.hasLoaded){return null;}var A2G=this.renderer.boundTextures;if(void 0===w2G){for(var Y2G=w2G=0;Y2G<A2G.length;++Y2G){if(A2G[Y2G]===x2G){w2G=Y2G;break;}}}A2G[w2G]=x2G;k2G.activeTexture(k2G.TEXTURE0+w2G);(k2G=x2G._glTextures[this.renderer.CONTEXT_UID])?r0G?x2G._glRenderTargets[this.renderer.CONTEXT_UID].resize(x2G.width,x2G.height):k2G.upload(x2G.source):(r0G?(w2G=new L2G.default(this.gl,x2G.width,x2G.height,x2G.scaleMode,x2G.resolution),w2G.resize(x2G.width,x2G.height),x2G._glRenderTargets[this.renderer.CONTEXT_UID]=w2G,k2G=w2G.texture):(k2G=new v2G.GLTexture(this.gl,null,null,null,null),k2G.bind(w2G),k2G.premultiplyAlpha=true,k2G.upload(x2G.source)),x2G._glTextures[this.renderer.CONTEXT_UID]=k2G,x2G.on("update",this.updateTexture,this),x2G.on("dispose",this.destroyTexture,this),this._managedTextures.push(x2G),x2G.isPowerOfTwo?(x2G.mipmap&&k2G.enableMipmap(),x2G.wrapMode===V2G.WRAP_MODES.CLAMP?k2G.enableWrapClamp():x2G.wrapMode===V2G.WRAP_MODES.REPEAT?k2G.enableWrapRepeat():k2G.enableWrapMirrorRepeat()):k2G.enableWrapClamp(),x2G.scaleMode===V2G.SCALE_MODES.NEAREST?k2G.enableNearestScaling():k2G.enableLinearScaling());return k2G;};i2G.prototype.destroyTexture=function(s0G,c0G){s0G=s0G.baseTexture||s0G;if(s0G.hasLoaded){var n0G=this.renderer.CONTEXT_UID,T0G=s0G._glTextures,I0G=s0G._glRenderTargets;T0G[n0G]&&(this.renderer.unbindTexture(s0G),T0G[n0G].destroy(),s0G.off("update",this.updateTexture,this),s0G.off("dispose",this.destroyTexture,this),delete T0G[n0G],c0G||(s0G=this._managedTextures.indexOf(s0G),-1!==s0G&&(0,R2G.removeItems)(this._managedTextures,s0G,1)));I0G&&I0G[n0G]&&(I0G[n0G].destroy(),delete I0G[n0G]);}};i2G.prototype.removeAll=function(){var M0G=this;for(var o0G=0;o0G<this._managedTextures.length;++o0G){var O0G=M0G._managedTextures[o0G];O0G._glTextures[M0G.renderer.CONTEXT_UID]&&delete O0G._glTextures[M0G.renderer.CONTEXT_UID];}};i2G.prototype.destroy=function(){var g0G=this;for(var h0G=0;h0G<this._managedTextures.length;++h0G){var y0G=g0G._managedTextures[h0G];g0G.destroyTexture(y0G,true);y0G.off("update",g0G.updateTexture,g0G);y0G.off("dispose",g0G.destroyTexture,g0G);}this._managedTextures=null;};return i2G;}();P2G.default=F2G;},{"../../const":46,"../../utils":125,"./utils/RenderTarget":96,"pixi-gl-core":15}],84:[function(q0G,H0G,J0G){function Z0G(X0G){return X0G&&X0G.__esModule?X0G:{default:X0G};}function d0G(U0G,W0G){if("function"!==typeof W0G&&null!==W0G){throw new TypeError("Super expression must either be null or a function, not "+typeof W0G);}U0G.prototype=Object.create(W0G&&W0G.prototype,{constructor:{value:U0G,enumerable:false,writable:true,configurable:true}});W0G&&(Object.setPrototypeOf?Object.setPrototypeOf(U0G,W0G):U0G.__proto__=W0G);}J0G.__esModule=true;H0G=q0G("../SystemRenderer");var u0G=Z0G(H0G);H0G=q0G("./managers/MaskManager");var S0G=Z0G(H0G);H0G=q0G("./managers/StencilManager");var K0G=Z0G(H0G);H0G=q0G("./managers/FilterManager");var b0G=Z0G(H0G);H0G=q0G("./utils/RenderTarget");var t0G=Z0G(H0G);H0G=q0G("./utils/ObjectRenderer");var j0G=Z0G(H0G);H0G=q0G("./TextureManager");var N0G=Z0G(H0G);H0G=q0G("../../textures/BaseTexture");var f0G=Z0G(H0G);H0G=q0G("./TextureGarbageCollector");var B0G=Z0G(H0G);H0G=q0G("./WebGLState");var m0G=Z0G(H0G);H0G=q0G("./utils/mapWebGLDrawModesToPixi");var l0G=Z0G(H0G);H0G=q0G("./utils/validateContext");var Q0G=Z0G(H0G);H0G=q0G("../../utils");var z0G=q0G("pixi-gl-core"),E0G=Z0G(z0G),D0G=q0G("../../const"),C0G=0;q0G=function(e0G){function G0G(F0G,p0G,V0G){if(!(this instanceof G0G)){throw new TypeError("Cannot call a class as a function");}F0G=e0G.call(this,"WebGL",F0G,p0G,V0G);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}F0G=!F0G||"object"!==typeof F0G&&"function"!==typeof F0G?this:F0G;F0G.legacy=F0G.options.legacy;F0G.legacy&&(E0G.default.VertexArrayObject.FORCE_NATIVE=true);F0G.type=D0G.RENDERER_TYPE.WEBGL;F0G.handleContextLost=F0G.handleContextLost.bind(F0G);F0G.handleContextRestored=F0G.handleContextRestored.bind(F0G);F0G.view.addEventListener("webglcontextlost",F0G.handleContextLost,false);F0G.view.addEventListener("webglcontextrestored",F0G.handleContextRestored,false);F0G._contextOptions={alpha:F0G.transparent,antialias:F0G.options.antialias,premultipliedAlpha:F0G.transparent&&"notMultiplied"!==F0G.transparent,stencil:true,preserveDrawingBuffer:F0G.options.preserveDrawingBuffer,powerPreference:F0G.options.powerPreference};F0G._backgroundColorRgba[3]=F0G.transparent?0:1;F0G.maskManager=new S0G.default(F0G);F0G.stencilManager=new K0G.default(F0G);F0G.emptyRenderer=new j0G.default(F0G);F0G.currentRenderer=F0G.emptyRenderer;F0G.textureManager=null;F0G.filterManager=null;F0G.initPlugins();F0G.options.context&&(0,Q0G.default)(F0G.options.context);F0G.gl=F0G.options.context||E0G.default.createContext(F0G.view,F0G._contextOptions);F0G.CONTEXT_UID=C0G++;F0G.state=new m0G.default(F0G.gl);F0G.renderingToScreen=true;F0G.boundTextures=null;F0G._activeShader=null;F0G._activeVao=null;F0G._activeRenderTarget=null;F0G._initContext();F0G.drawModes=(0,l0G.default)(F0G.gl);F0G._nextTextureLocation=0;F0G.setBlendMode(0);return F0G;}d0G(G0G,e0G);G0G.prototype._initContext=function(){var L0G=this;var P0G=this.gl;P0G.isContextLost()&&P0G.getExtension("WEBGL_lose_context")&&P0G.getExtension("WEBGL_lose_context").restoreContext();var R0G=P0G.getParameter(P0G.MAX_TEXTURE_IMAGE_UNITS);this._activeVao=this._activeShader=null;this.boundTextures=Array(R0G);this.emptyTextures=Array(R0G);this.textureManager=new N0G.default(this);this.filterManager=new b0G.default(this);this.textureGC=new B0G.default(this);this.state.resetToDefault();this.rootRenderTarget=new t0G.default(P0G,this.width,this.height,null,this.resolution,true);this.rootRenderTarget.clearColor=this._backgroundColorRgba;this.bindRenderTarget(this.rootRenderTarget);var x0G=new E0G.default.GLTexture.fromData(P0G,null,1,1),i0G={_glTextures:{}};i0G._glTextures[this.CONTEXT_UID]={};for(var v0G=0;v0G<R0G;v0G++){var a0G=new f0G.default();a0G._glTextures[L0G.CONTEXT_UID]=x0G;L0G.boundTextures[v0G]=i0G;L0G.emptyTextures[v0G]=a0G;L0G.bindTexture(null,v0G);}this.emit("context",P0G);this.resize(this.screen.width,this.screen.height);};G0G.prototype.render=function(k0G,w0G,A0G,r3G,Y0G){this.renderingToScreen=!w0G;this.emit("prerender");this.gl&&!this.gl.isContextLost()&&(this._nextTextureLocation=0,w0G||(this._lastObjectRendered=k0G),Y0G||(Y0G=k0G.parent,k0G.parent=this._tempDisplayObjectParent,k0G.updateTransform(),k0G.parent=Y0G),this.bindRenderTexture(w0G,r3G),this.currentRenderer.start(),(void 0!==A0G?A0G:this.clearBeforeRender)&&this._activeRenderTarget.clear(),k0G.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender"));};G0G.prototype.setObjectRenderer=function(s3G){this.currentRenderer!==s3G&&(this.currentRenderer.stop(),this.currentRenderer=s3G,this.currentRenderer.start());};G0G.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer);};G0G.prototype.resize=function(n3G,I3G){u0G.default.prototype.resize.call(this,n3G,I3G);this.rootRenderTarget.resize(n3G,I3G);this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(true)));};G0G.prototype.setBlendMode=function(T3G){this.state.setBlendMode(T3G);};G0G.prototype.clear=function(c3G){this._activeRenderTarget.clear(c3G);};G0G.prototype.setTransform=function(M3G){this._activeRenderTarget.transform=M3G;};G0G.prototype.clearRenderTexture=function(o3G,O3G){(o3G=o3G.baseTexture._glRenderTargets[this.CONTEXT_UID])&&o3G.clear(O3G);return this;};G0G.prototype.bindRenderTexture=function(h3G,y3G){var g3G;h3G?(g3G=h3G.baseTexture,g3G._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(g3G,0),this.unbindTexture(g3G),g3G=g3G._glRenderTargets[this.CONTEXT_UID],g3G.setFrame(h3G.frame)):g3G=this.rootRenderTarget;g3G.transform=y3G;this.bindRenderTarget(g3G);return this;};G0G.prototype.bindRenderTarget=function(H3G){H3G!==this._activeRenderTarget&&(this._activeRenderTarget=H3G,H3G.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=H3G.projectionMatrix.toArray(true)),this.stencilManager.setMaskStack(H3G.stencilMaskStack));return this;};G0G.prototype.bindShader=function(q3G,Z3G){this._activeShader!==q3G&&(this._activeShader=q3G,q3G.bind(),false!==Z3G&&(q3G.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(true)));return this;};G0G.prototype.bindTexture=function(u3G,j3G,E3G){var S3G=this;u3G=u3G||this.emptyTextures[j3G];u3G=u3G.baseTexture||u3G;u3G.touched=this.textureGC.count;if(E3G){j3G=j3G||0;}else{for(E3G=0;E3G<this.boundTextures.length;E3G++){if(S3G.boundTextures[E3G]===u3G){return E3G;}}void 0===j3G&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,j3G=this.boundTextures.length-this._nextTextureLocation-1);}E3G=this.gl;var J3G=u3G._glTextures[this.CONTEXT_UID];J3G?(this.boundTextures[j3G]=u3G,E3G.activeTexture(E3G.TEXTURE0+j3G),E3G.bindTexture(E3G.TEXTURE_2D,J3G.texture)):this.textureManager.updateTexture(u3G,j3G);return j3G;};G0G.prototype.unbindTexture=function(C3G){var b3G=this;var t3G=this.gl;C3G=C3G.baseTexture||C3G;for(var K3G=0;K3G<this.boundTextures.length;K3G++){b3G.boundTextures[K3G]===C3G&&(b3G.boundTextures[K3G]=b3G.emptyTextures[K3G],t3G.activeTexture(t3G.TEXTURE0+K3G),t3G.bindTexture(t3G.TEXTURE_2D,b3G.emptyTextures[K3G]._glTextures[b3G.CONTEXT_UID].texture));}return this;};G0G.prototype.createVao=function(){return new E0G.default.VertexArrayObject(this.gl,this.state.attribState);};G0G.prototype.bindVao=function(N3G){if(this._activeVao===N3G){return this;}N3G?N3G.bind():this._activeVao&&this._activeVao.unbind();this._activeVao=N3G;return this;};G0G.prototype.reset=function(){var B3G=this;this.setObjectRenderer(this.emptyRenderer);this.bindVao(null);this._activeShader=null;this._activeRenderTarget=this.rootRenderTarget;for(var f3G=0;f3G<this.boundTextures.length;f3G++){B3G.boundTextures[f3G]=B3G.emptyTextures[f3G];}this.rootRenderTarget.activate();this.state.resetToDefault();return this;};G0G.prototype.handleContextLost=function(m3G){m3G.preventDefault();};G0G.prototype.handleContextRestored=function(){this.textureManager.removeAll();this.filterManager.destroy(true);this._initContext();};G0G.prototype.destroy=function(l3G){this.destroyPlugins();this.view.removeEventListener("webglcontextlost",this.handleContextLost);this.view.removeEventListener("webglcontextrestored",this.handleContextRestored);this.textureManager.destroy();e0G.prototype.destroy.call(this,l3G);this.uid=0;this.maskManager.destroy();this.stencilManager.destroy();this.filterManager.destroy();this._contextOptions=this.handleContextRestored=this.handleContextLost=this.currentRenderer=this.textureManager=this.filterManager=this.maskManager=null;this.gl.useProgram(null);this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext();this.gl=null;};return G0G;}(u0G.default);J0G.default=q0G;H0G.pluginTarget.mixin(q0G);},{"../../const":46,"../../textures/BaseTexture":112,"../../utils":125,"../SystemRenderer":76,"./TextureGarbageCollector":82,"./TextureManager":83,"./WebGLState":85,"./managers/FilterManager":90,"./managers/MaskManager":91,"./managers/StencilManager":92,"./utils/ObjectRenderer":94,"./utils/RenderTarget":96,"./utils/mapWebGLDrawModesToPixi":99,"./utils/validateContext":100,"pixi-gl-core":15}],85:[function(Q3G,d3G,z3G){z3G.__esModule=true;var D3G=(Q3G=Q3G("./utils/mapWebGLBlendModesToPixi"))&&Q3G.__esModule?Q3G:{default:Q3G};Q3G=function(){function X3G(W3G){if(!(this instanceof X3G)){throw new TypeError("Cannot call a class as a function");}this.activeState=new Uint8Array(16);this.defaultState=new Uint8Array(16);this.defaultState[0]=1;this.stackIndex=0;this.stack=[];this.gl=W3G;this.maxAttribs=W3G.getParameter(W3G.MAX_VERTEX_ATTRIBS);this.attribState={tempAttribState:Array(this.maxAttribs),attribState:Array(this.maxAttribs)};this.blendModes=(0,D3G.default)(W3G);this.nativeVaoExtension=W3G.getExtension("OES_vertex_array_object")||W3G.getExtension("MOZ_OES_vertex_array_object")||W3G.getExtension("WEBKIT_OES_vertex_array_object");}X3G.prototype.push=function(){var e3G=this;var G3G=this.stack[this.stackIndex];G3G||(G3G=this.stack[this.stackIndex]=new Uint8Array(16));++this.stackIndex;for(var U3G=0;U3G<this.activeState.length;U3G++){G3G[U3G]=e3G.activeState[U3G];}};X3G.prototype.pop=function(){var F3G=this.stack[--this.stackIndex];this.setState(F3G);};X3G.prototype.setState=function(p3G){this.setBlend(p3G[0]);this.setDepthTest(p3G[1]);this.setFrontFace(p3G[2]);this.setCullFace(p3G[3]);this.setBlendMode(p3G[4]);};X3G.prototype.setBlend=function(V3G){V3G=V3G?1:0;this.activeState[0]!==V3G&&(this.activeState[0]=V3G,this.gl[V3G?"enable":"disable"](this.gl.BLEND));};X3G.prototype.setBlendMode=function(P3G){P3G!==this.activeState[4]&&(this.activeState[4]=P3G,P3G=this.blendModes[P3G],2===P3G.length?this.gl.blendFunc(P3G[0],P3G[1]):this.gl.blendFuncSeparate(P3G[0],P3G[1],P3G[2],P3G[3]));};X3G.prototype.setDepthTest=function(v3G){v3G=v3G?1:0;this.activeState[1]!==v3G&&(this.activeState[1]=v3G,this.gl[v3G?"enable":"disable"](this.gl.DEPTH_TEST));};X3G.prototype.setCullFace=function(L3G){L3G=L3G?1:0;this.activeState[3]!==L3G&&(this.activeState[3]=L3G,this.gl[L3G?"enable":"disable"](this.gl.CULL_FACE));};X3G.prototype.setFrontFace=function(R3G){R3G=R3G?1:0;this.activeState[2]!==R3G&&(this.activeState[2]=R3G,this.gl.frontFace(this.gl[R3G?"CW":"CCW"]));};X3G.prototype.resetAttributes=function(){var a3G=this;for(var i3G=0;i3G<this.attribState.tempAttribState.length;i3G++){a3G.attribState.tempAttribState[i3G]=0;}for(i3G=0;i3G<this.attribState.attribState.length;i3G++){a3G.attribState.attribState[i3G]=0;}for(i3G=1;i3G<this.maxAttribs;i3G++){a3G.gl.disableVertexAttribArray(i3G);}};X3G.prototype.resetToDefault=function(){var k3G=this;this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null);this.resetAttributes();for(var x3G=0;x3G<this.activeState.length;++x3G){k3G.activeState[x3G]=32;}this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,false);this.setState(this.defaultState);};return X3G;}();z3G.default=Q3G;},{"./utils/mapWebGLBlendModesToPixi":98}],86:[function(w3G,Y3G,r5G){r5G.__esModule=true;var s5G=function(){function M5G(h5G,g5G){for(var O5G=0;O5G<g5G.length;O5G++){var o5G=g5G[O5G];o5G.enumerable=o5G.enumerable||false;o5G.configurable=true;"value"in o5G&&(o5G.writable=true);Object.defineProperty(h5G,o5G.key,o5G);}}return function(y5G,H5G,q5G){H5G&&M5G(y5G.prototype,H5G);q5G&&M5G(y5G,q5G);return y5G;};}(),n5G=(Y3G=w3G("./extractUniformsFromSrc"))&&Y3G.__esModule?Y3G:{default:Y3G},I5G=w3G("../../../utils"),T5G=w3G("../../../const"),c5G=(w3G=w3G("../../../settings"))&&w3G.__esModule?w3G:{default:w3G},A3G={};w3G=function(){function Z5G(j5G,J5G,S5G){var E5G=this;if(!(this instanceof Z5G)){throw new TypeError("Cannot call a class as a function");}this.vertexSrc=j5G||Z5G.defaultVertexSrc;this.fragmentSrc=J5G||Z5G.defaultFragmentSrc;this._blendMode=T5G.BLEND_MODES.NORMAL;this.uniformData=S5G||(0,n5G.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler");this.uniforms={};for(var u5G in E5G.uniformData){E5G.uniforms[u5G]=E5G.uniformData[u5G].value,E5G.uniformData[u5G].type&&(E5G.uniformData[u5G].type=E5G.uniformData[u5G].type.toLowerCase());}this.glShaders={};A3G[this.vertexSrc+this.fragmentSrc]||(A3G[this.vertexSrc+this.fragmentSrc]=(0,I5G.uid)());this.glShaderKey=A3G[this.vertexSrc+this.fragmentSrc];this.padding=4;this.resolution=c5G.default.RESOLUTION;this.autoFit=this.enabled=true;}Z5G.prototype.apply=function(K5G,b5G,t5G,C5G,N5G){K5G.applyFilter(this,b5G,t5G,C5G);};s5G(Z5G,[{key:"blendMode",get:function(){return this._blendMode;},set:function(f5G){this._blendMode=f5G;}}],[{key:"defaultVertexSrc",get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord ;\n}";}},{key:"defaultFragmentSrc",get:function(){return"varying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nuniform sampler2D uSampler;\nuniform sampler2D filterSampler;\nvoid main(void){\n   vec4 masky = texture2D(filterSampler, vFilterCoord);\n   vec4 sample = texture2D(uSampler, vTextureCoord);\n   vec4 color;\n   if(mod(vFilterCoord.x, 1.0) > 0.5)\n   {\n     color = vec4(1.0, 0.0, 0.0, 1.0);\n   }\n   else\n   {\n     color = vec4(0.0, 1.0, 0.0, 1.0);\n   }\n   gl_FragColor = mix(sample, masky, 0.5);\n   gl_FragColor *= sample.a;\n}";}}]);return Z5G;}();r5G.default=w3G;},{"../../../const":46,"../../../settings":101,"../../../utils":125,"./extractUniformsFromSrc":87}],87:[function(B5G,z5G,m5G){function l5G(W5G){var F5G=/^(projectionMatrix|uSampler|filterArea|filterClamp)$/,G5G={},X5G;W5G=W5G.replace(/\s+/g," ").split(/\s*;\s*/);for(var U5G=0;U5G<W5G.length;U5G++){var D5G=W5G[U5G].trim();if(-1<D5G.indexOf("uniform")){X5G=D5G.split(" ");var D5G=X5G[1],d5G=X5G[2],e5G=1;-1<d5G.indexOf("[")&&(X5G=d5G.split(/\[|]/),d5G=X5G[0],e5G*=Number(X5G[1]));d5G.match(F5G)||(G5G[d5G]={value:Q5G(D5G,e5G),name:d5G,type:D5G});}}return G5G;}m5G.__esModule=true;m5G.default=function(p5G,V5G,P5G){p5G=l5G(p5G,P5G);V5G=l5G(V5G,P5G);return Object.assign(p5G,V5G);};B5G=B5G("pixi-gl-core");var Q5G=(B5G&&B5G.__esModule?B5G:{default:B5G}).default.shader.defaultValue;},{"pixi-gl-core":15}],88:[function(R5G,i5G,v5G){v5G.__esModule=true;v5G.calculateScreenSpaceMatrix=function(a5G,k5G,x5G){a5G=a5G.identity();a5G.translate(k5G.x/x5G.width,k5G.y/x5G.height);a5G.scale(x5G.width,x5G.height);return a5G;};v5G.calculateNormalizedScreenSpaceMatrix=function(w5G,Y5G,A5G){w5G=w5G.identity();w5G.translate(Y5G.x/A5G.width,Y5G.y/A5G.height);w5G.scale(A5G.width/Y5G.width,A5G.height/Y5G.height);return w5G;};v5G.calculateSpriteMatrix=function(r9G,s9G,T9G,n9G){var I9G=n9G._texture.orig;r9G=r9G.set(T9G.width,0,0,T9G.height,s9G.x,s9G.y);s9G=n9G.worldTransform.copy(L5G.Matrix.TEMP_MATRIX);s9G.invert();r9G.prepend(s9G);r9G.scale(1/I9G.width,1/I9G.height);r9G.translate(n9G.anchor.x,n9G.anchor.y);return r9G;};var L5G=R5G("../../../math");},{"../../../math":70}],89:[function(c9G,M9G,o9G){function h9G(H9G,y9G){if("function"!==typeof y9G&&null!==y9G){throw new TypeError("Super expression must either be null or a function, not "+typeof y9G);}H9G.prototype=Object.create(y9G&&y9G.prototype,{constructor:{value:H9G,enumerable:false,writable:true,configurable:true}});y9G&&(Object.setPrototypeOf?Object.setPrototypeOf(H9G,y9G):H9G.__proto__=y9G);}o9G.__esModule=true;M9G=(M9G=c9G("../Filter"))&&M9G.__esModule?M9G:{default:M9G};var O9G=c9G("../../../../math");c9G("path");var g9G=(c9G=c9G("../../../../textures/TextureMatrix"))&&c9G.__esModule?c9G:{default:c9G};c9G=function(Z9G){function q9G(u9G){if(!(this instanceof q9G)){throw new TypeError("Cannot call a class as a function");}var j9G=new O9G.Matrix(),E9G;E9G=Z9G.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n");if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}E9G=!E9G||"object"!==typeof E9G&&"function"!==typeof E9G?this:E9G;u9G.renderable=false;E9G.maskSprite=u9G;E9G.maskMatrix=j9G;return E9G;}h9G(q9G,Z9G);q9G.prototype.apply=function(K9G,b9G,t9G){var S9G=this.maskSprite,J9G=this.maskSprite.texture;J9G.valid&&(J9G.transform||(J9G.transform=new g9G.default(J9G,0)),J9G.transform.update(),this.uniforms.mask=J9G,this.uniforms.otherMatrix=K9G.calculateSpriteMatrix(this.maskMatrix,S9G).prepend(J9G.transform.mapCoord),this.uniforms.alpha=S9G.worldAlpha,this.uniforms.maskClamp=J9G.transform.uClampFrame,K9G.applyFilter(this,b9G,t9G));};return q9G;}(M9G.default);o9G.default=c9G;},{"../../../../math":70,"../../../../textures/TextureMatrix":116,"../Filter":86,path:8}],90:[function(C9G,B9G,U9G){function f9G(e9G){return e9G&&e9G.__esModule?e9G:{default:e9G};}function G9G(p9G,F9G){if("function"!==typeof F9G&&null!==F9G){throw new TypeError("Super expression must either be null or a function, not "+typeof F9G);}p9G.prototype=Object.create(F9G&&F9G.prototype,{constructor:{value:p9G,enumerable:false,writable:true,configurable:true}});F9G&&(Object.setPrototypeOf?Object.setPrototypeOf(p9G,F9G):p9G.__proto__=F9G);}function W9G(V9G,P9G){if(!(V9G instanceof P9G)){throw new TypeError("Cannot call a class as a function");}}U9G.__esModule=true;B9G=C9G("./WebGLManager");B9G=f9G(B9G);var N9G=C9G("../utils/RenderTarget"),X9G=f9G(N9G),N9G=C9G("../utils/Quad"),d9G=f9G(N9G),D9G=C9G("../../../math"),N9G=C9G("../../../Shader"),Q9G=f9G(N9G),m9G=function(v9G){if(v9G&&v9G.__esModule){return v9G;}var L9G={};if(null!=v9G){for(var R9G in v9G){Object.prototype.hasOwnProperty.call(v9G,R9G)&&(L9G[R9G]=v9G[R9G]);}}L9G.default=v9G;return L9G;}(C9G("../filters/filterTransforms"));C9G=C9G("bit-twiddle");var l9G=f9G(C9G),z9G=function i9G(){W9G(this,i9G);this.renderTarget=null;this.sourceFrame=new D9G.Rectangle();this.destinationFrame=new D9G.Rectangle();this.filters=[];this.target=null;this.resolution=1;};C9G=function(x9G){function a9G(w9G){W9G(this,a9G);var k9G;k9G=x9G.call(this,w9G);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}k9G=!k9G||"object"!==typeof k9G&&"function"!==typeof k9G?this:k9G;k9G.gl=k9G.renderer.gl;k9G.quad=new d9G.default(k9G.gl,w9G.state.attribState);k9G.shaderCache={};k9G.pool={};k9G.filterData=null;k9G.managedFilters=[];return k9G;}G9G(a9G,x9G);a9G.prototype.pushFilter=function(M1G,I1G){var T1G=this.renderer,Y9G=this.filterData;if(!Y9G){var A9G=new z9G();A9G.sourceFrame=A9G.destinationFrame=this.renderer._activeRenderTarget.size;A9G.renderTarget=T1G._activeRenderTarget;this.filterData=this.renderer._activeRenderTarget.filterData=Y9G={index:0,stack:[A9G]};}(A9G=Y9G.stack[++Y9G.index])||(A9G=Y9G.stack[Y9G.index]=new z9G());var s1G=I1G[0].resolution,o1G=I1G[0].padding|0,n1G=M1G.filterArea||M1G.getBounds(true),r1G=A9G.sourceFrame,c1G=A9G.destinationFrame;r1G.x=(n1G.x*s1G|0)/s1G;r1G.y=(n1G.y*s1G|0)/s1G;r1G.width=(n1G.width*s1G|0)/s1G;r1G.height=(n1G.height*s1G|0)/s1G;Y9G.stack[0].renderTarget.transform||I1G[0].autoFit&&r1G.fit(Y9G.stack[0].destinationFrame);r1G.pad(o1G);c1G.width=r1G.width;c1G.height=r1G.height;Y9G=this.getPotRenderTarget(T1G.gl,r1G.width,r1G.height,s1G);A9G.target=M1G;A9G.filters=I1G;A9G.resolution=s1G;A9G.renderTarget=Y9G;Y9G.setFrame(c1G,r1G);T1G.bindRenderTarget(Y9G);Y9G.clear();};a9G.prototype.popFilter=function(){var E1G=this;var h1G=this.filterData,Z1G=h1G.stack[h1G.index-1],O1G=h1G.stack[h1G.index];this.quad.map(O1G.renderTarget.size,O1G.sourceFrame).upload();var H1G=O1G.filters;if(1===H1G.length){H1G[0].apply(this,O1G.renderTarget,Z1G.renderTarget,false,O1G),this.freePotRenderTarget(O1G.renderTarget);}else{var y1G=O1G.renderTarget,g1G=this.getPotRenderTarget(this.renderer.gl,O1G.sourceFrame.width,O1G.sourceFrame.height,O1G.resolution);g1G.setFrame(O1G.destinationFrame,O1G.sourceFrame);g1G.clear();var q1G;for(q1G=0;q1G<H1G.length-1;++q1G){H1G[q1G].apply(E1G,y1G,g1G,true,O1G);var u1G=y1G,y1G=g1G,g1G=u1G;}H1G[q1G].apply(this,y1G,Z1G.renderTarget,false,O1G);this.freePotRenderTarget(y1G);this.freePotRenderTarget(g1G);}h1G.index--;0===h1G.index&&(this.filterData=null);};a9G.prototype.applyFilter=function(j1G,t1G,b1G,C1G){var J1G=this.renderer,S1G=J1G.gl,K1G=j1G.glShaders[J1G.CONTEXT_UID];K1G||(j1G.glShaderKey?(K1G=this.shaderCache[j1G.glShaderKey],K1G||(K1G=new Q9G.default(this.gl,j1G.vertexSrc,j1G.fragmentSrc),j1G.glShaders[J1G.CONTEXT_UID]=this.shaderCache[j1G.glShaderKey]=K1G,this.managedFilters.push(j1G))):(K1G=j1G.glShaders[J1G.CONTEXT_UID]=new Q9G.default(this.gl,j1G.vertexSrc,j1G.fragmentSrc),this.managedFilters.push(j1G)),J1G.bindVao(null),this.quad.initVao(K1G));J1G.bindVao(this.quad.vao);J1G.bindRenderTarget(b1G);C1G&&(S1G.disable(S1G.SCISSOR_TEST),J1G.clear(),S1G.enable(S1G.SCISSOR_TEST));b1G===J1G.maskManager.scissorRenderTarget&&J1G.maskManager.pushScissorMask(null,J1G.maskManager.scissorData);J1G.bindShader(K1G);b1G=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=b1G;this.syncUniforms(K1G,j1G);J1G.state.setBlendMode(j1G.blendMode);S1G.activeTexture(S1G.TEXTURE0);S1G.bindTexture(S1G.TEXTURE_2D,t1G.texture.texture);this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0);S1G.bindTexture(S1G.TEXTURE_2D,b1G._glTextures[this.renderer.CONTEXT_UID].texture);};a9G.prototype.syncUniforms=function(m1G,B1G){var z1G=this;var D1G=B1G.uniformData;B1G=B1G.uniforms;var Q1G=1,N1G=void 0;if(m1G.uniforms.filterArea){var N1G=this.filterData.stack[this.filterData.index],l1G=m1G.uniforms.filterArea;l1G[0]=N1G.renderTarget.size.width;l1G[1]=N1G.renderTarget.size.height;l1G[2]=N1G.sourceFrame.x;l1G[3]=N1G.sourceFrame.y;m1G.uniforms.filterArea=l1G;}m1G.uniforms.filterClamp&&(N1G=N1G||this.filterData.stack[this.filterData.index],l1G=m1G.uniforms.filterClamp,l1G[0]=0,l1G[1]=0,l1G[2]=(N1G.sourceFrame.width-1)/N1G.renderTarget.size.width,l1G[3]=(N1G.sourceFrame.height-1)/N1G.renderTarget.size.height,m1G.uniforms.filterClamp=l1G);for(var f1G in D1G){N1G=D1G[f1G].type,"sampler2d"===N1G&&0!==B1G[f1G]?(B1G[f1G].baseTexture?m1G.uniforms[f1G]=z1G.renderer.bindTexture(B1G[f1G].baseTexture,Q1G):(m1G.uniforms[f1G]=Q1G,N1G=z1G.renderer.gl,z1G.renderer.boundTextures[Q1G]=z1G.renderer.emptyTextures[Q1G],N1G.activeTexture(N1G.TEXTURE0+Q1G),B1G[f1G].texture.bind()),Q1G++):"mat3"===N1G?m1G.uniforms[f1G]=void 0!==B1G[f1G].a?B1G[f1G].toArray(true):B1G[f1G]:"vec2"===N1G?void 0!==B1G[f1G].x?(N1G=m1G.uniforms[f1G]||new Float32Array(2),N1G[0]=B1G[f1G].x,N1G[1]=B1G[f1G].y,m1G.uniforms[f1G]=N1G):m1G.uniforms[f1G]=B1G[f1G]:"float"===N1G?m1G.uniforms.data[f1G].value!==D1G[f1G]&&(m1G.uniforms[f1G]=B1G[f1G]):m1G.uniforms[f1G]=B1G[f1G];}};a9G.prototype.getRenderTarget=function(d1G,X1G){d1G=this.filterData.stack[this.filterData.index];X1G=this.getPotRenderTarget(this.renderer.gl,d1G.sourceFrame.width,d1G.sourceFrame.height,X1G||d1G.resolution);X1G.setFrame(d1G.destinationFrame,d1G.sourceFrame);return X1G;};a9G.prototype.returnRenderTarget=function(W1G){this.freePotRenderTarget(W1G);};a9G.prototype.calculateScreenSpaceMatrix=function(G1G){var U1G=this.filterData.stack[this.filterData.index];return m9G.calculateScreenSpaceMatrix(G1G,U1G.sourceFrame,U1G.renderTarget.size);};a9G.prototype.calculateNormalizedScreenSpaceMatrix=function(F1G){var e1G=this.filterData.stack[this.filterData.index];return m9G.calculateNormalizedScreenSpaceMatrix(F1G,e1G.sourceFrame,e1G.renderTarget.size,e1G.destinationFrame);};a9G.prototype.calculateSpriteMatrix=function(V1G,P1G){var p1G=this.filterData.stack[this.filterData.index];return m9G.calculateSpriteMatrix(V1G,p1G.sourceFrame,p1G.renderTarget.size,P1G);};a9G.prototype.destroy=function(){for(var R1G=0<arguments.length&&void 0!==arguments[0]?arguments[0]:false,i1G=this.renderer,L1G=this.managedFilters,v1G=0;v1G<L1G.length;v1G++){R1G||L1G[v1G].glShaders[i1G.CONTEXT_UID].destroy(),delete L1G[v1G].glShaders[i1G.CONTEXT_UID];}this.shaderCache={};R1G?this.pool={}:this.emptyPool();};a9G.prototype.getPotRenderTarget=function(x1G,k1G,w1G,Y1G){k1G=l9G.default.nextPow2(k1G*Y1G);w1G=l9G.default.nextPow2(w1G*Y1G);var a1G=(k1G&65535)<<16|w1G&65535;this.pool[a1G]||(this.pool[a1G]=[]);a1G=this.pool[a1G].pop();if(!a1G){var A1G=this.renderer.boundTextures[0];x1G.activeTexture(x1G.TEXTURE0);a1G=new X9G.default(x1G,k1G,w1G,null,1);x1G.bindTexture(x1G.TEXTURE_2D,A1G._glTextures[this.renderer.CONTEXT_UID].texture);}a1G.resolution=Y1G;a1G.defaultFrame.width=a1G.size.width=k1G/Y1G;a1G.defaultFrame.height=a1G.size.height=w1G/Y1G;return a1G;};a9G.prototype.emptyPool=function(){var n4G=this;for(var I4G in n4G.pool){var r4G=n4G.pool[I4G];if(r4G){for(var s4G=0;s4G<r4G.length;s4G++){r4G[s4G].destroy(true);}}}this.pool={};};a9G.prototype.freePotRenderTarget=function(T4G){this.pool[(T4G.size.width*T4G.resolution&65535)<<16|T4G.size.height*T4G.resolution&65535].push(T4G);};return a9G;}(B9G.default);U9G.default=C9G;},{"../../../Shader":44,"../../../math":70,"../filters/filterTransforms":88,"../utils/Quad":95,"../utils/RenderTarget":96,"./WebGLManager":93,"bit-twiddle":1}],91:[function(c4G,M4G,o4G){function g4G(y4G,h4G){if("function"!==typeof h4G&&null!==h4G){throw new TypeError("Super expression must either be null or a function, not "+typeof h4G);}y4G.prototype=Object.create(h4G&&h4G.prototype,{constructor:{value:y4G,enumerable:false,writable:true,configurable:true}});h4G&&(Object.setPrototypeOf?Object.setPrototypeOf(y4G,h4G):y4G.__proto__=h4G);}o4G.__esModule=true;M4G=(M4G=c4G("./WebGLManager"))&&M4G.__esModule?M4G:{default:M4G};var O4G=(c4G=c4G("../filters/spriteMask/SpriteMaskFilter"))&&c4G.__esModule?c4G:{default:c4G};c4G=function(q4G){function H4G(Z4G){if(!(this instanceof H4G)){throw new TypeError("Cannot call a class as a function");}Z4G=q4G.call(this,Z4G);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}Z4G=!Z4G||"object"!==typeof Z4G&&"function"!==typeof Z4G?this:Z4G;Z4G.scissor=false;Z4G.scissorData=null;Z4G.scissorRenderTarget=null;Z4G.enableScissor=true;Z4G.alphaMaskPool=[];Z4G.alphaMaskIndex=0;return Z4G;}g4G(H4G,q4G);H4G.prototype.pushMask=function(j4G,u4G){if(u4G.texture){this.pushSpriteMask(j4G,u4G);}else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&u4G.isFastRect()){var E4G=u4G.worldTransform,E4G=Math.atan2(E4G.b,E4G.a),E4G=Math.round(180/Math.PI*E4G);E4G%90?this.pushStencilMask(u4G):this.pushScissorMask(j4G,u4G);}else{this.pushStencilMask(u4G);}};H4G.prototype.popMask=function(S4G,J4G){J4G.texture?this.popSpriteMask(S4G,J4G):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(S4G,J4G):this.popStencilMask(S4G,J4G);};H4G.prototype.pushSpriteMask=function(t4G,b4G){var K4G=this.alphaMaskPool[this.alphaMaskIndex];K4G||(K4G=this.alphaMaskPool[this.alphaMaskIndex]=[new O4G.default(b4G)]);K4G[0].resolution=this.renderer.resolution;K4G[0].maskSprite=b4G;t4G.filterArea=b4G.getBounds(true);this.renderer.filterManager.pushFilter(t4G,K4G);this.alphaMaskIndex++;};H4G.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter();this.alphaMaskIndex--;};H4G.prototype.pushStencilMask=function(C4G){this.renderer.currentRenderer.stop();this.renderer.stencilManager.pushStencil(C4G);};H4G.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop();this.renderer.stencilManager.popStencil();};H4G.prototype.pushScissorMask=function(f4G,m4G){m4G.renderable=true;f4G=this.renderer._activeRenderTarget;var N4G=m4G.getBounds();N4G.fit(f4G.size);m4G.renderable=false;this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var B4G=this.renderer.resolution;this.renderer.gl.scissor(N4G.x*B4G,(f4G.root?f4G.size.height-N4G.y-N4G.height:N4G.y)*B4G,N4G.width*B4G,N4G.height*B4G);this.scissorRenderTarget=f4G;this.scissorData=m4G;this.scissor=true;};H4G.prototype.popScissorMask=function(){this.scissorData=this.scissorRenderTarget=null;this.scissor=false;var l4G=this.renderer.gl;l4G.disable(l4G.SCISSOR_TEST);};return H4G;}(M4G.default);o4G.default=c4G;},{"../filters/spriteMask/SpriteMaskFilter":89,"./WebGLManager":93}],92:[function(Q4G,X4G,D4G){function d4G(U4G,W4G){if("function"!==typeof W4G&&null!==W4G){throw new TypeError("Super expression must either be null or a function, not "+typeof W4G);}U4G.prototype=Object.create(W4G&&W4G.prototype,{constructor:{value:U4G,enumerable:false,writable:true,configurable:true}});W4G&&(Object.setPrototypeOf?Object.setPrototypeOf(U4G,W4G):U4G.__proto__=W4G);}D4G.__esModule=true;var z4G=(Q4G=Q4G("./WebGLManager"))&&Q4G.__esModule?Q4G:{default:Q4G};Q4G=function(e4G){function G4G(F4G){if(!(this instanceof G4G)){throw new TypeError("Cannot call a class as a function");}F4G=e4G.call(this,F4G);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}F4G=!F4G||"object"!==typeof F4G&&"function"!==typeof F4G?this:F4G;F4G.stencilMaskStack=null;return F4G;}d4G(G4G,e4G);G4G.prototype.setMaskStack=function(V4G){this.stencilMaskStack=V4G;var p4G=this.renderer.gl;0===V4G.length?p4G.disable(p4G.STENCIL_TEST):p4G.enable(p4G.STENCIL_TEST);};G4G.prototype.pushStencil=function(L4G){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);this.renderer._activeRenderTarget.attachStencilBuffer();var P4G=this.renderer.gl,v4G=this.stencilMaskStack.length;0===v4G&&P4G.enable(P4G.STENCIL_TEST);this.stencilMaskStack.push(L4G);P4G.colorMask(false,false,false,false);P4G.stencilFunc(P4G.EQUAL,v4G,this._getBitwiseMask());P4G.stencilOp(P4G.KEEP,P4G.KEEP,P4G.INCR);this.renderer.plugins.graphics.render(L4G);this._useCurrent();};G4G.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var R4G=this.renderer.gl,i4G=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(R4G.disable(R4G.STENCIL_TEST),R4G.clear(R4G.STENCIL_BUFFER_BIT),R4G.clearStencil(0)):(R4G.colorMask(false,false,false,false),R4G.stencilOp(R4G.KEEP,R4G.KEEP,R4G.DECR),this.renderer.plugins.graphics.render(i4G),this._useCurrent());};G4G.prototype._useCurrent=function(){var a4G=this.renderer.gl;a4G.colorMask(true,true,true,true);a4G.stencilFunc(a4G.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask());a4G.stencilOp(a4G.KEEP,a4G.KEEP,a4G.KEEP);};G4G.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1;};G4G.prototype.destroy=function(){z4G.default.prototype.destroy.call(this);this.stencilMaskStack.stencilStack=null;};return G4G;}(z4G.default);D4G.default=Q4G;},{"./WebGLManager":93}],93:[function(x4G,w4G,k4G){k4G.__esModule=true;x4G=function(){function Y4G(A4G){if(!(this instanceof Y4G)){throw new TypeError("Cannot call a class as a function");}this.renderer=A4G;this.renderer.on("context",this.onContextChange,this);}Y4G.prototype.onContextChange=function(){};Y4G.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this);this.renderer=null;};return Y4G;}();k4G.default=x4G;},{}],94:[function(r7G,I7G,s7G){function n7G(c7G,T7G){if("function"!==typeof T7G&&null!==T7G){throw new TypeError("Super expression must either be null or a function, not "+typeof T7G);}c7G.prototype=Object.create(T7G&&T7G.prototype,{constructor:{value:c7G,enumerable:false,writable:true,configurable:true}});T7G&&(Object.setPrototypeOf?Object.setPrototypeOf(c7G,T7G):c7G.__proto__=T7G);}s7G.__esModule=true;r7G=r7G("../managers/WebGLManager");r7G=function(o7G){function M7G(){if(!(this instanceof M7G)){throw new TypeError("Cannot call a class as a function");}var O7G=o7G.apply(this,arguments);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return!O7G||"object"!==typeof O7G&&"function"!==typeof O7G?this:O7G;}n7G(M7G,o7G);M7G.prototype.start=function(){};M7G.prototype.stop=function(){this.flush();};M7G.prototype.flush=function(){};M7G.prototype.render=function(g7G){};return M7G;}((r7G&&r7G.__esModule?r7G:{default:r7G}).default);s7G.default=r7G;},{"../managers/WebGLManager":93}],95:[function(h7G,y7G,q7G){q7G.__esModule=true;var H7G=(y7G=h7G("pixi-gl-core"))&&y7G.__esModule?y7G:{default:y7G},Z7G=(h7G=h7G("../../../utils/createIndicesForQuads"))&&h7G.__esModule?h7G:{default:h7G};h7G=function(){function E7G(J7G,S7G){var j7G=this;if(!(this instanceof E7G)){throw new TypeError("Cannot call a class as a function");}this.gl=J7G;this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]);this.uvs=new Float32Array([0,0,1,0,1,1,0,1]);this.interleaved=new Float32Array(16);for(var u7G=0;4>u7G;u7G++){j7G.interleaved[4*u7G]=j7G.vertices[2*u7G],j7G.interleaved[4*u7G+1]=j7G.vertices[2*u7G+1],j7G.interleaved[4*u7G+2]=j7G.uvs[2*u7G],j7G.interleaved[4*u7G+3]=j7G.uvs[2*u7G+1];}this.indices=(0,Z7G.default)(1);this.vertexBuffer=H7G.default.GLBuffer.createVertexBuffer(J7G,this.interleaved,J7G.STATIC_DRAW);this.indexBuffer=H7G.default.GLBuffer.createIndexBuffer(J7G,this.indices,J7G.STATIC_DRAW);this.vao=new H7G.default.VertexArrayObject(J7G,S7G);}E7G.prototype.initVao=function(K7G){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,K7G.attributes.aVertexPosition,this.gl.FLOAT,false,16,0).addAttribute(this.vertexBuffer,K7G.attributes.aTextureCoord,this.gl.FLOAT,false,16,8);};E7G.prototype.map=function(N7G,b7G){var t7G=0,C7G=0;this.uvs[0]=t7G;this.uvs[1]=C7G;this.uvs[2]=t7G+b7G.width/N7G.width;this.uvs[3]=C7G;this.uvs[4]=t7G+b7G.width/N7G.width;this.uvs[5]=C7G+b7G.height/N7G.height;this.uvs[6]=t7G;this.uvs[7]=C7G+b7G.height/N7G.height;t7G=b7G.x;C7G=b7G.y;this.vertices[0]=t7G;this.vertices[1]=C7G;this.vertices[2]=t7G+b7G.width;this.vertices[3]=C7G;this.vertices[4]=t7G+b7G.width;this.vertices[5]=C7G+b7G.height;this.vertices[6]=t7G;this.vertices[7]=C7G+b7G.height;return this;};E7G.prototype.upload=function(){var B7G=this;for(var f7G=0;4>f7G;f7G++){B7G.interleaved[4*f7G]=B7G.vertices[2*f7G],B7G.interleaved[4*f7G+1]=B7G.vertices[2*f7G+1],B7G.interleaved[4*f7G+2]=B7G.uvs[2*f7G],B7G.interleaved[4*f7G+3]=B7G.uvs[2*f7G+1];}this.vertexBuffer.upload(this.interleaved);return this;};E7G.prototype.destroy=function(){var m7G=this.gl;m7G.deleteBuffer(this.vertexBuffer);m7G.deleteBuffer(this.indexBuffer);};return E7G;}();q7G.default=h7G;},{"../../../utils/createIndicesForQuads":123,"pixi-gl-core":15}],96:[function(l7G,Q7G,X7G){X7G.__esModule=true;var z7G=l7G("../../../math"),W7G=l7G("../../../const"),D7G=(Q7G=l7G("../../../settings"))&&Q7G.__esModule?Q7G:{default:Q7G},d7G=l7G("pixi-gl-core");l7G=function(){function U7G(G7G,F7G,p7G,e7G,V7G,P7G){if(!(this instanceof U7G)){throw new TypeError("Cannot call a class as a function");}this.gl=G7G;this.texture=this.frameBuffer=null;this.clearColor=[0,0,0,0];this.size=new z7G.Rectangle(0,0,1,1);this.resolution=V7G||D7G.default.RESOLUTION;this.projectionMatrix=new z7G.Matrix();this.frame=this.transform=null;this.defaultFrame=new z7G.Rectangle();this.stencilBuffer=this.sourceFrame=this.destinationFrame=null;this.stencilMaskStack=[];this.filterData=null;this.scaleMode=void 0!==e7G?e7G:D7G.default.SCALE_MODE;(this.root=P7G)?(this.frameBuffer=new d7G.GLFramebuffer(G7G,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=d7G.GLFramebuffer.createRGBA(G7G,100,100),this.scaleMode===W7G.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture);this.setFrame();this.resize(F7G,p7G);}U7G.prototype.clear=function(v7G){v7G=v7G||this.clearColor;this.frameBuffer.clear(v7G[0],v7G[1],v7G[2],v7G[3]);};U7G.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil();};U7G.prototype.setFrame=function(L7G,R7G){this.destinationFrame=L7G||this.destinationFrame||this.defaultFrame;this.sourceFrame=R7G||this.sourceFrame||this.destinationFrame;};U7G.prototype.activate=function(){var i7G=this.gl;this.frameBuffer.bind();this.calculateProjection(this.destinationFrame,this.sourceFrame);this.transform&&this.projectionMatrix.append(this.transform);this.destinationFrame!==this.sourceFrame?(i7G.enable(i7G.SCISSOR_TEST),i7G.scissor(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):i7G.disable(i7G.SCISSOR_TEST);i7G.viewport(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0);};U7G.prototype.calculateProjection=function(k7G,x7G){var a7G=this.projectionMatrix;x7G=x7G||k7G;a7G.identity();this.root?(a7G.a=1/k7G.width*2,a7G.d=-1/k7G.height*2,a7G.tx=-1-x7G.x*a7G.a,a7G.ty=1-x7G.y*a7G.d):(a7G.a=1/k7G.width*2,a7G.d=1/k7G.height*2,a7G.tx=-1-x7G.x*a7G.a,a7G.ty=-1-x7G.y*a7G.d);};U7G.prototype.resize=function(w7G,Y7G){w7G|=0;Y7G|=0;if(this.size.width!==w7G||this.size.height!==Y7G){this.size.width=w7G,this.size.height=Y7G,this.defaultFrame.width=w7G,this.defaultFrame.height=Y7G,this.frameBuffer.resize(w7G*this.resolution,Y7G*this.resolution),this.calculateProjection(this.frame||this.size);}};U7G.prototype.destroy=function(){this.frameBuffer.destroy();this.texture=this.frameBuffer=null;};return U7G;}();X7G.default=l7G;},{"../../../const":46,"../../../math":70,"../../../settings":101,"pixi-gl-core":15}],97:[function(A7G,T6G,r6G){function I6G(o6G){for(var M6G="",c6G=0;c6G<o6G;++c6G){0<c6G&&(M6G+="\nelse "),c6G<o6G-1&&(M6G+="if(test == "+c6G+".0){}");}return M6G;}r6G.__esModule=true;r6G.default=function(g6G,O6G){var y6G=!O6G;if(0===g6G){throw Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");}y6G&&(O6G=document.createElement("canvas"),O6G.width=1,O6G.height=1,O6G=s6G.default.createContext(O6G));for(var h6G=O6G.createShader(O6G.FRAGMENT_SHADER);;){var H6G=n6G.replace(/%forloop%/gi,I6G(g6G));O6G.shaderSource(h6G,H6G);O6G.compileShader(h6G);if(O6G.getShaderParameter(h6G,O6G.COMPILE_STATUS)){break;}else{g6G=g6G/2|0;}}y6G&&O6G.getExtension("WEBGL_lose_context")&&O6G.getExtension("WEBGL_lose_context").loseContext();return g6G;};var s6G=(A7G=A7G("pixi-gl-core"))&&A7G.__esModule?A7G:{default:A7G},n6G="precision mediump float;\nvoid main(void){\nfloat test = 0.1;\n%forloop%\ngl_FragColor = vec4(0.0);\n}";},{"pixi-gl-core":15}],98:[function(E6G,u6G,Z6G){Z6G.__esModule=true;Z6G.default=function(j6G){var J6G=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];J6G[q6G.BLEND_MODES.NORMAL]=[j6G.ONE,j6G.ONE_MINUS_SRC_ALPHA];J6G[q6G.BLEND_MODES.ADD]=[j6G.ONE,j6G.DST_ALPHA];J6G[q6G.BLEND_MODES.MULTIPLY]=[j6G.DST_COLOR,j6G.ONE_MINUS_SRC_ALPHA];J6G[q6G.BLEND_MODES.SCREEN]=[j6G.ONE,j6G.ONE_MINUS_SRC_COLOR];J6G[q6G.BLEND_MODES.OVERLAY]=[j6G.ONE,j6G.ONE_MINUS_SRC_ALPHA];J6G[q6G.BLEND_MODES.DARKEN]=[j6G.ONE,j6G.ONE_MINUS_SRC_ALPHA];J6G[q6G.BLEND_MODES.LIGHTEN]=[j6G.ONE,j6G.ONE_MINUS_SRC_ALPHA];J6G[q6G.BLEND_MODES.COLOR_DODGE]=[j6G.ONE,j6G.ONE_MINUS_SRC_ALPHA];J6G[q6G.BLEND_MODES.COLOR_BURN]=[j6G.ONE,j6G.ONE_MINUS_SRC_ALPHA];J6G[q6G.BLEND_MODES.HARD_LIGHT]=[j6G.ONE,j6G.ONE_MINUS_SRC_ALPHA];J6G[q6G.BLEND_MODES.SOFT_LIGHT]=[j6G.ONE,j6G.ONE_MINUS_SRC_ALPHA];J6G[q6G.BLEND_MODES.DIFFERENCE]=[j6G.ONE,j6G.ONE_MINUS_SRC_ALPHA];J6G[q6G.BLEND_MODES.EXCLUSION]=[j6G.ONE,j6G.ONE_MINUS_SRC_ALPHA];J6G[q6G.BLEND_MODES.HUE]=[j6G.ONE,j6G.ONE_MINUS_SRC_ALPHA];J6G[q6G.BLEND_MODES.SATURATION]=[j6G.ONE,j6G.ONE_MINUS_SRC_ALPHA];J6G[q6G.BLEND_MODES.COLOR]=[j6G.ONE,j6G.ONE_MINUS_SRC_ALPHA];J6G[q6G.BLEND_MODES.LUMINOSITY]=[j6G.ONE,j6G.ONE_MINUS_SRC_ALPHA];J6G[q6G.BLEND_MODES.NORMAL_NPM]=[j6G.SRC_ALPHA,j6G.ONE_MINUS_SRC_ALPHA,j6G.ONE,j6G.ONE_MINUS_SRC_ALPHA];J6G[q6G.BLEND_MODES.ADD_NPM]=[j6G.SRC_ALPHA,j6G.DST_ALPHA,j6G.ONE,j6G.DST_ALPHA];J6G[q6G.BLEND_MODES.SCREEN_NPM]=[j6G.SRC_ALPHA,j6G.ONE_MINUS_SRC_COLOR,j6G.ONE,j6G.ONE_MINUS_SRC_COLOR];return J6G;};var q6G=E6G("../../../const");},{"../../../const":46}],99:[function(b6G,t6G,K6G){K6G.__esModule=true;K6G.default=function(N6G){var C6G=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};C6G[S6G.DRAW_MODES.POINTS]=N6G.POINTS;C6G[S6G.DRAW_MODES.LINES]=N6G.LINES;C6G[S6G.DRAW_MODES.LINE_LOOP]=N6G.LINE_LOOP;C6G[S6G.DRAW_MODES.LINE_STRIP]=N6G.LINE_STRIP;C6G[S6G.DRAW_MODES.TRIANGLES]=N6G.TRIANGLES;C6G[S6G.DRAW_MODES.TRIANGLE_STRIP]=N6G.TRIANGLE_STRIP;C6G[S6G.DRAW_MODES.TRIANGLE_FAN]=N6G.TRIANGLE_FAN;return C6G;};var S6G=b6G("../../../const");},{"../../../const":46}],100:[function(B6G,m6G,f6G){f6G.__esModule=true;f6G.default=function(l6G){l6G.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");};},{}],101:[function(Q6G,z6G,D6G){D6G.__esModule=true;z6G=(z6G=Q6G("./utils/maxRecommendedTextures"))&&z6G.__esModule?z6G:{default:z6G};Q6G=(Q6G=Q6G("./utils/canUploadSameBuffer"))&&Q6G.__esModule?Q6G:{default:Q6G};D6G.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:true,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,z6G.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:false,forceFXAA:false,autoResize:false,transparent:false,backgroundColor:0,clearBeforeRender:true,preserveDrawingBuffer:false,roundPixels:false,width:800,height:600,legacy:false},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,Q6G.default)()};},{"./utils/canUploadSameBuffer":122,"./utils/maxRecommendedTextures":127}],102:[function(d6G,U6G,p6G){function P6G(L6G,v6G){if("function"!==typeof v6G&&null!==v6G){throw new TypeError("Super expression must either be null or a function, not "+typeof v6G);}L6G.prototype=Object.create(v6G&&v6G.prototype,{constructor:{value:L6G,enumerable:false,writable:true,configurable:true}});v6G&&(Object.setPrototypeOf?Object.setPrototypeOf(L6G,v6G):L6G.__proto__=v6G);}p6G.__esModule=true;var F6G=function(){function R6G(k6G,x6G){for(var a6G=0;a6G<x6G.length;a6G++){var i6G=x6G[a6G];i6G.enumerable=i6G.enumerable||false;i6G.configurable=true;"value"in i6G&&(i6G.writable=true);Object.defineProperty(k6G,i6G.key,i6G);}}return function(w6G,Y6G,A6G){Y6G&&R6G(w6G.prototype,Y6G);A6G&&R6G(w6G,A6G);return w6G;};}(),e6G=d6G("../math"),W6G=d6G("../utils"),V6G=d6G("../const"),G6G=(U6G=d6G("../textures/Texture"))&&U6G.__esModule?U6G:{default:U6G};d6G=(d6G=d6G("../display/Container"))&&d6G.__esModule?d6G:{default:d6G};var X6G=new e6G.Point();d6G=function(s8p){function r8p(I8p){if(!(this instanceof r8p)){throw new TypeError("Cannot call a class as a function");}var n8p;n8p=s8p.call(this);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}n8p=!n8p||"object"!==typeof n8p&&"function"!==typeof n8p?this:n8p;n8p._anchor=new e6G.ObservablePoint(n8p._onAnchorUpdate,n8p);n8p._texture=null;n8p._width=0;n8p._height=0;n8p._tint=null;n8p._tintRGB=null;n8p.tint=16777215;n8p.blendMode=V6G.BLEND_MODES.NORMAL;n8p.shader=null;n8p.cachedTint=16777215;n8p.texture=I8p||G6G.default.EMPTY;n8p.vertexData=new Float32Array(8);n8p.vertexTrimmedData=null;n8p._transformID=-1;n8p._textureID=-1;n8p._transformTrimmedID=-1;n8p._textureTrimmedID=-1;n8p.pluginName="sprite";return n8p;}P6G(r8p,s8p);r8p.prototype._onTextureUpdate=function(){this._textureTrimmedID=this._textureID=-1;this.cachedTint=16777215;this._width&&(this.scale.x=(0,W6G.sign)(this.scale.x)*this._width/this._texture.orig.width);this._height&&(this.scale.y=(0,W6G.sign)(this.scale.y)*this._height/this._texture.orig.height);};r8p.prototype._onAnchorUpdate=function(){this._transformTrimmedID=this._transformID=-1;};r8p.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID;this._textureID=this._texture._updateID;var o8p=this._texture,T8p=this.transform.worldTransform,H8p=T8p.a,q8p=T8p.b,Z8p=T8p.c,E8p=T8p.d,y8p=T8p.tx,T8p=T8p.ty,O8p=this.vertexData,M8p=o8p.trim,h8p=o8p.orig,c8p=this._anchor,g8p;M8p?(g8p=M8p.x-c8p._x*h8p.width,o8p=g8p+M8p.width,c8p=M8p.y-c8p._y*h8p.height,M8p=c8p+M8p.height):(g8p=-c8p._x*h8p.width,o8p=g8p+h8p.width,c8p=-c8p._y*h8p.height,M8p=c8p+h8p.height);O8p[0]=H8p*g8p+Z8p*c8p+y8p;O8p[1]=E8p*c8p+q8p*g8p+T8p;O8p[2]=H8p*o8p+Z8p*c8p+y8p;O8p[3]=E8p*c8p+q8p*o8p+T8p;O8p[4]=H8p*o8p+Z8p*M8p+y8p;O8p[5]=E8p*M8p+q8p*o8p+T8p;O8p[6]=H8p*g8p+Z8p*M8p+y8p;O8p[7]=E8p*M8p+q8p*g8p+T8p;}};r8p.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData){this.vertexTrimmedData=new Float32Array(8);}else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID){return;}this._transformTrimmedID=this.transform._worldID;this._textureTrimmedID=this._texture._updateID;var S8p=this.vertexTrimmedData,j8p=this._texture.orig,J8p=this._anchor,u8p=this.transform.worldTransform,B8p=u8p.a,b8p=u8p.b,C8p=u8p.c,N8p=u8p.d,f8p=u8p.tx,u8p=u8p.ty,K8p=-J8p._x*j8p.width,t8p=K8p+j8p.width,J8p=-J8p._y*j8p.height,j8p=J8p+j8p.height;S8p[0]=B8p*K8p+C8p*J8p+f8p;S8p[1]=N8p*J8p+b8p*K8p+u8p;S8p[2]=B8p*t8p+C8p*J8p+f8p;S8p[3]=N8p*J8p+b8p*t8p+u8p;S8p[4]=B8p*t8p+C8p*j8p+f8p;S8p[5]=N8p*j8p+b8p*t8p+u8p;S8p[6]=B8p*K8p+C8p*j8p+f8p;S8p[7]=N8p*j8p+b8p*K8p+u8p;};r8p.prototype._renderWebGL=function(m8p){this.calculateVertices();m8p.setObjectRenderer(m8p.plugins[this.pluginName]);m8p.plugins[this.pluginName].render(this);};r8p.prototype._renderCanvas=function(l8p){l8p.plugins[this.pluginName].render(this);};r8p.prototype._calculateBounds=function(){var Q8p=this._texture.trim,z8p=this._texture.orig;!Q8p||Q8p.width===z8p.width&&Q8p.height===z8p.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData));};r8p.prototype.getLocalBounds=function(D8p){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),D8p||(this._localBoundsRect||(this._localBoundsRect=new e6G.Rectangle()),D8p=this._localBoundsRect),this._bounds.getRectangle(D8p)):s8p.prototype.getLocalBounds.call(this,D8p);};r8p.prototype.containsPoint=function(X8p){this.worldTransform.applyInverse(X8p,X6G);var d8p=this._texture.orig.width;X8p=this._texture.orig.height;var W8p=-d8p*this.anchor.x;return X6G.x>=W8p&&X6G.x<W8p+d8p&&(d8p=-X8p*this.anchor.y,X6G.y>=d8p&&X6G.y<d8p+X8p)?true:false;};r8p.prototype.destroy=function(U8p){s8p.prototype.destroy.call(this,U8p);this._anchor=null;("boolean"===typeof U8p?U8p:U8p&&U8p.texture)&&this._texture.destroy(!!("boolean"===typeof U8p?U8p:U8p&&U8p.baseTexture));this.shader=this._texture=null;};r8p.from=function(G8p){return new r8p(G6G.default.from(G8p));};r8p.fromFrame=function(F8p){var e8p=W6G.TextureCache[F8p];if(!e8p){throw Error('The frameId "'+F8p+'" does not exist in the texture cache');}return new r8p(e8p);};r8p.fromImage=function(p8p,V8p,P8p){return new r8p(G6G.default.fromImage(p8p,V8p,P8p));};F6G(r8p,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width;},set:function(v8p){var L8p=(0,W6G.sign)(this.scale.x)||1;this.scale.x=L8p*v8p/this._texture.orig.width;this._width=v8p;}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height;},set:function(R8p){var i8p=(0,W6G.sign)(this.scale.y)||1;this.scale.y=i8p*R8p/this._texture.orig.height;this._height=R8p;}},{key:"anchor",get:function(){return this._anchor;},set:function(a8p){this._anchor.copy(a8p);}},{key:"tint",get:function(){return this._tint;},set:function(x8p){this._tint=x8p;this._tintRGB=(x8p>>16)+(x8p&65280)+((x8p&255)<<16);}},{key:"texture",get:function(){return this._texture;},set:function(k8p){if(this._texture!==k8p&&(this._texture=k8p,this.cachedTint=16777215,this._textureTrimmedID=this._textureID=-1,k8p)){if(k8p.baseTexture.hasLoaded){this._onTextureUpdate();}else{k8p.once("update",this._onTextureUpdate,this);}}}}]);return r8p;}(d6G.default);p6G.default=d6G;},{"../const":46,"../display/Container":48,"../math":70,"../textures/Texture":115,"../utils":125}],103:[function(w8p,Y8p,s2p){s2p.__esModule=true;Y8p=(Y8p=w8p("../../renderers/canvas/CanvasRenderer"))&&Y8p.__esModule?Y8p:{default:Y8p};var n2p=w8p("../../const"),A8p=w8p("../../math"),I2p=(w8p=w8p("./CanvasTinter"))&&w8p.__esModule?w8p:{default:w8p},r2p=new A8p.Matrix();w8p=function(){function T2p(c2p){if(!(this instanceof T2p)){throw new TypeError("Cannot call a class as a function");}this.renderer=c2p;}T2p.prototype.render=function(g2p){var o2p=g2p._texture,M2p=this.renderer,H2p=o2p._frame.width,q2p=o2p._frame.height,O2p=g2p.transform.worldTransform,h2p,y2p;if(!(0>=o2p.orig.width||0>=o2p.orig.height)&&o2p.baseTexture.source&&(M2p.setBlendMode(g2p.blendMode),o2p.valid)){if(M2p.context.globalAlpha=g2p.worldAlpha,h2p=o2p.baseTexture.scaleMode===n2p.SCALE_MODES.LINEAR,M2p.smoothProperty&&M2p.context[M2p.smoothProperty]!==h2p&&(M2p.context[M2p.smoothProperty]=h2p),o2p.trim?(h2p=o2p.trim.width/2+o2p.trim.x-g2p.anchor.x*o2p.orig.width,y2p=o2p.trim.height/2+o2p.trim.y-g2p.anchor.y*o2p.orig.height):(h2p=(.5-g2p.anchor.x)*o2p.orig.width,y2p=(.5-g2p.anchor.y)*o2p.orig.height),o2p.rotate&&(O2p.copy(r2p),O2p=r2p,A8p.GroupD8.matrixAppendRotationInv(O2p,o2p.rotate,h2p,y2p),y2p=h2p=0),h2p-=H2p/2,y2p-=q2p/2,M2p.roundPixels?(M2p.context.setTransform(O2p.a,O2p.b,O2p.c,O2p.d,O2p.tx*M2p.resolution|0,O2p.ty*M2p.resolution|0),h2p|=0,y2p|=0):M2p.context.setTransform(O2p.a,O2p.b,O2p.c,O2p.d,O2p.tx*M2p.resolution,O2p.ty*M2p.resolution),O2p=o2p.baseTexture.resolution,16777215!==g2p.tint){if(g2p.cachedTint!==g2p.tint||g2p.tintedTexture.tintId!==g2p._texture._updateID){g2p.cachedTint=g2p.tint,g2p.tintedTexture=I2p.default.getTintedTexture(g2p,g2p.tint);}M2p.context.drawImage(g2p.tintedTexture,0,0,H2p*O2p,q2p*O2p,h2p*M2p.resolution,y2p*M2p.resolution,H2p*M2p.resolution,q2p*M2p.resolution);}else{M2p.context.drawImage(o2p.baseTexture.source,o2p._frame.x*O2p,o2p._frame.y*O2p,H2p*O2p,q2p*O2p,h2p*M2p.resolution,y2p*M2p.resolution,H2p*M2p.resolution,q2p*M2p.resolution);}}};T2p.prototype.destroy=function(){this.renderer=null;};return T2p;}();s2p.default=w8p;Y8p.default.registerPlugin("sprite",w8p);},{"../../const":46,"../../math":70,"../../renderers/canvas/CanvasRenderer":77,"./CanvasTinter":104}],104:[function(E2p,J2p,j2p){j2p.__esModule=true;var u2p=E2p("../../utils");E2p=(E2p=E2p("../../renderers/canvas/utils/canUseNewCanvasBlendModes"))&&E2p.__esModule?E2p:{default:E2p};var Z2p={getTintedTexture:function(S2p,b2p){S2p=S2p._texture;b2p=Z2p.roundColor(b2p);var t2p="#"+("00000"+(b2p|0).toString(16)).substr(-6);S2p.tintCache=S2p.tintCache||{};var K2p=S2p.tintCache[t2p];if(K2p){if(K2p.tintId===S2p._updateID){return S2p.tintCache[t2p];}K2p=S2p.tintCache[t2p];}else{K2p=Z2p.canvas||document.createElement("canvas");}Z2p.tintMethod(S2p,b2p,K2p);K2p.tintId=S2p._updateID;Z2p.convertTintToImage?(b2p=new Image(),b2p.src=K2p.toDataURL(),S2p.tintCache[t2p]=b2p):(S2p.tintCache[t2p]=K2p,Z2p.canvas=null);return K2p;},tintWithMultiply:function(B2p,l2p,m2p){var N2p=m2p.getContext("2d"),C2p=B2p._frame.clone(),f2p=B2p.baseTexture.resolution;C2p.x*=f2p;C2p.y*=f2p;C2p.width*=f2p;C2p.height*=f2p;m2p.width=Math.ceil(C2p.width);m2p.height=Math.ceil(C2p.height);N2p.save();N2p.fillStyle="#"+("00000"+(l2p|0).toString(16)).substr(-6);N2p.fillRect(0,0,C2p.width,C2p.height);N2p.globalCompositeOperation="multiply";N2p.drawImage(B2p.baseTexture.source,C2p.x,C2p.y,C2p.width,C2p.height,0,0,C2p.width,C2p.height);N2p.globalCompositeOperation="destination-atop";N2p.drawImage(B2p.baseTexture.source,C2p.x,C2p.y,C2p.width,C2p.height,0,0,C2p.width,C2p.height);N2p.restore();},tintWithOverlay:function(d2p,W2p,X2p){var z2p=X2p.getContext("2d"),Q2p=d2p._frame.clone(),D2p=d2p.baseTexture.resolution;Q2p.x*=D2p;Q2p.y*=D2p;Q2p.width*=D2p;Q2p.height*=D2p;X2p.width=Math.ceil(Q2p.width);X2p.height=Math.ceil(Q2p.height);z2p.save();z2p.globalCompositeOperation="copy";z2p.fillStyle="#"+("00000"+(W2p|0).toString(16)).substr(-6);z2p.fillRect(0,0,Q2p.width,Q2p.height);z2p.globalCompositeOperation="destination-atop";z2p.drawImage(d2p.baseTexture.source,Q2p.x,Q2p.y,Q2p.width,Q2p.height,0,0,Q2p.width,Q2p.height);z2p.restore();},tintWithPerPixel:function(V2p,P2p,e2p){var F2p=e2p.getContext("2d"),U2p=V2p._frame.clone(),G2p=V2p.baseTexture.resolution;U2p.x*=G2p;U2p.y*=G2p;U2p.width*=G2p;U2p.height*=G2p;e2p.width=Math.ceil(U2p.width);e2p.height=Math.ceil(U2p.height);F2p.save();F2p.globalCompositeOperation="copy";F2p.drawImage(V2p.baseTexture.source,U2p.x,U2p.y,U2p.width,U2p.height,0,0,U2p.width,U2p.height);F2p.restore();e2p=(0,u2p.hex2rgb)(P2p);V2p=e2p[0];P2p=e2p[1];e2p=e2p[2];for(var U2p=F2p.getImageData(0,0,U2p.width,U2p.height),G2p=U2p.data,p2p=0;p2p<G2p.length;p2p+=4){G2p[p2p+0]*=V2p,G2p[p2p+1]*=P2p,G2p[p2p+2]*=e2p;}F2p.putImageData(U2p,0,0);},roundColor:function(v2p){var L2p=Z2p.cacheStepsPerColorChannel;v2p=(0,u2p.hex2rgb)(v2p);v2p[0]=Math.min(255,v2p[0]/L2p*L2p);v2p[1]=Math.min(255,v2p[1]/L2p*L2p);v2p[2]=Math.min(255,v2p[2]/L2p*L2p);return(0,u2p.rgb2hex)(v2p);},cacheStepsPerColorChannel:8,convertTintToImage:false,canUseMultiply:(0,E2p.default)(),tintMethod:0};Z2p.tintMethod=Z2p.canUseMultiply?Z2p.tintWithMultiply:Z2p.tintWithPerPixel;j2p.default=Z2p;},{"../../renderers/canvas/utils/canUseNewCanvasBlendModes":80,"../../utils":125}],105:[function(R2p,a2p,i2p){i2p.__esModule=true;R2p=function(){function x2p(k2p){if(!(this instanceof x2p)){throw new TypeError("Cannot call a class as a function");}this.vertices=new ArrayBuffer(k2p);this.float32View=new Float32Array(this.vertices);this.uint32View=new Uint32Array(this.vertices);}x2p.prototype.destroy=function(){this.colors=this.uvs=this.positions=this.vertices=null;};return x2p;}();i2p.default=R2p;},{}],106:[function(Y2p,T0p,g0p){function r0p(Z0p){return Z0p&&Z0p.__esModule?Z0p:{default:Z0p};}function q0p(u0p,E0p){if("function"!==typeof E0p&&null!==E0p){throw new TypeError("Super expression must either be null or a function, not "+typeof E0p);}u0p.prototype=Object.create(E0p&&E0p.prototype,{constructor:{value:u0p,enumerable:false,writable:true,configurable:true}});E0p&&(Object.setPrototypeOf?Object.setPrototypeOf(u0p,E0p):u0p.__proto__=E0p);}g0p.__esModule=true;T0p=Y2p("../../renderers/webgl/utils/ObjectRenderer");T0p=r0p(T0p);var s0p=Y2p("../../renderers/webgl/WebGLRenderer"),s0p=r0p(s0p),w2p=Y2p("../../utils/createIndicesForQuads"),h0p=r0p(w2p),w2p=Y2p("./generateMultiTextureShader"),y0p=r0p(w2p),w2p=Y2p("../../renderers/webgl/utils/checkMaxIfStatmentsInShader"),H0p=r0p(w2p),w2p=Y2p("./BatchBuffer"),O0p=r0p(w2p),w2p=Y2p("../../settings"),n0p=r0p(w2p),c0p=Y2p("../../utils"),w2p=Y2p("pixi-gl-core"),M0p=r0p(w2p);Y2p=Y2p("bit-twiddle");var I0p=r0p(Y2p),A2p=0,o0p=0;Y2p=function(J0p){function j0p(S0p){if(!(this instanceof j0p)){throw new TypeError("Cannot call a class as a function");}S0p=J0p.call(this,S0p);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}S0p=!S0p||"object"!==typeof S0p&&"function"!==typeof S0p?this:S0p;S0p.vertSize=5;S0p.vertByteSize=4*S0p.vertSize;S0p.size=n0p.default.SPRITE_BATCH_SIZE;S0p.buffers=[];for(var K0p=1;K0p<=I0p.default.nextPow2(S0p.size);K0p*=2){S0p.buffers.push(new O0p.default(4*K0p*S0p.vertByteSize));}S0p.indices=(0,h0p.default)(S0p.size);S0p.shader=null;S0p.currentIndex=0;S0p.groups=[];for(K0p=0;K0p<S0p.size;K0p++){S0p.groups[K0p]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};}S0p.sprites=[];S0p.vertexBuffers=[];S0p.vaos=[];S0p.vaoMax=2;S0p.vertexCount=0;S0p.renderer.on("prerender",S0p.onPrerender,S0p);return S0p;}q0p(j0p,J0p);j0p.prototype.onContextChange=function(){var t0p=this;var b0p=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(b0p.getParameter(b0p.MAX_TEXTURE_IMAGE_UNITS),n0p.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,H0p.default)(this.MAX_TEXTURES,b0p));this.shader=(0,y0p.default)(b0p,this.MAX_TEXTURES);this.indexBuffer=M0p.default.GLBuffer.createIndexBuffer(b0p,this.indices,b0p.STATIC_DRAW);this.renderer.bindVao(null);for(var C0p=this.shader.attributes,N0p=0;N0p<this.vaoMax;N0p++){var f0p=t0p.vertexBuffers[N0p]=M0p.default.GLBuffer.createVertexBuffer(b0p,null,b0p.STREAM_DRAW),B0p=t0p.renderer.createVao().addIndex(t0p.indexBuffer).addAttribute(f0p,C0p.aVertexPosition,b0p.FLOAT,false,t0p.vertByteSize,0).addAttribute(f0p,C0p.aTextureCoord,b0p.UNSIGNED_SHORT,true,t0p.vertByteSize,8).addAttribute(f0p,C0p.aColor,b0p.UNSIGNED_BYTE,true,t0p.vertByteSize,12);C0p.aTextureId&&B0p.addAttribute(f0p,C0p.aTextureId,b0p.FLOAT,false,t0p.vertByteSize,16);t0p.vaos[N0p]=B0p;}this.vao=this.vaos[0];this.currentBlendMode=99999;this.boundTextures=Array(this.MAX_TEXTURES);};j0p.prototype.onPrerender=function(){this.vertexCount=0;};j0p.prototype.render=function(m0p){this.currentIndex>=this.size&&this.flush();m0p._texture._uvs&&(this.sprites[this.currentIndex++]=m0p);};j0p.prototype.flush=function(){var i0p=this;if(0!==this.currentIndex){var V0p=this.renderer.gl,W0p=this.MAX_TEXTURES,F0p=I0p.default.nextPow2(this.currentIndex),F0p=I0p.default.log2(F0p),L0p=this.buffers[F0p],e0p=this.sprites,F0p=this.groups,D0p=L0p.float32View,P0p=L0p.uint32View,x0p=this.boundTextures,k0p=this.renderer.boundTextures,Y0p=this.renderer.textureGC.count,l0p=0,X0p,G0p=void 0,w0p=1,R0p=0,U0p=F0p[0],z0p,v0p,a0p=c0p.premultiplyBlendMode[e0p[0]._texture.baseTexture.premultipliedAlpha?1:0][e0p[0].blendMode];U0p.textureCount=0;U0p.start=0;U0p.blend=a0p;A2p++;var Q0p;for(Q0p=0;Q0p<W0p;++Q0p){X0p=k0p[Q0p],X0p._enabled===A2p?x0p[Q0p]=i0p.renderer.emptyTextures[Q0p]:(x0p[Q0p]=X0p,X0p._virtalBoundId=Q0p,X0p._enabled=A2p);}A2p++;for(Q0p=0;Q0p<this.currentIndex;++Q0p){var p0p=e0p[Q0p];X0p=p0p._texture.baseTexture;z0p=c0p.premultiplyBlendMode[Number(X0p.premultipliedAlpha)][p0p.blendMode];a0p!==z0p&&(a0p=z0p,G0p=null,R0p=W0p,A2p++);if(G0p!==X0p&&(G0p=X0p,X0p._enabled!==A2p)){R0p===W0p&&(A2p++,U0p.size=Q0p-U0p.start,R0p=0,U0p=F0p[w0p++],U0p.blend=a0p,U0p.textureCount=0,U0p.start=Q0p);X0p.touched=Y0p;if(-1===X0p._virtalBoundId){for(z0p=0;z0p<W0p;++z0p){v0p=(z0p+o0p)%W0p;var d0p=x0p[v0p];if(d0p._enabled!==A2p){o0p++;d0p._virtalBoundId=-1;X0p._virtalBoundId=v0p;x0p[v0p]=X0p;break;}}}X0p._enabled=A2p;U0p.textureCount++;U0p.ids[R0p]=X0p._virtalBoundId;U0p.textures[R0p++]=X0p;}z0p=p0p.vertexData;v0p=p0p._texture._uvs.uvsUint32;i0p.renderer.roundPixels?(d0p=i0p.renderer.resolution,D0p[l0p]=(z0p[0]*d0p|0)/d0p,D0p[l0p+1]=(z0p[1]*d0p|0)/d0p,D0p[l0p+5]=(z0p[2]*d0p|0)/d0p,D0p[l0p+6]=(z0p[3]*d0p|0)/d0p,D0p[l0p+10]=(z0p[4]*d0p|0)/d0p,D0p[l0p+11]=(z0p[5]*d0p|0)/d0p,D0p[l0p+15]=(z0p[6]*d0p|0)/d0p,D0p[l0p+16]=(z0p[7]*d0p|0)/d0p):(D0p[l0p]=z0p[0],D0p[l0p+1]=z0p[1],D0p[l0p+5]=z0p[2],D0p[l0p+6]=z0p[3],D0p[l0p+10]=z0p[4],D0p[l0p+11]=z0p[5],D0p[l0p+15]=z0p[6],D0p[l0p+16]=z0p[7]);P0p[l0p+2]=v0p[0];P0p[l0p+7]=v0p[1];P0p[l0p+12]=v0p[2];P0p[l0p+17]=v0p[3];z0p=Math.min(p0p.worldAlpha,1);p0p=1>z0p&&X0p.premultipliedAlpha?(0,c0p.premultiplyTint)(p0p._tintRGB,z0p):p0p._tintRGB+(255*z0p<<24);P0p[l0p+3]=P0p[l0p+8]=P0p[l0p+13]=P0p[l0p+18]=p0p;D0p[l0p+4]=D0p[l0p+9]=D0p[l0p+14]=D0p[l0p+19]=X0p._virtalBoundId;l0p+=20;}U0p.size=Q0p-U0p.start;n0p.default.CAN_UPLOAD_SAME_BUFFER?this.vertexBuffers[this.vertexCount].upload(L0p.vertices,0,true):(this.vaoMax<=this.vertexCount&&(this.vaoMax++,G0p=this.shader.attributes,Q0p=this.vertexBuffers[this.vertexCount]=M0p.default.GLBuffer.createVertexBuffer(V0p,null,V0p.STREAM_DRAW),e0p=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(Q0p,G0p.aVertexPosition,V0p.FLOAT,false,this.vertByteSize,0).addAttribute(Q0p,G0p.aTextureCoord,V0p.UNSIGNED_SHORT,true,this.vertByteSize,8).addAttribute(Q0p,G0p.aColor,V0p.UNSIGNED_BYTE,true,this.vertByteSize,12),G0p.aTextureId&&e0p.addAttribute(Q0p,G0p.aTextureId,V0p.FLOAT,false,this.vertByteSize,16),this.vaos[this.vertexCount]=e0p),this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(L0p.vertices,0,false),this.vertexCount++);for(Q0p=0;Q0p<W0p;++Q0p){k0p[Q0p]._virtalBoundId=-1;}for(Q0p=0;Q0p<w0p;++Q0p){W0p=F0p[Q0p];L0p=W0p.textureCount;for(e0p=0;e0p<L0p;e0p++){G0p=W0p.textures[e0p],k0p[W0p.ids[e0p]]!==G0p&&i0p.renderer.bindTexture(G0p,W0p.ids[e0p],true),G0p._virtalBoundId=-1;}i0p.renderer.state.setBlendMode(W0p.blend);V0p.drawElements(V0p.TRIANGLES,6*W0p.size,V0p.UNSIGNED_SHORT,12*W0p.start);}this.currentIndex=0;}};j0p.prototype.start=function(){this.renderer.bindShader(this.shader);n0p.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind());};j0p.prototype.stop=function(){this.flush();};j0p.prototype.destroy=function(){var r3p=this;for(var A0p=0;A0p<this.vaoMax;A0p++){r3p.vertexBuffers[A0p]&&r3p.vertexBuffers[A0p].destroy(),r3p.vaos[A0p]&&r3p.vaos[A0p].destroy();}this.indexBuffer&&this.indexBuffer.destroy();this.renderer.off("prerender",this.onPrerender,this);J0p.prototype.destroy.call(this);this.shader&&(this.shader.destroy(),this.shader=null);this.sprites=this.indices=this.indexBuffer=this.vaos=this.vertexBuffers=null;for(A0p=0;A0p<this.buffers.length;++A0p){r3p.buffers[A0p].destroy();}};return j0p;}(T0p.default);g0p.default=Y2p;s0p.default.registerPlugin("sprite",Y2p);},{"../../renderers/webgl/WebGLRenderer":84,"../../renderers/webgl/utils/ObjectRenderer":94,"../../renderers/webgl/utils/checkMaxIfStatmentsInShader":97,"../../settings":101,"../../utils":125,"../../utils/createIndicesForQuads":123,"./BatchBuffer":105,"./generateMultiTextureShader":107,"bit-twiddle":1,"pixi-gl-core":15}],107:[function(n3p,s3p,I3p){function M3p(g3p){var o3p;o3p="\n\n";for(var O3p=0;O3p<g3p;O3p++){0<O3p&&(o3p+="\nelse "),O3p<g3p-1&&(o3p+="if(textureId == "+O3p+".0)"),o3p+="\n{",o3p+="\n\tcolor = texture2D(uSamplers["+O3p+"], vTextureCoord);",o3p+="\n}";}return o3p+"\n\n";}I3p.__esModule=true;I3p.default=function(y3p,q3p){var h3p=c3p,h3p=h3p.replace(/%count%/gi,q3p),h3p=h3p.replace(/%forloop%/gi,M3p(q3p));y3p=new T3p.default(y3p,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",h3p);for(var h3p=[],H3p=0;H3p<q3p;H3p++){h3p[H3p]=H3p;}y3p.bind();y3p.uniforms.uSamplers=h3p;return y3p;};var T3p=(s3p=n3p("../../Shader"))&&s3p.__esModule?s3p:{default:s3p};n3p("path");var c3p="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\nvoid main(void){\nvec4 color;\nfloat textureId = floor(vTextureId+0.5);\n%forloop%\ngl_FragColor = color * vColor;\n}";},{"../../Shader":44,path:8}],108:[function(Z3p,j3p,B3p){function u3p(z3p){return z3p&&z3p.__esModule?z3p:{default:z3p};}function Q3p(d3p,D3p){if("function"!==typeof D3p&&null!==D3p){throw new TypeError("Super expression must either be null or a function, not "+typeof D3p);}d3p.prototype=Object.create(D3p&&D3p.prototype,{constructor:{value:d3p,enumerable:false,writable:true,configurable:true}});D3p&&(Object.setPrototypeOf?Object.setPrototypeOf(d3p,D3p):d3p.__proto__=D3p);}B3p.__esModule=true;var N3p=function(){function X3p(e3p,G3p){for(var U3p=0;U3p<G3p.length;U3p++){var W3p=G3p[U3p];W3p.enumerable=W3p.enumerable||false;W3p.configurable=true;"value"in W3p&&(W3p.writable=true);Object.defineProperty(e3p,W3p.key,W3p);}}return function(F3p,p3p,V3p){p3p&&X3p(F3p.prototype,p3p);V3p&&X3p(F3p,V3p);return F3p;};}();j3p=Z3p("../sprites/Sprite");j3p=u3p(j3p);var E3p=Z3p("../textures/Texture"),J3p=u3p(E3p),S3p=Z3p("../math"),K3p=Z3p("../utils"),f3p=Z3p("../const"),E3p=Z3p("../settings"),b3p=u3p(E3p),E3p=Z3p("./TextStyle"),t3p=u3p(E3p),E3p=Z3p("./TextMetrics"),l3p=u3p(E3p);Z3p=Z3p("../utils/trimCanvas");var C3p=u3p(Z3p),m3p={texture:true,children:false,baseTexture:true};Z3p=function(v3p){function P3p(i3p,a3p,R3p){if(!(this instanceof P3p)){throw new TypeError("Cannot call a class as a function");}R3p=R3p||document.createElement("canvas");R3p.width=3;R3p.height=3;var L3p=J3p.default.fromCanvas(R3p,b3p.default.SCALE_MODE,"text");L3p.orig=new S3p.Rectangle();L3p.trim=new S3p.Rectangle();L3p=v3p.call(this,L3p);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}L3p=!L3p||"object"!==typeof L3p&&"function"!==typeof L3p?this:L3p;J3p.default.addToCache(L3p._texture,L3p._texture.baseTexture.textureCacheIds[0]);L3p.canvas=R3p;L3p.context=L3p.canvas.getContext("2d");L3p.resolution=b3p.default.RESOLUTION;L3p._text=null;L3p._style=null;L3p._styleListener=null;L3p._font="";L3p.text=i3p;L3p.style=a3p;L3p.localStyleID=-1;return L3p;}Q3p(P3p,v3p);P3p.prototype.updateText=function(Y3p){var s5p=this;var x3p=this._style;this.localStyleID!==x3p.styleID&&(this.dirty=true,this.localStyleID=x3p.styleID);if(this.dirty||!Y3p){this._font=this._style.toFontString();var k3p=this.context,w3p=l3p.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),r5p=w3p.height;Y3p=w3p.lines;var T5p=w3p.lineHeight,n5p=w3p.lineWidths,I5p=w3p.maxLineWidth,c5p=w3p.fontProperties;this.canvas.width=Math.ceil((w3p.width+2*x3p.padding)*this.resolution);this.canvas.height=Math.ceil((r5p+2*x3p.padding)*this.resolution);k3p.scale(this.resolution,this.resolution);k3p.clearRect(0,0,this.canvas.width,this.canvas.height);k3p.font=this._font;k3p.strokeStyle=x3p.stroke;k3p.lineWidth=x3p.strokeThickness;k3p.textBaseline=x3p.textBaseline;k3p.lineJoin=x3p.lineJoin;k3p.miterLimit=x3p.miterLimit;if(x3p.dropShadow){k3p.fillStyle=x3p.dropShadowColor;k3p.globalAlpha=x3p.dropShadowAlpha;k3p.shadowBlur=x3p.dropShadowBlur;0<x3p.dropShadowBlur&&(k3p.shadowColor=x3p.dropShadowColor);for(var M5p=Math.cos(x3p.dropShadowAngle)*x3p.dropShadowDistance,o5p=Math.sin(x3p.dropShadowAngle)*x3p.dropShadowDistance,A3p=0;A3p<Y3p.length;A3p++){w3p=x3p.strokeThickness/2,r5p=x3p.strokeThickness/2+A3p*T5p+c5p.ascent,"right"===x3p.align?w3p+=I5p-n5p[A3p]:"center"===x3p.align&&(w3p+=(I5p-n5p[A3p])/2),x3p.fill&&(s5p.drawLetterSpacing(Y3p[A3p],w3p+M5p+x3p.padding,r5p+o5p+x3p.padding),x3p.stroke&&x3p.strokeThickness&&(k3p.strokeStyle=x3p.dropShadowColor,s5p.drawLetterSpacing(Y3p[A3p],w3p+M5p+x3p.padding,r5p+o5p+x3p.padding,true),k3p.strokeStyle=x3p.stroke));}}k3p.shadowBlur=0;k3p.globalAlpha=1;k3p.fillStyle=this._generateFillStyle(x3p,Y3p);for(k3p=0;k3p<Y3p.length;k3p++){w3p=x3p.strokeThickness/2,r5p=x3p.strokeThickness/2+k3p*T5p+c5p.ascent,"right"===x3p.align?w3p+=I5p-n5p[k3p]:"center"===x3p.align&&(w3p+=(I5p-n5p[k3p])/2),x3p.stroke&&x3p.strokeThickness&&s5p.drawLetterSpacing(Y3p[k3p],w3p+x3p.padding,r5p+x3p.padding,true),x3p.fill&&s5p.drawLetterSpacing(Y3p[k3p],w3p+x3p.padding,r5p+x3p.padding);}this.updateTexture();}};P3p.prototype.drawLetterSpacing=function(y5p,u5p,g5p){var h5p=this;var q5p=3<arguments.length&&void 0!==arguments[3]?arguments[3]:false,Z5p=this._style.letterSpacing;if(0===Z5p){q5p?this.context.strokeText(y5p,u5p,g5p):this.context.fillText(y5p,u5p,g5p);}else{for(var j5p=String.prototype.split.call(y5p,""),H5p=u5p,E5p=0,O5p;E5p<y5p.length;){O5p=j5p[E5p++],q5p?h5p.context.strokeText(O5p,H5p,g5p):h5p.context.fillText(O5p,H5p,g5p),H5p+=h5p.context.measureText(O5p).width+Z5p;}}};P3p.prototype.updateTexture=function(){var S5p=this.canvas;if(this._style.trim){var J5p=(0,C3p.default)(S5p);S5p.width=J5p.width;S5p.height=J5p.height;this.context.putImageData(J5p.data,0,0);}var J5p=this._texture,K5p=this._style,K5p=K5p.trim?0:K5p.padding,b5p=J5p.baseTexture;b5p.hasLoaded=true;b5p.resolution=this.resolution;b5p.realWidth=S5p.width;b5p.realHeight=S5p.height;b5p.width=S5p.width/this.resolution;b5p.height=S5p.height/this.resolution;J5p.trim.width=J5p._frame.width=S5p.width/this.resolution;J5p.trim.height=J5p._frame.height=S5p.height/this.resolution;J5p.trim.x=-K5p;J5p.trim.y=-K5p;J5p.orig.width=J5p._frame.width-2*K5p;J5p.orig.height=J5p._frame.height-2*K5p;this._onTextureUpdate();b5p.emit("update",b5p);this.dirty=false;};P3p.prototype.renderWebGL=function(t5p){this.resolution!==t5p.resolution&&(this.resolution=t5p.resolution,this.dirty=true);this.updateText(true);v3p.prototype.renderWebGL.call(this,t5p);};P3p.prototype._renderCanvas=function(C5p){this.resolution!==C5p.resolution&&(this.resolution=C5p.resolution,this.dirty=true);this.updateText(true);v3p.prototype._renderCanvas.call(this,C5p);};P3p.prototype.getLocalBounds=function(N5p){this.updateText(true);return v3p.prototype.getLocalBounds.call(this,N5p);};P3p.prototype._calculateBounds=function(){this.updateText(true);this.calculateVertices();this._bounds.addQuad(this.vertexData);};P3p.prototype._onStyleChange=function(){this.dirty=true;};P3p.prototype._generateFillStyle=function(f5p,m5p){if(!Array.isArray(f5p.fill)){return f5p.fill;}if(navigator.isCocoonJS){return f5p.fill[0];}var z5p,B5p,d5p;z5p=this.canvas.width/this.resolution;B5p=this.canvas.height/this.resolution;var l5p=f5p.fill.slice(),Q5p=f5p.fillGradientStops.slice();if(!Q5p.length){d5p=l5p.length+1;for(var D5p=1;D5p<d5p;++D5p){Q5p.push(D5p/d5p);}}l5p.unshift(f5p.fill[0]);Q5p.unshift(0);l5p.push(f5p.fill[f5p.fill.length-1]);Q5p.push(1);if(f5p.fillGradientType===f3p.TEXT_GRADIENT.LINEAR_VERTICAL){for(f5p=this.context.createLinearGradient(z5p/2,0,z5p/2,B5p),z5p=(l5p.length+1)*m5p.length,D5p=B5p=0;D5p<m5p.length;D5p++){B5p+=1;for(var X5p=0;X5p<l5p.length;X5p++){d5p="number"===typeof Q5p[X5p]?Q5p[X5p]/m5p.length+D5p/m5p.length:B5p/z5p,f5p.addColorStop(d5p,l5p[X5p]),B5p++;}}}else{for(f5p=this.context.createLinearGradient(0,B5p/2,z5p,B5p/2),z5p=l5p.length+1,B5p=1,m5p=0;m5p<l5p.length;m5p++){d5p="number"===typeof Q5p[m5p]?Q5p[m5p]:B5p/z5p,f5p.addColorStop(d5p,l5p[m5p]),B5p++;}}return f5p;};P3p.prototype.destroy=function(W5p){"boolean"===typeof W5p&&(W5p={children:W5p});W5p=Object.assign({},m3p,W5p);v3p.prototype.destroy.call(this,W5p);this._style=this.canvas=this.context=null;};N3p(P3p,[{key:"width",get:function(){this.updateText(true);return Math.abs(this.scale.x)*this._texture.orig.width;},set:function(U5p){this.updateText(true);var G5p=(0,K3p.sign)(this.scale.x)||1;this.scale.x=G5p*U5p/this._texture.orig.width;this._width=U5p;}},{key:"height",get:function(){this.updateText(true);return Math.abs(this.scale.y)*this._texture.orig.height;},set:function(e5p){this.updateText(true);var F5p=(0,K3p.sign)(this.scale.y)||1;this.scale.y=F5p*e5p/this._texture.orig.height;this._height=e5p;}},{key:"style",get:function(){return this._style;},set:function(p5p){p5p=p5p||{};this._style=p5p instanceof t3p.default?p5p:new t3p.default(p5p);this.localStyleID=-1;this.dirty=true;}},{key:"text",get:function(){return this._text;},set:function(V5p){V5p=String(""===V5p||null===V5p||void 0===V5p?" ":V5p);this._text!==V5p&&(this._text=V5p,this.dirty=true);}}]);return P3p;}(j3p.default);B3p.default=Z3p;},{"../const":46,"../math":70,"../settings":101,"../sprites/Sprite":102,"../textures/Texture":115,"../utils":125,"../utils/trimCanvas":130,"./TextMetrics":109,"./TextStyle":110}],109:[function(v5p,L5p,P5p){P5p.__esModule=true;v5p=function(){function R5p(i5p,a5p,x5p,k5p,w5p,Y5p,A5p,r9p,s9p){if(!(this instanceof R5p)){throw new TypeError("Cannot call a class as a function");}this.text=i5p;this.style=a5p;this.width=x5p;this.height=k5p;this.lines=w5p;this.lineWidths=Y5p;this.lineHeight=A5p;this.maxLineWidth=r9p;this.fontProperties=s9p;}R5p.measureText=function(h9p,n9p,y9p){var I9p=3<arguments.length&&void 0!==arguments[3]?arguments[3]:R5p._canvas;y9p=y9p||n9p.wordWrap;var c9p=n9p.toFontString(),g9p=R5p.measureFont(c9p),o9p=I9p.getContext("2d");o9p.font=c9p;for(var I9p=(y9p?R5p.wordWrap(h9p,n9p,I9p):h9p).split(/(?:\r\n|\r|\n)/),c9p=Array(I9p.length),O9p=0,T9p=0;T9p<I9p.length;T9p++){var M9p=o9p.measureText(I9p[T9p]).width+(I9p[T9p].length-1)*n9p.letterSpacing;c9p[T9p]=M9p;O9p=Math.max(O9p,M9p);}o9p=O9p+n9p.strokeThickness;n9p.dropShadow&&(o9p+=n9p.dropShadowDistance);T9p=n9p.lineHeight||g9p.fontSize+n9p.strokeThickness;M9p=Math.max(T9p,g9p.fontSize+n9p.strokeThickness)+(I9p.length-1)*(T9p+n9p.leading);n9p.dropShadow&&(M9p+=n9p.dropShadowDistance);return new R5p(h9p,n9p,o9p,M9p,I9p,c9p,T9p+n9p.leading,O9p,g9p);};R5p.wordWrap=function(f9p,m9p){for(var C9p=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:R5p._canvas).getContext("2d"),q9p="",B9p=f9p.charAt(0),t9p=f9p.split("\n"),b9p=m9p.wordWrapWidth,N9p={},K9p=0;K9p<t9p.length;K9p++){for(var u9p=b9p,S9p=t9p[K9p].split(" "),H9p=0;H9p<S9p.length;H9p++){var E9p=C9p.measureText(S9p[H9p]).width;if(m9p.breakWords&&E9p>b9p){for(var E9p=S9p[H9p].split(""),Z9p=0;Z9p<E9p.length;Z9p++){var J9p=E9p[Z9p],j9p=N9p[J9p];void 0===j9p&&(j9p=C9p.measureText(J9p).width,N9p[J9p]=j9p);j9p>u9p?(q9p+="\n"+J9p,u9p=b9p-j9p):(0===Z9p&&(0<H9p||" "===B9p)&&(q9p+=" "),q9p+=J9p,u9p-=j9p);}}else{Z9p=E9p+C9p.measureText(" ").width,0===H9p||Z9p>u9p?(0<H9p&&(q9p+="\n"),q9p+=S9p[H9p],u9p=b9p-E9p):(u9p-=Z9p,q9p+=" "+S9p[H9p]);}}K9p<t9p.length-1&&(q9p+="\n");}return q9p;};R5p.measureFont=function(e9p){if(R5p._fonts[e9p]){return R5p._fonts[e9p];}var W9p={},d9p=R5p._canvas,l9p=R5p._context;l9p.font=e9p;var Q9p=Math.ceil(l9p.measureText("|M\u00c9q").width),z9p=Math.ceil(l9p.measureText("M").width),D9p=2*z9p,z9p=1.4*z9p|0;d9p.width=Q9p;d9p.height=D9p;l9p.fillStyle="#f00";l9p.fillRect(0,0,Q9p,D9p);l9p.font=e9p;l9p.textBaseline="alphabetic";l9p.fillStyle="#000";l9p.fillText("|M\u00c9q",0,z9p);var d9p=l9p.getImageData(0,0,Q9p,D9p).data,l9p=d9p.length,Q9p=4*Q9p,X9p,U9p=0,G9p=false;for(X9p=0;X9p<z9p;++X9p){for(var F9p=0;F9p<Q9p;F9p+=4){if(255!==d9p[U9p+F9p]){G9p=true;break;}}if(G9p){break;}else{U9p+=Q9p;}}W9p.ascent=z9p-X9p;U9p=l9p-Q9p;G9p=false;for(X9p=D9p;X9p>z9p;--X9p){for(D9p=0;D9p<Q9p;D9p+=4){if(255!==d9p[U9p+D9p]){G9p=true;break;}}if(G9p){break;}else{U9p-=Q9p;}}W9p.descent=X9p-z9p;W9p.fontSize=W9p.ascent+W9p.descent;return R5p._fonts[e9p]=W9p;};return R5p;}();P5p.default=v5p;P5p=document.createElement("canvas");P5p.width=P5p.height=10;v5p._canvas=P5p;v5p._context=P5p.getContext("2d");v5p._fonts={};},{}],110:[function(p9p,L9p,R9p){function i9p(k9p){if("number"===typeof k9p){return(0,x9p.hex2string)(k9p);}"string"===typeof k9p&&0===k9p.indexOf("0x")&&(k9p=k9p.replace("0x","#"));return k9p;}function P9p(w9p){if(Array.isArray(w9p)){for(var Y9p=0;Y9p<w9p.length;++Y9p){w9p[Y9p]=i9p(w9p[Y9p]);}return w9p;}return i9p(w9p);}function v9p(s1p,r1p,n1p){for(var A9p in n1p){Array.isArray(r1p[A9p])?s1p[A9p]=r1p[A9p].slice():s1p[A9p]=r1p[A9p];}}R9p.__esModule=true;var a9p=function(){function I1p(o1p,M1p){for(var c1p=0;c1p<M1p.length;c1p++){var T1p=M1p[c1p];T1p.enumerable=T1p.enumerable||false;T1p.configurable=true;"value"in T1p&&(T1p.writable=true);Object.defineProperty(o1p,T1p.key,T1p);}}return function(O1p,g1p,h1p){g1p&&I1p(O1p.prototype,g1p);h1p&&I1p(O1p,h1p);return O1p;};}();L9p=p9p("../const");var x9p=p9p("../utils"),V9p={align:"left",breakWords:false,dropShadow:false,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:L9p.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:false,wordWrap:false,wordWrapWidth:100,leading:0};p9p=function(){function y1p(H1p){if(!(this instanceof y1p)){throw new TypeError("Cannot call a class as a function");}this.styleID=0;this.reset();v9p(this,H1p,H1p);}y1p.prototype.clone=function(){var q1p={};v9p(q1p,this,V9p);return new y1p(q1p);};y1p.prototype.reset=function(){v9p(this,V9p,V9p);};y1p.prototype.toFontString=function(){var j1p="number"===typeof this.fontSize?this.fontSize+"px":this.fontSize,Z1p=this.fontFamily;Array.isArray(this.fontFamily)||(Z1p=this.fontFamily.split(","));for(var E1p=Z1p.length-1;0<=E1p;E1p--){var u1p=Z1p[E1p].trim();/([\"\'])[^\'\"]+\1/.test(u1p)||(u1p='"'+u1p+'"');Z1p[E1p]=u1p;}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+j1p+" "+Z1p.join(",");};a9p(y1p,[{key:"align",get:function(){return this._align;},set:function(J1p){this._align!==J1p&&(this._align=J1p,this.styleID++);}},{key:"breakWords",get:function(){return this._breakWords;},set:function(S1p){this._breakWords!==S1p&&(this._breakWords=S1p,this.styleID++);}},{key:"dropShadow",get:function(){return this._dropShadow;},set:function(K1p){this._dropShadow!==K1p&&(this._dropShadow=K1p,this.styleID++);}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha;},set:function(b1p){this._dropShadowAlpha!==b1p&&(this._dropShadowAlpha=b1p,this.styleID++);}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle;},set:function(t1p){this._dropShadowAngle!==t1p&&(this._dropShadowAngle=t1p,this.styleID++);}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur;},set:function(C1p){this._dropShadowBlur!==C1p&&(this._dropShadowBlur=C1p,this.styleID++);}},{key:"dropShadowColor",get:function(){return this._dropShadowColor;},set:function(N1p){N1p=P9p(N1p);this._dropShadowColor!==N1p&&(this._dropShadowColor=N1p,this.styleID++);}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance;},set:function(f1p){this._dropShadowDistance!==f1p&&(this._dropShadowDistance=f1p,this.styleID++);}},{key:"fill",get:function(){return this._fill;},set:function(B1p){B1p=P9p(B1p);this._fill!==B1p&&(this._fill=B1p,this.styleID++);}},{key:"fillGradientType",get:function(){return this._fillGradientType;},set:function(m1p){this._fillGradientType!==m1p&&(this._fillGradientType=m1p,this.styleID++);}},{key:"fillGradientStops",get:function(){return this._fillGradientStops;},set:function(z1p){var l1p;a:if(l1p=this._fillGradientStops,Array.isArray(l1p)&&Array.isArray(z1p)&&l1p.length===z1p.length){for(var Q1p=0;Q1p<l1p.length;++Q1p){if(l1p[Q1p]!==z1p[Q1p]){l1p=false;break a;}}l1p=true;}else{l1p=false;}l1p||(this._fillGradientStops=z1p,this.styleID++);}},{key:"fontFamily",get:function(){return this._fontFamily;},set:function(D1p){this.fontFamily!==D1p&&(this._fontFamily=D1p,this.styleID++);}},{key:"fontSize",get:function(){return this._fontSize;},set:function(d1p){this._fontSize!==d1p&&(this._fontSize=d1p,this.styleID++);}},{key:"fontStyle",get:function(){return this._fontStyle;},set:function(X1p){this._fontStyle!==X1p&&(this._fontStyle=X1p,this.styleID++);}},{key:"fontVariant",get:function(){return this._fontVariant;},set:function(W1p){this._fontVariant!==W1p&&(this._fontVariant=W1p,this.styleID++);}},{key:"fontWeight",get:function(){return this._fontWeight;},set:function(U1p){this._fontWeight!==U1p&&(this._fontWeight=U1p,this.styleID++);}},{key:"letterSpacing",get:function(){return this._letterSpacing;},set:function(G1p){this._letterSpacing!==G1p&&(this._letterSpacing=G1p,this.styleID++);}},{key:"lineHeight",get:function(){return this._lineHeight;},set:function(e1p){this._lineHeight!==e1p&&(this._lineHeight=e1p,this.styleID++);}},{key:"leading",get:function(){return this._leading;},set:function(F1p){this._leading!==F1p&&(this._leading=F1p,this.styleID++);}},{key:"lineJoin",get:function(){return this._lineJoin;},set:function(p1p){this._lineJoin!==p1p&&(this._lineJoin=p1p,this.styleID++);}},{key:"miterLimit",get:function(){return this._miterLimit;},set:function(V1p){this._miterLimit!==V1p&&(this._miterLimit=V1p,this.styleID++);}},{key:"padding",get:function(){return this._padding;},set:function(P1p){this._padding!==P1p&&(this._padding=P1p,this.styleID++);}},{key:"stroke",get:function(){return this._stroke;},set:function(v1p){v1p=P9p(v1p);this._stroke!==v1p&&(this._stroke=v1p,this.styleID++);}},{key:"strokeThickness",get:function(){return this._strokeThickness;},set:function(L1p){this._strokeThickness!==L1p&&(this._strokeThickness=L1p,this.styleID++);}},{key:"textBaseline",get:function(){return this._textBaseline;},set:function(R1p){this._textBaseline!==R1p&&(this._textBaseline=R1p,this.styleID++);}},{key:"trim",get:function(){return this._trim;},set:function(i1p){this._trim!==i1p&&(this._trim=i1p,this.styleID++);}},{key:"wordWrap",get:function(){return this._wordWrap;},set:function(a1p){this._wordWrap!==a1p&&(this._wordWrap=a1p,this.styleID++);}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth;},set:function(x1p){this._wordWrapWidth!==x1p&&(this._wordWrapWidth=x1p,this.styleID++);}}]);return y1p;}();R9p.default=p9p;},{"../const":46,"../utils":125}],111:[function(k1p,w1p,A1p){function r4p(n4p,s4p){if("function"!==typeof s4p&&null!==s4p){throw new TypeError("Super expression must either be null or a function, not "+typeof s4p);}n4p.prototype=Object.create(s4p&&s4p.prototype,{constructor:{value:n4p,enumerable:false,writable:true,configurable:true}});s4p&&(Object.setPrototypeOf?Object.setPrototypeOf(n4p,s4p):n4p.__proto__=s4p);}A1p.__esModule=true;w1p=(w1p=k1p("./BaseTexture"))&&w1p.__esModule?w1p:{default:w1p};var Y1p=(k1p=k1p("../settings"))&&k1p.__esModule?k1p:{default:k1p};k1p=function(T4p){function I4p(){var o4p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100,O4p=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,M4p=arguments[2],g4p=arguments[3];if(!(this instanceof I4p)){throw new TypeError("Cannot call a class as a function");}var c4p;c4p=T4p.call(this,null,M4p);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}c4p=!c4p||"object"!==typeof c4p&&"function"!==typeof c4p?this:c4p;c4p.resolution=g4p||Y1p.default.RESOLUTION;c4p.width=Math.ceil(o4p);c4p.height=Math.ceil(O4p);c4p.realWidth=c4p.width*c4p.resolution;c4p.realHeight=c4p.height*c4p.resolution;c4p.scaleMode=void 0!==M4p?M4p:Y1p.default.SCALE_MODE;c4p.hasLoaded=true;c4p._glRenderTargets={};c4p._canvasRenderTarget=null;c4p.valid=false;return c4p;}r4p(I4p,T4p);I4p.prototype.resize=function(h4p,y4p){h4p=Math.ceil(h4p);y4p=Math.ceil(y4p);if(h4p!==this.width||y4p!==this.height){this.valid=0<h4p&&0<y4p,this.width=h4p,this.height=y4p,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this);}};I4p.prototype.destroy=function(){T4p.prototype.destroy.call(this,true);this.renderer=null;};return I4p;}(w1p.default);A1p.default=k1p;},{"../settings":101,"./BaseTexture":112}],112:[function(q4p,Z4p,J4p){function u4p(t4p){return t4p&&t4p.__esModule?t4p:{default:t4p};}function b4p(N4p,C4p){if("function"!==typeof C4p&&null!==C4p){throw new TypeError("Super expression must either be null or a function, not "+typeof C4p);}N4p.prototype=Object.create(C4p&&C4p.prototype,{constructor:{value:N4p,enumerable:false,writable:true,configurable:true}});C4p&&(Object.setPrototypeOf?Object.setPrototypeOf(N4p,C4p):N4p.__proto__=C4p);}J4p.__esModule=true;var H4p=q4p("../utils");Z4p=q4p("../settings");var E4p=u4p(Z4p);Z4p=q4p("eventemitter3");Z4p=u4p(Z4p);var S4p=q4p("../utils/determineCrossOrigin"),K4p=u4p(S4p);q4p=q4p("bit-twiddle");var j4p=u4p(q4p);q4p=function(B4p){function f4p(l4p,Q4p,z4p){if(!(this instanceof f4p)){throw new TypeError("Cannot call a class as a function");}var m4p;m4p=B4p.call(this);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}m4p=!m4p||"object"!==typeof m4p&&"function"!==typeof m4p?this:m4p;m4p.uid=(0,H4p.uid)();m4p.touched=0;m4p.resolution=z4p||E4p.default.RESOLUTION;m4p.width=100;m4p.height=100;m4p.realWidth=100;m4p.realHeight=100;m4p.scaleMode=void 0!==Q4p?Q4p:E4p.default.SCALE_MODE;m4p.hasLoaded=false;m4p.isLoading=false;m4p.source=null;m4p.origSource=null;m4p.imageType=null;m4p.sourceScale=1;m4p.premultipliedAlpha=true;m4p.imageUrl=null;m4p.isPowerOfTwo=false;m4p.mipmap=E4p.default.MIPMAP_TEXTURES;m4p.wrapMode=E4p.default.WRAP_MODE;m4p._glTextures={};m4p._enabled=0;m4p._virtalBoundId=-1;m4p._destroyed=false;m4p.textureCacheIds=[];l4p&&m4p.loadSource(l4p);return m4p;}b4p(f4p,B4p);f4p.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions());this.emit("update",this);};f4p.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution;this.height=this.realHeight/this.resolution;this.isPowerOfTwo=j4p.default.isPow2(this.realWidth)&&j4p.default.isPow2(this.realHeight);};f4p.prototype.loadSource=function(D4p){var X4p=this.isLoading;this.isLoading=this.hasLoaded=false;X4p&&this.source&&(this.source.onload=null,this.source.onerror=null);var W4p=!this.source;this.source=D4p;if((D4p.src&&D4p.complete||D4p.getContext)&&D4p.width&&D4p.height){this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),W4p&&this.emit("loaded",this);}else if(!D4p.getContext){this.isLoading=true;var d4p=this;D4p.onload=function(){d4p._updateImageType();D4p.onload=null;D4p.onerror=null;d4p.isLoading&&(d4p.isLoading=false,d4p._sourceLoaded(),"svg"===d4p.imageType?d4p._loadSvgSource():d4p.emit("loaded",d4p));};D4p.onerror=function(){D4p.onload=null;D4p.onerror=null;d4p.isLoading&&(d4p.isLoading=false,d4p.emit("error",d4p));};D4p.complete&&D4p.src&&(D4p.onload=null,D4p.onerror=null,"svg"===d4p.imageType?d4p._loadSvgSource():(this.isLoading=false,D4p.width&&D4p.height?(this._sourceLoaded(),X4p&&this.emit("loaded",this)):X4p&&this.emit("error",this)));}};f4p.prototype._updateImageType=function(){if(this.imageUrl){var U4p=(0,H4p.decomposeDataUri)(this.imageUrl);if(U4p&&"image"===U4p.mediaType){if(U4p=U4p.subType.split("+")[0],U4p=(0,H4p.getUrlFileExtension)("."+U4p),!U4p){throw Error("Invalid image type in data URI.");}}else{(U4p=(0,H4p.getUrlFileExtension)(this.imageUrl))||(U4p="png");}this.imageType=U4p;}};f4p.prototype._loadSvgSource=function(){if("svg"===this.imageType){var G4p=(0,H4p.decomposeDataUri)(this.imageUrl);G4p?this._loadSvgSourceUsingDataUri(G4p):this._loadSvgSourceUsingXhr();}};f4p.prototype._loadSvgSourceUsingDataUri=function(e4p){if("base64"===e4p.encoding){if(!atob){throw Error("Your browser doesn't support base64 conversions.");}e4p=atob(e4p.data);}else{e4p=e4p.data;}this._loadSvgSourceUsingString(e4p);};f4p.prototype._loadSvgSourceUsingXhr=function(){var p4p=this,F4p=new XMLHttpRequest();F4p.onload=function(){if(F4p.readyState!==F4p.DONE||200!==F4p.status){throw Error("Failed to load SVG using XHR.");}p4p._loadSvgSourceUsingString(F4p.response);};F4p.onerror=function(){return p4p.emit("error",p4p);};F4p.open("GET",this.imageUrl,true);F4p.send();};f4p.prototype._loadSvgSourceUsingString=function(v4p){var V4p=(0,H4p.getSvgSize)(v4p);v4p=V4p.width;V4p=V4p.height;if(!v4p||!V4p){throw Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");}this.realWidth=Math.round(v4p*this.sourceScale);this.realHeight=Math.round(V4p*this.sourceScale);this._updateDimensions();var P4p=document.createElement("canvas");P4p.width=this.realWidth;P4p.height=this.realHeight;P4p._pixiId="canvas_"+(0,H4p.uid)();P4p.getContext("2d").drawImage(this.source,0,0,v4p,V4p,0,0,this.realWidth,this.realHeight);this.origSource=this.source;this.source=P4p;f4p.addToCache(this,P4p._pixiId);this.isLoading=false;this._sourceLoaded();this.emit("loaded",this);};f4p.prototype._sourceLoaded=function(){this.hasLoaded=true;this.update();};f4p.prototype.destroy=function(){this.imageUrl&&(delete H4p.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src=""));this.source=null;this.dispose();f4p.removeFromCache(this);this.textureCacheIds=null;this._destroyed=true;};f4p.prototype.dispose=function(){this.emit("dispose",this);};f4p.prototype.updateSourceImage=function(L4p){this.source.src=L4p;this.loadSource(this.source);};f4p.fromImage=function(i4p,x4p,w4p,k4p){var R4p=H4p.BaseTextureCache[i4p];if(!R4p){var a4p=new Image();void 0===x4p&&0!==i4p.indexOf("data:")?a4p.crossOrigin=(0,K4p.default)(i4p):x4p&&(a4p.crossOrigin="string"===typeof x4p?x4p:"anonymous");R4p=new f4p(a4p,w4p);R4p.imageUrl=i4p;k4p&&(R4p.sourceScale=k4p);R4p.resolution=(0,H4p.getResolutionOfUrl)(i4p);a4p.src=i4p;f4p.addToCache(R4p,i4p);}return R4p;};f4p.fromCanvas=function(A4p,r7p){var Y4p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"canvas";A4p._pixiId||(A4p._pixiId=Y4p+"_"+(0,H4p.uid)());Y4p=H4p.BaseTextureCache[A4p._pixiId];Y4p||(Y4p=new f4p(A4p,r7p),f4p.addToCache(Y4p,A4p._pixiId));return Y4p;};f4p.from=function(s7p,T7p,c7p){if("string"===typeof s7p){return f4p.fromImage(s7p,void 0,T7p,c7p);}if(s7p instanceof HTMLImageElement){var I7p=s7p.src,n7p=H4p.BaseTextureCache[I7p];n7p||(n7p=new f4p(s7p,T7p),n7p.imageUrl=I7p,c7p&&(n7p.sourceScale=c7p),n7p.resolution=(0,H4p.getResolutionOfUrl)(I7p),f4p.addToCache(n7p,I7p));return n7p;}return s7p instanceof HTMLCanvasElement?f4p.fromCanvas(s7p,T7p):s7p;};f4p.addToCache=function(o7p,M7p){M7p&&(-1===o7p.textureCacheIds.indexOf(M7p)&&o7p.textureCacheIds.push(M7p),H4p.BaseTextureCache[M7p]&&console.warn("BaseTexture added to the cache with an id ["+M7p+"] that already had an entry"),H4p.BaseTextureCache[M7p]=o7p);};f4p.removeFromCache=function(O7p){if("string"===typeof O7p){var g7p=H4p.BaseTextureCache[O7p];if(g7p){var h7p=g7p.textureCacheIds.indexOf(O7p);-1<h7p&&g7p.textureCacheIds.splice(h7p,1);delete H4p.BaseTextureCache[O7p];return g7p;}}else if(O7p&&O7p.textureCacheIds){for(g7p=0;g7p<O7p.textureCacheIds.length;++g7p){delete H4p.BaseTextureCache[O7p.textureCacheIds[g7p]];}O7p.textureCacheIds.length=0;return O7p;}return null;};return f4p;}(Z4p.default);J4p.default=q4p;},{"../settings":101,"../utils":125,"../utils/determineCrossOrigin":124,"bit-twiddle":1,eventemitter3:3}],113:[function(y7p,H7p,Z7p){function E7p(j7p,u7p){if("function"!==typeof u7p&&null!==u7p){throw new TypeError("Super expression must either be null or a function, not "+typeof u7p);}j7p.prototype=Object.create(u7p&&u7p.prototype,{constructor:{value:j7p,enumerable:false,writable:true,configurable:true}});u7p&&(Object.setPrototypeOf?Object.setPrototypeOf(j7p,u7p):j7p.__proto__=u7p);}Z7p.__esModule=true;var q7p=(H7p=y7p("./BaseRenderTexture"))&&H7p.__esModule?H7p:{default:H7p};y7p=y7p("./Texture");y7p=function(S7p){function J7p(K7p,b7p,N7p,f7p,B7p){if(!(this instanceof J7p)){throw new TypeError("Cannot call a class as a function");}var t7p=null;if(!(K7p instanceof q7p.default)){var C7p=b7p;console.warn("Please use RenderTexture.create("+C7p+", "+N7p+") instead of the ctor directly.");t7p=K7p;b7p=null;K7p=new q7p.default(C7p,N7p,f7p,B7p);}K7p=S7p.call(this,K7p,b7p);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}K7p=!K7p||"object"!==typeof K7p&&"function"!==typeof K7p?this:K7p;K7p.legacyRenderer=t7p;K7p.valid=true;K7p._updateUvs();return K7p;}E7p(J7p,S7p);J7p.prototype.resize=function(m7p,l7p,Q7p){m7p=Math.ceil(m7p);l7p=Math.ceil(l7p);this.valid=0<m7p&&0<l7p;this._frame.width=this.orig.width=m7p;this._frame.height=this.orig.height=l7p;Q7p||this.baseTexture.resize(m7p,l7p);this._updateUvs();};J7p.create=function(z7p,D7p,d7p,X7p){return new J7p(new q7p.default(z7p,D7p,d7p,X7p));};return J7p;}((y7p&&y7p.__esModule?y7p:{default:y7p}).default);Z7p.default=y7p;},{"./BaseRenderTexture":111,"./Texture":115}],114:[function(U7p,p7p,G7p){G7p.__esModule=true;var e7p=function(){function V7p(R7p,L7p){for(var v7p=0;v7p<L7p.length;v7p++){var P7p=L7p[v7p];P7p.enumerable=P7p.enumerable||false;P7p.configurable=true;"value"in P7p&&(P7p.writable=true);Object.defineProperty(R7p,P7p.key,P7p);}}return function(i7p,a7p,x7p){a7p&&V7p(i7p.prototype,a7p);x7p&&V7p(i7p,x7p);return i7p;};}(),W7p=U7p("../"),F7p=U7p("../utils");U7p=function(){function k7p(Y7p,A7p){var w7p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!(this instanceof k7p)){throw new TypeError("Cannot call a class as a function");}this.baseTexture=Y7p;this.textures={};this.data=A7p;this.resolution=this._updateResolution(w7p||this.baseTexture.imageUrl);this._frames=this.data.frames;this._frameKeys=Object.keys(this._frames);this._batchIndex=0;this._callback=null;}e7p(k7p,null,[{key:"BATCH_SIZE",get:function(){return 1E3;}}]);k7p.prototype._updateResolution=function(r6p){var s6p=this.data.meta.scale;r6p=(0,F7p.getResolutionOfUrl)(r6p,null);null===r6p&&(r6p=void 0!==s6p?parseFloat(s6p):1);1!==r6p&&(this.baseTexture.resolution=r6p,this.baseTexture.update());return r6p;};k7p.prototype.parse=function(n6p){this._batchIndex=0;this._callback=n6p;this._frameKeys.length<=k7p.BATCH_SIZE?(this._processFrames(0),this._parseComplete()):this._nextBatch();};k7p.prototype._processFrames=function(H6p){var I6p=this;for(var o6p=H6p,h6p=k7p.BATCH_SIZE,T6p=this.baseTexture.sourceScale;o6p-H6p<h6p&&o6p<this._frameKeys.length;){var c6p=I6p._frameKeys[o6p],M6p=I6p._frames[c6p].frame;if(M6p){var y6p,O6p=null,g6p=new W7p.Rectangle(0,0,Math.floor(I6p._frames[c6p].sourceSize.w*T6p)/I6p.resolution,Math.floor(I6p._frames[c6p].sourceSize.h*T6p)/I6p.resolution);y6p=I6p._frames[c6p].rotated?new W7p.Rectangle(Math.floor(M6p.x*T6p)/I6p.resolution,Math.floor(M6p.y*T6p)/I6p.resolution,Math.floor(M6p.h*T6p)/I6p.resolution,Math.floor(M6p.w*T6p)/I6p.resolution):new W7p.Rectangle(Math.floor(M6p.x*T6p)/I6p.resolution,Math.floor(M6p.y*T6p)/I6p.resolution,Math.floor(M6p.w*T6p)/I6p.resolution,Math.floor(M6p.h*T6p)/I6p.resolution);I6p._frames[c6p].trimmed&&(O6p=new W7p.Rectangle(Math.floor(I6p._frames[c6p].spriteSourceSize.x*T6p)/I6p.resolution,Math.floor(I6p._frames[c6p].spriteSourceSize.y*T6p)/I6p.resolution,Math.floor(M6p.w*T6p)/I6p.resolution,Math.floor(M6p.h*T6p)/I6p.resolution));I6p.textures[c6p]=new W7p.Texture(I6p.baseTexture,y6p,g6p,O6p,I6p._frames[c6p].rotated?2:0);W7p.Texture.addToCache(I6p.textures[c6p],c6p);}o6p++;}};k7p.prototype._parseComplete=function(){var q6p=this._callback;this._callback=null;this._batchIndex=0;q6p.call(this,this.textures);};k7p.prototype._nextBatch=function(){var Z6p=this;this._processFrames(this._batchIndex*k7p.BATCH_SIZE);this._batchIndex++;setTimeout(function(){Z6p._batchIndex*k7p.BATCH_SIZE<Z6p._frameKeys.length?Z6p._nextBatch():Z6p._parseComplete();},0);};k7p.prototype.destroy=function(){var E6p=this;var u6p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:false,j6p;for(j6p in E6p.textures){E6p.textures[j6p].destroy();}this.textures=this.data=this._frameKeys=this._frames=null;u6p&&this.baseTexture.destroy();this.baseTexture=null;};return k7p;}();G7p.default=U7p;},{"../":65,"../utils":125}],115:[function(t6p,K6p,m6p){function C6p(d6p){return d6p&&d6p.__esModule?d6p:{default:d6p};}function D6p(W6p,X6p){if("function"!==typeof X6p&&null!==X6p){throw new TypeError("Super expression must either be null or a function, not "+typeof X6p);}W6p.prototype=Object.create(X6p&&X6p.prototype,{constructor:{value:W6p,enumerable:false,writable:true,configurable:true}});X6p&&(Object.setPrototypeOf?Object.setPrototypeOf(W6p,X6p):W6p.__proto__=X6p);}function N6p(U6p){U6p.destroy=function(){};U6p.on=function(){};U6p.once=function(){};U6p.emit=function(){};}m6p.__esModule=true;var Q6p=function(){function G6p(V6p,p6p){for(var F6p=0;F6p<p6p.length;F6p++){var e6p=p6p[F6p];e6p.enumerable=e6p.enumerable||false;e6p.configurable=true;"value"in e6p&&(e6p.writable=true);Object.defineProperty(V6p,e6p.key,e6p);}}return function(P6p,v6p,L6p){v6p&&G6p(P6p.prototype,v6p);L6p&&G6p(P6p,L6p);return P6p;};}();K6p=t6p("./BaseTexture");var b6p=C6p(K6p);K6p=t6p("./VideoBaseTexture");var B6p=C6p(K6p);K6p=t6p("./TextureUvs");var l6p=C6p(K6p);K6p=t6p("eventemitter3");K6p=C6p(K6p);var f6p=t6p("../math"),J6p=t6p("../utils");t6p=t6p("../settings");var z6p=C6p(t6p),S6p=function(i6p){function R6p(x6p,k6p,Y6p,A6p,w6p){if(!(this instanceof R6p)){throw new TypeError("Cannot call a class as a function");}var a6p;a6p=i6p.call(this);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}a6p=!a6p||"object"!==typeof a6p&&"function"!==typeof a6p?this:a6p;a6p.noFrame=false;k6p||(a6p.noFrame=true,k6p=new f6p.Rectangle(0,0,1,1));x6p instanceof R6p&&(x6p=x6p.baseTexture);a6p.baseTexture=x6p;a6p._frame=k6p;a6p.trim=A6p;a6p.valid=false;a6p.requiresUpdate=false;a6p._uvs=null;a6p.orig=Y6p||k6p;a6p._rotate=Number(w6p||0);if(true===w6p){a6p._rotate=2;}else if(0!==a6p._rotate%2){throw Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");}if(x6p.hasLoaded){a6p.noFrame&&(k6p=new f6p.Rectangle(0,0,x6p.width,x6p.height),x6p.on("update",a6p.onBaseTextureUpdated,a6p)),a6p.frame=k6p;}else{x6p.once("loaded",a6p.onBaseTextureLoaded,a6p);}a6p._updateID=0;a6p.transform=null;a6p.textureCacheIds=[];return a6p;}D6p(R6p,i6p);R6p.prototype.update=function(){this.baseTexture.update();};R6p.prototype.onBaseTextureLoaded=function(r85){this._updateID++;this.frame=this.noFrame?new f6p.Rectangle(0,0,r85.width,r85.height):this._frame;this.baseTexture.on("update",this.onBaseTextureUpdated,this);this.emit("update",this);};R6p.prototype.onBaseTextureUpdated=function(s85){this._updateID++;this._frame.width=s85.width;this._frame.height=s85.height;this.emit("update",this);};R6p.prototype.destroy=function(n85){this.baseTexture&&(n85&&(J6p.TextureCache[this.baseTexture.imageUrl]&&R6p.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null);this.orig=this.trim=this._uvs=this._frame=null;this.valid=false;R6p.removeFromCache(this);this.textureCacheIds=null;};R6p.prototype.clone=function(){return new R6p(this.baseTexture,this.frame,this.orig,this.trim,this.rotate);};R6p.prototype._updateUvs=function(){this._uvs||(this._uvs=new l6p.default());this._uvs.set(this._frame,this.baseTexture,this.rotate);this._updateID++;};R6p.fromImage=function(T85,c85,M85,o85){var I85=J6p.TextureCache[T85];I85||(I85=new R6p(b6p.default.fromImage(T85,c85,M85,o85)),R6p.addToCache(I85,T85));return I85;};R6p.fromFrame=function(g85){var O85=J6p.TextureCache[g85];if(!O85){throw Error('The frameId "'+g85+'" does not exist in the texture cache');}return O85;};R6p.fromCanvas=function(h85,y85){return new R6p(b6p.default.fromCanvas(h85,y85,2<arguments.length&&void 0!==arguments[2]?arguments[2]:"canvas"));};R6p.fromVideo=function(H85,q85){return"string"===typeof H85?R6p.fromVideoUrl(H85,q85):new R6p(B6p.default.fromVideo(H85,q85));};R6p.fromVideoUrl=function(Z85,E85){return new R6p(B6p.default.fromUrl(Z85,E85));};R6p.from=function(u85){if("string"===typeof u85){var j85=J6p.TextureCache[u85];return j85?j85:null!==u85.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?R6p.fromVideoUrl(u85):R6p.fromImage(u85);}return u85 instanceof HTMLImageElement?new R6p(b6p.default.from(u85)):u85 instanceof HTMLCanvasElement?R6p.fromCanvas(u85,z6p.default.SCALE_MODE,"HTMLCanvasElement"):u85 instanceof HTMLVideoElement?R6p.fromVideo(u85):u85 instanceof b6p.default?new R6p(u85):u85;};R6p.fromLoader=function(b85,J85,K85){b85=new b6p.default(b85,void 0,(0,J6p.getResolutionOfUrl)(J85));var S85=new R6p(b85);b85.imageUrl=J85;K85||(K85=J85);b6p.default.addToCache(S85.baseTexture,K85);R6p.addToCache(S85,K85);K85!==J85&&(b6p.default.addToCache(S85.baseTexture,J85),R6p.addToCache(S85,J85));return S85;};R6p.addToCache=function(C85,t85){t85&&(-1===C85.textureCacheIds.indexOf(t85)&&C85.textureCacheIds.push(t85),J6p.TextureCache[t85]&&console.warn("Texture added to the cache with an id ["+t85+"] that already had an entry"),J6p.TextureCache[t85]=C85);};R6p.removeFromCache=function(N85){if("string"===typeof N85){var f85=J6p.TextureCache[N85];if(f85){var B85=f85.textureCacheIds.indexOf(N85);-1<B85&&f85.textureCacheIds.splice(B85,1);delete J6p.TextureCache[N85];return f85;}}else if(N85&&N85.textureCacheIds){for(f85=0;f85<N85.textureCacheIds.length;++f85){J6p.TextureCache[N85.textureCacheIds[f85]]===N85&&delete J6p.TextureCache[N85.textureCacheIds[f85]];}N85.textureCacheIds.length=0;return N85;}return null;};Q6p(R6p,[{key:"frame",get:function(){return this._frame;},set:function(m85){this._frame=m85;this.noFrame=false;var z85=m85.x,D85=m85.y,l85=m85.width,Q85=m85.height,d85=z85+l85>this.baseTexture.width,X85=D85+Q85>this.baseTexture.height;if(d85||X85){throw Error("Texture Error: frame does not fit inside the base Texture dimensions: "+("X: "+z85+" + "+l85+" = "+(z85+l85)+" > "+this.baseTexture.width+" "+(d85&&X85?"and":"or")+" "+("Y: "+D85+" + "+Q85+" = "+(D85+Q85)+" > "+this.baseTexture.height)));}this.valid=l85&&Q85&&this.baseTexture.hasLoaded;this.trim||this.rotate||(this.orig=m85);this.valid&&this._updateUvs();}},{key:"rotate",get:function(){return this._rotate;},set:function(W85){this._rotate=W85;this.valid&&this._updateUvs();}},{key:"width",get:function(){return this.orig.width;}},{key:"height",get:function(){return this.orig.height;}}]);return R6p;}(K6p.default);m6p.default=S6p;S6p.EMPTY=new S6p(new b6p.default());N6p(S6p.EMPTY);N6p(S6p.EMPTY.baseTexture);S6p.WHITE=function(){var U85=document.createElement("canvas");U85.width=10;U85.height=10;var G85=U85.getContext("2d");G85.fillStyle="white";G85.fillRect(0,0,10,10);return new S6p(new b6p.default(U85));}();N6p(S6p.WHITE);N6p(S6p.WHITE.baseTexture);},{"../math":70,"../settings":101,"../utils":125,"./BaseTexture":112,"./TextureUvs":117,"./VideoBaseTexture":118,eventemitter3:3}],116:[function(e85,v85,V85){V85.__esModule=true;var P85=function(){function L85(x85,a85){for(var i85=0;i85<a85.length;i85++){var R85=a85[i85];R85.enumerable=R85.enumerable||false;R85.configurable=true;"value"in R85&&(R85.writable=true);Object.defineProperty(x85,R85.key,R85);}}return function(k85,w85,Y85){w85&&L85(k85.prototype,w85);Y85&&L85(k85,Y85);return k85;};}(),F85=(e85=e85("../math/Matrix"))&&e85.__esModule?e85:{default:e85},p85=new F85.default();e85=function(){function A85(s25,r25){if(!(this instanceof A85)){throw new TypeError("Cannot call a class as a function");}this._texture=s25;this.mapCoord=new F85.default();this.uClampFrame=new Float32Array(4);this.uClampOffset=new Float32Array(2);this._lastTextureID=-1;this.clampOffset=0;this.clampMargin="undefined"===typeof r25?.5:r25;}A85.prototype.multiplyUvs=function(c25,T25){void 0===T25&&(T25=c25);for(var n25=this.mapCoord,I25=0;I25<c25.length;I25+=2){var M25=c25[I25],o25=c25[I25+1];T25[I25]=M25*n25.a+o25*n25.c+n25.tx;T25[I25+1]=M25*n25.b+o25*n25.d+n25.ty;}return T25;};A85.prototype.update=function(O25){var g25=this._texture;if(!g25||!g25.valid||!O25&&this._lastTextureID===g25._updateID){return false;}this._lastTextureID=g25._updateID;O25=g25._uvs;this.mapCoord.set(O25.x1-O25.x0,O25.y1-O25.y0,O25.x3-O25.x0,O25.y3-O25.y0,O25.x0,O25.y0);O25=g25.orig;var h25=g25.trim;h25&&(p85.set(O25.width/h25.width,0,0,O25.height/h25.height,-h25.x/h25.width,-h25.y/h25.height),this.mapCoord.append(p85));O25=g25.baseTexture;var h25=this.uClampFrame,H25=this.clampMargin/O25.resolution,y25=this.clampOffset;h25[0]=(g25._frame.x+H25+y25)/O25.width;h25[1]=(g25._frame.y+H25+y25)/O25.height;h25[2]=(g25._frame.x+g25._frame.width-H25+y25)/O25.width;h25[3]=(g25._frame.y+g25._frame.height-H25+y25)/O25.height;this.uClampOffset[0]=y25/O25.realWidth;this.uClampOffset[1]=y25/O25.realHeight;return true;};P85(A85,[{key:"texture",get:function(){return this._texture;},set:function(q25){this._texture=q25;this._lastTextureID=-1;}}]);return A85;}();V85.default=e85;},{"../math/Matrix":67}],117:[function(E25,j25,u25){u25.__esModule=true;var Z25=(E25=E25("../math/GroupD8"))&&E25.__esModule?E25:{default:E25};E25=function(){function J25(){if(!(this instanceof J25)){throw new TypeError("Cannot call a class as a function");}this.y0=this.x0=0;this.x1=1;this.y1=0;this.y2=this.x2=1;this.x3=0;this.y3=1;this.uvsUint32=new Uint32Array(4);}J25.prototype.set=function(S25,t25,K25){var b25=t25.width,C25=t25.height;if(K25){t25=S25.width/2/b25;var N25=S25.height/2/C25,b25=S25.x/b25+t25;S25=S25.y/C25+N25;K25=Z25.default.add(K25,Z25.default.NW);this.x0=b25+t25*Z25.default.uX(K25);this.y0=S25+N25*Z25.default.uY(K25);K25=Z25.default.add(K25,2);this.x1=b25+t25*Z25.default.uX(K25);this.y1=S25+N25*Z25.default.uY(K25);K25=Z25.default.add(K25,2);this.x2=b25+t25*Z25.default.uX(K25);this.y2=S25+N25*Z25.default.uY(K25);K25=Z25.default.add(K25,2);this.x3=b25+t25*Z25.default.uX(K25);this.y3=S25+N25*Z25.default.uY(K25);}else{this.x0=S25.x/b25,this.y0=S25.y/C25,this.x1=(S25.x+S25.width)/b25,this.y1=S25.y/C25,this.x2=(S25.x+S25.width)/b25,this.y2=(S25.y+S25.height)/C25,this.x3=S25.x/b25,this.y3=(S25.y+S25.height)/C25;}this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535;this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535;this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535;this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535;};return J25;}();u25.default=E25;},{"../math/GroupD8":66}],118:[function(f25,m25,W25){function U25(e25,G25){if("function"!==typeof G25&&null!==G25){throw new TypeError("Super expression must either be null or a function, not "+typeof G25);}e25.prototype=Object.create(G25&&G25.prototype,{constructor:{value:e25,enumerable:false,writable:true,configurable:true}});G25&&(Object.setPrototypeOf?Object.setPrototypeOf(e25,G25):e25.__proto__=G25);}function X25(p25,V25){V25||(V25="video/"+p25.substr(p25.lastIndexOf(".")+1));var F25=document.createElement("source");F25.src=p25;F25.type=V25;return F25;}W25.__esModule=true;var D25=function(){function P25(i25,R25){for(var L25=0;L25<R25.length;L25++){var v25=R25[L25];v25.enumerable=v25.enumerable||false;v25.configurable=true;"value"in v25&&(v25.writable=true);Object.defineProperty(i25,v25.key,v25);}}return function(a25,x25,k25){x25&&P25(a25.prototype,x25);k25&&P25(a25,k25);return a25;};}(),l25=(m25=f25("./BaseTexture"))&&m25.__esModule?m25:{default:m25},z25=f25("../utils"),B25=f25("../ticker"),Q25=f25("../const"),d25=(f25=f25("../utils/determineCrossOrigin"))&&f25.__esModule?f25:{default:f25};f25=function(Y25){function w25(r05,A25){if(!(this instanceof w25)){throw new TypeError("Cannot call a class as a function");}if(!r05){throw Error("No video source element specified.");}(r05.readyState===r05.HAVE_ENOUGH_DATA||r05.readyState===r05.HAVE_FUTURE_DATA)&&r05.width&&r05.height&&(r05.complete=true);A25=Y25.call(this,r05,A25);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}A25=!A25||"object"!==typeof A25&&"function"!==typeof A25?this:A25;A25.width=r05.videoWidth;A25.height=r05.videoHeight;A25._autoUpdate=true;A25._isAutoUpdating=false;A25.autoPlay=true;A25.update=A25.update.bind(A25);A25._onCanPlay=A25._onCanPlay.bind(A25);r05.addEventListener("play",A25._onPlayStart.bind(A25));r05.addEventListener("pause",A25._onPlayStop.bind(A25));A25.hasLoaded=false;A25.__loaded=false;A25._isSourceReady()?A25._onCanPlay():(r05.addEventListener("canplay",A25._onCanPlay),r05.addEventListener("canplaythrough",A25._onCanPlay));return A25;}U25(w25,Y25);w25.prototype._isSourcePlaying=function(){var s05=this.source;return 0<s05.currentTime&&false===s05.paused&&false===s05.ended&&2<s05.readyState;};w25.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState;};w25.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay();!this._isAutoUpdating&&this.autoUpdate&&(B25.shared.add(this.update,this,Q25.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=true);};w25.prototype._onPlayStop=function(){this._isAutoUpdating&&(B25.shared.remove(this.update,this),this._isAutoUpdating=false);};w25.prototype._onCanPlay=function(){this.hasLoaded=true;this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=true,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play());};w25.prototype.destroy=function(){this._isAutoUpdating&&B25.shared.remove(this.update,this);this.source&&this.source._pixiId&&(l25.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load());Y25.prototype.destroy.call(this);};w25.fromVideo=function(n05,T05){n05._pixiId||(n05._pixiId="video_"+(0,z25.uid)());var I05=z25.BaseTextureCache[n05._pixiId];I05||(I05=new w25(n05,T05),l25.default.addToCache(I05,n05._pixiId));return I05;};w25.fromUrl=function(c05,g05,M05){var o05=document.createElement("video");o05.setAttribute("webkit-playsinline","");o05.setAttribute("playsinline","");var O05=Array.isArray(c05)?c05[0].src||c05[0]:c05.src||c05;void 0===M05&&0!==O05.indexOf("data:")?o05.crossOrigin=(0,d25.default)(O05):M05&&(o05.crossOrigin="string"===typeof M05?M05:"anonymous");if(Array.isArray(c05)){for(M05=0;M05<c05.length;++M05){o05.appendChild(X25(c05[M05].src||c05[M05],c05[M05].mime));}}else{o05.appendChild(X25(O05,c05.mime));}o05.load();return w25.fromVideo(o05,g05);};D25(w25,[{key:"autoUpdate",get:function(){return this._autoUpdate;},set:function(h05){h05!==this._autoUpdate&&(this._autoUpdate=h05,!this._autoUpdate&&this._isAutoUpdating?(B25.shared.remove(this.update,this),this._isAutoUpdating=false):this._autoUpdate&&!this._isAutoUpdating&&(B25.shared.add(this.update,this,Q25.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=true));}}]);return w25;}(l25.default);W25.default=f25;f25.fromUrls=f25.fromUrl;},{"../const":46,"../ticker":121,"../utils":125,"../utils/determineCrossOrigin":124,"./BaseTexture":112}],119:[function(y05,H05,u05){u05.__esModule=true;var j05=function(){function J05(t05,b05){for(var K05=0;K05<b05.length;K05++){var S05=b05[K05];S05.enumerable=S05.enumerable||false;S05.configurable=true;"value"in S05&&(S05.writable=true);Object.defineProperty(t05,S05.key,S05);}}return function(C05,N05,f05){N05&&J05(C05.prototype,N05);f05&&J05(C05,f05);return C05;};}(),q05=(H05=y05("../settings"))&&H05.__esModule?H05:{default:H05},E05=y05("../const"),Z05=(y05=y05("./TickerListener"))&&y05.__esModule?y05:{default:y05};y05=function(){function B05(){var m05=this;if(!(this instanceof B05)){throw new TypeError("Cannot call a class as a function");}this._head=new Z05.default(null,null,Infinity);this._requestId=null;this._maxElapsedMS=100;this.autoStart=false;this.deltaTime=1;this.elapsedMS=1/q05.default.TARGET_FPMS;this.lastTime=-1;this.speed=1;this.started=false;this._tick=function(l05){m05._requestId=null;m05.started&&(m05.update(l05),m05.started&&null===m05._requestId&&m05._head.next&&(m05._requestId=requestAnimationFrame(m05._tick)));};}B05.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick));};B05.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null);};B05.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start();};B05.prototype.add=function(Q05,z05){return this._addListener(new Z05.default(Q05,z05,2<arguments.length&&void 0!==arguments[2]?arguments[2]:E05.UPDATE_PRIORITY.NORMAL));};B05.prototype.addOnce=function(D05,d05){return this._addListener(new Z05.default(D05,d05,2<arguments.length&&void 0!==arguments[2]?arguments[2]:E05.UPDATE_PRIORITY.NORMAL,true));};B05.prototype._addListener=function(W05){var X05=this._head.next,U05=this._head;if(X05){for(;X05;){if(W05.priority>X05.priority){W05.connect(U05);break;}U05=X05;X05=X05.next;}W05.previous||W05.connect(U05);}else{W05.connect(U05);}this._startIfPossible();return this;};B05.prototype.remove=function(e05,F05){for(var G05=this._head.next;G05;){G05=G05.match(e05,F05)?G05.destroy():G05.next;}this._head.next||this._cancelIfNeeded();return this;};B05.prototype.start=function(){this.started||(this.started=true,this._requestIfNeeded());};B05.prototype.stop=function(){this.started&&(this.started=false,this._cancelIfNeeded());};B05.prototype.destroy=function(){this.stop();for(var p05=this._head.next;p05;){p05=p05.destroy(true);}this._head.destroy();this._head=null;};B05.prototype.update=function(){var L05=this;var P05=0<arguments.length&&void 0!==arguments[0]?arguments[0]:performance.now(),V05;if(P05>this.lastTime){V05=this.elapsedMS=P05-this.lastTime;V05>this._maxElapsedMS&&(V05=this._maxElapsedMS);this.deltaTime=V05*q05.default.TARGET_FPMS*this.speed;V05=this._head;for(var v05=V05.next;v05;){v05=v05.emit(L05.deltaTime);}V05.next||this._cancelIfNeeded();}else{this.deltaTime=this.elapsedMS=0;}this.lastTime=P05;};j05(B05,[{key:"FPS",get:function(){return 1E3/this.elapsedMS;}},{key:"minFPS",get:function(){return 1E3/this._maxElapsedMS;},set:function(R05){this._maxElapsedMS=1/Math.min(Math.max(0,R05)/1E3,q05.default.TARGET_FPMS);}}]);return B05;}();u05.default=y05;},{"../const":46,"../settings":101,"./TickerListener":120}],120:[function(i05,x05,a05){a05.__esModule=true;i05=function(){function k05(r35){var w05=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,Y05=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,A05=3<arguments.length&&void 0!==arguments[3]?arguments[3]:false;if(!(this instanceof k05)){throw new TypeError("Cannot call a class as a function");}this.fn=r35;this.context=w05;this.priority=Y05;this.once=A05;this.previous=this.next=null;this._destroyed=false;}k05.prototype.match=function(s35,n35){return this.fn===s35&&this.context===(n35||null);};k05.prototype.emit=function(I35){this.fn&&(this.context?this.fn.call(this.context,I35):this.fn(I35));I35=this.next;this.once&&this.destroy(true);this._destroyed&&(this.next=null);return I35;};k05.prototype.connect=function(T35){this.previous=T35;T35.next&&(T35.next.previous=this);this.next=T35.next;T35.next=this;};k05.prototype.destroy=function(){var M35=0<arguments.length&&void 0!==arguments[0]?arguments[0]:false;this._destroyed=true;this.context=this.fn=null;this.previous&&(this.previous.next=this.next);this.next&&(this.next.previous=this.previous);var c35=this.previous;this.next=M35?null:c35;this.previous=null;return c35;};return k05;}();a05.default=i05;},{}],121:[function(o35,g35,O35){O35.__esModule=true;O35.Ticker=O35.shared=void 0;o35=(o35=o35("./Ticker"))&&o35.__esModule?o35:{default:o35};g35=new o35.default();g35.autoStart=true;g35.destroy=function(){};O35.shared=g35;O35.Ticker=o35.default;},{"./Ticker":119}],122:[function(y35,H35,h35){h35.__esModule=true;h35.default=function(){return!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform));};},{}],123:[function(Z35,E35,q35){q35.__esModule=true;q35.default=function(S35){S35*=6;for(var j35=new Uint16Array(S35),u35=0,J35=0;u35<S35;u35+=6,J35+=4){j35[u35+0]=J35+0,j35[u35+1]=J35+1,j35[u35+2]=J35+2,j35[u35+3]=J35+0,j35[u35+4]=J35+2,j35[u35+5]=J35+3;}return j35;};},{}],124:[function(K35,N35,t35){t35.__esModule=true;t35.default=function(f35){var B35=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window.location;if(0===f35.indexOf("data:")){return"";}B35=B35||window.location;b35||(b35=document.createElement("a"));b35.href=f35;f35=C35.default.parse(b35.href);var m35=!f35.port&&""===B35.port||f35.port===B35.port;return f35.hostname===B35.hostname&&m35&&f35.protocol===B35.protocol?"":"anonymous";};var C35=(K35=K35("url"))&&K35.__esModule?K35:{default:K35},b35=void 0;},{url:38}],125:[function(Q35,D35,l35){function P35(R35){if(R35&&R35.__esModule){return R35;}var i35={};if(null!=R35){for(var a35 in R35){Object.prototype.hasOwnProperty.call(R35,a35)&&(i35[a35]=R35[a35]);}}i35.default=R35;return i35;}function X35(x35){return x35&&x35.__esModule?x35:{default:x35};}l35.__esModule=true;l35.premultiplyBlendMode=l35.BaseTextureCache=l35.TextureCache=l35.mixins=l35.pluginTarget=l35.EventEmitter=l35.removeItems=l35.isMobile=void 0;l35.uid=function(){return++V35;};l35.hex2rgb=function(w35,k35){k35=k35||[];k35[0]=(w35>>16&255)/255;k35[1]=(w35>>8&255)/255;k35[2]=(w35&255)/255;return k35;};l35.hex2string=function(Y35){Y35=Y35.toString(16);Y35="000000".substr(0,6-Y35.length)+Y35;return"#"+Y35;};l35.rgb2hex=function(A35){return(255*A35[0]<<16)+(255*A35[1]<<8)+(255*A35[2]|0);};l35.getResolutionOfUrl=function(r55,s55){return(r55=v35.default.RETINA_PREFIX.exec(r55))?parseFloat(r55[1]):void 0!==s55?s55:1;};l35.decomposeDataUri=function(n55){if(n55=z35.DATA_URI.exec(n55)){return{mediaType:n55[1]?n55[1].toLowerCase():void 0,subType:n55[2]?n55[2].toLowerCase():void 0,encoding:n55[3]?n55[3].toLowerCase():void 0,data:n55[4]};}};l35.getUrlFileExtension=function(I55){if(I55=z35.URL_FILE_EXTENSION.exec(I55)){return I55[1].toLowerCase();}};l35.getSvgSize=function(T55){T55=z35.SVG_SIZE.exec(T55);var c55={};T55&&(c55[T55[1]]=Math.round(parseFloat(T55[3])),c55[T55[5]]=Math.round(parseFloat(T55[7])));return c55;};l35.skipHello=function(){p35=true;};l35.sayHello=function(M55){p35||(-1<navigator.userAgent.toLowerCase().indexOf("chrome")?window.console.log.apply(console,["\n %c %c %c PixiJS "+z35.VERSION+" - \u2730 "+M55+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):window.console&&window.console.log("PixiJS "+z35.VERSION+" - "+M55+" - http://www.pixijs.com/"),p35=true);};l35.isWebGLSupported=function(){var O55={stencil:true,failIfMajorPerformanceCaveat:true};try{if(!window.WebGLRenderingContext){return false;}var g55=document.createElement("canvas"),o55=g55.getContext("webgl",O55)||g55.getContext("experimental-webgl",O55),y55=!(!o55||!o55.getContextAttributes().stencil);if(o55){var h55=o55.getExtension("WEBGL_lose_context");h55&&h55.loseContext();}return y55;}catch(H55){return false;}};l35.sign=function(q55){return 0===q55?0:0>q55?-1:1;};l35.destroyTextureCache=function(){var Z55=void 0;for(Z55 in e35){e35[Z55].destroy();}for(Z55 in F35){F35[Z55].destroy();}};l35.clearTextureCache=function(){var E55=void 0;for(E55 in e35){delete e35[E55];}for(E55 in F35){delete F35[E55];}};l35.correctBlendMode=function(u55,j55){return L35[j55?1:0][u55];};l35.premultiplyTint=function(S55,J55){return 1===J55?(255*J55<<24)+S55:0===J55?0:(255*J55<<24)+(((S55>>16&255)*J55+.5|0)<<16)+(((S55>>8&255)*J55+.5|0)<<8)+((S55&255)*J55+.5|0);};l35.premultiplyRgba=function(b55,t55,K55,C55){K55=K55||new Float32Array(4);C55||void 0===C55?(K55[0]=b55[0]*t55,K55[1]=b55[1]*t55,K55[2]=b55[2]*t55):(K55[0]=b55[0],K55[1]=b55[1],K55[2]=b55[2]);K55[3]=t55;return K55;};l35.premultiplyTintToRgba=function(B55,f55,N55,m55){N55=N55||new Float32Array(4);N55[0]=(B55>>16&255)/255;N55[1]=(B55>>8&255)/255;N55[2]=(B55&255)/255;if(m55||void 0===m55){N55[0]*=f55,N55[1]*=f55,N55[2]*=f55;}N55[3]=f55;return N55;};var z35=Q35("../const");D35=Q35("../settings");var v35=X35(D35);D35=Q35("eventemitter3");D35=X35(D35);var W35=Q35("./pluginTarget"),W35=X35(W35),d35=Q35("./mixin"),d35=P35(d35),U35=Q35("ismobilejs"),U35=P35(U35),G35=Q35("remove-array-items"),G35=X35(G35);Q35=Q35("./mapPremultipliedBlendModes");Q35=X35(Q35);var V35=0,p35=false;l35.isMobile=U35;l35.removeItems=G35.default;l35.EventEmitter=D35.default;l35.pluginTarget=W35.default;l35.mixins=d35;var e35=l35.TextureCache=Object.create(null),F35=l35.BaseTextureCache=Object.create(null),L35=l35.premultiplyBlendMode=(0,Q35.default)();},{"../const":46,"../settings":101,"./mapPremultipliedBlendModes":126,"./mixin":128,"./pluginTarget":129,eventemitter3:3,ismobilejs:4,"remove-array-items":31}],126:[function(z55,D55,Q55){Q55.__esModule=true;Q55.default=function(){for(var X55=[],W55=[],d55=0;32>d55;d55++){X55[d55]=d55,W55[d55]=d55;}X55[l55.BLEND_MODES.NORMAL_NPM]=l55.BLEND_MODES.NORMAL;X55[l55.BLEND_MODES.ADD_NPM]=l55.BLEND_MODES.ADD;X55[l55.BLEND_MODES.SCREEN_NPM]=l55.BLEND_MODES.SCREEN;W55[l55.BLEND_MODES.NORMAL]=l55.BLEND_MODES.NORMAL_NPM;W55[l55.BLEND_MODES.ADD]=l55.BLEND_MODES.ADD_NPM;W55[l55.BLEND_MODES.SCREEN]=l55.BLEND_MODES.SCREEN_NPM;d55=[];d55.push(W55);d55.push(X55);return d55;};var l55=z55("../const");},{"../const":46}],127:[function(U55,F55,e55){e55.__esModule=true;e55.default=function(p55){return G55.default.tablet||G55.default.phone?4:p55;};var G55=(U55=U55("ismobilejs"))&&U55.__esModule?U55:{default:U55};},{ismobilejs:4}],128:[function(L55,R55,P55){function v55(w55,a55){if(w55&&a55){for(var x55=Object.keys(a55),i55=0;i55<x55.length;++i55){var k55=x55[i55];Object.defineProperty(w55,k55,Object.getOwnPropertyDescriptor(a55,k55));}}}P55.__esModule=true;P55.mixin=v55;P55.delayMixin=function(Y55,A55){V55.push(Y55,A55);};P55.performMixins=function(){for(var r95=0;r95<V55.length;r95+=2){v55(V55[r95],V55[r95+1]);}V55.length=0;};var V55=[];},{}],129:[function(I95,T95,s95){function n95(c95){c95.__plugins={};c95.registerPlugin=function(M95,o95){c95.__plugins[M95]=o95;};c95.prototype.initPlugins=function(){var O95=this;this.plugins=this.plugins||{};for(var g95 in c95.__plugins){O95.plugins[g95]=new c95.__plugins[g95](O95);}};c95.prototype.destroyPlugins=function(){var h95=this;for(var y95 in h95.plugins){h95.plugins[y95].destroy(),h95.plugins[y95]=null;}this.plugins=null;};}s95.__esModule=true;s95.default={mixin:function(H95){n95(H95);}};},{}],130:[function(Z95,E95,q95){q95.__esModule=true;q95.default=function(j95){var S95=j95.width,u95=j95.height;j95=j95.getContext("2d");var u95=j95.getImageData(0,0,S95,u95).data,B95=u95.length,f95=null,J95=null,b95=null,t95=null,C95,K95,N95;for(C95=0;C95<B95;C95+=4){0!==u95[C95+3]&&(K95=C95/4%S95,N95=~~(C95/4/S95),null===f95&&(f95=N95),null===J95?J95=K95:K95<J95&&(J95=K95),null===b95?b95=K95+1:b95<K95&&(b95=K95+1),null===t95?t95=N95:t95<N95&&(t95=N95));}S95=b95-J95;u95=t95-f95+1;j95=j95.getImageData(J95,f95,S95,u95);return{height:u95,width:S95,data:j95};};},{}],131:[function(Q95,z95,l95){function m95(d95){var D95=Error().stack;"undefined"===typeof D95?console.warn("Deprecation Warning: ",d95):(D95=D95.split("\n").splice(3).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",d95),console.warn(D95),console.groupEnd()):(console.warn("Deprecation Warning: ",d95),console.warn(D95)));}l95.__esModule=true;l95.default=function(X95){var v95=X95.mesh,R95=X95.particles,W95=X95.extras,V95=X95.filters,U95=X95.prepare,F95=X95.loaders,e95=X95.interaction;Object.defineProperties(X95,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.");}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.");}},Stage:{get:function(){m95("You do not need to use a PIXI Stage any more, you can simply render any container.");return X95.Container;}},DisplayObjectContainer:{get:function(){m95("DisplayObjectContainer has been shortened to Container, please use Container from now on.");return X95.Container;}},Strip:{get:function(){m95("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on.");return v95.Mesh;}},Rope:{get:function(){m95("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on.");return v95.Rope;}},ParticleContainer:{get:function(){m95("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on.");return R95.ParticleContainer;}},MovieClip:{get:function(){m95("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite.");return W95.AnimatedSprite;}},TilingSprite:{get:function(){m95("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on.");return W95.TilingSprite;}},BitmapText:{get:function(){m95("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on.");return W95.BitmapText;}},blendModes:{get:function(){m95("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on.");return X95.BLEND_MODES;}},scaleModes:{get:function(){m95("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on.");return X95.SCALE_MODES;}},BaseTextureCache:{get:function(){m95("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on.");return X95.utils.BaseTextureCache;}},TextureCache:{get:function(){m95("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on.");return X95.utils.TextureCache;}},math:{get:function(){m95("The math namespace is deprecated, please access members already accessible on PIXI.");return X95;}},AbstractFilter:{get:function(){m95("AstractFilter has been renamed to Filter, please use PIXI.Filter");return X95.Filter;}},TransformManual:{get:function(){m95("TransformManual has been renamed to TransformBase, please update your pixi-spine");return X95.TransformBase;}},TARGET_FPMS:{get:function(){m95("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS");return X95.settings.TARGET_FPMS;},set:function(a95){m95("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS");X95.settings.TARGET_FPMS=a95;}},FILTER_RESOLUTION:{get:function(){m95("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION");return X95.settings.FILTER_RESOLUTION;},set:function(x95){m95("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION");X95.settings.FILTER_RESOLUTION=x95;}},RESOLUTION:{get:function(){m95("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION");return X95.settings.RESOLUTION;},set:function(k95){m95("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION");X95.settings.RESOLUTION=k95;}},MIPMAP_TEXTURES:{get:function(){m95("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES");return X95.settings.MIPMAP_TEXTURES;},set:function(w95){m95("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES");X95.settings.MIPMAP_TEXTURES=w95;}},SPRITE_BATCH_SIZE:{get:function(){m95("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE");return X95.settings.SPRITE_BATCH_SIZE;},set:function(Y95){m95("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE");X95.settings.SPRITE_BATCH_SIZE=Y95;}},SPRITE_MAX_TEXTURES:{get:function(){m95("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES");return X95.settings.SPRITE_MAX_TEXTURES;},set:function(A95){m95("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES");X95.settings.SPRITE_MAX_TEXTURES=A95;}},RETINA_PREFIX:{get:function(){m95("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX");return X95.settings.RETINA_PREFIX;},set:function(r15){m95("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX");X95.settings.RETINA_PREFIX=r15;}},DEFAULT_RENDER_OPTIONS:{get:function(){m95("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS");return X95.settings.RENDER_OPTIONS;}}});for(var P95=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],i95=function(n15){var s15=P95[n15];Object.defineProperty(X95[s15.parent],"DEFAULT",{get:function(){m95("PIXI."+s15.parent+".DEFAULT has been deprecated, "+("please use PIXI.settings."+s15.target));return X95.settings[s15.target];},set:function(I15){m95("PIXI."+s15.parent+".DEFAULT has been deprecated, "+("please use PIXI.settings."+s15.target));X95.settings[s15.target]=I15;}});},p95=0;p95<P95.length;p95++){i95(p95);}Object.defineProperties(X95.settings,{PRECISION:{get:function(){m95("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT");return X95.settings.PRECISION_FRAGMENT;},set:function(T15){m95("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT");X95.settings.PRECISION_FRAGMENT=T15;}}});W95.AnimatedSprite&&Object.defineProperties(W95,{MovieClip:{get:function(){m95("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on.");return W95.AnimatedSprite;}}});W95&&Object.defineProperties(W95,{TextureTransform:{get:function(){m95("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on.");return X95.TextureMatrix;}}});X95.DisplayObject.prototype.generateTexture=function(c15,M15,o15){m95("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)");return c15.generateTexture(this,M15,o15);};X95.Graphics.prototype.generateTexture=function(O15,g15){m95("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture");return this.generateCanvasTexture(O15,g15);};X95.GroupD8.isSwapWidthHeight=function(h15){m95("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical");return X95.GroupD8.isVertical(h15);};X95.RenderTexture.prototype.render=function(y15,H15,q15,Z15){this.legacyRenderer.render(y15,this,q15,H15,!Z15);m95("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)");};X95.RenderTexture.prototype.getImage=function(E15){m95("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)");return this.legacyRenderer.extract.image(E15);};X95.RenderTexture.prototype.getBase64=function(u15){m95("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)");return this.legacyRenderer.extract.base64(u15);};X95.RenderTexture.prototype.getCanvas=function(j15){m95("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)");return this.legacyRenderer.extract.canvas(j15);};X95.RenderTexture.prototype.getPixels=function(J15){m95("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)");return this.legacyRenderer.pixels(J15);};X95.Sprite.prototype.setTexture=function(S15){this.texture=S15;m95("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;");};W95.BitmapText&&(W95.BitmapText.prototype.setText=function(K15){this.text=K15;m95("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';");});X95.Text.prototype.setText=function(b15){this.text=b15;m95("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';");};X95.Text.calculateFontProperties=function(t15){m95("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont");return X95.TextMetrics.measureFont(t15);};Object.defineProperties(X95.Text,{fontPropertiesCache:{get:function(){m95("Text.fontPropertiesCache is deprecated");return X95.TextMetrics._fonts;}},fontPropertiesCanvas:{get:function(){m95("Text.fontPropertiesCanvas is deprecated");return X95.TextMetrics._canvas;}},fontPropertiesContext:{get:function(){m95("Text.fontPropertiesContext is deprecated");return X95.TextMetrics._context;}}});X95.Text.prototype.setStyle=function(C15){this.style=C15;m95("setStyle is now deprecated, please use the style property, e.g : myText.style = style;");};X95.Text.prototype.determineFontProperties=function(N15){m95("determineFontProperties is now deprecated, please use TextMetrics.measureFont method");return X95.TextMetrics.measureFont(N15);};X95.Text.getFontStyle=function(f15){m95("getFontStyle is now deprecated, please use TextStyle.toFontString() instead");f15=f15||{};f15 instanceof X95.TextStyle||(f15=new X95.TextStyle(f15));return f15.toFontString();};Object.defineProperties(X95.TextStyle.prototype,{font:{get:function(){m95("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+("number"===typeof this._fontSize?this._fontSize+"px":this._fontSize)+" "+this._fontFamily;},set:function(B15){var Q15=this;m95("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on");1<B15.indexOf("italic")?this._fontStyle="italic":-1<B15.indexOf("oblique")?this._fontStyle="oblique":this._fontStyle="normal";-1<B15.indexOf("small-caps")?this._fontVariant="small-caps":this._fontVariant="normal";B15=B15.split(" ");var l15=-1;this._fontSize=26;for(var m15=0;m15<B15.length;++m15){if(B15[m15].match(/(px|pt|em|%)/)){l15=m15;Q15._fontSize=B15[m15];break;}}this._fontWeight="normal";for(m15=0;m15<l15;++m15){if(B15[m15].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){Q15._fontWeight=B15[m15];break;}}if(-1<l15&&l15<B15.length-1){this._fontFamily="";for(l15+=1;l15<B15.length;++l15){Q15._fontFamily+=B15[l15]+" ";}this._fontFamily=this._fontFamily.slice(0,-1);}else{this._fontFamily="Arial";}this.styleID++;}}});X95.Texture.prototype.setFrame=function(z15){this.frame=z15;m95("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;");};X95.Texture.addTextureToCache=function(D15,d15){X95.Texture.addToCache(D15,d15);m95("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.");};X95.Texture.removeTextureFromCache=function(X15){m95("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache");X95.BaseTexture.removeFromCache(X15);return X95.Texture.removeFromCache(X15);};Object.defineProperties(V95,{AbstractFilter:{get:function(){m95("AstractFilter has been renamed to Filter, please use PIXI.Filter");return X95.AbstractFilter;}},SpriteMaskFilter:{get:function(){m95("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on.");return X95.SpriteMaskFilter;}},VoidFilter:{get:function(){m95("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter");return V95.AlphaFilter;}}});X95.utils.uuid=function(){m95("utils.uuid() is deprecated, please use utils.uid() from now on.");return X95.utils.uid();};X95.utils.canUseNewCanvasBlendModes=function(){m95("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on");return X95.CanvasTinter.canUseMultiply;};var L95=true;Object.defineProperty(X95.utils,"_saidHello",{set:function(W15){W15&&(m95("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello());L95=W15;},get:function(){return L95;}});U95.BasePrepare&&(U95.BasePrepare.prototype.register=function(U15,G15){m95("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook");U15&&this.registerFindHook(U15);G15&&this.registerUploadHook(G15);return this;});U95.canvas&&Object.defineProperty(U95.canvas,"UPLOADS_PER_FRAME",{set:function(){m95("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer");},get:function(){m95("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter");return NaN;}});U95.webgl&&Object.defineProperty(U95.webgl,"UPLOADS_PER_FRAME",{set:function(){m95("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer");},get:function(){m95("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter");return NaN;}});if(F95.Loader){var G95=F95.Resource,U95=F95.Loader;Object.defineProperties(G95.prototype,{isJson:{get:function(){m95("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`.");return this.type===G95.TYPE.JSON;}},isXml:{get:function(){m95("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`.");return this.type===G95.TYPE.XML;}},isImage:{get:function(){m95("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`.");return this.type===G95.TYPE.IMAGE;}},isAudio:{get:function(){m95("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`.");return this.type===G95.TYPE.AUDIO;}},isVideo:{get:function(){m95("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`.");return this.type===G95.TYPE.VIDEO;}}});Object.defineProperties(U95.prototype,{before:{get:function(){m95("The before() method is deprecated, please use pre().");return this.pre;}},after:{get:function(){m95("The after() method is deprecated, please use use().");return this.use;}}});}e95.interactiveTarget&&Object.defineProperty(e95.interactiveTarget,"defaultCursor",{set:function(e15){m95("Property defaultCursor has been replaced with 'cursor'. ");this.cursor=e15;},get:function(){m95("Property defaultCursor has been replaced with 'cursor'. ");return this.cursor;}});e95.InteractionManager&&(Object.defineProperty(e95.InteractionManager,"defaultCursorStyle",{set:function(F15){m95("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. ");this.cursorStyles.default=F15;},get:function(){m95("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. ");return this.cursorStyles.default;}}),Object.defineProperty(e95.InteractionManager,"currentCursorStyle",{set:function(p15){m95("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently.");this.currentCursorMode=p15;},get:function(){m95("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently.");return this.currentCursorMode;}}));};},{}],132:[function(P15,R15,L15){L15.__esModule=true;var V15=function(i15){if(i15&&i15.__esModule){return i15;}var a15={};if(null!=i15){for(var x15 in i15){Object.prototype.hasOwnProperty.call(i15,x15)&&(a15[x15]=i15[x15]);}}a15.default=i15;return a15;}(P15("../../core")),v15=new V15.Rectangle();P15=function(){function k15(w15){if(!(this instanceof k15)){throw new TypeError("Cannot call a class as a function");}this.renderer=w15;w15.extract=this;}k15.prototype.image=function(A15){var Y15=new Image();Y15.src=this.base64(A15);return Y15;};k15.prototype.base64=function(r45){return this.canvas(r45).toDataURL();};k15.prototype.canvas=function(T45){var s45=this.renderer,I45=void 0,n45=void 0;T45&&(n45=T45 instanceof V15.RenderTexture?T45:s45.generateTexture(T45));n45?(T45=n45.baseTexture._canvasRenderTarget.context,I45=n45.baseTexture._canvasRenderTarget.resolution,s45=n45.frame):(T45=s45.rootContext,s45=v15,s45.width=this.renderer.width,s45.height=this.renderer.height);var c45=s45.width*I45,M45=s45.height*I45,n45=new V15.CanvasRenderTarget(c45,M45),I45=T45.getImageData(s45.x*I45,s45.y*I45,c45,M45);n45.context.putImageData(I45,0,0);return n45.canvas;};k15.prototype.pixels=function(O45){var g45=this.renderer,h45=void 0,o45;o45=void 0;O45&&(o45=O45 instanceof V15.RenderTexture?O45:g45.generateTexture(O45));o45?(O45=o45.baseTexture._canvasRenderTarget.context,h45=o45.baseTexture._canvasRenderTarget.resolution,o45=o45.frame):(O45=g45.rootContext,o45=v15,o45.width=g45.width,o45.height=g45.height);return O45.getImageData(0,0,o45.width*h45,o45.height*h45).data;};k15.prototype.destroy=function(){this.renderer=this.renderer.extract=null;};return k15;}();L15.default=P15;V15.CanvasRenderer.registerPlugin("extract",P15);},{"../../core":65}],133:[function(Z45,E45,q45){q45.__esModule=true;var y45=Z45("./webgl/WebGLExtract");Object.defineProperty(q45,"webgl",{enumerable:true,get:function(){return(y45&&y45.__esModule?y45:{default:y45}).default;}});var H45=Z45("./canvas/CanvasExtract");Object.defineProperty(q45,"canvas",{enumerable:true,get:function(){return(H45&&H45.__esModule?H45:{default:H45}).default;}});},{"./canvas/CanvasExtract":132,"./webgl/WebGLExtract":134}],134:[function(j45,K45,S45){S45.__esModule=true;var u45=function(b45){if(b45&&b45.__esModule){return b45;}var t45={};if(null!=b45){for(var C45 in b45){Object.prototype.hasOwnProperty.call(b45,C45)&&(t45[C45]=b45[C45]);}}t45.default=b45;return t45;}(j45("../../core")),J45=new u45.Rectangle();j45=function(){function N45(f45){if(!(this instanceof N45)){throw new TypeError("Cannot call a class as a function");}this.renderer=f45;f45.extract=this;}N45.prototype.image=function(m45){var B45=new Image();B45.src=this.base64(m45);return B45;};N45.prototype.base64=function(l45){return this.canvas(l45).toDataURL();};N45.prototype.canvas=function(z45){var D45=this.renderer,Q45,d45,X45;X45=void 0;z45&&(X45=z45 instanceof u45.RenderTexture?z45:this.renderer.generateTexture(z45));X45?(Q45=X45.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],z45=Q45.resolution,d45=X45.frame,X45=false):(Q45=this.renderer.rootRenderTarget,z45=Q45.resolution,X45=true,d45=J45,d45.width=Q45.size.width,d45.height=Q45.size.height);var G45=d45.width*z45,U45=d45.height*z45,W45=new u45.CanvasRenderTarget(G45,U45);Q45&&(D45.bindRenderTarget(Q45),Q45=new Uint8Array(4*G45*U45),D45=D45.gl,D45.readPixels(d45.x*z45,d45.y*z45,G45,U45,D45.RGBA,D45.UNSIGNED_BYTE,Q45),D45=W45.context.getImageData(0,0,G45,U45),D45.data.set(Q45),W45.context.putImageData(D45,0,0),X45&&(W45.context.scale(1,-1),W45.context.drawImage(W45.canvas,0,-U45)));return W45.canvas;};N45.prototype.pixels=function(F45){var V45=this.renderer,p45,e45;e45=void 0;F45&&(e45=F45 instanceof u45.RenderTexture?F45:this.renderer.generateTexture(F45));e45?(p45=e45.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],F45=p45.resolution,e45=e45.frame):(p45=this.renderer.rootRenderTarget,F45=p45.resolution,e45=J45,e45.width=p45.size.width,e45.height=p45.size.height);var P45=e45.width*F45,v45=e45.height*F45,L45=new Uint8Array(4*P45*v45);p45&&(V45.bindRenderTarget(p45),V45=V45.gl,V45.readPixels(e45.x*F45,e45.y*F45,P45,v45,V45.RGBA,V45.UNSIGNED_BYTE,L45));return L45;};N45.prototype.destroy=function(){this.renderer=this.renderer.extract=null;};return N45;}();S45.default=j45;u45.WebGLRenderer.registerPlugin("extract",j45);},{"../../core":65}],135:[function(i45,w45,a45){function k45(A45,Y45){if("function"!==typeof Y45&&null!==Y45){throw new TypeError("Super expression must either be null or a function, not "+typeof Y45);}A45.prototype=Object.create(Y45&&Y45.prototype,{constructor:{value:A45,enumerable:false,writable:true,configurable:true}});Y45&&(Object.setPrototypeOf?Object.setPrototypeOf(A45,Y45):A45.__proto__=Y45);}a45.__esModule=true;var x45=function(){function r75(T75,I75){for(var n75=0;n75<I75.length;n75++){var s75=I75[n75];s75.enumerable=s75.enumerable||false;s75.configurable=true;"value"in s75&&(s75.writable=true);Object.defineProperty(T75,s75.key,s75);}}return function(c75,M75,o75){M75&&r75(c75.prototype,M75);o75&&r75(c75,o75);return c75;};}(),R45=function(O75){if(O75&&O75.__esModule){return O75;}var g75={};if(null!=O75){for(var h75 in O75){Object.prototype.hasOwnProperty.call(O75,h75)&&(g75[h75]=O75[h75]);}}g75.default=O75;return g75;}(i45("../core"));i45=function(H75){function y75(Z75,E75){if(!(this instanceof y75)){throw new TypeError("Cannot call a class as a function");}var q75;q75=H75.call(this,Z75[0]instanceof R45.Texture?Z75[0]:Z75[0].texture);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}q75=!q75||"object"!==typeof q75&&"function"!==typeof q75?this:q75;q75._textures=null;q75._durations=null;q75.textures=Z75;q75._autoUpdate=false!==E75;q75.animationSpeed=1;q75.loop=true;q75.onComplete=null;q75.onFrameChange=null;q75.onLoop=null;q75._currentTime=0;q75.playing=false;return q75;}k45(y75,H75);y75.prototype.stop=function(){this.playing&&(this.playing=false,this._autoUpdate&&R45.ticker.shared.remove(this.update,this));};y75.prototype.play=function(){this.playing||(this.playing=true,this._autoUpdate&&R45.ticker.shared.add(this.update,this,R45.UPDATE_PRIORITY.HIGH));};y75.prototype.gotoAndStop=function(j75){this.stop();var u75=this.currentFrame;this._currentTime=j75;u75!==this.currentFrame&&this.updateTexture();};y75.prototype.gotoAndPlay=function(S75){var J75=this.currentFrame;this._currentTime=S75;J75!==this.currentFrame&&this.updateTexture();this.play();};y75.prototype.update=function(t75){var b75=this;var N75=this.animationSpeed*t75,C75=this.currentFrame;if(null!==this._durations){for(var K75=this._currentTime%1*this._durations[this.currentFrame],K75=K75+N75/60*1E3;0>K75;){b75._currentTime--,K75+=b75._durations[b75.currentFrame];}t75=Math.sign(this.animationSpeed*t75);for(this._currentTime=Math.floor(this._currentTime);K75>=this._durations[this.currentFrame];){K75-=b75._durations[b75.currentFrame]*t75,b75._currentTime+=t75;}this._currentTime+=K75/this._durations[this.currentFrame];}else{this._currentTime+=N75;}if(0>this._currentTime&&!this.loop){if(this.gotoAndStop(0),this.onComplete){this.onComplete();}}else if(this._currentTime>=this._textures.length&&!this.loop){if(this.gotoAndStop(this._textures.length-1),this.onComplete){this.onComplete();}}else if(C75!==this.currentFrame){if(this.loop&&this.onLoop){if(0<this.animationSpeed&&this.currentFrame<C75){this.onLoop();}else if(0>this.animationSpeed&&this.currentFrame>C75){this.onLoop();}}this.updateTexture();}};y75.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame];this._textureID=-1;this.cachedTint=16777215;if(this.onFrameChange){this.onFrameChange(this.currentFrame);}};y75.prototype.destroy=function(f75){this.stop();H75.prototype.destroy.call(this,f75);};y75.fromFrames=function(l75){for(var m75=[],B75=0;B75<l75.length;++B75){m75.push(R45.Texture.fromFrame(l75[B75]));}return new y75(m75);};y75.fromImages=function(D75){for(var z75=[],Q75=0;Q75<D75.length;++Q75){z75.push(R45.Texture.fromImage(D75[Q75]));}return new y75(z75);};x45(y75,[{key:"totalFrames",get:function(){return this._textures.length;}},{key:"textures",get:function(){return this._textures;},set:function(d75){var W75=this;if(d75[0]instanceof R45.Texture){this._textures=d75,this._durations=null;}else{this._textures=[];this._durations=[];for(var X75=0;X75<d75.length;X75++){W75._textures.push(d75[X75].texture),W75._durations.push(d75[X75].time);}}this.gotoAndStop(0);this.updateTexture();}},{key:"currentFrame",get:function(){var U75=Math.floor(this._currentTime)%this._textures.length;0>U75&&(U75+=this._textures.length);return U75;}}]);return y75;}(R45.Sprite);a45.default=i45;},{"../core":65}],136:[function(G75,F75,V75){function R75(x75,a75){if(!x75){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return!a75||"object"!==typeof a75&&"function"!==typeof a75?x75:a75;}function i75(w75,k75){if("function"!==typeof k75&&null!==k75){throw new TypeError("Super expression must either be null or a function, not "+typeof k75);}w75.prototype=Object.create(k75&&k75.prototype,{constructor:{value:w75,enumerable:false,writable:true,configurable:true}});k75&&(Object.setPrototypeOf?Object.setPrototypeOf(w75,k75):w75.__proto__=k75);}V75.__esModule=true;var P75=function(){function Y75(n65,s65){for(var r65=0;r65<s65.length;r65++){var A75=s65[r65];A75.enumerable=A75.enumerable||false;A75.configurable=true;"value"in A75&&(A75.writable=true);Object.defineProperty(n65,A75.key,A75);}}return function(I65,T65,c65){T65&&Y75(I65.prototype,T65);c65&&Y75(I65,c65);return I65;};}(),e75=function(M65){if(M65&&M65.__esModule){return M65;}var o65={};if(null!=M65){for(var O65 in M65){Object.prototype.hasOwnProperty.call(M65,O65)&&(o65[O65]=M65[O65]);}}o65.default=M65;return o65;}(G75("../core")),v75=(F75=G75("../core/math/ObservablePoint"))&&F75.__esModule?F75:{default:F75},L75=G75("../core/utils"),p75=(G75=G75("../core/settings"))&&G75.__esModule?G75:{default:G75};G75=function(h65){function g65(q65){var H65=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof g65)){throw new TypeError("Cannot call a class as a function");}var y65=R75(this,h65.call(this));y65._textWidth=0;y65._textHeight=0;y65._glyphs=[];y65._font={tint:void 0!==H65.tint?H65.tint:16777215,align:H65.align||"left",name:null,size:0};y65.font=H65.font;y65._text=q65;y65._maxWidth=0;y65._maxLineHeight=0;y65._anchor=new v75.default(function(){y65.dirty=true;},y65,0,0);y65.dirty=false;y65.updateText();return y65;}i75(g65,h65);g65.prototype.updateText=function(){var u65=this;for(var K65=g65.fonts[this._font.name],f65=this._font.size/K65.size,S65=new e75.Point(),j65=[],C65=[],b65=null,E65=0,t65=0,B65=0,Z65=-1,m65=0,z65=0,l65=0,N65=0;N65<this.text.length;N65++){var Q65=u65.text.charCodeAt(N65);/(\s)/.test(u65.text.charAt(N65))&&(Z65=N65,m65=E65);if(/(?:\r\n|\r|\n)/.test(u65.text.charAt(N65))){C65.push(E65),t65=Math.max(t65,E65),B65++,S65.x=0,S65.y+=K65.lineHeight,b65=null;}else if(-1!==Z65&&0<u65._maxWidth&&S65.x*f65>u65._maxWidth){e75.utils.removeItems(j65,Z65-z65,N65-Z65),N65=Z65,Z65=-1,++z65,C65.push(m65),t65=Math.max(t65,m65),B65++,S65.x=0,S65.y+=K65.lineHeight,b65=null;}else{var J65=K65.chars[Q65];J65&&(b65&&J65.kerning[b65]&&(S65.x+=J65.kerning[b65]),j65.push({texture:J65.texture,line:B65,charCode:Q65,position:new e75.Point(S65.x+J65.xOffset,S65.y+J65.yOffset)}),E65=S65.x+(J65.texture.width+J65.xOffset),S65.x+=J65.xAdvance,l65=Math.max(l65,J65.yOffset+J65.texture.height),b65=Q65);}}C65.push(E65);t65=Math.max(t65,E65);b65=[];for(E65=0;E65<=B65;E65++){Z65=0,"right"===u65._font.align?Z65=t65-C65[E65]:"center"===u65._font.align&&(Z65=(t65-C65[E65])/2),b65.push(Z65);}C65=j65.length;B65=this.tint;for(E65=0;E65<C65;E65++){(Z65=u65._glyphs[E65])?Z65.texture=j65[E65].texture:(Z65=new e75.Sprite(j65[E65].texture),u65._glyphs.push(Z65)),Z65.position.x=(j65[E65].position.x+b65[j65[E65].line])*f65,Z65.position.y=j65[E65].position.y*f65,Z65.scale.x=Z65.scale.y=f65,Z65.tint=B65,Z65.parent||u65.addChild(Z65);}for(j65=C65;j65<this._glyphs.length;++j65){u65.removeChild(u65._glyphs[j65]);}this._textWidth=t65*f65;this._textHeight=(S65.y+K65.lineHeight)*f65;if(0!==this.anchor.x||0!==this.anchor.y){for(K65=0;K65<C65;K65++){u65._glyphs[K65].x-=u65._textWidth*u65.anchor.x,u65._glyphs[K65].y-=u65._textHeight*u65.anchor.y;}}this._maxLineHeight=l65*f65;};g65.prototype.updateTransform=function(){this.validate();this.containerUpdateTransform();};g65.prototype.getLocalBounds=function(){this.validate();return h65.prototype.getLocalBounds.call(this);};g65.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=false);};g65.registerFont=function(U65,e65){var X65={},G65=U65.getElementsByTagName("info")[0],W65=U65.getElementsByTagName("common")[0],D65=U65.getElementsByTagName("page")[0].getAttribute("file"),D65=(0,L75.getResolutionOfUrl)(D65,p75.default.RESOLUTION);X65.font=G65.getAttribute("face");X65.size=parseInt(G65.getAttribute("size"),10);X65.lineHeight=parseInt(W65.getAttribute("lineHeight"),10)/D65;X65.chars={};G65=U65.getElementsByTagName("char");for(W65=0;W65<G65.length;W65++){var d65=G65[W65],F65=parseInt(d65.getAttribute("id"),10),p65=new e75.Rectangle(parseInt(d65.getAttribute("x"),10)/D65+e65.frame.x/D65,parseInt(d65.getAttribute("y"),10)/D65+e65.frame.y/D65,parseInt(d65.getAttribute("width"),10)/D65,parseInt(d65.getAttribute("height"),10)/D65);X65.chars[F65]={xOffset:parseInt(d65.getAttribute("xoffset"),10)/D65,yOffset:parseInt(d65.getAttribute("yoffset"),10)/D65,xAdvance:parseInt(d65.getAttribute("xadvance"),10)/D65,kerning:{},texture:new e75.Texture(e65.baseTexture,p65)};}U65=U65.getElementsByTagName("kerning");for(e65=0;e65<U65.length;e65++){d65=U65[e65],G65=parseInt(d65.getAttribute("first"),10)/D65,W65=parseInt(d65.getAttribute("second"),10)/D65,d65=parseInt(d65.getAttribute("amount"),10)/D65,X65.chars[W65]&&(X65.chars[W65].kerning[G65]=d65);}return g65.fonts[X65.font]=X65;};P75(g65,[{key:"tint",get:function(){return this._font.tint;},set:function(V65){this._font.tint="number"===typeof V65&&0<=V65?V65:16777215;this.dirty=true;}},{key:"align",get:function(){return this._font.align;},set:function(P65){this._font.align=P65||"left";this.dirty=true;}},{key:"anchor",get:function(){return this._anchor;},set:function(v65){"number"===typeof v65?this._anchor.set(v65):this._anchor.copy(v65);}},{key:"font",get:function(){return this._font;},set:function(L65){L65&&("string"===typeof L65?(L65=L65.split(" "),this._font.name=1===L65.length?L65[0]:L65.slice(1).join(" "),this._font.size=2<=L65.length?parseInt(L65[0],10):g65.fonts[this._font.name].size):(this._font.name=L65.name,this._font.size="number"===typeof L65.size?L65.size:parseInt(L65.size,10)),this.dirty=true);}},{key:"text",get:function(){return this._text;},set:function(R65){R65=R65.toString()||" ";this._text!==R65&&(this._text=R65,this.dirty=true);}},{key:"maxWidth",get:function(){return this._maxWidth;},set:function(i65){this._maxWidth!==i65&&(this._maxWidth=i65,this.dirty=true);}},{key:"maxLineHeight",get:function(){this.validate();return this._maxLineHeight;}},{key:"textWidth",get:function(){this.validate();return this._textWidth;}},{key:"textHeight",get:function(){this.validate();return this._textHeight;}}]);return g65;}(e75.Container);V75.default=G75;G75.fonts={};},{"../core":65,"../core/math/ObservablePoint":68,"../core/settings":101,"../core/utils":125}],137:[function(x65,s8w,w65){function r8w(I8w,n8w){if("function"!==typeof n8w&&null!==n8w){throw new TypeError("Super expression must either be null or a function, not "+typeof n8w);}I8w.prototype=Object.create(n8w&&n8w.prototype,{constructor:{value:I8w,enumerable:false,writable:true,configurable:true}});n8w&&(Object.setPrototypeOf?Object.setPrototypeOf(I8w,n8w):I8w.__proto__=n8w);}w65.__esModule=true;var Y65=function(){function T8w(O8w,o8w){for(var M8w=0;M8w<o8w.length;M8w++){var c8w=o8w[M8w];c8w.enumerable=c8w.enumerable||false;c8w.configurable=true;"value"in c8w&&(c8w.writable=true);Object.defineProperty(O8w,c8w.key,c8w);}}return function(g8w,h8w,y8w){h8w&&T8w(g8w.prototype,h8w);y8w&&T8w(g8w,y8w);return g8w;};}(),a65=function(H8w){if(H8w&&H8w.__esModule){return H8w;}var q8w={};if(null!=H8w){for(var Z8w in H8w){Object.prototype.hasOwnProperty.call(H8w,Z8w)&&(q8w[Z8w]=H8w[Z8w]);}}q8w.default=H8w;return q8w;}(x65("../core")),A65=(x65=x65("../core/sprites/canvas/CanvasTinter"))&&x65.__esModule?x65:{default:x65},k65=new a65.Point();x65=function(u8w){function E8w(J8w){var S8w=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,K8w=2<arguments.length&&void 0!==arguments[2]?arguments[2]:100;if(!(this instanceof E8w)){throw new TypeError("Cannot call a class as a function");}var j8w;j8w=u8w.call(this,J8w);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}j8w=!j8w||"object"!==typeof j8w&&"function"!==typeof j8w?this:j8w;j8w.tileTransform=new a65.TransformStatic();j8w._width=S8w;j8w._height=K8w;j8w._canvasPattern=null;j8w.uvTransform=J8w.transform||new a65.TextureMatrix(J8w);j8w.pluginName="tilingSprite";j8w.uvRespectAnchor=false;return j8w;}r8w(E8w,u8w);E8w.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture);this.cachedTint=16777215;};E8w.prototype._renderWebGL=function(b8w){var t8w=this._texture;t8w&&t8w.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),b8w.setObjectRenderer(b8w.plugins[this.pluginName]),b8w.plugins[this.pluginName].render(this));};E8w.prototype._renderCanvas=function(l8w){var C8w=this._texture;if(C8w.baseTexture.hasLoaded){var f8w=l8w.context,m8w=this.worldTransform,B8w=l8w.resolution,d8w=C8w.baseTexture,N8w=d8w.resolution,D8w=this.tilePosition.x/this.tileScale.x%C8w._frame.width*N8w,Q8w=this.tilePosition.y/this.tileScale.y%C8w._frame.height*N8w;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var z8w=new a65.CanvasRenderTarget(C8w._frame.width,C8w._frame.height,N8w);16777215!==this.tint?(this.tintedTexture=A65.default.getTintedTexture(this,this.tint),z8w.context.drawImage(this.tintedTexture,0,0)):z8w.context.drawImage(d8w.source,-C8w._frame.x*N8w,-C8w._frame.y*N8w);this.cachedTint=this.tint;this._canvasPattern=z8w.context.createPattern(z8w.canvas,"repeat");}f8w.globalAlpha=this.worldAlpha;f8w.setTransform(m8w.a*B8w,m8w.b*B8w,m8w.c*B8w,m8w.d*B8w,m8w.tx*B8w,m8w.ty*B8w);l8w.setBlendMode(this.blendMode);f8w.fillStyle=this._canvasPattern;f8w.scale(this.tileScale.x/N8w,this.tileScale.y/N8w);l8w=this.anchor.x*-this._width;C8w=this.anchor.y*-this._height;this.uvRespectAnchor?(f8w.translate(D8w,Q8w),f8w.fillRect(-D8w+l8w,-Q8w+C8w,this._width/this.tileScale.x*N8w,this._height/this.tileScale.y*N8w)):(f8w.translate(D8w+l8w,Q8w+C8w),f8w.fillRect(-D8w,-Q8w,this._width/this.tileScale.x*N8w,this._height/this.tileScale.y*N8w));}};E8w.prototype._calculateBounds=function(){this._bounds.addFrame(this.transform,this._width*-this._anchor._x,this._height*-this._anchor._y,this._width*(1-this._anchor._x),this._height*(1-this._anchor._y));};E8w.prototype.getLocalBounds=function(X8w){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._x),X8w||(this._localBoundsRect||(this._localBoundsRect=new a65.Rectangle()),X8w=this._localBoundsRect),this._bounds.getRectangle(X8w)):u8w.prototype.getLocalBounds.call(this,X8w);};E8w.prototype.containsPoint=function(U8w){this.worldTransform.applyInverse(U8w,k65);var W8w=this._width;U8w=this._height;var G8w=-W8w*this.anchor._x;return k65.x>=G8w&&k65.x<G8w+W8w&&(W8w=-U8w*this.anchor._y,k65.y>=W8w&&k65.y<W8w+U8w)?true:false;};E8w.prototype.destroy=function(e8w){u8w.prototype.destroy.call(this,e8w);this.uvTransform=this.tileTransform=null;};E8w.from=function(F8w,p8w,V8w){return new E8w(a65.Texture.from(F8w),p8w,V8w);};E8w.fromFrame=function(v8w,L8w,R8w){var P8w=a65.utils.TextureCache[v8w];if(!P8w){throw Error('The frameId "'+v8w+'" does not exist in the texture cache '+this);}return new E8w(P8w,L8w,R8w);};E8w.fromImage=function(i8w,a8w,x8w,k8w,w8w){return new E8w(a65.Texture.fromImage(i8w,k8w,w8w),a8w,x8w);};Y65(E8w,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin;},set:function(Y8w){this.uvTransform.clampMargin=Y8w;this.uvTransform.update(true);}},{key:"tileScale",get:function(){return this.tileTransform.scale;},set:function(A8w){this.tileTransform.scale.copy(A8w);}},{key:"tilePosition",get:function(){return this.tileTransform.position;},set:function(r2w){this.tileTransform.position.copy(r2w);}},{key:"width",get:function(){return this._width;},set:function(s2w){this._width=s2w;}},{key:"height",get:function(){return this._height;},set:function(n2w){this._height=n2w;}}]);return E8w;}(a65.Sprite);w65.default=x65;},{"../core":65,"../core/sprites/canvas/CanvasTinter":104}],138:[function(I2w,c2w,y2w){var M2w=function(H2w){if(H2w&&H2w.__esModule){return H2w;}var q2w={};if(null!=H2w){for(var Z2w in H2w){Object.prototype.hasOwnProperty.call(H2w,Z2w)&&(q2w[Z2w]=H2w[Z2w]);}}q2w.default=H2w;return q2w;}(I2w("../core")),o2w=(c2w=I2w("../core/textures/Texture"))&&c2w.__esModule?c2w:{default:c2w},O2w=(c2w=I2w("../core/textures/BaseTexture"))&&c2w.__esModule?c2w:{default:c2w},g2w=I2w("../core/utils");I2w=M2w.DisplayObject;var T2w=new M2w.Matrix();I2w.prototype._cacheAsBitmap=false;I2w.prototype._cacheData=false;var h2w=function E2w(){if(!(this instanceof E2w)){throw new TypeError("Cannot call a class as a function");}this.sprite=this.originalFilterArea=this.originalMask=this.originalDestroy=this.originalHitTest=this.originalUpdateTransform=this.originalGetLocalBounds=this.originalCalculateBounds=this.originalRenderCanvas=this.originalRenderWebGL=this.textureCacheId=null;};Object.defineProperties(I2w.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap;},set:function(u2w){this._cacheAsBitmap!==u2w&&((this._cacheAsBitmap=u2w)?(this._cacheData||(this._cacheData=new h2w()),u2w=this._cacheData,u2w.originalRenderWebGL=this.renderWebGL,u2w.originalRenderCanvas=this.renderCanvas,u2w.originalUpdateTransform=this.updateTransform,u2w.originalCalculateBounds=this._calculateBounds,u2w.originalGetLocalBounds=this.getLocalBounds,u2w.originalDestroy=this.destroy,u2w.originalContainsPoint=this.containsPoint,u2w.originalMask=this._mask,u2w.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(u2w=this._cacheData,u2w.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=u2w.originalRenderWebGL,this.renderCanvas=u2w.originalRenderCanvas,this._calculateBounds=u2w.originalCalculateBounds,this.getLocalBounds=u2w.originalGetLocalBounds,this.destroy=u2w.originalDestroy,this.updateTransform=u2w.originalUpdateTransform,this.containsPoint=u2w.originalContainsPoint,this._mask=u2w.originalMask,this.filterArea=u2w.originalFilterArea));}}});I2w.prototype._renderCachedWebGL=function(j2w){!this.visible||0>=this.worldAlpha||!this.renderable||(this._initCachedDisplayObject(j2w),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(j2w));};I2w.prototype._initCachedDisplayObject=function(K2w){if(!this._cacheData||!this._cacheData.sprite){var C2w=this.alpha;this.alpha=1;K2w.currentRenderer.flush();var S2w=this.getLocalBounds().clone();this._filters&&S2w.pad(this._filters[0].padding);var J2w=K2w._activeRenderTarget,N2w=K2w.filterManager.filterStack,b2w=M2w.RenderTexture.create(S2w.width|0,S2w.height|0),t2w="cacheAsBitmap_"+(0,g2w.uid)();this._cacheData.textureCacheId=t2w;O2w.default.addToCache(b2w.baseTexture,t2w);o2w.default.addToCache(b2w,t2w);T2w.tx=-S2w.x;T2w.ty=-S2w.y;this.transform.worldTransform.identity();this.renderWebGL=this._cacheData.originalRenderWebGL;K2w.render(this,b2w,true,T2w,true);K2w.bindRenderTarget(J2w);K2w.filterManager.filterStack=N2w;this.renderWebGL=this._renderCachedWebGL;this.updateTransform=this.displayObjectUpdateTransform;this.filterArea=this._mask=null;J2w=new M2w.Sprite(b2w);J2w.transform.worldTransform=this.transform.worldTransform;J2w.anchor.x=-(S2w.x/S2w.width);J2w.anchor.y=-(S2w.y/S2w.height);J2w.alpha=C2w;J2w._bounds=this._bounds;this._calculateBounds=this._calculateCachedBounds;this.getLocalBounds=this._getCachedLocalBounds;this._cacheData.sprite=J2w;this.transform._parentID=-1;this.parent?this.updateTransform():(this.parent=K2w._tempDisplayObjectParent,this.updateTransform(),this.parent=null);this.containsPoint=J2w.containsPoint.bind(J2w);}};I2w.prototype._renderCachedCanvas=function(f2w){!this.visible||0>=this.worldAlpha||!this.renderable||(this._initCachedDisplayObjectCanvas(f2w),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(f2w));};I2w.prototype._initCachedDisplayObjectCanvas=function(Q2w){if(!this._cacheData||!this._cacheData.sprite){var m2w=this.getLocalBounds(),D2w=this.alpha;this.alpha=1;var B2w=Q2w.context,l2w=M2w.RenderTexture.create(m2w.width|0,m2w.height|0),z2w="cacheAsBitmap_"+(0,g2w.uid)();this._cacheData.textureCacheId=z2w;O2w.default.addToCache(l2w.baseTexture,z2w);o2w.default.addToCache(l2w,z2w);this.transform.localTransform.copy(T2w);T2w.invert();T2w.tx-=m2w.x;T2w.ty-=m2w.y;this.renderCanvas=this._cacheData.originalRenderCanvas;Q2w.render(this,l2w,true,T2w,false);Q2w.context=B2w;this.renderCanvas=this._renderCachedCanvas;this._calculateBounds=this._calculateCachedBounds;this.filterArea=this._mask=null;B2w=new M2w.Sprite(l2w);B2w.transform.worldTransform=this.transform.worldTransform;B2w.anchor.x=-(m2w.x/m2w.width);B2w.anchor.y=-(m2w.y/m2w.height);B2w._bounds=this._bounds;B2w.alpha=D2w;this.parent?this.updateTransform():(this.parent=Q2w._tempDisplayObjectParent,this.updateTransform(),this.parent=null);this.updateTransform=this.displayObjectUpdateTransform;this._cacheData.sprite=B2w;this.containsPoint=B2w.containsPoint.bind(B2w);}};I2w.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds();};I2w.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds();};I2w.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(true);this._cacheData.sprite=null;O2w.default.removeFromCache(this._cacheData.textureCacheId);o2w.default.removeFromCache(this._cacheData.textureCacheId);this._cacheData.textureCacheId=null;};I2w.prototype._cacheAsBitmapDestroy=function(d2w){this.cacheAsBitmap=false;this.destroy(d2w);};},{"../core":65,"../core/textures/BaseTexture":112,"../core/textures/Texture":115,"../core/utils":125}],139:[function(X2w,W2w,U2w){X2w=function(G2w){if(G2w&&G2w.__esModule){return G2w;}var e2w={};if(null!=G2w){for(var F2w in G2w){Object.prototype.hasOwnProperty.call(G2w,F2w)&&(e2w[F2w]=G2w[F2w]);}}e2w.default=G2w;return e2w;}(X2w("../core"));X2w.DisplayObject.prototype.name=null;X2w.Container.prototype.getChildByName=function(P2w){var V2w=this;for(var p2w=0;p2w<this.children.length;p2w++){if(V2w.children[p2w].name===P2w){return V2w.children[p2w];}}return null;};},{"../core":65}],140:[function(L2w,R2w,i2w){var v2w=function(a2w){if(a2w&&a2w.__esModule){return a2w;}var x2w={};if(null!=a2w){for(var k2w in a2w){Object.prototype.hasOwnProperty.call(a2w,k2w)&&(x2w[k2w]=a2w[k2w]);}}x2w.default=a2w;return x2w;}(L2w("../core"));v2w.DisplayObject.prototype.getGlobalPosition=function(){var w2w=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new v2w.Point(),Y2w=1<arguments.length&&void 0!==arguments[1]?arguments[1]:false;this.parent?this.parent.toGlobal(this.position,w2w,Y2w):(w2w.x=this.position.x,w2w.y=this.position.y);return w2w;};},{"../core":65}],141:[function(r0w,M0w,A2w){function s0w(o0w){return o0w&&o0w.__esModule?o0w:{default:o0w};}A2w.__esModule=true;A2w.BitmapText=A2w.TilingSpriteRenderer=A2w.TilingSprite=A2w.AnimatedSprite=void 0;var n0w=r0w("./AnimatedSprite");Object.defineProperty(A2w,"AnimatedSprite",{enumerable:true,get:function(){return s0w(n0w).default;}});var I0w=r0w("./TilingSprite");Object.defineProperty(A2w,"TilingSprite",{enumerable:true,get:function(){return s0w(I0w).default;}});var T0w=r0w("./webgl/TilingSpriteRenderer");Object.defineProperty(A2w,"TilingSpriteRenderer",{enumerable:true,get:function(){return s0w(T0w).default;}});var c0w=r0w("./BitmapText");Object.defineProperty(A2w,"BitmapText",{enumerable:true,get:function(){return s0w(c0w).default;}});r0w("./cacheAsBitmap");r0w("./getChildByName");r0w("./getGlobalPosition");},{"./AnimatedSprite":135,"./BitmapText":136,"./TilingSprite":137,"./cacheAsBitmap":138,"./getChildByName":139,"./getGlobalPosition":140,"./webgl/TilingSpriteRenderer":142}],142:[function(g0w,Z0w,H0w){function q0w(u0w,E0w){if("function"!==typeof E0w&&null!==E0w){throw new TypeError("Super expression must either be null or a function, not "+typeof E0w);}u0w.prototype=Object.create(E0w&&E0w.prototype,{constructor:{value:u0w,enumerable:false,writable:true,configurable:true}});E0w&&(Object.setPrototypeOf?Object.setPrototypeOf(u0w,E0w):u0w.__proto__=E0w);}H0w.__esModule=true;var O0w=function(j0w){if(j0w&&j0w.__esModule){return j0w;}var J0w={};if(null!=j0w){for(var S0w in j0w){Object.prototype.hasOwnProperty.call(j0w,S0w)&&(J0w[S0w]=j0w[S0w]);}}J0w.default=j0w;return J0w;}(g0w("../../core")),y0w=g0w("../../core/const");g0w("path");var h0w=new O0w.Matrix();g0w=function(b0w){function K0w(t0w){if(!(this instanceof K0w)){throw new TypeError("Cannot call a class as a function");}t0w=b0w.call(this,t0w);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}t0w=!t0w||"object"!==typeof t0w&&"function"!==typeof t0w?this:t0w;t0w.shader=null;t0w.simpleShader=null;t0w.quad=null;return t0w;}q0w(K0w,b0w);K0w.prototype.onContextChange=function(){var C0w=this.renderer.gl;this.shader=new O0w.Shader(C0w,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n");this.simpleShader=new O0w.Shader(C0w,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n");this.renderer.bindVao(null);this.quad=new O0w.Quad(C0w,this.renderer.state.attribState);this.quad.initVao(this.shader);};K0w.prototype.render=function(f0w){var Q0w=this.renderer,z0w=this.quad;Q0w.bindVao(z0w.vao);var N0w=z0w.vertices;N0w[0]=N0w[6]=f0w._width*-f0w.anchor.x;N0w[1]=N0w[3]=f0w._height*-f0w.anchor.y;N0w[2]=N0w[4]=f0w._width*(1-f0w.anchor.x);N0w[5]=N0w[7]=f0w._height*(1-f0w.anchor.y);f0w.uvRespectAnchor&&(N0w=z0w.uvs,N0w[0]=N0w[6]=-f0w.anchor.x,N0w[1]=N0w[3]=-f0w.anchor.y,N0w[2]=N0w[4]=1-f0w.anchor.x,N0w[5]=N0w[7]=1-f0w.anchor.y);z0w.upload();var N0w=f0w._texture,B0w=N0w.baseTexture,l0w=f0w.tileTransform.localTransform,D0w=f0w.uvTransform,d0w=B0w.isPowerOfTwo&&N0w.frame.width===B0w.width&&N0w.frame.height===B0w.height;d0w&&(B0w._glTextures[Q0w.CONTEXT_UID]?d0w=B0w.wrapMode!==y0w.WRAP_MODES.CLAMP:B0w.wrapMode===y0w.WRAP_MODES.CLAMP&&(B0w.wrapMode=y0w.WRAP_MODES.REPEAT));var m0w=d0w?this.simpleShader:this.shader;Q0w.bindShader(m0w);var G0w=N0w.width,U0w=N0w.height,W0w=f0w._width,X0w=f0w._height;h0w.set(l0w.a*G0w/W0w,l0w.b*G0w/X0w,l0w.c*U0w/W0w,l0w.d*U0w/X0w,l0w.tx/W0w,l0w.ty/X0w);h0w.invert();d0w?h0w.prepend(D0w.mapCoord):(m0w.uniforms.uMapCoord=D0w.mapCoord.toArray(true),m0w.uniforms.uClampFrame=D0w.uClampFrame,m0w.uniforms.uClampOffset=D0w.uClampOffset);m0w.uniforms.uTransform=h0w.toArray(true);m0w.uniforms.uColor=O0w.utils.premultiplyTintToRgba(f0w.tint,f0w.worldAlpha,m0w.uniforms.uColor,B0w.premultipliedAlpha);m0w.uniforms.translationMatrix=f0w.transform.worldTransform.toArray(true);m0w.uniforms.uSampler=Q0w.bindTexture(N0w);Q0w.setBlendMode(O0w.utils.correctBlendMode(f0w.blendMode,B0w.premultipliedAlpha));z0w.vao.draw(this.renderer.gl.TRIANGLES,6,0);};return K0w;}(O0w.ObjectRenderer);H0w.default=g0w;O0w.WebGLRenderer.registerPlugin("tilingSprite",g0w);},{"../../core":65,"../../core/const":46,path:8}],143:[function(e0w,F0w,p0w){function P0w(L0w,v0w){if("function"!==typeof v0w&&null!==v0w){throw new TypeError("Super expression must either be null or a function, not "+typeof v0w);}L0w.prototype=Object.create(v0w&&v0w.prototype,{constructor:{value:L0w,enumerable:false,writable:true,configurable:true}});v0w&&(Object.setPrototypeOf?Object.setPrototypeOf(L0w,v0w):L0w.__proto__=v0w);}p0w.__esModule=true;var V0w=function(){function R0w(k0w,x0w){for(var a0w=0;a0w<x0w.length;a0w++){var i0w=x0w[a0w];i0w.enumerable=i0w.enumerable||false;i0w.configurable=true;"value"in i0w&&(i0w.writable=true);Object.defineProperty(k0w,i0w.key,i0w);}}return function(w0w,Y0w,A0w){Y0w&&R0w(w0w.prototype,Y0w);A0w&&R0w(w0w,A0w);return w0w;};}();F0w=function(r3w){if(r3w&&r3w.__esModule){return r3w;}var s3w={};if(null!=r3w){for(var n3w in r3w){Object.prototype.hasOwnProperty.call(r3w,n3w)&&(s3w[n3w]=r3w[n3w]);}}s3w.default=r3w;return s3w;}(e0w("../../core"));e0w("path");e0w=function(T3w){function I3w(){var M3w=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;if(!(this instanceof I3w)){throw new TypeError("Cannot call a class as a function");}var c3w;c3w=T3w.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n");if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}c3w=!c3w||"object"!==typeof c3w&&"function"!==typeof c3w?this:c3w;c3w.alpha=M3w;c3w.glShaderKey="alpha";return c3w;}P0w(I3w,T3w);V0w(I3w,[{key:"alpha",get:function(){return this.uniforms.uAlpha;},set:function(o3w){this.uniforms.uAlpha=o3w;}}]);return I3w;}(F0w.Filter);p0w.default=e0w;},{"../../core":65,path:8}],144:[function(O3w,g3w,y3w){function E3w(j3w,u3w){if("function"!==typeof u3w&&null!==u3w){throw new TypeError("Super expression must either be null or a function, not "+typeof u3w);}j3w.prototype=Object.create(u3w&&u3w.prototype,{constructor:{value:j3w,enumerable:false,writable:true,configurable:true}});u3w&&(Object.setPrototypeOf?Object.setPrototypeOf(j3w,u3w):j3w.__proto__=u3w);}y3w.__esModule=true;var H3w=function(){function J3w(t3w,b3w){for(var K3w=0;K3w<b3w.length;K3w++){var S3w=b3w[K3w];S3w.enumerable=S3w.enumerable||false;S3w.configurable=true;"value"in S3w&&(S3w.writable=true);Object.defineProperty(t3w,S3w.key,S3w);}}return function(C3w,N3w,f3w){N3w&&J3w(C3w.prototype,N3w);f3w&&J3w(C3w,f3w);return C3w;};}(),h3w=function(B3w){if(B3w&&B3w.__esModule){return B3w;}var m3w={};if(null!=B3w){for(var l3w in B3w){Object.prototype.hasOwnProperty.call(B3w,l3w)&&(m3w[l3w]=B3w[l3w]);}}m3w.default=B3w;return m3w;}(O3w("../../core")),q3w=(g3w=O3w("./BlurXFilter"))&&g3w.__esModule?g3w:{default:g3w},Z3w=(O3w=O3w("./BlurYFilter"))&&O3w.__esModule?O3w:{default:O3w};O3w=function(z3w){function Q3w(d3w,X3w,W3w,U3w){if(!(this instanceof Q3w)){throw new TypeError("Cannot call a class as a function");}var D3w;D3w=z3w.call(this);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}D3w=!D3w||"object"!==typeof D3w&&"function"!==typeof D3w?this:D3w;D3w.blurXFilter=new q3w.default(d3w,X3w,W3w,U3w);D3w.blurYFilter=new Z3w.default(d3w,X3w,W3w,U3w);D3w.padding=0;D3w.resolution=W3w||h3w.settings.RESOLUTION;D3w.quality=X3w||4;D3w.blur=d3w||8;return D3w;}E3w(Q3w,z3w);Q3w.prototype.apply=function(G3w,F3w,p3w){var e3w=G3w.getRenderTarget(true);this.blurXFilter.apply(G3w,F3w,e3w,true);this.blurYFilter.apply(G3w,e3w,p3w,false);G3w.returnRenderTarget(e3w);};H3w(Q3w,[{key:"blur",get:function(){return this.blurXFilter.blur;},set:function(V3w){this.blurXFilter.blur=this.blurYFilter.blur=V3w;this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength));}},{key:"quality",get:function(){return this.blurXFilter.quality;},set:function(P3w){this.blurXFilter.quality=this.blurYFilter.quality=P3w;}},{key:"blurX",get:function(){return this.blurXFilter.blur;},set:function(v3w){this.blurXFilter.blur=v3w;this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength));}},{key:"blurY",get:function(){return this.blurYFilter.blur;},set:function(L3w){this.blurYFilter.blur=L3w;this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength));}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode;},set:function(R3w){this.blurYFilter._blendMode=R3w;}}]);return Q3w;}(h3w.Filter);y3w.default=O3w;},{"../../core":65,"./BlurXFilter":145,"./BlurYFilter":146}],145:[function(i3w,a3w,r5w){function x3w(I5w){return I5w&&I5w.__esModule?I5w:{default:I5w};}function n5w(c5w,T5w){if("function"!==typeof T5w&&null!==T5w){throw new TypeError("Super expression must either be null or a function, not "+typeof T5w);}c5w.prototype=Object.create(T5w&&T5w.prototype,{constructor:{value:c5w,enumerable:false,writable:true,configurable:true}});T5w&&(Object.setPrototypeOf?Object.setPrototypeOf(c5w,T5w):c5w.__proto__=T5w);}r5w.__esModule=true;var s5w=function(){function M5w(h5w,g5w){for(var O5w=0;O5w<g5w.length;O5w++){var o5w=g5w[O5w];o5w.enumerable=o5w.enumerable||false;o5w.configurable=true;"value"in o5w&&(o5w.writable=true);Object.defineProperty(h5w,o5w.key,o5w);}}return function(y5w,H5w,q5w){H5w&&M5w(y5w.prototype,H5w);q5w&&M5w(y5w,q5w);return y5w;};}(),k3w=function(Z5w){if(Z5w&&Z5w.__esModule){return Z5w;}var E5w={};if(null!=Z5w){for(var u5w in Z5w){Object.prototype.hasOwnProperty.call(Z5w,u5w)&&(E5w[u5w]=Z5w[u5w]);}}E5w.default=Z5w;return E5w;}(i3w("../../core"));a3w=i3w("./generateBlurVertSource");var w3w=x3w(a3w);a3w=i3w("./generateBlurFragSource");var Y3w=x3w(a3w);i3w=i3w("./getMaxBlurKernelSize");var A3w=x3w(i3w);i3w=function(J5w){function j5w(b5w,t5w,C5w,K5w){if(!(this instanceof j5w)){throw new TypeError("Cannot call a class as a function");}K5w=K5w||5;var S5w=(0,w3w.default)(K5w,true);K5w=(0,Y3w.default)(K5w);S5w=J5w.call(this,S5w,K5w);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}S5w=!S5w||"object"!==typeof S5w&&"function"!==typeof S5w?this:S5w;S5w.resolution=C5w||k3w.settings.RESOLUTION;S5w._quality=0;S5w.quality=t5w||4;S5w.strength=b5w||8;S5w.firstRun=true;return S5w;}n5w(j5w,J5w);j5w.prototype.apply=function(f5w,B5w,l5w,z5w){var D5w=this;if(this.firstRun){var N5w=f5w.renderer.gl,N5w=(0,A3w.default)(N5w);this.vertexSrc=(0,w3w.default)(N5w,true);this.fragmentSrc=(0,Y3w.default)(N5w);this.firstRun=false;}this.uniforms.strength=1/l5w.size.width*(l5w.size.width/B5w.size.width);this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;if(1===this.passes){f5w.applyFilter(this,B5w,l5w,z5w);}else{for(var m5w=N5w=f5w.getRenderTarget(true),Q5w=0;Q5w<this.passes-1;Q5w++){f5w.applyFilter(D5w,B5w,m5w,true);var d5w=m5w,m5w=B5w;B5w=d5w;}f5w.applyFilter(this,B5w,l5w,z5w);f5w.returnRenderTarget(N5w);}};s5w(j5w,[{key:"blur",get:function(){return this.strength;},set:function(X5w){this.padding=2*Math.abs(X5w);this.strength=X5w;}},{key:"quality",get:function(){return this._quality;},set:function(W5w){this.passes=this._quality=W5w;}}]);return j5w;}(k3w.Filter);r5w.default=i3w;},{"../../core":65,"./generateBlurFragSource":147,"./generateBlurVertSource":148,"./getMaxBlurKernelSize":149}],146:[function(U5w,G5w,v5w){function e5w(i5w){return i5w&&i5w.__esModule?i5w:{default:i5w};}function R5w(x5w,a5w){if("function"!==typeof a5w&&null!==a5w){throw new TypeError("Super expression must either be null or a function, not "+typeof a5w);}x5w.prototype=Object.create(a5w&&a5w.prototype,{constructor:{value:x5w,enumerable:false,writable:true,configurable:true}});a5w&&(Object.setPrototypeOf?Object.setPrototypeOf(x5w,a5w):x5w.__proto__=a5w);}v5w.__esModule=true;var L5w=function(){function k5w(r9w,A5w){for(var Y5w=0;Y5w<A5w.length;Y5w++){var w5w=A5w[Y5w];w5w.enumerable=w5w.enumerable||false;w5w.configurable=true;"value"in w5w&&(w5w.writable=true);Object.defineProperty(r9w,w5w.key,w5w);}}return function(s9w,n9w,I9w){n9w&&k5w(s9w.prototype,n9w);I9w&&k5w(s9w,I9w);return s9w;};}(),F5w=function(T9w){if(T9w&&T9w.__esModule){return T9w;}var c9w={};if(null!=T9w){for(var M9w in T9w){Object.prototype.hasOwnProperty.call(T9w,M9w)&&(c9w[M9w]=T9w[M9w]);}}c9w.default=T9w;return c9w;}(U5w("../../core"));G5w=U5w("./generateBlurVertSource");var p5w=e5w(G5w);G5w=U5w("./generateBlurFragSource");var V5w=e5w(G5w);U5w=U5w("./getMaxBlurKernelSize");var P5w=e5w(U5w);U5w=function(O9w){function o9w(y9w,H9w,q9w,h9w){if(!(this instanceof o9w)){throw new TypeError("Cannot call a class as a function");}h9w=h9w||5;var g9w=(0,p5w.default)(h9w,false);h9w=(0,V5w.default)(h9w);g9w=O9w.call(this,g9w,h9w);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}g9w=!g9w||"object"!==typeof g9w&&"function"!==typeof g9w?this:g9w;g9w.resolution=q9w||F5w.settings.RESOLUTION;g9w._quality=0;g9w.quality=H9w||4;g9w.strength=y9w||8;g9w.firstRun=true;return g9w;}R5w(o9w,O9w);o9w.prototype.apply=function(E9w,u9w,J9w,K9w){var b9w=this;if(this.firstRun){var Z9w=E9w.renderer.gl,Z9w=(0,P5w.default)(Z9w);this.vertexSrc=(0,p5w.default)(Z9w,false);this.fragmentSrc=(0,V5w.default)(Z9w);this.firstRun=false;}this.uniforms.strength=1/J9w.size.height*(J9w.size.height/u9w.size.height);this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;if(1===this.passes){E9w.applyFilter(this,u9w,J9w,K9w);}else{for(var j9w=Z9w=E9w.getRenderTarget(true),S9w=0;S9w<this.passes-1;S9w++){E9w.applyFilter(b9w,u9w,j9w,true);var t9w=j9w,j9w=u9w;u9w=t9w;}E9w.applyFilter(this,u9w,J9w,K9w);E9w.returnRenderTarget(Z9w);}};L5w(o9w,[{key:"blur",get:function(){return this.strength;},set:function(C9w){this.padding=2*Math.abs(C9w);this.strength=C9w;}},{key:"quality",get:function(){return this._quality;},set:function(N9w){this.passes=this._quality=N9w;}}]);return o9w;}(F5w.Filter);v5w.default=U5w;},{"../../core":65,"./generateBlurFragSource":147,"./generateBlurVertSource":148,"./getMaxBlurKernelSize":149}],147:[function(l9w,Q9w,f9w){f9w.__esModule=true;f9w.default=function(d9w){for(var U9w=B9w[d9w],e9w=U9w.length,D9w=m9w,X9w="",G9w,z9w=0;z9w<d9w;z9w++){var W9w="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",z9w);G9w=z9w;z9w>=e9w&&(G9w=d9w-z9w-1);W9w=W9w.replace("%value%",U9w[G9w]);X9w+=W9w;X9w+="\n";}D9w=D9w.replace("%blur%",X9w);return D9w=D9w.replace("%size%",d9w);};var B9w={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[4.89E-4,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},m9w="varying vec2 vBlurTexCoords[%size%];\nuniform sampler2D uSampler;\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n    %blur%\n}";},{}],148:[function(V9w,P9w,F9w){F9w.__esModule=true;F9w.default=function(a9w,x9w){var k9w=Math.ceil(a9w/2),L9w=p9w,v9w="";x9w=x9w?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var R9w=0;R9w<a9w;R9w++){var i9w=x9w.replace("%index%",R9w),i9w=i9w.replace("%sampleIndex%",R9w-(k9w-1)+".0"),v9w=v9w+i9w,v9w=v9w+"\n";}L9w=L9w.replace("%blur%",v9w);return L9w=L9w.replace("%size%",a9w);};var p9w="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform float strength;\nuniform mat3 projectionMatrix;\nvarying vec2 vBlurTexCoords[%size%];\nvoid main(void)\n{\ngl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n%blur%\n}";},{}],149:[function(Y9w,A9w,w9w){w9w.__esModule=true;w9w.default=function(r1w){r1w=r1w.getParameter(r1w.MAX_VARYING_VECTORS);for(var s1w=15;s1w>r1w;){s1w-=2;}return s1w;};},{}],150:[function(n1w,I1w,T1w){function M1w(O1w,o1w){if("function"!==typeof o1w&&null!==o1w){throw new TypeError("Super expression must either be null or a function, not "+typeof o1w);}O1w.prototype=Object.create(o1w&&o1w.prototype,{constructor:{value:O1w,enumerable:false,writable:true,configurable:true}});o1w&&(Object.setPrototypeOf?Object.setPrototypeOf(O1w,o1w):O1w.__proto__=o1w);}T1w.__esModule=true;var c1w=function(){function g1w(q1w,H1w){for(var y1w=0;y1w<H1w.length;y1w++){var h1w=H1w[y1w];h1w.enumerable=h1w.enumerable||false;h1w.configurable=true;"value"in h1w&&(h1w.writable=true);Object.defineProperty(q1w,h1w.key,h1w);}}return function(Z1w,E1w,u1w){E1w&&g1w(Z1w.prototype,E1w);u1w&&g1w(Z1w,u1w);return Z1w;};}();I1w=function(j1w){if(j1w&&j1w.__esModule){return j1w;}var J1w={};if(null!=j1w){for(var S1w in j1w){Object.prototype.hasOwnProperty.call(j1w,S1w)&&(J1w[S1w]=j1w[S1w]);}}J1w.default=j1w;return J1w;}(n1w("../../core"));n1w("path");n1w=function(b1w){function K1w(){if(!(this instanceof K1w)){throw new TypeError("Cannot call a class as a function");}var t1w;t1w=b1w.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n");if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}t1w=!t1w||"object"!==typeof t1w&&"function"!==typeof t1w?this:t1w;t1w.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];t1w.alpha=1;return t1w;}M1w(K1w,b1w);K1w.prototype._loadMatrix=function(N1w){var C1w=N1w;1<arguments.length&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(C1w,this.uniforms.m,N1w),C1w=this._colorMatrix(C1w));this.uniforms.m=C1w;};K1w.prototype._multiply=function(m1w,f1w,B1w){m1w[0]=f1w[0]*B1w[0]+f1w[1]*B1w[5]+f1w[2]*B1w[10]+f1w[3]*B1w[15];m1w[1]=f1w[0]*B1w[1]+f1w[1]*B1w[6]+f1w[2]*B1w[11]+f1w[3]*B1w[16];m1w[2]=f1w[0]*B1w[2]+f1w[1]*B1w[7]+f1w[2]*B1w[12]+f1w[3]*B1w[17];m1w[3]=f1w[0]*B1w[3]+f1w[1]*B1w[8]+f1w[2]*B1w[13]+f1w[3]*B1w[18];m1w[4]=f1w[0]*B1w[4]+f1w[1]*B1w[9]+f1w[2]*B1w[14]+f1w[3]*B1w[19]+f1w[4];m1w[5]=f1w[5]*B1w[0]+f1w[6]*B1w[5]+f1w[7]*B1w[10]+f1w[8]*B1w[15];m1w[6]=f1w[5]*B1w[1]+f1w[6]*B1w[6]+f1w[7]*B1w[11]+f1w[8]*B1w[16];m1w[7]=f1w[5]*B1w[2]+f1w[6]*B1w[7]+f1w[7]*B1w[12]+f1w[8]*B1w[17];m1w[8]=f1w[5]*B1w[3]+f1w[6]*B1w[8]+f1w[7]*B1w[13]+f1w[8]*B1w[18];m1w[9]=f1w[5]*B1w[4]+f1w[6]*B1w[9]+f1w[7]*B1w[14]+f1w[8]*B1w[19]+f1w[9];m1w[10]=f1w[10]*B1w[0]+f1w[11]*B1w[5]+f1w[12]*B1w[10]+f1w[13]*B1w[15];m1w[11]=f1w[10]*B1w[1]+f1w[11]*B1w[6]+f1w[12]*B1w[11]+f1w[13]*B1w[16];m1w[12]=f1w[10]*B1w[2]+f1w[11]*B1w[7]+f1w[12]*B1w[12]+f1w[13]*B1w[17];m1w[13]=f1w[10]*B1w[3]+f1w[11]*B1w[8]+f1w[12]*B1w[13]+f1w[13]*B1w[18];m1w[14]=f1w[10]*B1w[4]+f1w[11]*B1w[9]+f1w[12]*B1w[14]+f1w[13]*B1w[19]+f1w[14];m1w[15]=f1w[15]*B1w[0]+f1w[16]*B1w[5]+f1w[17]*B1w[10]+f1w[18]*B1w[15];m1w[16]=f1w[15]*B1w[1]+f1w[16]*B1w[6]+f1w[17]*B1w[11]+f1w[18]*B1w[16];m1w[17]=f1w[15]*B1w[2]+f1w[16]*B1w[7]+f1w[17]*B1w[12]+f1w[18]*B1w[17];m1w[18]=f1w[15]*B1w[3]+f1w[16]*B1w[8]+f1w[17]*B1w[13]+f1w[18]*B1w[18];m1w[19]=f1w[15]*B1w[4]+f1w[16]*B1w[9]+f1w[17]*B1w[14]+f1w[18]*B1w[19]+f1w[19];return m1w;};K1w.prototype._colorMatrix=function(l1w){l1w=new Float32Array(l1w);l1w[4]/=255;l1w[9]/=255;l1w[14]/=255;l1w[19]/=255;return l1w;};K1w.prototype.brightness=function(Q1w,z1w){this._loadMatrix([Q1w,0,0,0,0,0,Q1w,0,0,0,0,0,Q1w,0,0,0,0,0,1,0],z1w);};K1w.prototype.greyscale=function(D1w,d1w){this._loadMatrix([D1w,D1w,D1w,0,0,D1w,D1w,D1w,0,0,D1w,D1w,D1w,0,0,0,0,0,1,0],d1w);};K1w.prototype.blackAndWhite=function(X1w){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],X1w);};K1w.prototype.hue=function(U1w,F1w){U1w=(U1w||0)/180*Math.PI;var W1w=Math.cos(U1w);U1w=Math.sin(U1w);var e1w=Math.sqrt,G1w=0.3333333333333333,e1w=e1w(G1w);this._loadMatrix([W1w+(1-W1w)*G1w,G1w*(1-W1w)-e1w*U1w,G1w*(1-W1w)+e1w*U1w,0,0,G1w*(1-W1w)+e1w*U1w,W1w+G1w*(1-W1w),G1w*(1-W1w)-e1w*U1w,0,0,G1w*(1-W1w)-e1w*U1w,G1w*(1-W1w)+e1w*U1w,W1w+G1w*(1-W1w),0,0,0,0,0,1,0],F1w);};K1w.prototype.contrast=function(p1w,P1w){p1w=(p1w||0)+1;var V1w=-.5*(p1w-1);this._loadMatrix([p1w,0,0,0,V1w,0,p1w,0,0,V1w,0,0,p1w,0,V1w,0,0,0,1,0],P1w);};K1w.prototype.saturate=function(){var L1w=0<arguments.length&&void 0!==arguments[0]?2*arguments[0]/3+1:1,v1w=-.5*(L1w-1);this._loadMatrix([L1w,v1w,v1w,0,0,v1w,L1w,v1w,0,0,v1w,v1w,L1w,0,0,0,0,0,1,0],arguments[1]);};K1w.prototype.desaturate=function(){this.saturate(-1);};K1w.prototype.negative=function(R1w){this._loadMatrix([0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0],R1w);};K1w.prototype.sepia=function(i1w){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],i1w);};K1w.prototype.technicolor=function(a1w){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],a1w);};K1w.prototype.polaroid=function(x1w){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],x1w);};K1w.prototype.toBGR=function(k1w){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],k1w);};K1w.prototype.kodachrome=function(w1w){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],w1w);};K1w.prototype.browni=function(Y1w){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],Y1w);};K1w.prototype.vintage=function(A1w){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],A1w);};K1w.prototype.colorTone=function(M4w,o4w,r4w,s4w,O4w){r4w=r4w||16770432;s4w=s4w||3375104;var n4w=(r4w>>16&255)/255,I4w=(r4w>>8&255)/255;r4w=(r4w&255)/255;var T4w=(s4w>>16&255)/255,c4w=(s4w>>8&255)/255;s4w=(s4w&255)/255;this._loadMatrix([.3,.59,.11,0,0,n4w,I4w,r4w,M4w||.2,0,T4w,c4w,s4w,o4w||.15,0,n4w-T4w,I4w-c4w,r4w-s4w,0,0],O4w);};K1w.prototype.night=function(g4w,h4w){g4w=g4w||.1;this._loadMatrix([-2*g4w,-g4w,0,0,0,-g4w,0,g4w,0,0,0,g4w,2*g4w,0,0,0,0,0,1,0],h4w);};K1w.prototype.predator=function(y4w,H4w){this._loadMatrix([11.224130630493164*y4w,-4.794486999511719*y4w,-2.8746118545532227*y4w,0*y4w,.40342438220977783*y4w,-3.6330697536468506*y4w,9.193157196044922*y4w,-2.951810836791992*y4w,0*y4w,-1.316135048866272*y4w,-3.2184197902679443*y4w,-4.2375030517578125*y4w,7.476448059082031*y4w,0*y4w,.8044459223747253*y4w,0,0,0,1,0],H4w);};K1w.prototype.lsd=function(q4w){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],q4w);};K1w.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],false);};c1w(K1w,[{key:"matrix",get:function(){return this.uniforms.m;},set:function(Z4w){this.uniforms.m=Z4w;}},{key:"alpha",get:function(){return this.uniforms.uAlpha;},set:function(E4w){this.uniforms.uAlpha=E4w;}}]);return K1w;}(I1w.Filter);T1w.default=n1w;n1w.prototype.grayscale=n1w.prototype.greyscale;},{"../../core":65,path:8}],151:[function(u4w,b4w,J4w){function K4w(C4w,t4w){if("function"!==typeof t4w&&null!==t4w){throw new TypeError("Super expression must either be null or a function, not "+typeof t4w);}C4w.prototype=Object.create(t4w&&t4w.prototype,{constructor:{value:C4w,enumerable:false,writable:true,configurable:true}});t4w&&(Object.setPrototypeOf?Object.setPrototypeOf(C4w,t4w):C4w.__proto__=t4w);}J4w.__esModule=true;var S4w=function(){function N4w(l4w,m4w){for(var B4w=0;B4w<m4w.length;B4w++){var f4w=m4w[B4w];f4w.enumerable=f4w.enumerable||false;f4w.configurable=true;"value"in f4w&&(f4w.writable=true);Object.defineProperty(l4w,f4w.key,f4w);}}return function(Q4w,z4w,D4w){z4w&&N4w(Q4w.prototype,z4w);D4w&&N4w(Q4w,D4w);return Q4w;};}(),j4w=function(d4w){if(d4w&&d4w.__esModule){return d4w;}var X4w={};if(null!=d4w){for(var W4w in d4w){Object.prototype.hasOwnProperty.call(d4w,W4w)&&(X4w[W4w]=d4w[W4w]);}}X4w.default=d4w;return X4w;}(u4w("../../core"));u4w("path");u4w=function(G4w){function U4w(p4w,F4w){if(!(this instanceof U4w)){throw new TypeError("Cannot call a class as a function");}var V4w=new j4w.Matrix();p4w.renderable=false;var e4w;e4w=G4w.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n");if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}e4w=!e4w||"object"!==typeof e4w&&"function"!==typeof e4w?this:e4w;e4w.maskSprite=p4w;e4w.maskMatrix=V4w;e4w.uniforms.mapSampler=p4w._texture;e4w.uniforms.filterMatrix=V4w;e4w.uniforms.scale={x:1,y:1};if(null===F4w||void 0===F4w){F4w=20;}e4w.scale=new j4w.Point(F4w,F4w);return e4w;}K4w(U4w,G4w);U4w.prototype.apply=function(L4w,R4w,P4w){var v4w=1/P4w.destinationFrame.width*(P4w.size.width/R4w.size.width);this.uniforms.filterMatrix=L4w.calculateSpriteMatrix(this.maskMatrix,this.maskSprite);this.uniforms.scale.x=this.scale.x*v4w;this.uniforms.scale.y=this.scale.y*v4w;L4w.applyFilter(this,R4w,P4w);};S4w(U4w,[{key:"map",get:function(){return this.uniforms.mapSampler;},set:function(i4w){this.uniforms.mapSampler=i4w;}}]);return U4w;}(j4w.Filter);J4w.default=u4w;},{"../../core":65,path:8}],152:[function(a4w,x4w,k4w){function w4w(A4w,Y4w){if("function"!==typeof Y4w&&null!==Y4w){throw new TypeError("Super expression must either be null or a function, not "+typeof Y4w);}A4w.prototype=Object.create(Y4w&&Y4w.prototype,{constructor:{value:A4w,enumerable:false,writable:true,configurable:true}});Y4w&&(Object.setPrototypeOf?Object.setPrototypeOf(A4w,Y4w):A4w.__proto__=Y4w);}k4w.__esModule=true;x4w=function(r7w){if(r7w&&r7w.__esModule){return r7w;}var s7w={};if(null!=r7w){for(var n7w in r7w){Object.prototype.hasOwnProperty.call(r7w,n7w)&&(s7w[n7w]=r7w[n7w]);}}s7w.default=r7w;return s7w;}(a4w("../../core"));a4w("path");a4w=function(T7w){function I7w(){if(!(this instanceof I7w)){throw new TypeError("Cannot call a class as a function");}var c7w=T7w.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n');if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return!c7w||"object"!==typeof c7w&&"function"!==typeof c7w?this:c7w;}w4w(I7w,T7w);return I7w;}(x4w.Filter);k4w.default=a4w;},{"../../core":65,path:8}],153:[function(O7w,j7w,M7w){function o7w(J7w){return J7w&&J7w.__esModule?J7w:{default:J7w};}M7w.__esModule=true;var y7w=O7w("./fxaa/FXAAFilter");Object.defineProperty(M7w,"FXAAFilter",{enumerable:true,get:function(){return o7w(y7w).default;}});var g7w=O7w("./noise/NoiseFilter");Object.defineProperty(M7w,"NoiseFilter",{enumerable:true,get:function(){return o7w(g7w).default;}});var q7w=O7w("./displacement/DisplacementFilter");Object.defineProperty(M7w,"DisplacementFilter",{enumerable:true,get:function(){return o7w(q7w).default;}});var Z7w=O7w("./blur/BlurFilter");Object.defineProperty(M7w,"BlurFilter",{enumerable:true,get:function(){return o7w(Z7w).default;}});var E7w=O7w("./blur/BlurXFilter");Object.defineProperty(M7w,"BlurXFilter",{enumerable:true,get:function(){return o7w(E7w).default;}});var u7w=O7w("./blur/BlurYFilter");Object.defineProperty(M7w,"BlurYFilter",{enumerable:true,get:function(){return o7w(u7w).default;}});var h7w=O7w("./colormatrix/ColorMatrixFilter");Object.defineProperty(M7w,"ColorMatrixFilter",{enumerable:true,get:function(){return o7w(h7w).default;}});var H7w=O7w("./alpha/AlphaFilter");Object.defineProperty(M7w,"AlphaFilter",{enumerable:true,get:function(){return o7w(H7w).default;}});},{"./alpha/AlphaFilter":143,"./blur/BlurFilter":144,"./blur/BlurXFilter":145,"./blur/BlurYFilter":146,"./colormatrix/ColorMatrixFilter":150,"./displacement/DisplacementFilter":151,"./fxaa/FXAAFilter":152,"./noise/NoiseFilter":154}],154:[function(S7w,K7w,b7w){function C7w(f7w,N7w){if("function"!==typeof N7w&&null!==N7w){throw new TypeError("Super expression must either be null or a function, not "+typeof N7w);}f7w.prototype=Object.create(N7w&&N7w.prototype,{constructor:{value:f7w,enumerable:false,writable:true,configurable:true}});N7w&&(Object.setPrototypeOf?Object.setPrototypeOf(f7w,N7w):f7w.__proto__=N7w);}b7w.__esModule=true;var t7w=function(){function B7w(z7w,Q7w){for(var l7w=0;l7w<Q7w.length;l7w++){var m7w=Q7w[l7w];m7w.enumerable=m7w.enumerable||false;m7w.configurable=true;"value"in m7w&&(m7w.writable=true);Object.defineProperty(z7w,m7w.key,m7w);}}return function(D7w,d7w,X7w){d7w&&B7w(D7w.prototype,d7w);X7w&&B7w(D7w,X7w);return D7w;};}();K7w=function(W7w){if(W7w&&W7w.__esModule){return W7w;}var U7w={};if(null!=W7w){for(var G7w in W7w){Object.prototype.hasOwnProperty.call(W7w,G7w)&&(U7w[G7w]=W7w[G7w]);}}U7w.default=W7w;return U7w;}(S7w("../../core"));S7w("path");S7w=function(F7w){function e7w(){var V7w=0<arguments.length&&void 0!==arguments[0]?arguments[0]:.5,P7w=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Math.random();if(!(this instanceof e7w)){throw new TypeError("Cannot call a class as a function");}var p7w;p7w=F7w.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n");if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}p7w=!p7w||"object"!==typeof p7w&&"function"!==typeof p7w?this:p7w;p7w.noise=V7w;p7w.seed=P7w;return p7w;}C7w(e7w,F7w);t7w(e7w,[{key:"noise",get:function(){return this.uniforms.uNoise;},set:function(v7w){this.uniforms.uNoise=v7w;}},{key:"seed",get:function(){return this.uniforms.uSeed;},set:function(L7w){this.uniforms.uSeed=L7w;}}]);return e7w;}(K7w.Filter);b7w.default=S7w;},{"../../core":65,path:8}],155:[function(R7w,k7w,i7w){i7w.__esModule=true;var a7w=function(){function w7w(s6w,r6w){for(var A7w=0;A7w<r6w.length;A7w++){var Y7w=r6w[A7w];Y7w.enumerable=Y7w.enumerable||false;Y7w.configurable=true;"value"in Y7w&&(Y7w.writable=true);Object.defineProperty(s6w,Y7w.key,Y7w);}}return function(n6w,I6w,T6w){I6w&&w7w(n6w.prototype,I6w);T6w&&w7w(n6w,T6w);return n6w;};}(),x7w=function(c6w){if(c6w&&c6w.__esModule){return c6w;}var M6w={};if(null!=c6w){for(var o6w in c6w){Object.prototype.hasOwnProperty.call(c6w,o6w)&&(M6w[o6w]=c6w[o6w]);}}M6w.default=c6w;return M6w;}(R7w("../core"));R7w=function(){function O6w(){if(!(this instanceof O6w)){throw new TypeError("Cannot call a class as a function");}this.global=new x7w.Point();this.identifier=this.originalEvent=this.target=null;this.isPrimary=false;this.tiltY=this.tiltX=this.height=this.width=this.buttons=this.button=0;this.pointerType=null;this.tangentialPressure=this.twist=this.rotationAngle=this.pressure=0;}O6w.prototype.getLocalPosition=function(g6w,h6w,y6w){return g6w.worldTransform.applyInverse(y6w||this.global,h6w);};O6w.prototype._copyEvent=function(H6w){H6w.isPrimary&&(this.isPrimary=true);this.button=H6w.button;this.buttons=H6w.buttons;this.width=H6w.width;this.height=H6w.height;this.tiltX=H6w.tiltX;this.tiltY=H6w.tiltY;this.pointerType=H6w.pointerType;this.pressure=H6w.pressure;this.rotationAngle=H6w.rotationAngle;this.twist=H6w.twist||0;this.tangentialPressure=H6w.tangentialPressure||0;};O6w.prototype._reset=function(){this.isPrimary=false;};a7w(O6w,[{key:"pointerId",get:function(){return this.identifier;}}]);return O6w;}();i7w.default=R7w;},{"../core":65}],156:[function(q6w,E6w,Z6w){Z6w.__esModule=true;q6w=function(){function u6w(){if(!(this instanceof u6w)){throw new TypeError("Cannot call a class as a function");}this.stopped=false;this.data=this.type=this.currentTarget=this.target=null;}u6w.prototype.stopPropagation=function(){this.stopped=true;};u6w.prototype._reset=function(){this.stopped=false;this.target=this.currentTarget=null;};return u6w;}();Z6w.default=q6w;},{}],157:[function(j6w,J6w,N6w){function b6w(l6w){return l6w&&l6w.__esModule?l6w:{default:l6w};}function m6w(z6w,Q6w){if("function"!==typeof Q6w&&null!==Q6w){throw new TypeError("Super expression must either be null or a function, not "+typeof Q6w);}z6w.prototype=Object.create(Q6w&&Q6w.prototype,{constructor:{value:z6w,enumerable:false,writable:true,configurable:true}});Q6w&&(Object.setPrototypeOf?Object.setPrototypeOf(z6w,Q6w):z6w.__proto__=Q6w);}N6w.__esModule=true;j.initSymbol();j.initSymbol();j.initSymbolIterator();var f6w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(D6w){return typeof D6w;}:function(d6w){j.initSymbol();j.initSymbol();j.initSymbol();return d6w&&"function"===typeof Symbol&&d6w.constructor===Symbol&&d6w!==Symbol.prototype?"symbol":typeof d6w;},S6w=function(X6w){if(X6w&&X6w.__esModule){return X6w;}var W6w={};if(null!=X6w){for(var U6w in X6w){Object.prototype.hasOwnProperty.call(X6w,U6w)&&(W6w[U6w]=X6w[U6w]);}}W6w.default=X6w;return W6w;}(j6w("../core"));J6w=j6w("./InteractionData");var C6w=b6w(J6w);J6w=j6w("./InteractionEvent");var B6w=b6w(J6w);J6w=j6w("./InteractionTrackingData");var t6w=b6w(J6w);J6w=j6w("eventemitter3");J6w=b6w(J6w);j6w=j6w("./interactiveTarget");j6w=b6w(j6w);S6w.utils.mixins.delayMixin(S6w.DisplayObject.prototype,j6w.default);var K6w={target:null,data:{global:null}};j6w=function(e6w){function G6w(V6w,p6w){if(!(this instanceof G6w)){throw new TypeError("Cannot call a class as a function");}var F6w;F6w=e6w.call(this);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}F6w=!F6w||"object"!==typeof F6w&&"function"!==typeof F6w?this:F6w;p6w=p6w||{};F6w.renderer=V6w;F6w.autoPreventDefault=void 0!==p6w.autoPreventDefault?p6w.autoPreventDefault:true;F6w.interactionFrequency=p6w.interactionFrequency||10;F6w.mouse=new C6w.default();F6w.mouse.identifier="MOUSE";F6w.mouse.global.set(-999999);F6w.activeInteractionData={};F6w.activeInteractionData.MOUSE=F6w.mouse;F6w.interactionDataPool=[];F6w.eventData=new B6w.default();F6w.interactionDOMElement=null;F6w.moveWhenInside=false;F6w.eventsAdded=false;F6w.mouseOverRenderer=false;F6w.supportsTouchEvents="ontouchstart"in window;F6w.supportsPointerEvents=!!window.PointerEvent;F6w.onPointerUp=F6w.onPointerUp.bind(F6w);F6w.processPointerUp=F6w.processPointerUp.bind(F6w);F6w.onPointerCancel=F6w.onPointerCancel.bind(F6w);F6w.processPointerCancel=F6w.processPointerCancel.bind(F6w);F6w.onPointerDown=F6w.onPointerDown.bind(F6w);F6w.processPointerDown=F6w.processPointerDown.bind(F6w);F6w.onPointerMove=F6w.onPointerMove.bind(F6w);F6w.processPointerMove=F6w.processPointerMove.bind(F6w);F6w.onPointerOut=F6w.onPointerOut.bind(F6w);F6w.processPointerOverOut=F6w.processPointerOverOut.bind(F6w);F6w.onPointerOver=F6w.onPointerOver.bind(F6w);F6w.cursorStyles={default:"inherit",pointer:"pointer"};F6w.currentCursorMode=null;F6w.cursor=null;F6w._tempPoint=new S6w.Point();F6w.resolution=1;F6w.setTargetElement(F6w.renderer.view,F6w.renderer.resolution);return F6w;}m6w(G6w,e6w);G6w.prototype.hitTest=function(v6w,P6w){K6w.target=null;K6w.data.global=v6w;P6w||(P6w=this.renderer._lastObjectRendered);this.processInteractive(K6w,P6w,null,true);return K6w.target;};G6w.prototype.setTargetElement=function(R6w){var L6w=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents();this.interactionDOMElement=R6w;this.resolution=L6w;this.addEvents();};G6w.prototype.addEvents=function(){this.interactionDOMElement&&(S6w.ticker.shared.add(this.update,this,S6w.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,true),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,true),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,true),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,true),window.addEventListener("pointercancel",this.onPointerCancel,true),window.addEventListener("pointerup",this.onPointerUp,true)):(window.document.addEventListener("mousemove",this.onPointerMove,true),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,true),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,true),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,true),window.addEventListener("mouseup",this.onPointerUp,true)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,true),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,true),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,true),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,true)),this.eventsAdded=true);};G6w.prototype.removeEvents=function(){this.interactionDOMElement&&(S6w.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,true),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,true),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,true),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,true),window.removeEventListener("pointercancel",this.onPointerCancel,true),window.removeEventListener("pointerup",this.onPointerUp,true)):(window.document.removeEventListener("mousemove",this.onPointerMove,true),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,true),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,true),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,true),window.removeEventListener("mouseup",this.onPointerUp,true)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,true),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,true),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,true),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,true)),this.interactionDOMElement=null,this.eventsAdded=false);};G6w.prototype.update=function(a6w){var i6w=this;this._deltaTime+=a6w;if(!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement)){if(this.didMove){this.didMove=false;}else{this.cursor=null;for(var x6w in i6w.activeInteractionData){i6w.activeInteractionData.hasOwnProperty(x6w)&&(a6w=i6w.activeInteractionData[x6w],a6w.originalEvent&&"touch"!==a6w.pointerType&&(a6w=i6w.configureInteractionEventForDOMEvent(i6w.eventData,a6w.originalEvent,a6w),i6w.processInteractive(a6w,i6w.renderer._lastObjectRendered,i6w.processPointerOverOut,true)));}this.setCursorMode(this.cursor);}}};G6w.prototype.setCursorMode=function(k6w){k6w=k6w||"default";if(this.currentCursorMode!==k6w){this.currentCursorMode=k6w;var w6w=this.cursorStyles[k6w];if(w6w){switch("undefined"===typeof w6w?"undefined":f6w(w6w)){case"string":this.interactionDOMElement.style.cursor=w6w;break;case"function":w6w(k6w);break;case"object":Object.assign(this.interactionDOMElement.style,w6w);}}else{"string"!==typeof k6w||Object.prototype.hasOwnProperty.call(this.cursorStyles,k6w)||(this.interactionDOMElement.style.cursor=k6w);}}};G6w.prototype.dispatchEvent=function(A6w,r8B,Y6w){if(!Y6w.stopped&&(Y6w.currentTarget=A6w,Y6w.type=r8B,A6w.emit(r8B,Y6w),A6w[r8B])){A6w[r8B](Y6w);}};G6w.prototype.mapPositionToPoint=function(I8B,T8B,c8B){var s8B;s8B=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var n8B=navigator.isCocoonJS?this.resolution:1/this.resolution;I8B.x=this.interactionDOMElement.width/s8B.width*(T8B-s8B.left)*n8B;I8B.y=this.interactionDOMElement.height/s8B.height*(c8B-s8B.top)*n8B;};G6w.prototype.processInteractive=function(o8B,M8B,Z8B,g8B,y8B){var J8B=this;if(!M8B||!M8B.visible){return false;}var h8B=o8B.data.global;y8B=M8B.interactive||y8B;var O8B=false,H8B=y8B;M8B.hitArea?H8B=false:g8B&&M8B._mask&&(M8B._mask.containsPoint(h8B)||(g8B=false));if(M8B.interactiveChildren&&M8B.children){for(var u8B=M8B.children,q8B=u8B.length-1;0<=q8B;q8B--){var E8B=u8B[q8B],j8B=J8B.processInteractive(o8B,E8B,Z8B,g8B,H8B);j8B&&E8B.parent&&(H8B=false,j8B&&(o8B.target&&(g8B=false),O8B=true));}}y8B&&(g8B&&!o8B.target&&(M8B.hitArea?(M8B.worldTransform.applyInverse(h8B,this._tempPoint),M8B.hitArea.contains(this._tempPoint.x,this._tempPoint.y)&&(O8B=true)):M8B.containsPoint&&M8B.containsPoint(h8B)&&(O8B=true)),M8B.interactive&&(O8B&&!o8B.target&&(o8B.target=M8B),Z8B&&Z8B(o8B,M8B,!!O8B)));return O8B;};G6w.prototype.onPointerDown=function(t8B){var S8B=this;if(!this.supportsTouchEvents||"touch"!==t8B.pointerType){var C8B=this.normalizeToPointerData(t8B);this.autoPreventDefault&&C8B[0].isNormalized&&t8B.preventDefault();for(var f8B=C8B.length,N8B=0;N8B<f8B;N8B++){var b8B=C8B[N8B],K8B=S8B.getInteractionDataForPointerId(b8B),K8B=S8B.configureInteractionEventForDOMEvent(S8B.eventData,b8B,K8B);K8B.data.originalEvent=t8B;S8B.processInteractive(K8B,S8B.renderer._lastObjectRendered,S8B.processPointerDown,true);S8B.emit("pointerdown",K8B);"touch"===b8B.pointerType?S8B.emit("touchstart",K8B):"mouse"!==b8B.pointerType&&"pen"!==b8B.pointerType||S8B.emit(2===b8B.button?"rightdown":"mousedown",S8B.eventData);}}};G6w.prototype.processPointerDown=function(l8B,B8B,z8B){var Q8B=l8B.data,m8B=l8B.data.identifier;if(z8B){if(B8B.trackedPointers[m8B]||(B8B.trackedPointers[m8B]=new t6w.default(m8B)),this.dispatchEvent(B8B,"pointerdown",l8B),"touch"===Q8B.pointerType){this.dispatchEvent(B8B,"touchstart",l8B);}else if("mouse"===Q8B.pointerType||"pen"===Q8B.pointerType){(z8B=2===Q8B.button)?B8B.trackedPointers[m8B].rightDown=true:B8B.trackedPointers[m8B].leftDown=true,this.dispatchEvent(B8B,z8B?"rightdown":"mousedown",l8B);}}};G6w.prototype.onPointerComplete=function(p8B,G8B,P8B){var D8B=this;for(var F8B=this.normalizeToPointerData(p8B),V8B=F8B.length,W8B=p8B.target!==this.interactionDOMElement?"outside":"",U8B=0;U8B<V8B;U8B++){var d8B=F8B[U8B],e8B=D8B.getInteractionDataForPointerId(d8B),X8B=D8B.configureInteractionEventForDOMEvent(D8B.eventData,d8B,e8B);X8B.data.originalEvent=p8B;D8B.processInteractive(X8B,D8B.renderer._lastObjectRendered,P8B,G8B||!W8B);D8B.emit(G8B?"pointercancel":"pointerup"+W8B,X8B);"mouse"===d8B.pointerType||"pen"===d8B.pointerType?D8B.emit(2===d8B.button?"rightup"+W8B:"mouseup"+W8B,X8B):"touch"===d8B.pointerType&&(D8B.emit(G8B?"touchcancel":"touchend"+W8B,X8B),D8B.releaseInteractionDataForPointerId(d8B.pointerId,e8B));}};G6w.prototype.onPointerCancel=function(v8B){if(!this.supportsTouchEvents||"touch"!==v8B.pointerType){this.onPointerComplete(v8B,true,this.processPointerCancel);}};G6w.prototype.processPointerCancel=function(L8B,R8B){var a8B=L8B.data,i8B=L8B.data.identifier;void 0!==R8B.trackedPointers[i8B]&&(delete R8B.trackedPointers[i8B],this.dispatchEvent(R8B,"pointercancel",L8B),"touch"===a8B.pointerType&&this.dispatchEvent(R8B,"touchcancel",L8B));};G6w.prototype.onPointerUp=function(x8B){if(!this.supportsTouchEvents||"touch"!==x8B.pointerType){this.onPointerComplete(x8B,false,this.processPointerUp);}};G6w.prototype.processPointerUp=function(w8B,Y8B,I2B){var k8B=w8B.data,n2B=w8B.data.identifier,A8B=Y8B.trackedPointers[n2B],s2B="touch"===k8B.pointerType;if("mouse"===k8B.pointerType||"pen"===k8B.pointerType){var k8B=2===k8B.button,r2B=t6w.default.FLAGS,r2B=k8B?r2B.RIGHT_DOWN:r2B.LEFT_DOWN,r2B=void 0!==A8B&&A8B.flags&r2B;I2B?(this.dispatchEvent(Y8B,k8B?"rightup":"mouseup",w8B),r2B&&this.dispatchEvent(Y8B,k8B?"rightclick":"click",w8B)):r2B&&this.dispatchEvent(Y8B,k8B?"rightupoutside":"mouseupoutside",w8B);A8B&&(k8B?A8B.rightDown=false:A8B.leftDown=false);}I2B?(this.dispatchEvent(Y8B,"pointerup",w8B),s2B&&this.dispatchEvent(Y8B,"touchend",w8B),A8B&&(this.dispatchEvent(Y8B,"pointertap",w8B),s2B&&(this.dispatchEvent(Y8B,"tap",w8B),A8B.over=false))):A8B&&(this.dispatchEvent(Y8B,"pointerupoutside",w8B),s2B&&this.dispatchEvent(Y8B,"touchendoutside",w8B));A8B&&A8B.none&&delete Y8B.trackedPointers[n2B];};G6w.prototype.onPointerMove=function(g2B){var T2B=this;if(!this.supportsTouchEvents||"touch"!==g2B.pointerType){var o2B=this.normalizeToPointerData(g2B);"mouse"===o2B[0].pointerType&&(this.didMove=true,this.cursor=null);for(var h2B=o2B.length,O2B=0;O2B<h2B;O2B++){var M2B=o2B[O2B],c2B=T2B.getInteractionDataForPointerId(M2B),c2B=T2B.configureInteractionEventForDOMEvent(T2B.eventData,M2B,c2B);c2B.data.originalEvent=g2B;T2B.processInteractive(c2B,T2B.renderer._lastObjectRendered,T2B.processPointerMove,"touch"===M2B.pointerType?T2B.moveWhenInside:true);T2B.emit("pointermove",c2B);"touch"===M2B.pointerType&&T2B.emit("touchmove",c2B);"mouse"!==M2B.pointerType&&"pen"!==M2B.pointerType||T2B.emit("mousemove",c2B);}"mouse"===o2B[0].pointerType&&this.setCursorMode(this.cursor);}};G6w.prototype.processPointerMove=function(H2B,q2B,Z2B){var y2B=H2B.data,E2B="touch"===y2B.pointerType;(y2B="mouse"===y2B.pointerType||"pen"===y2B.pointerType)&&this.processPointerOverOut(H2B,q2B,Z2B);if(!this.moveWhenInside||Z2B){this.dispatchEvent(q2B,"pointermove",H2B),E2B&&this.dispatchEvent(q2B,"touchmove",H2B),y2B&&this.dispatchEvent(q2B,"mousemove",H2B);}};G6w.prototype.onPointerOut=function(u2B){if(!this.supportsTouchEvents||"touch"!==u2B.pointerType){u2B=this.normalizeToPointerData(u2B)[0];"mouse"===u2B.pointerType&&(this.mouseOverRenderer=false,this.setCursorMode(null));var J2B=this.getInteractionDataForPointerId(u2B),j2B=this.configureInteractionEventForDOMEvent(this.eventData,u2B,J2B);j2B.data.originalEvent=u2B;this.processInteractive(j2B,this.renderer._lastObjectRendered,this.processPointerOverOut,false);this.emit("pointerout",j2B);"mouse"===u2B.pointerType||"pen"===u2B.pointerType?this.emit("mouseout",j2B):this.releaseInteractionDataForPointerId(J2B.identifier);}};G6w.prototype.processPointerOverOut=function(t2B,K2B,N2B){var b2B=t2B.data,C2B=t2B.data.identifier,b2B="mouse"===b2B.pointerType||"pen"===b2B.pointerType,S2B=K2B.trackedPointers[C2B];N2B&&!S2B&&(S2B=K2B.trackedPointers[C2B]=new t6w.default(C2B));void 0!==S2B&&(N2B&&this.mouseOverRenderer?(S2B.over||(S2B.over=true,this.dispatchEvent(K2B,"pointerover",t2B),b2B&&this.dispatchEvent(K2B,"mouseover",t2B)),b2B&&null===this.cursor&&(this.cursor=K2B.cursor)):S2B.over&&(S2B.over=false,this.dispatchEvent(K2B,"pointerout",this.eventData),b2B&&this.dispatchEvent(K2B,"mouseout",t2B),S2B.none&&delete K2B.trackedPointers[C2B]));};G6w.prototype.onPointerOver=function(f2B){f2B=this.normalizeToPointerData(f2B)[0];var B2B=this.getInteractionDataForPointerId(f2B),B2B=this.configureInteractionEventForDOMEvent(this.eventData,f2B,B2B);B2B.data.originalEvent=f2B;"mouse"===f2B.pointerType&&(this.mouseOverRenderer=true);this.emit("pointerover",B2B);"mouse"!==f2B.pointerType&&"pen"!==f2B.pointerType||this.emit("mouseover",B2B);};G6w.prototype.getInteractionDataForPointerId=function(Q2B){var l2B=Q2B.pointerId,m2B;"MOUSE"===l2B||"mouse"===Q2B.pointerType?m2B=this.mouse:this.activeInteractionData[l2B]?m2B=this.activeInteractionData[l2B]:(m2B=this.interactionDataPool.pop()||new C6w.default(),m2B.identifier=l2B,this.activeInteractionData[l2B]=m2B);m2B._copyEvent(Q2B);return m2B;};G6w.prototype.releaseInteractionDataForPointerId=function(D2B){var z2B=this.activeInteractionData[D2B];z2B&&(delete this.activeInteractionData[D2B],z2B._reset(),this.interactionDataPool.push(z2B));};G6w.prototype.configureInteractionEventForDOMEvent=function(W2B,d2B,X2B){W2B.data=X2B;this.mapPositionToPoint(X2B.global,d2B.clientX,d2B.clientY);navigator.isCocoonJS&&"touch"===d2B.pointerType&&(X2B.global.x/=this.resolution,X2B.global.y/=this.resolution);"touch"===d2B.pointerType&&(d2B.globalX=X2B.global.x,d2B.globalY=X2B.global.y);X2B.originalEvent=d2B;W2B._reset();return W2B;};G6w.prototype.normalizeToPointerData=function(G2B){var e2B=[];if(this.supportsTouchEvents&&G2B instanceof TouchEvent){for(var F2B=0,p2B=G2B.changedTouches.length;F2B<p2B;F2B++){var U2B=G2B.changedTouches[F2B];"undefined"===typeof U2B.button&&(U2B.button=G2B.touches.length?1:0);"undefined"===typeof U2B.buttons&&(U2B.buttons=G2B.touches.length?1:0);"undefined"===typeof U2B.isPrimary&&(U2B.isPrimary=1===G2B.touches.length&&"touchstart"===G2B.type);"undefined"===typeof U2B.width&&(U2B.width=U2B.radiusX||1);"undefined"===typeof U2B.height&&(U2B.height=U2B.radiusY||1);"undefined"===typeof U2B.tiltX&&(U2B.tiltX=0);"undefined"===typeof U2B.tiltY&&(U2B.tiltY=0);"undefined"===typeof U2B.pointerType&&(U2B.pointerType="touch");"undefined"===typeof U2B.pointerId&&(U2B.pointerId=U2B.identifier||0);"undefined"===typeof U2B.pressure&&(U2B.pressure=U2B.force||.5);U2B.twist=0;U2B.tangentialPressure=0;"undefined"===typeof U2B.layerX&&(U2B.layerX=U2B.offsetX=U2B.clientX);"undefined"===typeof U2B.layerY&&(U2B.layerY=U2B.offsetY=U2B.clientY);U2B.isNormalized=true;e2B.push(U2B);}}else{G2B instanceof MouseEvent&&!(this.supportsPointerEvents&&G2B instanceof window.PointerEvent)&&("undefined"===typeof G2B.isPrimary&&(G2B.isPrimary=true),"undefined"===typeof G2B.width&&(G2B.width=1),"undefined"===typeof G2B.height&&(G2B.height=1),"undefined"===typeof G2B.tiltX&&(G2B.tiltX=0),"undefined"===typeof G2B.tiltY&&(G2B.tiltY=0),"undefined"===typeof G2B.pointerType&&(G2B.pointerType="mouse"),"undefined"===typeof G2B.pointerId&&(G2B.pointerId="MOUSE"),"undefined"===typeof G2B.pressure&&(G2B.pressure=.5),G2B.twist=0,G2B.tangentialPressure=0,G2B.isNormalized=true),e2B.push(G2B);}return e2B;};G6w.prototype.destroy=function(){this.removeEvents();this.removeAllListeners();this._tempPoint=this.onPointerOver=this.processPointerOverOut=this.onPointerOut=this.processPointerMove=this.onPointerMove=this.processPointerCancel=this.onPointerCancel=this.processPointerUp=this.onPointerUp=this.processPointerDown=this.onPointerDown=this.interactionDOMElement=this.eventData=this.mouse=this.renderer=null;};return G6w;}(J6w.default);N6w.default=j6w;S6w.WebGLRenderer.registerPlugin("interaction",j6w);S6w.CanvasRenderer.registerPlugin("interaction",j6w);},{"../core":65,"./InteractionData":155,"./InteractionEvent":156,"./InteractionTrackingData":158,"./interactiveTarget":160,eventemitter3:3}],158:[function(V2B,L2B,P2B){P2B.__esModule=true;var v2B=function(){function R2B(k2B,x2B){for(var a2B=0;a2B<x2B.length;a2B++){var i2B=x2B[a2B];i2B.enumerable=i2B.enumerable||false;i2B.configurable=true;"value"in i2B&&(i2B.writable=true);Object.defineProperty(k2B,i2B.key,i2B);}}return function(w2B,Y2B,A2B){Y2B&&R2B(w2B.prototype,Y2B);A2B&&R2B(w2B,A2B);return w2B;};}();V2B=function(){function r0B(s0B){if(!(this instanceof r0B)){throw new TypeError("Cannot call a class as a function");}this._pointerId=s0B;this._flags=r0B.FLAGS.NONE;}r0B.prototype._doSet=function(n0B,I0B){this._flags=I0B?this._flags|n0B:this._flags&~n0B;};v2B(r0B,[{key:"pointerId",get:function(){return this._pointerId;}},{key:"flags",get:function(){return this._flags;},set:function(T0B){this._flags=T0B;}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE;}},{key:"over",get:function(){return 0!==(this._flags&this.constructor.FLAGS.OVER);},set:function(c0B){this._doSet(this.constructor.FLAGS.OVER,c0B);}},{key:"rightDown",get:function(){return 0!==(this._flags&this.constructor.FLAGS.RIGHT_DOWN);},set:function(M0B){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,M0B);}},{key:"leftDown",get:function(){return 0!==(this._flags&this.constructor.FLAGS.LEFT_DOWN);},set:function(o0B){this._doSet(this.constructor.FLAGS.LEFT_DOWN,o0B);}}]);return r0B;}();P2B.default=V2B;V2B.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4});},{}],159:[function(g0B,u0B,O0B){function h0B(j0B){return j0B&&j0B.__esModule?j0B:{default:j0B};}O0B.__esModule=true;var y0B=g0B("./InteractionData");Object.defineProperty(O0B,"InteractionData",{enumerable:true,get:function(){return h0B(y0B).default;}});var H0B=g0B("./InteractionManager");Object.defineProperty(O0B,"InteractionManager",{enumerable:true,get:function(){return h0B(H0B).default;}});var q0B=g0B("./interactiveTarget");Object.defineProperty(O0B,"interactiveTarget",{enumerable:true,get:function(){return h0B(q0B).default;}});var Z0B=g0B("./InteractionTrackingData");Object.defineProperty(O0B,"InteractionTrackingData",{enumerable:true,get:function(){return h0B(Z0B).default;}});var E0B=g0B("./InteractionEvent");Object.defineProperty(O0B,"InteractionEvent",{enumerable:true,get:function(){return h0B(E0B).default;}});},{"./InteractionData":155,"./InteractionEvent":156,"./InteractionManager":157,"./InteractionTrackingData":158,"./interactiveTarget":160}],160:[function(S0B,K0B,J0B){J0B.__esModule=true;J0B.default={interactive:false,interactiveChildren:true,hitArea:null,get buttonMode(){return"pointer"===this.cursor;},set buttonMode(b0B){b0B?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null);},cursor:null,get trackedPointers(){void 0===this._trackedPointers&&(this._trackedPointers={});return this._trackedPointers;},_trackedPointers:void 0};},{}],161:[function(t0B,Q0B,C0B){function N0B(z0B,D0B){z0B.bitmapFont=l0B.BitmapText.registerFont(z0B.data,D0B);}C0B.__esModule=true;C0B.parse=N0B;C0B.default=function(){return function(d0B,W0B){if(d0B.data&&d0B.type===B0B.Resource.TYPE.XML){if(0===d0B.data.getElementsByTagName("page").length||0===d0B.data.getElementsByTagName("info").length||null===d0B.data.getElementsByTagName("info")[0].getAttribute("face")){W0B();}else{var X0B=d0B.isDataUrl?"":m0B.dirname(d0B.url);d0B.isDataUrl&&("."===X0B&&(X0B=""),this.baseUrl&&X0B&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(X0B+="/"));(X0B=X0B.replace(this.baseUrl,""))&&"/"!==X0B.charAt(X0B.length-1)&&(X0B+="/");X0B+=d0B.data.getElementsByTagName("page")[0].getAttribute("file");f0B.utils.TextureCache[X0B]?(N0B(d0B,f0B.utils.TextureCache[X0B]),W0B()):this.add(d0B.name+"_image",X0B,{crossOrigin:d0B.crossOrigin,loadType:B0B.Resource.LOAD_TYPE.IMAGE,metadata:d0B.metadata.imageMetadata,parentResource:d0B},function(U0B){N0B(d0B,U0B.texture);W0B();});}}else{W0B();}};};var m0B=function(G0B){if(G0B&&G0B.__esModule){return G0B;}var e0B={};if(null!=G0B){for(var F0B in G0B){Object.prototype.hasOwnProperty.call(G0B,F0B)&&(e0B[F0B]=G0B[F0B]);}}e0B.default=G0B;return e0B;}(t0B("path")),f0B=t0B("../core"),B0B=t0B("resource-loader"),l0B=t0B("../extras");},{"../core":65,"../extras":141,path:8,"resource-loader":36}],162:[function(V0B,L0B,p0B){function P0B(w0B){return w0B&&w0B.__esModule?w0B:{default:w0B};}p0B.__esModule=true;p0B.shared=p0B.Resource=p0B.textureParser=p0B.getResourcePath=p0B.spritesheetParser=p0B.parseBitmapFontData=p0B.bitmapFontParser=p0B.Loader=void 0;var a0B=V0B("./bitmapFontParser");Object.defineProperty(p0B,"bitmapFontParser",{enumerable:true,get:function(){return P0B(a0B).default;}});Object.defineProperty(p0B,"parseBitmapFontData",{enumerable:true,get:function(){return a0B.parse;}});var i0B=V0B("./spritesheetParser");Object.defineProperty(p0B,"spritesheetParser",{enumerable:true,get:function(){return P0B(i0B).default;}});Object.defineProperty(p0B,"getResourcePath",{enumerable:true,get:function(){return i0B.getResourcePath;}});var k0B=V0B("./textureParser");Object.defineProperty(p0B,"textureParser",{enumerable:true,get:function(){return P0B(k0B).default;}});var x0B=V0B("resource-loader");Object.defineProperty(p0B,"Resource",{enumerable:true,get:function(){return x0B.Resource;}});L0B=V0B("../core/Application");L0B=P0B(L0B);V0B=V0B("./loader");var R0B=P0B(V0B);p0B.Loader=R0B.default;var v0B=new R0B.default();v0B.destroy=function(){};p0B.shared=v0B;p0B=L0B.default.prototype;p0B._loader=null;Object.defineProperty(p0B,"loader",{get:function(){this._loader||(this._loader=this._options.sharedLoader?v0B:new R0B.default());return this._loader;}});p0B._parentDestroy=p0B.destroy;p0B.destroy=function(Y0B){this._loader&&(this._loader.destroy(),this._loader=null);this._parentDestroy(Y0B);};},{"../core/Application":43,"./bitmapFontParser":161,"./loader":163,"./spritesheetParser":164,"./textureParser":165,"resource-loader":36}],163:[function(A0B,s3B,n3B){function I3B(y3B){return y3B&&y3B.__esModule?y3B:{default:y3B};}function h3B(q3B,H3B){if(!q3B){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return!H3B||"object"!==typeof H3B&&"function"!==typeof H3B?q3B:H3B;}function g3B(E3B,Z3B){if("function"!==typeof Z3B&&null!==Z3B){throw new TypeError("Super expression must either be null or a function, not "+typeof Z3B);}E3B.prototype=Object.create(Z3B&&Z3B.prototype,{constructor:{value:E3B,enumerable:false,writable:true,configurable:true}});Z3B&&(Object.setPrototypeOf?Object.setPrototypeOf(E3B,Z3B):E3B.__proto__=Z3B);}n3B.__esModule=true;s3B=A0B("resource-loader");s3B=I3B(s3B);var O3B=A0B("resource-loader/lib/middlewares/parsing/blob"),r3B=A0B("eventemitter3"),c3B=I3B(r3B),r3B=A0B("./textureParser"),r3B=I3B(r3B),T3B=A0B("./spritesheetParser"),T3B=I3B(T3B);A0B=A0B("./bitmapFontParser");A0B=I3B(A0B);var M3B=function(j3B){function u3B(S3B,K3B){if(!(this instanceof u3B)){throw new TypeError("Cannot call a class as a function");}var J3B=h3B(this,j3B.call(this,S3B,K3B));c3B.default.call(J3B);for(S3B=0;S3B<u3B._pixiMiddleware.length;++S3B){J3B.use(u3B._pixiMiddleware[S3B]());}J3B.onStart.add(function(b3B){return J3B.emit("start",b3B);});J3B.onProgress.add(function(t3B,C3B){return J3B.emit("progress",t3B,C3B);});J3B.onError.add(function(N3B,f3B,B3B){return J3B.emit("error",N3B,f3B,B3B);});J3B.onLoad.add(function(m3B,l3B){return J3B.emit("load",m3B,l3B);});J3B.onComplete.add(function(Q3B,z3B){return J3B.emit("complete",Q3B,z3B);});return J3B;}g3B(u3B,j3B);u3B.addPixiMiddleware=function(D3B){u3B._pixiMiddleware.push(D3B);};u3B.prototype.destroy=function(){this.removeAllListeners();this.reset();};return u3B;}(s3B.default);n3B.default=M3B;for(var o3B in c3B.default.prototype){M3B.prototype[o3B]=c3B.default.prototype[o3B];}M3B._pixiMiddleware=[O3B.blobMiddlewareFactory,r3B.default,T3B.default,A0B.default];n3B=s3B.default.Resource;n3B.setExtensionXhrType("fnt",n3B.XHR_RESPONSE_TYPE.DOCUMENT);},{"./bitmapFontParser":161,"./spritesheetParser":164,"./textureParser":165,eventemitter3:3,"resource-loader":36,"resource-loader/lib/middlewares/parsing/blob":37}],164:[function(X3B,d3B,W3B){function G3B(p3B,V3B){return p3B.isDataUrl?p3B.data.meta.image:e3B.default.resolve(p3B.url.replace(V3B,""),p3B.data.meta.image);}W3B.__esModule=true;W3B.default=function(){return function(P3B,L3B){var v3B=P3B.name+"_image";if(P3B.data&&P3B.type===U3B.Resource.TYPE.JSON&&P3B.data.frames&&!this.resources[v3B]){var R3B={crossOrigin:P3B.crossOrigin,loadType:U3B.Resource.LOAD_TYPE.IMAGE,metadata:P3B.metadata.imageMetadata,parentResource:P3B},i3B=G3B(P3B,this.baseUrl);this.add(v3B,i3B,R3B,function(x3B){var a3B=new F3B.Spritesheet(x3B.texture.baseTexture,P3B.data,P3B.url);a3B.parse(function(){P3B.spritesheet=a3B;P3B.textures=a3B.textures;L3B();});});}else{L3B();}};};W3B.getResourcePath=G3B;var U3B=X3B("resource-loader"),e3B=(d3B=X3B("url"))&&d3B.__esModule?d3B:{default:d3B},F3B=X3B("../core");},{"../core":65,"resource-loader":36,url:38}],165:[function(k3B,r5B,w3B){w3B.__esModule=true;w3B.default=function(){return function(s5B,n5B){s5B.data&&s5B.type===Y3B.Resource.TYPE.IMAGE&&(s5B.texture=A3B.default.fromLoader(s5B.data,s5B.url,s5B.name));n5B();};};var Y3B=k3B("resource-loader"),A3B=(k3B=k3B("../core/textures/Texture"))&&k3B.__esModule?k3B:{default:k3B};},{"../core/textures/Texture":115,"resource-loader":36}],166:[function(I5B,y5B,o5B){function h5B(q5B,H5B){if("function"!==typeof H5B&&null!==H5B){throw new TypeError("Super expression must either be null or a function, not "+typeof H5B);}q5B.prototype=Object.create(H5B&&H5B.prototype,{constructor:{value:q5B,enumerable:false,writable:true,configurable:true}});H5B&&(Object.setPrototypeOf?Object.setPrototypeOf(q5B,H5B):q5B.__proto__=H5B);}o5B.__esModule=true;var O5B=function(){function Z5B(J5B,j5B){for(var u5B=0;u5B<j5B.length;u5B++){var E5B=j5B[u5B];E5B.enumerable=E5B.enumerable||false;E5B.configurable=true;"value"in E5B&&(E5B.writable=true);Object.defineProperty(J5B,E5B.key,E5B);}}return function(S5B,K5B,b5B){K5B&&Z5B(S5B.prototype,K5B);b5B&&Z5B(S5B,b5B);return S5B;};}(),T5B=function(t5B){if(t5B&&t5B.__esModule){return t5B;}var C5B={};if(null!=t5B){for(var N5B in t5B){Object.prototype.hasOwnProperty.call(t5B,N5B)&&(C5B[N5B]=t5B[N5B]);}}C5B.default=t5B;return C5B;}(I5B("../core")),g5B=(I5B=I5B("../core/textures/Texture"))&&I5B.__esModule?I5B:{default:I5B},c5B=new T5B.Point(),M5B=new T5B.Polygon();I5B=function(B5B){function f5B(l5B,Q5B,z5B,D5B,d5B){if(!(this instanceof f5B)){throw new TypeError("Cannot call a class as a function");}var m5B;m5B=B5B.call(this);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}m5B=!m5B||"object"!==typeof m5B&&"function"!==typeof m5B?this:m5B;m5B._texture=l5B||g5B.default.EMPTY;m5B.uvs=z5B||new Float32Array([0,0,1,0,1,1,0,1]);m5B.vertices=Q5B||new Float32Array([0,0,100,0,100,100,0,100]);m5B.indices=D5B||new Uint16Array([0,1,3,2]);m5B.dirty=0;m5B.indexDirty=0;m5B.blendMode=T5B.BLEND_MODES.NORMAL;m5B.canvasPadding=0;m5B.drawMode=d5B||f5B.DRAW_MODES.TRIANGLE_MESH;m5B.shader=null;m5B.tintRgb=new Float32Array([1,1,1]);m5B._glDatas={};m5B._uvTransform=new T5B.TextureMatrix(m5B._texture);m5B.uploadUvTransform=false;m5B.pluginName="mesh";return m5B;}h5B(f5B,B5B);f5B.prototype._renderWebGL=function(X5B){this.refresh();X5B.setObjectRenderer(X5B.plugins[this.pluginName]);X5B.plugins[this.pluginName].render(this);};f5B.prototype._renderCanvas=function(W5B){this.refresh();W5B.plugins[this.pluginName].render(this);};f5B.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture;this.refresh();};f5B.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs);};f5B.prototype.refresh=function(U5B){this._uvTransform.update(U5B)&&this._refresh();};f5B.prototype._refresh=function(){};f5B.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length);};f5B.prototype.containsPoint=function(G5B){if(!this.getBounds().contains(G5B.x,G5B.y)){return false;}this.worldTransform.applyInverse(G5B,c5B);G5B=this.vertices;for(var e5B=M5B.points,p5B=this.indices,L5B=this.indices.length,R5B=this.drawMode===f5B.DRAW_MODES.TRIANGLES?3:1,F5B=0;F5B+2<L5B;F5B+=R5B){var V5B=2*p5B[F5B],P5B=2*p5B[F5B+1],v5B=2*p5B[F5B+2];e5B[0]=G5B[V5B];e5B[1]=G5B[V5B+1];e5B[2]=G5B[P5B];e5B[3]=G5B[P5B+1];e5B[4]=G5B[v5B];e5B[5]=G5B[v5B+1];if(M5B.contains(c5B.x,c5B.y)){return true;}}return false;};O5B(f5B,[{key:"texture",get:function(){return this._texture;},set:function(i5B){if(this._texture!==i5B&&(this._texture=i5B)){if(i5B.baseTexture.hasLoaded){this._onTextureUpdate();}else{i5B.once("update",this._onTextureUpdate,this);}}}},{key:"tint",get:function(){return T5B.utils.rgb2hex(this.tintRgb);},set:function(a5B){this.tintRgb=T5B.utils.hex2rgb(a5B,this.tintRgb);}}]);return f5B;}(T5B.Container);o5B.default=I5B;I5B.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1};},{"../core":65,"../core/textures/Texture":115}],167:[function(x5B,A5B,k5B){function Y5B(s9B,r9B){if("function"!==typeof r9B&&null!==r9B){throw new TypeError("Super expression must either be null or a function, not "+typeof r9B);}s9B.prototype=Object.create(r9B&&r9B.prototype,{constructor:{value:s9B,enumerable:false,writable:true,configurable:true}});r9B&&(Object.setPrototypeOf?Object.setPrototypeOf(s9B,r9B):s9B.__proto__=r9B);}k5B.__esModule=true;var w5B=function(){function n9B(M9B,c9B){for(var T9B=0;T9B<c9B.length;T9B++){var I9B=c9B[T9B];I9B.enumerable=I9B.enumerable||false;I9B.configurable=true;"value"in I9B&&(I9B.writable=true);Object.defineProperty(M9B,I9B.key,I9B);}}return function(o9B,O9B,g9B){O9B&&n9B(o9B.prototype,O9B);g9B&&n9B(o9B,g9B);return o9B;};}();x5B=x5B("./Plane");x5B=function(y9B){function h9B(q9B,Z9B,E9B,u9B,j9B){if(!(this instanceof h9B)){throw new TypeError("Cannot call a class as a function");}var H9B;H9B=y9B.call(this,q9B,4,4);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}H9B=!H9B||"object"!==typeof H9B&&"function"!==typeof H9B?this:H9B;H9B._origWidth=q9B.orig.width;H9B._origHeight=q9B.orig.height;H9B._width=H9B._origWidth;H9B._height=H9B._origHeight;H9B.leftWidth="undefined"!==typeof Z9B?Z9B:10;H9B.rightWidth="undefined"!==typeof u9B?u9B:10;H9B.topHeight="undefined"!==typeof E9B?E9B:10;H9B.bottomHeight="undefined"!==typeof j9B?j9B:10;H9B.refresh(true);return H9B;}Y5B(h9B,y9B);h9B.prototype.updateHorizontalVertices=function(){var J9B=this.vertices;J9B[9]=J9B[11]=J9B[13]=J9B[15]=this._topHeight;J9B[17]=J9B[19]=J9B[21]=J9B[23]=this._height-this._bottomHeight;J9B[25]=J9B[27]=J9B[29]=J9B[31]=this._height;};h9B.prototype.updateVerticalVertices=function(){var S9B=this.vertices;S9B[2]=S9B[10]=S9B[18]=S9B[26]=this._leftWidth;S9B[4]=S9B[12]=S9B[20]=S9B[28]=this._width-this._rightWidth;S9B[6]=S9B[14]=S9B[22]=S9B[30]=this._width;};h9B.prototype._renderCanvas=function(t9B){var C9B=t9B.context;C9B.globalAlpha=this.worldAlpha;var b9B=this.worldTransform,K9B=t9B.resolution;t9B.roundPixels?C9B.setTransform(b9B.a*K9B,b9B.b*K9B,b9B.c*K9B,b9B.d*K9B,b9B.tx*K9B|0,b9B.ty*K9B|0):C9B.setTransform(b9B.a*K9B,b9B.b*K9B,b9B.c*K9B,b9B.d*K9B,b9B.tx*K9B,b9B.ty*K9B);K9B=this._texture.baseTexture;t9B=K9B.source;b9B=K9B.width*K9B.resolution;K9B=K9B.height*K9B.resolution;this.drawSegment(C9B,t9B,b9B,K9B,0,1,10,11);this.drawSegment(C9B,t9B,b9B,K9B,2,3,12,13);this.drawSegment(C9B,t9B,b9B,K9B,4,5,14,15);this.drawSegment(C9B,t9B,b9B,K9B,8,9,18,19);this.drawSegment(C9B,t9B,b9B,K9B,10,11,20,21);this.drawSegment(C9B,t9B,b9B,K9B,12,13,22,23);this.drawSegment(C9B,t9B,b9B,K9B,16,17,26,27);this.drawSegment(C9B,t9B,b9B,K9B,18,19,28,29);this.drawSegment(C9B,t9B,b9B,K9B,20,21,30,31);};h9B.prototype.drawSegment=function(W9B,U9B,X9B,d9B,Q9B,l9B,m9B,B9B){var f9B=this.uvs,N9B=this.vertices,D9B=(f9B[m9B]-f9B[Q9B])*X9B,z9B=(f9B[B9B]-f9B[l9B])*d9B;m9B=N9B[m9B]-N9B[Q9B];B9B=N9B[B9B]-N9B[l9B];1>D9B&&(D9B=1);1>z9B&&(z9B=1);1>m9B&&(m9B=1);1>B9B&&(B9B=1);W9B.drawImage(U9B,f9B[Q9B]*X9B,f9B[l9B]*d9B,D9B,z9B,N9B[Q9B],N9B[l9B],m9B,B9B);};h9B.prototype._refresh=function(){y9B.prototype._refresh.call(this);var G9B=this.uvs,e9B=this._texture;this._origWidth=e9B.orig.width;this._origHeight=e9B.orig.height;var e9B=1/this._origWidth,F9B=1/this._origHeight;G9B[0]=G9B[8]=G9B[16]=G9B[24]=0;G9B[1]=G9B[3]=G9B[5]=G9B[7]=0;G9B[6]=G9B[14]=G9B[22]=G9B[30]=1;G9B[25]=G9B[27]=G9B[29]=G9B[31]=1;G9B[2]=G9B[10]=G9B[18]=G9B[26]=e9B*this._leftWidth;G9B[4]=G9B[12]=G9B[20]=G9B[28]=1-e9B*this._rightWidth;G9B[9]=G9B[11]=G9B[13]=G9B[15]=F9B*this._topHeight;G9B[17]=G9B[19]=G9B[21]=G9B[23]=1-F9B*this._bottomHeight;this.updateHorizontalVertices();this.updateVerticalVertices();this.dirty++;this.multiplyUvs();};w5B(h9B,[{key:"width",get:function(){return this._width;},set:function(p9B){this._width=p9B;this._refresh();}},{key:"height",get:function(){return this._height;},set:function(V9B){this._height=V9B;this._refresh();}},{key:"leftWidth",get:function(){return this._leftWidth;},set:function(P9B){this._leftWidth=P9B;this._refresh();}},{key:"rightWidth",get:function(){return this._rightWidth;},set:function(v9B){this._rightWidth=v9B;this._refresh();}},{key:"topHeight",get:function(){return this._topHeight;},set:function(L9B){this._topHeight=L9B;this._refresh();}},{key:"bottomHeight",get:function(){return this._bottomHeight;},set:function(R9B){this._bottomHeight=R9B;this._refresh();}}]);return h9B;}((x5B&&x5B.__esModule?x5B:{default:x5B}).default);k5B.default=x5B;},{"./Plane":168}],168:[function(i9B,w9B,x9B){function k9B(A9B,Y9B){if("function"!==typeof Y9B&&null!==Y9B){throw new TypeError("Super expression must either be null or a function, not "+typeof Y9B);}A9B.prototype=Object.create(Y9B&&Y9B.prototype,{constructor:{value:A9B,enumerable:false,writable:true,configurable:true}});Y9B&&(Object.setPrototypeOf?Object.setPrototypeOf(A9B,Y9B):A9B.__proto__=Y9B);}x9B.__esModule=true;var a9B=(i9B=i9B("./Mesh"))&&i9B.__esModule?i9B:{default:i9B};i9B=function(s1B){function r1B(n1B,I1B,T1B){if(!(this instanceof r1B)){throw new TypeError("Cannot call a class as a function");}n1B=s1B.call(this,n1B);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}n1B=!n1B||"object"!==typeof n1B&&"function"!==typeof n1B?this:n1B;n1B._ready=true;n1B.verticesX=I1B||10;n1B.verticesY=T1B||10;n1B.drawMode=a9B.default.DRAW_MODES.TRIANGLES;n1B.refresh();return n1B;}k9B(r1B,s1B);r1B.prototype._refresh=function(){var O1B=this;for(var c1B=this._texture,Z1B=this.verticesX*this.verticesY,u1B=[],E1B=[],q1B=[],y1B=this.verticesX-1,M1B=this.verticesY-1,g1B=c1B.width/y1B,c1B=c1B.height/M1B,o1B=0;o1B<Z1B;o1B++){var h1B=o1B%O1B.verticesX,H1B=o1B/O1B.verticesX|0;u1B.push(h1B*g1B,H1B*c1B);E1B.push(h1B/y1B,H1B/M1B);}Z1B=y1B*M1B;for(M1B=0;M1B<Z1B;M1B++){g1B=M1B%y1B,c1B=M1B/y1B|0,o1B=c1B*O1B.verticesX+g1B+1,h1B=(c1B+1)*O1B.verticesX+g1B,H1B=(c1B+1)*O1B.verticesX+g1B+1,q1B.push(c1B*O1B.verticesX+g1B,o1B,h1B),q1B.push(o1B,H1B,h1B);}this.vertices=new Float32Array(u1B);this.uvs=new Float32Array(E1B);this.colors=new Float32Array([]);this.indices=new Uint16Array(q1B);this.dirty++;this.indexDirty++;this.multiplyUvs();};r1B.prototype._onTextureUpdate=function(){a9B.default.prototype._onTextureUpdate.call(this);this._ready&&this.refresh();};return r1B;}(a9B.default);x9B.default=i9B;},{"./Mesh":166}],169:[function(j1B,K1B,J1B){function S1B(t1B,b1B){if("function"!==typeof b1B&&null!==b1B){throw new TypeError("Super expression must either be null or a function, not "+typeof b1B);}t1B.prototype=Object.create(b1B&&b1B.prototype,{constructor:{value:t1B,enumerable:false,writable:true,configurable:true}});b1B&&(Object.setPrototypeOf?Object.setPrototypeOf(t1B,b1B):t1B.__proto__=b1B);}J1B.__esModule=true;j1B=j1B("./Mesh");j1B=function(N1B){function C1B(f1B,B1B){if(!(this instanceof C1B)){throw new TypeError("Cannot call a class as a function");}f1B=N1B.call(this,f1B);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}f1B=!f1B||"object"!==typeof f1B&&"function"!==typeof f1B?this:f1B;f1B.points=B1B;f1B.vertices=new Float32Array(4*B1B.length);f1B.uvs=new Float32Array(4*B1B.length);f1B.colors=new Float32Array(2*B1B.length);f1B.indices=new Uint16Array(2*B1B.length);f1B.autoUpdate=true;f1B.refresh();return f1B;}S1B(C1B,N1B);C1B.prototype._refresh=function(){var l1B=this.points;if(!(1>l1B.length)&&this._texture._uvs){this.vertices.length/4!==l1B.length&&(this.vertices=new Float32Array(4*l1B.length),this.uvs=new Float32Array(4*l1B.length),this.colors=new Float32Array(2*l1B.length),this.indices=new Uint16Array(2*l1B.length));var Q1B=this.uvs,D1B=this.indices,d1B=this.colors;Q1B[0]=0;Q1B[1]=0;Q1B[2]=0;Q1B[3]=1;d1B[0]=1;d1B[1]=1;D1B[0]=0;D1B[1]=1;for(var l1B=l1B.length,z1B=1;z1B<l1B;z1B++){var m1B=4*z1B,X1B=z1B/(l1B-1);Q1B[m1B]=X1B;Q1B[m1B+1]=0;Q1B[m1B+2]=X1B;Q1B[m1B+3]=1;m1B=2*z1B;d1B[m1B]=1;d1B[m1B+1]=1;m1B=2*z1B;D1B[m1B]=m1B;D1B[m1B+1]=m1B+1;}this.dirty++;this.indexDirty++;this.multiplyUvs();this.refreshVertices();}};C1B.prototype.refreshVertices=function(){var R1B=this;var U1B=this.points;if(!(1>U1B.length)){for(var W1B=U1B[0],p1B,G1B,V1B=this.vertices,L1B=U1B.length,F1B=0;F1B<L1B;F1B++){var e1B=U1B[F1B],P1B=4*F1B;p1B=F1B<U1B.length-1?U1B[F1B+1]:e1B;G1B=-(p1B.x-W1B.x);W1B=p1B.y-W1B.y;p1B=Math.sqrt(W1B*W1B+G1B*G1B);var v1B=R1B._texture.height/2,W1B=W1B/p1B;G1B/=p1B;W1B*=v1B;G1B*=v1B;V1B[P1B]=e1B.x+W1B;V1B[P1B+1]=e1B.y+G1B;V1B[P1B+2]=e1B.x-W1B;V1B[P1B+3]=e1B.y-G1B;W1B=e1B;}}};C1B.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices();this.containerUpdateTransform();};return C1B;}((j1B&&j1B.__esModule?j1B:{default:j1B}).default);J1B.default=j1B;},{"./Mesh":166}],170:[function(i1B,a1B,x1B){x1B.__esModule=true;a1B=function(w1B){if(w1B&&w1B.__esModule){return w1B;}var Y1B={};if(null!=w1B){for(var A1B in w1B){Object.prototype.hasOwnProperty.call(w1B,A1B)&&(Y1B[A1B]=w1B[A1B]);}}Y1B.default=w1B;return Y1B;}(i1B("../../core"));var k1B=(i1B=i1B("../Mesh"))&&i1B.__esModule?i1B:{default:i1B};i1B=function(){function r4B(s4B){if(!(this instanceof r4B)){throw new TypeError("Cannot call a class as a function");}this.renderer=s4B;}r4B.prototype.render=function(T4B){var c4B=this.renderer,M4B=c4B.context,n4B=T4B.worldTransform,I4B=c4B.resolution;c4B.roundPixels?M4B.setTransform(n4B.a*I4B,n4B.b*I4B,n4B.c*I4B,n4B.d*I4B,n4B.tx*I4B|0,n4B.ty*I4B|0):M4B.setTransform(n4B.a*I4B,n4B.b*I4B,n4B.c*I4B,n4B.d*I4B,n4B.tx*I4B,n4B.ty*I4B);c4B.setBlendMode(T4B.blendMode);T4B.drawMode===k1B.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(T4B):this._renderTriangles(T4B);};r4B.prototype._renderTriangleMesh=function(g4B){var h4B=this;for(var y4B=g4B.vertices.length/2,o4B=0;o4B<y4B-2;o4B++){var O4B=2*o4B;h4B._renderDrawTriangle(g4B,O4B,O4B+2,O4B+4);}};r4B.prototype._renderTriangles=function(Z4B){var E4B=this;for(var q4B=Z4B.indices,u4B=q4B.length,H4B=0;H4B<u4B;H4B+=3){E4B._renderDrawTriangle(Z4B,2*q4B[H4B],2*q4B[H4B+1],2*q4B[H4B+2]);}};r4B.prototype._renderDrawTriangle=function(K4B,b4B,t4B,C4B){var U4B=this.renderer.context,J4B=K4B.uvs,W4B=K4B.vertices,S4B=K4B._texture;if(S4B.valid){var S4B=S4B.baseTexture,V4B=S4B.source,p4B=S4B.width,F4B=S4B.height,B4B,z4B,D4B,l4B,m4B;if(K4B.uploadUvTransform){var j4B=K4B._uvTransform.mapCoord;B4B=(J4B[b4B]*j4B.a+J4B[b4B+1]*j4B.c+j4B.tx)*S4B.width;z4B=(J4B[t4B]*j4B.a+J4B[t4B+1]*j4B.c+j4B.tx)*S4B.width;D4B=(J4B[C4B]*j4B.a+J4B[C4B+1]*j4B.c+j4B.tx)*S4B.width;l4B=(J4B[b4B]*j4B.b+J4B[b4B+1]*j4B.d+j4B.ty)*S4B.height;m4B=(J4B[t4B]*j4B.b+J4B[t4B+1]*j4B.d+j4B.ty)*S4B.height;J4B=(J4B[C4B]*j4B.b+J4B[C4B+1]*j4B.d+j4B.ty)*S4B.height;}else{B4B=J4B[b4B]*S4B.width,z4B=J4B[t4B]*S4B.width,D4B=J4B[C4B]*S4B.width,l4B=J4B[b4B+1]*S4B.height,m4B=J4B[t4B+1]*S4B.height,J4B=J4B[C4B+1]*S4B.height;}var j4B=W4B[b4B],d4B=W4B[t4B],X4B=W4B[C4B];b4B=W4B[b4B+1];t4B=W4B[t4B+1];C4B=W4B[C4B+1];if(0<K4B.canvasPadding){W4B=K4B.canvasPadding/K4B.worldTransform.a;K4B=K4B.canvasPadding/K4B.worldTransform.d;var G4B=(j4B+d4B+X4B)/3,e4B=(b4B+t4B+C4B)/3,Q4B=j4B-G4B,f4B=b4B-e4B,N4B=Math.sqrt(Q4B*Q4B+f4B*f4B),j4B=G4B+Q4B/N4B*(N4B+W4B);b4B=e4B+f4B/N4B*(N4B+K4B);Q4B=d4B-G4B;f4B=t4B-e4B;N4B=Math.sqrt(Q4B*Q4B+f4B*f4B);d4B=G4B+Q4B/N4B*(N4B+W4B);t4B=e4B+f4B/N4B*(N4B+K4B);Q4B=X4B-G4B;f4B=C4B-e4B;N4B=Math.sqrt(Q4B*Q4B+f4B*f4B);X4B=G4B+Q4B/N4B*(N4B+W4B);C4B=e4B+f4B/N4B*(N4B+K4B);}U4B.save();U4B.beginPath();U4B.moveTo(j4B,b4B);U4B.lineTo(d4B,t4B);U4B.lineTo(X4B,C4B);U4B.closePath();U4B.clip();K4B=B4B*m4B+l4B*D4B+z4B*J4B-m4B*D4B-l4B*z4B-B4B*J4B;U4B.transform((j4B*m4B+l4B*X4B+d4B*J4B-m4B*X4B-l4B*d4B-j4B*J4B)/K4B,(b4B*m4B+l4B*C4B+t4B*J4B-m4B*C4B-l4B*t4B-b4B*J4B)/K4B,(B4B*d4B+j4B*D4B+z4B*X4B-d4B*D4B-j4B*z4B-B4B*X4B)/K4B,(B4B*t4B+b4B*D4B+z4B*C4B-t4B*D4B-b4B*z4B-B4B*C4B)/K4B,(B4B*m4B*X4B+l4B*d4B*D4B+j4B*z4B*J4B-j4B*m4B*D4B-l4B*z4B*X4B-B4B*d4B*J4B)/K4B,(B4B*m4B*C4B+l4B*t4B*D4B+b4B*z4B*J4B-b4B*m4B*D4B-l4B*z4B*C4B-B4B*t4B*J4B)/K4B);U4B.drawImage(V4B,0,0,p4B*S4B.resolution,F4B*S4B.resolution,0,0,p4B,F4B);U4B.restore();this.renderer.invalidateBlendMode();}};r4B.prototype.renderMeshFlat=function(P4B){var v4B=this.renderer.context;P4B=P4B.vertices;var i4B=P4B.length/2;v4B.beginPath();for(var R4B=1;R4B<i4B-2;++R4B){var L4B=2*R4B,a4B=P4B[L4B+2],x4B=P4B[L4B+3],k4B=P4B[L4B+4],w4B=P4B[L4B+5];v4B.moveTo(P4B[L4B],P4B[L4B+1]);v4B.lineTo(a4B,x4B);v4B.lineTo(k4B,w4B);}v4B.fillStyle="#FF0000";v4B.fill();v4B.closePath();};r4B.prototype.destroy=function(){this.renderer=null;};return r4B;}();x1B.default=i1B;a1B.CanvasRenderer.registerPlugin("mesh",i1B);},{"../../core":65,"../Mesh":166}],171:[function(r7B,o7B,Y4B){function A4B(O7B){return O7B&&O7B.__esModule?O7B:{default:O7B};}Y4B.__esModule=true;var s7B=r7B("./Mesh");Object.defineProperty(Y4B,"Mesh",{enumerable:true,get:function(){return A4B(s7B).default;}});var T7B=r7B("./webgl/MeshRenderer");Object.defineProperty(Y4B,"MeshRenderer",{enumerable:true,get:function(){return A4B(T7B).default;}});var c7B=r7B("./canvas/CanvasMeshRenderer");Object.defineProperty(Y4B,"CanvasMeshRenderer",{enumerable:true,get:function(){return A4B(c7B).default;}});var M7B=r7B("./Plane");Object.defineProperty(Y4B,"Plane",{enumerable:true,get:function(){return A4B(M7B).default;}});var n7B=r7B("./NineSlicePlane");Object.defineProperty(Y4B,"NineSlicePlane",{enumerable:true,get:function(){return A4B(n7B).default;}});var I7B=r7B("./Rope");Object.defineProperty(Y4B,"Rope",{enumerable:true,get:function(){return A4B(I7B).default;}});},{"./Mesh":166,"./NineSlicePlane":167,"./Plane":168,"./Rope":169,"./canvas/CanvasMeshRenderer":170,"./webgl/MeshRenderer":172}],172:[function(h7B,g7B,q7B){function u7B(J7B,j7B){if("function"!==typeof j7B&&null!==j7B){throw new TypeError("Super expression must either be null or a function, not "+typeof j7B);}J7B.prototype=Object.create(j7B&&j7B.prototype,{constructor:{value:J7B,enumerable:false,writable:true,configurable:true}});j7B&&(Object.setPrototypeOf?Object.setPrototypeOf(J7B,j7B):J7B.__proto__=j7B);}q7B.__esModule=true;var y7B=function(S7B){if(S7B&&S7B.__esModule){return S7B;}var K7B={};if(null!=S7B){for(var b7B in S7B){Object.prototype.hasOwnProperty.call(S7B,b7B)&&(K7B[b7B]=S7B[b7B]);}}K7B.default=S7B;return K7B;}(h7B("../../core")),H7B=(g7B=h7B("pixi-gl-core"))&&g7B.__esModule?g7B:{default:g7B},Z7B=(g7B=h7B("../Mesh"))&&g7B.__esModule?g7B:{default:g7B};h7B("path");var E7B=y7B.Matrix.IDENTITY;h7B=function(C7B){function t7B(N7B){if(!(this instanceof t7B)){throw new TypeError("Cannot call a class as a function");}N7B=C7B.call(this,N7B);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}N7B=!N7B||"object"!==typeof N7B&&"function"!==typeof N7B?this:N7B;N7B.shader=null;return N7B;}u7B(t7B,C7B);t7B.prototype.onContextChange=function(){this.shader=new y7B.Shader(this.renderer.gl,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n");};t7B.prototype.render=function(B7B){var l7B=this.renderer,m7B=l7B.gl,Q7B=B7B._texture;if(Q7B.valid){var f7B=B7B._glDatas[l7B.CONTEXT_UID];f7B||(l7B.bindVao(null),f7B={shader:this.shader,vertexBuffer:H7B.default.GLBuffer.createVertexBuffer(m7B,B7B.vertices,m7B.STREAM_DRAW),uvBuffer:H7B.default.GLBuffer.createVertexBuffer(m7B,B7B.uvs,m7B.STREAM_DRAW),indexBuffer:H7B.default.GLBuffer.createIndexBuffer(m7B,B7B.indices,m7B.STATIC_DRAW),vao:null,dirty:B7B.dirty,indexDirty:B7B.indexDirty},f7B.vao=new H7B.default.VertexArrayObject(m7B).addIndex(f7B.indexBuffer).addAttribute(f7B.vertexBuffer,f7B.shader.attributes.aVertexPosition,m7B.FLOAT,false,8,0).addAttribute(f7B.uvBuffer,f7B.shader.attributes.aTextureCoord,m7B.FLOAT,false,8,0),B7B._glDatas[l7B.CONTEXT_UID]=f7B);l7B.bindVao(f7B.vao);B7B.dirty!==f7B.dirty&&(f7B.dirty=B7B.dirty,f7B.uvBuffer.upload(B7B.uvs));B7B.indexDirty!==f7B.indexDirty&&(f7B.indexDirty=B7B.indexDirty,f7B.indexBuffer.upload(B7B.indices));f7B.vertexBuffer.upload(B7B.vertices);l7B.bindShader(f7B.shader);f7B.shader.uniforms.uSampler=l7B.bindTexture(Q7B);l7B.state.setBlendMode(y7B.utils.correctBlendMode(B7B.blendMode,Q7B.baseTexture.premultipliedAlpha));f7B.shader.uniforms.uTransform&&(f7B.shader.uniforms.uTransform=B7B.uploadUvTransform?B7B._uvTransform.mapCoord.toArray(true):E7B.toArray(true));f7B.shader.uniforms.translationMatrix=B7B.worldTransform.toArray(true);f7B.shader.uniforms.uColor=y7B.utils.premultiplyRgba(B7B.tintRgb,B7B.worldAlpha,f7B.shader.uniforms.uColor,Q7B.baseTexture.premultipliedAlpha);f7B.vao.draw(B7B.drawMode===Z7B.default.DRAW_MODES.TRIANGLE_MESH?m7B.TRIANGLE_STRIP:m7B.TRIANGLES,B7B.indices.length,0);}};return t7B;}(y7B.ObjectRenderer);q7B.default=h7B;y7B.WebGLRenderer.registerPlugin("mesh",h7B);},{"../../core":65,"../Mesh":166,path:8,"pixi-gl-core":15}],173:[function(z7B,G7B,d7B){function U7B(F7B,e7B){if("function"!==typeof e7B&&null!==e7B){throw new TypeError("Super expression must either be null or a function, not "+typeof e7B);}F7B.prototype=Object.create(e7B&&e7B.prototype,{constructor:{value:F7B,enumerable:false,writable:true,configurable:true}});e7B&&(Object.setPrototypeOf?Object.setPrototypeOf(F7B,e7B):F7B.__proto__=e7B);}d7B.__esModule=true;var X7B=function(){function p7B(L7B,v7B){for(var P7B=0;P7B<v7B.length;P7B++){var V7B=v7B[P7B];V7B.enumerable=V7B.enumerable||false;V7B.configurable=true;"value"in V7B&&(V7B.writable=true);Object.defineProperty(L7B,V7B.key,V7B);}}return function(R7B,i7B,a7B){i7B&&p7B(R7B.prototype,i7B);a7B&&p7B(R7B,a7B);return R7B;};}(),D7B=function(x7B){if(x7B&&x7B.__esModule){return x7B;}var k7B={};if(null!=x7B){for(var w7B in x7B){Object.prototype.hasOwnProperty.call(x7B,w7B)&&(k7B[w7B]=x7B[w7B]);}}k7B.default=x7B;return k7B;}(z7B("../core")),W7B=z7B("../core/utils");z7B=function(A7B){function Y7B(){var n6B=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1500,I6B=arguments[1],s6B=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16384,T6B=3<arguments.length&&void 0!==arguments[3]?arguments[3]:false;if(!(this instanceof Y7B)){throw new TypeError("Cannot call a class as a function");}var r6B;r6B=A7B.call(this);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}r6B=!r6B||"object"!==typeof r6B&&"function"!==typeof r6B?this:r6B;16384<s6B&&(s6B=16384);s6B>n6B&&(s6B=n6B);r6B._properties=[false,true,false,false,false];r6B._maxSize=n6B;r6B._batchSize=s6B;r6B._glBuffers={};r6B._bufferToUpdate=0;r6B.interactiveChildren=false;r6B.blendMode=D7B.BLEND_MODES.NORMAL;r6B.autoResize=T6B;r6B.roundPixels=true;r6B.baseTexture=null;r6B.setProperties(I6B);r6B._tint=0;r6B.tintRgb=new Float32Array(4);r6B.tint=16777215;return r6B;}U7B(Y7B,A7B);Y7B.prototype.setProperties=function(c6B){c6B&&(this._properties[0]="scale"in c6B?!!c6B.scale:this._properties[0],this._properties[1]="position"in c6B?!!c6B.position:this._properties[1],this._properties[2]="rotation"in c6B?!!c6B.rotation:this._properties[2],this._properties[3]="uvs"in c6B?!!c6B.uvs:this._properties[3],this._properties[4]="alpha"in c6B||"tint"in c6B?!!c6B.alpha||!!c6B.tint:this._properties[4]);};Y7B.prototype.updateTransform=function(){this.displayObjectUpdateTransform();};Y7B.prototype.renderWebGL=function(M6B){var o6B=this;if(this.visible&&!(0>=this.worldAlpha)&&this.children.length&&this.renderable){if(!this.baseTexture&&(this.baseTexture=this.children[0]._texture.baseTexture,!this.baseTexture.hasLoaded)){this.baseTexture.once("update",function(){return o6B.onChildrenChange(0);});}M6B.setObjectRenderer(M6B.plugins.particle);M6B.plugins.particle.render(this);}};Y7B.prototype.onChildrenChange=function(O6B){O6B=Math.floor(O6B/this._batchSize);O6B<this._bufferToUpdate&&(this._bufferToUpdate=O6B);};Y7B.prototype.renderCanvas=function(y6B){var S6B=this;if(this.visible&&!(0>=this.worldAlpha)&&this.children.length&&this.renderable){var q6B=y6B.context,Z6B=this.worldTransform,u6B=true,h6B,K6B,b6B,J6B;y6B.setBlendMode(this.blendMode);q6B.globalAlpha=this.worldAlpha;this.displayObjectUpdateTransform();for(var j6B=0;j6B<this.children.length;++j6B){var g6B=S6B.children[j6B];if(g6B.visible){var H6B=g6B._texture.frame;q6B.globalAlpha=S6B.worldAlpha*g6B.alpha;0===g6B.rotation%(2*Math.PI)?(u6B&&(q6B.setTransform(Z6B.a,Z6B.b,Z6B.c,Z6B.d,Z6B.tx*y6B.resolution,Z6B.ty*y6B.resolution),u6B=false),h6B=g6B.anchor.x*-H6B.width*g6B.scale.x+g6B.position.x+.5,K6B=g6B.anchor.y*-H6B.height*g6B.scale.y+g6B.position.y+.5,b6B=H6B.width*g6B.scale.x,J6B=H6B.height*g6B.scale.y):(u6B||(u6B=true),g6B.displayObjectUpdateTransform(),h6B=g6B.worldTransform,y6B.roundPixels?q6B.setTransform(h6B.a,h6B.b,h6B.c,h6B.d,h6B.tx*y6B.resolution|0,h6B.ty*y6B.resolution|0):q6B.setTransform(h6B.a,h6B.b,h6B.c,h6B.d,h6B.tx*y6B.resolution,h6B.ty*y6B.resolution),h6B=g6B.anchor.x*-H6B.width+.5,K6B=g6B.anchor.y*-H6B.height+.5,b6B=H6B.width,J6B=H6B.height);var E6B=g6B._texture.baseTexture.resolution;q6B.drawImage(g6B._texture.baseTexture.source,H6B.x*E6B,H6B.y*E6B,H6B.width*E6B,H6B.height*E6B,h6B*y6B.resolution,K6B*y6B.resolution,b6B*y6B.resolution,J6B*y6B.resolution);}}}};Y7B.prototype.destroy=function(t6B){var C6B=this;A7B.prototype.destroy.call(this,t6B);if(this._buffers){for(t6B=0;t6B<this._buffers.length;++t6B){C6B._buffers[t6B].destroy();}}this._buffers=this._properties=null;};X7B(Y7B,[{key:"tint",get:function(){return this._tint;},set:function(N6B){this._tint=N6B;(0,W7B.hex2rgb)(N6B,this.tintRgb);}}]);return Y7B;}(D7B.Container);d7B.default=z7B;},{"../core":65,"../core/utils":125}],174:[function(l6B,Q6B,m6B){m6B.__esModule=true;var f6B=l6B("./ParticleContainer");Object.defineProperty(m6B,"ParticleContainer",{enumerable:true,get:function(){return(f6B&&f6B.__esModule?f6B:{default:f6B}).default;}});var B6B=l6B("./webgl/ParticleRenderer");Object.defineProperty(m6B,"ParticleRenderer",{enumerable:true,get:function(){return(B6B&&B6B.__esModule?B6B:{default:B6B}).default;}});},{"./ParticleContainer":173,"./webgl/ParticleRenderer":176}],175:[function(z6B,d6B,X6B){X6B.__esModule=true;var D6B=(d6B=z6B("pixi-gl-core"))&&d6B.__esModule?d6B:{default:d6B},W6B=(z6B=z6B("../../core/utils/createIndicesForQuads"))&&z6B.__esModule?z6B:{default:z6B};z6B=function(){function U6B(e6B,p6B,V6B,G6B){var F6B=this;if(!(this instanceof U6B)){throw new TypeError("Cannot call a class as a function");}this.gl=e6B;this.size=G6B;this.dynamicProperties=[];this.staticProperties=[];for(e6B=0;e6B<p6B.length;++e6B){G6B=p6B[e6B],G6B={attribute:G6B.attribute,size:G6B.size,uploadFunction:G6B.uploadFunction,unsignedByte:G6B.unsignedByte,offset:G6B.offset},V6B[e6B]?F6B.dynamicProperties.push(G6B):F6B.staticProperties.push(G6B);}this.staticStride=0;this.staticDataUint32=this.staticData=this.staticBuffer=null;this.dynamicStride=0;this.dynamicDataUint32=this.dynamicData=this.dynamicBuffer=null;this.initBuffers();}U6B.prototype.initBuffers=function(){var L6B=this;var R6B=this.gl,P6B=0;this.indices=(0,W6B.default)(this.size);this.indexBuffer=D6B.default.GLBuffer.createIndexBuffer(R6B,this.indices,R6B.STATIC_DRAW);for(var v6B=this.dynamicStride=0;v6B<this.dynamicProperties.length;++v6B){var i6B=L6B.dynamicProperties[v6B];i6B.offset=P6B;P6B+=i6B.size;L6B.dynamicStride+=i6B.size;}P6B=new ArrayBuffer(this.size*this.dynamicStride*16);this.dynamicData=new Float32Array(P6B);this.dynamicDataUint32=new Uint32Array(P6B);this.dynamicBuffer=D6B.default.GLBuffer.createVertexBuffer(R6B,P6B,R6B.STREAM_DRAW);for(v6B=this.staticStride=P6B=0;v6B<this.staticProperties.length;++v6B){i6B=L6B.staticProperties[v6B],i6B.offset=P6B,P6B+=i6B.size,L6B.staticStride+=i6B.size;}P6B=new ArrayBuffer(this.size*this.staticStride*16);this.staticData=new Float32Array(P6B);this.staticDataUint32=new Uint32Array(P6B);this.staticBuffer=D6B.default.GLBuffer.createVertexBuffer(R6B,P6B,R6B.STATIC_DRAW);this.vao=new D6B.default.VertexArrayObject(R6B).addIndex(this.indexBuffer);for(P6B=0;P6B<this.dynamicProperties.length;++P6B){v6B=L6B.dynamicProperties[P6B],v6B.unsignedByte?L6B.vao.addAttribute(L6B.dynamicBuffer,v6B.attribute,R6B.UNSIGNED_BYTE,true,4*L6B.dynamicStride,4*v6B.offset):L6B.vao.addAttribute(L6B.dynamicBuffer,v6B.attribute,R6B.FLOAT,false,4*L6B.dynamicStride,4*v6B.offset);}for(P6B=0;P6B<this.staticProperties.length;++P6B){v6B=L6B.staticProperties[P6B],v6B.unsignedByte?L6B.vao.addAttribute(L6B.staticBuffer,v6B.attribute,R6B.UNSIGNED_BYTE,true,4*L6B.staticStride,4*v6B.offset):L6B.vao.addAttribute(L6B.staticBuffer,v6B.attribute,R6B.FLOAT,false,4*L6B.staticStride,4*v6B.offset);}};U6B.prototype.uploadDynamic=function(w6B,Y6B,A6B){var a6B=this;for(var x6B=0;x6B<this.dynamicProperties.length;x6B++){var k6B=a6B.dynamicProperties[x6B];k6B.uploadFunction(w6B,Y6B,A6B,k6B.unsignedByte?a6B.dynamicDataUint32:a6B.dynamicData,a6B.dynamicStride,k6B.offset);}this.dynamicBuffer.upload();};U6B.prototype.uploadStatic=function(I8z,T8z,c8z){var r8z=this;for(var s8z=0;s8z<this.staticProperties.length;s8z++){var n8z=r8z.staticProperties[s8z];n8z.uploadFunction(I8z,T8z,c8z,n8z.unsignedByte?r8z.staticDataUint32:r8z.staticData,r8z.staticStride,n8z.offset);}this.staticBuffer.upload();};U6B.prototype.destroy=function(){this.dynamicProperties=null;this.dynamicBuffer.destroy();this.staticProperties=this.dynamicDataUint32=this.dynamicData=this.dynamicBuffer=null;this.staticBuffer.destroy();this.staticDataUint32=this.staticData=this.staticBuffer=null;};return U6B;}();X6B.default=z6B;},{"../../core/utils/createIndicesForQuads":123,"pixi-gl-core":15}],176:[function(o8z,M8z,h8z){function q8z(E8z,Z8z){if("function"!==typeof Z8z&&null!==Z8z){throw new TypeError("Super expression must either be null or a function, not "+typeof Z8z);}E8z.prototype=Object.create(Z8z&&Z8z.prototype,{constructor:{value:E8z,enumerable:false,writable:true,configurable:true}});Z8z&&(Object.setPrototypeOf?Object.setPrototypeOf(E8z,Z8z):E8z.__proto__=Z8z);}h8z.__esModule=true;var O8z=function(u8z){if(u8z&&u8z.__esModule){return u8z;}var j8z={};if(null!=u8z){for(var J8z in u8z){Object.prototype.hasOwnProperty.call(u8z,J8z)&&(j8z[J8z]=u8z[J8z]);}}j8z.default=u8z;return j8z;}(o8z("../../core")),y8z=(M8z=o8z("./ParticleShader"))&&M8z.__esModule?M8z:{default:M8z},g8z=(M8z=o8z("./ParticleBuffer"))&&M8z.__esModule?M8z:{default:M8z},H8z=o8z("../../core/utils");o8z=function(K8z){function S8z(b8z){if(!(this instanceof S8z)){throw new TypeError("Cannot call a class as a function");}b8z=K8z.call(this,b8z);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}b8z=!b8z||"object"!==typeof b8z&&"function"!==typeof b8z?this:b8z;b8z.shader=null;b8z.indexBuffer=null;b8z.properties=null;b8z.tempMatrix=new O8z.Matrix();b8z.CONTEXT_UID=0;return b8z;}q8z(S8z,K8z);S8z.prototype.onContextChange=function(){var t8z=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.shader=new y8z.default(t8z);this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:true,uploadFunction:this.uploadTint,offset:0}];};S8z.prototype.start=function(){this.renderer.bindShader(this.shader);};S8z.prototype.render=function(C8z){var W8z=this;var z8z=C8z.children,B8z=C8z._maxSize,d8z=C8z._batchSize,m8z=this.renderer,Q8z=z8z.length;if(0!==Q8z){Q8z>B8z&&(Q8z=B8z);(B8z=C8z._glBuffers[m8z.CONTEXT_UID])||(B8z=C8z._glBuffers[m8z.CONTEXT_UID]=this.generateBuffers(C8z));var N8z=z8z[0]._texture.baseTexture;this.renderer.setBlendMode(O8z.utils.correctBlendMode(C8z.blendMode,N8z.premultipliedAlpha));var X8z=m8z.gl,f8z=C8z.worldTransform.copy(this.tempMatrix);f8z.prepend(m8z._activeRenderTarget.projectionMatrix);this.shader.uniforms.projectionMatrix=f8z.toArray(true);this.shader.uniforms.uColor=O8z.utils.premultiplyRgba(C8z.tintRgb,C8z.worldAlpha,this.shader.uniforms.uColor,N8z.premultipliedAlpha);this.shader.uniforms.uSampler=m8z.bindTexture(N8z);for(f8z=N8z=0;N8z<Q8z;N8z+=d8z,f8z+=1){var l8z=Q8z-N8z;l8z>d8z&&(l8z=d8z);if(f8z>=B8z.length){if(!C8z.autoResize){break;}B8z.push(W8z._generateOneMoreBuffer(C8z));}var D8z=B8z[f8z];D8z.uploadDynamic(z8z,N8z,l8z);C8z._bufferToUpdate===f8z&&(D8z.uploadStatic(z8z,N8z,l8z),C8z._bufferToUpdate=f8z+1);m8z.bindVao(D8z.vao);D8z.vao.draw(X8z.TRIANGLES,6*l8z);}}};S8z.prototype.generateBuffers=function(U8z){var p8z=this;var V8z=this.renderer.gl,G8z=[],P8z=U8z._maxSize,e8z=U8z._batchSize;U8z=U8z._properties;for(var F8z=0;F8z<P8z;F8z+=e8z){G8z.push(new g8z.default(V8z,p8z.properties,U8z,e8z));}return G8z;};S8z.prototype._generateOneMoreBuffer=function(v8z){return new g8z.default(this.renderer.gl,this.properties,v8z._properties,v8z._batchSize);};S8z.prototype.uploadVertices=function(n2z,T2z,I2z,a8z,k8z,i8z){for(var x8z,Y8z,R8z,L8z,s2z=0;s2z<I2z;++s2z){L8z=n2z[T2z+s2z];x8z=L8z._texture;var A8z=L8z.scale.x,r2z=L8z.scale.y;R8z=x8z.trim;var w8z=x8z.orig;R8z?(Y8z=R8z.x-L8z.anchor.x*w8z.width,x8z=Y8z+R8z.width,L8z=R8z.y-L8z.anchor.y*w8z.height,R8z=L8z+R8z.height):(x8z=w8z.width*(1-L8z.anchor.x),Y8z=w8z.width*-L8z.anchor.x,R8z=w8z.height*(1-L8z.anchor.y),L8z=w8z.height*-L8z.anchor.y);a8z[i8z]=Y8z*A8z;a8z[i8z+1]=L8z*r2z;a8z[i8z+k8z]=x8z*A8z;a8z[i8z+k8z+1]=L8z*r2z;a8z[i8z+2*k8z]=x8z*A8z;a8z[i8z+2*k8z+1]=R8z*r2z;a8z[i8z+3*k8z]=Y8z*A8z;a8z[i8z+3*k8z+1]=R8z*r2z;i8z+=4*k8z;}};S8z.prototype.uploadPosition=function(h2z,y2z,H2z,o2z,O2z,c2z){for(var g2z=0;g2z<H2z;g2z++){var M2z=h2z[y2z+g2z].position;o2z[c2z]=M2z.x;o2z[c2z+1]=M2z.y;o2z[c2z+O2z]=M2z.x;o2z[c2z+O2z+1]=M2z.y;o2z[c2z+2*O2z]=M2z.x;o2z[c2z+2*O2z+1]=M2z.y;o2z[c2z+3*O2z]=M2z.x;o2z[c2z+3*O2z+1]=M2z.y;c2z+=4*O2z;}};S8z.prototype.uploadRotation=function(J2z,S2z,K2z,E2z,u2z,q2z){for(var j2z=0;j2z<K2z;j2z++){var Z2z=J2z[S2z+j2z].rotation;E2z[q2z]=Z2z;E2z[q2z+u2z]=Z2z;E2z[q2z+2*u2z]=Z2z;E2z[q2z+3*u2z]=Z2z;q2z+=4*u2z;}};S8z.prototype.uploadUvs=function(B2z,m2z,l2z,t2z,C2z,b2z){for(var f2z=0;f2z<l2z;++f2z){var N2z=B2z[m2z+f2z]._texture._uvs;N2z?(t2z[b2z]=N2z.x0,t2z[b2z+1]=N2z.y0,t2z[b2z+C2z]=N2z.x1,t2z[b2z+C2z+1]=N2z.y1,t2z[b2z+2*C2z]=N2z.x2,t2z[b2z+2*C2z+1]=N2z.y2,t2z[b2z+3*C2z]=N2z.x3,t2z[b2z+3*C2z+1]=N2z.y3):(t2z[b2z]=0,t2z[b2z+1]=0,t2z[b2z+C2z]=0,t2z[b2z+C2z+1]=0,t2z[b2z+2*C2z]=0,t2z[b2z+2*C2z+1]=0,t2z[b2z+3*C2z]=0,t2z[b2z+3*C2z+1]=0);b2z+=4*C2z;}};S8z.prototype.uploadTint=function(G2z,F2z,e2z,X2z,D2z,z2z){for(var d2z=0;d2z<e2z;++d2z){var Q2z=G2z[F2z+d2z],U2z=Q2z._texture.baseTexture.premultipliedAlpha,W2z=Q2z.alpha,Q2z=1>W2z&&U2z?(0,H8z.premultiplyTint)(Q2z._tintRGB,W2z):Q2z._tintRGB+(255*W2z<<24);X2z[z2z]=Q2z;X2z[z2z+D2z]=Q2z;X2z[z2z+2*D2z]=Q2z;X2z[z2z+3*D2z]=Q2z;z2z+=4*D2z;}};S8z.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer);K8z.prototype.destroy.call(this);this.shader.destroy();this.tempMatrix=this.indices=null;};return S8z;}(O8z.ObjectRenderer);h8z.default=o8z;O8z.WebGLRenderer.registerPlugin("particle",o8z);},{"../../core":65,"../../core/utils":125,"./ParticleBuffer":175,"./ParticleShader":177}],177:[function(p2z,v2z,V2z){function P2z(R2z,L2z){if("function"!==typeof L2z&&null!==L2z){throw new TypeError("Super expression must either be null or a function, not "+typeof L2z);}R2z.prototype=Object.create(L2z&&L2z.prototype,{constructor:{value:R2z,enumerable:false,writable:true,configurable:true}});L2z&&(Object.setPrototypeOf?Object.setPrototypeOf(R2z,L2z):R2z.__proto__=L2z);}V2z.__esModule=true;p2z=p2z("../../core/Shader");p2z=function(a2z){function i2z(x2z){if(!(this instanceof i2z)){throw new TypeError("Cannot call a class as a function");}x2z=a2z.call(this,x2z,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute vec2 aPositionCoord;\nattribute vec2 aScale;\nattribute float aRotation;\nuniform mat3 projectionMatrix;\nuniform vec4 uColor;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvoid main(void){\n   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n   vec2 v = vec2(x, y);\n   v = v + aPositionCoord;\n   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = aColor * uColor;\n}","varying vec2 vTextureCoord;\nvarying vec4 vColor;\nuniform sampler2D uSampler;\nvoid main(void){\n  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n  gl_FragColor = color;\n}");if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return!x2z||"object"!==typeof x2z&&"function"!==typeof x2z?this:x2z;}P2z(i2z,a2z);return i2z;}((p2z&&p2z.__esModule?p2z:{default:p2z}).default);V2z.default=p2z;},{"../../core/Shader":44}],178:[function(k2z,w2z,Y2z){Math.sign||(Math.sign=function(A2z){A2z=Number(A2z);return 0===A2z||isNaN(A2z)?A2z:0<A2z?1:-1;});},{}],179:[function(r0z,s0z,n0z){r0z=(r0z=r0z("object-assign"))&&r0z.__esModule?r0z:{default:r0z};Object.assign||(Object.assign=r0z.default);},{"object-assign":6}],180:[function(I0z,T0z,c0z){I0z("./Object.assign");I0z("./requestAnimationFrame");I0z("./Math.sign");window.ArrayBuffer||(window.ArrayBuffer=Array);window.Float32Array||(window.Float32Array=Array);window.Uint32Array||(window.Uint32Array=Array);window.Uint16Array||(window.Uint16Array=Array);},{"./Math.sign":178,"./Object.assign":179,"./requestAnimationFrame":181}],181:[function(M0z,o0z,O0z){(function(g0z){Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime();});if(!g0z.performance||!g0z.performance.now){var Z0z=Date.now();g0z.performance||(g0z.performance={});g0z.performance.now=function(){return Date.now()-Z0z;};}for(var h0z=Date.now(),q0z=["ms","moz","webkit","o"],y0z=0;y0z<q0z.length&&!g0z.requestAnimationFrame;++y0z){var H0z=q0z[y0z];g0z.requestAnimationFrame=g0z[H0z+"RequestAnimationFrame"];g0z.cancelAnimationFrame=g0z[H0z+"CancelAnimationFrame"]||g0z[H0z+"CancelRequestAnimationFrame"];}g0z.requestAnimationFrame||(g0z.requestAnimationFrame=function(u0z){if("function"!==typeof u0z){throw new TypeError(u0z+"is not a function");}var j0z=Date.now(),E0z=16+h0z-j0z;0>E0z&&(E0z=0);h0z=j0z;return setTimeout(function(){h0z=Date.now();u0z(performance.now());},E0z);});g0z.cancelAnimationFrame||(g0z.cancelAnimationFrame=function(J0z){return clearTimeout(J0z);});}.call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{}));},{}],182:[function(K0z,D0z,C0z){function z0z(d0z,G0z){var W0z=false;if(d0z&&d0z._textures&&d0z._textures.length){for(var X0z=0;X0z<d0z._textures.length;X0z++){if(d0z._textures[X0z]instanceof S0z.Texture){var U0z=d0z._textures[X0z].baseTexture;-1===G0z.indexOf(U0z)&&(G0z.push(U0z),W0z=true);}}}return W0z;}function N0z(e0z,F0z){return e0z instanceof S0z.BaseTexture?(-1===F0z.indexOf(e0z)&&F0z.push(e0z),true):false;}function f0z(p0z,V0z){return p0z._texture&&p0z._texture instanceof S0z.Texture?(p0z=p0z._texture.baseTexture,-1===V0z.indexOf(p0z)&&V0z.push(p0z),true):false;}function B0z(v0z,P0z){return P0z instanceof S0z.Text?(P0z.updateText(true),true):false;}function m0z(L0z,R0z){return R0z instanceof S0z.TextStyle?(L0z=R0z.toFontString(),S0z.TextMetrics.measureFont(L0z),true):false;}function l0z(i0z,a0z){return i0z instanceof S0z.Text?(-1===a0z.indexOf(i0z.style)&&a0z.push(i0z.style),-1===a0z.indexOf(i0z)&&a0z.push(i0z),i0z=i0z._texture.baseTexture,-1===a0z.indexOf(i0z)&&a0z.push(i0z),true):false;}function Q0z(x0z,k0z){return x0z instanceof S0z.TextStyle?(-1===k0z.indexOf(x0z)&&k0z.push(x0z),true):false;}C0z.__esModule=true;var S0z=function(w0z){if(w0z&&w0z.__esModule){return w0z;}var Y0z={};if(null!=w0z){for(var A0z in w0z){Object.prototype.hasOwnProperty.call(w0z,A0z)&&(Y0z[A0z]=w0z[A0z]);}}Y0z.default=w0z;return Y0z;}(K0z("../core")),t0z=(K0z=K0z("./limiters/CountLimiter"))&&K0z.__esModule?K0z:{default:K0z},b0z=S0z.ticker.shared;S0z.settings.UPLOADS_PER_FRAME=4;K0z=function(){function r3z(n3z){var s3z=this;if(!(this instanceof r3z)){throw new TypeError("Cannot call a class as a function");}this.limiter=new t0z.default(S0z.settings.UPLOADS_PER_FRAME);this.renderer=n3z;this.uploadHookHelper=null;this.queue=[];this.addHooks=[];this.uploadHooks=[];this.completes=[];this.ticking=false;this.delayedTick=function(){s3z.queue&&s3z.prepareItems();};this.registerFindHook(l0z);this.registerFindHook(Q0z);this.registerFindHook(z0z);this.registerFindHook(N0z);this.registerFindHook(f0z);this.registerUploadHook(B0z);this.registerUploadHook(m0z);}r3z.prototype.upload=function(I3z,T3z){"function"===typeof I3z&&(T3z=I3z,I3z=null);I3z&&this.add(I3z);this.queue.length?(T3z&&this.completes.push(T3z),this.ticking||(this.ticking=true,b0z.addOnce(this.tick,this,S0z.UPDATE_PRIORITY.UTILITY))):T3z&&T3z();};r3z.prototype.tick=function(){setTimeout(this.delayedTick,0);};r3z.prototype.prepareItems=function(){var o3z=this;for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var c3z=o3z.queue[0],M3z=false;if(c3z&&!c3z._destroyed){for(var O3z=0,g3z=this.uploadHooks.length;O3z<g3z;O3z++){if(o3z.uploadHooks[O3z](o3z.uploadHookHelper,c3z)){o3z.queue.shift();M3z=true;break;}}}M3z||o3z.queue.shift();}if(this.queue.length){b0z.addOnce(this.tick,this,S0z.UPDATE_PRIORITY.UTILITY);}else{for(this.ticking=false,c3z=this.completes.slice(0),M3z=this.completes.length=0,O3z=c3z.length;M3z<O3z;M3z++){c3z[M3z]();}}};r3z.prototype.registerFindHook=function(h3z){h3z&&this.addHooks.push(h3z);return this;};r3z.prototype.registerUploadHook=function(y3z){y3z&&this.uploadHooks.push(y3z);return this;};r3z.prototype.add=function(q3z){var Z3z=this;for(var H3z=0,E3z=this.addHooks.length;H3z<E3z&&!this.addHooks[H3z](q3z,this.queue);H3z++){;}if(q3z instanceof S0z.Container){for(H3z=q3z.children.length-1;0<=H3z;H3z--){Z3z.add(q3z.children[H3z]);}}return this;};r3z.prototype.destroy=function(){this.ticking&&b0z.remove(this.tick,this);this.ticking=false;this.uploadHookHelper=this.limiter=this.queue=this.completes=this.renderer=this.uploadHooks=this.addHooks=null;};return r3z;}();C0z.default=K0z;},{"../core":65,"./limiters/CountLimiter":185}],183:[function(u3z,b3z,J3z){function S3z(C3z,t3z){if("function"!==typeof t3z&&null!==t3z){throw new TypeError("Super expression must either be null or a function, not "+typeof t3z);}C3z.prototype=Object.create(t3z&&t3z.prototype,{constructor:{value:C3z,enumerable:false,writable:true,configurable:true}});t3z&&(Object.setPrototypeOf?Object.setPrototypeOf(C3z,t3z):C3z.__proto__=t3z);}function K3z(f3z,N3z){return N3z instanceof j3z.BaseTexture?(N3z=N3z.source,f3z.ctx.drawImage(N3z,0,0,0===N3z.width?f3z.canvas.width:Math.min(f3z.canvas.width,N3z.width),0===N3z.height?f3z.canvas.height:Math.min(f3z.canvas.height,N3z.height),0,0,f3z.canvas.width,f3z.canvas.height),true):false;}J3z.__esModule=true;var j3z=function(B3z){if(B3z&&B3z.__esModule){return B3z;}var m3z={};if(null!=B3z){for(var l3z in B3z){Object.prototype.hasOwnProperty.call(B3z,l3z)&&(m3z[l3z]=B3z[l3z]);}}m3z.default=B3z;return m3z;}(u3z("../../core"));u3z=u3z("../BasePrepare");u3z=function(z3z){function Q3z(D3z){if(!(this instanceof Q3z)){throw new TypeError("Cannot call a class as a function");}D3z=z3z.call(this,D3z);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}D3z=!D3z||"object"!==typeof D3z&&"function"!==typeof D3z?this:D3z;D3z.uploadHookHelper=D3z;D3z.canvas=document.createElement("canvas");D3z.canvas.width=16;D3z.canvas.height=16;D3z.ctx=D3z.canvas.getContext("2d");D3z.registerUploadHook(K3z);return D3z;}S3z(Q3z,z3z);Q3z.prototype.destroy=function(){z3z.prototype.destroy.call(this);this.canvas=this.ctx=null;};return Q3z;}((u3z&&u3z.__esModule?u3z:{default:u3z}).default);J3z.default=u3z;j3z.CanvasRenderer.registerPlugin("prepare",u3z);},{"../../core":65,"../BasePrepare":182}],184:[function(X3z,V3z,d3z){function W3z(P3z){return P3z&&P3z.__esModule?P3z:{default:P3z};}d3z.__esModule=true;var U3z=X3z("./webgl/WebGLPrepare");Object.defineProperty(d3z,"webgl",{enumerable:true,get:function(){return W3z(U3z).default;}});var G3z=X3z("./canvas/CanvasPrepare");Object.defineProperty(d3z,"canvas",{enumerable:true,get:function(){return W3z(G3z).default;}});var e3z=X3z("./BasePrepare");Object.defineProperty(d3z,"BasePrepare",{enumerable:true,get:function(){return W3z(e3z).default;}});var F3z=X3z("./limiters/CountLimiter");Object.defineProperty(d3z,"CountLimiter",{enumerable:true,get:function(){return W3z(F3z).default;}});var p3z=X3z("./limiters/TimeLimiter");Object.defineProperty(d3z,"TimeLimiter",{enumerable:true,get:function(){return W3z(p3z).default;}});},{"./BasePrepare":182,"./canvas/CanvasPrepare":183,"./limiters/CountLimiter":185,"./limiters/TimeLimiter":186,"./webgl/WebGLPrepare":187}],185:[function(v3z,R3z,L3z){L3z.__esModule=true;v3z=function(){function i3z(a3z){if(!(this instanceof i3z)){throw new TypeError("Cannot call a class as a function");}this.maxItemsPerFrame=a3z;this.itemsLeft=0;}i3z.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame;};i3z.prototype.allowedToUpload=function(){return 0<this.itemsLeft--;};return i3z;}();L3z.default=v3z;},{}],186:[function(x3z,w3z,k3z){k3z.__esModule=true;x3z=function(){function Y3z(A3z){if(!(this instanceof Y3z)){throw new TypeError("Cannot call a class as a function");}this.maxMilliseconds=A3z;this.frameStart=0;}Y3z.prototype.beginFrame=function(){this.frameStart=Date.now();};Y3z.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds;};return Y3z;}();k3z.default=x3z;},{}],187:[function(r5z,o5z,n5z){function I5z(g5z,O5z){if("function"!==typeof O5z&&null!==O5z){throw new TypeError("Super expression must either be null or a function, not "+typeof O5z);}g5z.prototype=Object.create(O5z&&O5z.prototype,{constructor:{value:g5z,enumerable:false,writable:true,configurable:true}});O5z&&(Object.setPrototypeOf?Object.setPrototypeOf(g5z,O5z):g5z.__proto__=O5z);}function T5z(y5z,h5z){return h5z instanceof s5z.BaseTexture?(h5z._glTextures[y5z.CONTEXT_UID]||y5z.textureManager.updateTexture(h5z),true):false;}function c5z(q5z,H5z){return H5z instanceof s5z.Graphics?((H5z.dirty||H5z.clearDirty||!H5z._webGL[q5z.plugins.graphics.CONTEXT_UID])&&q5z.plugins.graphics.updateGraphics(H5z),true):false;}function M5z(Z5z,E5z){return Z5z instanceof s5z.Graphics?(E5z.push(Z5z),true):false;}n5z.__esModule=true;var s5z=function(u5z){if(u5z&&u5z.__esModule){return u5z;}var j5z={};if(null!=u5z){for(var J5z in u5z){Object.prototype.hasOwnProperty.call(u5z,J5z)&&(j5z[J5z]=u5z[J5z]);}}j5z.default=u5z;return j5z;}(r5z("../../core"));r5z=r5z("../BasePrepare");r5z=function(K5z){function S5z(b5z){if(!(this instanceof S5z)){throw new TypeError("Cannot call a class as a function");}b5z=K5z.call(this,b5z);if(!this){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}b5z=!b5z||"object"!==typeof b5z&&"function"!==typeof b5z?this:b5z;b5z.uploadHookHelper=b5z.renderer;b5z.registerFindHook(M5z);b5z.registerUploadHook(T5z);b5z.registerUploadHook(c5z);return b5z;}I5z(S5z,K5z);return S5z;}((r5z&&r5z.__esModule?r5z:{default:r5z}).default);n5z.default=r5z;s5z.WebGLRenderer.registerPlugin("prepare",r5z);},{"../../core":65,"../BasePrepare":182}],188:[function(C5z,N5z,t5z){(function(p5z){function B5z(V5z){if(V5z&&V5z.__esModule){return V5z;}var P5z={};if(null!=V5z){for(var v5z in V5z){Object.prototype.hasOwnProperty.call(V5z,v5z)&&(P5z[v5z]=V5z[v5z]);}}P5z.default=V5z;return P5z;}t5z.__esModule=true;t5z.loader=t5z.prepare=t5z.particles=t5z.mesh=t5z.loaders=t5z.interaction=t5z.filters=t5z.extras=t5z.extract=t5z.accessibility=void 0;var e5z=C5z("./polyfill");Object.keys(e5z).forEach(function(L5z){"default"!==L5z&&"__esModule"!==L5z&&Object.defineProperty(t5z,L5z,{enumerable:true,get:function(){return e5z[L5z];}});});var G5z=C5z("./core");Object.keys(G5z).forEach(function(R5z){"default"!==R5z&&"__esModule"!==R5z&&Object.defineProperty(t5z,R5z,{enumerable:true,get:function(){return G5z[R5z];}});});var f5z=C5z("./deprecation"),f5z=f5z&&f5z.__esModule?f5z:{default:f5z},z5z=C5z("./accessibility"),z5z=B5z(z5z),l5z=C5z("./extract"),l5z=B5z(l5z),D5z=C5z("./extras"),D5z=B5z(D5z),X5z=C5z("./filters"),X5z=B5z(X5z),W5z=C5z("./interaction"),W5z=B5z(W5z),m5z=C5z("./loaders"),m5z=B5z(m5z),Q5z=C5z("./mesh"),Q5z=B5z(Q5z),U5z=C5z("./particles"),U5z=B5z(U5z),d5z=C5z("./prepare"),d5z=B5z(d5z);G5z.utils.mixins.performMixins();var F5z=m5z.shared||null;t5z.accessibility=z5z;t5z.extract=l5z;t5z.extras=D5z;t5z.filters=X5z;t5z.interaction=W5z;t5z.loaders=m5z;t5z.mesh=Q5z;t5z.particles=U5z;t5z.prepare=d5z;t5z.loader=F5z;"function"===typeof f5z.default&&(0,f5z.default)(t5z);p5z.PIXI=t5z;}.call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{}));},{"./accessibility":42,"./core":65,"./deprecation":131,"./extract":133,"./extras":141,"./filters":153,"./interaction":159,"./loaders":162,"./mesh":171,"./particles":174,"./polyfill":180,"./prepare":184}]},{},[188])(188);}));void function(){function a5z(k5z,w5z,Y5z){return PIXI.autoDetectRenderer(k5z,w5z,{antialias:true,preserveDrawingBuffer:true,resolution:Y5z,transparent:true});}var i5z=null,x5z={stretch:0,repeat:1,"repeat-mirrored":2};sketch.tools.brush_tileBrush=function(c9z,A5z){function O9z(){var h9z=A5z.stroke,y9z=h9z.hashify()+","+A5z.tileMode;if(M9z!==y9z){return M9z=y9z,g9z(h9z,A5z.diameter);}}function g9z(H9z,E9z){function Z9z(J9z,S9z){var j9z,u9z=(j9z=sketch).Context2D.apply(j9z,arguments);return o9z.renderPaint(H9z,{ctx:u9z,width:J9z,height:S9z}).then(function(){PIXI.settings.WRAP_MODE=x5z[A5z.tileMode];n9z&&n9z.destroy();var K9z=u9z.canvas,b9z=K9z.width,t9z=K9z.height;if(0!==(b9z&b9z-1)||0!==(t9z&t9z-1)){b9z=I9z.nextHighestPowerOfTwo(b9z),t9z=I9z.nextHighestPowerOfTwo(t9z),K9z=sketch.thumbnailer(K9z,{asap:true,crop:"stretch",width:b9z,height:t9z});}n9z=PIXI.Texture.fromCanvas(K9z);T9z=null;});}A5z.accumulatePaint||(H9z=H9z.clone(),H9z.opacity=1);var q9z=H9z.dna;return"color"===q9z.type?Z9z(1,1):"pattern"===q9z.type?q9z.load().then(function(C9z){return Z9z(C9z.width,C9z.height);}):Z9z(E9z,E9z);}var r9z={},o9z=sketch.style,I9z=sketch.util,s9z=c9z.viewport;r9z.pathSimplify={type:0,value:[15,1]};r9z.pathSmoothing={type:0,value:.5};r9z.load=O9z;r9z.render=function(U9z,G9z){var X9z=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,d9z=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,D9z=A5z.isCreating,z9z=c9z.zoom,W9z=i5z||(i5z=a5z(1,1,c9z.pixelRatio)),m9z=A5z.diameter,B9z=m9z/n9z.height,N9z=T9z||(T9z=new TileRope(n9z)),f9z=A5z.bbox,Q9z=Math.abs(f9z.scale.x),l9z=Math.abs(f9z.scale.y),m9z=m9z/2;N9z.dynamicWidth=true;N9z.stretch="stretch"===A5z.tileMode;N9z.scaleTexture.x=B9z;N9z.scaleTexture.y=B9z;N9z.scale.x=Q9z;N9z.scale.y=l9z;N9z.x=m9z*Q9z;N9z.y=m9z*l9z;B9z=Math.abs(f9z.width*Q9z);f9z=Math.abs(f9z.height*l9z);D9z&&(D9z=new sketch.PathBBox(G9z).asRect(),N9z.x-=Math.max(D9z.x,-s9z.x/z9z+m9z),N9z.y-=Math.max(D9z.y,-s9z.y/z9z+m9z),B9z=Math.min(2048,I9z.nextHighestPowerOfTwo(B9z)),f9z=Math.min(2048,I9z.nextHighestPowerOfTwo(f9z)),s9z.width<B9z&&(B9z=s9z.width/z9z),s9z.height<f9z&&(f9z=s9z.height/z9z));B9z=Math.ceil(B9z);f9z=Math.ceil(f9z);N9z.points=G9z;W9z.resize(B9z,f9z);W9z.render(N9z);X9z=-(N9z.x/Q9z/1)+X9z;d9z=-(N9z.y/l9z/1)+d9z;r9z.useAlphaCache||(U9z.globalAlpha=A5z.stroke.opacity);U9z.drawImage(W9z.view,X9z,d9z,B9z/Q9z/1,f9z/l9z/1);};var n9z=null,M9z=null,T9z=null;i5z||(i5z=a5z(1,1,c9z.pixelRatio));return O9z().return(r9z);};}();void function(){function e9z(a9z){var i9z=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];PIXI.mesh.Mesh.call(this,a9z);this.bufferLength=v9z(i9z);this.scaleTexture={x:1,y:1};this.points=i9z;this.vertices=new Float32Array(4*this.bufferLength);this.uvs=new Float32Array(4*this.bufferLength);this.colors=new Float32Array(2*this.bufferLength);this.indices=new Uint16Array(2*this.bufferLength);this.autoUpdate=true;this.refresh();}function V9z(w9z,x9z,Y9z,A9z){A9z=0<=A9z.pressure?2*A9z.pressure:1;w9z/=x9z;var k9z=F9z.span*Y9z/x9z;x9z=(x9z-p9z.span*Y9z)/x9z;Y9z=1;w9z<k9z&&(Y9z=F9z.easing(w9z/k9z));k9z=1;w9z>x9z&&(k9z=p9z.easing((1-w9z)/(1-x9z)));return 1*Y9z*k9z*A9z;}function P9z(r1z){var s1z;r1z=r1z.substr(r1z.indexOf("(")+1,r1z.indexOf(")")).split(",").map(function(n1z){return parseFloat(n1z);});return(s1z=sketch.math).bezierEasing.apply(s1z,L9z(r1z));}function v9z(I1z){I1z=I1z.length;I1z=Math.max(I1z,4);return I1z=R9z(I1z);}var L9z=function(T1z){if(Array.isArray(T1z)){for(var c1z=0,M1z=Array(T1z.length);c1z<T1z.length;c1z++){M1z[c1z]=T1z[c1z];}return M1z;}return Array.from(T1z);},R9z=sketch.util.nextHighestPowerOfTwo;e9z.prototype=Object.create(PIXI.mesh.Mesh.prototype);e9z.prototype.constructor=e9z;e9z.prototype.refresh=function(){var t1z=this;var S1z=this.points,j1z=this.bufferLength=v9z(S1z);if(S1z.length&&this._texture._uvs){this.vertices.length/4!==j1z&&(this.vertices=new Float32Array(4*j1z),this.uvs=new Float32Array(4*j1z),this.colors=new Float32Array(2*j1z),this.indices=new Uint16Array(2*j1z));var b1z=this.colors,E1z=this.indices,h1z=this.uvs;h1z[0]=0;h1z[1]=0;h1z[2]=0;h1z[3]=1;b1z[0]=1;b1z[1]=1;E1z[0]=0;E1z[1]=1;for(var K1z=this._texture.width*this.scaleTexture.x,N1z=this._texture.height*this.scaleTexture.y,y1z=this._totalDistance=sketch.Polygon.distance(S1z,true),C1z=this.stretch?y1z:K1z,Z1z=0,u1z=0,o1z=S1z[0],q1z=0;q1z<j1z;q1z++){var g1z=S1z[q1z];if(g1z){var J1z=o1z.x-g1z.x,o1z=o1z.y-g1z.y,o1z=g1z._segDistance=Math.sqrt(J1z*J1z+o1z*o1z),u1z=u1z+o1z,O1z=o1z/C1z;if(t1z.dynamicWidth&&!t1z.stretch){if(o1z=u1z/y1z,J1z=V9z(u1z,y1z,N1z,g1z),t1z.attackSustainDecay){var O1z=100/y1z,H1z=1-100/y1z;o1z<O1z?Z1z=u1z/K1z:o1z>H1z?Z1z=((o1z-H1z)/(K1z/y1z)+H1z)%H1z+H1z:J1z&&(Z1z=((o1z-O1z)/(K1z/y1z-(1-H1z+O1z))+O1z)%(H1z-O1z)+O1z);}else{J1z&&(O1z/=J1z),Z1z+=O1z;}}else{Z1z+=O1z;}o1z=4*q1z;h1z[o1z]=Z1z;h1z[o1z+1]=0;h1z[o1z+2]=Z1z;h1z[o1z+3]=1;o1z=2*q1z;b1z[o1z]=1;b1z[o1z+1]=1;o1z=2*q1z;E1z[o1z]=o1z;E1z[o1z+1]=o1z+1;o1z=g1z;}else{g1z=2*q1z,E1z[g1z]=g1z,E1z[g1z+1]=g1z+1;}}this.dirty++;this.indexDirty++;this.multiplyUvs();this.refreshVertices();}};e9z.prototype.refreshVertices=function(){var U1z=this;var d1z=this.points;if(!(1>d1z.length)){for(var e1z=this._totalDistance,X1z=this._texture.height*this.scaleTexture.y,G1z=this.bufferLength,m1z=this.vertices,W1z=0,l1z=d1z[0],B1z,f1z=0,D1z=0;D1z<G1z;D1z++){var Q1z=d1z[D1z];if(Q1z){f1z=d1z[D1z+1]||Q1z;B1z=X1z/2;U1z.dynamicWidth&&(W1z+=Q1z._segDistance||0,B1z*=V9z(W1z,e1z,X1z,Q1z));var z1z=f1z.y-l1z.y,l1z=-(f1z.x-l1z.x),f1z=Math.sqrt(z1z*z1z+l1z*l1z),z1z=z1z/f1z*B1z,l1z=l1z/f1z*B1z,f1z=D1z;B1z=4*D1z;m1z[B1z]=Q1z.x+z1z;m1z[B1z+1]=Q1z.y+l1z;m1z[B1z+2]=Q1z.x-z1z;m1z[B1z+3]=Q1z.y-l1z;l1z=Q1z;}else{B1z=4*D1z,m1z[B1z]=m1z[4*f1z],m1z[B1z+1]=m1z[4*f1z+1],m1z[B1z+2]=m1z[4*f1z+2],m1z[B1z+3]=m1z[4*f1z+3];}}}};e9z.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices();this.containerUpdateTransform();};var F9z={easing:P9z("cubic-bezier(0,1.06,.68,.89)"),span:2},p9z={easing:P9z("cubic-bezier(.43,.51,.44,.86)"),span:5};global.TileRope=e9z;}();void function(){function n4z(c4z,M4z){var T4z=null,I4z=new Promise(function(o4z){return T4z=o4z;});I4z.id=Date.now();I4z.type=c4z;I4z.resolve=T4z;I4z.close=function(){return p1z.hide(I4z);};Object.assign(I4z,I4z.options=M4z);return I4z;}function L1z(O4z){function G4z(){function F4z(V4z){if(O4z.labels[V4z]){var p4z=F1z.create("button");p4z.className="alertify-button alertify-button-"+V4z;p4z.id="alertify-"+V4z;p4z.innerHTML=O4z.labels[V4z];u4z.appendChild(p4z);return p4z;}}u4z=F1z.append(b4z,'<div class="alertify-footer"></div>');H4z=F4z("cancel");j4z=F4z("disregard");q4z=F4z("ok");}function e4z(){var P4z=F1z.create('<div class="alertify-prompt"></div>');Q4z.forEach(function(L4z){var a4z=L4z.id,R4z=L4z.value||"",i4z=L4z.title;L4z=L4z.type;var x4z=F1z.create('<span class="alertify-text" data-value="'+R4z+'">'+i4z+"</span>"),v4z;"textarea"===L4z?(v4z=F1z.create("textarea"),v4z.innerHTML=R4z):(v4z=F1z.create("input"),v4z.value=R4z,v4z.type=L4z);v4z.id=a4z;v4z.title=i4z;P4z.appendChild(x4z);P4z.appendChild(v4z);});E4z.appendChild(P4z);}function U4z(){h4z&&h4z.length?(h4z[0].focus(),h4z[0].select()):t4z.focus();}function m4z(){function w4z(){h4z&&h4z.length?(h4z.forEach(function(Y4z){var A4z=Y4z.id;Y4z=Y4z.value;A4z?N4z[A4z]=Y4z:N4z.push(Y4z);}),O4z.resolve({ok:true,values:N4z})):O4z.resolve({ok:true});l4z();}var k4z=O4z.verify;k4z?(k4z=k4z(h4z))&&(true===k4z?w4z():k4z.then&&k4z.then(w4z)):w4z();}function X4z(r7z){r7z.prevent();O4z.resolve({disregard:true});l4z();}function B4z(s7z){Gesture.prevent(s7z);l4z();}function d4z(n7z){var I7z=n7z.keyCode;I7z===w1z.ESC&&H4z?B4z(n7z):I7z===w1z.ENTER&&q4z===document.activeElement&&m4z(n7z);}function D4z(){W4z?h4z[0].focus():H4z?H4z.focus():q4z.focus();}function l4z(){p1z.hide(O4z);Gesture.off(document.body,"keyup",d4z);Gesture.off(z4z,"focus",D4z);q4z&&Gesture.off(q4z,"click",m4z);H4z&&Gesture.off(H4z,"click",B4z);j4z&&Gesture.off(j4z,"click",X4z);}var y4z=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},J4z=y4z.isNextInQueue,J4z=void 0===J4z?false:J4z,y4z=y4z.shouldTransition,f4z=void 0===y4z?true:y4z;O4z.opened=true;O4z.resize=function(){function c7z(h7z){if(null!=h7z){var y7z=g4z.style;y7z.width=h7z;y7z.maxWidth="auto"===h7z?"":h7z;}}function M7z(H7z){if(null!=H7z){var q7z=g4z.style;q7z.height=H7z;q7z.maxHeight="auto"===H7z?"":H7z;}}function g7z(){var E7z=40;if(u4z){for(var u7z=u4z.childNodes,Z7z=0;Z7z<u7z.length;Z7z++){E7z+=u7z[Z7z].offsetWidth;}}return E7z;}if("overlay"===K4z){c7z(""),M7z("");}else{var o7z=O4z.width,O7z=O4z.height;if("auto"===o7z&&"auto"===O7z){E4z=g4z.querySelector(".alertify-message");u4z=g4z.querySelector(".alertify-footer");var T7z=E4z.style;T7z.display="inline-block";T7z.maxHeight="";c7z("auto");M7z("auto");k1z(function(){return E4z.offsetWidth;}).then(function(j7z){j7z=Math.max(j7z+20,g7z());T7z.display="";c7z(j7z+"px");j7z=u4z&&u4z.offsetHeight||0;var J7z=Math.min(E4z.scrollHeight,window.innerHeight-j7z-50);T7z.maxHeight=J7z+"px";M7z(J7z+j7z+"px");});}else{c7z(o7z),M7z(O7z);}}};O4z.set=function(S7z,K7z){F1z.empty(g4z);O4z.type=S7z;L1z(Object.assign(O4z,K7z),{shouldTransition:false});return O4z;};R1z=O4z;var y4z=O4z.parentNode,S4z=false!==O4z.showCover,Z4z=O4z.$cover||(O4z.$cover=F1z.create('<div class="alertify-cover"></div>')),g4z=O4z.$alertify||(O4z.$alertify=F1z.create('<dialog open class="alertify"></dialog>'));f4z&&(g4z.style.opacity=0,Z4z.style.opacity=0,Z4z.style.display="none");S4z&&F1z.append(y4z,Z4z);F1z.append(y4z,g4z);var b4z=F1z.append(g4z,'<div class="alertify-dialog"></div>'),E4z=F1z.append(b4z,'<p class="alertify-message"></p>'),u4z=void 0,C4z=g4z.classList;J4z||JSEvent.onTransitionEnd(g4z).then(U4z);(function(){var b7z=O4z.type,t7z=O4z.content;"string"===typeof t7z&&(t7z=" "+t7z+" ");F1z.append(E4z,t7z);if("alert"===b7z||"overlay"===b7z){b7z=F1z.append(E4z,'<span class="icon-close"></span>'),Gesture.click(b7z,function(){p1z.hide(O4z);});}}());var q4z=null,H4z=null,j4z=null,K4z=O4z.type,Q4z=function(C7z){if(C7z){var N7z=[];"string"===typeof C7z&&(C7z=[C7z]);if(Array.isArray(C7z)){for(var l7z={"boolean":"checkbox",number:"number",string:"text"},m7z=0;m7z<C7z.length;m7z++){var f7z=C7z[m7z],B7z="undefined"===typeof f7z?"undefined":s4z(f7z);"object"===B7z?N7z.push(f7z):(B7z=l7z[B7z])&&N7z.push({type:B7z,placeholder:f7z});}}N7z.length||N7z.push({type:"text",placeholder:""});return N7z;}}(O4z.fields);switch(K4z){case"prompt":e4z();case"confirm":G4z();}var z4z=F1z.append(b4z,'<button class="alertify-resetFocus"></button>');Velocity(g4z,"stop");S4z&&Velocity(Z4z,"stop");setTimeout(function(){if(f4z){switch(K4z){case"notify":g4z.style.opacity=1;var Q7z=F1z.measure(g4z);Velocity(g4z,{top:[0,-1*Q7z.height]},{duration:100});break;default:Velocity(g4z,"fadeIn",{duration:100});}S4z&&Velocity(Z4z,"fadeIn",{duration:100});}Gesture.on(g4z.firstChild,"click",Gesture.stop);Gesture.click(Z4z,function(){return p1z.hide(O4z);});},1);var t4z=void 0,t4z="cancel"===p1z.focusButton?H4z||document.body:"none"===p1z.focusButton?document.body:q4z||document.body;Gesture.on(z4z,"focus",D4z);q4z&&Gesture.click(q4z,m4z);H4z&&Gesture.click(H4z,B4z);j4z&&Gesture.click(j4z,X4z);Gesture.on(document.body,"keyup",d4z);var h4z=F1z.$$(".alertify-prompt .alertify-text");h4z&&h4z.length&&Q4z.forEach(function(z7z,D7z){h4z[D7z].placeholder=z7z.placeholder||"";});U4z();var W4z=h4z&&h4z.length,N4z=[];k1z(function(){return!!g4z.offsetWidth;}).then(function(){g4z.className="alertify";C4z.add("alertify-"+K4z);var d7z=O4z.classList||[];"string"===typeof d7z&&(d7z=[d7z]);C4z.add.apply(C4z,d7z);S4z&&(Z4z.className="alertify-cover");Gesture.on(g4z,"mousedown",Gesture.stop);O4z.resize();});return O4z;}function a1z(W7z,X7z){if(X7z=r4z(X7z)){return X7z=A1z(X7z),X7z.parentNode=sketch.$container,alertify.dialog(W7z,X7z);}}function v1z(G7z,U7z){U7z=r4z(U7z);if(U7z.popover){return a1z(G7z,U7z);}if(v1z.dialog){var e7z=v1z.dialog;if(e7z.opened&&e7z.isPending()){return e7z.set(G7z,A1z(U7z));}}G7z=a1z(G7z,U7z);(U7z=G7z.$alertify.querySelector("alert-close-link"))&&Gesture.click(U7z,G7z.close);return v1z.dialog=G7z;}function A1z(){var p7z=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},F7z=p7z.labels||(p7z.labels={ok:"ok",cancel:"cancel"});F7z.ok&&(F7z.ok=i1z(F7z.ok||"ok"));F7z.cancel&&(F7z.cancel=i1z(F7z.cancel||"cancel"));F7z.disregard&&(F7z.disregard=i1z(F7z.disregard));null==p7z.width&&(p7z.width="auto");null==p7z.height&&(p7z.height="auto");return p7z;}function r4z(){var V7z=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(Y1z()){return"string"===typeof V7z||V7z.nodeName?{content:V7z}:V7z;}}function x1z(P7z,v7z,L7z){if(Y1z()){return alertify.setLogContainer(sketch.$container),alertify[P7z](v7z,L7z);}}function Y1z(){return"undefined"===typeof alertify?console.warn("alertify undefined"):true;}j.initSymbol();j.initSymbol();j.initSymbolIterator();var s4z="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(R7z){return typeof R7z;}:function(i7z){j.initSymbol();j.initSymbol();j.initSymbol();return i7z&&"function"===typeof Symbol&&i7z.constructor===Symbol&&i7z!==Symbol.prototype?"symbol":typeof i7z;},F1z=sketch.dom,k1z=sketch.util.waitFor,R1z=null,P1z=[],w1z={ENTER:13,ESC:27},p1z=global.alertify||(global.alertify={});p1z.dialogs=P1z;p1z.focusButton="ok";p1z.isVisible=function(){return F1z.$(".alertify");};p1z.dialog=function(k7z){var a7z=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if("string"!==typeof k7z){return Promise.reject("`type` must be a string.");}a7z.type=k7z;a7z.activeElement=document.activeElement;a7z.parentNode=a7z.parentNode||document.body;a7z.instant=false!==a7z.instant;a7z.showCover=false!==a7z.showCover;var x7z=n4z(k7z,a7z);a7z.instant?L1z(x7z):R1z||L1z(x7z);P1z.push(x7z);return x7z;};p1z.hide=function(w7z){function A7z(r6z){var s6z=r6z.$alertify,n6z=r6z.$cover;s6z.style.pointerEvents="none";n6z.style.pointerEvents="none";r6z.activeElement.focus();r6z.resolve({cancel:true});Velocity(s6z,"stop");Velocity(n6z,"stop");var I6z="fadeOut";"notify"===r6z.type&&(I6z={top:-1*F1z.measure(s6z).height});return Promise.map([{element:s6z,animation:I6z},{element:n6z,animation:"fadeOut"}],function(T6z){return Velocity(T6z.element,T6z.animation,{duration:150});}).finally(function(){s6z.remove();n6z.remove();r6z.opened=false;});}if(w7z){if("*"===w7z){return Promise.all(P1z.map(function(c6z){return p1z.hide(c6z);}));}var Y7z=w7z.id;return Y7z?new Promise(function(o6z){var M6z;a:{for(M6z=0;M6z<P1z.length;M6z++){if(P1z[M6z].id===Y7z){M6z=P1z.splice(M6z,1)[0];break a;}}M6z=void 0;}M6z?A7z(M6z).then(o6z):o6z();o6z=P1z[0];o6z=!o6z||o6z.opened?void 0:L1z(o6z,true);o6z||(R1z=null);}):Promise.reject("alertify.hide(...) id provided is undefined");}};p1z.resize=function(){P1z.forEach(function(O6z){O6z.resize&&O6z.resize();});};var V1z=sketch.ui,i1z=sketch.lang.translate||function(g6z){return g6z;};V1z.alert=function(h6z){return v1z("alert",h6z);};V1z.confirm=function(y6z){return v1z("confirm",y6z);};V1z.prompt=function(H6z){return v1z("prompt",H6z);};V1z.overlay=function(q6z){return v1z("overlay",q6z);};V1z.notify=function(Z6z){"string"===typeof Z6z&&(Z6z={content:Z6z});return a1z("notify",Object.assign({showCover:true},Z6z));};V1z.log=function(E6z,u6z){return x1z("log",E6z,u6z);};V1z.logError=function(j6z,J6z){return x1z("error",j6z,J6z);};V1z.logSuccess=function(S6z,K6z){return x1z("success",S6z,K6z);};void function(){function f6z(){var m6z=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document.body;b6z||(b6z=document.createElement("div"),b6z.id="alertify-logs",b6z.className="alertify-logs alertify-hidden",Gesture.on(b6z,"mousedown",Gesture.cancel),m6z.appendChild(b6z),m6z.setAttribute("tabindex","0"));}function C6z(z6z,D6z,d6z){f6z();b6z.className="alertify-logs";var l6z=N6z.append(b6z,'<div class="alertify-log alertify-log-hide alertify-log-'+D6z+'">'+z6z+"</div>"),Q6z=l6z.classList;setTimeout(function(){return Q6z.remove("alertify-log-hide");},40);B6z(l6z,d6z);return{$log:l6z,close:function(X6z){B6z(l6z,X6z);}};}function B6z(U6z,W6z){function G6z(){JSEvent.onTransitionEnd(U6z).then(function(){U6z.remove();if(!b6z.hasChildNodes()){var e6z=b6z.classList;JSEvent.onTransitionEnd(b6z).then(function(){return e6z.add("alertify-hidden");});e6z.add("alertify-logs-hide");}});U6z.classList.add("alertify-log-hide");}U6z&&(0===W6z?G6z():Infinity!==W6z&&false!==W6z&&(Gesture.on(U6z,"click",G6z),W6z=Number.isFinite(W6z)?W6z:t6z.logDelay,setTimeout(G6z,W6z)));}var t6z=global.alertify||(global.alertify={}),N6z=sketch.dom,b6z=void 0;t6z.logDelay=2E3;t6z.setLogContainer=f6z;t6z.isLogVisible=function(){return N6z.$(".alertify-logs")&&!N6z.$(".alertify-logs.alertify-hidden");};t6z.log=function(F6z,p6z){return C6z(F6z,"",p6z);};t6z.success=function(V6z,P6z){return C6z(V6z,"success",P6z);};t6z.error=function(v6z,L6z){return C6z(v6z,"error",L6z);};t6z.warn=function(R6z,i6z){return C6z(R6z,"warn",i6z);};}();}();void function(){function a6z(w6z,Y6z,A6z){return w6z<Y6z?Y6z:w6z>A6z?A6z:w6z;}j.initSymbol();j.initSymbol();j.initSymbolIterator();var x6z="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(r8v){return typeof r8v;}:function(s8v){j.initSymbol();j.initSymbol();j.initSymbol();return s8v&&"function"===typeof Symbol&&s8v.constructor===Symbol&&s8v!==Symbol.prototype?"symbol":typeof s8v;};sketch.color=sketch.color||{};sketch.color.picker=function(){function o8v(f8v,N8v,B8v){var t8v=T8v.satval,C8v=T8v.hue,j8v=T8v.alpha,Z8v=n8v.canvas,u8v=n8v.ctx;u8v.clearRect(0,0,Z8v.width,Z8v.height);var Z8v=n8v.ctx,J8v=I8v({H:n8v.color.H,S:100,V:100},"HSV>RGB>HEX24>W3");I8v.HEX_RGB("0x"+J8v);var E8v=n8v.offset+.5,S8v=T8v.satval.width,K8v=T8v.satval.height;Z8v.save();Z8v.fillStyle=n8v.interlace;Z8v.fillRect(E8v,n8v.offset,T8v.satval.width,T8v.satval.height);Z8v.globalAlpha=n8v.color.A/255;Z8v.fillStyle=M8v(J8v,"satval");Z8v.fillRect(E8v,E8v,S8v,K8v);J8v=Z8v.createLinearGradient(E8v,E8v,S8v+E8v,0);J8v.addColorStop(0,M8v("rgba(255, 255, 255, 1)","satval"));J8v.addColorStop(1,M8v("rgba(255, 255, 255, 0)","satval"));Z8v.fillStyle=J8v;Z8v.fillRect(E8v,E8v,S8v,K8v);J8v=Z8v.createLinearGradient(0,E8v,0,K8v+E8v);J8v.addColorStop(0,"rgba(0, 0, 0, 0)");J8v.addColorStop(1,"rgba(0, 0, 0, 1)");Z8v.fillStyle=J8v;Z8v.fillRect(E8v,E8v,S8v,K8v);Z8v.lineWidth=.5;Z8v.strokeStyle="rgba(0, 0, 0, 0.5)";Z8v.strokeRect(E8v,E8v,S8v,K8v);Z8v.restore();Z8v=n8v.ctx;E8v=Math.floor(n8v.offset)+.5;S8v=Math.floor(T8v.satval.width+n8v.margin+n8v.offset)+.5;K8v=Math.ceil(T8v.hue.width);J8v=Math.ceil(T8v.hue.height);Z8v.fillStyle=n8v.interlace;Z8v.fillRect(S8v,E8v,K8v,J8v);var b8v=Z8v.createLinearGradient(0,0,0,J8v+n8v.offset);b8v.addColorStop(0,M8v("rgba(255, 0, 0, 1)","hue"));b8v.addColorStop(0.8333333333333334,M8v("rgba(255, 255, 0, 1)","hue"));b8v.addColorStop(0.6666666666666666,M8v("rgba(0, 255, 0, 1)","hue"));b8v.addColorStop(.5,M8v("rgba(0, 255, 255, 1)","hue"));b8v.addColorStop(0.3333333333333333,M8v("rgba(0, 0, 255, 1)","hue"));b8v.addColorStop(0.16666666666666666,M8v("rgba(255, 0, 255, 1)","hue"));b8v.addColorStop(1,M8v("rgba(255, 0, 0, 1)","hue"));Z8v.save();Z8v.globalAlpha=n8v.color.A/255;Z8v.fillStyle=b8v;Z8v.fillRect(S8v,E8v,K8v,J8v);Z8v.lineWidth=.5;Z8v.strokeStyle="rgba(0, 0, 0, 0.5)";Z8v.strokeRect(S8v,E8v,K8v,J8v);Z8v.restore();j8v.enable&&(Z8v=n8v.ctx,E8v=T8v.satval.width+2*n8v.margin+T8v.hue.width+n8v.offset,Z8v.fillStyle=n8v.interlace,Z8v.fillRect(E8v,n8v.offset,T8v.alpha.width,T8v.satval.height),S8v=I8v.HSV_RGB({H:n8v.color.H,S:n8v.color.S,V:n8v.color.V}),K8v=Z8v.createLinearGradient(0,0,0,T8v.satval.height),S8v.A=255,K8v.addColorStop(0,M8v(I8v.RGBA_W3(S8v),"alpha")),S8v.A=0,K8v.addColorStop(1,M8v(I8v.RGBA_W3(S8v),"alpha")),Z8v.fillStyle=K8v,Z8v.fillRect(E8v,n8v.offset,T8v.alpha.width,T8v.satval.height),Z8v.strokeStyle=n8v.strokeColor,Z8v.strokeRect(E8v+.5,n8v.offset+.5,T8v.alpha.width-1,T8v.satval.height-1));Z8v=I8v(n8v.color,"HSVA>RGBA");E8v=I8v(Z8v,"RGB>HEX24>W3");n8v.feature.hexInput&&(sketch.dom.text.setValue(n8v.$input,E8v.substr(1)),n8v.hexCode.style.backgroundColor=I8v(Z8v,"RGBA>W3"));u8v.save();j8v.enable&&(u8v.globalAlpha=j8v.enable?1:0,j8v=t8v.width+2*n8v.margin+C8v.width+j8v.width+n8v.offset,E8v=(255-n8v.color.A)/255*t8v.height-2,u8v.drawImage(n8v.arrow,j8v+2,Math.round(E8v)+n8v.offset-1));C8v&&(u8v.globalAlpha=C8v.enable?1:0,j8v=t8v.width+n8v.margin+n8v.offset+C8v.width,E8v=(360-n8v.color.H)/362*t8v.height-2,E8v=Math.round(E8v)+n8v.offset-1,u8v.drawImage(n8v.arrow,j8v+2,E8v),u8v.beginPath(),u8v.moveTo(j8v-C8v.width,E8v+3.5),u8v.lineTo(j8v,E8v+3.5),u8v.strokeStyle="rgba(255,255,255,0.5)",u8v.stroke(),u8v.beginPath(),u8v.moveTo(j8v-C8v.width,E8v+4.5),u8v.lineTo(j8v,E8v+4.5),u8v.strokeStyle="rgba(0,0,0,0.5)",u8v.stroke());t8v&&(u8v.globalAlpha=t8v.enable?1:0,j8v=n8v.color.S/100*t8v.width,E8v=(1-n8v.color.V/100)*t8v.height,j8v-=n8v.circle.width/2,E8v-=n8v.circle.height/2,u8v.drawImage(n8v.circle,Math.round(j8v)+n8v.offset,Math.round(E8v)+n8v.offset));u8v.restore();if(n8v.onchange&&N8v&&B8v){n8v.onchange(n8v.toString(Z8v),N8v,f8v);}}function M8v(m8v,l8v){if(true===T8v[l8v].enable){return m8v;}m8v="rgba"===m8v.substr(0,4)?I8v(m8v,"W3>RGBA"):I8v(m8v,"W3>HEX32>RGBA");l8v=Math.round(.33*m8v.R+.33*m8v.G+.33*m8v.B);return"rgba("+l8v+","+l8v+","+l8v+","+m8v.A/255*.42+")";}function q8v(Q8v){function X8v(U8v,G8v){U8v.intercept(function(e8v){e8v.prevent();G8v(e8v);e8v.START?(e8v.stop(),D8v.style.cursor="crosshair"):e8v.END&&(D8v.style.cursor="default");});}var D8v=Q8v.element,z8v=Q8v.config,d8v=document.createElement("canvas"),W8v=d8v.getContext("2d");Q8v.canvas=d8v;Q8v.ctx=W8v;D8v.appendChild(d8v);Q8v.draggable&&Gesture.drag(D8v,{position:"move",listener:function(F8v){D8v.style.left=F8v.x+"px";D8v.style.top=F8v.y+"px";F8v.prevent();}});Gesture.drag(d8v,function(p8v){p8v.prevent();p8v.START&&Gesture.blur();var V8v=Q8v.margin/2,P8v=p8v.y-V8v,V8v=a6z(p8v.x-V8v,0,d8v.width);a6z(P8v,0,d8v.height);if("cp-input"===p8v.target.className){p8v.START&&p8v.stop(),D8v.style.cursor="text";}else{if(V8v<=z8v.satval.width){return z8v.satval.enable&&p8v.intercept(function(v8v){v8v.prevent();var L8v=a6z(v8v.x-Q8v.offset,0,z8v.satval.width),R8v=a6z(v8v.y-Q8v.offset,0,z8v.satval.height);Q8v.color.S=L8v/z8v.satval.width*100;Q8v.color.V=100-R8v/z8v.satval.height*100;o8v(v8v,v8v.state,true);v8v.START?(v8v.stop(),D8v.style.cursor="crosshair"):v8v.END&&(D8v.style.cursor="default");}),false;}if(V8v>z8v.satval.width+Q8v.margin&&V8v<=z8v.satval.width+Q8v.margin+Q8v.offset+z8v.hue.width){return z8v.hue.enable&&X8v(p8v,function(i8v){var a8v=z8v.satval.height,x8v=a6z(i8v.y-Q8v.offset,0,a8v);Q8v.color.H=360-360*Math.min(1,x8v/a8v);o8v(i8v,i8v.state,true);}),false;}if(z8v.alpha&&V8v>z8v.satval.width+z8v.alpha.width+2*Q8v.margin&&V8v<=z8v.satval.width+2*Q8v.margin+Q8v.offset+2*z8v.alpha.width){return z8v.alpha.enable&&X8v(p8v,function(k8v){var w8v=z8v.satval.height,Y8v=a6z(k8v.y-Q8v.offset,0,w8v);Q8v.color.A=255*(1-Math.min(1,Y8v/w8v));o8v(k8v,k8v.state,true);}),false;}if(Q8v.draggable){return p8v.intercept(function(A8v){A8v.prevent();if(A8v.START){var r2v=Gesture._getElementMetrics(D8v);A8v.env.x=A8v.x-r2v.x1;A8v.env.y=A8v.y-r2v.y1;}var r2v=A8v.x-A8v.env.x,s2v=A8v.y-A8v.env.y,n2v=window.innerWidth,I2v=window.innerHeight,T2v=D8v.offsetWidth,c2v=D8v.offsetHeight;r2v+T2v>n2v&&(r2v=n2v-T2v);s2v+c2v>I2v&&(s2v=I2v-c2v);0>r2v&&(r2v=0);0>s2v&&(s2v=0);D8v.style.left=r2v+"px";D8v.style.top=s2v+"px";A8v.START?D8v.style.cursor="move":A8v.END&&(D8v.style.cursor="default");}),false;}p8v.END&&(D8v.style.cursor="default");}});}function H8v(O2v){var o2v=n8v.$indicator=document.createElement("div");o2v.className="cp-indicator";n8v.interlace.data&&(o2v.style.backgroundImage="url("+n8v.interlace.data+")");O2v.appendChild(o2v);var g2v=n8v.hexCode=document.createElement("div");o2v.appendChild(g2v);var h2v=/[^a-f0-9]/gi,M2v=n8v.$input=document.createElement("input");M2v.className="cp-input";M2v.size=6;M2v.type="text";O2v.appendChild(M2v);Gesture.on(M2v,"mousedown",Gesture.stop);Gesture.on(M2v,["keydown","change"],function(y2v){var H2v=y2v.keyCode;Gesture.stop(y2v);setTimeout(function(){var Z2v=M2v.value.replace(h2v,"").substr(0,6),q2v=I8v("#"+Z2v,"W3>HEX24");16777215<q2v&&(q2v=16777215);0>q2v&&(q2v=0);if(!isNaN(q2v)){if("keydown"===y2v.type){if(40===H2v){q2v=Math.max(0,q2v-(y2v.shiftKey?10:1)),sketch.dom.text.setValue(M2v,I8v(q2v,"HEX24>W3").substr(1));}else if(38===H2v){q2v=Math.min(16777215,q2v+(y2v.shiftKey?10:1)),sketch.dom.text.setValue(M2v,I8v(q2v,"HEX24>W3").substr(1));}else if((!Keyster.meta||86!==H2v)&&6!==Z2v.length){return;}}n8v.update(I8v(q2v,"HEX24>RGB"),"end",GEvent.END());}},50);27===H2v&&n8v.blur();});}function y8v(u2v){var E2v=document.createElement("div");E2v.className="cp-close icon-close";sketch.emit("tooltip:attach",E2v,"Close Color Picker");Gesture.on(E2v,"mousedown",Gesture.cancel);Gesture.click(E2v,n8v.onClose||function(j2v){j2v.cancel();n8v.hide();});u2v.appendChild(E2v);}function h8v(J2v){"string"===typeof J2v?J2v="hsla"===J2v.substr(0,4)?I8v(J2v,"W3>HSLA>RGBA>HSVA"):"rgba"===J2v.substr(0,4)?I8v(J2v,"W3>RGBA>HSVA"):"rgb"===J2v.substr(0,3)?I8v(J2v,"W3>RGB>HSV"):sketch.color.webcolors.hasOwnProperty(J2v)?I8v(sketch.color.webcolors[J2v],"W3>HEX24>RGB>HSV"):I8v(J2v,"W3>HEX24>RGB>HSV"):"undefined"!==typeof J2v.R&&(J2v=I8v(J2v,"RGB>HSV"));"undefined"===typeof J2v.A&&(J2v.A=255);return J2v;}var c8v=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n8v=Galactic.emitter(this),I8v=sketch.color.space,g8v={light:{arrow:"000",interlace:{size:8,color1:"#fff",color2:"#eee"}},dark:{arrow:"#fff",interlace:{size:8,color1:"#fff",color2:"#eee"}}};n8v.init=function(){sketch.ui=sketch.ui||{};n8v.state="colorPicker";n8v.pixelRatio=1;n8v.color=h8v(c8v.color||"#000000");n8v.parentNode=k6z.$(c8v.parentNode)||document.body;n8v.margin=c8v.margin||10;n8v.offset=n8v.margin/2;n8v.strokeColor=c8v.strokeColor||"rgba(255,255,255,0.15)";n8v.feature=c8v.feature||{};n8v.draggable=!!c8v.draggable;n8v.format=c8v.format||"rgba";n8v.theme=g8v[c8v.theme||"dark"];var K2v=n8v.theme.arrow,b2v=document.createElement("canvas"),S2v=b2v.getContext("2d"),t2v=5.333333333333333;b2v.width=16;b2v.height=16;for(var C2v=0;20>C2v;C2v++){S2v.beginPath(),S2v.fillStyle=K2v,S2v.moveTo(0,4),S2v.lineTo(4,0),S2v.lineTo(4,8),S2v.fill();}S2v.translate(-t2v,-16);n8v.arrow=b2v;K2v=document.createElement("canvas");K2v.width=10;K2v.height=10;b2v=K2v.getContext("2d");b2v.lineWidth=1;b2v.beginPath();S2v=K2v.width/2;t2v=K2v.width/2;b2v.arc(S2v,t2v,4.5,0,2*Math.PI,true);b2v.strokeStyle="#000000";b2v.stroke();b2v.beginPath();b2v.arc(S2v,t2v,3.5,0,2*Math.PI,true);b2v.strokeStyle="#FFFFFF";b2v.stroke();n8v.circle=K2v;S2v=n8v.theme.interlace;K2v=S2v.size;b2v=S2v.color1;t2v=S2v.color2;S2v=document.createElement("canvas").getContext("2d");S2v.canvas.width=2*K2v;S2v.canvas.height=2*K2v;S2v.fillStyle=b2v;S2v.fillRect(0,0,K2v,K2v);S2v.fillStyle=t2v;S2v.fillRect(K2v,0,K2v,K2v);S2v.fillStyle=t2v;S2v.fillRect(0,K2v,K2v,K2v);S2v.fillStyle=b2v;S2v.fillRect(K2v,K2v,K2v,K2v);K2v=S2v.createPattern(S2v.canvas,"repeat");try{K2v.data=S2v.canvas.toDataURL();}catch(N2v){}n8v.interlace=K2v;n8v.onchange=c8v.onchange;n8v.onClose=c8v.onClose;K2v=n8v.modules=c8v.modules||{hue:true,satval:true,alpha:true};b2v=n8v.config={};K2v.hue&&(S2v=K2v.hue,b2v.hue={column:0,enable:!c8v.modules||S2v.enable||false,width:isFinite(S2v.width)?S2v.width:30,height:isFinite(S2v.height)?S2v.height:150});K2v.satval&&(S2v=K2v.satval,b2v.satval={column:1,enable:!c8v.modules||S2v.enable||false,width:isFinite(S2v.width)?S2v.width:150,height:isFinite(S2v.height)?S2v.height:150});K2v.alpha&&(S2v=K2v.alpha,b2v.alpha={column:2,enable:!c8v.modules||S2v.enable||false,width:isFinite(S2v.width)?S2v.width:30,height:isFinite(S2v.height)?S2v.height:150});K2v=n8v.element=document.createElement("div");K2v.classList.add("sk-colorpicker");c8v.className&&(K2v.className=c8v.className);c8v.style&&(K2v.style.cssText=c8v.style);n8v.parentNode.appendChild(K2v);b2v=document.createElement("div");b2v.className="cp-header";n8v.feature.hexInput&&H8v(b2v);n8v.feature.closeButton&&y8v(b2v);K2v.appendChild(b2v);q8v(n8v);return n8v;};n8v.update=function(Q2v,z2v,d2v){z2v=z2v||"update";Q2v&&(n8v.color=h8v(Q2v));O8v.alpha.enable||(n8v.color.A=255);var m2v=0,l2v=0,f2v=-1,D2v;for(D2v in T8v){var B2v=T8v[D2v];false!==B2v.enable&&(m2v+=B2v.width+n8v.margin+n8v.offset-5,f2v!==B2v.row&&(l2v+=B2v.height+n8v.margin,f2v=B2v.row));}m2v*=n8v.pixelRatio;l2v*=n8v.pixelRatio;f2v=n8v.canvas;if(f2v.width!==m2v||f2v.height!==l2v){f2v.width=m2v,f2v.height=l2v,f2v.style.marginLeft=-n8v.offset+"px";}o8v(d2v,z2v,!!Q2v);};n8v.toggle=function(X2v){return"boolean"===typeof X2v?X2v?n8v.show():n8v.hide():n8v.element.classList.contains("opened")?n8v.hide():n8v.show();};n8v.show=function(){var W2v=n8v.element;W2v.classList.add("opened");W2v.style.display="block";window.clearTimeout(W2v.interval);};n8v.hide=function(){var U2v=n8v.element;U2v.classList.remove("opened");U2v.interval=setTimeout(function(){U2v.style.display="none";},250);};n8v.destroy=function(){var G2v=n8v.element,e2v=G2v.parentNode;e2v&&e2v.removeChild(G2v);};n8v.toString=function(F2v){F2v=F2v||n8v.color;isFinite(F2v.H)&&(F2v=I8v(F2v,"HSVA>RGBA"));return 255===F2v.A?I8v(F2v,"RGB>HEX24>W3"):I8v(F2v,"RGBA>W3");};n8v.init();var O8v=n8v.modules,T8v=n8v.config;n8v.update();};var k6z={$:function(p2v,V2v){return("undefined"===typeof p2v?false:"object"===x6z(p2v))?p2v:(V2v||document).querySelector(p2v);}};}();void function(){function P2v(x2v){if(!x2v||("undefined"===typeof x2v?true:"object"!=v2v(x2v))){return x2v;}var k2v=new x2v.constructor(),w2v;for(w2v in x2v){k2v[w2v]=P2v(x2v[w2v]);}return k2v;}function a2v(Y2v,r0v,s0v){var A2v=document.createElement("canvas").getContext("2d");A2v.canvas.width=2*Y2v;A2v.canvas.height=2*Y2v;A2v.fillStyle=r0v;A2v.fillRect(0,0,Y2v,Y2v);A2v.fillStyle=s0v;A2v.fillRect(Y2v,0,Y2v,Y2v);A2v.fillStyle=s0v;A2v.fillRect(0,Y2v,Y2v,Y2v);A2v.fillStyle=r0v;A2v.fillRect(Y2v,Y2v,Y2v,Y2v);Y2v=A2v.createPattern(A2v.canvas,"repeat");Y2v.data=A2v.canvas.toDataURL();return Y2v;}j.initSymbol();j.initSymbol();j.initSymbolIterator();var v2v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(n0v){return typeof n0v;}:function(I0v){j.initSymbol();j.initSymbol();j.initSymbol();return I0v&&"function"===typeof Symbol&&I0v.constructor===Symbol&&I0v!==Symbol.prototype?"symbol":typeof I0v;};sketch.ui.ColorPickerSlider=function(){var c0v=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},O0v=sketch.color.space,q0v=sketch.dom,T0v=this,y0v=c0v.width||405,h0v=c0v.height||35,Z0v=c0v.color,K0v=!!c0v.enableDragElement,b0v=!!c0v.hideOnBlur,E0v=c0v.id,S0v=c0v.type,H0v=c0v.display,u0v=c0v.parentNode||document.body,J0v=a2v(8,"rgba(40,40,40,1)","rgba(0,0,0,1)"),M0v={},g0v=P2v(R2v),o0v=P2v(i2v),j0v={};T0v.onblur=c0v.onblur;T0v.onfocus=c0v.onfocus;T0v.onchange=c0v.onchange;T0v.value=Z0v;T0v.set=function(C0v,B0v,W0v){if("string"===typeof C0v){var t0v=sketch.colorSpace(C0v).color;o0v.values={R:t0v.R,G:t0v.G,B:t0v.B,A:o0v.values.A};g0v.values=O0v(o0v.values,"RGB>HSL");}else if("string"===typeof B0v){var t0v="HSL"===B0v?g0v:o0v,f0v;for(f0v in C0v){t0v.values[f0v]=C0v[f0v];}"HSL"===B0v.substr(0,3)?(C0v=o0v.values.A,o0v.values=O0v.HSL_RGB(t0v.values),o0v.values.A=C0v):"RGB"===B0v.substr(0,3)&&(g0v.values=O0v.RGB_HSL(t0v.values));}t0v=o0v.values;C0v=g0v.values;B0v=t0v.A/100;f0v={};M0v.Hue&&(f0v.Hue=[[0,[0,C0v.S,C0v.L]],[.15,[300,C0v.S,C0v.L]],[.3,[240,C0v.S,C0v.L]],[.5,[180,C0v.S,C0v.L]],[.65,[120,C0v.S,C0v.L]],[.85,[60,C0v.S,C0v.L]],[1,[0,C0v.S,C0v.L]]]);M0v.Saturation&&(f0v.Saturation=[[0,[C0v.H,100,C0v.L]],[1,[C0v.H,0,C0v.L]]]);M0v.Luminance&&(f0v.Luminance=[[0,[C0v.H,C0v.S,100]],[.5,[C0v.H,C0v.S,50]],[1,[C0v.H,C0v.S,0]]]);M0v.Red&&(f0v.Red=[[0,[255,t0v.G,t0v.B,B0v]],[1,[0,t0v.G,t0v.B,B0v]]]);M0v.Green&&(f0v.Green=[[0,[t0v.R,255,t0v.B,B0v]],[1,[t0v.R,0,t0v.B,B0v]]]);M0v.Blue&&(f0v.Blue=[[0,[t0v.R,t0v.G,255,B0v]],[1,[t0v.R,t0v.G,0,B0v]]]);M0v.Alpha&&(f0v.Alpha=[[0,[t0v.R,t0v.G,t0v.B,1]],[1,[t0v.R,t0v.G,t0v.B,0]]]);for(var N0v in M0v){;}var l0v=M0v[N0v],X0v=l0v.canvas.offsetLeft-l0v.control.firstChild.offsetWidth;for(N0v in f0v){if(l0v=M0v[N0v]){for(var m0v=l0v.canvas.getContext("2d"),z0v=m0v.createLinearGradient(0,0,y0v,0),D0v=0,U0v=f0v[N0v].length;D0v<U0v;D0v++){var d0v=f0v[N0v][D0v];if(g0v.named[N0v]){var Q0v=O0v.HSL_RGB({H:d0v[1][0],S:d0v[1][1],L:d0v[1][2]});z0v.addColorStop(d0v[0],"rgba("+(Q0v.R>>0)+","+(Q0v.G>>0)+","+(Q0v.B>>0)+", "+B0v+")");}else{Q0v=d0v[1],z0v.addColorStop(d0v[0],"rgba("+(Q0v[0]>>0)+","+(Q0v[1]>>0)+","+(Q0v[2]>>0)+", "+Q0v[3]+")");}}m0v.clearRect(0,0,y0v,h0v);m0v.fillStyle=z0v;m0v.fillRect(0,0,y0v,h0v);g0v.named[N0v]?(m0v=Math.round(C0v[N0v.substr(0,1)]),z0v=m0v/g0v.named[N0v]):(m0v=Math.round(t0v[N0v.substr(0,1)]),z0v=m0v/o0v.named[N0v]);D0v=y0v+1;l0v.control.style.left=parseInt(D0v-z0v*D0v+X0v)+"px";l0v=l0v.input;parseInt(l0v.value)!==m0v&&(l0v.value=m0v);}}N0v=O0v.isW3Contrast(t0v);t0v=O0v(t0v,"RGB>HEX24>W3");T0v.$hex.style.color=N0v?"#FFF":"#000";T0v.$hex.style.backgroundColor=t0v;q0v.text.setValue(T0v.$hex,t0v);W0v&&(N0v=T0v.onchange,j0v.hex!==t0v&&(j0v.hex=t0v,N0v(t0v,W0v)));};Object.defineProperties(T0v,{display:{set:function(G0v){H0v=!!G0v;T0v.$element.style.display=G0v?"block":"none";},get:function(){return H0v;}}});T0v.toggle=function(e0v){"undefined"===typeof e0v&&(e0v="block"!==T0v.$element.style.display);T0v.display=!!e0v;};T0v.destroy=function(){u0v.removeChild(T0v.$element);};(function(P0v){function w0v(r3v){Gesture.stop(r3v);var n3v=this.parentNode.title,I3v="HSL"===v0v[n3v]?g0v:o0v,s3v=0;if("keydown"===r3v.type){var A0v=r3v.shiftKey?10:1;40===r3v.keyCode?s3v=-1*A0v:38===r3v.keyCode&&(s3v=A0v);}A0v=parseInt(this.value.replace(/[^0-9]/g,""));A0v=Math.max(0,Math.min(this.max,A0v+s3v));I3v.values[n3v.substr(0,1)]=A0v;A0v!==parseInt(this._previousValue)&&(this._previousValue=A0v,T0v.set(null,I3v.type,r3v.type));27===r3v.keyCode&&this.blur();}function k0v(c3v){var M3v=c3v.keyCode,T3v=p0v.value.replace(L2v,"").substr(1,7),T3v=parseInt("0x"+T3v);"keydown"===c3v.type&&(40===M3v?(T3v=Math.max(0,T3v-(c3v.shiftKey?10:1)),p0v.value=O0v(T3v,"HEX24>W3")):38===M3v&&(T3v=Math.min(16777215,T3v+(c3v.shiftKey?10:1)),q0v.text.setValue(p0v,O0v(T3v,"HEX24>W3"))));"NaN"!==String(T3v)&&(16777215<T3v&&(T3v=16777215),0>T3v&&(T3v=0),T0v.set(O0v(T3v,"HEX>RGB"),"RGB",c3v.type),27===c3v.keyCode&&this.blur());}function Y0v(o3v,O3v,g3v){return function(h3v){Gesture.handlers.drag({position:"absolute",event:h3v,target:M0v[o3v].canvas,listener:function(q3v){q3v.cancel();var H3v=q3v.bbox,y3v=H3v.width,H3v=1-Math.max(0,Math.min(y3v,q3v.x-H3v.x1+1))/y3v,y3v=O3v.values;y3v[o3v.substr(0,1)]=Math.round(H3v*O3v.named[o3v]);T0v.set(y3v,v0v[o3v],q3v.state);g3v.focus();}});};}var v0v={};-1!==P0v.indexOf("HSL")&&(v0v.Hue="HSL",v0v.Saturation="HSL",v0v.Luminance="HSL");-1!==P0v.indexOf("RGB")&&(v0v.Red="RGB",v0v.Green="RGB",v0v.Blue="RGB");if(-1!==P0v.indexOf("RGBA")||-1!==P0v.indexOf("HSLA")){v0v.Alpha="RGB";}var L0v=T0v.$element=document.createElement("div");E0v&&(L0v.id=E0v);L0v.className="sk-colorpicker-slider";if(b0v){Gesture.on(document.body,"mousedown",function(Z3v){T0v.display&&(Z3v=Gesture.asPageXY(Z3v),q0v.elementFromPoint(Z3v,function(E3v){return E3v.classList.contains("sk-colorpicker-slider");})||T0v.toggle(false));},{capture:true});}u0v.appendChild(L0v);if(K0v){Gesture.on(L0v,"drag",function(u3v){u3v.cancel();L0v.style.left=u3v.x+"px";L0v.style.top=u3v.y+"px";},{position:"move"});}var p0v=document.createElement("input");p0v.id="HEX";p0v.className="hex-input";p0v.type="text";p0v.onmousedown=Gesture.stop;L0v.appendChild(p0v);T0v.$hex=p0v;Gesture.on(p0v,"keydown",k0v);Gesture.on(p0v,"keyup",k0v);Gesture.on(p0v,"keypress",k0v);Gesture.on(p0v,"change",k0v);for(var i0v in v0v){var a0v="HSL"===v0v[i0v]?g0v:o0v;P0v=document.createElement("div");P0v.title=i0v;P0v.className="color-selector";if("Red"===i0v){var F0v=document.createElement("div");F0v.className="break";L0v.appendChild(F0v);}F0v=document.createElement("input");F0v.max=a0v.max[i0v.substr(0,1)];F0v.min=0;F0v.className="input";F0v.setAttribute("type","text");Gesture.on(F0v,"keydown",w0v);Gesture.on(F0v,"keyup",w0v);Gesture.on(F0v,"keypress",w0v);Gesture.on(F0v,"change",w0v);P0v.appendChild(F0v);var a0v=Y0v(i0v,a0v,F0v),x0v=document.createElement("div");Gesture.on(x0v,"mousedown",a0v);x0v.className="controller";x0v.style.height=h0v+10+"px";var V0v=document.createElement("div");V0v.style.height=h0v+8+"px";x0v.appendChild(V0v);P0v.appendChild(x0v);V0v=document.createElement("canvas");Gesture.on(V0v,"mousedown",a0v);V0v.style.cssText="background: url("+J0v.data+")";V0v.height=h0v;V0v.width=y0v;P0v.appendChild(V0v);var R0v=document.createElement("div");Gesture.on(R0v,"mousedown",a0v);R0v.className="name";R0v.innerHTML=i0v.toUpperCase();P0v.appendChild(R0v);L0v.appendChild(P0v);R0v.style.width=V0v.width+"px";R0v.style.top=h0v/2-R0v.offsetHeight/2+"px";R0v.style.left=V0v.offsetLeft+"px";M0v[i0v]={input:F0v,canvas:V0v,control:x0v};}}(S0v||"HSL+RGB"));T0v.set(Z0v);T0v.toggle(H0v);};var L2v=/^[0-9a-fA-F]+$/,R2v={type:"HSL",named:{Hue:360,Saturation:100,Luminance:100},values:{H:0,S:100,L:50},max:{H:360,S:100,L:100}},i2v={type:"RGB",named:{Red:255,Green:255,Blue:255,Alpha:100},values:{R:0,G:0,B:0,A:100},max:{R:255,G:255,B:255,A:100}};}();void function(){function C3v(G3v,f3v,U3v,B3v,l3v,W3v,d3v,X3v,z3v){var D3v=z3v.onClose,Q3v=z3v.onOpen,m3v=false!==z3v.useBackdrop;f3v.isVisible=function(){return!!B3v.classList.contains("open");};f3v.toggle=function(){f3v.isVisible()?f3v.hide():f3v.show();};f3v.show=function(){var e3v=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};f3v.isVisible()||(clearTimeout(f3v.hide.timeout),function(p3v){var F3v=Gesture.on(l3v,"mouseup",Gesture.cancel);setTimeout(F3v.detach,p3v);}(300),function(){var V3v=m3v?l3v:B3v;V3v.style.zIndex=999999;sketch.$container.appendChild(V3v);setTimeout(function(){return V3v.classList.add("open");},0);}(),function(){var R3v=e3v.element||B3v,v3v=B3v.style;v3v.display="block";v3v.height="";v3v.width="";v3v.minWidth="";var a3v=window.innerWidth,x3v=window.innerHeight,P3v=j3v.measure(U3v),L3v=j3v.measure(B3v);if(R3v=j3v.getCoordinateAt(R3v,e3v)){var P3v=R3v.y,i3v=R3v.x,k3v=L3v.height,L3v=L3v.width;0>x3v-P3v-k3v&&(P3v-=k3v);0>a3v-i3v-L3v&&(i3v-=L3v);0>P3v&&(.5>R3v.y/x3v?(k3v=x3v-R3v.y,P3v=R3v.y):(k3v+=P3v,P3v=0));0>i3v&&(L3v+=i3v,i3v=0);v3v.top=P3v+"px";v3v.left=i3v+"px";v3v.width=L3v+"px";v3v.height=k3v+"px";}else{R3v=Math.max(P3v.width,L3v.width),i3v=L3v.x1,a3v-=L3v.x2,k3v=Math.max(i3v,a3v),v3v.minWidth=P3v.width+"px",a3v>=R3v?v3v.left=P3v.x1+"px":i3v>=R3v?v3v.left=P3v.x2-R3v+"px":(v3v.width=k3v+"px",v3v.left=i3v>a3v?0:P3v.x1+"px"),L3v=L3v.height,a3v=P3v.y1,x3v-=P3v.y2,R3v=Math.max(a3v,x3v),x3v>=L3v?v3v.top=P3v.y2+"px":a3v>=L3v?v3v.top=P3v.y1-L3v+"px":(v3v.height=R3v+"px",v3v.top=a3v>x3v?"0px":P3v.y2+"px");}}(),X3v(),W3v.focus(),Q3v&&Q3v.apply(f3v.bindTo),d3v(["open"]));};f3v.hide=function(){var w3v=f3v.element.querySelector(".ui-focus-element");w3v&&w3v.blur();f3v.hide.timeout=setTimeout(function(){m3v?l3v.classList.remove("open"):B3v.classList.remove("open");f3v.hide.timeout=setTimeout(function(){var Y3v=B3v.style;Y3v.position="";Y3v.left="";Y3v.top="";Y3v.display="none";m3v?l3v.remove():B3v.remove();},250);},0);D3v&&D3v.apply(f3v.bindTo);d3v(["close"]);};}function N3v(r5v,s5v){var A3v=s5v.id;A3v&&(r5v.id=A3v);if(A3v=s5v.title){r5v.title=A3v;}J3v(r5v,s5v);}function J3v(c5v,T5v){var I5v=T5v.className;if(I5v){var n5v=c5v;I5v&&("string"===typeof n5v&&(n5v=document.querySelector(n5v)),n5v&&(n5v=n5v.classList,"string"===typeof I5v?n5v.add(I5v):n5v.add.apply(n5v,t3v(I5v))));}if(T5v=T5v.cssText){c5v.style.cssText+=T5v;}}function S3v(o5v){var M5v=S3v.node||(S3v.node=document.createElement("span"));M5v.innerHTML=o5v;return M5v.innerText;}var j3v=sketch.dom;j.initSymbol();j.initSymbol();j.initSymbolIterator();var b3v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(O5v){return typeof O5v;}:function(g5v){j.initSymbol();j.initSymbol();j.initSymbol();return g5v&&"function"===typeof Symbol&&g5v.constructor===Symbol&&g5v!==Symbol.prototype?"symbol":typeof g5v;},t3v=function(h5v){if(Array.isArray(h5v)){for(var y5v=0,H5v=Array(h5v.length);y5v<h5v.length;y5v++){H5v[y5v]=h5v[y5v];}return H5v;}return Array.from(h5v);},K3v={};sketch.ui.SelectMenu=function(E5v){function P5v(){if(q5v.selectedElement){var a5v=Gesture._getElementMetrics(q5v.selectedElement),x5v=Gesture._getElementMetrics(Z5v),k5v=x5v.height-a5v.height,a5v=a5v.y1-x5v.y1;0>a5v?Z5v.scrollTop+=a5v:a5v>k5v&&(Z5v.scrollTop+=a5v-k5v);}}function R5v(Y5v){var w5v=performance.now();150<w5v-q5v.lastTimeOpen&&Y5v(w5v);}function L5v(A5v){sketch.emit("tooltip:hide");R5v(function(r9v){q5v.lastTimeOpen=r9v;q5v.toggle();});}function v5v(s9v){Gesture.prevent(s9v);var n9v=s9v.keyCode;if(27===n9v||13===n9v){Gesture.stop(s9v),q5v.hide();}else if(s9v=0,40===n9v&&s9v++,38===n9v&&s9v--,s9v){var n9v=s9v,I9v=q5v.selected;s9v=t5v.length-1;I9v=t5v.indexOf(I9v);I9v=l5v.clamp(I9v+n9v,0,s9v);I9v=t5v[I9v];q5v.setValue(I9v);}else{i5v(n9v);}}function z5v(){j5v.blur();}function i5v(M9v){function o9v(g9v,h9v){for(var O9v=0;O9v<g9v.length&&h9v[O9v]===g9v[O9v];O9v++){;}return O9v;}if(8===M9v){j5v.value="";}else{var T9v=void 0,c9v=0;requestAnimationFrame(function(){var q9v=j5v.value.toLowerCase();if(null!==q9v[0]){clearTimeout(j5v.timeout);j5v.timeout=setTimeout(function(){j5v.value="";},1E3);for(var Z9v in b5v){var H9v=b5v[Z9v],y9v=H9v.translation,y9v=H9v.nohtml||(H9v.nohtml=S3v(y9v));(y9v=o9v(y9v.toLowerCase(),q9v))&&y9v>c9v&&(T9v=H9v.id,c9v=y9v);}T9v&&q5v.setValue(T9v);}});}}function V5v(){S5v.empty(Z5v);b5v={};t5v=[];var u9v=q5v.options,E9v;if(Array.isArray(u9v)){E9v=true;}else{var j9v=E9v=true,K9v;for(K9v in u9v){var J9v=u9v[K9v];J9v.label||J9v.content||(E9v=false);"string"!==typeof J9v&&(j9v=false);}E9v=E9v||j9v;}if(E9v){e5v(u9v);}else{for(var S9v in u9v){E9v=u9v[S9v],j9v=document.createElement("span"),j9v.innerHTML=S9v,j9v.className="optgroup",Z5v.appendChild(j9v),e5v(E9v);}}U5v();}function d5v(b9v){q5v.emit.apply(q5v.bindTo,b9v);}function e5v(t9v){function N9v(B9v){if(B9v.element){return{content:B9v.element,translation:B9v.element.textContent,eventOverride:B9v.eventOverride};}console.warn("element returned by label handler is missing",arguments);return{};}function f9v(m9v,l9v){switch("undefined"===typeof m9v?"undefined":b3v(m9v)){case"function":return m9v=m9v(l9v),m9v instanceof HTMLElement?{content:m9v,translation:m9v.textContent}:"string"===typeof m9v?{content:m9v,translation:m9v.textContent}:N9v(m9v);case"object":return N9v(m9v);default:return{content:m9v,translation:m9v.textContent};}}function C9v(Q9v){function F9v(p9v){Gesture.cancel(p9v);250<performance.now()-q5v.lastTimeOpen&&(q5v.setValue(d9v),q5v.hide(),U9v&&U9v.apply(q5v.bindTo));}var d9v=Q9v.id,W9v=Q9v.className,U9v=Q9v.onclick,z9v=Q9v.prepare,e9v=Q9v.enabled;if("<ui-break></ui-break>"===Q9v.content){S5v.append(Z5v,Q9v.content);}else{var X9v=S5v.append(Z5v,"<li></li>");X9v.dataset.optionId=d9v;var D9v=S5v.append(X9v,'<span class="sk-selectmenu-item"></span>'),G9v=S5v.append(D9v,'<span class="sk-selectmenu-option"></span>');W9v&&X9v.classList.add(W9v);z9v&&z9v(X9v);z9v=f9v(Q9v.content,G9v);Q9v=z9v.content;W9v=z9v.translation;z9v=z9v.eventOverride;t5v.push(d9v);b5v[d9v]={id:d9v,content:Q9v,onclick:U9v,enabled:e9v,translation:W9v,target:D9v};Gesture.on(D9v,"mousedown",Gesture.cancel);z9v||(W5v.mobile?Gesture.click(D9v,F9v):(Gesture.on(D9v,"mouseup",F9v),Gesture.on(D9v,"mouseover",function(){return G5v(X9v,"sk-hovered");})));Q9v instanceof HTMLElement?G9v.appendChild(Q9v):G9v.innerHTML=Q9v;D5v&&d9v===q5v.selected&&D9v.classList.add("sk-selected");}}Array.isArray(t9v)?t9v.forEach(function(V9v){var P9v=V9v.label||V9v.content;P9v?C9v({id:P9v,className:V9v.className,enabled:V9v.enabled,content:P9v,onclick:V9v.onclick,prepare:V9v.prepare}):C9v({id:V9v,content:V9v});}):l5v.forEach(t9v,function(v9v,L9v){C9v({id:L9v,content:v9v.label||v9v.content||v9v,enabled:v9v.enabled,onclick:v9v.onclick,prepare:v9v.prepare});});}function G5v(R9v){R9v=R9v.querySelector(".sk-selectmenu-item");var i9v=Z5v.querySelectorAll(".sk-selectmenu-item");S5v.addClass(R9v,"sk-hovered",i9v);}function U5v(){if(B5v){var a9v=b5v[q5v.selected];a9v&&(N5v.innerHTML=a9v.content);}}var S5v=sketch.dom,W5v=sketch.agent,l5v=sketch.util;if(E5v){var q5v=Galactic.emitter(this);q5v.bindTo=E5v.bindTo||this;var m5v=E5v.id,p5v=E5v.selected,X5v=E5v.options,J5v=S5v.$(E5v.parentNode),u5v=E5v.icon,f5v=E5v.tooltip,Q5v=E5v.onchange,B5v=false!==E5v.useHeader,F5v=false!==E5v.useKeyboard,D5v=false!==E5v.useSelectable,C5v=document.createElement("ui-selectmenu");N3v(C5v,E5v);J5v.appendChild(C5v);var j5v=S5v.createFocusNode();C5v.appendChild(j5v);var N5v=J5v=void 0;if(B5v){J5v=document.createElement("ui-selectmenu-header");N5v=document.createElement("span");N5v.className="data-header";J5v.appendChild(N5v);var K5v=void 0;u5v?0===u5v.indexOf("http")||0===u5v.indexOf(".")?(K5v=document.createElement("img"),K5v.src=u5v):(K5v=document.createElement("span"),K5v.className=u5v):(K5v=document.createElement("span"),K5v.className=E5v.labelIcon||"icon-arrow-down");J5v.appendChild(K5v);C5v.appendChild(J5v);f5v&&sketch.emit("tooltip:attach",J5v,f5v,{stickToEdge:true});}var Z5v=document.createElement("ul");Z5v.className="sk-selectmenu";u5v=document.createElement("ui-selectmenu-cover");u5v.appendChild(Z5v);Gesture.on(Z5v,"contextmenu",Gesture.cancel);Gesture.on(u5v,"contextmenu",Gesture.cancel);J3v(Z5v,E5v);J3v(u5v,E5v);Gesture.on(Z5v,"mouseout",function(x9v){x9v=Gesture.asPageXY(x9v);S5v.elementFromPoint(x9v,function(k9v){return k9v===Z5v;})||(x9v=Z5v.querySelector(".sk-hovered"))&&x9v.classList.remove("sk-hovered");});q5v.setValue=function(w9v){var A9v=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};w9v=w9v.toString();if(q5v.selected!==w9v){var Y9v=b5v[w9v];Y9v&&(Y9v=Y9v.target,q5v.selectedElement=Y9v,q5v.selected=w9v,D5v&&S5v.addClass(Y9v,"sk-selected",Z5v.querySelectorAll(".sk-selectmenu-item")),P5v(),U5v(),A9v.quiet||(Q5v&&Q5v.apply(q5v.bindTo,[w9v]),d5v(["change",w9v])));}};Gesture.on(j5v,"focus",function(){Gesture.on(sketch.$container,"click",z5v);});Gesture.on(j5v,"blur",function(){Gesture.off(sketch.$container,"click",z5v);q5v.lastTimeOpen=0;q5v.hide();});Gesture.on(u5v,"mousedown",Gesture.cancel);Gesture.click(u5v,z5v);if(F5v){Gesture.on(j5v,["keydown","keypress"],v5v);}B5v&&(Gesture.on(J5v,"mousedown",Gesture.cancel),Gesture.drag(J5v,function(r1v){var s1v=r1v.env;if(r1v.START){L5v(r1v);}else if(r1v.CHANGE){if(r1v=r1v.elementFromPoint("li")){var n1v=r1v.dataset.optionId;n1v&&(s1v.optionId=n1v,G5v(r1v,"sk-hovered"));}}else{s1v.optionId&&r1v.hasMoved(15)&&(q5v.setValue(s1v.optionId),q5v.hide());}}));var t5v=void 0,b5v=void 0;K3v[m5v]=q5v;q5v.element=C5v;q5v.ul=Z5v;q5v.id=m5v;q5v.options=X5v;q5v.selected=p5v;q5v.tooltip=f5v;q5v.refreshOptions=V5v;q5v.lastTimeOpen=0;C3v(K3v,q5v,J5v,Z5v,u5v,j5v,d5v,P5v,E5v);V5v();return q5v;}};}();void function(){function g1v(){var h1v=sketch.$container;return M1v&&h1v.contains(M1v)?M1v:M1v=O1v.append(h1v,'\n\t\t<div class="context-menus" style="position: absolute; top: -1px; left: -1px; width: 0; height: 0; overflow: hidden;"></div>\n\t');}var O1v=sketch.dom,o1v=sketch.ui,I1v=o1v.contextMenu={},T1v=I1v.items={},M1v=void 0,c1v=void 0;I1v.opened=false;I1v.add=function(H1v,y1v){y1v=new o1v.SelectMenu({id:"sk-menu-"+H1v,className:[H1v,"sk-contextmenu"],useHeader:false,useBackdrop:true,useSelectable:false,useKeyboard:false,parentNode:g1v(),options:y1v});y1v.on("open",function(){I1v.opened=true;I1v.id=H1v;});y1v.on("close",function(){I1v.opened=false;c1v=I1v.id=void 0;});return T1v[H1v]=y1v;};I1v.rebuildOptions=function(){for(var q1v in T1v){T1v[q1v].refreshOptions();}};I1v.listen=function(Z1v,E1v){Gesture.on(Z1v,"contextmenu",function(u1v){Gesture.cancel(u1v);I1v.show(E1v,{at:{element:Z1v,align:lang.rtl?"top right to top left":"top left to top right"}});});};I1v.getSelectMenu=function(){var j1v=sketch.doc;return 1===j1v.selection.length?T1v.selectSingle:j1v.selection.length?T1v.selectMultiple:T1v.selectDefault;};I1v.show=function(S1v){var K1v=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},J1v;J1v=S1v;J1v="string"===typeof J1v?T1v[J1v]?T1v[J1v]:"select"===J1v?I1v.getSelectMenu():void 0:J1v;(S1v=J1v)?c1v&&c1v.id===S1v.id||(I1v.hide(),c1v=S1v,S1v.show(K1v),sketch.emit("tooltip:hide")):console.error("contextMenu.show(...) Menu not found.",K1v);};I1v.hide=function(){c1v&&c1v.hide();c1v=void 0;};}();void function(){var C1v=function(f1v){if(Array.isArray(f1v)){for(var B1v=0,m1v=Array(f1v.length);B1v<f1v.length;B1v++){m1v[B1v]=f1v[B1v];}return m1v;}return Array.from(f1v);},b1v=sketch.dom,N1v=sketch.lang,t1v=sketch.ui;t1v.setElementAttributes=function(z1v,D1v){for(var Q1v in D1v){var l1v=D1v[Q1v];switch(Q1v){case"value":case"icon":break;case"className":if(l1v&&l1v.length){var d1v;(d1v=z1v.classList).add.apply(d1v,C1v(l1v.split(" ")));}break;case"tooltip":sketch.emit("tooltip:attach",z1v,l1v,{stickToEdge:true});break;default:Q1v.startsWith("on")?z1v.events[Q1v]=Gesture.on(z1v,Q1v.substr(2),l1v):"string"!==typeof l1v&&"number"!==typeof l1v&&"boolean"!==typeof l1v||z1v.setAttribute(Q1v,l1v);}}};t1v.ButtonGroup=function(W1v){var U1v=W1v.onchange,G1v=W1v.options,e1v=W1v.selected,X1v=b1v.create("ui-button-group");Gesture.on(X1v,"mousedown",Gesture.stop);G1v.forEach(function(F1v){var p1v=t1v.Button({value:F1v,parentNode:X1v,className:F1v===e1v?"selected":"",onclick:function(){b1v.addClass(p1v,"selected","ui-button");U1v(F1v);}});});return X1v;};t1v.Button=function(P1v){P1v=Object.assign({className:"sk-button"},P1v);var v1v=P1v.parentNode,L1v=P1v.icon,R1v=P1v.value,V1v=b1v.create("ui-button");v1v&&v1v.appendChild(V1v);L1v&&b1v.append(V1v,'\n\t\t\t<ui-button-icon class="'+L1v+'"></ui-button-icon>\n\t\t');R1v&&b1v.append(V1v,'\n\t\t\t<span class="sk-tool-title">'+N1v.translate(R1v)+"</span>\n\t\t");V1v.events={};t1v.setElementAttributes(V1v,P1v);return V1v;};}();void function(){var a1v=sketch.dom,i1v=sketch.ui;i1v.Checkbox=function(x1v){function w1v(n4v){x1v.setValue(n4v);k1v.classList.toggle("sk-checked",n4v);}x1v instanceof i1v.dataTypes.Checkbox||(x1v=new i1v.dataTypes.Checkbox(x1v));var r4v=x1v.checked,A1v=x1v.parentNode,k1v=a1v.create("\n\t\t<ui-checkbox>\n\t\t\t<div>\n\t\t\t\t<span></span>\n\t\t\t</div>\n\t\t</ui-checkbox>\n\t"),s4v=k1v.querySelector("div"),Y1v=k1v.querySelector("span");i1v.configElement(k1v,x1v);Gesture.drag(k1v,function(c4v){c4v.cancel();var T4v=c4v.env;if(c4v.START){k1v.classList.add("sk-moving");var M4v=x1v.checked,I4v=a1v.measure(Y1v,{box:"padding"}),o4v=a1v.measure(s4v,{box:"padding"});T4v.width=o4v.width-I4v.width;T4v.offset=M4v?T4v.width:0;T4v.checked=M4v;}!T4v.hasMoved&&c4v.hasMoved(5)&&(T4v.hasMoved=true);I4v=T4v.width;M4v=Math.max(0,Math.min(I4v,Math.min(I4v,c4v.x)+T4v.offset));a:{I4v=M4v/I4v;if(o4v=!!x1v.checked){if(.5>I4v){w1v(false);I4v=false;break a;}}else if(.5<I4v){w1v(true);I4v=true;break a;}I4v=o4v;}c4v.DOWN?Y1v.style.left=M4v+"px":(Y1v.style.left="",k1v.classList.remove("sk-moving"),T4v.hasMoved||w1v(!I4v));},{position:"difference"});k1v.classList.toggle("sk-checked",r4v);A1v&&A1v.appendChild(k1v);return{attr:x1v,element:k1v,toggle:function(){w1v(!x1v.checked);},setValue:function(O4v){w1v(O4v);}};};}();void function(){function h4v(H4v){function b4v(Q4v,d4v){var z4v=Q4v;u4v?H4v.setValue(Math.max(H4v.min,Math.min(H4v.max,z4v))):H4v.setValue(z4v);z4v=H4v.value;q4v.classList.toggle("bounds-error",z4v!==Q4v);var D4v=H4v.format;Q4v="function"===typeof D4v?D4v(Q4v):u4v?d4v||Number.isFinite(Q4v)?m4v(Q4v):"":"number"===Z4v?z4v||0:z4v||"";"number"===Z4v?q4v.value=Q4v:y4v.text.setValue(q4v,Q4v);K4v();}function t4v(){var X4v=parseFloat(q4v.value.replace(/[^-.0-9]/g,""));return"%"===H4v.format&&10>=H4v.max?Math.min(1,X4v/100):X4v;}function m4v(W4v){var U4v=H4v.format;if("function"===typeof U4v){return U4v(W4v);}switch(U4v){case"int":case"integer":case"number":return Math.round(W4v);case"float":return W4v.toFixed(2);case"degree":return S4v(W4v)+String.fromCharCode(176);case"%":return 10>=H4v.max?Math.round(100*W4v)+"%":Math.round(W4v)+"%";case"px":return S4v(W4v)+"px";case"x":return S4v(W4v)+"x";case"em":return S4v(W4v)+"em";default:return S4v(W4v)+U4v;}}function S4v(G4v){return 10<=H4v.max&&10<=G4v?Math.round(G4v):Math.round(10*G4v)/10;}function B4v(){J4v();}function l4v(){q4v.value=m4v(Math.max(H4v.min,Math.min(H4v.max,H4v.value)));Gesture.on(q4v,["keydown","change"],function(e4v){e4v=e4v.keyCode;if(38===e4v||40===e4v){if("number"!==Z4v){var p4v="any"===H4v.step?"%"===H4v.format&&10>=H4v.max?.01:1:H4v.step,F4v=t4v();38===e4v&&(F4v+=p4v);40===e4v&&(F4v-=p4v);b4v(F4v);j4v();}}else{190!==e4v&&J4v();}});}function J4v(){cancelAnimationFrame(J4v.id);J4v.id=requestAnimationFrame(function(){b4v(t4v());j4v();});}function j4v(){var V4v=H4v.value;V4v!==j4v.value&&(j4v.value=V4v,N4v&&N4v.call(H4v,V4v));}function K4v(){var P4v=H4v.value;P4v!==K4v.value&&(K4v.value=P4v,f4v&&f4v.call(H4v,P4v));}var E4v=g4v.dataTypes.Input;H4v instanceof E4v||(H4v=new E4v(H4v));var E4v=H4v.parentNode,Z4v=H4v.type,N4v=H4v.onchange,f4v=H4v.oninput,u4v="_number_"===Z4v,C4v="number"===Z4v,q4v=function(){var v4v;"textarea"===Z4v?v4v=g4v.createElement("textarea",H4v):(v4v=g4v.createElement("input",H4v),v4v.type=u4v?"text":Z4v);H4v.disabled&&v4v.setAttribute("disabled",true);v4v.setAttribute("tabindex",1);return v4v;}();q4v.$setValue=b4v;Gesture.on(q4v,"focus",function(){j4v.value=H4v.value;K4v.value=H4v.value;Gesture.on(q4v,"wheel",B4v);});Gesture.on(q4v,"blur",function(){Gesture.off(q4v,"wheel",B4v);b4v(t4v(),true);j4v();});Gesture.on(q4v,"mousedown",Gesture.stop);if(C4v||u4v){q4v.step=H4v.step,q4v.min=H4v.min,q4v.max=H4v.max,q4v.inputmode="numeric";}u4v?l4v():(C4v&&(q4v.pattern="d*"),q4v.value=H4v.value,Gesture.on(q4v,["keydown","change"],J4v));E4v&&E4v.appendChild(q4v);return q4v;}var y4v=sketch.dom,g4v=sketch.ui;sketch.ui.Input=h4v;sketch.ui.Textarea=h4v;}();void function(){j.initSymbol();j.initSymbol();j.initSymbolIterator();var L4v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(R4v){return typeof R4v;}:function(i4v){j.initSymbol();j.initSymbol();j.initSymbol();return i4v&&"function"===typeof Symbol&&i4v.constructor===Symbol&&i4v!==Symbol.prototype?"symbol":typeof i4v;};sketch.ui.Range=function(w4v){function O7v(h7v,y7v){var g7v=y7v.gradient;if(g7v){var H7v=h7v.createLinearGradient(0,0,(y7v.barWidth||233)*devicePixelRatio,0),q7v=g7v.length-1||1;g7v.forEach(function(Z7v,E7v){H7v.addColorStop(E7v/q7v,Z7v);});h7v.fillStyle=H7v;}else{h7v.fillStyle=y7v.fillStyle||"#555";}}function c7v(u7v,j7v){if(Number.isFinite(u7v)){return u7v;}u7v=parseFloat(u7v);return isNaN(u7v)?j7v:u7v;}var a4v=this,T7v=w4v.onchange,n7v=w4v.parent,k4v=a4v.thumbs=[],I7v=a4v.values=function(J7v){var S7v=[];if(null==J7v){return[];}for("number"===typeof J7v?J7v=[J7v]:"string"===typeof J7v&&(J7v=-1!==J7v.indexOf(",")?J7v.split(","):J7v.split(" "));J7v.length;){var K7v=parseFloat(J7v.shift());S7v.push(K7v);}return S7v;}(w4v.value,0);a4v.min=c7v(w4v.min,0);a4v.max=c7v(w4v.max,100);a4v.step=c7v(w4v.step,1);a4v.format=w4v.format;a4v.env={};true===w4v.canCross?(a4v.canCross=true,a4v.canPush=false):false===w4v.canPush?(a4v.canCross=false,a4v.canPush=false):(a4v.canCross=false,a4v.canPush=true);a4v.setValue=function(b7v){var t7v="undefined"===typeof b7v?"undefined":L4v(b7v);"number"===t7v?b7v=Array(k4v.length).fill(b7v):"object"===t7v&&false===Array.isArray(b7v)&&(b7v=[b7v.min,b7v.max]);b7v.forEach(function(N7v,C7v){k4v[C7v].value=N7v;a4v.update(C7v,"set");});};var x4v=document.createElement("ui-range"),r7v=document.createElement("ui-range-track");x4v.appendChild(r7v);for(var o7v=0,A4v=I7v.length,r7v=0;r7v<A4v;r7v++){var M7v=document.createElement("ui-range-thumb");x4v.appendChild(M7v);k4v.push({element:M7v,index:r7v,left:0,value:I7v[r7v]});}var s7v=void 0,Y4v=void 0;2===A4v&&(s7v=document.createElement("ui-range-coverage"),Y4v=document.createElement("ui-range-coverage"),Y4v.style.display="none",x4v.appendChild(s7v),x4v.appendChild(Y4v));a4v.element=x4v;a4v.setAnimate=function(f7v,m7v){f7v=k4v[f7v].element;var B7v=f7v.style.left;x4v.classList.toggle("animate",m7v);f7v.style.left=B7v;};a4v.update=function(P7v,p7v){function V7v(R7v){if(d7v<l7v.left){for(var v7v=l7v.index-1;-1<v7v;v7v--){var L7v=k4v[v7v];L7v.left>d7v&&R7v(L7v,v7v);}}else{for(v7v=l7v.index+1;v7v<A4v;v7v++){L7v=k4v[v7v],L7v.left<d7v&&R7v(L7v,v7v);}}}var D7v=2<arguments.length&&void 0!==arguments[2]?arguments[2]:GEvent.END(),Q7v=P7v||0,l7v=k4v[Q7v],z7v=l7v.element,X7v=x4v.offsetWidth||201,G7v=z7v.offsetWidth||10,e7v=G7v/2,F7v="construct"!==p7v;a4v.gevent=D7v;a4v.state=p7v||"change";a4v.canCross||a4v.canPush||((D7v=k4v[l7v.index+1])&&D7v.value<l7v.value&&(l7v.value=D7v.value),(D7v=k4v[l7v.index-1])&&D7v.value>l7v.value&&(l7v.value=D7v.value));var W7v=l7v.value,U7v=Math.max(0,Math.min(1,(W7v-a4v.min)/(a4v.max-a4v.min)))*(X7v-G7v),d7v=void 0;a4v.canPush&&(d7v=U7v+e7v,F7v&&V7v(function(i7v,a7v){i7v.left=d7v;i7v.value=W7v;I7v[a7v]=W7v;i7v.element.style.left=U7v/X7v*100+"%";T7v(a4v,i7v);}));l7v.left=U7v+e7v;I7v[Q7v]=W7v;z7v.style.left=U7v/X7v*100+"%";F7v&&T7v(a4v,l7v);2===A4v&&(Q7v=k4v[0].left,z7v=k4v[1].left,Q7v<=z7v?(s7v.style.left=Math.min(Q7v,z7v)+"px",s7v.style.width=Math.abs(Q7v-z7v)+"px",Y4v.style.display="none"):(s7v.style.left="0px",s7v.style.width=z7v+"px",Y4v.style.left=Q7v+"px",Y4v.style.width=X7v-Q7v+"px",Y4v.style.display="block"));};Gesture.drag(x4v,function(k7v){k7v.cancel();if(k7v.START){for(var A7v=k7v.env,r6v=void 0,x7v=Number.MAX_SAFE_INTEGER,w7v=0;w7v<A4v;w7v++){var Y7v=k4v[w7v],s6v=Y7v.left-k7v.x,n6v=Math.abs(s6v);if(0>s6v&&n6v<=x7v||-1<s6v&&n6v<x7v){x7v=n6v,r6v=Y7v;}}if(null==(A7v.thumb=r6v)){console.error("Closest thumb could not be found.");k7v.intercept(null);return;}}A7v=k7v.env.thumb;r6v=A7v.index;x7v=A7v.element;x7v.style.zIndex=++o7v;a4v.setAnimate(r6v,!k7v.CHANGE);w7v=x4v.offsetWidth||201;Y7v=x7v.offsetWidth;Y7v=Math.max(0,Math.min(w7v-Y7v,k7v.x-Y7v/2))/(w7v-Y7v);k7v.START?(w7v="start",x4v.classList.add("active"),x7v.classList.add("active"),Gesture.blur()):k7v.END?(w7v="end",x4v.classList.remove("active"),x7v.classList.remove("active")):w7v="change";a:switch(x7v=Y7v*(a4v.max-a4v.min)+a4v.min,a4v.format){case"int":A7v.value=Math.round(x7v);break a;default:A7v.value=sketch.util.round(x7v,.01);}a4v.update(r6v,w7v,k7v);});n7v&&n7v.appendChild(x4v);x4v.className=w4v.className;x4v.style.cssText=function(){var o6v="";if(!sketch.feature.ui||!sketch.feature.ui.customRangeBar){var c6v={gradient:w4v.gradient||[global.getComputedStyle(x4v).color||"black"],barWidth:x4v.offsetWidth||201};c6v.dash||(c6v.dash={});sketch.ui.rangeStyle?sketch.util.assignDeep(c6v,sketch.ui.rangeStyle):c6v.top=8;var o6v=(c6v.top||0)*devicePixelRatio,H6v=(c6v.left||0)*devicePixelRatio,y6v=(c6v.barWidth||233)*devicePixelRatio,h6v=(c6v.barHeight||8)*devicePixelRatio,O6v=o6v+h6v,I6v=c6v.dash;I6v.height=I6v.height||6;I6v.heightSmall=I6v.heightSmall||3;I6v.lineWidth=I6v.lineWidth||1;I6v.globalAlpha=I6v.globalAlpha||1;I6v.position=I6v.position||"top";var M6v=document.createElement("canvas"),T6v=M6v.getContext("2d");M6v.width=y6v+1;M6v.height=h6v+I6v.height+o6v;M6v.style.width=M6v.width/devicePixelRatio+"px";M6v.style.height=M6v.height/devicePixelRatio+"px";T6v.clearRect(H6v,o6v,M6v.width,M6v.height);var J6v=0,Z6v=y6v-2;T6v.save();T6v.beginPath();T6v.lineWidth=I6v.lineWidth;T6v.globalAlpha=I6v.globalAlpha;T6v.lineWidth=devicePixelRatio/2;T6v.strokeStyle="white";for(var O6v="bottom"===I6v.position?O6v-5:o6v-1,j6v=I6v.height,u6v=I6v.heightSmall,q6v=0;q6v<=Z6v+1;q6v+=Z6v/10){var g6v=J6v++%5?u6v:j6v,g6v="bottom"===I6v.position?O6v+g6v:O6v-g6v,E6v=Math.round(q6v+H6v+1)+.5;T6v.beginPath();T6v.moveTo(E6v,Math.round(O6v)+.5);T6v.lineTo(E6v,Math.round(g6v)+.5);T6v.stroke();}T6v.restore();c6v.gradient&&(O7v(T6v,c6v),c6v=H6v+.5,T6v.rect(c6v,o6v+.5,c6v+y6v,h6v),T6v.fill());o6v="\n\t\t\t\tbackground-image: url("+M6v.toDataURL()+");\n\t\t\t\tbackground-size: 100% "+M6v.style.height+";\n\t\t\t";}return o6v;}();for(n7v=0;n7v<A4v;n7v++){a4v.update(n7v,"construct"),a4v.state="load";}setTimeout(function(){for(var S6v=0;S6v<A4v;S6v++){a4v.setAnimate(S6v,true);}},150);};}();(function(){var K6v=function(t6v){var b6v=new K6v.Builder();b6v.pipeline.add(K6v.trimmer,K6v.stopWordFilter,K6v.stemmer);b6v.searchPipeline.add(K6v.stemmer);t6v.call(b6v,b6v);return b6v.build();};K6v.version="2.1.5";K6v.utils={};K6v.utils.warn=function(C6v){return function(N6v){C6v.console&&console.warn&&console.warn(N6v);};}(this);K6v.utils.asString=function(f6v){return void 0===f6v||null===f6v?"":f6v.toString();};K6v.FieldRef=function(B6v,m6v,l6v){this.docRef=B6v;this.fieldName=m6v;this._stringValue=l6v;};K6v.FieldRef.joiner="/";K6v.FieldRef.fromString=function(z6v){var Q6v=z6v.indexOf(K6v.FieldRef.joiner);if(-1===Q6v){throw"malformed field ref string";}var D6v=z6v.slice(0,Q6v),Q6v=z6v.slice(Q6v+1);return new K6v.FieldRef(Q6v,D6v,z6v);};K6v.FieldRef.prototype.toString=function(){void 0==this._stringValue&&(this._stringValue=this.fieldName+K6v.FieldRef.joiner+this.docRef);return this._stringValue;};K6v.idf=function(W6v,U6v){var d6v=0,X6v;for(X6v in W6v){"_index"!=X6v&&(d6v+=Object.keys(W6v[X6v]).length);}return Math.log(1+Math.abs((U6v-d6v+.5)/(d6v+.5)));};K6v.Token=function(G6v,e6v){this.str=G6v||"";this.metadata=e6v||{};};K6v.Token.prototype.toString=function(){return this.str;};K6v.Token.prototype.update=function(F6v){this.str=F6v(this.str,this.metadata);return this;};K6v.Token.prototype.clone=function(p6v){p6v=p6v||function(V6v){return V6v;};return new K6v.Token(p6v(this.str,this.metadata),this.metadata);};K6v.tokenizer=function(P6v){if(null==P6v||void 0==P6v){return[];}if(Array.isArray(P6v)){return P6v.map(function(k6v){return new K6v.Token(K6v.utils.asString(k6v).toLowerCase());});}P6v=P6v.toString().trim().toLowerCase();for(var i6v=P6v.length,R6v=[],v6v=0,L6v=0;v6v<=i6v;v6v++){var x6v=P6v.charAt(v6v),a6v=v6v-L6v;if(x6v.match(K6v.tokenizer.separator)||v6v==i6v){0<a6v&&R6v.push(new K6v.Token(P6v.slice(L6v,v6v),{position:[L6v,a6v],index:R6v.length})),L6v=v6v+1;}}return R6v;};K6v.tokenizer.separator=/[\s\-]+/;K6v.Pipeline=function(){this._stack=[];};K6v.Pipeline.registeredFunctions=Object.create(null);K6v.Pipeline.registerFunction=function(w6v,Y6v){Y6v in this.registeredFunctions&&K6v.utils.warn("Overwriting existing registered function: "+Y6v);w6v.label=Y6v;K6v.Pipeline.registeredFunctions[w6v.label]=w6v;};K6v.Pipeline.warnIfFunctionNotRegistered=function(A6v){A6v.label&&A6v.label in this.registeredFunctions||K6v.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",A6v);};K6v.Pipeline.load=function(s8f){var r8f=new K6v.Pipeline();s8f.forEach(function(I8f){var n8f=K6v.Pipeline.registeredFunctions[I8f];if(n8f){r8f.add(n8f);}else{throw Error("Cannot load unregistered function: "+I8f);}});return r8f;};K6v.Pipeline.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(T8f){K6v.Pipeline.warnIfFunctionNotRegistered(T8f);this._stack.push(T8f);},this);};K6v.Pipeline.prototype.after=function(c8f,M8f){K6v.Pipeline.warnIfFunctionNotRegistered(M8f);c8f=this._stack.indexOf(c8f);if(-1==c8f){throw Error("Cannot find existingFn");}this._stack.splice(c8f+1,0,M8f);};K6v.Pipeline.prototype.before=function(o8f,O8f){K6v.Pipeline.warnIfFunctionNotRegistered(O8f);o8f=this._stack.indexOf(o8f);if(-1==o8f){throw Error("Cannot find existingFn");}this._stack.splice(o8f,0,O8f);};K6v.Pipeline.prototype.remove=function(g8f){g8f=this._stack.indexOf(g8f);-1!=g8f&&this._stack.splice(g8f,1);};K6v.Pipeline.prototype.run=function(h8f){var H8f=this;for(var q8f=this._stack.length,y8f=0;y8f<q8f;y8f++){var Z8f=H8f._stack[y8f];h8f=h8f.reduce(function(u8f,E8f,j8f){E8f=Z8f(E8f,j8f,h8f);return void 0===E8f||""===E8f?u8f:u8f.concat(E8f);},[]);}return h8f;};K6v.Pipeline.prototype.runString=function(J8f){J8f=new K6v.Token(J8f);return this.run([J8f]).map(function(S8f){return S8f.toString();});};K6v.Pipeline.prototype.reset=function(){this._stack=[];};K6v.Pipeline.prototype.toJSON=function(){return this._stack.map(function(K8f){K6v.Pipeline.warnIfFunctionNotRegistered(K8f);return K8f.label;});};K6v.Vector=function(b8f){this._magnitude=0;this.elements=b8f||[];};K6v.Vector.prototype.positionForIndex=function(N8f){var l8f=this;if(0==this.elements.length){return 0;}for(var f8f=0,m8f=this.elements.length/2,B8f=m8f-f8f,t8f=Math.floor(B8f/2),C8f=this.elements[2*t8f];1<B8f;){C8f<N8f&&(f8f=t8f);C8f>N8f&&(m8f=t8f);if(C8f==N8f){break;}B8f=m8f-f8f;t8f=f8f+Math.floor(B8f/2);C8f=l8f.elements[2*t8f];}if(C8f==N8f||C8f>N8f){return 2*t8f;}if(C8f<N8f){return 2*(t8f+1);}};K6v.Vector.prototype.insert=function(Q8f,z8f){this.upsert(Q8f,z8f,function(){throw"duplicate index";});};K6v.Vector.prototype.upsert=function(d8f,X8f,W8f){this._magnitude=0;var D8f=this.positionForIndex(d8f);this.elements[D8f]==d8f?this.elements[D8f+1]=W8f(this.elements[D8f+1],X8f):this.elements.splice(D8f,0,d8f,X8f);};K6v.Vector.prototype.magnitude=function(){var F8f=this;if(this._magnitude){return this._magnitude;}for(var U8f=0,p8f=this.elements.length,G8f=1;G8f<p8f;G8f+=2){var e8f=F8f.elements[G8f],U8f=U8f+e8f*e8f;}return this._magnitude=Math.sqrt(U8f);};K6v.Vector.prototype.dot=function(v8f){var a8f=0,L8f=this.elements;v8f=v8f.elements;for(var x8f=L8f.length,k8f=v8f.length,R8f,i8f,V8f=0,P8f=0;V8f<x8f&&P8f<k8f;){R8f=L8f[V8f],i8f=v8f[P8f],R8f<i8f?V8f+=2:R8f>i8f?P8f+=2:R8f==i8f&&(a8f+=L8f[V8f+1]*v8f[P8f+1],V8f+=2,P8f+=2);}return a8f;};K6v.Vector.prototype.similarity=function(w8f){return this.dot(w8f)/(this.magnitude()*w8f.magnitude());};K6v.Vector.prototype.toArray=function(){var s2f=this;for(var A8f=Array(this.elements.length/2),Y8f=1,r2f=0;Y8f<this.elements.length;Y8f+=2,r2f++){A8f[r2f]=s2f.elements[Y8f];}return A8f;};K6v.Vector.prototype.toJSON=function(){return this.elements;};K6v.stemmer=function(){var Z2f={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},M2f={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},I2f=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,n2f=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,o2f=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$/,O2f=/^([^aeiou][^aeiouy]*)?[aeiouy]/,g2f=/^(.+?)(ss|i)es$/,h2f=/^(.+?)([^s])s$/,y2f=/^(.+?)eed$/,H2f=/^(.+?)(ed|ing)$/,T2f=/.$/,c2f=/(at|bl|iz)$/,E2f=/([^aeiouylsz])\1$/,u2f=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/,j2f=/^(.+?[^aeiou])y$/,J2f=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,S2f=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,K2f=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,b2f=/^(.+?)(s|t)(ion)$/,t2f=/^(.+?)e$/,C2f=/ll$/,N2f=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/,q2f=function(f2f){var l2f,B2f,Q2f,m2f,z2f;if(3>f2f.length){return f2f;}Q2f=f2f.substr(0,1);"y"==Q2f&&(f2f=Q2f.toUpperCase()+f2f.substr(1));m2f=g2f;B2f=h2f;m2f.test(f2f)?f2f=f2f.replace(m2f,"$1$2"):B2f.test(f2f)&&(f2f=f2f.replace(B2f,"$1$2"));m2f=y2f;B2f=H2f;m2f.test(f2f)?(B2f=m2f.exec(f2f),m2f=I2f,m2f.test(B2f[1])&&(m2f=T2f,f2f=f2f.replace(m2f,""))):B2f.test(f2f)&&(B2f=B2f.exec(f2f),l2f=B2f[1],B2f=O2f,B2f.test(l2f)&&(f2f=l2f,B2f=c2f,z2f=E2f,B2f.test(f2f)?f2f+="e":z2f.test(f2f)?(m2f=T2f,f2f=f2f.replace(m2f,"")):u2f.test(f2f)&&(f2f+="e")));m2f=j2f;m2f.test(f2f)&&(B2f=m2f.exec(f2f),l2f=B2f[1],f2f=l2f+"i");m2f=J2f;m2f.test(f2f)&&(B2f=m2f.exec(f2f),l2f=B2f[1],B2f=B2f[2],m2f=I2f,m2f.test(l2f)&&(f2f=l2f+Z2f[B2f]));m2f=S2f;m2f.test(f2f)&&(B2f=m2f.exec(f2f),l2f=B2f[1],B2f=B2f[2],m2f=I2f,m2f.test(l2f)&&(f2f=l2f+M2f[B2f]));m2f=K2f;B2f=b2f;m2f.test(f2f)?(B2f=m2f.exec(f2f),l2f=B2f[1],m2f=n2f,m2f.test(l2f)&&(f2f=l2f)):B2f.test(f2f)&&(B2f=B2f.exec(f2f),l2f=B2f[1]+B2f[2],B2f=n2f,B2f.test(l2f)&&(f2f=l2f));m2f=t2f;m2f.test(f2f)&&(B2f=m2f.exec(f2f),l2f=B2f[1],m2f=n2f,B2f=o2f,z2f=N2f,m2f.test(l2f)||B2f.test(l2f)&&!z2f.test(l2f))&&(f2f=l2f);m2f=C2f;B2f=n2f;m2f.test(f2f)&&B2f.test(f2f)&&(m2f=T2f,f2f=f2f.replace(m2f,""));"y"==Q2f&&(f2f=Q2f.toLowerCase()+f2f.substr(1));return f2f;};return function(D2f){return D2f.update(q2f);};}();K6v.Pipeline.registerFunction(K6v.stemmer,"stemmer");K6v.generateStopWordFilter=function(X2f){var d2f=X2f.reduce(function(W2f,U2f){W2f[U2f]=U2f;return W2f;},{});return function(G2f){if(G2f&&d2f[G2f.toString()]!==G2f.toString()){return G2f;}};};K6v.stopWordFilter=K6v.generateStopWordFilter("a able about across after all almost also am among an and any are as at be because been but by can cannot could dear did do does either else ever every for from get got had has have he her hers him his how however i if in into is it its just least let like likely may me might most must my neither no nor not of off often on only or other our own rather said say says she should since so some than that the their them then there these they this tis to too twas us wants was we were what when where which while who whom why will with would yet you your".split(" "));K6v.Pipeline.registerFunction(K6v.stopWordFilter,"stopWordFilter");K6v.trimmer=function(e2f){return e2f.update(function(F2f){return F2f.replace(/^\W+/,"").replace(/\W+$/,"");});};K6v.Pipeline.registerFunction(K6v.trimmer,"trimmer");K6v.TokenSet=function(){this.final=false;this.edges={};this.id=K6v.TokenSet._nextId;K6v.TokenSet._nextId+=1;};K6v.TokenSet._nextId=1;K6v.TokenSet.fromArray=function(P2f){for(var p2f=new K6v.TokenSet.Builder(),V2f=0,v2f=P2f.length;V2f<v2f;V2f++){p2f.insert(P2f[V2f]);}p2f.finish();return p2f.root;};K6v.TokenSet.fromClause=function(L2f){return"editDistance"in L2f?K6v.TokenSet.fromFuzzyString(L2f.term,L2f.editDistance):K6v.TokenSet.fromString(L2f.term);};K6v.TokenSet.fromFuzzyString=function(x2f,R2f){var w2f=new K6v.TokenSet();for(x2f=[{node:w2f,editsRemaining:R2f,str:x2f}];x2f.length;){R2f=x2f.pop();if(0<R2f.str.length){var i2f=R2f.str.charAt(0),a2f;i2f in R2f.node.edges?a2f=R2f.node.edges[i2f]:(a2f=new K6v.TokenSet(),R2f.node.edges[i2f]=a2f);1==R2f.str.length?a2f.final=true:x2f.push({node:a2f,editsRemaining:R2f.editsRemaining,str:R2f.str.slice(1)});}0<R2f.editsRemaining&&1<R2f.str.length&&(i2f=R2f.str.charAt(1),i2f in R2f.node.edges?a2f=R2f.node.edges[i2f]:(a2f=new K6v.TokenSet(),R2f.node.edges[i2f]=a2f),2>=R2f.str.length?a2f.final=true:x2f.push({node:a2f,editsRemaining:R2f.editsRemaining-1,str:R2f.str.slice(2)}));0<R2f.editsRemaining&&1==R2f.str.length&&(R2f.node.final=true);0<R2f.editsRemaining&&1<=R2f.str.length&&("*"in R2f.node.edges?i2f=R2f.node.edges["*"]:(i2f=new K6v.TokenSet(),R2f.node.edges["*"]=i2f),1==R2f.str.length?i2f.final=true:x2f.push({node:i2f,editsRemaining:R2f.editsRemaining-1,str:R2f.str.slice(1)}));0<R2f.editsRemaining&&("*"in R2f.node.edges?i2f=R2f.node.edges["*"]:(i2f=new K6v.TokenSet(),R2f.node.edges["*"]=i2f),0==R2f.str.length?i2f.final=true:x2f.push({node:i2f,editsRemaining:R2f.editsRemaining-1,str:R2f.str}));if(0<R2f.editsRemaining&&1<R2f.str.length){i2f=R2f.str.charAt(0);a2f=R2f.str.charAt(1);var k2f;a2f in R2f.node.edges?k2f=R2f.node.edges[a2f]:(k2f=new K6v.TokenSet(),R2f.node.edges[a2f]=k2f);1==R2f.str.length?k2f.final=true:x2f.push({node:k2f,editsRemaining:R2f.editsRemaining-1,str:i2f+R2f.str.slice(2)});}}return w2f;};K6v.TokenSet.fromString=function(M0f){for(var Y2f=new K6v.TokenSet(),s0f=Y2f,n0f=false,A2f=0,I0f=M0f.length;A2f<I0f;A2f++){var r0f=M0f[A2f],T0f=A2f==I0f-1;if("*"==r0f){n0f=true,Y2f.edges[r0f]=Y2f,Y2f.final=T0f;}else{var c0f=new K6v.TokenSet();c0f.final=T0f;Y2f=Y2f.edges[r0f]=c0f;n0f&&(Y2f.edges["*"]=s0f);}}return s0f;};K6v.TokenSet.prototype.toArray=function(){for(var h0f=[],O0f=[{prefix:"",node:this}];O0f.length;){var o0f=O0f.pop(),y0f=Object.keys(o0f.node.edges),q0f=y0f.length;o0f.node.final&&h0f.push(o0f.prefix);for(var g0f=0;g0f<q0f;g0f++){var H0f=y0f[g0f];O0f.push({prefix:o0f.prefix.concat(H0f),node:o0f.node.edges[H0f]});}}return h0f;};K6v.TokenSet.prototype.toString=function(){var J0f=this;if(this._str){return this._str;}for(var Z0f=this.final?"1":"0",u0f=Object.keys(this.edges).sort(),S0f=u0f.length,E0f=0;E0f<S0f;E0f++){var j0f=u0f[E0f],Z0f=Z0f+j0f+J0f.edges[j0f].id;}return Z0f;};K6v.TokenSet.prototype.intersect=function(K0f){for(var Q0f=new K6v.TokenSet(),C0f=[{qNode:K0f,output:Q0f,node:this}];C0f.length;){K0f=C0f.pop();for(var l0f=Object.keys(K0f.qNode.edges),W0f=l0f.length,m0f=Object.keys(K0f.node.edges),X0f=m0f.length,B0f=0;B0f<W0f;B0f++){for(var f0f=l0f[B0f],N0f=0;N0f<X0f;N0f++){var t0f=m0f[N0f];if(t0f==f0f||"*"==f0f){var z0f=K0f.node.edges[t0f],D0f=K0f.qNode.edges[f0f],d0f=z0f.final&&D0f.final,b0f;t0f in K0f.output.edges?(b0f=K0f.output.edges[t0f],b0f.final=b0f.final||d0f):(b0f=new K6v.TokenSet(),b0f.final=d0f,K0f.output.edges[t0f]=b0f);C0f.push({qNode:D0f,output:b0f,node:z0f});}}}}return Q0f;};K6v.TokenSet.Builder=function(){this.previousWord="";this.root=new K6v.TokenSet();this.uncheckedNodes=[];this.minimizedNodes={};};K6v.TokenSet.Builder.prototype.insert=function(e0f){var V0f=this;var F0f,G0f=0;if(e0f<this.previousWord){throw Error("Out of order word insertion");}for(var U0f=0;U0f<e0f.length&&U0f<this.previousWord.length&&e0f[U0f]==this.previousWord[U0f];U0f++){G0f++;}this.minimize(G0f);F0f=0==this.uncheckedNodes.length?this.root:this.uncheckedNodes[this.uncheckedNodes.length-1].child;for(U0f=G0f;U0f<e0f.length;U0f++){var G0f=new K6v.TokenSet(),p0f=e0f[U0f];F0f.edges[p0f]=G0f;V0f.uncheckedNodes.push({parent:F0f,char:p0f,child:G0f});F0f=G0f;}F0f.final=true;this.previousWord=e0f;};K6v.TokenSet.Builder.prototype.finish=function(){this.minimize(0);};K6v.TokenSet.Builder.prototype.minimize=function(i0f){var P0f=this;for(var R0f=this.uncheckedNodes.length-1;R0f>=i0f;R0f--){var v0f=P0f.uncheckedNodes[R0f],L0f=v0f.child.toString();L0f in P0f.minimizedNodes?v0f.parent.edges[v0f.char]=P0f.minimizedNodes[L0f]:(v0f.child._str=L0f,P0f.minimizedNodes[L0f]=v0f.child);P0f.uncheckedNodes.pop();}};K6v.Index=function(a0f){this.invertedIndex=a0f.invertedIndex;this.fieldVectors=a0f.fieldVectors;this.tokenSet=a0f.tokenSet;this.fields=a0f.fields;this.pipeline=a0f.pipeline;};K6v.Index.prototype.search=function(x0f){return this.query(function(k0f){new K6v.QueryParser(x0f,k0f).parse();});};K6v.Index.prototype.query=function(s3f){var J3f=this;var n3f=new K6v.Query(this.fields),M3f=Object.create(null),O3f=Object.create(null),c3f=Object.create(null);s3f.call(n3f,n3f);for(s3f=0;s3f<n3f.clauses.length;s3f++){for(var Y0f=n3f.clauses[s3f],w0f=null,w0f=Y0f.usePipeline?this.pipeline.runString(Y0f.term):[Y0f.term],T3f=0;T3f<w0f.length;T3f++){Y0f.term=w0f[T3f];for(var r3f=K6v.TokenSet.fromClause(Y0f),r3f=this.tokenSet.intersect(r3f).toArray(),y3f=0;y3f<r3f.length;y3f++){for(var o3f=r3f[y3f],j3f=this.invertedIndex[o3f],S3f=j3f._index,h3f=0;h3f<Y0f.fields.length;h3f++){var A0f=Y0f.fields[h3f],Z3f=j3f[A0f],q3f=Object.keys(Z3f),u3f=o3f+"/"+A0f;void 0===O3f[A0f]&&(O3f[A0f]=new K6v.Vector());O3f[A0f].upsert(S3f,1*Y0f.boost,function(K3f,b3f){return K3f+b3f;});if(!c3f[u3f]){for(var H3f=0;H3f<q3f.length;H3f++){var I3f=q3f[H3f],E3f=new K6v.FieldRef(I3f,A0f),I3f=Z3f[I3f],g3f;void 0===(g3f=M3f[E3f])?M3f[E3f]=new K6v.MatchData(o3f,A0f,I3f):g3f.add(o3f,A0f,I3f);}c3f[u3f]=true;}}}}}n3f=Object.keys(M3f);c3f=[];g3f=Object.create(null);for(s3f=0;s3f<n3f.length;s3f++){w0f=K6v.FieldRef.fromString(n3f[s3f]),Y0f=w0f.docRef,T3f=O3f[w0f.fieldName].similarity(J3f.fieldVectors[w0f]),void 0!==(r3f=g3f[Y0f])?(r3f.score+=T3f,r3f.matchData.combine(M3f[w0f])):(w0f={ref:Y0f,score:T3f,matchData:M3f[w0f]},g3f[Y0f]=w0f,c3f.push(w0f));}return c3f.sort(function(t3f,C3f){return C3f.score-t3f.score;});};K6v.Index.prototype.toJSON=function(){var N3f=Object.keys(this.invertedIndex).sort().map(function(B3f){return[B3f,this.invertedIndex[B3f]];},this),f3f=Object.keys(this.fieldVectors).map(function(m3f){return[m3f,this.fieldVectors[m3f].toJSON()];},this);return{version:K6v.version,fields:this.fields,fieldVectors:f3f,invertedIndex:N3f,pipeline:this.pipeline.toJSON()};};K6v.Index.load=function(d3f){var z3f={},G3f={},D3f=d3f.fieldVectors,U3f={},W3f=d3f.invertedIndex,X3f=new K6v.TokenSet.Builder(),e3f=K6v.Pipeline.load(d3f.pipeline);d3f.version!=K6v.version&&K6v.utils.warn("Version mismatch when loading serialised index. Current version of lunr '"+K6v.version+"' does not match serialized index '"+d3f.version+"'");for(var Q3f=0;Q3f<D3f.length;Q3f++){var l3f=D3f[Q3f];G3f[l3f[0]]=new K6v.Vector(l3f[1]);}for(Q3f=0;Q3f<W3f.length;Q3f++){l3f=W3f[Q3f],D3f=l3f[0],l3f=l3f[1],X3f.insert(D3f),U3f[D3f]=l3f;}X3f.finish();z3f.fields=d3f.fields;z3f.fieldVectors=G3f;z3f.invertedIndex=U3f;z3f.tokenSet=X3f.root;z3f.pipeline=e3f;return new K6v.Index(z3f);};K6v.Builder=function(){this._ref="id";this._fields=[];this.invertedIndex=Object.create(null);this.fieldTermFrequencies={};this.fieldLengths={};this.tokenizer=K6v.tokenizer;this.pipeline=new K6v.Pipeline();this.searchPipeline=new K6v.Pipeline();this.documentCount=0;this._b=.75;this._k1=1.2;this.termIndex=0;this.metadataWhitelist=[];};K6v.Builder.prototype.ref=function(F3f){this._ref=F3f;};K6v.Builder.prototype.field=function(p3f){this._fields.push(p3f);};K6v.Builder.prototype.b=function(V3f){this._b=0>V3f?0:1<V3f?1:V3f;};K6v.Builder.prototype.k1=function(P3f){this._k1=P3f;};K6v.Builder.prototype.add=function(r5f){var v3f=this;var w3f=r5f[this._ref];this.documentCount+=1;for(var A3f=0;A3f<this._fields.length;A3f++){var i3f=v3f._fields[A3f],k3f=v3f.tokenizer(r5f[i3f]),k3f=v3f.pipeline.run(k3f),a3f=new K6v.FieldRef(w3f,i3f),Y3f=Object.create(null);v3f.fieldTermFrequencies[a3f]=Y3f;v3f.fieldLengths[a3f]=0;v3f.fieldLengths[a3f]+=k3f.length;for(a3f=0;a3f<k3f.length;a3f++){var L3f=k3f[a3f];void 0==Y3f[L3f]&&(Y3f[L3f]=0);Y3f[L3f]+=1;if(void 0==v3f.invertedIndex[L3f]){var x3f=Object.create(null);x3f._index=v3f.termIndex;v3f.termIndex+=1;for(var R3f=0;R3f<this._fields.length;R3f++){x3f[v3f._fields[R3f]]=Object.create(null);}v3f.invertedIndex[L3f]=x3f;}void 0==v3f.invertedIndex[L3f][i3f][w3f]&&(v3f.invertedIndex[L3f][i3f][w3f]=Object.create(null));for(x3f=0;x3f<this.metadataWhitelist.length;x3f++){var R3f=v3f.metadataWhitelist[x3f],s5f=L3f.metadata[R3f];void 0==v3f.invertedIndex[L3f][i3f][w3f][R3f]&&(v3f.invertedIndex[L3f][i3f][w3f][R3f]=[]);v3f.invertedIndex[L3f][i3f][w3f][R3f].push(s5f);}}}};K6v.Builder.prototype.calculateAverageFieldLengths=function(){var M5f=this;for(var o5f=Object.keys(this.fieldLengths),g5f=o5f.length,T5f={},c5f={},I5f=0;I5f<g5f;I5f++){var O5f=K6v.FieldRef.fromString(o5f[I5f]),n5f=O5f.fieldName;c5f[n5f]||(c5f[n5f]=0);c5f[n5f]+=1;T5f[n5f]||(T5f[n5f]=0);T5f[n5f]+=M5f.fieldLengths[O5f];}for(I5f=0;I5f<this._fields.length;I5f++){n5f=M5f._fields[I5f],T5f[n5f]/=c5f[n5f];}this.averageFieldLength=T5f;};K6v.Builder.prototype.createFieldVectors=function(){var h5f=this;for(var K5f={},b5f=Object.keys(this.fieldTermFrequencies),B5f=b5f.length,q5f=Object.create(null),Z5f=0;Z5f<B5f;Z5f++){for(var H5f=K6v.FieldRef.fromString(b5f[Z5f]),f5f=H5f.fieldName,N5f=this.fieldLengths[H5f],j5f=new K6v.Vector(),J5f=this.fieldTermFrequencies[H5f],S5f=Object.keys(J5f),C5f=S5f.length,u5f=0;u5f<C5f;u5f++){var y5f=S5f[u5f],t5f=J5f[y5f],m5f=h5f.invertedIndex[y5f]._index,E5f;void 0===q5f[y5f]?(E5f=K6v.idf(h5f.invertedIndex[y5f],h5f.documentCount),q5f[y5f]=E5f):E5f=q5f[y5f];j5f.insert(m5f,Math.round(E5f*(h5f._k1+1)*t5f/(h5f._k1*(1-h5f._b+N5f/h5f.averageFieldLength[f5f]*h5f._b)+t5f)*1E3)/1E3);}K5f[H5f]=j5f;}this.fieldVectors=K5f;};K6v.Builder.prototype.createTokenSet=function(){this.tokenSet=K6v.TokenSet.fromArray(Object.keys(this.invertedIndex).sort());};K6v.Builder.prototype.build=function(){this.calculateAverageFieldLengths();this.createFieldVectors();this.createTokenSet();return new K6v.Index({invertedIndex:this.invertedIndex,fieldVectors:this.fieldVectors,tokenSet:this.tokenSet,fields:this._fields,pipeline:this.searchPipeline});};K6v.Builder.prototype.use=function(Q5f){var l5f=Array.prototype.slice.call(arguments,1);l5f.unshift(this);Q5f.apply(this,l5f);};K6v.MatchData=function(W5f,G5f,U5f){for(var D5f=Object.create(null),d5f=Object.keys(U5f),z5f=0;z5f<d5f.length;z5f++){var X5f=d5f[z5f];D5f[X5f]=U5f[X5f].slice();}this.metadata=Object.create(null);this.metadata[W5f]=Object.create(null);this.metadata[W5f][G5f]=D5f;};K6v.MatchData.prototype.combine=function(P5f){var p5f=this;for(var x5f=Object.keys(P5f.metadata),v5f=0;v5f<x5f.length;v5f++){var e5f=x5f[v5f],i5f=Object.keys(P5f.metadata[e5f]);void 0==p5f.metadata[e5f]&&(p5f.metadata[e5f]=Object.create(null));for(var L5f=0;L5f<i5f.length;L5f++){var F5f=i5f[L5f],a5f=Object.keys(P5f.metadata[e5f][F5f]);void 0==p5f.metadata[e5f][F5f]&&(p5f.metadata[e5f][F5f]=Object.create(null));for(var R5f=0;R5f<a5f.length;R5f++){var V5f=a5f[R5f];p5f.metadata[e5f][F5f][V5f]=void 0==p5f.metadata[e5f][F5f][V5f]?P5f.metadata[e5f][F5f][V5f]:p5f.metadata[e5f][F5f][V5f].concat(P5f.metadata[e5f][F5f][V5f]);}}}};K6v.MatchData.prototype.add=function(k5f,w5f,A5f){var r9f=this;if(k5f in this.metadata){if(w5f in this.metadata[k5f]){for(var n9f=Object.keys(A5f),s9f=0;s9f<n9f.length;s9f++){var Y5f=n9f[s9f];r9f.metadata[k5f][w5f][Y5f]=Y5f in r9f.metadata[k5f][w5f]?r9f.metadata[k5f][w5f][Y5f].concat(A5f[Y5f]):A5f[Y5f];}}else{this.metadata[k5f][w5f]=A5f;}}else{this.metadata[k5f]=Object.create(null),this.metadata[k5f][w5f]=A5f;}};K6v.Query=function(I9f){this.clauses=[];this.allFields=I9f;};K6v.Query.wildcard=new String("*");K6v.Query.wildcard.NONE=0;K6v.Query.wildcard.LEADING=1;K6v.Query.wildcard.TRAILING=2;K6v.Query.prototype.clause=function(T9f){"fields"in T9f||(T9f.fields=this.allFields);"boost"in T9f||(T9f.boost=1);"usePipeline"in T9f||(T9f.usePipeline=true);"wildcard"in T9f||(T9f.wildcard=K6v.Query.wildcard.NONE);T9f.wildcard&K6v.Query.wildcard.LEADING&&T9f.term.charAt(0)!=K6v.Query.wildcard&&(T9f.term="*"+T9f.term);T9f.wildcard&K6v.Query.wildcard.TRAILING&&T9f.term.slice(-1)!=K6v.Query.wildcard&&(T9f.term=""+T9f.term+"*");this.clauses.push(T9f);return this;};K6v.Query.prototype.term=function(M9f,c9f){c9f=c9f||{};c9f.term=M9f;this.clause(c9f);return this;};K6v.QueryParseError=function(o9f,O9f,g9f){this.name="QueryParseError";this.message=o9f;this.start=O9f;this.end=g9f;};K6v.QueryParseError.prototype=Error();K6v.QueryLexer=function(h9f){this.lexemes=[];this.str=h9f;this.length=h9f.length;this.start=this.pos=0;this.escapeCharPositions=[];};K6v.QueryLexer.prototype.run=function(){var H9f=this;for(var y9f=K6v.QueryLexer.lexText;y9f;){y9f=y9f(H9f);}};K6v.QueryLexer.prototype.sliceString=function(){var u9f=this;for(var q9f=[],Z9f=this.start,j9f,E9f=0;E9f<this.escapeCharPositions.length;E9f++){j9f=u9f.escapeCharPositions[E9f],q9f.push(u9f.str.slice(Z9f,j9f)),Z9f=j9f+1;}q9f.push(this.str.slice(Z9f,this.pos));this.escapeCharPositions.length=0;return q9f.join("");};K6v.QueryLexer.prototype.emit=function(J9f){this.lexemes.push({type:J9f,str:this.sliceString(),start:this.start,end:this.pos});this.start=this.pos;};K6v.QueryLexer.prototype.escapeCharacter=function(){this.escapeCharPositions.push(this.pos-1);this.pos+=1;};K6v.QueryLexer.prototype.next=function(){if(this.pos>=this.length){return K6v.QueryLexer.EOS;}var S9f=this.str.charAt(this.pos);this.pos+=1;return S9f;};K6v.QueryLexer.prototype.width=function(){return this.pos-this.start;};K6v.QueryLexer.prototype.ignore=function(){this.start==this.pos&&(this.pos+=1);this.start=this.pos;};K6v.QueryLexer.prototype.backup=function(){--this.pos;};K6v.QueryLexer.prototype.acceptDigitRun=function(){var t9f=this;var K9f,b9f;do{K9f=t9f.next(),b9f=K9f.charCodeAt(0);}while(47<b9f&&58>b9f);K9f!=K6v.QueryLexer.EOS&&this.backup();};K6v.QueryLexer.prototype.more=function(){return this.pos<this.length;};K6v.QueryLexer.EOS="EOS";K6v.QueryLexer.FIELD="FIELD";K6v.QueryLexer.TERM="TERM";K6v.QueryLexer.EDIT_DISTANCE="EDIT_DISTANCE";K6v.QueryLexer.BOOST="BOOST";K6v.QueryLexer.lexField=function(C9f){C9f.backup();C9f.emit(K6v.QueryLexer.FIELD);C9f.ignore();return K6v.QueryLexer.lexText;};K6v.QueryLexer.lexTerm=function(N9f){1<N9f.width()&&(N9f.backup(),N9f.emit(K6v.QueryLexer.TERM));N9f.ignore();if(N9f.more()){return K6v.QueryLexer.lexText;}};K6v.QueryLexer.lexEditDistance=function(f9f){f9f.ignore();f9f.acceptDigitRun();f9f.emit(K6v.QueryLexer.EDIT_DISTANCE);return K6v.QueryLexer.lexText;};K6v.QueryLexer.lexBoost=function(B9f){B9f.ignore();B9f.acceptDigitRun();B9f.emit(K6v.QueryLexer.BOOST);return K6v.QueryLexer.lexText;};K6v.QueryLexer.lexEOS=function(m9f){0<m9f.width()&&m9f.emit(K6v.QueryLexer.TERM);};K6v.QueryLexer.termSeparator=K6v.tokenizer.separator;K6v.QueryLexer.lexText=function(l9f){for(;;){var Q9f=l9f.next();if(Q9f==K6v.QueryLexer.EOS){return K6v.QueryLexer.lexEOS;}if(92==Q9f.charCodeAt(0)){l9f.escapeCharacter();}else{if(":"==Q9f){return K6v.QueryLexer.lexField;}if("~"==Q9f){return l9f.backup(),0<l9f.width()&&l9f.emit(K6v.QueryLexer.TERM),K6v.QueryLexer.lexEditDistance;}if("^"==Q9f){return l9f.backup(),0<l9f.width()&&l9f.emit(K6v.QueryLexer.TERM),K6v.QueryLexer.lexBoost;}if(Q9f.match(K6v.QueryLexer.termSeparator)){return K6v.QueryLexer.lexTerm;}}}};K6v.QueryParser=function(z9f,D9f){this.lexer=new K6v.QueryLexer(z9f);this.query=D9f;this.currentClause={};this.lexemeIdx=0;};K6v.QueryParser.prototype.parse=function(){var X9f=this;this.lexer.run();this.lexemes=this.lexer.lexemes;for(var d9f=K6v.QueryParser.parseFieldOrTerm;d9f;){d9f=d9f(X9f);}return this.query;};K6v.QueryParser.prototype.peekLexeme=function(){return this.lexemes[this.lexemeIdx];};K6v.QueryParser.prototype.consumeLexeme=function(){var W9f=this.peekLexeme();this.lexemeIdx+=1;return W9f;};K6v.QueryParser.prototype.nextClause=function(){this.query.clause(this.currentClause);this.currentClause={};};K6v.QueryParser.parseFieldOrTerm=function(U9f){U9f=U9f.peekLexeme();if(void 0!=U9f){switch(U9f.type){case K6v.QueryLexer.FIELD:return K6v.QueryParser.parseField;case K6v.QueryLexer.TERM:return K6v.QueryParser.parseTerm;default:var G9f="expected either a field or a term, found "+U9f.type;1<=U9f.str.length&&(G9f+=" with value '"+U9f.str+"'");throw new K6v.QueryParseError(G9f,U9f.start,U9f.end);}}};K6v.QueryParser.parseField=function(e9f){var F9f=e9f.consumeLexeme();if(void 0!=F9f){if(-1==e9f.query.allFields.indexOf(F9f.str)){throw e9f=e9f.query.allFields.map(function(V9f){return"'"+V9f+"'";}).join(", "),e9f="unrecognised field '"+F9f.str+"', possible fields: "+e9f,new K6v.QueryParseError(e9f,F9f.start,F9f.end);}e9f.currentClause.fields=[F9f.str];var p9f=e9f.peekLexeme();if(void 0==p9f){throw new K6v.QueryParseError("expecting term, found nothing",F9f.start,F9f.end);}switch(p9f.type){case K6v.QueryLexer.TERM:return K6v.QueryParser.parseTerm;default:throw e9f="expecting term, found '"+p9f.type+"'",new K6v.QueryParseError(e9f,p9f.start,p9f.end);}}};K6v.QueryParser.parseTerm=function(v9f){var P9f=v9f.consumeLexeme();if(void 0!=P9f){if(v9f.currentClause.term=P9f.str.toLowerCase(),-1!=P9f.str.indexOf("*")&&(v9f.currentClause.usePipeline=false),P9f=v9f.peekLexeme(),void 0==P9f){v9f.nextClause();}else{switch(P9f.type){case K6v.QueryLexer.TERM:return v9f.nextClause(),K6v.QueryParser.parseTerm;case K6v.QueryLexer.FIELD:return v9f.nextClause(),K6v.QueryParser.parseField;case K6v.QueryLexer.EDIT_DISTANCE:return K6v.QueryParser.parseEditDistance;case K6v.QueryLexer.BOOST:return K6v.QueryParser.parseBoost;default:throw new K6v.QueryParseError("Unexpected lexeme type '"+P9f.type+"'",P9f.start,P9f.end);}}}};K6v.QueryParser.parseEditDistance=function(R9f){var L9f=R9f.consumeLexeme();if(void 0!=L9f){var i9f=parseInt(L9f.str,10);if(isNaN(i9f)){throw new K6v.QueryParseError("edit distance must be numeric",L9f.start,L9f.end);}R9f.currentClause.editDistance=i9f;L9f=R9f.peekLexeme();if(void 0==L9f){R9f.nextClause();}else{switch(L9f.type){case K6v.QueryLexer.TERM:return R9f.nextClause(),K6v.QueryParser.parseTerm;case K6v.QueryLexer.FIELD:return R9f.nextClause(),K6v.QueryParser.parseField;case K6v.QueryLexer.EDIT_DISTANCE:return K6v.QueryParser.parseEditDistance;case K6v.QueryLexer.BOOST:return K6v.QueryParser.parseBoost;default:throw R9f="Unexpected lexeme type '"+L9f.type+"'",new K6v.QueryParseError(R9f,L9f.start,L9f.end);}}}};K6v.QueryParser.parseBoost=function(x9f){var a9f=x9f.consumeLexeme();if(void 0!=a9f){var k9f=parseInt(a9f.str,10);if(isNaN(k9f)){throw new K6v.QueryParseError("boost must be numeric",a9f.start,a9f.end);}x9f.currentClause.boost=k9f;a9f=x9f.peekLexeme();if(void 0==a9f){x9f.nextClause();}else{switch(a9f.type){case K6v.QueryLexer.TERM:return x9f.nextClause(),K6v.QueryParser.parseTerm;case K6v.QueryLexer.FIELD:return x9f.nextClause(),K6v.QueryParser.parseField;case K6v.QueryLexer.EDIT_DISTANCE:return K6v.QueryParser.parseEditDistance;case K6v.QueryLexer.BOOST:return K6v.QueryParser.parseBoost;default:throw x9f="Unexpected lexeme type '"+a9f.type+"'",new K6v.QueryParseError(x9f,a9f.start,a9f.end);}}}};(function(Y9f,w9f){"function"===typeof define&&define.amd?define(w9f):"object"===typeof exports?module.exports=w9f():Y9f.lunr=w9f();}(this,function(){return K6v;}));}());(function(r1f,A9f){"undefined"!=typeof module?module.exports=A9f():"function"==typeof define&&"object"==typeof define.amd?define(A9f):this[r1f]=A9f();}("Clusterize",function(){function c1f(g1f,O1f,h1f){return O1f.addEventListener?O1f.addEventListener(g1f,h1f,false):O1f.attachEvent("on"+g1f,h1f);}function M1f(H1f,y1f,q1f){return y1f.removeEventListener?y1f.removeEventListener(H1f,q1f,false):y1f.detachEvent("on"+H1f,q1f);}function T1f(Z1f){return"[object Array]"===Object.prototype.toString.call(Z1f);}function I1f(E1f,u1f){return window.getComputedStyle?window.getComputedStyle(u1f)[E1f]:u1f.currentStyle[E1f];}var n1f=function(){for(var j1f=3,J1f=document.createElement("b"),S1f=J1f.all||[];J1f.innerHTML="\x3c!--[if gt IE "+ ++j1f+"]><i><![endif]--\x3e",S1f[0];){;}return 4<j1f?j1f:document.documentMode;}(),o1f=navigator.platform.toLowerCase().indexOf("mac")+1,s1f=function(t1f){if(!(this instanceof s1f)){return new s1f(t1f);}var K1f=this,m1f={rows_in_block:50,blocks_in_cluster:4,tag:null,show_no_data_row:true,no_data_class:"clusterize-no-data",no_data_text:"No data",keep_parity:true,callbacks:{}};K1f.options={};for(var C1f="rows_in_block blocks_in_cluster show_no_data_row no_data_class no_data_text keep_parity tag callbacks".split(" "),N1f=0,f1f;f1f=C1f[N1f];N1f++){K1f.options[f1f]="undefined"!=typeof t1f[f1f]&&null!=t1f[f1f]?t1f[f1f]:m1f[f1f];}m1f=["scroll","content"];for(N1f=0;C1f=m1f[N1f];N1f++){if(K1f[C1f+"_elem"]=t1f[C1f+"Id"]?document.getElementById(t1f[C1f+"Id"]):t1f[C1f+"Elem"],!K1f[C1f+"_elem"]){throw Error("Error! Could not find "+C1f+" element");}}K1f.content_elem.hasAttribute("tabindex")||K1f.content_elem.setAttribute("tabindex",0);var b1f=T1f(t1f.rows)?t1f.rows:K1f.fetchMarkup(),B1f={};t1f=K1f.scroll_elem.scrollTop;K1f.insertToDOM(b1f,B1f);K1f.scroll_elem.scrollTop=t1f;var l1f=false,z1f=0,Q1f=false,d1f=function(){o1f&&(Q1f||(K1f.content_elem.style.pointerEvents="none"),Q1f=true,clearTimeout(z1f),z1f=setTimeout(function(){K1f.content_elem.style.pointerEvents="auto";Q1f=false;},50));l1f!=(l1f=K1f.getClusterNum())&&K1f.insertToDOM(b1f,B1f);K1f.options.callbacks.scrollingProgress&&K1f.options.callbacks.scrollingProgress(K1f.getScrollProgress());},X1f=0,W1f=function(){clearTimeout(X1f);X1f=setTimeout(K1f.refresh,100);};c1f("scroll",K1f.scroll_elem,d1f);c1f("resize",window,W1f);K1f.destroy=function(U1f){M1f("scroll",K1f.scroll_elem,d1f);M1f("resize",window,W1f);K1f.html((U1f?K1f.generateEmptyRow():b1f).join(""));};K1f.refresh=function(G1f){(K1f.getRowsHeight(b1f)||G1f)&&K1f.update(b1f);};K1f.update=function(e1f){b1f=T1f(e1f)?e1f:[];e1f=K1f.scroll_elem.scrollTop;b1f.length*K1f.options.item_height<e1f&&(l1f=K1f.scroll_elem.scrollTop=0);K1f.insertToDOM(b1f,B1f);K1f.scroll_elem.scrollTop=e1f;};K1f.clear=function(){K1f.update([]);};K1f.getRowsAmount=function(){return b1f.length;};K1f.getScrollProgress=function(){return this.options.scroll_top/(b1f.length*this.options.item_height)*100||0;};var D1f=function(p1f,F1f){F1f=T1f(F1f)?F1f:[];F1f.length&&(b1f="append"==p1f?b1f.concat(F1f):F1f.concat(b1f),K1f.insertToDOM(b1f,B1f));};K1f.append=function(V1f){D1f("append",V1f);};K1f.prepend=function(P1f){D1f("prepend",P1f);};};s1f.prototype={constructor:s1f,fetchMarkup:function(){for(var v1f=[],L1f=this.getChildNodes(this.content_elem);L1f.length;){v1f.push(L1f.shift().outerHTML);}return v1f;},exploreEnvironment:function(R1f,a1f){var i1f=this.options;i1f.content_tag=this.content_elem.tagName.toLowerCase();R1f.length&&(n1f&&9>=n1f&&!i1f.tag&&(i1f.tag=R1f[0].match(/<([^>\s/]*)/)[1].toLowerCase()),1>=this.content_elem.children.length&&(a1f.data=this.html(R1f[0]+R1f[0]+R1f[0])),i1f.tag||(i1f.tag=this.content_elem.children[0].tagName.toLowerCase()),this.getRowsHeight(R1f));},getRowsHeight:function(k1f){var x1f=this.options,Y1f=x1f.item_height;x1f.cluster_height=0;if(k1f.length&&(k1f=this.content_elem.children,k1f.length)){var w1f=k1f[Math.floor(k1f.length/2)];x1f.item_height=w1f.offsetHeight;"tr"==x1f.tag&&"collapse"!=I1f("borderCollapse",this.content_elem)&&(x1f.item_height+=parseInt(I1f("borderSpacing",this.content_elem),10)||0);"tr"!=x1f.tag&&(k1f=parseInt(I1f("marginTop",w1f),10)||0,w1f=parseInt(I1f("marginBottom",w1f),10)||0,x1f.item_height+=Math.max(k1f,w1f));x1f.block_height=x1f.item_height*x1f.rows_in_block;x1f.rows_in_cluster=x1f.blocks_in_cluster*x1f.rows_in_block;x1f.cluster_height=x1f.blocks_in_cluster*x1f.block_height;return Y1f!=x1f.item_height;}},getClusterNum:function(){this.options.scroll_top=this.scroll_elem.scrollTop;return Math.floor(this.options.scroll_top/(this.options.cluster_height-this.options.block_height))||0;},generateEmptyRow:function(){var A1f=this.options;if(!A1f.tag||!A1f.show_no_data_row){return[];}var r4f=document.createElement(A1f.tag),n4f=document.createTextNode(A1f.no_data_text),s4f;r4f.className=A1f.no_data_class;"tr"==A1f.tag&&(s4f=document.createElement("td"),s4f.colSpan=100,s4f.appendChild(n4f));r4f.appendChild(s4f||n4f);return[r4f.outerHTML];},generate:function(M4f,o4f){var I4f=this.options,T4f=M4f.length;if(T4f<I4f.rows_in_block){return{top_offset:0,bottom_offset:0,rows_above:0,rows:T4f?M4f:this.generateEmptyRow()};}var c4f=Math.max((I4f.rows_in_cluster-I4f.rows_in_block)*o4f,0);o4f=c4f+I4f.rows_in_cluster;var O4f=Math.max(c4f*I4f.item_height,0),I4f=Math.max((T4f-o4f)*I4f.item_height,0),T4f=[],g4f=c4f;for(1>O4f&&g4f++;c4f<o4f;c4f++){M4f[c4f]&&T4f.push(M4f[c4f]);}return{top_offset:O4f,bottom_offset:I4f,rows_above:g4f,rows:T4f};},renderExtraTag:function(H4f,y4f){var h4f=document.createElement(this.options.tag);h4f.className=["clusterize-extra-row","clusterize-"+H4f].join(" ");y4f&&(h4f.style.height=y4f+"px");return h4f.outerHTML;},insertToDOM:function(q4f,Z4f){this.options.cluster_height||this.exploreEnvironment(q4f,Z4f);q4f=this.generate(q4f,this.getClusterNum());var j4f=q4f.rows.join(""),J4f=this.checkChanges("data",j4f,Z4f),S4f=this.checkChanges("top",q4f.top_offset,Z4f);Z4f=this.checkChanges("bottom",q4f.bottom_offset,Z4f);var u4f=this.options.callbacks,E4f=[];J4f||S4f?(q4f.top_offset&&(this.options.keep_parity&&E4f.push(this.renderExtraTag("keep-parity")),E4f.push(this.renderExtraTag("top-space",q4f.top_offset))),E4f.push(j4f),q4f.bottom_offset&&E4f.push(this.renderExtraTag("bottom-space",q4f.bottom_offset)),u4f.clusterWillChange&&u4f.clusterWillChange(),this.html(E4f.join("")),"ol"==this.options.content_tag&&this.content_elem.setAttribute("start",q4f.rows_above),this.content_elem.style["counter-increment"]="clusterize-counter "+(q4f.rows_above-1),u4f.clusterChanged&&u4f.clusterChanged()):Z4f&&(this.content_elem.lastChild.style.height=q4f.bottom_offset+"px");},html:function(t4f){var b4f=this.content_elem;if(n1f&&9>=n1f&&"tr"==this.options.tag){var K4f=document.createElement("div");for(K4f.innerHTML="<table><tbody>"+t4f+"</tbody></table>";t4f=b4f.lastChild;){b4f.removeChild(t4f);}for(K4f=this.getChildNodes(K4f.firstChild.firstChild);K4f.length;){b4f.appendChild(K4f.shift());}}else{b4f.innerHTML=t4f;}},getChildNodes:function(C4f){C4f=C4f.children;for(var f4f=[],N4f=0,B4f=C4f.length;N4f<B4f;N4f++){f4f.push(C4f[N4f]);}return f4f;},checkChanges:function(m4f,l4f,Q4f){var z4f=l4f!=Q4f[m4f];Q4f[m4f]=l4f;return z4f;}};return s1f;}));void function(){var X4f=sketch.dom,W4f=sketch.ui;W4f.appendPopoutElement=function(v4f,L4f){function i4f(A4f){P4f.opened=true;W4f.popoutAt(V4f,A4f,{$keepWithin:a4f});w4f&&w4f();}var a4f=v4f.$parent,x4f=v4f.$at,P4f=v4f.popout,R4f=v4f.destroy;v4f=L4f.$content;var k4f=L4f.className,Y4f=L4f.onChoose,w4f=L4f.onOpen,V4f=P4f.$element=X4f.append(a4f,void 0===k4f?'\n\t\t<grid-popout class="">\n\t\t\t<grid-popout-content></grid-popout-content>\n\t\t</grid-popout>\n\t':'\n\t\t<grid-popout class="'+k4f+'">\n\t\t\t<grid-popout-content></grid-popout-content>\n\t\t</grid-popout>\n\t');X4f.append(V4f.querySelector("grid-popout-content"),v4f);(function(){Gesture.on(V4f,"mousedown",Gesture.prevent);Gesture.click(V4f,function(r7f){if(r7f=r7f.elementFromPoint("grid-item")){var s7f=r7f.getAttribute("data-type");X4f.addClass(r7f,"selected","grid-item");R4f();Y4f(s7f);}});}());(function(){P4f.attached.reflowOnResize=JSEvent.on(window,"resize",function(){return i4f(x4f);});}());P4f.at=function(n7f){R4f.pending=false;Velocity(V4f,"stop");V4f.style.opacity=1;V4f.style.display="block";i4f(n7f);};P4f.opened=false;i4f(x4f);W4f.elements.push({type:"Popout",destroy:R4f});return V4f;};var D4f=sketch.dom,U4f=sketch.ui,d4f=sketch.lang.translate;U4f.appendPopoutTrigger=function(E7f,o7f){function q7f(j7f){O7f=j7f;h7f&&(h7f.innerHTML=d4f(j7f));I7f&&(j7f=o7f[j7f],I7f.ctx?(I7f.ctx.globalCompositeOperation="copy",I7f.ctx.drawImage(j7f,0,0)):I7f.src=j7f.src);}function u7f(J7f){H7f&&sketch.emit("tooltip:attach",J7f,function(){return T7f.$element?d4f("close"):H7f;},{stickToEdge:true});}var M7f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},y7f=M7f.$content?[M7f.$content]:[],Z7f=M7f.onChoose,H7f=M7f.tooltip,O7f=M7f.selected;(function(b7f){b7f.push(D4f.create("popout-arrow"));for(var S7f in o7f){var K7f=D4f.create('<grid-item data-type="'+S7f+'"></grid-item>');D4f.append(K7f,o7f[S7f]);D4f.append(K7f,"<grid-title>"+d4f(S7f)+"</grid-title>");b7f.push(K7f);}}(y7f));var g7f="";6>Object.keys(o7f).length&&(g7f="one-column");var h7f=null,I7f=null,c7f=function(){var C7f=d4f(O7f),t7f=D4f.create('\n\t\t\t<grid-view-trigger class="'+g7f+'"></grid-view-trigger>\n\t\t');if(I7f=o7f[O7f]){I7f.nodeName&&(I7f=D4f.clone(I7f)),D4f.append(t7f,I7f);}D4f.append(t7f,"\n\t\t\t<grid-title>"+C7f+'</grid-title>\n\t\t\t<span class="icon-arrow-down"></span>\n\t\t');I7f=t7f.querySelector("img, canvas");h7f=t7f.querySelector("grid-title");Gesture.on(t7f,"mousedown",Gesture.cancel);Gesture.click(t7f,function(N7f){sketch.emit("tooltip:hide");T7f(N7f);});u7f(t7f);return t7f;}(),T7f=U4f.popoutLifeCycle(U4f.appendPopoutElement,c7f,{$content:y7f,className:g7f,onOpen:function(){c7f.classList.add("sk-opened");var f7f=T7f.$element;f7f&&(f7f=f7f.querySelector('[data-type="'+O7f+'"]'),D4f.addClass(f7f,"selected","grid-item"));},onClose:function(){c7f.classList.remove("sk-opened");},onChoose:function(B7f){q7f(B7f);Z7f.apply(void 0,arguments);}});T7f.$trigger=c7f;T7f.setValue=q7f;E7f.appendChild(c7f);return T7f;};var e4f=sketch.dom,F4f=sketch.lang;sketch.ui.popoutAt=function(W7f,G7f){var l7f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},Q7f=l7f.$keepWithin,m7f=l7f.align||(F4f.rtl?"top right to top left":"top left to top right"),d7f=l7f.offset||{x:20},l7f=W7f.style;l7f.width="";l7f.height="";var z7f=e4f.getCoordinateAt(W7f,G7f,m7f,d7f),m7f=W7f.getBoundingClientRect(),d7f=m7f.width,D7f=m7f.height,U7f=window.innerWidth-10,X7f=window.innerHeight-10,m7f=X7f-D7f;0>m7f&&(D7f+=m7f-10);m7f=z7f.y;m7f+D7f>X7f&&(m7f=X7f-D7f);z7f=z7f.x;z7f+d7f>U7f&&(z7f=U7f-d7f);Q7f?(Q7f=Q7f.getBoundingClientRect(),l7f.left=z7f-Q7f.left+"px",l7f.top=m7f-Q7f.top+"px"):(l7f.left=z7f+"px",l7f.top=m7f+"px");l7f.height=D7f+"px";if(Q7f=W7f.querySelector("popout-arrow")){l7f=e4f.getCoordinateAt(Q7f,G7f,F4f.rtl?"center right to center left":"center left to center right",{y:-15}),Q7f.style.top=l7f.y-m7f+"px";}};var p4f=sketch.dom;sketch.ui.popoutLifeCycle=function(k7f,v7f){function F7f(){e7f?p7f():(F7f.opened=true,e7f=F7f.$element=k7f({$parent:x7f,$at:v7f,popout:F7f,destroy:p7f},P7f),Velocity(e7f,"fadeIn",150),v7f.classList.add("sk-opened"),a7f&&setTimeout(function(){V7f.mousedown=Gesture.on(document.body,{capture:true,mousedown:function(w7f){w7f=Gesture.asPageXY(w7f);p4f.elementFromPoint(w7f,function(Y7f){return Y7f===v7f||Y7f===e7f;})||p7f();}});},0),Keyster.on("escape",p7f));}function p7f(){p7f.pending||null==e7f||(p7f.pending=true,v7f.classList.remove("sk-opened"),Velocity(e7f,"stop"),Velocity(e7f,"fadeOut",150).then(function(){p7f.pending=false;e7f.remove();F7f.$element=e7f=null;F7f.opened=false;Gesture.bulk(V7f,"detach");V7f={};R7f&&R7f();}).catch(function(A7f){p7f.pending=false;console.error(A7f);}),i7f&&i7f());}var P7f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},L7f=P7f.clickToDestroy,a7f=void 0===L7f?true:L7f,i7f=P7f.onClose,R7f=P7f.onDestroy,x7f=sketch.$container,e7f=null,V7f={};F7f.$element=e7f;F7f.attached=V7f;F7f.destroy=p7f;F7f.opened=false;return F7f;};var G4f=sketch.ui;G4f.popout=function(s6f){var r6f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r6f=G4f.popoutLifeCycle(r6f.appendElement||G4f.appendPopoutElement,s6f,r6f);r6f();return r6f;};}();void function(){function T6f(O6f){O6f.preventDefault();O6f.stopPropagation();}var c6f=function(){function g6f(q6f,H6f){for(var y6f=0;y6f<H6f.length;y6f++){var h6f=H6f[y6f];h6f.enumerable=h6f.enumerable||false;h6f.configurable=true;"value"in h6f&&(h6f.writable=true);Object.defineProperty(q6f,h6f.key,h6f);}}return function(Z6f,E6f,u6f){E6f&&g6f(Z6f.prototype,E6f);u6f&&g6f(Z6f,u6f);return Z6f;};}(),n6f=Math.PI/180,I6f=sketch.ui=sketch.ui||{};I6f.Timer=function(){function f6f(F6f,p6f){j6f.visible!==F6f&&(j6f.visible=F6f,clearTimeout(f6f.id),F6f?(K6f.classList.add("visible"),K6f.style.visibility="",D6f=Date.now(),d6f.start()):(K6f.classList.remove("visible"),p6f?G6f():f6f.id=setTimeout(G6f,500)));}function G6f(){K6f.style.visibility="hidden";d6f.stop();}var t6f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},Q6f=sketch.dom,m6f=t6f.renderer,m6f=void 0===m6f?I6f.Timer.defaultRenderer||"basic":m6f,J6f=t6f.type,l6f=void 0===J6f?"progress":J6f,J6f=t6f.range,C6f=void 0===J6f?[0,1]:J6f,J6f=t6f.size,J6f=void 0===J6f?120:J6f,N6f=t6f.useAutoHide,U6f=void 0===N6f?true:N6f,N6f=t6f.useBackdrop,z6f=void 0===N6f?true:N6f,B6f=Number.isFinite(t6f.progress)?t6f.progress:0,W6f=void 0,D6f=void 0,X6f=Q6f.$(t6f.parentNode)||document.body,j6f={},K6f=void 0,b6f=void 0,N6f=void 0,K6f=z6f?Q6f.append(X6f,'\n\t\t\t<div class="arc-timer backdrop">\n\t\t\t\t<div class="arc-timer-canvas">\n\t\t\t\t\t<canvas></canvas>\n\t\t\t\t\t<span></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'):Q6f.append(X6f,'\n\t\t\t<div class="arc-timer">\n\t\t\t\t<canvas class="arc-timer-canvas"></canvas>\n\t\t\t\t<span></span>\n\t\t\t</div>\n\t\t');K6f.addEventListener("touchdown",T6f);K6f.addEventListener("mousedown",T6f);N6f=K6f.querySelector("span");b6f=K6f.querySelector("canvas");b6f.parentNode.style.width=J6f+"px";b6f.parentNode.style.height=J6f+"px";J6f*=window.devicePixelRatio;z6f=b6f.getContext("2d");b6f.width=J6f;b6f.height=J6f;j6f.canvas=b6f;j6f.element=K6f;j6f.destroy=function(){d6f.stop();Q6f.remove(K6f);return j6f;};j6f.show=function(V6f){"cover"===V6f?(f6f(true),b6f.style.visibility="hidden"):(f6f(true),b6f.style.visibility="");return j6f;};j6f.hide=function(){var P6f=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).immediate;f6f(false,void 0===P6f?false:P6f);return j6f;};j6f.message=function(v6f){W6f!==v6f&&(W6f=v6f,K6f.setAttribute("data-message",v6f));return j6f;};j6f.setProgress=function(L6f){j6f.progress=L6f;return j6f;};Object.defineProperties(j6f,{duration:{get:function(){return S6f[l6f].duration();}},progress:{get:function(){return B6f;},set:function(R6f){Number.isFinite(R6f)&&(R6f=Math.min(1,Math.max(0,R6f)),B6f!==R6f&&(f6f(true),B6f=R6f,S6f[l6f].seek&&S6f[l6f].seek(),b6f.style.visibility=""));}}});var S6f={progress:{}};S6f.progress.duration=function(){return 1;};S6f.progress.object=function(){return{value:Math.ceil(100*B6f),format:"PERCENT",percent:B6f};};S6f.time={};S6f.time.duration=function(){return C6f[0]>C6f[1]?C6f[0]-C6f[1]:C6f[1]-C6f[0];};S6f.time.seek=function(){D6f=Date.now()-S6f.time.duration()*B6f*1E3;};S6f.time.elapse=function(){return(Date.now()-D6f)/1E3;};S6f.time.object=function(){var a6f=S6f.time.elapse(),i6f=S6f.time.duration(),x6f=a6f/ i6f,i6f=Math.max(0,Math.min(C6f[1],Math.round(C6f[0]>C6f[1]?i6f-a6f+C6f[1]:a6f+C6f[0]))),k6f=i6f/3600>>0,a6f=(i6f-3600*k6f)/60>>0,i6f=i6f-3600*k6f-60*a6f;10>i6f&&a6f&&(i6f="0"+i6f);return a6f?{value:a6f,format:1===a6f?"MINUTE":"MINUTES",percent:x6f}:{value:i6f,format:1===i6f?"SECOND":"SECONDS",percent:x6f};};j6f.setProgress(B6f);var e6f=o6f[m6f]({$canvas:b6f,$text:N6f,ctx:z6f,prSize:J6f},t6f),d6f=M6f.create(function(Y6f){var w6f=S6f[l6f].object();e6f(w6f,Y6f);1<=w6f.percent&&U6f&&j6f.hide();});Number.isFinite(t6f.progress)?f6f(true):f6f(false);return j6f;};var M6f={create:function(s8N){var A6f=false,r8N=void 0;return{start:function(){if(!A6f){cancelAnimationFrame(r8N);A6f=true;var n8N=0;(function I8N(T8N){A6f&&(r8N=requestAnimationFrame(I8N));var c8N=T8N-n8N;n8N=T8N;s8N(c8N/1E3);}());}},stop:function(){A6f=false;cancelAnimationFrame(r8N);}};}},o6f={basic:function(O8N){var g8N=O8N.$canvas,M8N=O8N.ctx,o8N=O8N.prSize,h8N=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},y8N=sketch.dom,H8N=function(){var E8N=h8N.colorStops||[{offset:0,color:"#9cdb7d"},{offset:1,color:"#378cff"}],Z8N=document.createElement("canvas"),q8N=Z8N.getContext("2d");Z8N.width=50;Z8N.height=1;var j8N=q8N.createLinearGradient(0,0,50,0);E8N.forEach(function(J8N,S8N){return j8N.addColorStop(J8N.offset,J8N.color);});q8N.fillStyle=j8N;q8N.fillRect(0,0,50,1);E8N=[];q8N=q8N.getImageData(0,0,50,1).data;for(Z8N=0;50>Z8N;Z8N++){var u8N=4*Z8N;E8N.push("rgb("+q8N[u8N]+", "+q8N[u8N+1]+", "+q8N[u8N+2]);}return E8N.reverse();}();return function(C8N){var b8N=C8N.percent,f8N=C8N.value;C8N=C8N.format;var t8N=-360*n6f,N8N=360*b8N*n6f,K8N=o8N/2,B8N=o8N/2*.61;M8N.fillStyle=H8N[Math.round(49*(1-b8N))];M8N.clearRect(0,0,g8N.width,g8N.height);M8N.save();M8N.beginPath();M8N.arc(K8N,K8N,K8N,t8N,N8N,false);M8N.arc(K8N,K8N,B8N,N8N,t8N,true);M8N.globalAlpha=.25;M8N.fill();t8N+=360*n6f;M8N.beginPath();M8N.arc(K8N,K8N,K8N,t8N,N8N,false);M8N.arc(K8N,K8N,B8N,N8N,t8N,true);M8N.globalAlpha=1;M8N.fill();M8N.restore();b8N=o8N/300;t8N=26*b8N;M8N.fillStyle=y8N.css(M8N.canvas,"color");M8N.textBaseline="top";M8N.textAlign="center";60>o8N?(M8N.font="bold "+55*b8N+'px "Trebuchet MS", Arial, Helvetica, sans-serif',M8N.fillText(f8N,K8N,K8N-30*b8N)):(M8N.font="bold "+t8N+'px "Trebuchet MS", Arial, Helvetica, sans-serif',M8N.fillText(C8N,K8N,K8N+14*b8N),M8N.font="bold "+46*b8N+'px "Trebuchet MS", Arial, Helvetica, sans-serif',M8N.fillText(f8N,K8N,K8N-44*b8N));};},rainbow:function(W8N){var X8N=W8N.$canvas,m8N=W8N.ctx,l8N=W8N.prSize,Q8N=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},p8N=sketch.dom,d8N=Q8N.transitionSpeed,e8N=void 0===d8N?5:d8N,G8N=Q8N.fillStyle,Q8N=Q8N.showText,U8N=void 0===Q8N?true:Q8N,F8N=function(P8N){var v8N=document.createElement("canvas"),V8N=v8N.getContext("2d");v8N.width=P8N;v8N.height=P8N;V8N.translate(P8N/2,P8N/2);V8N.rotate(Math.PI);V8N.lineWidth=2;V8N.lineCap="round";for(var L8N=0;360>=L8N;L8N++){V8N.save(),V8N.rotate(L8N*n6f),V8N.translate(-V8N.lineWidth/2,V8N.lineWidth/2),V8N.beginPath(),V8N.moveTo(0,0),V8N.lineTo(0,P8N),V8N.closePath(),V8N.strokeStyle="hsl("+L8N+", 100%, 50%)",V8N.stroke(),V8N.restore();}return v8N;}(l8N),z8N=0,D8N=0;return function(R8N,i8N){var k8N=R8N.format;R8N=R8N.percent-z8N;var a8N=Math.min(R8N,e8N*i8N*R8N);if(!isNaN(a8N)){.001>Math.abs(a8N)&&(a8N=R8N);z8N+=a8N;D8N=(D8N+72*i8N)%360;R8N=-360*n6f;a8N=360*z8N*n6f;i8N=l8N/2;var x8N=l8N/2*(U8N?.6:.3);m8N.fillStyle=G8N||"white";m8N.clearRect(0,0,X8N.width,X8N.height);m8N.save();m8N.beginPath();m8N.arc(i8N,i8N,i8N,R8N,a8N,false);m8N.arc(i8N,i8N,x8N,a8N,R8N,true);m8N.globalAlpha=.15;m8N.fill();R8N+=360*n6f;m8N.beginPath();m8N.fillStyle=G8N||"white";m8N.arc(i8N,i8N,i8N,R8N,a8N,false);m8N.arc(i8N,i8N,x8N,a8N,R8N,true);m8N.globalAlpha=1;m8N.fill();m8N.translate(l8N/2,l8N/2);m8N.rotate(D8N*n6f);m8N.translate(-l8N/2,-l8N/2);m8N.globalCompositeOperation="source-atop";m8N.drawImage(F8N,0,0);m8N.restore();m8N.fillStyle=p8N.css(m8N.canvas,"color");if(!U8N){return false;}R8N=l8N/300;a8N=100*z8N>>0;x8N=26*R8N;m8N.textBaseline="top";m8N.textAlign="center";60>l8N?(m8N.font="bold "+55*R8N+'px "Trebuchet MS", Arial, Helvetica, sans-serif',m8N.fillText(a8N,i8N,i8N-30*R8N)):(m8N.font="bold "+x8N+'px "Trebuchet MS", Arial, Helvetica, sans-serif',m8N.fillText(k8N,i8N,i8N+14*R8N),m8N.font="bold "+46*R8N+'px "Trebuchet MS", Arial, Helvetica, sans-serif',m8N.fillText(a8N,i8N,i8N-44*R8N));}};}};(function(){function w8N(){if(!(this instanceof w8N)){throw new TypeError("Cannot call a class as a function");}}c6f(w8N,[{key:"render",value:function(Y8N){}}]);return w8N;}());}();void function(){var A8N=sketch.dom,r2N=sketch.resources,s2N=sketch.util,n2N=sketch.ui.GridView=function(){function O2N(j2N){return T2N.findIndex(function(J2N){return j2N===H2N(J2N);});}function u2N(K2N){var S2N=K2N.item,b2N=S2N.name;K2N="width: "+K2N.cellWidth+"%; height: "+K2N.cellHeight+"px";return h2N?'\n\t\t\t\t<grid-item\n\t\t\t\t\tclass="'+g2N+'"\n\t\t\t\t\t'+(b2N&&'title="'+b2N+'"')+"\n\t\t\t\t\t"+(S2N.id&&'data-id="'+S2N.id+'"')+'\n\t\t\t\t\tdata-key="'+S2N.key+'"\n\t\t\t\t\tstyle="'+K2N+'">\n\t\t\t\t\t'+h2N(S2N)+"\n\t\t\t\t</grid-item>\n\t\t\t":'\n\t\t\t\t<grid-item\n\t\t\t\t\tclass="'+g2N+'"\n\t\t\t\t\ttitle="'+b2N+'"\n\t\t\t\t\tdata-id="'+S2N.id+'"\n\t\t\t\t\tdata-key="'+S2N.key+'"\n\t\t\t\t\tstyle="'+K2N+"; "+r2N.getPreviewCSS(S2N)+'">\n\t\t\t\t</grid-item>\n\t\t\t';}function E2N(t2N){return'\n\t\t\t<div class="row" data-row="'+t2N.rowIndex+'" style="'+("height: "+t2N.rowHeight+"px")+'">\n\t\t\t\t'+t2N.cells.join("")+"\n\t\t\t</div>\n\t\t";}var c2N=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},M2N=c2N.items,T2N=void 0===M2N?[]:M2N,M2N=c2N.className,g2N=void 0===M2N?"":M2N,h2N=c2N.cellRenderer,y2N=c2N.onClusterChange,M2N=c2N.keyFinder,H2N=void 0===M2N?function(C2N){return C2N;}:M2N,c2N=c2N.noDataMessage,q2N=void 0===c2N?"":c2N,I2N=A8N.create('\n\t\t<div class="clusterize-scroll" data-ref="scrollElem" allow-touch-events>\n\t\t  <div class="clusterize-content" data-ref="contentElem">\n\t\t  \t<div class="clusterize-no-data"></div>\n\t\t  </div>\n\t\t</div>\n\t'),Z2N=A8N.$('[data-ref="contentElem"]',I2N);Object.defineProperty(I2N,"items",{get:function(){return T2N;},set:function(N2N){Array.isArray(N2N)&&(T2N.splice(0),T2N.push.apply(T2N,N2N),I2N.updateClusterize());}});I2N.getLayoutParameters=function(){var f2N=A8N.append(I2N,'<grid-item class="get-measurement"></grid-item>'),B2N=A8N.measure(f2N,{sansScale:true});f2N.remove();return n2N.calculateLayoutParameters({width:I2N.offsetWidth,height:I2N.offsetHeight},B2N,T2N);};var o2N=void 0;I2N.updateClusterize=s2N.debounce(function(){var m2N=I2N.getLayoutParameters(),D2N=m2N.cellsPerRow,e2N=m2N.cellWidth,G2N=m2N.cellHeight,U2N=m2N.rowsInBlock,m2N=m2N.rowHeight,l2N=T2N.length,Q2N=void 0;if(l2N){for(var Q2N=[],l2N=Math.max(l2N/D2N>>0,1)+1,z2N=0;z2N<l2N;z2N++){for(var W2N=[],d2N=0;d2N<D2N;d2N++){var X2N=T2N[z2N*D2N+d2N];X2N&&W2N.push(u2N({item:X2N,cellWidth:e2N,cellHeight:G2N}));}Q2N.push(E2N({rowIndex:z2N,cells:W2N,rowHeight:m2N}));}}o2N?(o2N.options.rows_in_block=U2N,o2N.update(Q2N)):o2N=new Clusterize({rows:Q2N,rows_in_block:U2N,blocks_in_cluster:2,no_data_text:q2N,scrollElem:I2N,contentElem:Z2N,callbacks:{clusterChanged:y2N}});},100);I2N.addItem=function(F2N){T2N.push(F2N);I2N.updateClusterize();};I2N.getItemByKey=function(p2N){p2N=O2N(p2N);if(-1<p2N){return T2N[p2N];}};I2N.addOrUpdateItemByKey=function(V2N,P2N){V2N=O2N(V2N);-1===V2N?I2N.addItem(P2N):I2N.addOrUpdateItemAtIndex(V2N,P2N);};I2N.removeItemByKey=function(v2N){v2N=O2N(v2N);-1<v2N&&I2N.removeItemAtIndex(v2N);};I2N.scrollToItemByKey=function(L2N){L2N=O2N(L2N);-1<L2N&&I2N.scrollToItemAtIndex(L2N);};I2N.addOrUpdateItemAtIndex=function(R2N,i2N){(R2N=T2N[R2N])?s2N.assignDeep(R2N,i2N):I2N.addItem(i2N);};I2N.removeItemAtIndex=function(a2N){T2N.splice(a2N,1);I2N.updateClusterize();};I2N.scrollToItemAtIndex=function(w2N){var x2N=I2N.getLayoutParameters(),k2N=x2N.rowHeight;w2N=w2N/x2N.cellsPerRow>>0;x2N=I2N.scrollHeight-I2N.offsetHeight;I2N.scrollTop=w2N*k2N>x2N?Math.ceil(x2N/k2N)*k2N-k2N:w2N*k2N;};I2N.getIndexFromScroll=function(A2N){var Y2N=I2N.getLayoutParameters(),r0N=Y2N.cellsPerRow,Y2N=Y2N.rowHeight;null==A2N&&(A2N=I2N.scrollTop);return(A2N/Y2N>>0)*r0N;};return I2N;};n2N.calculateLayoutParameters=function(M0N,s0N,c0N){var O0N=M0N.width;M0N=M0N.height;var I0N=1,n0N=0,T0N=0,g0N=1,o0N=0;c0N.length&&(c0N=r2N.getPreview(c0N[0]),I0N=s0N.padding.left+s0N.padding.right,T0N=s0N.padding.top+s0N.padding.bottom,(n0N=s0N.margin.left+s0N.margin.right)&&(n0N+=1),s0N=s0N.margin.top+s0N.margin.bottom,I0N=O0N/(c0N.width+I0N+n0N)>>0||1,n0N=100/I0N-n0N/O0N*100,T0N=c0N.height+T0N,o0N=T0N+s0N,g0N=Math.ceil(M0N/o0N));return{cellsPerRow:I0N,cellWidth:n0N,cellHeight:T0N,rowsInBlock:g0N,rowHeight:o0N};};}();void function(){function C0N(P0N,v0N){return P0N.find(function(L0N){return L0N.key===v0N;});}function u0N(R0N,i0N){return C0N(R0N,i0N.getAttribute("data-key"));}function Z0N(w0N,k0N){var x0N=void 0,a0N=sketch.doc.toolkit.getCurrentConfig();"font"===k0N?x0N=J0N.unprefixed(a0N.fontFamily||""):"tileBrush"===k0N?(a0N=a0N.stroke)&&(x0N=J0N.unprefixed(a0N.pattern.src||"")):x0N=J0N.unprefixed(a0N.src||"");return C0N(w0N,x0N)||D0N.selected(k0N)||w0N[0];}function q0N(A0N){D0N.select(A0N);var Y0N=A0N.type?A0N.type[0]:"clipart",r3N=document.querySelector("[data-key='"+A0N.key+"']");if(r3N){var s3N=r3N.parentNode.parentNode,n3N=r3N.querySelector("grid-graphic");K0N.addClass(r3N,"selected",s3N.querySelectorAll("grid-item"));K0N.toggleClass(n3N,"sk-invert",!!m0N(Y0N,"fg"));}if(Y0N=K0N.$(".sk-trigger-"+Y0N)){if(r3N=Y0N.querySelector(".icon")){r3N.src=sketch.resources.getPreviewUrl(A0N);}if(Y0N=Y0N.querySelector("grid-title")){Y0N.innerHTML=A0N.title||A0N.key;}}}function m0N(I3N,T3N){return"font"!==I3N&&"stamp"!==I3N?"":sketch.themify.isDark(T3N)?"sk-invert":"";}function Q0N(M3N){function o3N(g3N){function h3N(){var y3N=g3N.querySelector("grid-graphic"),H3N=g3N.querySelector("grid-icon");y0N.empty(g3N);g3N.appendChild(H3N);g3N.appendChild(y3N);g3N.classList.remove("flippable");}g3N&&c3N!==g3N&&(g3N.classList.contains("flipped")?(JSEvent.onTransitionEnd(g3N).then(h3N),g3N.classList.remove("flipped")):h3N());}function O3N(Z3N){var q3N="",E3N=Z3N.author;E3N&&E3N.length&&(q3N+=B0N("author")+": <br>",E3N.forEach(function(j3N){var u3N=j3N.name;q3N+='<a href="'+j3N.url+'" data-tooltip="'+u3N+'" target="_blank">'+u3N+"</a><br>";}),q3N+="<br>");(Z3N=Z3N.license)&&Z3N.length&&(q3N+=B0N("license")+": <br>",Z3N.forEach(function(J3N){q3N+='<a href="'+J3N.url+'" target="_blank">'+J3N.type+"</a><br>";}));return q3N;}if(M3N){var c3N=y0N.$("[data-key='"+M3N.key+"']");o3N(y0N.$(".flippable"));(function(S3N){if(!S3N.classList.contains("flippable")){S3N.classList.add("flippable");y0N.append(S3N,'<div class="back">'+O3N(M3N)+"</div>");var K3N=y0N.append(S3N,'<div class="front"></div>');K3N.appendChild(S3N.querySelector("grid-graphic"));K3N.appendChild(S3N.querySelector("grid-icon"));}}(c3N));c3N.classList.toggle("flipped");}else{o3N();}}function V0N(t3N){function U3N(G3N){return G3N.elementFromPoint(function(e3N){return e3N.classList.contains("back");});}function Q3N(p3N){var F3N=p3N.env,v3N=F3N.$clone,L3N=F3N.resource,i3N=F3N.src;if(p3N.START){p3N.prevent();var V3N=F3N.$resource=p3N.elementFromPoint("grid-item");if(!V3N){return p3N.intercept(null);}L3N=F3N.resource=u0N(N3N.searchResults,V3N);i3N=F3N.src=C3N.getUrl(L3N);v3N=F3N.$clone=l0N.clone(V3N,{id:"sk-draggable"});v3N.style.backgroundColor="transparent";C3N.load(L3N);var P3N=l0N.measure(V3N),R3N=P3N.height,x3N=P3N.border,a3N=P3N.padding;F3N.offsetLeft=a3N.left+x3N.left-P3N.width/2;F3N.offsetTop=a3N.top+x3N.top-R3N/2;document.body.appendChild(v3N);d3N(V3N,{layers:[]});z3N();}V3N=v3N.style;P3N=p3N.asClientXY();p3N.CHANGE&&(R3N=p3N.bbox.pageYOffset,V3N.left=P3N.x+p3N.bbox.pageXOffset+F3N.offsetLeft+"px",V3N.top=P3N.y+R3N+F3N.offsetTop+"px",V3N.transform="none");p3N.END&&(F3N=b3N.scene,V3N.display="none",p3N.elementFromPoint("sketch-scrollarea")?(F3N.deselectAll(),X3N(L3N,b3N.pointInSceneFromWindow(P3N))):sketch.feature.io.exportDrop&&W3N(i3N,P3N),v3N.remove());}function W3N(w3N,k3N){if(!(0<k3N.x&&0<k3N.y&&k3N.x<global.innerWidth&&k3N.y<global.innerHeight)){return k3N=b3N.selection.layer,h0N.load(w3N,{type:k3N?k3N.type:b3N.tool.type}).then(function(Y3N){var A3N=(sketch.string.filename(w3N)||"").split(".").shift();Y3N.vob?sketch.download.blob(new Blob([Y3N.stringify()],{type:"image/svg+xml"}),A3N+".svg"):h0N.getBlob(Y3N.assetId).then(function(r5N){sketch.download.blob(r5N,A3N+".png");});});}}function d3N(T5N,M5N){var I5N=T5N.dataset;if(I5N.downloading){return Promise.reject("Resource is already downloading.");}I5N.downloading=true;sketch.emit("tooltip:hide");var s5N=u0N(N3N.searchResults,T5N),c5N=h0N.prefixed(s5N.key);q0N(s5N);var n5N=void 0;h0N.exists(c5N)||(n5N=new S0N.Timer({parentNode:T5N,format:"percent",size:90,progress:0}));return C3N.load(s5N,{onProgress:function(o5N){n5N.progress=o5N;}}).then(function(){var O5N={},g5N=s5N.key,h5N=s5N.type;h5N.includes("font")?O5N.fontFamily=g5N:h5N.includes("tileBrush")?O5N.stroke={pattern:{src:h0N.prefixed(g5N)}}:O5N.src=h0N.prefixed(g5N);return b3N.configSelection(O5N,M5N);}).catch(function(y5N){console.error(y5N);S0N.log&&S0N.log(m3N("loading-error")+" '"+s5N.value+"'");}).finally(function(){I5N.downloading=false;n5N&&n5N.destroy();});}var b3N=t3N.doc,l3N=t3N.type,B3N=t3N.attached,z3N=t3N.destroy,N3N=t3N.state,f3N=t3N.$content,X3N=t3N.chooseResource,D3N=t3N.chooseResourceAndExitFinder,C3N=sketch.resources,m3N=sketch.lang.translate;B3N.drag=Gesture.drag(f3N,function(H5N){var q5N=H5N.elementFromPoint("grid-item");if(q5N){if(H5N.isClick(10)){var Z5N=u0N(N3N.searchResults,q5N);U3N(H5N)?Q0N(Z5N):H5N.elementFromPoint("grid-icon")?(Q0N(Z5N),q0N(Z5N)):(Q0N(),d3N(q5N,{layers:b3N.inSelectTool()?b3N.selection:[]}).then(D3N));}else{H5N.isTouch&&H5N.isLongPress();}}},{preventDefault:false});"clipart"===l3N&&(Gesture.isTouch?Gesture.taphold(f3N,function(E5N){E5N.stop();E5N.START&&Gesture.handlers.drag({event:E5N.originalEvent,target:E5N.originalEvent.target,position:"page",listener:Q3N});}):Gesture.drag(f3N,{position:"page",listener:function(u5N){u5N.waitFor(function(j5N){return j5N.hasMoved(5);}).thenReplay(Q3N);}}));return function(){var J5N=B3N.dragToAdd;J5N&&(J5N.pause(),J5N=J5N.env,J5N.$clone&&J5N.$clone.remove());};}function p0N(K5N){function b5N(U5N){function G5N(e5N){var F5N=S5N.canvas||(S5N.canvas=sketch.Canvas2D()),p5N=F5N.style;e5N=e5N?N5N.stroke.isDark():N5N.fill.isDark();e5N=z5N.media.get(e5N?"transparent":"transparentDark").css;p5N.background=e5N;return F5N;}var W5N=U5N.parentNode.parentNode;if(W5N&&(t5N.toggleClass(U5N,"hovered",true,W5N.querySelectorAll("grid-item")),W5N=u0N(l5N.searchResults,U5N))){return m5N(),S5N.promise=X5N(B5N,W5N).then(function(P5N){var V5N=G5N(d5N.visible(P5N.stroke));return sketch.renderLayerPreview(P5N,{ctx:V5N.ctx,width:250,height:250}).then(function(v5N){v5N=v5N.layer;sketch.emit("tooltip:show",V5N,{element:U5N,stickToEdge:true});S5N.layer=v5N;S5N.promise=null;});}).catch(function(L5N){console.error(L5N);});}}function m5N(){b5N.debounce.cancel();S5N.layer&&(S5N.layer.destroy(),S5N.layer=null);S5N.promise&&(S5N.promise.cancel(),S5N.promise=null);}function C5N(){sketch.emit("tooltip:hide");m5N();}function X5N(R5N,i5N){"font"===R5N&&(R5N="fancyText");return D5N.load(i5N,{asPreview:"tileBrush"===R5N}).then(function(x5N){var a5N=f5N.toolkit.getConfig(R5N).toSerializable();sketch.detect.text[R5N]?a5N.fontFamily=i5N.key:"tileBrush"===R5N?a5N.stroke.pattern.src=x5N.assetId:a5N.src=x5N.assetId;return a5N;});}var f5N=K5N.doc,B5N=K5N.type,Q5N=K5N.attached,l5N=K5N.state;K5N=K5N.$assetFinder;var t5N=sketch.dom,N5N=sketch.globals,D5N=sketch.resources,d5N=sketch.style,z5N=sketch.ui,S5N={},b5N=sketch.util.debounce(b5N,350);Gesture.on(K5N,{mouseout:function(k5N){t5N.elementFromPoint(k5N,"grid-item")||C5N();},mouseover:function(w5N){if(w5N=t5N.elementFromPoint(w5N,"grid-item")){S5N.$asset=w5N,C5N(),b5N(w5N);}}});Q5N.preview={detach:function(){C5N();}};}function G0N(c9N,o9N,r9N){function Y5N(g9N,O9N){!g9N&&A5N&&(g9N=A5N.value);O9N=c9N(s9N,I9N,g9N,O9N);O9N.then||(O9N=Promise.resolve(O9N));return O9N.then(function(){M9N(s9N.searchResults,g9N);}).catch(function(h9N){console.error(h9N);}).finally(function(){var y9N=T9N.querySelector("sk-loader");Velocity(y9N,"stop");Velocity(y9N,"fadeOut",150);});}var I9N=r9N.type,n9N=r9N.attached,s9N=r9N.state,A5N=r9N.$input,T9N=r9N.$assetFinder,M9N=r9N.updateGridContents,Y5N=E0N.debounce(Y5N,o9N);return{attach:function(){A5N&&(n9N.input=JSEvent.on(A5N,"input",function(){return Y5N();}),n9N.inputChange=JSEvent.on(A5N,"change",function(){return Y5N();}),n9N.inputStop=JSEvent.on(A5N,"mousedown",Gesture.stop));},detach:function(){Gesture.bulk(n9N,"detach");},search:function(H9N,q9N){return c9N(s9N,I9N,H9N,q9N);},searchThenUpdateGrid:Y5N,getNextPageThenUpdateGrid:function(Z9N){JSEvent.on(Z9N,"scroll",function(E9N){var j9N=Z9N.offsetHeight,u9N=Z9N.scrollTop;E9N.START&&sketch.emit("tooltip:hide");var J9N=s9N.numFound;E9N=Z9N.getIndexFromScroll(u9N);j9N=Z9N.getIndexFromScroll(u9N+j9N);E9N=E0N.floor(E9N,500);j9N=Math.min(E0N.ceil(j9N,500),J9N);u9N=[];for(J9N=s9N.hasPages;E9N<j9N;E9N+=500){J9N.includes(E9N)||u9N.push(E9N);}u9N.length&&(E9N=T9N.querySelector("sk-loader"),Velocity(E9N,"stop"),Velocity(E9N,"fadeIn",150),Y5N(null,u9N));});}};}var J0N=sketch.assets,K0N=sketch.dom,z0N={},D0N={selected:function(S9N){return z0N[S9N];},select:function(K9N){z0N[K9N.type]=K9N;}},d0N=sketch.dom,t0N=sketch.resources,H0N=sketch.ui,e0N=sketch.util,N0N=sketch.lang.translate;H0N.appendAssetFinderTrigger=function(B9N,t9N){var f9N=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).tooltip,N9N=t0N.getCollection(t9N),C9N=function(Q9N){var m9N=Z0N(N9N,t9N),l9N=t0N.getPreviewUrl(m9N),m9N=m9N.title||m9N.key,l9N='<img class="icon '+m0N(t9N,"bg")+'" src="'+l9N+'" />';return d0N.append(Q9N,'\n\t\t\t<grid-view-trigger class="sk-trigger-'+t9N+'">\n\t\t\t\t'+l9N+"\n\t\t\t\t<grid-title>"+m9N+'</grid-title>\n\t\t\t\t<span class="icon-arrow-down"></span>\n\t\t\t</grid-view-trigger>\n\t\t');}(B9N),b9N=void 0;(function(D9N,z9N){z9N&&sketch.emit("tooltip:attach",D9N,function(){return b9N&&b9N.$element?N0N("close"):N0N(z9N);},{stickToEdge:true});}(C9N,f9N));H0N.click(C9N,e0N.throttle(function(){b9N&&b9N.$element?b9N.destroy():b9N=H0N.AssetFinder(sketch.$container,{apiUrl:"https://asset.paintserver.com/api/",items:N9N,$trigger:C9N});},300));H0N.elements.push({type:"AssetFinder",destroy:function(){b9N&&b9N.$element&&b9N.destroy();},updateControl:function(){q0N(Z0N(N9N,t9N));}});return C9N;};var y0N=sketch.dom,B0N=sketch.lang.translate,h0N=sketch.assets,l0N=sketch.dom,S0N=sketch.ui;j.initSymbol();j.initSymbol();j.initSymbolIterator();var W0N="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(d9N){return typeof d9N;}:function(X9N){j.initSymbol();j.initSymbol();j.initSymbol();return X9N&&"function"===typeof Symbol&&X9N.constructor===Symbol&&X9N!==Symbol.prototype?"symbol":typeof X9N;},U0N=sketch.string,E0N=sketch.util,f0N={Memory:function(W9N){function U9N(G9N){return lunr(function(){var e9N=this;e9N.field("title",{boost:10});e9N.field("type",{boost:5});e9N.field("tags",{boost:5});e9N.field("value",{boost:10});e9N.ref("index");G9N.forEach(function(F9N,v9N){var V9N=F9N.tags,P9N=F9N.title,p9N=F9N.type;F9N=F9N.value;p9N.includes("font")?F9N=F9N.family.replace(/[.-\/]/g," "):("undefined"===typeof F9N?false:"object"===W0N(F9N))&&(F9N=null);e9N.add({index:v9N,tags:V9N,type:p9N,title:P9N,value:F9N});});});}return G0N(function(L9N,a9N,i9N){var R9N=L9N.items;if(!i9N||!i9N.trim()){return L9N.searchResults=R9N;}L9N.lunr||(L9N.lunr=U9N(R9N));a9N=L9N.lunr.search(i9N).map(function(x9N){return R9N[x9N.ref];});return L9N.searchResults=a9N;},150,W9N);},PaintServer:function(w9N,k9N){k9N=U0N.trimRight(k9N,"/");return G0N(function(Y9N,A9N,r1N){return Promise.each(3<arguments.length&&void 0!==arguments[3]?arguments[3]:[0],function(s1N){return sketch.requestJSON(k9N+"/"+A9N+"?q="+r1N+"&rows=500&start="+s1N+"&sort=featured+desc,popularity+asc&fl=id,type,key,title,value,preview,variants,author,tags,featured,license,defaultVariant").then(function(I1N){var n1N=I1N.response;I1N=n1N.docs;var n1N=Y9N.numFound=n1N.numFound,T1N=Y9N.hasPages;T1N.includes(s1N)||T1N.push(s1N);if(0===s1N){for(Y9N.searchResults=I1N,I1N=I1N.length;I1N<n1N;I1N++){Y9N.searchResults[I1N]="";}}else{for(n1N=0,T1N=I1N.length;n1N<T1N;n1N++){Y9N.searchResults[s1N+n1N]=I1N[n1N]||"";}}});});},500,w9N);}},F0N=sketch.assets,j0N=sketch.dom,b0N=sketch.ui,X0N=sketch.util;sketch.ui.AssetFinder=function(b1N){function Z1N(x1N,k1N){Q1N.opened&&(k1N&&(sketch.emit("assetFinder:search",{type:o1N,searchQuery:k1N,results:x1N}),m1N&&m1N(x1N,k1N)),x1N.length?(g1N||(g1N=b0N.GridView({type:o1N,cellRenderer:W1N,onClusterChange:function(){q0N(Z0N(M1N,o1N));}}),JSEvent.on(g1N,"scroll",function(){sketch.emit("tooltip:hide");})),H1N.contains(g1N)||(H1N.innerHTML="",H1N.appendChild(g1N)),M1N=x1N,M1N.forEach(function(w1N){S1N.add(w1N);}),x1N=g1N.scrollTop,g1N.items=M1N,x1N?g1N.scrollTop=x1N:g1N.scrollToItemAtIndex(M1N.indexOf(Z0N(M1N,o1N))),B1N&&t1N.getNextPageThenUpdateGrid(g1N)):H1N.innerHTML="<grid-no-results>No results</grid-no-results>");}function U1N(){var A1N=O1N.style,Y1N=O1N.offsetLeft,r4N=O1N.offsetTop;sketch.lang.rtl&&(Y1N=global.innerWidth-(O1N.offsetWidth+Y1N));A1N.width=b1N.offsetWidth-Y1N+"px";A1N.height=b1N.offsetHeight-r4N+"px";}function a1N(){j1N&&j1N();}function F1N(s4N){var n4N=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};sketch.emit("assetFinder:choose",s4N);if(C1N){C1N(s4N);}else if(sketch.detect.media[o1N]){var I4N=y1N.scene,T4N=y1N.toolkit.getCurrentConfig();return S1N.load(s4N).then(function(){return I4N.add({centerOnPoint:true,type:o1N,src:F0N.prefixed(s4N.key),opacity:T4N.opacity,blend:T4N.blend,x:n4N.x,y:n4N.y});}).then(I4N.select).then(function(){z1N&&z1N();});}}function D1N(){d1N&&K1N();if(y1N.scene.selection.length){if(y1N.inSelectTool()){return;}y1N.scene.deselectAll();}F1N(Z0N(M1N,o1N));}function i1N(c4N){c4N=j0N.append(c4N,'<grid-icon class="icon-upload"></grid-icon>');sketch.emit("tooltip:attach",c4N,function(){return J1N("upload");},{stickToEdge:true});var M4N=sketch.uploader;M4N.addInput({target:c4N,onchange:function(){l1N&&l1N.apply(void 0,arguments);M4N.onChangeDefault.apply(M4N,arguments);K1N();}});}var c1N=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},y1N=sketch.doc,S1N=sketch.resources,J1N=sketch.lang.translate,M1N=c1N.items||[],B1N=c1N.apiUrl,o1N=c1N.type||M1N[0]&&M1N[0].type[0]||"clipart",C1N=c1N.onChoose,f1N=c1N.onDestroy,z1N=c1N.onPlace,m1N=c1N.onSearch,l1N=c1N.onUpload,e1N=!!c1N.allowUploading,R1N=false!==c1N.clickToDestroy,E1N=c1N.defaultSearch||"",p1N=false!==c1N.enableGestures,v1N=false!==c1N.enableKeyboard,L1N=false!==c1N.enablePreviewTooltip,u1N=false!==c1N.enableSearchBox,d1N=false!==c1N.enableSelfDestruct,X1N=m0N(o1N,"bg"),W1N=c1N.cellRenderer||function(o4N){if(o4N){return'\n\t\t\t<grid-icon class="icon-info"></grid-icon>\n\t\t\t<grid-graphic class="'+X1N+'" style="'+S1N.getPreviewCSS(o4N)+'"></grid-graphic>\n\t\t';}},N1N=c1N.$trigger||j0N.create("dummy"),G1N=function(){var O4N={reset:function(){var g4N=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];O4N.hasPages=[];O4N.items=g4N;O4N.searchResults=g4N;O4N.start=0;}};O4N.reset(M1N);return O4N;}(),g1N=void 0,q1N={},O1N=function(y4N){var h4N;u1N?(h4N=[],u1N&&h4N.push('<input value="'+E1N+'" placeholder="'+J1N("find-wildcard",J1N(o1N)||"").trim()+'..." />'),h4N="\n\t\t\t<grid-header>\n\t\t\t\t"+h4N.join("\n")+"\n\t\t\t</grid-header>\n\t\t"):h4N="";return j0N.append(y4N,'\n\t\t\t<grid-view class="asset-finder sk-pane-'+o1N+'">\n\t\t\t\t'+h4N+"\n\t\t\t\t<grid-content "+(u1N?'style="padding-top: 80px"':"")+"></grid-content>\n\t\t\t\t<sk-loader></sk-loader>\n\t\t\t</grid-view>\n\t\t");}(b1N),H1N=O1N.querySelector("grid-content"),V1N=O1N.querySelector("grid-header"),P1N=O1N.querySelector("input");U1N();q1N.resize=JSEvent.on(global,"resize",function(){U1N();Z1N(M1N);});v1N&&(q1N.enter=Keyster.on("enter",D1N),q1N.escape=Keyster.on("escape",a1N));var Z1N=X0N.throttle(Z1N,250),Q1N=b0N.popout(N1N,{clickToDestroy:R1N,appendElement:function(){return O1N;},onDestroy:function(){delete h1N.$element;c1N.destroy?c1N.destroy():(O1N.remove(),Gesture.bulk(q1N,"detach"));f1N&&f1N();}}),K1N=Q1N.destroy,h1N={$element:O1N,$assetFinder:O1N,$content:H1N,$input:P1N,$trigger:N1N,attached:q1N,destroy:K1N,doc:y1N,chooseResource:F1N,chooseResourceAndExitFinder:D1N,originalItems:M1N,state:G1N,type:o1N,updateGridContents:Z1N,selectResourceByKey:function(H4N){(H4N=C0N(M1N,H4N))&&q0N(H4N);}};e1N&&i1N(V1N);var j1N=void 0;p1N&&(j1N=V0N(h1N));var t1N=function(q4N){var Z4N=f0N.Memory(h1N),E4N=f0N.PaintServer(h1N,q4N);q4N=q4N?E4N:Z4N;q4N.attach();return{defaultEngine:q4N,memory:Z4N,paintServer:E4N};}(B1N).defaultEngine;"string"===typeof E1N?t1N.searchThenUpdateGrid(E1N):Z1N(M1N);L1N&&p0N(h1N);return h1N;};}();void function(){sketch.ui.HiddenRedoButton=function(){function J4N(K4N){function t4N(){C4N.detach();u4N.remove(S4N);}if(sketch.doc.history.canRedo()){var b4N=K4N.parentNode,S4N=u4N.$('[data-tool="redo"]',b4N);if(!S4N){var C4N=Gesture.on(document.body,"mousedown",t4N);Gesture.on(K4N,"mousedown",Gesture.stop);S4N=u4N.append(b4N,K4N.outerHTML.replace(/undo/g,"redo"));sketch.emit("tooltip:attach",S4N,function(){return j4N("redo");});Gesture.on(S4N,"mousedown",Gesture.cancel);Gesture.click(S4N,function(){var N4N=sketch.doc.history.canRedo();N4N&&sketch.exec("redo");1===N4N&&t4N();});}}}var u4N=sketch.dom,j4N=sketch.lang.translate;sketch.on("undo",function(){u4N.$$('[data-tool="undo"]').forEach(J4N);});};}();(function(B4N,f4N){"object"===typeof exports&&"object"===typeof module?module.exports=f4N():"function"===typeof define&&define.amd?define([],f4N):"object"===typeof exports?exports.InfiniteTree=f4N():B4N.InfiniteTree=f4N();}(this,function(){return function(Q4N){function m4N(D4N){if(l4N[D4N]){return l4N[D4N].exports;}var z4N=l4N[D4N]={i:D4N,l:false,exports:{}};Q4N[D4N].call(z4N.exports,z4N,z4N.exports,m4N);z4N.l=true;return z4N.exports;}var l4N={};m4N.m=Q4N;m4N.c=l4N;m4N.d=function(d4N,X4N,W4N){m4N.o(d4N,X4N)||Object.defineProperty(d4N,X4N,{configurable:false,enumerable:true,get:W4N});};m4N.n=function(U4N){var G4N=U4N&&U4N.__esModule?function(){return U4N["default"];}:function(){return U4N;};m4N.d(G4N,"a",G4N);return G4N;};m4N.o=function(e4N,F4N){return Object.prototype.hasOwnProperty.call(e4N,F4N);};m4N.p="";return m4N(m4N.s=7);}([function(v4N,L4N){function p4N(){this._events=this._events||{};this._maxListeners=this._maxListeners||void 0;}function V4N(R4N){return"function"===typeof R4N;}function P4N(i4N){return"object"===typeof i4N&&null!==i4N;}v4N.exports=p4N;p4N.EventEmitter=p4N;p4N.prototype._events=void 0;p4N.prototype._maxListeners=void 0;p4N.defaultMaxListeners=10;p4N.prototype.setMaxListeners=function(a4N){if("number"!==typeof a4N||0>a4N||isNaN(a4N)){throw TypeError("n must be a positive number");}this._maxListeners=a4N;return this;};p4N.prototype.emit=function(A4N){var r7N=this;var k4N,x4N,w4N,Y4N;this._events||(this._events={});if("error"===A4N&&(!this._events.error||P4N(this._events.error)&&!this._events.error.length)){k4N=arguments[1];if(k4N instanceof Error){throw k4N;}x4N=Error('Uncaught, unspecified "error" event. ('+k4N+")");x4N.context=k4N;throw x4N;}x4N=this._events[A4N];if(void 0===x4N){return false;}if(V4N(x4N)){switch(arguments.length){case 1:x4N.call(this);break;case 2:x4N.call(this,arguments[1]);break;case 3:x4N.call(this,arguments[1],arguments[2]);break;default:k4N=Array.prototype.slice.call(arguments,1),x4N.apply(this,k4N);}}else if(P4N(x4N)){for(k4N=Array.prototype.slice.call(arguments,1),Y4N=x4N.slice(),x4N=Y4N.length,w4N=0;w4N<x4N;w4N++){Y4N[w4N].apply(r7N,k4N);}}return true;};p4N.prototype.addListener=function(s7N,n7N){if(!V4N(n7N)){throw TypeError("listener must be a function");}this._events||(this._events={});this._events.newListener&&this.emit("newListener",s7N,V4N(n7N.listener)?n7N.listener:n7N);this._events[s7N]?P4N(this._events[s7N])?this._events[s7N].push(n7N):this._events[s7N]=[this._events[s7N],n7N]:this._events[s7N]=n7N;P4N(this._events[s7N])&&!this._events[s7N].warned&&(n7N=void 0!==this._maxListeners?this._maxListeners:p4N.defaultMaxListeners)&&0<n7N&&this._events[s7N].length>n7N&&(this._events[s7N].warned=true,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[s7N].length),"function"===typeof console.trace&&console.trace());return this;};p4N.prototype.on=p4N.prototype.addListener;p4N.prototype.once=function(M7N,I7N){function T7N(){this.removeListener(M7N,T7N);c7N||(c7N=true,I7N.apply(this,arguments));}if(!V4N(I7N)){throw TypeError("listener must be a function");}var c7N=false;T7N.listener=I7N;this.on(M7N,T7N);return this;};p4N.prototype.removeListener=function(g7N,O7N){var o7N,y7N,h7N;if(!V4N(O7N)){throw TypeError("listener must be a function");}if(!this._events||!this._events[g7N]){return this;}o7N=this._events[g7N];h7N=o7N.length;y7N=-1;if(o7N===O7N||V4N(o7N.listener)&&o7N.listener===O7N){delete this._events[g7N],this._events.removeListener&&this.emit("removeListener",g7N,O7N);}else if(P4N(o7N)){for(;0<h7N--;){if(o7N[h7N]===O7N||o7N[h7N].listener&&o7N[h7N].listener===O7N){y7N=h7N;break;}}if(0>y7N){return this;}1===o7N.length?(o7N.length=0,delete this._events[g7N]):o7N.splice(y7N,1);this._events.removeListener&&this.emit("removeListener",g7N,O7N);}return this;};p4N.prototype.removeAllListeners=function(q7N){var Z7N=this;var H7N;if(!this._events){return this;}if(!this._events.removeListener){return 0===arguments.length?this._events={}:this._events[q7N]&&delete this._events[q7N],this;}if(0===arguments.length){for(H7N in Z7N._events){"removeListener"!==H7N&&Z7N.removeAllListeners(H7N);}this.removeAllListeners("removeListener");this._events={};return this;}H7N=this._events[q7N];if(V4N(H7N)){this.removeListener(q7N,H7N);}else if(H7N){for(;H7N.length;){Z7N.removeListener(q7N,H7N[H7N.length-1]);}}delete this._events[q7N];return this;};p4N.prototype.listeners=function(E7N){return this._events&&this._events[E7N]?V4N(this._events[E7N])?[this._events[E7N]]:this._events[E7N].slice():[];};p4N.prototype.listenerCount=function(u7N){if(this._events){u7N=this._events[u7N];if(V4N(u7N)){return 1;}if(u7N){return u7N.length;}}return 0;};p4N.listenerCount=function(j7N,J7N){return j7N.listenerCount(J7N);};},function(S7N,t7N,C7N){var b7N,K7N;(function(){function N7N(){for(var m7N=[],l7N=0;l7N<arguments.length;l7N++){var B7N=arguments[l7N];if(B7N){var Q7N=typeof B7N;if("string"===Q7N||"number"===Q7N){m7N.push(B7N);}else if(Array.isArray(B7N)){m7N.push(N7N.apply(null,B7N));}else if("object"===Q7N){for(var z7N in B7N){f7N.call(B7N,z7N)&&B7N[z7N]&&m7N.push(z7N);}}}}return m7N.join(" ");}var f7N={}.hasOwnProperty;"undefined"!==typeof S7N&&S7N.exports?S7N.exports=N7N:!(b7N=[],K7N=function(){return N7N;}.apply(t7N,b7N),void 0!==K7N&&(S7N.exports=K7N));}());},function(d7N,D7N,X7N){D7N.__esModule=true;D7N["default"]=function(p7N){for(var U7N=arguments.length,e7N=Array(1<U7N?U7N-1:0),W7N=1;W7N<U7N;W7N++){e7N[W7N-1]=arguments[W7N];}if(void 0===p7N||null===p7N){throw new TypeError("Cannot convert undefined or null to object");}U7N=Object(p7N);for(W7N=0;W7N<e7N.length;W7N++){var G7N=e7N[W7N];if(void 0!==G7N&&null!==G7N){for(var F7N in G7N){G7N.hasOwnProperty(F7N)&&(U7N[F7N]=G7N[F7N]);}}}return U7N;};},function(V7N,P7N,L7N){P7N.__esModule=true;var v7N=(V7N=L7N(2))&&V7N.__esModule?V7N:{"default":V7N};V7N=function(){function R7N(i7N){if(!(this instanceof R7N)){throw new TypeError("Cannot call a class as a function");}this.parent=this.id=null;this.children=[];this.state={};(0,v7N["default"])(this,i7N);this.children=this.children||[];}R7N.prototype.contains=function(a7N){var x7N=this;for(;a7N instanceof R7N&&a7N!==this;){if(a7N.parent===x7N){return true;}a7N=a7N.parent;}return false;};R7N.prototype.getChildAt=function(k7N){var w7N=null;0<this.children.length&&0<=k7N&&k7N<this.children.length&&(w7N=this.children[k7N]);return w7N;};R7N.prototype.getChildren=function(){return this.children;};R7N.prototype.getFirstChild=function(){var Y7N=null;0<this.children.length&&(Y7N=this.children[0]);return Y7N;};R7N.prototype.getLastChild=function(){var A7N=null;0<this.children.length&&(A7N=this.children[this.children.length-1]);return A7N;};R7N.prototype.getNextSibling=function(){var s6N=null;if(this.parent){var r6N=this.parent.children.indexOf(this);0<=r6N&&r6N<this.parent.children.length-1&&(s6N=this.parent.children[r6N+1]);}return s6N;};R7N.prototype.getParent=function(){return this.parent;};R7N.prototype.getPreviousSibling=function(){var I6N=null;if(this.parent){var n6N=this.parent.children.indexOf(this);0<n6N&&n6N<this.parent.children.length&&(I6N=this.parent.children[n6N-1]);}return I6N;};R7N.prototype.hasChildren=function(){return 0<this.children.length;};R7N.prototype.isLastChild=function(){return!this.getNextSibling();};return R7N;}();P7N["default"]=V7N;},function(c6N,T6N,M6N){T6N.__esModule=true;T6N["default"]=function(){for(var g6N=arguments.length,o6N=Array(g6N),O6N=0;O6N<g6N;O6N++){o6N[O6N]=arguments[O6N];}return 0===o6N.length||void 0===o6N[0]||null===o6N[0]?[]:1===o6N.length?[].concat(o6N[0]):[].concat(o6N);};},function(y6N,h6N,H6N){h6N.__esModule=true;h6N.getElementStyle=function(q6N,Z6N){return window.getComputedStyle?window.getComputedStyle(q6N)[Z6N]:q6N.currentStyle[Z6N];};h6N.preventDefault=function(E6N){"undefined"!==typeof E6N.preventDefault?E6N.preventDefault():E6N.returnValue=false;};h6N.stopPropagation=function(u6N){"undefined"!==typeof u6N.stopPropagation?u6N.stopPropagation():u6N.cancelBubble=true;};h6N.addEventListener=function(j6N,J6N,S6N){j6N.addEventListener?j6N.addEventListener(J6N,S6N,false):j6N.attachEvent&&j6N.attachEvent("on"+J6N,S6N);};h6N.removeEventListener=function(K6N,b6N,t6N){K6N.removeEventListener?K6N.removeEventListener(b6N,t6N,false):K6N.detachEvent&&K6N.detachEvent("on"+b6N,t6N);};},function(N6N,f6N,B6N){var C6N=/["'&<>]/;N6N.exports=function(Q6N){Q6N=""+Q6N;var m6N=C6N.exec(Q6N);if(!m6N){return Q6N;}var D6N="",l6N,z6N=0;for(l6N=m6N.index;l6N<Q6N.length;l6N++){switch(Q6N.charCodeAt(l6N)){case 34:m6N="&quot;";break;case 38:m6N="&amp;";break;case 39:m6N="&#39;";break;case 60:m6N="&lt;";break;case 62:m6N="&gt;";break;default:continue;}z6N!==l6N&&(D6N+=Q6N.substring(z6N,l6N));z6N=l6N+1;D6N+=m6N;}return z6N!==l6N?D6N+Q6N.substring(z6N,l6N):D6N;};},function(X6N,d6N,W6N){d6N=W6N(8);X6N.exports=(d6N&&d6N.__esModule?d6N:{"default":d6N})["default"];},function(i6N,A6N,F6N){function V6N(o8H){return o8H&&o8H.__esModule?o8H:{"default":o8H};}function M8H(g8H,O8H){if(!g8H){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return!O8H||"object"!==typeof O8H&&"function"!==typeof O8H?g8H:O8H;}function c8H(y8H,h8H){if("function"!==typeof h8H&&null!==h8H){throw new TypeError("Super expression must either be null or a function, not "+typeof h8H);}y8H.prototype=Object.create(h8H&&h8H.prototype,{constructor:{value:y8H,enumerable:false,writable:true,configurable:true}});h8H&&(Object.setPrototypeOf?Object.setPrototypeOf(y8H,h8H):y8H.__proto__=h8H);}A6N.__esModule=true;j.initSymbol();j.initSymbol();j.initSymbolIterator();var a6N="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(H8H){return typeof H8H;}:function(q8H){j.initSymbol();j.initSymbol();j.initSymbol();return q8H&&"function"===typeof Symbol&&q8H.constructor===Symbol&&q8H!==Symbol.prototype?"symbol":typeof q8H;},p6N=Object.assign||function(j8H){for(var Z8H=1;Z8H<arguments.length;Z8H++){var E8H=arguments[Z8H],u8H;for(u8H in E8H){Object.prototype.hasOwnProperty.call(E8H,u8H)&&(j8H[u8H]=E8H[u8H]);}}return j8H;};i6N=F6N(0);i6N=V6N(i6N);var e6N=F6N(1),x6N=V6N(e6N),e6N=F6N(9),v6N=V6N(e6N),e6N=F6N(10),I8H=V6N(e6N),L6N=F6N(11),e6N=F6N(13),T8H=V6N(e6N),e6N=F6N(4),Y6N=V6N(e6N),e6N=F6N(15),w6N=V6N(e6N),r8H=F6N(16),e6N=F6N(17),s8H=V6N(e6N),n8H=F6N(18),U6N=F6N(5),k6N=function(){},P6N=function(t8H){for(var J8H=arguments.length,K8H=Array(1<J8H?J8H-1:0),S8H=1;S8H<J8H;S8H++){K8H[S8H-1]=arguments[S8H];}var b8H=0,J8H="Error: "+t8H.replace(/%s/g,function(){return K8H[b8H++];});console&&console.error&&console.error(J8H);try{throw Error(J8H);}catch(C8H){}},G6N=function(N8H){return N8H?N8H instanceof L6N.Node?true:(P6N("The node must be a Node object."),false):false;},R6N=function(f8H){return(0,w6N["default"])(f8H||new L6N.Node(),{parent:null,children:[],state:{depth:-1,open:true,path:"",prefixMask:"",total:0}});};F6N=function(m8H){function B8H(Q8H,z8H){if(!(this instanceof B8H)){throw new TypeError("Cannot call a class as a function");}var l8H=M8H(this,m8H.call(this));l8H.options={autoOpen:false,droppable:false,loadNodes:null,rowRenderer:n8H.defaultRowRenderer,selectable:true,shouldSelectNode:null,el:null,layout:"div",noDataClass:"infinite-tree-no-data",noDataText:"No data",nodeIdAttr:"data-id",togglerClass:"infinite-tree-toggler"};l8H.state={openNodes:[],rootNode:R6N(),selectedNode:null};l8H.clusterize=null;l8H.nodeTable=new s8H["default"]();l8H.nodes=[];l8H.rows=[];l8H.filtered=false;l8H.scrollElement=null;l8H.contentElement=null;l8H.draggableTarget=null;l8H.droppableTarget=null;l8H.contentListener={click:function(D8H){D8H=D8H||window.event;var d8H=D8H.stopPropagation;D8H.stopPropagation=function(){D8H.cancelBubble=true;d8H&&d8H.call(D8H);};setTimeout(function(){if(true!==D8H.cancelBubble&&(l8H.emit("click",D8H),true!==D8H.cancelBubble)){var X8H=null,W8H=false;D8H.target?X8H=D8H.target!==D8H.currentTarget?D8H.target:null:D8H.srcElement&&(X8H=D8H.srcElement);for(;X8H&&X8H.parentElement!==l8H.contentElement;){(0,v6N["default"])(X8H).has(l8H.options.togglerClass)&&(W8H=true),X8H=X8H.parentElement;}X8H&&!X8H.hasAttribute("disabled")&&(X8H=X8H.getAttribute(l8H.options.nodeIdAttr),(X8H=l8H.getNodeById(X8H))&&(W8H?l8H.toggleNode(X8H,{async:true}):l8H.selectNode(X8H)));}},0);},dblclick:function(U8H){l8H.emit("doubleClick",U8H);},keydown:function(G8H){l8H.emit("keyDown",G8H);},keyup:function(e8H){l8H.emit("keyUp",e8H);},dragstart:function(F8H){F8H=F8H||window.event;l8H.draggableTarget=F8H.target||F8H.srcElement;},dragend:function(p8H){p8H=l8H.options.droppable.hoverClass;p8H=void 0===p8H?"":p8H;l8H.draggableTarget=null;l8H.droppableTarget&&((0,v6N["default"])(l8H.droppableTarget).remove(p8H),l8H.droppableTarget=null);},dragenter:function(v8H){v8H=v8H||window.event;var V8H=null;v8H.target?V8H=v8H.target!==v8H.currentTarget?v8H.target:null:v8H.srcElement&&(V8H=v8H.srcElement);for(;V8H&&V8H.parentElement!==l8H.contentElement;){V8H=V8H.parentElement;}if(V8H&&l8H.droppableTarget!==V8H){var P8H=l8H.options.droppable,R8H=P8H.accept,P8H=P8H.hoverClass,P8H=void 0===P8H?"":P8H;(0,v6N["default"])(l8H.droppableTarget).remove(P8H);l8H.droppableTarget=null;var L8H=true;"function"===typeof R8H&&(L8H=V8H.getAttribute(l8H.options.nodeIdAttr),L8H=l8H.getNodeById(L8H),L8H=!!R8H.call(l8H,v8H,{type:"dragenter",draggableTarget:l8H.draggableTarget,droppableTarget:V8H,node:L8H}));L8H&&((0,v6N["default"])(V8H).add(P8H),l8H.droppableTarget=V8H);}},dragover:function(i8H){i8H=i8H||window.event;(0,U6N.preventDefault)(i8H);},drop:function(k8H){k8H=k8H||window.event;(0,U6N.preventDefault)(k8H);if(l8H.draggableTarget&&l8H.droppableTarget){var a8H=l8H.options.droppable,w8H=a8H.accept,Y8H=a8H.drop,a8H=a8H.hoverClass,a8H=void 0===a8H?"":a8H,x8H=l8H.droppableTarget.getAttribute(l8H.options.nodeIdAttr),x8H=l8H.getNodeById(x8H),A8H=true;"function"===typeof w8H&&(A8H=!!w8H.call(l8H,k8H,{type:"drop",draggableTarget:l8H.draggableTarget,droppableTarget:l8H.droppableTarget,node:x8H}));A8H&&"function"===typeof Y8H&&Y8H.call(l8H,k8H,{draggableTarget:l8H.draggableTarget,droppableTarget:l8H.droppableTarget,node:x8H});(0,v6N["default"])(l8H.droppableTarget).remove(a8H);l8H.droppableTarget=null;}}};(0,I8H["default"])(Q8H)?z8H=p6N({},z8H,{el:Q8H}):Q8H&&("undefined"===typeof Q8H?false:"object"===a6N(Q8H))&&(z8H=Q8H);l8H.options=p6N({},l8H.options,z8H);l8H.create();l8H.options.data&&l8H.loadData(l8H.options.data);return l8H;}c8H(B8H,m8H);B8H.prototype.create=function(){var s2H=this;if(this.options.el){var r2H=null;this.scrollElement=document.createElement("div");if("table"===this.options.layout){r2H=document.createElement("table");r2H.className=(0,x6N["default"])("infinite-tree","infinite-tree-table");var n2H=document.createElement("tbody");r2H.appendChild(n2H);this.scrollElement.appendChild(r2H);this.contentElement=n2H;r2H="tr";}else{r2H=document.createElement("div"),this.scrollElement.appendChild(r2H),this.contentElement=r2H,r2H="div";}this.scrollElement.className=(0,x6N["default"])("infinite-tree","infinite-tree-scroll");this.contentElement.className=(0,x6N["default"])("infinite-tree","infinite-tree-content");this.options.el.appendChild(this.scrollElement);this.clusterize=new T8H["default"]({tag:r2H,rows:[],scrollElement:this.scrollElement,contentElement:this.contentElement,emptyText:this.options.noDataText,emptyClass:this.options.noDataClass});this.clusterize.on("clusterWillChange",function(){s2H.emit("clusterWillChange");});this.clusterize.on("clusterDidChange",function(){s2H.emit("clusterDidChange");});(0,U6N.addEventListener)(this.contentElement,"click",this.contentListener.click);(0,U6N.addEventListener)(this.contentElement,"dblclick",this.contentListener.dblclick);(0,U6N.addEventListener)(this.contentElement,"keydown",this.contentListener.keydown);(0,U6N.addEventListener)(this.contentElement,"keyup",this.contentListener.keyup);this.options.droppable&&((0,U6N.addEventListener)(document,"dragstart",this.contentListener.dragstart),(0,U6N.addEventListener)(document,"dragend",this.contentListener.dragend),(0,U6N.addEventListener)(this.contentElement,"dragenter",this.contentListener.dragenter),(0,U6N.addEventListener)(this.contentElement,"dragleave",this.contentListener.dragleave),(0,U6N.addEventListener)(this.contentElement,"dragover",this.contentListener.dragover),(0,U6N.addEventListener)(this.contentElement,"drop",this.contentListener.drop));}};B8H.prototype.destroy=function(){var I2H=this;this.clear();if(this.options.el){(0,U6N.removeEventListener)(this.contentElement,"click",this.contentListener.click);(0,U6N.removeEventListener)(this.contentElement,"dblclick",this.contentListener.dblclick);(0,U6N.removeEventListener)(this.contentElement,"keydown",this.contentListener.keydown);(0,U6N.removeEventListener)(this.contentElement,"keyup",this.contentListener.keyup);this.options.droppable&&((0,U6N.removeEventListener)(document,"dragstart",this.contentListener.dragstart),(0,U6N.removeEventListener)(document,"dragend",this.contentListener.dragend),(0,U6N.removeEventListener)(this.contentElement,"dragenter",this.contentListener.dragenter),(0,U6N.removeEventListener)(this.contentElement,"dragleave",this.contentListener.dragleave),(0,U6N.removeEventListener)(this.contentElement,"dragover",this.contentListener.dragover),(0,U6N.removeEventListener)(this.contentElement,"drop",this.contentListener.drop));this.clusterize&&(this.clusterize.destroy(true),this.clusterize=null);for(;this.contentElement.firstChild;){I2H.contentElement.removeChild(I2H.contentElement.firstChild);}for(;this.scrollElement.firstChild;){I2H.scrollElement.removeChild(I2H.scrollElement.firstChild);}for(var T2H=this.options.el;T2H.firstChild;){T2H.removeChild(T2H.firstChild);}this.scrollElement=this.contentElement=null;}};B8H.prototype.addChildNodes=function(o2H,O2H,c2H){var y2H=this;var H2H=this;o2H=[].concat(o2H||[]);if(0===o2H.length){return false;}("undefined"===typeof O2H?false:"object"===a6N(O2H))?(c2H=O2H||this.state.rootNode,O2H=c2H.children.length):c2H=c2H||this.state.rootNode;if(!G6N(c2H)){return false;}"number"!==typeof O2H&&(O2H=c2H.children.length);o2H.forEach(function(q2H){q2H.parent=c2H;});c2H.children.splice.apply(c2H.children,[O2H,0].concat(o2H));O2H=c2H.children.indexOf(o2H[0]);o2H=c2H.state.total;var g2H=(0,L6N.flatten)(c2H.children,{openNodes:this.state.openNodes}),h2H=[];h2H.length=g2H.length;for(var M2H=0;M2H<g2H.length;++M2H){h2H[M2H]=y2H.options.rowRenderer(g2H[M2H],y2H.options);}c2H===this.state.rootNode?(this.nodes=g2H,this.rows=h2H):(M2H=this.nodes.indexOf(c2H),0<=M2H&&(this.nodes.splice.apply(this.nodes,[M2H+1,o2H].concat(g2H)),this.rows.splice.apply(this.rows,[M2H+1,o2H].concat(h2H)),this.rows[M2H]=this.options.rowRenderer(c2H,this.options)));c2H.children.slice(O2H).forEach(function(Z2H){H2H.flattenNode(Z2H).forEach(function(E2H){void 0!==E2H.id&&H2H.nodeTable.set(E2H.id,E2H);});});this.update();return true;};B8H.prototype.appendChildNode=function(j2H,u2H){u2H=u2H||this.state.rootNode;if(!G6N(u2H)){return false;}var J2H=u2H.children.length;j2H=[].concat(j2H||[]);return this.addChildNodes(j2H,J2H,u2H);};B8H.prototype.clear=function(){this.clusterize&&this.clusterize.clear();this.nodeTable.clear();this.nodes=[];this.rows=[];this.state.openNodes=[];this.state.rootNode=R6N(this.state.rootNode);this.state.selectedNode=null;};B8H.prototype.closeNode=function(S2H,B2H){var K2H=this,b2H=p6N({},B2H),C2H=b2H.async,C2H=void 0===C2H?false:C2H,N2H=b2H.asyncCallback,f2H=void 0===N2H?k6N:N2H,b2H=b2H.silent,m2H=void 0===b2H?false:b2H;if(!G6N(S2H)){return false;}this.emit("willCloseNode",S2H);var t2H=this.nodes.indexOf(S2H);if(0>t2H){return P6N("Invalid node index"),false;}if(0>this.state.openNodes.indexOf(S2H)){return false;}S2H.state.collapsing=true;this.rows[t2H]=this.options.rowRenderer(S2H,this.options);this.update();b2H=function(){if(K2H.state.selectedNode&&K2H.state.selectedNode!==S2H){var l2H=K2H.nodes.indexOf(K2H.state.selectedNode),Q2H=t2H+S2H.state.total;t2H+1<=l2H&&l2H<=Q2H&&K2H.selectNode(S2H,B2H);}S2H.state.open=false;l2H=K2H.state.openNodes.filter(function(z2H){return z2H.hasChildren()&&z2H.state.open;});K2H.state.openNodes=l2H;l2H=S2H.state.total;for(Q2H=S2H;null!==Q2H;Q2H=Q2H.parent){Q2H.state.total-=l2H;}K2H.nodes.splice(t2H+1,l2H);K2H.rows.splice(t2H+1,l2H);S2H.state.collapsing=false;K2H.rows[t2H]=K2H.options.rowRenderer(S2H,K2H.options);K2H.update();m2H||K2H.emit("closeNode",S2H);"function"===typeof f2H&&f2H();};C2H?setTimeout(b2H,0):b2H();return true;};B8H.prototype.filter=function(W2H,D2H){var d2H=this;D2H=p6N({caseSensitive:false,exactMatch:false,filterPath:"name",includeAncestors:true,includeDescendants:true},D2H);this.filtered=true;var U2H=this.state.rootNode;(function G2H(e2H){var V2H=1<arguments.length&&void 0!==arguments[1]?arguments[1]:false;if(!e2H||!e2H.children){return false;}if(e2H===U2H){e2H.state.filtered=false;}else if(V2H){e2H.state.filtered=true;}else if("string"===typeof W2H){var p2H=(0,r8H.get)(e2H,D2H.filterPath,""),F2H=W2H;D2H.caseSensitive||(p2H=p2H.toLowerCase(),F2H=F2H.toLowerCase());e2H.state.filtered=D2H.exactMatch?p2H===F2H:0<=p2H.indexOf(F2H);}else{e2H.state.filtered="function"===typeof W2H?!!W2H(e2H):false;}D2H.includeDescendants&&(V2H=V2H||e2H.state.filtered);p2H=false;for(F2H=0;F2H<e2H.children.length;++F2H){var P2H=e2H.children[F2H];P2H&&G2H(P2H,V2H)&&(p2H=true);}D2H.includeAncestors&&p2H&&(e2H.state.filtered=true);return e2H.state.filtered;}(U2H));this.rows.length=this.nodes.length;for(var X2H=0;X2H<this.nodes.length;++X2H){d2H.rows[X2H]=d2H.options.rowRenderer(d2H.nodes[X2H],d2H.options);}this.update();};B8H.prototype.flattenChildNodes=function(L2H){L2H=L2H||this.state.rootNode;if(!G6N(L2H)){return[];}for(var R2H=[],v2H=L2H.getFirstChild();v2H;){if(R2H.push(v2H),v2H.hasChildren()){v2H=v2H.getFirstChild();}else{for(;null===v2H.getNextSibling()&&v2H.parent!==L2H;){v2H=v2H.getParent();}v2H=v2H.getNextSibling();}}return R2H;};B8H.prototype.flattenNode=function(i2H){return G6N(i2H)?[i2H].concat(this.flattenChildNodes(i2H)):[];};B8H.prototype.getChildNodes=function(a2H){a2H=a2H||this.state.rootNode;return G6N(a2H)?a2H.children:[];};B8H.prototype.getNodeById=function(k2H){var x2H=this.nodeTable.get(k2H);if(!x2H){x2H=this.nodes.filter(function(w2H){return w2H.id===k2H;})[0];if(!x2H){return null;}this.nodeTable.set(x2H.id,x2H);}return x2H;};B8H.prototype.getNodeFromPoint=function(Y2H,A2H){for(Y2H=document.elementFromPoint(Y2H,A2H);Y2H&&Y2H.parentElement!==this.contentElement;){Y2H=Y2H.parentElement;}if(!Y2H){return null;}Y2H=Y2H.getAttribute(this.options.nodeIdAttr);return this.getNodeById(Y2H);};B8H.prototype.getOpenNodes=function(){return this.state.openNodes.slice();};B8H.prototype.getRootNode=function(){return this.state.rootNode;};B8H.prototype.getSelectedNode=function(){return this.state.selectedNode;};B8H.prototype.getSelectedIndex=function(){return this.nodes.indexOf(this.state.selectedNode);};B8H.prototype.insertNodeAfter=function(s0H,r0H){if(!G6N(r0H)){return false;}var n0H=r0H.getParent();r0H=n0H.children.indexOf(r0H)+1;s0H=[].concat(s0H||[]);return this.addChildNodes(s0H,r0H,n0H);};B8H.prototype.insertNodeBefore=function(T0H,I0H){if(!G6N(I0H)){return false;}var c0H=I0H.getParent();I0H=c0H.children.indexOf(I0H);T0H=[].concat(T0H||[]);return this.addChildNodes(T0H,I0H,c0H);};B8H.prototype.loadData=function(){var o0H=this;var O0H=this,M0H=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];this.nodes=(0,L6N.flatten)(M0H,{openAllNodes:this.options.autoOpen});this.nodeTable.clear();this.state.openNodes=this.nodes.filter(function(g0H){return g0H.hasChildren()&&g0H.state.open;});this.state.selectedNode=null;M0H=function(){for(var h0H=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;h0H&&null!==h0H.parent;){h0H=h0H.parent;}return h0H;}(0<this.nodes.length?this.nodes[0]:null);this.state.rootNode=M0H||R6N(this.state.rootNode);this.flattenChildNodes(this.state.rootNode).forEach(function(y0H){void 0!==y0H.id&&O0H.nodeTable.set(y0H.id,y0H);});this.rows.length=this.nodes.length;for(M0H=0;M0H<this.nodes.length;++M0H){o0H.rows[M0H]=o0H.options.rowRenderer(o0H.nodes[M0H],o0H.options);}this.update();};B8H.prototype.moveNodeTo=function(H0H,Z0H,E0H){if(!G6N(H0H)||!G6N(Z0H)){return false;}for(var q0H=Z0H;null!==q0H;q0H=q0H.parent){if(q0H===H0H){return P6N("Cannot move an ancestor node (id="+H0H.id+") to the specified parent node (id="+Z0H.id+")."),false;}}return this.removeNode(H0H)&&this.addChildNodes(H0H,E0H,Z0H);};B8H.prototype.openNode=function(j0H,C0H){var u0H=this,J0H=p6N({},C0H),K0H=J0H.async,K0H=void 0===K0H?false:K0H,b0H=J0H.asyncCallback,t0H=void 0===b0H?k6N:b0H,J0H=J0H.silent,N0H=void 0===J0H?false:J0H;if(!G6N(j0H)){return false;}this.emit("willOpenNode",j0H);var S0H=this.nodes.indexOf(j0H);if(0>S0H){return P6N("Invalid node index"),false;}if(0<=this.state.openNodes.indexOf(j0H)){return false;}if(!j0H.hasChildren()&&j0H.loadOnDemand){if("function"!==typeof this.options.loadNodes||true===j0H.state.loading){return false;}j0H.state.loading=true;this.rows[S0H]=this.options.rowRenderer(j0H,this.options);this.update();setTimeout(function(){u0H.options.loadNodes(j0H,function(m0H,B0H){var f0H=2<arguments.length&&void 0!==arguments[2]?arguments[2]:k6N;B0H=(0,Y6N["default"])(B0H);m0H||0===B0H.length?(j0H.state.loading=false,u0H.rows[S0H]=u0H.options.rowRenderer(j0H,u0H.options),u0H.update(),"function"===typeof f0H&&f0H()):(u0H.addChildNodes(B0H,j0H),j0H.hasChildren()?u0H.openNode(j0H,p6N({},C0H,{async:true,asyncCallback:function(){j0H.state.loading=false;u0H.rows[S0H]=u0H.options.rowRenderer(j0H,u0H.options);u0H.update();"function"===typeof f0H&&f0H();}})):(j0H.state.loading=false,u0H.rows[S0H]=u0H.options.rowRenderer(j0H,u0H.options),u0H.update(),"function"===typeof f0H&&f0H()));});},0);return true;}j0H.state.expanding=true;this.rows[S0H]=this.options.rowRenderer(j0H,this.options);this.update();J0H=function(){j0H.state.open=true;var l0H=[j0H].concat(u0H.state.openNodes);u0H.state.openNodes=l0H;var l0H=(0,L6N.flatten)(j0H.children,{openNodes:u0H.state.openNodes}),z0H=[];z0H.length=l0H.length;for(var Q0H=0;Q0H<l0H.length;++Q0H){z0H[Q0H]=u0H.options.rowRenderer(l0H[Q0H],u0H.options);}u0H.nodes.splice.apply(u0H.nodes,[S0H+1,0].concat(l0H));u0H.rows.splice.apply(u0H.rows,[S0H+1,0].concat(z0H));u0H.rows[S0H]=u0H.options.rowRenderer(j0H,u0H.options);0<l0H.length&&!u0H.nodeTable.get(l0H[0])&&l0H.forEach(function(D0H){void 0!==D0H.id&&u0H.nodeTable.set(D0H.id,D0H);});j0H.state.expanding=false;u0H.rows[S0H]=u0H.options.rowRenderer(j0H,u0H.options);u0H.update();N0H||u0H.emit("openNode",j0H);"function"===typeof t0H&&t0H();};K0H?setTimeout(J0H,0):J0H();return true;};B8H.prototype.removeChildNodes=function(d0H,U0H){var e0H=this;if(!G6N(d0H)||0===d0H.children.length){return false;}if(d0H===this.state.rootNode){return this.clear(),true;}var X0H=this.nodes.indexOf(d0H);if(0<=X0H&&this.state.selectedNode){var W0H=this.nodes.indexOf(this.state.selectedNode),F0H=X0H+d0H.state.total;X0H+1<=W0H&&W0H<=F0H&&(d0H===this.state.rootNode?this.selectNode(null,U0H):this.selectNode(d0H,U0H));}var G0H=this.flattenChildNodes(d0H);U0H=d0H.state.total;for(W0H=d0H;null!==W0H;W0H=W0H.parent){W0H.state.total-=U0H;}d0H.children=[];d0H.state.open=d0H.state.open&&0<d0H.children.length;0<=X0H&&(this.nodes.splice(X0H+1,U0H),this.rows.splice(X0H+1,U0H),this.rows[X0H]=this.options.rowRenderer(d0H,this.options));this.state.openNodes=this.state.openNodes.filter(function(p0H){return 0>G0H.indexOf(p0H)&&p0H.hasChildren()&&p0H.state.open;});G0H.forEach(function(V0H){e0H.nodeTable.unset(V0H.id);});this.update();return true;};B8H.prototype.removeNode=function(v0H,i0H){var k0H=this;if(!G6N(v0H)){return false;}var L0H=v0H.parent;if(!L0H){return false;}var R0H=this.nodes.indexOf(v0H),a0H=this.nodes.indexOf(L0H);if(0<=R0H&&this.state.selectedNode){var P0H=this.nodes.indexOf(this.state.selectedNode),w0H=R0H+v0H.state.total+1;R0H<=P0H&&P0H<=w0H&&(P0H=v0H.getNextSibling()||v0H.getPreviousSibling()||v0H.getParent(),P0H===this.state.rootNode?this.selectNode(null,i0H):this.selectNode(P0H,i0H));}var x0H=this.flattenNode(v0H);i0H=v0H.state.total+1;for(P0H=L0H;null!==P0H;P0H=P0H.parent){P0H.state.total-=i0H;}L0H.children.splice(L0H.children.indexOf(v0H),1);L0H.state.open=L0H.state.open&&0<L0H.children.length;0<=R0H&&(this.nodes.splice(R0H,i0H),this.rows.splice(R0H,i0H));0<=a0H&&(this.rows[a0H]=this.options.rowRenderer(L0H,this.options));this.state.openNodes=this.state.openNodes.filter(function(Y0H){return 0>x0H.indexOf(Y0H)&&Y0H.hasChildren()&&Y0H.state.open;});x0H.forEach(function(A0H){k0H.nodeTable.unset(A0H.id);});this.update();return true;};B8H.prototype.scrollToNode=function(s3H){if(!G6N(s3H)){return false;}var n3H=this.nodes.indexOf(s3H);if(0>n3H||!this.contentElement){return false;}for(var r3H=this.contentElement.firstChild;r3H&&!(0>(r3H.className||"").indexOf("clusterize-extra-row")&&0<r3H.offsetHeight);){r3H=r3H.nextSibling;}r3H=r3H&&r3H.offsetHeight||0;0<r3H&&this.scrollTop(n3H*r3H);(s3H=this.contentElement.querySelector("["+this.options.nodeIdAttr+'="'+s3H.id+'"]'))&&this.scrollTop(s3H.offsetTop);return true;};B8H.prototype.scrollTop=function(I3H){if(!this.scrollElement){return 0;}void 0!==I3H&&(this.scrollElement.scrollTop=Number(I3H));return this.scrollElement.scrollTop;};B8H.prototype.selectNode=function(){var T3H=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,c3H=this.options,o3H=c3H.selectable,O3H=c3H.shouldSelectNode,M3H=p6N({},arguments[1]),c3H=M3H.autoScroll,c3H=void 0===c3H?true:c3H,M3H=M3H.silent,M3H=void 0===M3H?false:M3H;this.emit("willSelectNode",T3H);if(!o3H||"function"===typeof O3H&&!O3H(T3H)||T3H===this.state.rootNode){return false;}if(null===T3H){return this.state.selectedNode?(T3H=this.state.selectedNode,c3H=this.nodes.indexOf(this.state.selectedNode),T3H.state.selected=false,this.rows[c3H]=this.options.rowRenderer(T3H,this.options),this.state.selectedNode=null,this.update(),M3H||this.emit("selectNode",null),true):false;}if(!G6N(T3H)){return false;}o3H=this.nodes.indexOf(T3H);if(0>o3H){return P6N("Invalid node index"),false;}this.state.selectedNode!==T3H&&(T3H.state.selected=true,this.rows[o3H]=this.options.rowRenderer(T3H,this.options));this.state.selectedNode&&(o3H=this.state.selectedNode,O3H=this.nodes.indexOf(this.state.selectedNode),o3H.state.selected=false,this.rows[O3H]=this.options.rowRenderer(o3H,this.options));if(this.state.selectedNode!==T3H){if(this.state.selectedNode=T3H,M3H||this.emit("selectNode",T3H),c3H&&this.scrollElement&&this.contentElement&&(c3H=this.contentElement.querySelector("["+this.options.nodeIdAttr+'="'+T3H.id+'"]'))){T3H=c3H.offsetTop||0,c3H=c3H.offsetHeight||0,T3H<this.scrollElement.scrollTop&&(this.scrollElement.scrollTop=T3H),T3H+c3H>=this.scrollElement.scrollTop+this.scrollElement.clientHeight&&(this.scrollElement.scrollTop+=c3H);}}else{this.state.selectedNode=null,M3H||this.emit("selectNode",null);}this.update();return true;};B8H.prototype.swapNodes=function(h3H,y3H){if(!(G6N(h3H)&&G6N(h3H.parent)&&G6N(y3H)&&G6N(y3H.parent))){return false;}for(var H3H=h3H.parent,q3H=y3H.parent,g3H=H3H;null!==g3H;g3H=g3H.parent){if(g3H===y3H){return P6N("Cannot swap two nodes with one being an ancestor of the other."),false;}}for(g3H=q3H;null!==g3H;g3H=g3H.parent){if(g3H===h3H){return P6N("Cannot swap two nodes with one being an ancestor of the other."),false;}}var g3H=H3H.children.indexOf(h3H),Z3H=q3H.children.indexOf(y3H);return this.moveNodeTo(h3H,q3H,Z3H)&&this.moveNodeTo(y3H,H3H,g3H);};B8H.prototype.toggleNode=function(E3H,u3H){return G6N(E3H)?0<=this.state.openNodes.indexOf(E3H)?this.closeNode(E3H,u3H):this.openNode(E3H,u3H):false;};B8H.prototype.toString=function(){var j3H=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;j3H||(j3H=this.state.rootNode);return function J3H(S3H){var K3H="[";if(S3H&&S3H.children){for(var t3H=function(N3H){var C3H=[];K3H+="{";Object.keys(S3H).forEach(function(f3H){var B3H=S3H[f3H];"parent"!==f3H&&("children"===f3H?C3H.push('"'+f3H+'":'+J3H(S3H.children[N3H])):"string"===typeof B3H||("undefined"===typeof B3H?false:"object"===a6N(B3H))?C3H.push('"'+f3H+'":'+JSON.stringify(B3H)):C3H.push('"'+f3H+'":'+B3H));});K3H+=C3H.join(",");K3H=K3H+"}"+(N3H===S3H.children.length-1?"":",");},b3H=0;b3H<S3H.children.length;++b3H){t3H(b3H);}}return K3H+="]";}(j3H);};B8H.prototype.unfilter=function(){var m3H=this;this.filtered=false;(function Q3H(z3H){if(z3H&&(delete z3H.state.filtered,z3H.children)){for(var D3H=0;D3H<z3H.children.length;++D3H){var d3H=z3H.children[D3H];d3H&&Q3H(d3H);}}}(this.state.rootNode));this.rows.length=this.nodes.length;for(var l3H=0;l3H<this.nodes.length;++l3H){m3H.rows[l3H]=m3H.options.rowRenderer(m3H.nodes[l3H],m3H.options);}this.update();};B8H.prototype.update=function(){this.emit("contentWillUpdate");if(this.clusterize){var X3H=this.rows.filter(function(W3H){return!!W3H;});this.clusterize.update(X3H);}this.emit("contentDidUpdate");};B8H.prototype.updateNode=function(G3H,U3H,e3H){var F3H=this;if(G6N(G3H)&&(U3H=p6N({},U3H),void 0!==U3H.id&&null!==U3H.id&&(this.nodeTable.unset(G3H.id),this.nodeTable.set(U3H.id,G3H),G3H.id=U3H.id),delete U3H.id,delete U3H.children,delete U3H.parent,delete U3H.state,G3H=(0,w6N["default"])(G3H,U3H),U3H=this.nodes.indexOf(G3H),0<=U3H)){e3H=p6N({},e3H).shallowRendering;e3H=void 0===e3H?false:e3H;this.rows[U3H]=this.options.rowRenderer(G3H,this.options);if(!e3H){for(G3H=U3H+G3H.state.total,U3H+=1;U3H<=G3H;++U3H){F3H.rows[U3H]=F3H.options.rowRenderer(F3H.nodes[U3H],F3H.options);}}this.update();}};return B8H;}(i6N["default"].EventEmitter);A6N["default"]=F6N;},function(P3H,v3H){function V3H(R3H,i3H){if(R3H.indexOf){return R3H.indexOf(i3H);}for(var L3H=0,a3H=R3H.length;L3H<a3H;L3H++){if(R3H[L3H]===i3H){return L3H;}}return-1;}function p3H(x3H){if(!(this instanceof p3H)){return new p3H(x3H);}x3H||(x3H={});x3H.nodeType&&(x3H={el:x3H});this.opts=x3H;this.el=x3H.el||document.body;"object"!==typeof this.el&&(this.el=document.querySelector(this.el));}P3H.exports=function(k3H){return new p3H(k3H);};p3H.prototype.add=function(A3H){var w3H=this.el;if(w3H){if(""===w3H.className){return w3H.className=A3H;}var Y3H=w3H.className.split(" ");if(-1<V3H(Y3H,A3H)){return Y3H;}Y3H.push(A3H);w3H.className=Y3H.join(" ");return Y3H;}};p3H.prototype.remove=function(n5H){var r5H=this.el;if(r5H&&""!==r5H.className){var s5H=r5H.className.split(" ");n5H=V3H(s5H,n5H);-1<n5H&&s5H.splice(n5H,1);r5H.className=s5H.join(" ");return s5H;}};p3H.prototype.has=function(T5H){var I5H=this.el;if(I5H){return I5H=I5H.className.split(" "),-1<V3H(I5H,T5H);}};p3H.prototype.toggle=function(c5H){this.el&&(this.has(c5H)?this.remove(c5H):this.add(c5H));};},function(M5H,o5H){M5H.exports=function(O5H){return O5H&&"object"===typeof O5H?"object"===typeof window&&"object"===typeof window.Node?O5H instanceof window.Node:"number"===typeof O5H.nodeType&&"string"===typeof O5H.nodeName:false;};},function(h5H,y5H,g5H){y5H.__esModule=true;y5H.Node=y5H.flatten=void 0;h5H=(h5H=g5H(12))&&h5H.__esModule?h5H:{"default":h5H};g5H=(g5H=g5H(3))&&g5H.__esModule?g5H:{"default":g5H};y5H.flatten=h5H["default"];y5H.Node=g5H["default"];},function(Z5H,E5H,H5H){E5H.__esModule=true;var u5H=(Z5H=H5H(2))&&Z5H.__esModule?Z5H:{"default":Z5H},q5H=(H5H=H5H(3))&&H5H.__esModule?H5H:{"default":H5H};E5H["default"]=function(){var j5H=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],K5H=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},j5H=[].concat(j5H),m5H=[],N5H=[],f5H={};K5H.openAllNodes=!!K5H.openAllNodes;K5H.openNodes=K5H.openNodes||[];K5H.throwOnError=!!K5H.throwOnError;var J5H=0<j5H.length?j5H[0]:null,J5H=J5H?J5H.parent:null;!J5H||J5H instanceof q5H["default"]||(J5H=new q5H["default"](J5H));j5H=J5H||new q5H["default"]({parent:null,children:j5H,state:{depth:-1,open:true,path:"",prefixMask:"",total:0}});if(j5H===J5H){for(var J5H=j5H.state.total||0,S5H=j5H;S5H;){var b5H=S5H.state,l5H=b5H.path,b5H=b5H.total,b5H=void 0===b5H?0:b5H;S5H.isLastChild()&&l5H&&(f5H[l5H]=true);S5H.state.total=b5H-J5H;if(0>S5H.state.total){if(K5H.throwOnError){throw Error("The node might have been corrupted: id="+JSON.stringify(S5H.id)+", state="+JSON.stringify(S5H.state));}console&&console.log("Error: The node might have been corrupted: id=%s, parent=%s, children=%s, state=%s",JSON.stringify(S5H.id),S5H.parent,S5H.children,JSON.stringify(S5H.state));}S5H=S5H.parent;}}for(N5H.push([j5H,j5H.state.depth,0]);0<N5H.length;){for(var j5H=N5H.pop(),C5H=j5H[0],B5H=j5H[1],t5H=j5H[2],j5H=function(){var Q5H=C5H.children[t5H];Q5H instanceof q5H["default"]||(Q5H=new q5H["default"](Q5H));Q5H.parent=C5H;Q5H.children=Q5H.children||[];Q5H.parent.children[t5H]=Q5H;var z5H=C5H.state.path+"."+t5H,D5H=Q5H.hasChildren()&&function(){var X5H=K5H.openNodes;return K5H.openAllNodes||0<=X5H.indexOf(Q5H)||0<=X5H.indexOf(Q5H.id)?true:false;}(),d5H=function(W5H){for(var U5H="";0<W5H.length;){W5H=W5H.replace(/\.\d+$/,""),U5H=!W5H||f5H[W5H]?"0"+U5H:"1"+U5H;}return U5H;}(z5H);Q5H.isLastChild()&&(f5H[z5H]=true);Q5H.state=(0,u5H["default"])({},Q5H.state,{depth:B5H+1,open:D5H,path:z5H,prefixMask:d5H,total:0});z5H=true;for(D5H=Q5H;null!==D5H.parent;){if(false===D5H.parent.state.open){z5H=false;break;}D5H=D5H.parent;}if(z5H){for(m5H.push(Q5H),z5H=Q5H;null!==z5H.parent;){z5H.parent.state.total++,z5H=z5H.parent;}}++t5H;Q5H.hasChildren()&&(N5H.push([C5H,B5H,t5H]),t5H=0,B5H+=1,C5H=Q5H);};t5H<C5H.children.length;){j5H();}}return m5H;};},function(P5H,v5H,F5H){function L5H(a5H,i5H){if(!a5H){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return!i5H||"object"!==typeof i5H&&"function"!==typeof i5H?a5H:i5H;}function R5H(k5H,x5H){if("function"!==typeof x5H&&null!==x5H){throw new TypeError("Super expression must either be null or a function, not "+typeof x5H);}k5H.prototype=Object.create(x5H&&x5H.prototype,{constructor:{value:k5H,enumerable:false,writable:true,configurable:true}});x5H&&(Object.setPrototypeOf?Object.setPrototypeOf(k5H,x5H):k5H.__proto__=x5H);}v5H.__esModule=true;P5H=F5H(0);var e5H=F5H(4),V5H=e5H&&e5H.__esModule?e5H:{"default":e5H},e5H=F5H(14),G5H=F5H(5),p5H=(0,e5H.getIEVersion)();F5H=function(Y5H){function w5H(r9H){if(!(this instanceof w5H)){throw new TypeError("Cannot call a class as a function");}var A5H=L5H(this,Y5H.call(this));A5H.options={rowsInBlock:50,blocksInCluster:4,tag:null,emptyClass:"",emptyText:"",keepParity:true};A5H.state={lastClusterIndex:-1,itemHeight:0,blockHeight:0,clusterHeight:0};A5H.scrollElement=null;A5H.contentElement=null;A5H.rows=[];A5H.cache={};A5H.scrollEventListener=function(){var T9H=null;return function(){0<=navigator.platform.toLowerCase().indexOf("mac")&&("none"!==A5H.contentElement.style.pointerEvents&&(A5H.contentElement.style.pointerEvents="none"),T9H&&(clearTimeout(T9H),T9H=null),T9H=setTimeout(function(){T9H=null;A5H.contentElement.style.pointerEvents="auto";},50));var c9H=A5H.getCurrentClusterIndex();A5H.state.lastClusterIndex!==c9H&&A5H.changeDOM();A5H.state.lastClusterIndex=c9H;};}();A5H.resizeEventListener=function(){var M9H=null;return function(){M9H&&(clearTimeout(M9H),M9H=null);M9H=setTimeout(function(){var o9H=A5H.state.itemHeight;A5H.computeHeight();o9H!==A5H.state.itemHeight&&A5H.update();},100);};}();if(!(A5H instanceof w5H)){var s9H;return s9H=new w5H(r9H),L5H(A5H,s9H);}A5H.options=Object.keys(A5H.options).reduce(function(g9H,O9H){g9H[O9H]=void 0!==r9H[O9H]?r9H[O9H]:A5H.options[O9H];return g9H;},{});A5H.scrollElement=r9H.scrollElement;A5H.contentElement=r9H.contentElement;A5H.contentElement.hasAttribute("tabindex")||A5H.contentElement.setAttribute("tabindex",0);if(Array.isArray(r9H.rows)){A5H.rows=r9H.rows;}else{A5H.rows=[];s9H=A5H.contentElement.children;for(var I9H=s9H.length,n9H=0;n9H<I9H;++n9H){A5H.rows.push(s9H[n9H].outerHTML||"");}}s9H=A5H.scrollElement.scrollTop;A5H.changeDOM();A5H.scrollElement.scrollTop=s9H;(0,G5H.addEventListener)(A5H.scrollElement,"scroll",A5H.scrollEventListener);(0,G5H.addEventListener)(window,"resize",A5H.resizeEventListener);return A5H;}R5H(w5H,Y5H);w5H.prototype.destroy=function(h9H){(0,G5H.removeEventListener)(this.scrollElement,"scroll",this.scrollEventListener);(0,G5H.removeEventListener)(window,"resize",this.resizeEventListener);h9H=h9H?this.generateEmptyRow():this.rows();this.setContent(h9H.join(""));};w5H.prototype.update=function(y9H){this.rows=(0,V5H["default"])(y9H);y9H=this.scrollElement.scrollTop;this.rows.length*this.state.itemHeight<y9H&&(this.scrollElement.scrollTop=0,this.state.lastClusterIndex=0);this.changeDOM();this.scrollElement.scrollTop=y9H;};w5H.prototype.clear=function(){this.rows=[];this.update();};w5H.prototype.append=function(H9H){H9H=(0,V5H["default"])(H9H);H9H.length&&(this.rows=this.rows.concat(H9H),this.changeDOM());};w5H.prototype.prepend=function(q9H){q9H=(0,V5H["default"])(q9H);q9H.length&&(this.rows=q9H.concat(this.rows),this.changeDOM());};w5H.prototype.computeHeight=function(){this.state.clusterHeight=0;if(this.rows.length){var Z9H=this.contentElement.children,E9H=Z9H[Math.floor(Z9H.length/2)],Z9H=E9H.offsetHeight;"tr"===this.options.tag&&"collapse"!==(0,G5H.getElementStyle)(this.contentElement,"borderCollapse")&&(Z9H+=parseInt((0,G5H.getElementStyle)(this.contentElement,"borderSpacing"),10)||0);if("tr"!==this.options.tag){var u9H=parseInt((0,G5H.getElementStyle)(E9H,"marginTop"),10)||0,E9H=parseInt((0,G5H.getElementStyle)(E9H,"marginBottom"),10)||0,Z9H=Z9H+Math.max(u9H,E9H);}this.state.itemHeight=Z9H;this.state.blockHeight=this.state.itemHeight*this.options.rowsInBlock;this.state.clusterHeight=this.state.blockHeight*this.options.blocksInCluster;}};w5H.prototype.getCurrentClusterIndex=function(){var j9H=this.state,J9H=j9H.blockHeight,j9H=j9H.clusterHeight;return J9H&&j9H?Math.floor(this.scrollElement.scrollTop/(j9H-J9H))||0:0;};w5H.prototype.generateEmptyRow=function(){var S9H=this.options,K9H=S9H.tag,b9H=S9H.emptyText,t9H=S9H.emptyClass;if(!K9H||!b9H){return[];}S9H=document.createElement(K9H);S9H.className=t9H;"tr"===K9H?(K9H=document.createElement("td"),K9H.colSpan=100,K9H.appendChild(document.createTextNode(b9H)),S9H.appendChild(K9H)):S9H.appendChild(document.createTextNode(b9H));return[S9H.outerHTML];};w5H.prototype.renderExtraTag=function(f9H,N9H){var C9H=document.createElement(this.options.tag);C9H.className=["infinite-tree-extra-row","infinite-tree-"+f9H].join(" ");N9H&&(C9H.style.height=N9H+"px");return C9H.outerHTML;};w5H.prototype.changeDOM=function(){!this.state.clusterHeight&&0<this.rows.length&&(p5H&&9>=p5H&&!this.options.tag&&(this.options.tag=this.rows[0].match(/<([^>\s/]*)/)[1].toLowerCase()),1>=this.contentElement.children.length&&(this.cache.content=this.setContent(this.rows[0]+this.rows[0]+this.rows[0])),this.options.tag||(this.options.tag=this.contentElement.children[0].tagName.toLowerCase()),this.computeHeight());var l9H=0,Q9H=0,m9H;if(this.rows.length<this.options.rowsInBlock){m9H=0<this.rows.length?this.rows:this.generateEmptyRow();}else{l9H=this.options.rowsInBlock*this.options.blocksInCluster;Q9H=this.getCurrentClusterIndex();m9H=Math.max((l9H-this.options.rowsInBlock)*Q9H,0);var B9H=m9H+l9H,l9H=Math.max(m9H*this.state.itemHeight,0),Q9H=Math.max((this.rows.length-B9H)*this.state.itemHeight,0);m9H=this.rows.slice(m9H,B9H);}m9H=m9H.join("");var B9H=this.checkChanges("content",m9H),z9H=this.checkChanges("top",l9H),D9H=this.checkChanges("bottom",Q9H);B9H||z9H?(B9H=[],0<l9H&&(this.options.keepParity&&B9H.push(this.renderExtraTag("keep-parity")),B9H.push(this.renderExtraTag("top-space",l9H))),B9H.push(m9H),0<Q9H&&B9H.push(this.renderExtraTag("bottom-space",Q9H)),this.emit("clusterWillChange"),this.setContent(B9H.join("")),this.emit("clusterDidChange")):D9H&&(this.contentElement.lastChild.style.height=Q9H+"px");};w5H.prototype.setContent=function(d9H){var W9H=this;if(p5H&&9>=p5H&&"tr"===this.options.tag){var X9H=document.createElement("div");X9H.innerHTML="<table><tbody>"+d9H+"</tbody></table>";for(d9H=this.contentElement.lastChild;d9H;){W9H.contentElement.removeChild(d9H),d9H=W9H.contentElement.lastChild;}for(X9H=this.getChildNodes(X9H.firstChild.firstChild);X9H.length;){W9H.contentElement.appendChild(X9H.shift());}}else{this.contentElement.innerHTML=d9H;}};w5H.prototype.getChildNodes=function(U9H){U9H=U9H.children;for(var e9H=[],F9H=U9H.length,G9H=0;G9H<F9H;G9H++){e9H.push(U9H[G9H]);}return e9H;};w5H.prototype.checkChanges=function(p9H,V9H){var P9H=V9H!==this.cache[p9H];this.cache[p9H]=V9H;return P9H;};return w5H;}(P5H.EventEmitter);v5H["default"]=F5H;},function(L9H,v9H,R9H){v9H.__esModule=true;v9H.getIEVersion=function(){var a9H=document.createElement("div"),x9H=a9H.getElementsByTagName("i")||[],i9H=3;do{++i9H,a9H.innerHTML="\x3c!--[if gt IE "+i9H+"]><i></i><![endif]--\x3e";}while(x9H[0]);return 4<i9H?i9H:document.documentMode;};},function(k9H,w9H,Y9H){k9H.exports=function(T1H){for(var r1H=arguments.length,n1H=Array(1<r1H?r1H-1:0),A9H=1;A9H<r1H;A9H++){n1H[A9H-1]=arguments[A9H];}if(void 0===T1H||null===T1H){throw new TypeError("Cannot convert undefined or null to object");}r1H=Object(T1H);for(A9H=0;A9H<n1H.length;A9H++){var s1H=n1H[A9H];if(void 0!==s1H&&null!==s1H){for(var I1H in s1H){Object.prototype.hasOwnProperty.call(s1H,I1H)&&(r1H[I1H]=s1H[I1H]);}}}return r1H;};},function(O1H,M1H,g1H){M1H.__esModule=true;j.initSymbol();j.initSymbol();j.initSymbolIterator();var o1H="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(h1H){return typeof h1H;}:function(y1H){j.initSymbol();j.initSymbol();j.initSymbol();return y1H&&"function"===typeof Symbol&&y1H.constructor===Symbol&&y1H!==Symbol.prototype?"symbol":typeof y1H;},c1H=M1H.trim=function(H1H){for(var q1H=1<arguments.length&&void 0!==arguments[1]?arguments[1]:" \f\n\r\t\v";0<=q1H.indexOf(H1H[0]);){H1H=H1H.slice(1);}for(;0<=q1H.indexOf(H1H[H1H.length-1]);){H1H=H1H.slice(0,-1);}return H1H;};M1H.get=function(){var Z1H=new RegExp(/[\w\-]+|\[[^\]]*\]+/g);return function(E1H,j1H,S1H){if(!E1H||("undefined"===typeof E1H?true:"object"!==o1H(E1H))){return S1H;}j1H=(""+j1H).match(Z1H);if(!j1H){return S1H;}for(var J1H=0;J1H<j1H.length;J1H++){var u1H=j1H[J1H],u1H=c1H(u1H," \f\n\r\t\v");"["===u1H[0]&&(u1H=c1H(u1H.slice(1,-1)," \f\n\r\t\v"));u1H=c1H(u1H,"'\"");if(void 0===E1H||null===E1H||("undefined"===typeof E1H?true:"object"!==o1H(E1H))){break;}E1H=E1H[u1H];if(void 0===E1H){break;}}return void 0!==E1H?E1H:S1H;};}();},function(K1H,b1H,t1H){b1H.__esModule=true;K1H=function(){function C1H(){if(!(this instanceof C1H)){throw new TypeError("Cannot call a class as a function");}this.data={};}C1H.prototype.clear=function(){this.data={};};C1H.prototype.get=function(N1H){return this.data[N1H];};C1H.prototype.has=function(f1H){return void 0!==this.data[f1H];};C1H.prototype.set=function(B1H,m1H){return this.data[B1H]=m1H;};C1H.prototype.unset=function(l1H){void 0!==this.data[l1H]&&delete this.data[l1H];};return C1H;}();b1H["default"]=K1H;},function(d1H,X1H,z1H){function W1H(G1H){return G1H&&G1H.__esModule?G1H:{"default":G1H};}X1H.__esModule=true;X1H.defaultRowRenderer=void 0;d1H=z1H(1);var Q1H=W1H(d1H);d1H=z1H(6);var U1H=W1H(d1H);z1H=z1H(19);var D1H=W1H(z1H);X1H.defaultRowRenderer=function(e1H,R1H){var x1H=e1H.id,P1H=e1H.name,v1H=e1H.loadOnDemand,i1H=void 0===v1H?false:v1H,F1H=e1H.state,v1H=R1H.droppable,a1H=F1H.depth,L1H=F1H.open,k1H=F1H.path,w1H=F1H.total,p1H=F1H.selected,p1H=void 0===p1H?false:p1H,V1H=F1H.filtered,F1H=Object.keys(e1H.children).length;e1H=e1H.hasChildren();if(false===V1H){return"";}V1H="";!e1H&&i1H&&(V1H="\u25ba");e1H&&L1H&&(V1H="\u25bc");e1H&&!L1H&&(V1H="\u25ba");R1H=(0,D1H["default"])("a",{"class":!e1H&&i1H?(0,Q1H["default"])(R1H.togglerClass,"infinite-tree-closed"):e1H&&L1H?(0,Q1H["default"])(R1H.togglerClass):e1H&&!L1H?(0,Q1H["default"])(R1H.togglerClass,"infinite-tree-closed"):""},V1H);P1H=(0,D1H["default"])("span",{"class":(0,Q1H["default"])("infinite-tree-title")},(0,U1H["default"])(P1H));P1H=(0,D1H["default"])("div",{"class":"infinite-tree-node",style:"margin-left: "+18*a1H+"px"},R1H+P1H);return(0,D1H["default"])("div",{"data-id":x1H,"data-expanded":e1H&&L1H,"data-depth":a1H,"data-path":k1H,"data-selected":p1H,"data-children":F1H,"data-total":w1H,"class":(0,Q1H["default"])("infinite-tree-item",{"infinite-tree-selected":p1H}),droppable:v1H},P1H);};},function(I4H,Y1H,T4H){var A1H=Object.assign||function(O4H){for(var c4H=1;c4H<arguments.length;c4H++){var M4H=arguments[c4H],o4H;for(o4H in M4H){Object.prototype.hasOwnProperty.call(M4H,o4H)&&(O4H[o4H]=M4H[o4H]);}}return O4H;};j.initSymbol();j.initSymbol();j.initSymbolIterator();var r4H="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(g4H){return typeof g4H;}:function(h4H){j.initSymbol();j.initSymbol();return h4H&&"function"===typeof Symbol&&h4H.constructor===Symbol?"symbol":typeof h4H;},s4H=(Y1H=T4H(6))&&Y1H.__esModule?Y1H:{default:Y1H},n4H="area base br col embed hr img input keygen link meta param source track wbr".split(" ");I4H.exports=function(y4H,q4H,Z4H){("undefined"===typeof y4H?false:"object"===r4H(y4H))&&(Z4H=q4H,q4H=y4H,y4H="div");var E4H=0<=n4H.indexOf((""+y4H).toLowerCase()),H4H="<"+y4H;q4H=A1H({},q4H);Object.keys(q4H).forEach(function(j4H){var u4H=q4H[j4H];"string"===typeof u4H?(u4H=(0,s4H.default)(""+u4H),H4H+=" "+j4H+'="'+u4H+'"'):u4H&&(H4H+=" "+j4H);});return H4H=E4H?H4H+">":void 0!==Z4H?H4H+(">"+Z4H+"</"+y4H+">"):H4H+"/>";};}]);}));void function(){function J4H(Q4H,t4H){function l4H(){for(var d4H=[],z4H=b4H.length;z4H--;){var D4H=b4H[z4H].name,X4H=f4H.getIcon(D4H);d4H.push('\n\t\t\t\t<li data-index="'+z4H+'">\n\t\t\t\t\t<span class="icon '+X4H+'"></span>\n\t\t\t\t\t<span class="title" data-translate="'+D4H+'">'+B4H.translate(D4H)+'</span>\n\t\t\t\t\t<span class="index">'+(z4H+1).toLocaleString(B4H.locale)+"</span>\n\t\t\t\t</li>\n\t\t\t");}return d4H;}function m4H(){var W4H=C4H.querySelector("li");return Math.floor(t4H.offsetHeight/W4H.offsetHeight);}var N4H=sketch.dom,B4H=sketch.lang,f4H=sketch.ui,K4H=Q4H.history,S4H=void 0,C4H=N4H.append(t4H,'\n\t\t<div id="history-scroll" class="clusterize-scroll">\n\t\t  <div id="history-content" class="clusterize-content">\n\t\t\t<div class="clusterize-no-data"></div>\n\t\t\t<li style="visibility: hidden;"></li>\n\t\t  </div>\n\t\t</div>\n\t'),b4H=K4H.recording,S4H=new window.Clusterize({rows:l4H(),rows_in_block:m4H(),scrollId:"history-scroll",contentId:"history-content",callbacks:{clusterChanged:function(){S4H&&S4H.render();for(var G4H=N4H.$$("#history-scroll li"),F4H=function(V4H,P4H){var p4H=G4H[V4H];Gesture.click(p4H,function(v4H){v4H=v4H.target.getAttribute("data-index");v4H=parseInt(v4H);if(v4H=K4H.current-v4H){0>v4H?(v4H=Math.abs(v4H),K4H.redo({steps:v4H})):K4H.undo({steps:v4H});}});sketch.emit("tooltip:attach",p4H,function(){var L4H=p4H.classList;return L4H.contains("selected")?"Now":L4H.contains("disabled")?"The future":"The past";});},U4H=0,e4H=G4H.length;U4H<e4H;U4H++){F4H(U4H,e4H);}}}});S4H.resize=function(){S4H.options.rows_in_block=m4H();S4H.refresh();S4H.update();};S4H.render=function(){t4H.contains(C4H)?b4H.length!==S4H.getRowsAmount()&&S4H.update(l4H()):(t4H.appendChild(C4H),S4H.refresh());for(var a4H=N4H.$$("#history-scroll li"),x4H=K4H.current,i4H=0,w4H=a4H.length;i4H<w4H;i4H++){var R4H=a4H[i4H],k4H=parseInt(R4H.getAttribute("data-index")),R4H=R4H.classList;R4H.toggle("selected",k4H===x4H);R4H.toggle("disabled",k4H>x4H);}f4H.tooltip&&f4H.tooltip.ping();};S4H.render();return S4H;}sketch.ui.HistoryPane=function(A4H,n7H){var r7H=sketch.doc,Y4H=sketch.util.debounce,s7H=Y4H(function(){var I7H=A4H.pane;I7H&&I7H.resize();},100),Y4H=Y4H(function(){var T7H=A4H.pane;T7H&&T7H.render();},100);A4H.historyPop=r7H.on("historyPop",Y4H);A4H.historyStore=r7H.on("historyStore",Y4H);A4H.redo=r7H.on("redo",Y4H);A4H.undo=r7H.on("undo",Y4H);A4H.reset=r7H.on("reset",Y4H);A4H.open=r7H.on("open",Y4H);A4H.resize=sketch.on("resize",s7H);A4H.pane=J4H(r7H,n7H);};}();void function(){sketch.ui.LayersPane=function(O7H,Q7H,g7H){function l7H(z7H){function d7H(G7H){var U7H=j7H(G7H);setTimeout(function(){u7H.contextMenu.show("layers",{at:{element:"[data-id='"+U7H.id+"'] .controls",align:S7H.rtl?"top right to center left":"top left to center right"}});},1);}function X7H(F7H){var e7H=!j7H(F7H).selectable;O7H.selection.forEach(function(p7H){if(p7H=q7H(p7H)){p7H=p7H.querySelector(".lock").classList,p7H.toggle("icon-unlocked",e7H),p7H.toggle("icon-locked",!e7H);}});O7H.configSelection({selectable:e7H});e7H||O7H.deselectAll();}function W7H(P7H){var V7H=!j7H(P7H).visible;O7H.selection.forEach(function(v7H){if(v7H=q7H(v7H)){v7H.classList.toggle("visible",V7H),v7H=v7H.querySelector(".visibility").classList,v7H.toggle("icon-eye-open",V7H),v7H.toggle("icon-eye-close",!V7H);}});O7H.configSelection({visible:V7H});}if(z7H.isClick()){var D7H=z7H.originalEvent.target.classList;D7H.contains("contextmenu")?d7H(z7H):D7H.contains("lock")?X7H(z7H):D7H.contains("visibility")?W7H(z7H):D7H.contains("toggler")||C7H(y7H(H7H(z7H)));return true;}}function m7H(L7H){if(L7H.isDblClick()&&L7H.originalEvent.target.classList.contains("title")){var R7H=y7H(H7H(L7H));if(R7H===M7H){return L7H=q7H(R7H),E7H.editContent(L7H.querySelector(".title"),{plainText:true}).then(function(i7H){O7H.configSelection({name:i7H},{layers:[R7H]});o7H.updateNode(o7H.getNodeById(R7H.id));}).catch(function(a7H){});}}}function C7H(x7H){function k7H(Y7H){Y7H=c7H.selection.toLayers([Y7H,M7H],{sort:true});var A7H=Z7H.querySelectorAll("tree-item"),n6H=q7H(Y7H[1]||Y7H[0]),I6H=q7H(Y7H[0]),T6H=0===Y7H.indexOf(M7H);Y7H=null;for(var c6H=A7H.length,r6H=0;r6H<c6H;r6H++){var s6H=A7H[r6H];s6H===n6H&&(Y7H=[]);Y7H&&Y7H.push(y7H(s6H));if(s6H===I6H){break;}}Y7H&&(Keyster.meta&&M7H.selected&&(A7H=Y7H.indexOf(M7H),T6H&&0<A7H&&Y7H.splice(A7H,1)),Y7H.forEach(function(M6H){Keyster.meta?M6H.selected?c7H.deselect(M6H):c7H.select(M6H):c7H.select(M6H);}));}function w7H(o6H){o6H.selected?c7H.deselect(o6H):c7H.select(o6H);}Keyster.shift&&x7H&&M7H?k7H(x7H):Keyster.meta||O7H.selection.layer===x7H?w7H(x7H):(c7H.deselectAll(),c7H.select(x7H));M7H=x7H;J7H.scene();}function B7H(O6H){f7H(O6H);var g6H=O6H.env,y6H=g6H.startPosition,h6H=O6H.delta(O6H.start),H6H=g6H.$clone.style;H6H.top=h6H.y+y6H.top+"px";H6H.left=y6H.left+"px";O6H.END&&(g6H.$clone.remove(),y6H=o7H.getNodeById(g6H.$hover.getAttribute("data-id")),h6H=g6H.startNode,O6H=y6H.id,O6H===h6H.id||h6H.contains(y6H)||(g6H=g6H.command,y6H=O7H.selection.toLayers(O7H.selection,{sort:true}),O6H=c7H.getById(O6H),h6H=O6H.idx,"place-in"===g6H?h6H=O6H.children.length:"place-above"===g6H&&h6H++,("place-in"===g6H?O6H:O6H.parent).sendTo({selection:y6H,targetIdx:h6H,recordHistory:true}),O7H.emit("mehfullupdate"),J7H.scene()));}function f7H(q6H){function J6H(K6H){K6H=K6H.classList;K6H.remove("place-in");K6H.remove("place-above");K6H.remove("place-below");}function S6H(t6H){var b6H=t6H.env,C6H=b6H.$hover;b6H.startNode=o7H.getNodeById(H7H(t6H).getAttribute("data-id"));b6H.startPosition=C6H.getBoundingClientRect();t6H=b6H.$clone=E7H.clone(C6H);t6H.style.opacity=.45;(b6H=t6H.querySelector(".controls"))&&b6H.remove();document.body.appendChild(t6H);}function j6H(f6H){var N6H=f6H.env;return N6H.$hover=H7H(f6H)||N6H.$hover;}var Z6H=q6H.env;Z6H.$hover&&J6H(Z6H.$hover);var E6H=j6H(q6H),u6H=y7H(E6H);q6H.START&&(u6H.selected||(c7H.deselectAll(),c7H.select(u6H),E6H=j6H(q6H)),Z7H.classList.add("dragging"),S6H(q6H));q6H.END?Z7H.classList.remove("dragging"):E6H&&(q6H=N7H(q6H,E6H),"group"===u6H.type?.25>q6H?Z6H.command="place-above":.75<q6H?"true"===E6H.getAttribute("data-open")?Z6H.command="place-in":Z6H.command="place-below":Z6H.command="place-in":Z6H.command=.5>q6H?"place-above":"place-below",E6H.classList.add(Z6H.command));}function N7H(l6H,B6H){B6H=B6H.getBoundingClientRect();var m6H=B6H.height;return(l6H.asPageXY().y-B6H.top)/m6H;}function q7H(Q6H){return E7H.$("[data-id='"+Q6H.id+"']");}function H7H(z6H){return z6H.elementFromPoint("tree-item");}function y7H(D6H){return c7H.getById(D6H.getAttribute("data-id"));}function j7H(d6H){d6H=y7H(H7H(d6H));O7H.selection.includes(d6H)||(c7H.deselectAll(),c7H.select(d6H));return M7H=d6H;}function t7H(X6H){return function(W6H){if(W6H.END){return false;}M7H||(M7H=c7H.children[0]);W6H=Array.prototype.slice.call(Z7H.querySelectorAll("tree-item"));var U6H=q7H(M7H),U6H=W6H.indexOf(U6H);if(!(U6H=W6H[U6H+X6H])){return false;}W6H=y7H(U6H);if(!W6H){return false;}C7H(W6H);return false;};}function b7H(G6H){return function(e6H){if(e6H.END){return false;}M7H||(M7H=c7H.children[0]);e6H=o7H.getNodeById(M7H.id);G6H?o7H.openNode(e6H):o7H.closeNode(e6H);return false;};}var E7H=sketch.dom,S7H=sketch.lang,J7H=O7H.render,c7H=O7H.scene,u7H=sketch.ui,K7H=S7H.translate,M7H=null,o7H=new InfiniteTree(g7H,{autoOpen:true,selectable:false,noDataClass:"infinite-tree-no-data",noDataText:K7H("no-layers"),rowRenderer:function(p6H,A6H){var R6H=p6H.id,Y6H=p6H.children;p6H=p6H.state;var v6H=p6H.depth;p6H=p6H.open;var F6H=c7H.getById(R6H);if(!F6H){console.error("could not find",R6H,o7H);}else if("layerTemp"!==F6H.name){var L6H=F6H.type,k6H=F6H.name||L6H,P6H=F6H.visible,V6H=20*v6H,v6H=F6H.selectable?"icon-unlocked":"icon-locked",w6H=P6H?"icon-eye-open":"icon-eye-close",F6H=(F6H.selected?'selected ':' ')+(P6H?"visible":""),P6H="padding-left: "+V6H+"px;",V6H=190-V6H,i6H="",a6H="",x6H=u7H.getIcon(L6H);"group"===L6H&&(a6H=(p6H?'<span class="icon toggler icon-arrow-down ':'<span class="icon toggler icon-arrow-right ')+A6H.togglerClass+'"></span>',i6H='<span class="descendantCount">'+Y6H.length+"</span>",x6H="icon-folder",V6H-=22);return'\n\t\t\t<tree-item class="'+F6H+'" data-id="'+R6H+'" data-open="'+p6H+'" style="'+P6H+'">\n\t\t\t\t<tree-item-content>\n\t\t\t\t\t'+a6H+'\n\t\t\t\t\t<span class="icon '+x6H+'"></span>\n\t\t\t\t\t<span class="title" style="width: '+V6H+'px;">'+K7H(k6H)+"</span>\n\t\t\t\t\t"+i6H+'\n\t\t\t\t\t<span class="controls">\n\t\t\t\t\t\t<span class="visibility '+w6H+'"></span>\n\t\t\t\t\t\t\x3c!--<span class="lock '+v6H+'"></span>--\x3e\n\t\t\t\t\t\t<span class="contextmenu icon-contextmenu"></span>\n\t\t\t\t\t</span>\n\t\t\t\t</tree-item-content>\n\t\t\t</tree-item>\n\t\t';}}});g7H.tabIndex=-1;Gesture.on(g7H,"mousedown",function(r82){Gesture.stop(r82);g7H.focus();});var Z7H=o7H.contentElement;Gesture.drag(Z7H,function(s82){s82.waitFor(function(n82){if(!m7H(n82)&&!l7H(n82)){var I82;n82.START&&y7H(H7H(n82)).stickTo&&(n82.env.cancel=true);I82=n82.env.cancel?true:void 0;if(!I82){return n82.hasMoved(5);}}}).thenReplay(B7H);});var h7H={};h7H.up=Keyster.on(g7H,"*up",t7H(-1));h7H.down=Keyster.on(g7H,"*down",t7H(1));h7H.right=Keyster.on(g7H,"*right",b7H(true));h7H.left=Keyster.on(g7H,"*left",b7H(false));h7H.deselect=O7H.selection.on("Empty",function(){return M7H=null;});o7H.on("contentDidUpdate",console.log);o7H.on("clusterWillChange",console.log);o7H.loadData(Q7H);o7H.detach=function(){return Gesture.bulk(h7H,"detach");};return o7H;};}();void function(){function H82(K82){K82=M82.$(K82);var S82=M82.measure(K82);c82.element=K82;c82.left=S82.x1;c82.right=S82.x2;c82.top=S82.y1;c82.bottom=S82.y2;}function J82(l82,b82){var t82=document.body||document.documentElement,B82=t82.scrollTop,m82=t82.scrollLeft,C82=window.innerWidth,N82=window.innerHeight;if(false!==b82.draggable){var f82=b82.element,t82=M82.$(b82.handle||f82);return Gesture.handlers.drag({event:l82,target:t82,position:"move",listener:function(Q82){Q82.prevent();var z82=M82.measure(Q82.target);Q82.width=z82.width;Q82.height=z82.height;h82(Q82);"fixed"===z82.position&&(Q82.y-=B82,Q82.x-=m82);T82.emit("drag",Q82,b82);var z82=Math.round(Q82.y+B82),D82=f82.style;D82.left=Math.round(Q82.x+m82)+"px";D82.top=z82+"px";Q82.START?(Q82=b82.zIndexFixed||++o82.zIndexGlobal,f82.style.zIndex=Q82):(z82={},z82.selector=b82.selector,z82.index=o82.zIndexGlobal,"bottom"===b82.vAlign?z82.bottom=(N82-Q82.y-Q82.height-(N82-c82.bottom))/N82:z82.top=(Q82.y-c82.top)/N82,"right"===b82.hAlign?z82.right=(C82-Q82.x-Q82.width-(C82-c82.right))/C82:z82.left=(Q82.x-c82.left)/C82,T82.record(z82),T82.restore(z82.selector));}});}}function q82(W82,X82){if(void 0===X82.hasWindowEvent){X82.hasWindowEvent=true;var d82=void 0;Gesture.on(X82,{contextmenu:function(U82){d82&&d82.detach&&d82.detach();},mousedown:function(G82){d82=J82(G82,W82);},mouseover:function(e82){Gesture.stop(e82);}});}}function j82(p82){var F82=M82.$(".sk-close",p82);F82&&(sketch.emit("tooltip:attach",F82,"Close"),Gesture.on(F82,{mousedown:Gesture.cancel,click:function(V82){V82.cancel();requestAnimationFrame(function(){for(var P82=V82.target;P82!==document;){if(P82.classList.contains("sk-window")){T82.hide(p82.getAttribute("data-selector"));break;}else if(P82.parentNode){P82=P82.parentNode;}else{break;}}});}}));}function u82(L82){var v82=T82.byId(L82);if(v82){var R82=v82.element,v82=v82.ghost=document.createElement("div");0===L82.indexOf("#")?v82.id=L82.substr(1)+"-ghost":v82.className=L82.substr(1)+"-ghost";v82.classList.add("sk-window-ghost");R82.parentNode.insertBefore(v82,R82);Gesture.on(v82,"mousedown",function(i82){Gesture.prevent(i82);T82.hide(L82);});}}function h82(a82){var x82=c82.x||0,k82=c82.y||0,w82=c82.width||window.innerWidth,Y82=c82.height||window.innerHeight;a82.x+a82.width>w82&&(a82.x=w82-a82.width);a82.x<x82&&(a82.x=x82);a82.y+a82.height>Y82&&(a82.y=Y82-a82.height);a82.y<k82&&(a82.y=k82);return a82;}function y82(A82){return true===A82?"block":false===A82?"none":A82;}j.initSymbol();j.initSymbol();j.initSymbolIterator();var Z82="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(r22){return typeof r22;}:function(s22){j.initSymbol();j.initSymbol();j.initSymbol();return s22&&"function"===typeof Symbol&&s22.constructor===Symbol&&s22!==Symbol.prototype?"symbol":typeof s22;},M82=sketch.dom,g82=sketch.feature,o82=sketch.ui,E82=sketch.util,T82=Galactic.emitter(sketch.windows=[]),O82=T82.toIndex={};T82.focused=[];T82.add=function(n22){o82.zIndexGlobal=o82.zIndexGlobal||101;if(Array.isArray(n22)){return Promise.all(n22.map(function(h22){return T82.add(h22);}));}var I22=n22.selector,c22=M82.$(I22);if(function(y22){y22=O82[y22];if(isFinite(y22)){return document.body.contains(T82[y22].element);}}(I22)){return console.error("windows.add() - Element already added.",I22),Promise.reject("windows.add() - Element already added.");}if(!c22){return console.error("windows.add() - Element does not exist!",I22),Promise.reject("windows.add() - Element does not exist!");}var M22=y82(n22.display),T22=(n22.position||"top left").split(" "),g22=n22.vAlign=T22[0]||"top",T22=n22.hAlign=T22[1]||"left";if("px"===n22.format){var o22=window.innerWidth,O22=window.innerHeight;"top"===g22?n22.top=(n22.top||0)/O22:n22.bottom=(n22.bottom||0)/O22;"left"===T22?n22.left=(n22.left||0)/o22:n22.right=(n22.right||0)/o22;}n22.element=c22;n22.index=n22.index||++o82.zIndexGlobal;c22.setAttribute("data-selector",I22);n22.handle?q82(n22,M82.$(n22.handle)):q82(n22,n22.element);O82[I22]=T82.length;T82.push(n22);return sketch.store.get(g82.prefix+I22).then(function(H22){H22&&(M22&&(H22.display=M22),"NONE"===n22.display&&(H22.display="none"),"BLOCK"===n22.display&&(H22.display="block"),E82.assignDeep(n22,H22));});};T82.byId=function(q22){return T82[O82[q22]];};T82.record=function(Z22){var u22=Z22.selector,E22=T82.byId(u22);E22&&(void 0!==Z22.left&&(E22.left=Z22.left),void 0!==Z22.top&&(E22.top=Z22.top),void 0!==Z22.right&&(E22.right=Z22.right),void 0!==Z22.bottom&&(E22.bottom=Z22.bottom),void 0!==Z22.display&&(E22.display=y82(Z22.display)),void 0!==Z22.index&&(E22.index=Z22.index),void 0!==Z22.className&&(E22.className=Z22.className),void 0!==Z22.autoclose&&(E22.autoclose=Z22.autoclose),Z22=sketch.convert.object.toString(E22),sketch.store.set(g82.prefix+u22,Z22),T82.focusElement(u22,E22.display));};T82.restore=function(J22){var l22=T82;"string"===typeof J22&&(J22=T82.byId(J22))&&(l22=[J22]);J22=document.body||document.documentElement;var X22=J22.scrollTop,W22=J22.scrollLeft;J22=window.innerWidth;var C22=window.innerHeight;c82.element&&H82(c82.element);for(var D22=[],j22={},B22=0;B22<l22.length;B22++){var S22=l22[B22];if("block"===String(S22.display).toLowerCase()){var K22=M82.$(S22.selector);if(K22){K22.style.display="block";var K22=M82.measure(K22,{sansScale:true}),Q22=K22.width,z22=K22.height,b22=void 0,N22=S22.vAlign,b22="top"===N22?S22.top*C22+c82.top:C22-S22.bottom*C22-z22,t22=void 0,f22=S22.hAlign,t22="left"===f22?S22.left*J22+c82.left:J22-S22.right*J22-Q22;j22._bottom=b22+z22-C22;j22._top=Math.min(b22,C22)-b22;j22._right=t22+Q22-J22;j22._left=Math.min(t22,J22)-t22;j22[N22]=Math.max(j22[N22]||0,j22["_"+N22]);j22[f22]=Math.max(j22[f22]||0,j22["_"+f22]);D22.push({win:S22,measure:K22,top:Math.max(0,b22),left:Math.max(0,t22),width:Q22,height:z22});}}}var d22=1001;D22.forEach(function(e22){var U22=e22.win,F22=e22.measure,V22=U22.element,G22;G22="bottom"===U22.vAlign?e22.top-j22.bottom:e22.top+j22.top;var p22;p22="right"===U22.hAlign?e22.left-j22.right:e22.left+j22.left;G22=h82({x:p22,y:G22,width:e22.width,height:e22.height});"fixed"!==F22.position&&(G22.y+=X22,G22.x+=W22);U22=U22.zIndexFixed||U22.index||++d22;p22=Math.round(G22.x);G22=Math.round(G22.y);F22=V22.style;F22.left=p22+"px";F22.top=G22+"px";F22.zIndex=U22;F22.display="block";V22.classList.add("opened");o82.zIndexGlobal=Math.max(o82.zIndexGlobal,U22);});};T82.blink=function(L22,v22){var P22=M82.$(L22);P22&&(T82.isOpen(P22)||T82.show(L22),setTimeout(function(){P22.blinking=false;},250),P22.blinking?v22&&v22(true):(P22.blinking=true,Velocity(P22,"pulse"),Velocity(P22,"pulse").then(function(){v22&&v22(true);})));};T82.show=function(R22){return new Promise(function(A22){if("undefined"===typeof R22?false:"object"===Z82(R22)){var a22=R22,x22=M82.$(a22.element);if(!x22){console.error(R22);return;}if(!(R22=x22.getAttribute("data-selector"))){return;}var i22=M82.getCoordinateAt(x22,a22);if(i22){var k22=Math.round(i22.y),x22=x22.style;x22.left=Math.round(i22.x)+"px";x22.top=k22+"px";sketch.windows.record({selector:R22,left:i22.x/window.innerWidth,top:i22.y/window.innerHeight,autoclose:a22.autoclose});}return T82.show(R22);}if(a22=T82.byId(R22)){var Y22=!!a22.autoclose,w22=a22.ghost;if(i22=a22.element){clearTimeout(i22.interval),i22.classList.contains("sk-window")&&(i22.classList.add("opened"),k22=a22.zIndexFixed||++o82.zIndexGlobal,T82.record({selector:R22,display:"block",index:k22}),Y22&&(w22||(u82(R22),w22=a22.ghost),w22.style.display="block",w22.style.zIndex=k22++),i22.style.display="block",i22.style.opacity=1,i22.style.zIndex=k22,j82(i22),requestAnimationFrame(function(){Y22&&w22.classList.add("show");T82.restore(R22);A22();}));}}});};T82.hide=function(T02){var r02=T82.byId(T02);if(r02){var s02=r02.element,n02=r02.ghost,I02=!!r02.autoclose&&n02;false!==r02.closeable&&(I02&&n02.classList.remove("show"),s02.classList.remove("opened"),s02.style.opacity=0,s02.interval=setTimeout(function(){I02&&(n02.style.display="none");s02.style.opacity=1;s02.style.display="none";T82.record({selector:T02,display:"none"});},250));}};T82.focus=function(o02){var c02=T82.byId(o02),M02=c02.element;M02&&(c02=c02.zIndexFixed||++o82.zIndexGlobal,M02.style.zIndex=c02,T82.record({selector:o02,index:c02}));};T82.clearFocus=function(){T82.focused=[];};T82.focusElement=function(O02,g02){if("none"!==g02){g02=T82.focused.slice(-1)[0];var h02=" "+T82.focused.join(" ")+" ";g02!==O02&&-1===h02.indexOf(O02)&&T82.focused.push(O02);}};T82.hasFocus=function(){return isFinite(O82[T82.focused.slice(-1)[0]]);};T82.hideFocused=function(){var y02=T82.focused.pop();T82.hide(y02);};T82.isOpen=function(H02){if(H02=M82.$(H02)){return"none"===H02.style.display?false:H02.classList.contains("opened");}};T82.isClosed=function(q02){return!T82.isOpen(q02);};T82.toggle=function(Z02,j02){var u02=M82.$(Z02);if(u02){var E02=void 0;T82.isOpen(u02)?(T82.hide(Z02),E02=false):(T82.show(Z02),T82.restore(Z02),E02=true);j02&&requestAnimationFrame(function(){return j02(E02);});}else{console.error('This window "'+Z02+'" does not exist.');}};var c82=T82.CLAMP={x:0,y:0,left:0,right:0,top:0,bottom:0,vAlign:"top",hAlign:"left"};T82.setClamp=function(){var J02=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},S02=J02.element||document.body,K02=J02.width,b02=J02.height,t02=J02.y;c82.x=J02.x||null;c82.y=t02||null;c82.width=K02||null;c82.height=b02||null;H82(S02);};}();void function(){function j32(f32){function B32(D32){return e02.ensurePaintServer(D32).type||D32.type;}function z32(d32){var W32=sketch.doc,U32=d32.originalEvent,X32=d32.env;if(d32.START){var G32=U32.target;X32.$item=G32;X32.clone=z02.clone(G32,{id:"ui-palette-clone"});X32.clone.style.transition="unset";X32.metrics=G32.getBoundingClientRect();document.body.appendChild(X32.clone);Gesture.blur();}if(d32.END){if(X32.clone.remove(),d32.isClick(Y02.mobile?10:5)){Q32(d32);}else{if(d32=Gesture.asPageXY(U32),document.elementFromPoint(d32.x,d32.y)===W32.$inputPointer){d32=W32.scene;var e32=W32.pointInCanvasFromEvent(U32),F32=d32.findAtPoint(e32);F32&&(d32=X32.$item.getAttribute("data-key"),d32=W02.get(d32),l32(d32).then(function(V32){var p32;V32=t32._setCurrentPaint(V32);F32.setPaintAt((p32={},N02(p32,V32.method,V32),N02(p32,"fillMode","node"),N02(p32,"point",e32),p32));}));}}}else{W32=X32.metrics,X32=X32.clone.style,U32=d32.x-d32.start.x,d32=d32.y-d32.start.y,d32+=W32.top,U32+=W32.left,X32.top=d32+"px",X32.left=U32+"px",X32.position="absolute",X32.cursor="crosshair";}}function Q32(P32){P32.prevent();var v32=P32.originalEvent.target;P32=v32.getAttribute("data-key");var R32=K32.paintType,L32=W02.get(P32);L32?(t32._selectElement(v32,K32.querySelectorAll("grid-item")),l32(L32).then(function(i32){t32._emitChange(N02({},i02.currentPaint.method,i32),{$at:v32.parentNode});}).catch(function(a32){console.error(a32);})):console.error(R32,P32);}function l32(x32){return x32.type.includes("pattern")?a02.add(sketch.loc.getMediaUrl(x32.value),{targetId:a02.prefixed(x32.key)}).then(function(k32){x32=h32.copy(x32);x32.value=k32.assetId;return e02.parse(x32);}):"linearGradient"===C32||"radialGradient"===C32?Promise.resolve({type:"gradient",enabled:true,gradient:{type:C32,stops:x32.value}}):Promise.resolve(e02.parse(x32));}var t32=this;if(!I32.palette.grid){return Promise.resolve();}var b32=f32.type;t32.$editor.style.display="color"===b32?"block":"none";var K32=t32.$scroller,C32=B32(f32);if(C32===K32.dnaType){return setImmediate(t32._selectPaint),Promise.resolve();}i02.currentPaint.type=b32;K32.paintType=b32;K32.dnaType=C32;z02.toggleClass(K32,"color","color"===b32);z02.toggleClass(K32,"gradient","gradient"===b32);z02.toggleClass(K32,"pattern","pattern"===b32);var N32=W02.getCollection(b32);if(!N32){return z02.empty(K32),Promise.resolve();}global.setImmediate(function(){z02.empty(K32);var Y32=sketch.Canvas2D().toDataURL(),A32="gradient"===b32?C32:"",w32=y32.GridView({type:C32,items:N32.map(function(r52){return{type:r52.type,key:r52.key,value:r52.value,defaultVariant:A32,preview:r52.preview||{url:Y32,width:25,height:25}};}),onClusterChange:function(){t32._selectPaint();}});z02.append(K32,w32);w32.updateClusterize();Gesture.drag(w32,function(s52){s52.cancel();s52.waitFor(function(n52){return n52.END||n52.hasMoved(Y02.mobile?10:5);}).thenReplay(z32);},{position:"page"});"color"===b32&&sketch.emit("tooltip:attach",w32,function(I52){if(I52=I52.target.getAttribute("data-key")){return W02.get(I52).value.toUpperCase();}});t32._selectElement(".sk-"+B32(f32),"ui-tab");});}function S32(){var c52=this,T52=O32.palette.colorPicker;if(T52&&Galactic.isDefined("sketch.color.picker")&&(!c52.$editor||!c52.$editor.querySelector("sk-colorpicker"))){var M52=T52.height||145,T52=c32.colorpicker=new sketch.color.picker({onchange:T52.onchange||function(O52,g52,o52){o52&&(o52.START&&c52._deselect("color"),c52._emitChange(N02({},o32.currentPaint.method,{type:"color",color:O52,enabled:true}),{$at:c52.$editor,gevent:o52}));},onClose:T52.onClose,theme:T52.theme,parentNode:c52.$editor,feature:{closeButton:false,hexInput:T52.hexInput},modules:{hue:{column:2,enable:true,width:30,height:M52},satval:{column:1,enable:true,width:(T52.width||206)-40,height:M52},alpha:{column:3,enable:false,width:30,height:M52}}});J32(T52);}}function J32(H52){function q52(){y52.classList.remove("active");h52&&(h52.mouseup.detach(),h52.cancel(),h52=null);}var h52=null,Z52=sketch.doc.tools.eyedropper;H52=H52.element.querySelector(".cp-header");var y52=document.createElement("span");y52.classList.add("cp-eyedropper","icon-eyedropper");H52.appendChild(y52);sketch.emit("tooltip:attach",y52,sketch.lang.translate("eyedropper"),{stickToEdge:true});Gesture.on(y52,"mousedown",Gesture.stop);Gesture.click(y52,function(){h52?q52():(y52.classList.add("active"),h52=Z52.choose().then(q52),setImmediate(function(){h52.mouseup=Gesture.on(document.body,"mouseup",q52,{capture:true});},0));});}function u32(j52,J52){function E52(K52,b52,t52){var S52=v02.append(u52,'\n\t\t\t<ui-tab class="sk-'+K52+'">\n\t\t\t\t<canvas></canvas>\n\t\t\t\t<ui-title>'+T32.translate(t52)+"</ui-title>\n\t\t\t</ui-tab>\n\t\t");Gesture.on(S52,"mousedown",Gesture.cancel);Gesture.click(S52,function(C52){C52.cancel();if(!S52.classList.contains("disabled")){C52=n32.currentPaint;C52.type=b52;x02.ensurePaintServer(C52,b52);var N52={type:C52.type,enabled:true};"gradient"===C52.type&&(C52.gradient=C52.gradient.convertGradientType(K52),N52.gradient={type:K52});x02.loadOrCreate(C52).then(function(f52){j52._renderElement(f52);j52._emitChange(N02({},f52.method,N52),{$at:u52});}).catch(function(B52){console.error(B52);});}});}var u52=void 0;if(X02.defaults.gradient||X02.defaults.pattern){u52=v02.append(J52,"<ui-tabs></ui-tabs>"),X02.defaults.color&&E52("color","color","color"),X02.defaults.gradient&&(E52("linearGradient","gradient","linear"),E52("radialGradient","gradient","radial")),X02.defaults.pattern&&E52("pattern","pattern","pattern");}}function E32(m52){m52||(m52=Q02.empty("ui-palette"));if(m52){var Q52=Q02.append(m52,'\n\t\t<div class="ui-palette-header"></div>\n\t');if(V02.palette.header&&(this.$title=Q02.append(Q52,'\n\t\t\t<div class="ui-palette-header-content"></div>\n\t\t'),V02.palette.closeButton)){Gesture.on(Q02.append(Q52,'<span class="sk-close icon-remove"></span>'),{mousedown:Gesture.cancel,click:function(z52){z52.cancel();requestAnimationFrame(function(){g32.hide(m52.getAttribute("data-selector"));});}});}var l52=Q02.append(m52,'\n\t\t<div class="ui-palette-content"></div>\n\t');V02.palette.grid&&(Q02.append(l52,"\n\t\t\t<ui-palette-break></ui-palette-break>\n\t\t"),this.$scroller=Q02.append(l52,'\n\t\t\t<div class="sk-scroller-palette"></div>\n\t\t'),Q02.append(l52,"\n\t\t\t<ui-palette-bottom></ui-palette-bottom>\n\t\t"));this.$editor=Q02.append(l52,'\n\t\t<div class="editor" style="display: none"></div>\n\t');u32(this,Q52);return this.$element=m52;}console.error("ui-palette does not exist");}function q32(V52,D52,W52){function F52(){i52=D52.opacity;a52.text.setValue(c92,Math.round(100*D52.opacity)+"%");}function U52(M92){n92(M92);I92(M92);}function n92(O92){var o92=D52.opacity?0:1;o92!==L52&&(O92&&!A52.ios?(Velocity(P52,"stop"),Velocity(P52,{opacity:o92},{duration:150})):P52.style.opacity=o92,L52=o92,V52.querySelector("paint-block").classList.toggle("disabled",L52));}function I92(g92){g92?(Velocity(e52,"stop"),Velocity(e52,{y:420*(1-D52.opacity)+195},{duration:150})):e52.setAttribute("y",420*(1-D52.opacity)+195);}function w52(H92){var y92;a:{if(H92&&H92.END){var h92=W52.type;if(!(!(p52.brush[h92]||p52.shape[h92]||p52.text[h92])||0<D52.opacity||(h92="fill"===X52?W52.stroke:"stroke"===X52?W52.fill:void 0,!h92||0<h92.opacity))){h92.opacity=1;G52._emitChange((y92={},N02(y92,D52.method,k52(D52)),N02(y92,h92.method,k52(h92)),y92),{$at:V52,gevent:H92});y92=true;break a;}}y92=void 0;}y92||G52._emitChange(N02({},D52.method,k52(D52)),{$at:V52,gevent:H92});}function k52(q92){return{enabled:true,opacity:q92.opacity};}var G52=this,A52=sketch.agent,p52=sketch.detect,a52=sketch.dom,Y52=sketch.lang,R52=sketch.ui,r92=sketch.util,L52=null,v52=D52.opacity||1,i52=D52.opacity||1,d52=a52.append(V52,'\n\t\t<style-trigger-droplet>\n\t\t\t<svg class="opacity" xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="0 0 768 768" style="enable-background:new 0 0 768 768;" xml:space="preserve">\n\t\t\t\t<clipPath id="droplet">\n\t\t\t\t\t<path d="M384,168L249,307.5c-36,36-57,76.5-57,141c18,244.5,373,235.5,384,0C576,384,555,345,519,309L384,168z"/>\n\t\t\t\t</clipPath>\n\t\t\t\t<rect class="value" x="192" style="clip-path: url(#droplet)" width="384" height="460.5"/>\n\t\t\t\t<path class="outline" d="M192,448.5c18,244.5,373,235.5,384,0C576,384,555,345,519,309L384,168L249,307.5C213,343.5,192,384,192,448.5zM565.5,256.5c49.5,49.5,75,115.5,75,180s-25.5,132-75,181.5S450,693,384,693s-132-25.5-181.5-75s-75-117-75-181.5  s25.5-130.5,75-180L384,75L565.5,256.5z"/>\n\t\t\t\t<rect class="strikethrough" x="22.3" y="383" transform="matrix(0.7071 -0.7071 0.7071 0.7071 -180.2966 390.7326)" width="718.4" height="75"/>\n\t\t\t</svg>\n\t\t</style-trigger-droplet>\n\t'),x52=d52.querySelector("svg"),e52=d52.querySelector(".value"),P52=d52.querySelector(".strikethrough"),X52=D52.method,T92="fill"===X52?"set-fill-opacity":"set-stroke-opacity";sketch.emit("tooltip:attach",x52,function(){if(s92.UP){return Y52.translate(T92);}},{stickToEdge:true});var c92=R52.Input({type:"_number_",format:"%",min:0,max:1,value:D52.opacity,parentNode:d52,onchange:function(Z92){D52.opacity=Z92;U52("animate");w52();}}),s92=Gesture.drag(x52,function(E92){E92.cancel();if(E92.START){E92.env.opacity=D52.opacity,sketch.emit("tooltip:hide"),G52._popout&&G52._popout.destroy();}else if(E92.env.hasMoved||E92.hasMoved(0,1)){E92.env.hasMoved=true;var u92=E92.env.opacity,j92=E92.signedDistance()/40;D52.opacity=r92.clamp(u92+j92,0,1);F52();n92(true);I92();w52(E92);}else{E92.isClick()&&(0===D52.opacity?D52.opacity=v52:(v52=D52.opacity,D52.opacity=0),F52(),U52(true),w52(E92));}});R52.elements.push({type:"OpacityDroplet",updateControl:function(){W52=sketch.doc.toolkit.getCurrentConfig();W52[X52]&&(D52=W52[X52],v52=D52.opacity||1,F52(),U52("animate"));}});d52._refreshUI=function(){i52!==D52.opacity&&(F52(),U52());};U52();return d52;}var N02=function(J92,S92,K92){S92 in J92?Object.defineProperty(J92,S92,{value:K92,enumerable:true,configurable:true,writable:true}):J92[S92]=K92;return J92;},Y02=sketch.agent,a02=sketch.assets,z02=sketch.dom,I32=sketch.feature,i02=sketch.globals,W02=sketch.resources,e02=sketch.style,y32=sketch.ui,h32=sketch.util,O32=sketch.feature,o32=sketch.globals,c32=sketch.ui,v02=sketch.dom,X02=sketch.feature,n32=sketch.globals,T32=sketch.lang,x02=sketch.style,Q02=sketch.dom,V02=sketch.feature,g32=sketch.windows,D02=sketch.detect,d02=sketch.dom,s32=sketch.feature,l02=sketch.globals,P02=sketch.style,B02=sketch.ui,L02=sketch.util,M32=sketch.lang.translate,k02={},w02=void 0,G02=sketch.globals,A02=sketch.style,r32=sketch.ui,H32=sketch.util,C02=sketch.palette=Galactic.emitter({}),f02=sketch.dom,Z32=sketch.feature,m02=sketch.globals,R02=sketch.style,p02=sketch.ui,F02=sketch.util,U02=sketch.windows;(function(b92){function N92(D92,z92){b92.$element.paint=z92.clone();return b92.setPaint(z92).then(function(){var d92;d92=(d92=b92.$element.querySelector(".sk-pane-content"))?d02.empty(d92):d02.append(b92.$element,'<div class="sk-pane-content"></div>');var X92=D92.type;"select"===X92&&(X92=sketch.doc.selection.typeOfAll());d02.append(d92,"<popout-arrow></popout-arrow>");D02.accumulatePaint[X92]?t92(d92,z92):D02.brushExpandForStroke[X92]?(C92(d92,z92,X92),f92(d92,z92,X92),t92(d92,z92),B92(d92,z92)):D02.brush[X92]?(C92(d92,z92,X92),t92(d92,z92)):(Q92(d92,z92),C92(d92,z92,X92),f92(d92,z92,X92),t92(d92,z92),B92(d92,z92));(d92=b92.$element.querySelector(".sk-radialGradient"))&&d92.classList.toggle("disabled",!(!D02.useColorCycle[D92.type]||"stroke"!==z92.method));});}function l92(W92,U92){b92._ensurePaletteExists();return N92(W92,U92).then(function(){var G92=b92._renderElement.at;b92._popout&&b92._popout.$element?(b92._popout.at(G92),Gesture.bulk(k02,"attach")):b92._popout=B02.popout(G92,{$content:b92.$element,className:"ui-palette",onOpen:function(){var e92=b92._renderElement.at;e92.classList.add("sk-opened");w02=e92;},onClose:function(){b92.$element.paint=null;w02.classList.remove("sk-opened");},onDestroy:function(){Gesture.bulk(k02,"detach");}});});}function C92(p92,F92,V92){"gradient"===F92.type&&F92.gradient instanceof P02.LinearGradient&&(D02.useColorCycle[V92]||B02.appendRange(p92,{label:"angle",param:"angle",title:"angle",format:"degree",min:0,max:360,value:F92.gradient.angle*L02.RAD_DEG,onchange:function(P92,L92){var v92=P92.gevent;b92._emitChange(N02({},l02.currentPaint.method,{enabled:true,gradient:{angle:(L92.value>>0)*L02.DEG_RAD}}),{$at:P92.element.parentNode,gevent:v92});}}));}function t92(R92,i92){"gradient"===i92.type&&s32.style.colorNoise&&B02.appendCheckbox(R92,{label:"colorNoise",param:"colorNoise",title:"colorNoise",checked:!!i92.gradient.noise,onchange:function(a92){b92._emitChange(N02({},l02.currentPaint.method,{enabled:true,gradient:{noise:a92}}),{$at:R92});}});}function f92(x92,k92,w92){k92.lineJoin&&D02.useLineJoin[w92]&&B02.appendLabel(x92,"Corner").appendChild(B02.ButtonGroup({selected:k92.lineJoin,options:["miter","bevel","round"],onchange:function(Y92){b92._emitChange(N02({},l02.currentPaint.method,{enabled:true,lineJoin:Y92}),{$at:x92});}}));}function B92(r12,A92){Number.isFinite(A92.padding)&&B02.appendRange(r12,{label:"padding",param:"padding",title:"padding",value:A92.padding,min:.001,max:50,format:"px",onchange:function(s12,I12){var n12=s12.gevent;b92._emitChange(N02({},l02.currentPaint.method,{enabled:true,padding:I12.value}),{$at:s12.element.parentNode,gevent:n12});}});}function Q92(c12,T12){Number.isFinite(T12.lineWidth)&&B02.appendRange(c12,{label:"lineWidth",param:"lineWidth",title:"lineWidth",value:T12.lineWidth,min:.01,max:50,format:"px",onchange:function(M12,O12){var o12=M12.gevent;b92._emitChange(N02({},l02.currentPaint.method,{enabled:true,lineWidth:O12.value}),{$at:M12.element.parentNode,gevent:o12});}});}function m92(H12,y12){var g12=y12.method,h12=g12+"-indicator";return d02.create((y12.enabled?'\n\t\t\t<style-trigger class="sk-enabled ':'\n\t\t\t<style-trigger class=" ')+g12+'-trigger">\n\t\t\t\t'+("eraser"!==H12.type?'<span class="icon-arrow-down"></span>':"")+'\n\t\t\t\t<paint-block class="'+h12+'"><canvas></canvas></paint-block>\n\t\t\t\t<paint-icon class="'+h12+'"></paint-icon>\n\t\t\t</style-trigger>\n\t\t');}b92.appendTrigger=function(S12){function K12(){var t12=b92._popout;return t12&&t12.opened;}function b12(N12){var C12=b92._popout;return C12&&C12.destroy&&C12.destroy.pending?P02.equals(N12,l02.currentPaint):false;}var q12=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},E12=q12.layer,j12=q12.onClick,J12=q12.onOpen,u12=q12.title,Z12=q12.paint;if(null==Z12){return console.error("createTrigger() - `paint` is required."),{};}l02.currentPaint=P02.create(Z12);q12=function(f12,l12){var B12=m92(l12,f12);if("eraser"===l12.type){return B12;}sketch.emit("tooltip:attach",B12,function(){var Q12=b92._popout;if(!Q12||!Q12.$element){return M32("fill"===f12.method?"set-fill":"set-stroke");}},{stickToEdge:true});Gesture.click(B12,function(){sketch.emit("tooltip:hide");if(!b12(f12)){if(K12()&&(b92._popout.destroy(),f12.method===l02.currentPaint.method)){return;}f12=b92._setCurrentPaint(f12);j12&&j12(f12)||(b92._renderElement.at=B12,b92._renderElement(f12,l12).then(function(){J12&&J12(f12);}));}});return B12;}(Z12,E12);u12=B02.appendLabel(S12,u12);u12.appendChild(q12);u12.classList.add("sk-label-style");q32.call(b92,q12,Z12,E12);b92.renderIndicator(q12.querySelector("paint-block"),Z12);E12={$trigger:q12,setValue:function(z12){Z12=z12.clone();b92.setIndicator();}};B02.elements.push({type:"StyleTrigger",param:Z12.method,controller:E12});return E12;};b92.appendTo=function(d12,X12,D12){function W12(){var U12=m92(X12,D12);U12.classList.add("canOnlyEditOpacity");q32.call(b92,U12,D12,X12);var G12=B02.appendLabel(d12,"fill");G12.appendChild(U12);G12.classList.add("sk-label-style");}if(D12&&!X12.useBackgroundOverlay){b92._renderElement.at=null;l02.currentPaint=D12;if(b92.$element){return W12(),d12.appendChild(b92.$element),b92._renderElement(D12);}W12();appendStructure.call(b92,d02.append(d12,"ui-palette"));appendColorPicker.call(b92);return b92._renderElement(D12);}};b92._renderElement=function(e12,F12){e12||(e12=l02.currentPaint);F12||(F12=b92._getCurrentLayer());return b92._renderElement.at?l92(F12,e12):N92(F12,e12);};}(C02));(function(p12){function V12(P12,L12){function k12(){P12.timer&&(P12.timer.destroy(),P12.timer=null);}if(P12){var v12=P12.querySelector("canvas");if(v12){var R12=L12.hashify().toString(16),a12=P12.dataset;if(a12.paintHash!==R12){a12.paintHash=R12;k12();(R12=P12.parentNode.querySelector("style-trigger-droplet"))&&R12._refreshUI();var x12=L12.hashify();P12._paintHash=x12;var w12=L12.opacity,i12=void 0;L12=L12.clone();L12.opacity=1;A02.loadOrCreate(L12,{onProgress:function(Y12){i12?i12.progress=Y12:i12=P12.timer=new r32.Timer({parentNode:P12,format:"percent",progress:Y12,size:50});}}).then(function(){if(P12._paintHash===x12){var r42=sketch.doc.pixelRatio,I42=v12.offsetWidth*r42,r42=v12.offsetHeight*r42,s42=v12.ctx||(v12.ctx=v12.getContext("2d"));v12.width=I42;v12.height=r42;v12.style.opacity=w12;var n42=new sketch.LayerBBox({width:I42,height:r42}),A12;a:{if("stroke"===L12.method){switch(A12=sketch.doc,A12=A12.selection.layer||A12.tool.config,A12.brushRenderer||A12.type){case"eraser":n42.scale={x:2.5,y:2.5};A12="transparent";break a;}}A12=r32.media.get("transparent").css;}P12.style.background!==A12&&(P12.style.background=A12,P12.style.backgroundSize="30px");s42.save();s42.translate(n42.x,n42.y);s42.rect(0,0,I42,r42);A02.applyFill(s42,L12,{bbox:n42},{opacity:1});s42.restore();}}).finally(function(){k12();});}}}}p12.renderIndicator=V12;p12.setIndicator=H32.throttle(function(){var T42=p12._getCurrentLayer(),c42=T42.background||G02.background,M42=T42.fill||G02.fill,T42=T42.stroke||G02.stroke;V12(document.querySelector("paint-block.background-indicator"),c42);V12(document.querySelector("paint-block.fill-indicator"),M42);V12(document.querySelector("paint-block.stroke-indicator"),T42);p12._selectPaint();},15);}(C02));C02._emitChange=function(O42){var g42=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o42=Object.keys(O42);1===o42.length&&(o42=o42[0],0===m02[o42].opacity&&(o42=O42[o42],null==o42.opacity&&(o42.opacity=1)));C02.emit("change",O42,g42);C02.setIndicator();C02._setAsCurrent();p02.renderPreviewOverlay(g42);};C02.show=function(){function H42(){var u42=m02.currentPaint;C02.appendTrigger(C02.$element,{title:u42.method,layer:Z42,paint:u42});return U02.show({element:C02.$element,autoclose:E42,at:q42});}var h42=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};C02._ensurePaletteExists();var q42=h42.at,y42=h42.paint,Z42=h42.configure||C02._getCurrentLayer(),E42=h42.autoclose;return y42?C02.setPaint(y42).then(H42):H42();};C02.hide=function(){return U02.hide("ui-palette");};C02.toggle=function(j42){return U02.isOpen("ui-palette")?C02.hide():C02.show(j42);};C02._ensurePaletteExists=function(){C02.$element||(E32.call(C02,f02.create("ui-palette")),S32.call(C02));};C02.setPaint=function(J42){return R02.loadOrCreate(J42).then(function(K42){K42=K42.clone();m02.currentPaint=K42;var b42=Z32.palette.header,S42=C02.$title;S42&&(f02.empty(S42),"function"===typeof b42?f02.append(S42,b42(m02.currentPaint,C02._getCurrentLayer())):f02.append(S42,b42));j32.call(C02,K42);C02._setAsCurrent();C02.setIndicator();});};C02._setCurrentPaint=function(C42){var t42=m02.currentPaint,N42=C42.type||t42.type,f42=C42[N42],t42=m02[C42.method||t42.method];t42.type===C42.type&&"gradient"===C42.type?t42[N42].stops=F02.copy(f42.stops):t42[N42]=R02.copyPaintServer(f42);t42.type=N42;return m02.currentPaint=t42;};C02._deselect=function(){var B42=C02.$scroller.querySelectorAll("."+(0<arguments.length&&void 0!==arguments[0]?arguments[0]:m02.currentPaint.type)+".selected");f02.removeClass(B42,"selected");};C02._selectElement=function(l42,Q42){(l42=f02.$(l42))&&f02.addClass(l42,"selected",Q42);};C02._selectPaint=function(){var z42=C02.$scroller;if(z42){z42=z42.querySelectorAll("grid-item");f02.removeClass(z42,"selected");var z42=m02.currentPaint,D42=z42[z42.type];z42="gradient"===z42.type?F02.md5(JSON.stringify(D42.stops)):"pattern"===z42.type?(z42=sketch.resources.get(D42.src))?z42.key:void 0:F02.md5(JSON.stringify(D42));(z42=f02.$("[data-key='"+z42+"']"))&&f02.addClass(z42,"selected");}};C02._setAsCurrent=function(){var d42=m02.currentPaint;"color"===d42.type&&(p02.colorpicker.update?p02.colorpicker.update(d42.color):C02._selectPaint());};C02._getCurrentLayer=function(){return sketch.doc.toolkit.getCurrentConfig();};}();void function(){var X42=function(W42,U42,G42){U42 in W42?Object.defineProperty(W42,U42,{value:G42,enumerable:true,configurable:true,writable:true}):W42[U42]=G42;return W42;};sketch.module.UISidebar=function(L42){function V42(A42){var Y42=arguments;return new Promise(function(T72,r72){var s72,n72,I72,c72;s72=(1<Y42.length&&void 0!==Y42[1]?Y42[1]:{}).immediately;n72=(void 0===s72?0:s72)?0:350;I72=e42.direction;c72="right"===I72?-1:1;return x42?Velocity(F42,"stop").then(function(M72){try{return Velocity(F42,{translateZ:0,translateX:A42*c72+"px"},{duration:n72}).then(function(o72){try{return T72();}catch(O72){return r72(O72);}}.bind(this),r72);}catch(g72){return r72(g72);}}.bind(this),r72):Velocity(F42,"stop").then(function(h72){try{return Velocity(F42,X42({},I72,A42+"px"),{duration:n72}).then(function(y72){try{return T72();}catch(H72){return r72(H72);}}.bind(this),r72);}catch(q72){return r72(q72);}}.bind(this),r72);}.bind(this));}var a42=sketch.dom,e42=Galactic.emitter(this),P42=sketch.util,v42=P42.debounce;e42.isOpen=null;e42.isDisabled=true;var p42="sk-sidebar-"+L42,R42=document.documentElement,F42=a42.$("."+p42);if(F42&&F42.parentNode){var x42=!!P42.prefixCSS("transform"),k42="sk-sidebar-active-"+L42;e42.direction=L42;var w42=v42(function(){return new Promise(function(E72,Z72){e42.isOpen=true;e42.emit("open:start");return V42(0).then(function(u72){try{return e42.emit("open"),E72();}catch(j72){return Z72(j72);}}.bind(this),Z72);}.bind(this));},{wait:1,leading:true,trailing:false});e42.open=function(){return new Promise(function(J72,S72){return e42.isDisabled?J72(Promise.reject()):e42.isOpen?J72(Promise.resolve()):J72(w42());}.bind(this));};var i42=v42(function(){return new Promise(function(b72,K72){e42.isOpen=false;e42.emit("close:start");return V42(-F42.offsetWidth).then(function(t72){try{return R42.classList.remove(k42),e42.emit("close"),b72();}catch(C72){return K72(C72);}}.bind(this),K72);}.bind(this));},{wait:1,leading:true,trailing:false});e42.close=function(){return new Promise(function(N72,f72){return e42.isDisabled?N72(Promise.reject()):false===e42.isOpen?N72(Promise.resolve()):N72(i42());}.bind(this));};e42.toggle=function(){e42.isOpen?e42.close():e42.open();};e42.disable=function(){e42.isDisabled=true;};e42.enable=function(){e42.isDisabled=false;};R42.classList.add("sk-sidebar-ready");e42.enable();sketch.on("lang",function(){e42.direction=sketch.lang.rtl?"right":"left";V42(e42.isOpen?0:-F42.offsetWidth,{immediately:true});});}else{console.error(p42+" does not exist");}};}();void function(){function m72(R72,k72){var x72=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!G72.mobile&&R72&&k72){var L72=R72;R72="string"===typeof L72?document.querySelector(L72):L72;var L72=R72._tooltip={},i72;i72=R72;var a72={};a72.mouseout=Gesture.attach(i72,"mouseout",P72);a72.mouseover=Gesture.attach(i72,"mouseover",v72);i72=JSEvent.Group(a72);L72.attached=i72;L72.clickable=!!x72.clickable;L72.content=k72;L72.element=R72;L72.stickToEdge=x72.stickToEdge;return L72;}}function V72(Y72,w72){"function"===typeof Y72&&(Y72=Y72(w72));if(Y72&&(Y72.nodeName||"string"===typeof Y72)){if(l72&&Y72===B72.content){X72(w72);}else{w72=B72.element;if(!w72){w72=B72.element=document.createElement("ui-tooltip");B72.attached.move=Gesture.on(document,["mousedown","mousemove"],p72,true);B72.attached.cancel=Gesture.on(w72,"mousedown",Gesture.cancel);var A72=w72.style;A72.opacity=0;A72.width="auto";document.body.appendChild(w72);window.event&&(z72=true,B72.width=w72.offsetWidth,B72.height=w72.offsetHeight,p72(window.event));w72=B72.element=w72;}B72.content=Y72;"string"===typeof Y72?w72.innerHTML=Y72:(w72.innerHTML="",w72.appendChild(Y72));l72?w72.style.opacity=1:(l72=true,W72());D72=window.getComputedStyle(w72).direction||"ltr";B72.width=w72.offsetWidth;B72.height=w72.offsetHeight;return w72;}}else{m72.hide();}}function X72(n62){var s62=B72.state;if(s62){var r62=s62.stickToEdge;if(null==r62){n62&&(s62=Gesture.asPageXY(n62),Q72(s62,false));}else{if("string"===typeof r62){if(!n62){return;}n62=Gesture.asPageXY(n62);switch(r62){case"top":Q72({x:n62.x},true,true);return;case"left":Q72({y:n62.y},true,true);return;}}if(Number.isFinite(r62.x+r62.y)){Q72(r62,false);}else{var r62=s62.offset,I62=void 0===r62?{}:r62,r62=s62.stickToEdge;n62=s62.disableTransition;var T62=s62.element.getBoundingClientRect(),s62=T62.width,c62=T62.top+T62.height/2+(I62.y||0),I62=T62.left+(I62.x||0);"ltr"===D72&&(I62+=s62);Q72({x:I62,y:c62,width:s62},r62,n62);}}}}function W72(){var M62=B72.element.style;M62.display="block";clearTimeout(U72.animate);z72=true;W72.animate=setTimeout(function(){M62.opacity=1;},0);}function U72(){var o62=B72.element.style;o62.transition="opacity 150ms";o62.opacity=0;clearTimeout(W72.animate);U72.animate=setTimeout(function(){o62.display="none";z72=false;},200);}function v72(g62){Gesture.stop(g62);var O62=this._tooltip;O62&&m72.show(Object.assign({originalEvent:g62},O62));}function P72(h62){var y62=this,H62=Gesture.asClientXY(h62);e72.elementFromPoint(H62,function(q62){return q62===y62;})||(Gesture.stop(h62),m72.hide());}function p72(E62){var Z62=B72.state;Z62&&z72&&(Z62=Z62.content,"function"===typeof Z62&&V72(Z62,E62),X72(E62));}function Q72(S62,J62,b62){S62=Object.assign(B72.point,S62);var j62=B72.element;if(j62){var K62=j62.style;K62.transition=b62||!J62?"opacity 150ms":"opacity 150ms, transform 150ms";var t62=S62.x;b62=Math.max(0,S62.y-B72.height/2);var u62=window.innerWidth+window.pageXOffset,f62=Math.max(0,B72.height-(window.innerHeight+window.pageYOffset-b62)),C62="rtl"===D72,N62=B72.width+5+15;(u62=C62?Math.max(0,t62-N62):Math.max(0,N62-(u62-t62)))?(u62=B72.width+5,j62.classList.remove("right"),J62?C62||(u62+=S62.width):u62+=15):(u62=-5,j62.classList.add("right"),J62?C62&&(u62-=S62.width):u62-=15);J62=Math.round(t62-u62);j62=Math.round(b62-f62);150<Math.sqrt(Math.pow(B72.x-J62,2)+Math.pow(B72.y-j62,2))&&(K62.transition="none");K62.transform="translate("+J62+"px, "+j62+"px)";B72.x=J62;B72.y=j62;B72.point=S62;}}var e72=sketch.dom,G72=sketch.agent,F72=sketch.util.throttle,B72={x:0,y:0,attached:{},point:{}},D72=void 0,l72=false,z72=false;Object.defineProperty(m72,"enabled",{get:function(){return l72;}});m72.show=function(B62){var m62=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!G72.mobile){var z62=!!m62.clickable,l62=B62,Q62=m62.originalEvent;"[object Object]"===Object.prototype.toString.call(B62)?(B72.state=B62,z62=!!B62.clickable,l62=B62.content,Q62=B62.originalEvent):(B72.state=Object.assign({},B72.state,m62),B72.state.content=l62);d72.throttle.cancel();if(m62=V72(l62,Q62)){m62.classList.toggle("clickable",z62),X72(Q62);}}};m72.hide=function(){l72&&d72();};m72.destroy=function(){B72.element&&(Gesture.bulk(B72.attached,"detach"),B72.element.remove(),B72.element=null);};m72.ping=function(D62){l72&&m72.show(D62||B72.state);};var d72=F72(function(){l72=false;B72.state=null;U72();},250);sketch.ui.tooltip=m72;sketch.on("tooltip:attach",function(){m72.apply(void 0,arguments);});sketch.on("tooltip:show",function(){m72.show.apply(m72,arguments);});sketch.on("tooltip:hide",function(){m72.hide();});}();void function(){function d62(){for(var W62=[],X62=1;4>=X62;X62++){W62.push(sketch.loc.MEDIA+"ux/vortex/"+X62+".png");}return W62;}sketch.module.UIVortex=function(e62){var U62=this,G62=d62();U62.running={};U62.update=function(F62,p62){if(F62=U62.running[F62]){F62.$content.innerHTML=p62,F62.$content.style.display="block";}};U62.destroy=function(P62,v62){var V62=U62.running[P62];V62&&(delete U62.running[P62],setTimeout(function(){V62.$vortex.classList.add("animateOut");setTimeout(function(){e62.removeChild(V62.$vortex);},750);v62&&v62(P62);},0));};U62.create=function(R62){var a62=R62.id,x62=R62.point,i62=R62.message;if(null==a62){console.log("missing vortexId");}else{var L62=document.createElement("div");L62.style.display="none";L62.className="vortex vortex-"+a62;R62=document.createElement("span");R62.style.display=i62?"block":"none";R62.innerHTML=i62;L62.appendChild(R62);i62=document.createElement("img");i62.src=G62[Math.floor(Math.random()*(G62.length-1))];L62.appendChild(i62);e62.appendChild(L62);U62.running[a62]={$content:R62,$vortex:L62,time:Date.now()};setTimeout(function(){L62.classList.add("animateIn");var k62=L62.style;k62.display="block";k62.transform="translate("+(x62.x-L62.offsetWidth/2)+"px, "+(x62.y-L62.offsetHeight/2)+"px)";setTimeout(function(){L62.classList.add("animateRepeat");},750);},1);return a62;}};return U62;};}();void function(){sketch.module.ZoomControls=function(w62){function T8e(H8e,q8e,Z8e){H8e=s8e.append(c8e,'<div class="'+H8e+'"></div>');sketch.emit("tooltip:attach",H8e,function(){return O8e(q8e);},{stickToEdge:true});Gesture.on(H8e,"mousedown",function(E8e){Gesture.cancel(E8e);sketch.exec(Z8e);});}function o8e(){var u8e=w62.zoom;return 100<=u8e?Math.round(u8e)+"x":u8e.toPrecision(2)+"x";}function h8e(J8e){var j8e=I8e.offsetHeight;I8e.style.top=Math.min((A62.offsetHeight||150)-j8e,Math.max(0,J8e-j8e/2))+"px";}function y8e(b8e){var K8e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,S8e=n8e.zoom.max,S8e=Math.min(S8e,Math.pow(2,(1-b8e/(A62.offsetHeight||150))*(2+Math.log(S8e)/Math.log(2))-2));K8e&&(S8e*=100,S8e=(S8e-S8e%K8e)/100);return S8e;}function g8e(){return(1-(2+Math.log(0<arguments.length&&void 0!==arguments[0]?arguments[0]:w62.zoom)/Math.log(2))/(2+Math.log(n8e.zoom.max)/Math.log(2)))*(A62.offsetHeight||150);}var s8e=sketch.dom,r8e=sketch.ui,n8e=w62.orient,O8e=sketch.lang.translate,A62={offsetHeight:150};w62.on("zoom",function(t8e){h8e(g8e(t8e));A62.title=o8e();});var c8e=s8e.append(w62.$document,"<ui-orientation></ui-orientation>");Gesture.on(c8e,["mousedown","dblclick"],Gesture.stop);T8e("icon-add","zoom-in","zoomIn");var M8e=s8e.append(c8e,'\n\t\t<div class="controller">\n\t\t\t<div>\n\t\t\t\t<span style="top: '+g8e()+'px"></span>\n\t\t\t</div>\n\t\t</div>\n\t'),I8e=M8e.querySelector("span"),Y62=void 0;r8e.tooltip&&(Y62=r8e.tooltip(M8e,o8e,{element:I8e,stickToEdge:true}));Gesture.drag(M8e,function(C8e){C8e.cancel();C8e.START&&n8e.setOriginToViewportCenter();w62.tools.zoom&&(w62.tools.zoom.gevent=C8e,w62.tools.zoom.isRemoteControl=true);var N8e=C8e.y;h8e(N8e);w62.setZoom(y8e(N8e,1));A62.title=o8e();r8e.tooltip&&(C8e.END?Y62.stickToEdge=true:C8e.START&&(Y62.stickToEdge="left",Y62.originalEvent=C8e.originalEvent,r8e.tooltip.ping(Y62)));});T8e("icon-minus","zoom-out","zoomOut");T8e("icon-ex","zoom-to-default","zoomReset");T8e("icon-frame","zoom-to-fit","zoomToFit");};}();void function(){global.sketchOnReady?global.sketchOnReady(sketch):Object.defineProperty(global,"sketchOnReady",{set:function(f8e){f8e instanceof Function?f8e():Object.defineProperty(global,"sketchOnReady",{value:f8e});}});}();}());;sketch.version='5.1.316';
